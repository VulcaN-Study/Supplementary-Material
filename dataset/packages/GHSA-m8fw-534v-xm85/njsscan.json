{
  "errors": [
    {
      "data": {
        "check_id": "LexicalError",
        "end": {
          "col": 48,
          "line": 16
        },
        "extra": {
          "line": "- (download) download files with \"#\" in name (#80)",
          "message": "Lexical error: unrecognised symbol, in token rule:#"
        },
        "path": "/src/ChangeLog",
        "start": {
          "col": 47,
          "line": 16
        }
      },
      "message": "SemgrepCoreRuntimeErrors"
    },
    {
      "data": {
        "check_id": "LexicalError",
        "end": {
          "col": 52,
          "line": 3
        },
        "extra": {
          "line": "Copyright (c) 2012-2018 Coderaiser <mnemonic.enemy@gmail.com>",
          "message": "Lexical error: unrecognised symbol, in token rule:@"
        },
        "path": "/src/LICENSE",
        "start": {
          "col": 51,
          "line": 3
        }
      },
      "message": "SemgrepCoreRuntimeErrors"
    },
    {
      "data": {
        "check_id": "ParseError",
        "end": {
          "col": 11,
          "line": 1
        },
        "extra": {
          "line": "2016.03.01, v1.0.2",
          "message": "Syntax error"
        },
        "path": "/src/modules/menu/ChangeLog",
        "start": {
          "col": 8,
          "line": 1
        }
      },
      "message": "SemgrepCoreRuntimeErrors"
    },
    {
      "data": {
        "check_id": "LexicalError",
        "end": {
          "col": 52,
          "line": 3
        },
        "extra": {
          "line": "Copyright (c) 2014-2015 Coderaiser <mnemonic.enemy@gmail.com>",
          "message": "Lexical error: unrecognised symbol, in token rule:@"
        },
        "path": "/src/modules/menu/LICENSE",
        "start": {
          "col": 51,
          "line": 3
        }
      },
      "message": "SemgrepCoreRuntimeErrors"
    },
    {
      "data": {
        "check_id": "LexicalError",
        "end": {
          "col": 34,
          "line": 10
        },
        "extra": {
          "line": "- (smalltalk) prompt: password (#8)",
          "message": "Lexical error: unrecognised symbol, in token rule:#"
        },
        "path": "/src/modules/smalltalk/ChangeLog",
        "start": {
          "col": 33,
          "line": 10
        }
      },
      "message": "SemgrepCoreRuntimeErrors"
    },
    {
      "data": {
        "check_id": "ParseError",
        "end": {
          "col": 8,
          "line": 1
        },
        "extra": {
          "line": "The MIT License (MIT)",
          "message": "Syntax error"
        },
        "path": "/src/modules/smalltalk/LICENSE",
        "start": {
          "col": 5,
          "line": 1
        }
      },
      "message": "SemgrepCoreRuntimeErrors"
    }
  ],
  "nodejs": {
    "node_insecure_random_generator": {
      "files": [
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            46285,
            46296
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            8,
            8
          ],
          "match_position": [
            1445,
            1456
          ],
          "match_string": " */var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),d=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):d?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:h()}catch(t){return h()}}():h();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(77),r(23))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        }
      ],
      "metadata": {
        "cwe": "CWE-327: Use of a Broken or Risky Cryptographic Algorithm",
        "description": "crypto.pseudoRandomBytes()/Math.random() is a cryptographically weak random number generator.",
        "owasp": "A9: Using Components with Known Vulnerabilities",
        "severity": "WARNING"
      }
    },
    "regex_dos": {
      "files": [
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            9815,
            9823
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            9827,
            9835
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            10342,
            10362
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            25031,
            25042
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            25046,
            25066
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/cloudcmd.js",
          "match_lines": [
            528,
            528
          ],
          "match_position": [
            25070,
            25088
          ],
          "match_string": "}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(h){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function h(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){\"use strict\";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(d),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h=\"config|modules\",d=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(d+\"|\"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote(\"jquery\",{name:\"$\"},t),d},this.loadSocket=function(t){return d.loadRemote(\"socket\",{name:\"io\"},t),d},this.loadMenu=function(t){return d.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i=\"\";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config(\"name\");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||(\"/\"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag(\"title\")[0]||d.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName(\"js-type\",r),o=d.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return\"\";var r=d.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=d.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=d.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute(\"data-name\");g[o]=r,o=(t=e).getAttribute(\"data-name\");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),d()})})}}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){\"use strict\";var n=r(47)([function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),n(t,e)||[]}},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get(\"modules\",function(e,s){var l=h(\"online\")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case\"file\":d=function(t,e){return a.load.put(t,e)}(h,r);break;case\"directory\":f=h,d=a.load.put(f+\"?dir\")}d.on(\"end\",u),d.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){\"use strict\";function t(t){return\"function\"==typeof t}var n=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s=\"undefined\"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f=\"undefined\"==typeof self&&void 0!==e&&\"[object process]\"==={}.toString.call(e),h=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&\"object\"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(\"\"),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function(\"return this\")().require(\"vertx\");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError(\"You cannot resolve a promise with itself\")):(n=typeof(r=e),null===r||\"object\"!==n&&\"function\"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError(\"A promises callback cannot return that same promise.\"))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error(\"Array Methods must be provided an Array\"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if(\"string\"!=typeof t)throw Error(\"event should be string!\")}function i(t,e){o(t),function(t){if(\"function\"!=typeof t)throw Error(\"callback should be function!\")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&\"error\"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            9811,
            9819
          ],
          "match_string": "(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(d){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function d(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){\"use strict\";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(h),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d=\"config|modules\",h=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(h+\"|\"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote(\"jquery\",{name:\"$\"},t),h},this.loadSocket=function(t){return h.loadRemote(\"socket\",{name:\"io\"},t),h},this.loadMenu=function(t){return h.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o=\"\";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config(\"name\");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u=\"/\"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit(\"current-file\",t),CloudCmd.emit(\"current-path\",i),CloudCmd.emit(\"current-name\",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag(\"title\")[0]||h.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName(\"js-type\",r),o=h.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return\"\";var r=h.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=h.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=h.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit(\"passive-dir\",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute(\"data-name\");g[a]=o,a=(e=n).getAttribute(\"data-name\");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit(\"active-dir\",t.dirPath),h},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),h()})})}}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){\"use strict\";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){\"use strict\";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get(\"modules\",function(e,s){var l=d(\"online\")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case\"file\":h=function(t,e){return a.load.put(t,e)}(d,r);break;case\"directory\":f=d,h=a.load.put(f+\"?dir\")}h.on(\"end\",u),h.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            9823,
            9831
          ],
          "match_string": "(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(d){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function d(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){\"use strict\";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(h),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d=\"config|modules\",h=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(h+\"|\"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote(\"jquery\",{name:\"$\"},t),h},this.loadSocket=function(t){return h.loadRemote(\"socket\",{name:\"io\"},t),h},this.loadMenu=function(t){return h.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o=\"\";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config(\"name\");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u=\"/\"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit(\"current-file\",t),CloudCmd.emit(\"current-path\",i),CloudCmd.emit(\"current-name\",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag(\"title\")[0]||h.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName(\"js-type\",r),o=h.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return\"\";var r=h.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=h.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=h.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit(\"passive-dir\",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute(\"data-name\");g[a]=o,a=(e=n).getAttribute(\"data-name\");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit(\"active-dir\",t.dirPath),h},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),h()})})}}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){\"use strict\";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){\"use strict\";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get(\"modules\",function(e,s){var l=d(\"online\")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case\"file\":h=function(t,e){return a.load.put(t,e)}(d,r);break;case\"directory\":f=d,h=a.load.put(f+\"?dir\")}h.on(\"end\",u),h.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            10338,
            10358
          ],
          "match_string": "(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(d){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function d(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){\"use strict\";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(h),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d=\"config|modules\",h=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(h+\"|\"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote(\"jquery\",{name:\"$\"},t),h},this.loadSocket=function(t){return h.loadRemote(\"socket\",{name:\"io\"},t),h},this.loadMenu=function(t){return h.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o=\"\";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config(\"name\");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u=\"/\"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit(\"current-file\",t),CloudCmd.emit(\"current-path\",i),CloudCmd.emit(\"current-name\",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag(\"title\")[0]||h.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName(\"js-type\",r),o=h.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return\"\";var r=h.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=h.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=h.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit(\"passive-dir\",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute(\"data-name\");g[a]=o,a=(e=n).getAttribute(\"data-name\");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit(\"active-dir\",t.dirPath),h},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),h()})})}}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){\"use strict\";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){\"use strict\";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get(\"modules\",function(e,s){var l=d(\"online\")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case\"file\":h=function(t,e){return a.load.put(t,e)}(d,r);break;case\"directory\":f=d,h=a.load.put(f+\"?dir\")}h.on(\"end\",u),h.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            25185,
            25196
          ],
          "match_string": "(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(d){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function d(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){\"use strict\";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(h),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d=\"config|modules\",h=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(h+\"|\"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote(\"jquery\",{name:\"$\"},t),h},this.loadSocket=function(t){return h.loadRemote(\"socket\",{name:\"io\"},t),h},this.loadMenu=function(t){return h.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o=\"\";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config(\"name\");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u=\"/\"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit(\"current-file\",t),CloudCmd.emit(\"current-path\",i),CloudCmd.emit(\"current-name\",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag(\"title\")[0]||h.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName(\"js-type\",r),o=h.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return\"\";var r=h.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=h.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=h.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit(\"passive-dir\",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute(\"data-name\");g[a]=o,a=(e=n).getAttribute(\"data-name\");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit(\"active-dir\",t.dirPath),h},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),h()})})}}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){\"use strict\";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){\"use strict\";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get(\"modules\",function(e,s){var l=d(\"online\")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case\"file\":h=function(t,e){return a.load.put(t,e)}(d,r);break;case\"directory\":f=d,h=a.load.put(f+\"?dir\")}h.on(\"end\",u),h.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            25200,
            25220
          ],
          "match_string": "(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(d){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function d(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){\"use strict\";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(h),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d=\"config|modules\",h=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(h+\"|\"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote(\"jquery\",{name:\"$\"},t),h},this.loadSocket=function(t){return h.loadRemote(\"socket\",{name:\"io\"},t),h},this.loadMenu=function(t){return h.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o=\"\";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config(\"name\");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u=\"/\"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit(\"current-file\",t),CloudCmd.emit(\"current-path\",i),CloudCmd.emit(\"current-name\",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag(\"title\")[0]||h.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName(\"js-type\",r),o=h.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return\"\";var r=h.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=h.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=h.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit(\"passive-dir\",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute(\"data-name\");g[a]=o,a=(e=n).getAttribute(\"data-name\");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit(\"active-dir\",t.dirPath),h},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),h()})})}}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){\"use strict\";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){\"use strict\";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get(\"modules\",function(e,s){var l=d(\"online\")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case\"file\":h=function(t,e){return a.load.put(t,e)}(d,r);break;case\"directory\":f=d,h=a.load.put(f+\"?dir\")}h.on(\"end\",u),h.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){"
        },
        {
          "file_path": "/src/dist/cloudcmd.common.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            25224,
            25242
          ],
          "match_string": "(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){\"use strict\";function r(){var t=Array.prototype.slice,e=function(e){var r,n=\"function\"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a=\"could not be empty!\",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp(\"\\\\s([a-zA-Z]+)\"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error(\"funcs \"+a);if(!n)throw Error(\"callback \"+a);switch(d){case\"array\":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case\"object\":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,\"array\"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error(\"funcs should be array!\");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if(\"function\"!=typeof n)throw Error(\"callback should be function\");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}\"object\"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){\"use strict\";var n=t.exports,o=\"loading\"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)(\"http://www.w3.org/2000/svg\",\"animate\").toString();return/SVGAnimate/.test(e)}()?\"-svg\":\"-gif\");function i(){return DOM.load({name:\"span\",id:\"js-status-image\",className:\"icon\",attribute:\"data-progress\",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a=\"top\"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName(\"js-name\",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add(\"loading\",o),e.remove(\"error\",\"hidden\"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add(\"error\"),e.remove(\"hidden\",\"loading\",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute(\"data-progress\",t+\"%\"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute(\"data-progress\",\"\"),t.title=\"\",n):n}},function(t,e,r){\"use strict\";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t=\"file \"+e+\" could not be loaded\",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce(\"load\",b,function(){var t=i&&i.onload||i;s.remove(\"error\",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&(\"link\"!==c?b.src=e:(b.href=e,b.rel=\"stylesheet\")),m)switch(n(m)){case\"string\":b.setAttribute(m,\"\");break;case\"object\":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&\"script\"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(\":\")&&(t+=\"-join\");var e=t.lastIndexOf(\"/\")+1,r=t.substr(t,e);return t.replace(r,\"\").replace(/\\./g,\"-\")}}function d(t,e){switch(c(t)){case\".js\":return l.js(t,e);case\".css\":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s=\"arraybuffer\"===n(e.data),c=e.type||e.method||\"GET\",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader(\"content-type\");if(200!==r.status)return a(e.error,r);var i=\"text\"!==e.dataType,s=~n.indexOf(\"application/json\"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace(\"#\",\"%23\"),n.open(\"put\",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit(\"progress\",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit(\"end\");var t=Error(n.responseText);r.emit(\"error\",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:\"script\",src:t,func:e})},l.css=function(t,e){return l({name:\"link\",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?\"style\":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){\"use strict\";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:\"name\"===t&&\"asc\"===e?r:r+(\"asc\"===e?\"\u2191\":\"\u2193\")}),s=\"/fs\",c=i();function l(t,e,r){if(!t)throw Error(\"url could not be empty!\");if(!r)throw Error(\"template could not be empty!\");var o=t.split(\"/\").slice(1,-1),i=[\"/\"].concat(o),a=i.length-1,u=\"/\";return i.map(function(t,o){return o&&(u+=t+\"/\"),o&&o===a?t+\"/\":n(r,{path:u,name:t,slash:o?\"/\":\"\",prefix:e})}).join(\"\")}function f(t){var e=t.substr(t,t.lastIndexOf(\"/\")),r=e.substr(e,e.lastIndexOf(\"/\"));return r||\"/\"}c(\"/\"),t.exports.FS=s,t.exports.apiURL=\"/api/v1\",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||\"ok\",(e=e||\"\")&&(e='(\"'+e+'\")'),t+\": \"+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||\"Cloud Commander\",e].filter(Boolean).join(\" - \")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||\"name\",g=t.order||\"asc\",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b(\"name\"),w=b(\"size\"),x=b(\"date\"),E=n(o,{tag:\"div\",attribute:'data-name=\"js-fm-header\" ',className:\"fm-header\",type:\"\",name:C,size:w,date:x,owner:\"owner\",mode:\"mode\"});if(c(h),y+=E+'<ul data-name=\"js-files\" class=\"files\">',\"/\"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:\"..\",name:\"..\"});y+=n(r.file,{tag:\"li\",attribute:'draggable=\"true\" data-name=\"js-file-..\" ',className:\"\",type:\"directory\",name:P,size:\"&lt;dir&gt;\",date:\"--.--.----\",owner:\".\",mode:\"--- --- ---\"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return\"dir\"===t?\"directory\":\"text-file\"}(t.size),c=function(t){return\"dir\"===t?\"&lt;dir&gt;\":t}(t.size),l=t.date||\"--.--.----\",f=t.owner||\"root\",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return\"dir\"===t?\"\":'target=\"_blank\" '}(t.size)}),v='data-name=\"js-file-'+t.name+'\" ';return n(o,{tag:\"li\",attribute:'draggable=\"true\" '+v,className:\"\",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(\"\"),y+=\"</ul>\"}},function(t,e,r){\"use strict\";var n=r(0);function o(t){if(!t)throw Error(\"str could not be empty!\");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error(\"str could not be empty!\");return t.split(\"-\").map(o).join(\"\").replace(/.js$/,\"\")},t.exports.escapeRegExp=function(t){return\"string\"==typeof t&&(t=t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")),t},t.exports.getRegExp=function(t){var e=\"^\"+(t=t||\"*\").replace(\".\",\"\\\\.\").replace(\"*\",\".*\").replace(\"?\",\".?\")+\"$\";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!(\"string\"==typeof t))return\"\";var e=t.lastIndexOf(\".\");return~e?t.substr(e):\"\"},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error(\"array should be array!\");if(\"string\"!=typeof e)throw Error(\"name should be string!\");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,\"time\",[t])},t.exports.timeEnd=function(t){n.ifExist(console,\"timeEnd\",[t])}},function(t,e,r){\"use strict\";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d=\"config|modules\",h=\"file|path|link|pathLink|media\",p=\"view/media-tmpl|config-tmpl|upload\",v=\"/tmpl/\",g=v+\"fs/\",m=\"/json/\",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error(\"name could not be empty!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function\")}(t,e),r){case\"string\":!function(t,e){var r=new RegExp(h+\"|\"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?\"config\"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace(\"-tmpl\",\"\"):g+t,n+=\".hbs\"):r&&(n=m+t+\".json\");return n}(t,o,i),e):function(t){throw new Error(\"Wrong file name: \"+t)}(t)}(t,e);break;case\"array\":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error(\"unknown eventName: \"+u);r(a[1],a[0],n,i);break;case\"string\":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case\"array\":t.forEach(function(t){r(t,e,n,i)});break;case\"object\":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error(\"type could not be empty!\")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"keydown\"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"click\"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"contextmenu\"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"error\"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=[\"load\"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c=\"current-file\",v=\"Cloud Commander\",g={\"js-left\":null,\"js-right\":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i=\"New \"+t||\"File\",a=function(){var t=n.getCurrentName();return\"..\"===t?\"\":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote(\"jquery\",{name:\"$\"},t),h},this.loadSocket=function(t){return h.loadRemote(\"socket\",{name:\"io\"},t),h},this.loadMenu=function(t){return h.loadRemote(\"menu\",t)},this.promptNewDir=function(){w(\"directory\",\"?dir\")},this.promptNewFile=function(){w(\"file\")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\\/$/,\"\"),e=t.substr(t,t.lastIndexOf(\"/\")),r=t.replace(e+\"/\",\"\")||\"/\";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName(\"js-path\",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+\"/\";return\"/\"!==e?e.replace(RegExp(r+\"$\"),\"\"):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n=\"js-file-\"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll(\"selected-file\",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||\"..\"===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-date\",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName(\"js-size\",e).textContent.replace(/^<|>$/g,\"\");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),\"..\"!==name&&m.read(n+\"?size\",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?hash\",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+\"?time\",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName(\"js-size\",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-mode\",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName(\"js-owner\",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return\"..\"===o.name?(n.alert.noFiles(v),t(Error(\"No files selected!\"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName(\"js-refresh\",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o=\"\";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config(\"name\");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u=\"/\"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit(\"current-file\",t),CloudCmd.emit(\"current-path\",i),CloudCmd.emit(\"current-name\",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?\"A\"===e?t.parentElement.parentElement:\"SPAN\"===e?t.parentElement:t:null}(n);return o&&\"LI\"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add(\"selected-file\"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove(\"selected-file\"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return\"..\"===r?n:(e.classList.toggle(\"selected-file\"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=\"..\"===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C(\"expand\",t)},this.shrinkSelection=function(){var t=r.files;C(\"shrink\",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag(\"title\")[0]||h.load({name:\"title\",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,\"selected-file\")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName(\"js-type\",r),o=h.isContainClass(n,\"directory\");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag(\"a\",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag(\"a\",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute(\"href\").replace(RegExp(\"^\"+n+f),\"\");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return\"\";var r=h.getCurrentLink(e);if(!r)return\"\";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error(\"AllFiles could not be empty\");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));\"..\"===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute(\"data-name\",\"js-file-\"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+\"-hash\",i=a.with(y.get,o);if(\"string\"!=typeof t)throw Error(\"name should be a string!\");if(\"function\"!=typeof e)throw Error(\"callback should be a function!\");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir(),u=t+\"-hash\",s=t+\"-data\";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+\"-hash\",n=t+\"-data\",o=CloudCmd.config(\"localStorage\"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace(\"js-\",\"\")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o=\"js-\",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n=\"js-left\"===r.getAttribute(\"data-name\")):r=h.getByDataName(\"js-left\"),t&&!t.active&&(o+=n?\"right\":\"left\",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName(\"js-left\")),!r)throw Error(\"can not find Active Panel!\");return r},this.getFiles=function(t){var e=h.getByDataName(\"js-files\",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&\"..\"!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(\"..\"===r)return e.alert.noFiles(v);e.prompt(v,\"Rename\",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit(\"passive-dir\",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute(\"data-name\");g[a]=o,a=(e=n).getAttribute(\"data-name\");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit(\"active-dir\",t.dirPath),h},this.getPackerExt=function(t){return\"zip\"===t?\".zip\":\".tar.gz\"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,\"Go to directory:\",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace(\"js-\",\"\"),e.isOnePanel=e.panel.getAttribute(\"data-name\")===e.panelPassive.getAttribute(\"data-name\")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){\"use strict\";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace(\"#\",\"%23\"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"DELETE\",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:\"PATCH\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:\"PUT\",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\\?/.test(e),u=/\\?beautify$/.test(e),s=/\\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r=\"text\"),t({method:\"GET\",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:\"PUT\",url:\"/cp\",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:\"PUT\",url:\"/pack\",data:e,callback:r})},this.extract=function(e,r){t({method:\"PUT\",url:\"/extract\",data:e,callback:r})},this.mv=function(e,r){t({method:\"PUT\",url:\"/mv\",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:\"GET\",url:\"/config\",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:\"PATCH\",url:\"/config\",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:\"GET\",url:\"/markdown\"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:\"PUT\",url:\"/markdown\",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){\"use strict\";function r(t,e){var r=t;return function(t,e){if(\"string\"!=typeof t)throw Error(\"template should be string!\");if(\"object\"!=typeof e)throw Error(\"data should be object!\")}(t,e),Object.keys(e).forEach(function(t){for(var n=\"{{ \"+t+\" }}\",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf(\"{{\")&&(r=r.replace(/{{.*?}}/g,\"\")),r}\"object\"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp(\"^\"+e+\".*$\");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){\"use strict\";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on(\"end\",n).on(\"progress\",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load(\"top\"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){\"use strict\";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e=\"cut-file\",r=\"copy\",u=\"cut\",s=\"Buffer\";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config(\"buffer\");if(e)return t();c(\"Buffer disabled in config!\")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?\"copy\":\"move\",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e=\"Buffer is empty!\"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c(\"Path is same!\");u.show(i,l),h()})})}}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){\"use strict\";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){\"use strict\";function r(){this.addSlashToEnd=function(t){return t&&(\"/\"===t[t.length-1]||(t+=\"/\")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return\"number\"==typeof t&&(t<1024?t+=\"b\":t=t<1048576?(t/1024).toFixed(2)+\"kb\":t<e?(t/1048576).toFixed(2)+\"mb\":t<r?(t/e).toFixed(2)+\"gb\":t<n?(t/r).toFixed(2)+\"tb\":(t/n).toFixed(2)+\"pb\"),t},this.permissions={symbolic:function(t){var e,r,n,o=\"\",i=\"\";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:\"-\";break;case 2:\"c\";break;case 4:\"d\";break;default:\"-\"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?\"r\":\"-\")+(e[1]-0>0?\"w\":\"-\")+(e[2]-0>0?\"x\":\"-\")+\" \"+(r[0]-0>0?\"r\":\"-\")+(r[1]-0>0?\"w\":\"-\")+(r[2]-0>0?\"x\":\"-\")+\" \"+(n[0]-0>0?\"r\":\"-\")+(n[1]-0>0?\"w\":\"-\")+(n[2]-0>0?\"x\":\"-\")}return i},numeric:function(t){return t&&11===t.length&&(t=\"00\"+((\"r\"===t[0]?4:0)+(\"w\"===t[1]?2:0)+(\"x\"===t[2]?1:0))+((\"r\"===t[4]?4:0)+(\"w\"===t[5]?2:0)+(\"x\"===t[6]?1:0))+((\"r\"===t[8]?4:0)+(\"w\"===t[9]?2:0)+(\"x\"===t[10]?1:0))),t}}}\"object\"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){\"use strict\";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?\"undefined\":n(t)}function u(t,e){return t!==e}function s(t){throw Error(\"fn should be \"+t+\"!\")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}(\"function\",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if(\"function\"!=typeof t)throw Error(\"condition should be function!\");if(!Array.isArray(e))throw Error(\"filters should be an array!\");!function(t,e){var r=a(function(t){throw Error(\"fn should be \"+t+\"!\")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?\"undefined\":n(t)}).filter(o).forEach(r)}(\"function\",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){\"use strict\";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split(\"\").join(\".*\")+\".*\",n=RegExp(\"^\"+r+\"$\",\"i\"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if(\"string\"!=typeof t)throw Error(\"pattern should be string!\");if(!Array.isArray(e))throw Error(\"list should be an array!\")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){\"use strict\";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){\"use strict\";var n=r.window?window:e,o=\"/join\";function i(t,e){if(e||(e=t,t=o),!e)throw Error(\"names must be array!\");return t+\":\"+e.join(\":\")}\"object\"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){\"use strict\";var n=\"*.*\",o=r(6).getRegExp;t.exports=function(t,e){var r=\"Specify file type for \"+t+\" selection\",i=DOM.Dialog;i.prompt(\"Cloud Commander\",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(\"..\"!==r&&a.test(r)){++u;var n=DOM.isSelected(e);\"expand\"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert(\"Select Files\",\"No matches found!\")}})}},function(t,e,r){\"use strict\";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get(\"modules\",function(e,s){var l=d(\"online\")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error(\"array should be an array!\");if(\"function\"!=typeof e)throw Error(\"iterator should be a function!\");if(\"function\"!=typeof r)throw Error(\"done should be a function!\")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){\"use strict\";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit(\"file\",e.fullPath,e),void(this._first&&t.emit(\"end\"));this._first&&(this._first=!1),t.emit(\"directory\",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit(\"end\")})}},function(t,e,r){\"use strict\";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if(\"function\"!=typeof e)throw Error(\"processingFn should be function!\");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o=\"directory\";if(!n){o=\"file\";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit(\"end\");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit(\"error\",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit(\"progress\",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on(\"directory\",function(t){o.push(t)}),i.on(\"file\",function(t,e){r.push(e)}),i.on(\"end\",function(){e()})},function(){e(r,o)})}},function(t,e,r){\"use strict\";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show(\"top\")}t.exports=function(t){var e=a.Dialog;t.length&&o.show(\"top\");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\\/$/,\"\"),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case\"file\":h=function(t,e){return a.load.put(t,e)}(d,r);break;case\"directory\":f=d,h=a.load.put(f+\"?dir\")}h.on(\"end\",u),h.on(\"progress\",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on(\"error\",function(t){e.alert(t),f.abort()}),f.on(\"progress\",c),f.on(\"end\",CloudCmd.refresh)}},function(t,e,r){\"use strict\";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error(\"element could not be empty!\");if(!e)throw Error(\"className could not be empty!\");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(\"#\"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name=\"'+t+'\"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add(\"hidden\"),n},t.exports.show=function(t){return t.classList.remove(\"hidden\"),n}},function(t,e,r){\"use strict\";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){\"use strict\";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return[\"arrayBuffer\",\"file\",\"array\",\"object\"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),[\"null\",\"string\",\"undefined\",\"boolean\",\"number\",\"function\"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){\"use strict\";var n={\"&nbsp;\":\" \",\"&lt;\":\"<\",\"&gt;\":\">\"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],\"g\");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,\"g\");t=t.replace(o,r)}),t}},function(t,e,r){\"use strict\";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){\"use strict\";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if(\"function\"!=typeof t)throw Error(\"fn should be function!\")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){"
        },
        {
          "file_path": "/src/dist/cloudcmd.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            4136,
            4149
          ],
          "match_string": "!function(e){function t(t){for(var n,i,u=t[0],l=t[1],s=t[2],f=0,d=[];f<u.length;f++)i=u[f],a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var l=r[u];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={17:0};var o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var c=l;o.push([80,0]),r()}({109:function(e,t){},18:function(e,t,r){\"use strict\";e.exports={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ZERO:48,SEMICOLON:52,COLON:54,A:65,C:67,D:68,G:71,J:74,K:75,M:77,O:79,Q:81,R:82,S:83,T:84,U:85,V:86,X:88,Z:90,INSERT_MAC:96,ASTERISK:106,PLUS:107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,EQUAL:187,HYPHEN:189,DOT:190,SLASH:191,TRA:192,BACKSLASH:220,BRACKET_CLOSE:221}},46:function(e,t,r){\"use strict\";var n=r(9),a=n.CurrentInfo,o=CloudCmd.sort,i=CloudCmd.order,u=n.getPanelPosition(),l=o[u],s=n.getPanel;CloudCmd.sortPanel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),r=t.dataset.name.replace(\"js-\",\"\");e!==l?i[r]=\"asc\":\"asc\"===i[r]?i[r]=\"desc\":i[r]=\"asc\",l=o[r]=e;var n=r!==a.panelPosition;CloudCmd.refresh({panel:t,noCurrent:n})}},47:function(e,t,r){\"use strict\";var n=DOM.CurrentInfo,a=r(6).escapeRegExp;e.exports=function(e,t){for(var r=void 0,o=0,i=!1,u=0,l=a(e),s=new RegExp(\"^\"+l+\".*$\",\"i\"),c=n.files,f=t(),d=f.length;u<d&&e===f[u];)u++;u||t([]);var p=o=u;t(t().concat(e));var v;DOM.getFilenames(c).filter(function(e){return s.test(e)}).filter((v=function(e){return\"..\"===e},function(e){return!v(e)})).some(function(e){var t=DOM.getCurrentByName(e);if(!o)return i=!0,DOM.setCurrentFile(t),!0;p===o&&(r=t),--o}),i||(DOM.setCurrentFile(r),t([e]))}},54:function(e,t,r){\"use strict\";var n=r(12),a=r(53),o=DOM.CurrentInfo,i=n([]),u=n(0);function l(e,t){return e===t-1?0:++e}function s(e,t){return e?--e:t-1}e.exports.find=function(e){var t=o.files.map(DOM.getCurrentName),r=a(e,t);i(r),u(0),DOM.setCurrentByName(r[0])},e.exports.findNext=function(){var e=i(),t=l(u(),e.length);u(t),DOM.setCurrentByName(e[u()])},e.exports.findPrevious=function(){var e=i(),t=s(u(),e.length);u(t),DOM.setCurrentByName(e[t])},e.exports._next=l,e.exports._previous=s},55:function(e,t,r){\"use strict\";var n=r(18),a=DOM.CurrentInfo,o=DOM.Dialog,i=r(12),u=i(\"\"),l=i(!1),s=r(54),c=s.find,f=s.findNext,d=s.findPrevious,p=function(){l(!1)},v=function(){u(\"\")},C=function(e){return e.split(\"\").slice(1).join(\"\")};function h(e,t){var r=t.max,n=t.current,a=t.prevStore,o=\"d\"===a[0];o&&(l(!0),a=C(a));var i,u=r||((i=a)?\"g\"===i?1:parseInt(i):1);isNaN(u)||(!function(e){var t=e.n,r=e.current,n=e.visual,a=e.sibling,o=n?m:DOM.unselectFile;o(r);for(var i=a+\"Sibling\",u=0;u<t;u++){var l=r[i];if(!l)break;o(r=l)}DOM.setCurrentFile(r)}({n:u,current:n,sibling:e,visual:l()}),o&&CloudCmd.Operation.show(\"delete\"))}function m(e){\"..\"!==DOM.getCurrentName(e)&&DOM.selectFile(e)}e.exports=function(e,t){var r=a.element,i=t.keyCode,s=u(),C=u(s.concat(e));return i===n.ENTER?v():i===n.ESC?(DOM.unselectFiles(),l(!1),v()):\"j\"===e?(h(\"next\",{prevStore:s,current:r}),v()):\"k\"===e?(h(\"previous\",{prevStore:s,current:r}),v()):/gg/.test(C)?(h(\"previous\",{current:r,prevStore:s,max:1/0}),v()):\"d\"!==e||!l()&&\"d\"!==s?\"G\"===e?(h(\"next\",{current:r,prevStore:s,max:1/0}),v()):\"y\"===e?l()?(DOM.Buffer.copy(),p(),DOM.unselectFiles(),v()):v():/^p$/i.test(e)?(DOM.Buffer.paste(),v()):/^v$/i.test(e)?(DOM.toggleSelectedFile(r),l(!l()),v()):\"/\"===e?(t.preventDefault(),o.prompt(\"Cloud Commander\",\"Find\",\"\",{cancel:!1}).then(c),v()):\"n\"===e?(f(),v()):\"N\"===e?(d(),v()):void 0:(CloudCmd.Operation.show(\"delete\"),p(),v())},e.exports.selectFile=m},56:function(e,t,r){\"use strict\";var n=DOM.CurrentInfo,a=r(0),o=r(8),i=r(20),u=r(18),l=r(55),s=r(47),c=r(12)();function f(){var e=void 0,t=this;function r(e){return e.key?e.key:(t=e.keyIdentifier,r=t.substring(2),n=parseInt(r,16),String.fromCharCode(n));var t,r,n}function f(e){var o=e.keyCode,f=e.altKey,d=e.ctrlKey,p=e.shiftKey,v=e.metaKey,C=o>=u.ZERO&&o<=u.Z,h=/Numpad/.test(e.code),m=r(e),D=~[\".\",\"_\",\"-\",\"+\",\"=\"].indexOf(m);if(D||(D=function(e,t){switch(t){case u.DOT:return\".\";case u.HYPHEN:return e?\"_\":\"-\";case u.EQUAL:return e?\"+\":\"=\"}}(p,o))&&(m=D),t.isBind()){var g=CloudCmd.config(\"vim\");if(!g&&!h&&!f&&!d&&!v&&(C||D))return s(m,c);c([]),function(e){var r=void 0,o=void 0,l=void 0,s=void 0,c=n.element,f=n.name,d=CloudCmd.Operation,p=n.panel,v=n.path,C=n.isDir,h=e.keyCode,m=e.altKey,D=e.shiftKey,g=e.ctrlKey,O=e.metaKey,M=g||O;c&&(l=c.previousSibling,s=c.nextSibling);switch(h){case t.TAB:DOM.changePanel(),e.preventDefault();break;case t.INSERT:case t.INSERT_MAC:DOM.toggleSelectedFile(c).setCurrentFile(s);break;case t.DELETE:D?d.show(\"delete:silent\"):d.show(\"delete\");break;case t.ASTERISK:DOM.toggleAllSelectedFiles(c);break;case t.PLUS:DOM.expandSelection(),e.preventDefault();break;case t.MINUS:DOM.shrinkSelection(),e.preventDefault();break;case t.F1:CloudCmd.Help.show(),e.preventDefault();break;case t.F2:DOM.renameCurrent(c);break;case t.F3:D?CloudCmd.Markdown.show(v):M?CloudCmd.sortPanel(\"name\"):CloudCmd.View.show(),e.preventDefault();break;case t.F4:D?CloudCmd.EditFileVim.show():CloudCmd.EditFile.show(),e.preventDefault();break;case t.F5:M?CloudCmd.sortPanel(\"date\"):m?d.show(\"pack\"):d.show(\"copy\"),e.preventDefault();break;case t.F6:M?CloudCmd.sortPanel(\"size\"):d.show(\"move\"),e.preventDefault();break;case t.F7:D?DOM.promptNewFile():DOM.promptNewDir(),e.preventDefault();break;case t.F8:d.show(\"delete\"),e.preventDefault();break;case t.F9:m?d.show(\"extract\"):CloudCmd.Menu.show(),e.preventDefault();break;case t.F10:CloudCmd.Config.show(),e.preventDefault();break;case t.TRA:if(e.preventDefault(),D)return CloudCmd.Terminal.show();CloudCmd.Konsole.show();break;case u.BRACKET_CLOSE:CloudCmd.Konsole.show(),e.preventDefault();break;case t.SPACE:o=!C||\"..\"===f||DOM.isSelected(c),a.if(o,function(){DOM.toggleSelectedFile(c)},function(e){DOM.loadCurrentSize(e,c)}),e.preventDefault();break;case t.U:M&&(DOM.swapPanels(),e.preventDefault());break;case t.UP:D&&DOM.toggleSelectedFile(c),DOM.setCurrentFile(l),e.preventDefault();break;case t.DOWN:D&&DOM.toggleSelectedFile(c),DOM.setCurrentFile(s),e.preventDefault();break;case t.LEFT:if(!m)return;e.preventDefault(),\"js-right\"===n.panel.getAttribute(\"data-name\")&&DOM.duplicatePanel();break;case t.RIGHT:if(!m)return;e.preventDefault(),\"js-left\"===n.panel.getAttribute(\"data-name\")&&DOM.duplicatePanel();break;case t.HOME:DOM.setCurrentFile(n.first),e.preventDefault();break;case t.END:DOM.setCurrentFile(n.last),e.preventDefault();break;case t.PAGE_DOWN:for(DOM.scrollByPages(p,1),r=0;r<30&&c.nextSibling;r++)c=c.nextSibling;DOM.setCurrentFile(c),e.preventDefault();break;case t.PAGE_UP:for(DOM.scrollByPages(p,-1),r=0;r<30&&c.previousSibling;r++)c=c.previousSibling;DOM.setCurrentFile(c),e.preventDefault();break;case t.ENTER:n.isDir&&CloudCmd.loadDir({path:\"/\"===v?\"/\":v+\"/\"});break;case t.BACKSPACE:CloudCmd.goToParentDir(),e.preventDefault();break;case t.BACKSLASH:M&&CloudCmd.loadDir({path:\"/\"});break;case t.A:M&&(DOM.selectAllFiles(),e.preventDefault());break;case t.G:m&&(DOM.goToDirectory(),e.preventDefault());break;case t.M:M&&(CloudCmd.EditNames.show(),e.preventDefault());break;case t.R:M&&(CloudCmd.log(\"reloading page...\\n\"),CloudCmd.refresh(),e.preventDefault());break;case t.C:M&&i.copy();break;case t.X:M&&i.cut();break;case t.V:M&&i.paste();break;case t.Z:M&&i.clear();break;case t.D:M&&(CloudCmd.log(\"clearing storage...\"),DOM.Storage.clear(function(){CloudCmd.log(\"storage cleared\")}),e.preventDefault())}}(e),g&&l(m,e)}}this.isBind=function(){return e},this.setBind=function(){e=!0},this.unsetBind=function(){e=!1},this.bind=function(){o.addKey(f),e=!0}}c([]),f.prototype=u,CloudCmd.Key=f},58:function(e,t,r){\"use strict\";e.exports=function(e,t){var r=e.indexOf(t);return~r?r:0}},59:function(e,t,r){\"use strict\";e.exports=function(e,t,r){return e<t?r.slice(e,t+1):e>t?r.slice(t,e+1):[r[e]]}},60:function(e,t,r){\"use strict\";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=r(0),i=r(4),u=r(1),l=r(59),s=u(r(58)),c=r(19),f=r(5),d=f.FS,p=f.apiURL;e.exports.init=function(){var e,t,r,n;e=DOM.getFM(),m.addOnce(\"contextmenu\",e,function(e){CloudCmd.Menu.show({x:e.clientX,y:e.clientY})}),m.addContextMenu(e,function(e){CloudCmd.Menu.ENABLED||e.preventDefault()}),t=DOM.getByClassAll(\"panel\"),r=function(e){var t=e.dataTransfer.files,r=e.dataTransfer.items,n=t.length;if(e.preventDefault(),n&&(!r||!r.length||!r[0].webkitGetAsEntry))return c(t);var o=[].concat(a(r)).filter(function(e){return\"file\"===e.kind});if(o.length)return DOM.uploadDirectory(o);var i=CloudCmd,u=i.Operation,l=e.shiftKey?\"move\":\"copy\";return u.show(l)},n=function(e){var t=e.dataTransfer,r=t.effectAllowed;/move|linkMove/.test(r)?t.dropEffect=\"move\":t.dropEffect=\"copy\",e.preventDefault()},m.add(\"dragenter\",function(){[].concat(a(t)).forEach(function(e){e.classList.add(\"selected-panel\")})}),m.add([\"dragleave\",\"drop\"],function(){[].concat(a(t)).forEach(function(e){e.classList.remove(\"selected-panel\")})}),[].concat(a(t)).forEach(function(e){m.add(\"dragover\",e,n).add(\"drop\",e,r)}),DOM.Events.add([\"unload\",\"beforeunload\"],function(e){var t=CloudCmd.Key,r=t&&t.isBind();if(!r)return e.preventDefault(),\"Please make sure that you saved all work.\"}),m.add(\"popstate\",function(e){var t=e.state,r=(t||\"\").replace(d,\"\");if(!r)return CloudCmd.route(location.hash);CloudCmd.loadDir({path:r,history:!1})}),m.add(\"resize\",function(){var e=window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH;if(e){var t=C.panel,r=!t;if(!r){var n=t.getAttribute(\"data-name\"),a=\"js-left\"===n;a||DOM.changePanel()}}}),DOM.Files.get(\"config\",function(e,t){var r=t&&t.packer;g=DOM.getPackerExt(r)}),function(){var e=DOM.getFM(),t=function(e){return e.dataset},r=function(e){return/^js-(left|right)$/.test(e.dataset.name)};m.addClick(e,function(e){var n=e.target,a=n.parentElement;if(\"js-fm-header\"===a.dataset.name){var o=(n.dataset.name||\"\").replace(\"js-\",\"\");if(/^(name|size|date)$/.test(o)){var i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return r;return e(t.parentElement,r.concat(t))}(n).filter(t).filter(r).pop();CloudCmd.sortPanel(o,i)}}})}()},CloudCmd.Listeners=e.exports;var v=u(function(e,t){e.forEach(function(e){e(t)})}),C=DOM.CurrentInfo,h=DOM.Storage,m=DOM.Events,D={mousedown:o.with(M,function(e){var t={alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey},r=y(e.target),a=C.name;DOM.setCurrentFile(r);var o=C.name,i=[];t.shift?i=function(e,t){var r=DOM.getAllFiles(),n=DOM.getFilenames(r),a=s(n),o=a(e),i=a(t);return l(o,i,r)}(a,o):i.push(C.element);0===e.button&&function(e,t){var r=/Mac/.test(window.navigator.platform);if(!e)throw Error(\"key should not be undefined!\");var a=n(t,1)[0];if(r&&e.meta||e.ctrl)return DOM.toggleSelectedFile(a);if(e.shift)t.forEach(DOM.selectFile)}(t,i)}),click:v([function(e){e.ctrlKey||e.preventDefault();t=e.target,r=C.panel,n=DOM.getByDataName(\"js-files\",r),function(e){for(;\"UL\"!==e.tagName;)e=e.parentElement;return e}(t)!==n&&DOM.changePanel();var t,r,n},function(e){var t=/Mac/.test(window.navigator.platform),r=e.shiftKey,n=e.metaKey,a=e.ctrlKey;r||t&&n||a||DOM.unselectFiles()}]),dragstart:o.with(M,function(e){var t=y(e.target),r=C.isDir,n=DOM.getCurrentLink(t),a=DOM.getCurrentName(t);r&&(a+=g,(n=document.createElement(\"a\")).textContent=a,n.href=p+\"/pack\"+C.path+g);e.dataTransfer.setData(\"DownloadURL\",\"application/octet-stream:\"+a+\":\"+n)}),dblclick:o.with(M,function(e){var t=y(e.target),r=DOM.isCurrentIsDir(t),n=DOM.getCurrentPath(t);r&&(CloudCmd.loadDir({path:\"/\"===n?\"/\":n+\"/\"}),e.preventDefault())}),touchstart:o.with(M,function(e){var t=y(e.target);if(!DOM.isCurrentIsDir(t))return;if(!DOM.isCurrentFile(t))return;CloudCmd.loadDir({path:DOM.getCurrentPath(t)}),e.preventDefault()})},g=void 0;e.exports.initKeysPanel=function(){var e=DOM.getById(\"js-keyspanel\");e&&m.addClick(e,function(e){var t=e.target.id,r=function(e){return CloudCmd.Operation.show.bind(null,e)},n={f1:CloudCmd.Help.show,f2:DOM.renameCurrent,f3:CloudCmd.View.show,f4:CloudCmd.EditFile.show,f5:r(\"copy\"),f6:r(\"move\"),f7:DOM.promptNewDir,f8:r(\"delete\"),f9:CloudCmd.Menu.show,f10:CloudCmd.Config.show,\"~\":CloudCmd.Konsole.show,\"shift~\":CloudCmd.Terminal.show,contact:CloudCmd.Contact.show};o(n[t])})};function O(e){var t=C.panel;return e.getAttribute(\"data-name\")!==t.getAttribute(\"data-name\")}function M(e,t){\"UL\"!==t.target.tagName&&e(t)}function y(e){if(!e)return e;for(;\"LI\"!==e.tagName;)e=e.parentElement;return e}e.exports.setOnPanel=function(e){var t=function(e){return i.string(e)?DOM.getByDataName(\"js-\"+e):e}(e),r=DOM.getByDataName(\"js-files\",t),n=DOM.getByDataName(\"js-path\",t);m.addClick(n,function(e){return function(e,t){var r=void 0,n=void 0,a=void 0,o=void 0,i=CloudCmd.PREFIX,u=t.target;switch(u.getAttribute(\"data-name\")){case\"js-clear-storage\":h.clear();break;case\"js-refresh\":o=O(e),CloudCmd.refresh({panel:e,noCurrent:o}),t.preventDefault();break;case\"js-path-link\":a=CloudCmd.HOST,n=u.href,r=(r=n.replace(a,\"\")).replace(\"%%\",\"%25%\"),r=(r=decodeURI(r)).replace(RegExp(\"^\"+i+d),\"\")||\"/\",o=O(e),CloudCmd.loadDir({path:r,isRefresh:!1,panel:o?e:C.panel}),t.preventDefault()}}.bind(null,e)}(t)),m.add(r,D)}},61:function(e,t,r){\"use strict\";e.exports=function e(t,r){if(!(this instanceof e))return new e(t,r);n=r.htmlDialogs,a=[function(e){var t=\".min.js\",r=window.Promise?t:\".poly\"+t;return e?r:\".native\"+r}(n),\".min.css\"].map(function(e){return t+\"/modules/smalltalk/dist/smalltalk\"+e}),DOM.load.parallel(a,function(){});var n,a;var o=function(e,t){return smalltalk.alert(e,t)};this.alert=o;this.prompt=function(e,t,r,n){return smalltalk.prompt(e,t,r,n)};this.confirm=function(e,t,r){return smalltalk.confirm(e,t,r)};this.alert.noFiles=function(e){return o(e,\"No files selected!\")}}},63:function(e,t,r){\"use strict\";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=r(4),o=r(14),i=r(21),u=r(13),l=r(0),s=r(2),c=r(62),f=r(11),d=r(1),p=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){return e.apply(void 0,r)}},v=r(5),C=v.apiURL,h=v.formatMsg,m=v.buildFromJSON;function D(e,t){var r=void 0,i=void 0,v=void 0,D=function(e){i&&console.log(e)};o.call(this);var g=this,O=t.CurrentInfo,M=t.Storage,y=t.Files;this.log=D,this.PREFIX=\"\",this.PREFIX_URL=\"\",this.DIRCLIENT=\"/dist/\",this.DIRCLIENT_MODULES=this.DIRCLIENT+\"modules/\",this.MIN_ONE_PANEL_WIDTH=1155,this.HOST=location.origin||location.protocol+\"//\"+location.host;var w=\"Cloud Commander\";this.TITLE=w,this.sort={left:\"name\",right:\"name\"},this.order={left:\"asc\",right:\"asc\"},D.enable=function(){i=!0},D.disable=function(){i=!1};var E=e.kebabToCamelCase;function b(e){if(e){var r=e.path,n=e.name||r&&E(r),o=e.func,i=e.funcName,u=e.dobefore;/\\.js/.test(r)||(r+=\".js\"),g[n]||(g[n]=function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];var c=g.PREFIX+g.DIRCLIENT_MODULES+r;l(u);return t.load.js(c,o||function(e){var t=g[n];!e&&a.function(t)&&(g[n]=function(e,t){var r=function(){return e.apply(this,t)};return r.prototype=e.prototype,new r}(t,i))})},g[n][i]=g[n])}}function k(e){var r=g.PREFIX+\"/plugins.js\";t.load.js(r,e)}function F(e){l.if(g.Key,function(){r=new g.Key,g.Key=r,r.bind()},function(e){b({path:\"key.js\",func:e})}),y.get(\"modules\",function(t,r){var n=s.show.load,a={edit:n,menu:n};r||(r=[]),r.local.forEach(function(e){var t;b({name:null,path:t=e,dobefore:a[e],funcName:\"template\"===t?\"get\":\"show\"})}),e()})}function P(e){var r=t.getFiles();g.on(\"current-file\",t.updateCurrentInfo),r&&t.setCurrentFile(r[0],{history:!location.hash});var n=t.getCurrentDirPath();if((v=g.Listeners).init(),function(){var e=[\"left\"];return g.config(\"onePanelMode\")?e:[].concat(e,[\"right\"])}().forEach(v.setOnPanel),v.initKeysPanel(),!g.config(\"dirStorage\"))return e();M.get(n,function(r,a){var o,i;a||(o=t.getCurrentDirPath(),i=(O.files||[]).filter(function(e){return\"..\"!==t.getCurrentName(e)}).map(function(e){var r=t.getCurrentName(e),n=t.getCurrentSize(e),a=t.getCurrentOwner(e),o=t.getCurrentMode(e),i=t.getCurrentDate(e);return{name:r,size:n,mode:o,owner:a,date:i}}),a={path:o,files:i},M.set(n,a)),e()})}function N(e,r,n,a){var o=n.history,i=n.noCurrent;y.get([\"file\",\"path\",\"link\",\"pathLink\"],function(u,s,c,f,d){var p=t.Dialog,C=r||t.getPanel(),h=O.dir,D=O.name;if(u)return p.alert(w,u.responseText);for(var M=C.childNodes.length;M--;)C.removeChild(C.lastChild);if(C.innerHTML=m({sort:n.sort,order:n.order,data:e,id:C.id,prefix:g.PREFIX,template:{file:s,path:c,pathLink:d,link:f}}),v.setOnPanel(C),!i){var y=void 0;\"..\"===D&&\"/\"!==h&&(y=t.getCurrentByName(h)),y||(y=t.getFiles(C)[0]),t.setCurrentFile(y,{history:o}),g.emit(\"active-dir\",O.dirPath)}l(a)})}this.loadDir=function(e,r){var n=e,a=n.isRefresh,o=n.panel,i=n.history,c=n.noCurrent,d=n.currentName,p=void 0;c||o&&o!==O.panel&&(t.changePanel(),p=!0);var v=void 0;(p||a||!i)&&(v=\"top\"),s.show.load(v,o),function(e,r,n,a){var o=function(o,i){var s=t.RESTful,c=r.currentName||O.name,d=f.parse(i),p=r.refresh,v=r.noCurrent;if(!p&&i)return N(d,n,r,a);var C=t.getPanelPosition(n),h=g.sort[C],m=g.order[C],D=u(\"?sort={{ sort }}&order={{ order }}\",{sort:h,order:m});s.read(e+D,\"json\",function(o,i){o||(r.sort=h,r.order=m,N(i,n,r,function(){p&&!v&&t.setCurrentByName(c),l(a)}),g.config(\"dirStorage\")&&M.set(e,i))})};r||(r={});if(g.log('reading dir: \"'+e+'\";'),!g.config(\"dirStorage\"))return o();M.get(e,o)}(n.path,{refresh:a,history:i,noCurrent:c,currentName:d},o,r)},this.init=function(e,r){var n=p(l.series,[F,P,k,l.with(g.route,location.hash)]);g.PREFIX=e,g.PREFIX_URL=e+C,g.config=function(e){return r[e]},g.config.if=d(function(e,t,n){return r[e]&&t(n)}),g._config=function(e,t){r[e]=t},t.Storage.setAllowed(g.config(\"localStorage\")),r.onePanelMode&&(g.MIN_ONE_PANEL_WIDTH=1/0),l.if(document.body.scrollIntoViewIfNeeded,n,function(r){var n=e+\"/join:\"+[g.DIRCLIENT_MODULES+\"polyfill.js\",\"/modules/domtokenlist-shim/dist/domtokenlist.min.js\"].join(\":\");t.loadJquery(function(){t.load.js(n,r)})})},this.join=function(e){var t=g.PREFIX;if(!Array.isArray(e))throw Error(\"urls should be array!\");var r=e.map(function(e){return e.replace(t,\"\")});return t+c(r)},this.route=function(e){var r=e.split(\"/\");if(e){var a=n(r,1)[0],o=E(a.slice(1)),i=r[1],u=t.getCurrentByName(i);if(!i||u)t.setCurrentFile(u),g.execFromModule(o,\"show\");else{var l=h(\"set current file\",i,\"error\");g.log(l)}}},this.logOut=function(){var e=g.PREFIX+\"/logout\";t.load.ajax({url:e,error:function(){return document.location.reload()}})},this.execFromModule=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=g[e],u=a.object(i);l.if(u,function(){g[e][t].apply(void 0,n)},i)},this.refresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];r||\"function\"!=typeof e||(r=e,e={});var n=e.panel||O.panel,a=t.getCurrentDirPath(n),o=!!e&&e.noCurrent,i=e.currentName;g.loadDir({path:a,isRefresh:!0,history:!1,panel:n,noCurrent:o,currentName:i},r)},this.goToParentDir=function(){var e=O.dir,r=O.dirPath,n=O.parentDirPath;if(r!==n){var a=n;g.loadDir({path:a},function(){var r=O.panel,n=t.getCurrentByName(e),a=t.getFiles(r)[0];t.setCurrentFile(n||a,{history:history})})}}}i(D,o),e.exports=new D(Util,DOM)},80:function(e,t,r){\"use strict\";r(109),r(86),r(85),r(84),window.exec=r(0),window.Emitify=r(14),e.exports=window.CloudCmd=function(e){window.Promise=window.Promise||r(78),window.Util=r(6),window.CloudFunc=r(5);var t=r(9);window.DOM=t,window.CloudCmd=r(63);var n=r(61),a=function(e){return e?e.indexOf(\"/\")?\"/\"+e:e:\"\"}(e.prefix),o=e.htmlDialogs;t.Dialog=n(a,{htmlDialogs:o}),r(60),r(56),r(46),window.CloudCmd.init(a,e)}},84:function(e,t){},85:function(e,t){},86:function(e,t){}});"
        },
        {
          "file_path": "/src/dist/cloudcmd.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            4176,
            4189
          ],
          "match_string": "!function(e){function t(t){for(var n,i,u=t[0],l=t[1],s=t[2],f=0,d=[];f<u.length;f++)i=u[f],a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var l=r[u];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={17:0};var o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var c=l;o.push([80,0]),r()}({109:function(e,t){},18:function(e,t,r){\"use strict\";e.exports={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ZERO:48,SEMICOLON:52,COLON:54,A:65,C:67,D:68,G:71,J:74,K:75,M:77,O:79,Q:81,R:82,S:83,T:84,U:85,V:86,X:88,Z:90,INSERT_MAC:96,ASTERISK:106,PLUS:107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,EQUAL:187,HYPHEN:189,DOT:190,SLASH:191,TRA:192,BACKSLASH:220,BRACKET_CLOSE:221}},46:function(e,t,r){\"use strict\";var n=r(9),a=n.CurrentInfo,o=CloudCmd.sort,i=CloudCmd.order,u=n.getPanelPosition(),l=o[u],s=n.getPanel;CloudCmd.sortPanel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),r=t.dataset.name.replace(\"js-\",\"\");e!==l?i[r]=\"asc\":\"asc\"===i[r]?i[r]=\"desc\":i[r]=\"asc\",l=o[r]=e;var n=r!==a.panelPosition;CloudCmd.refresh({panel:t,noCurrent:n})}},47:function(e,t,r){\"use strict\";var n=DOM.CurrentInfo,a=r(6).escapeRegExp;e.exports=function(e,t){for(var r=void 0,o=0,i=!1,u=0,l=a(e),s=new RegExp(\"^\"+l+\".*$\",\"i\"),c=n.files,f=t(),d=f.length;u<d&&e===f[u];)u++;u||t([]);var p=o=u;t(t().concat(e));var v;DOM.getFilenames(c).filter(function(e){return s.test(e)}).filter((v=function(e){return\"..\"===e},function(e){return!v(e)})).some(function(e){var t=DOM.getCurrentByName(e);if(!o)return i=!0,DOM.setCurrentFile(t),!0;p===o&&(r=t),--o}),i||(DOM.setCurrentFile(r),t([e]))}},54:function(e,t,r){\"use strict\";var n=r(12),a=r(53),o=DOM.CurrentInfo,i=n([]),u=n(0);function l(e,t){return e===t-1?0:++e}function s(e,t){return e?--e:t-1}e.exports.find=function(e){var t=o.files.map(DOM.getCurrentName),r=a(e,t);i(r),u(0),DOM.setCurrentByName(r[0])},e.exports.findNext=function(){var e=i(),t=l(u(),e.length);u(t),DOM.setCurrentByName(e[u()])},e.exports.findPrevious=function(){var e=i(),t=s(u(),e.length);u(t),DOM.setCurrentByName(e[t])},e.exports._next=l,e.exports._previous=s},55:function(e,t,r){\"use strict\";var n=r(18),a=DOM.CurrentInfo,o=DOM.Dialog,i=r(12),u=i(\"\"),l=i(!1),s=r(54),c=s.find,f=s.findNext,d=s.findPrevious,p=function(){l(!1)},v=function(){u(\"\")},C=function(e){return e.split(\"\").slice(1).join(\"\")};function h(e,t){var r=t.max,n=t.current,a=t.prevStore,o=\"d\"===a[0];o&&(l(!0),a=C(a));var i,u=r||((i=a)?\"g\"===i?1:parseInt(i):1);isNaN(u)||(!function(e){var t=e.n,r=e.current,n=e.visual,a=e.sibling,o=n?m:DOM.unselectFile;o(r);for(var i=a+\"Sibling\",u=0;u<t;u++){var l=r[i];if(!l)break;o(r=l)}DOM.setCurrentFile(r)}({n:u,current:n,sibling:e,visual:l()}),o&&CloudCmd.Operation.show(\"delete\"))}function m(e){\"..\"!==DOM.getCurrentName(e)&&DOM.selectFile(e)}e.exports=function(e,t){var r=a.element,i=t.keyCode,s=u(),C=u(s.concat(e));return i===n.ENTER?v():i===n.ESC?(DOM.unselectFiles(),l(!1),v()):\"j\"===e?(h(\"next\",{prevStore:s,current:r}),v()):\"k\"===e?(h(\"previous\",{prevStore:s,current:r}),v()):/gg/.test(C)?(h(\"previous\",{current:r,prevStore:s,max:1/0}),v()):\"d\"!==e||!l()&&\"d\"!==s?\"G\"===e?(h(\"next\",{current:r,prevStore:s,max:1/0}),v()):\"y\"===e?l()?(DOM.Buffer.copy(),p(),DOM.unselectFiles(),v()):v():/^p$/i.test(e)?(DOM.Buffer.paste(),v()):/^v$/i.test(e)?(DOM.toggleSelectedFile(r),l(!l()),v()):\"/\"===e?(t.preventDefault(),o.prompt(\"Cloud Commander\",\"Find\",\"\",{cancel:!1}).then(c),v()):\"n\"===e?(f(),v()):\"N\"===e?(d(),v()):void 0:(CloudCmd.Operation.show(\"delete\"),p(),v())},e.exports.selectFile=m},56:function(e,t,r){\"use strict\";var n=DOM.CurrentInfo,a=r(0),o=r(8),i=r(20),u=r(18),l=r(55),s=r(47),c=r(12)();function f(){var e=void 0,t=this;function r(e){return e.key?e.key:(t=e.keyIdentifier,r=t.substring(2),n=parseInt(r,16),String.fromCharCode(n));var t,r,n}function f(e){var o=e.keyCode,f=e.altKey,d=e.ctrlKey,p=e.shiftKey,v=e.metaKey,C=o>=u.ZERO&&o<=u.Z,h=/Numpad/.test(e.code),m=r(e),D=~[\".\",\"_\",\"-\",\"+\",\"=\"].indexOf(m);if(D||(D=function(e,t){switch(t){case u.DOT:return\".\";case u.HYPHEN:return e?\"_\":\"-\";case u.EQUAL:return e?\"+\":\"=\"}}(p,o))&&(m=D),t.isBind()){var g=CloudCmd.config(\"vim\");if(!g&&!h&&!f&&!d&&!v&&(C||D))return s(m,c);c([]),function(e){var r=void 0,o=void 0,l=void 0,s=void 0,c=n.element,f=n.name,d=CloudCmd.Operation,p=n.panel,v=n.path,C=n.isDir,h=e.keyCode,m=e.altKey,D=e.shiftKey,g=e.ctrlKey,O=e.metaKey,M=g||O;c&&(l=c.previousSibling,s=c.nextSibling);switch(h){case t.TAB:DOM.changePanel(),e.preventDefault();break;case t.INSERT:case t.INSERT_MAC:DOM.toggleSelectedFile(c).setCurrentFile(s);break;case t.DELETE:D?d.show(\"delete:silent\"):d.show(\"delete\");break;case t.ASTERISK:DOM.toggleAllSelectedFiles(c);break;case t.PLUS:DOM.expandSelection(),e.preventDefault();break;case t.MINUS:DOM.shrinkSelection(),e.preventDefault();break;case t.F1:CloudCmd.Help.show(),e.preventDefault();break;case t.F2:DOM.renameCurrent(c);break;case t.F3:D?CloudCmd.Markdown.show(v):M?CloudCmd.sortPanel(\"name\"):CloudCmd.View.show(),e.preventDefault();break;case t.F4:D?CloudCmd.EditFileVim.show():CloudCmd.EditFile.show(),e.preventDefault();break;case t.F5:M?CloudCmd.sortPanel(\"date\"):m?d.show(\"pack\"):d.show(\"copy\"),e.preventDefault();break;case t.F6:M?CloudCmd.sortPanel(\"size\"):d.show(\"move\"),e.preventDefault();break;case t.F7:D?DOM.promptNewFile():DOM.promptNewDir(),e.preventDefault();break;case t.F8:d.show(\"delete\"),e.preventDefault();break;case t.F9:m?d.show(\"extract\"):CloudCmd.Menu.show(),e.preventDefault();break;case t.F10:CloudCmd.Config.show(),e.preventDefault();break;case t.TRA:if(e.preventDefault(),D)return CloudCmd.Terminal.show();CloudCmd.Konsole.show();break;case u.BRACKET_CLOSE:CloudCmd.Konsole.show(),e.preventDefault();break;case t.SPACE:o=!C||\"..\"===f||DOM.isSelected(c),a.if(o,function(){DOM.toggleSelectedFile(c)},function(e){DOM.loadCurrentSize(e,c)}),e.preventDefault();break;case t.U:M&&(DOM.swapPanels(),e.preventDefault());break;case t.UP:D&&DOM.toggleSelectedFile(c),DOM.setCurrentFile(l),e.preventDefault();break;case t.DOWN:D&&DOM.toggleSelectedFile(c),DOM.setCurrentFile(s),e.preventDefault();break;case t.LEFT:if(!m)return;e.preventDefault(),\"js-right\"===n.panel.getAttribute(\"data-name\")&&DOM.duplicatePanel();break;case t.RIGHT:if(!m)return;e.preventDefault(),\"js-left\"===n.panel.getAttribute(\"data-name\")&&DOM.duplicatePanel();break;case t.HOME:DOM.setCurrentFile(n.first),e.preventDefault();break;case t.END:DOM.setCurrentFile(n.last),e.preventDefault();break;case t.PAGE_DOWN:for(DOM.scrollByPages(p,1),r=0;r<30&&c.nextSibling;r++)c=c.nextSibling;DOM.setCurrentFile(c),e.preventDefault();break;case t.PAGE_UP:for(DOM.scrollByPages(p,-1),r=0;r<30&&c.previousSibling;r++)c=c.previousSibling;DOM.setCurrentFile(c),e.preventDefault();break;case t.ENTER:n.isDir&&CloudCmd.loadDir({path:\"/\"===v?\"/\":v+\"/\"});break;case t.BACKSPACE:CloudCmd.goToParentDir(),e.preventDefault();break;case t.BACKSLASH:M&&CloudCmd.loadDir({path:\"/\"});break;case t.A:M&&(DOM.selectAllFiles(),e.preventDefault());break;case t.G:m&&(DOM.goToDirectory(),e.preventDefault());break;case t.M:M&&(CloudCmd.EditNames.show(),e.preventDefault());break;case t.R:M&&(CloudCmd.log(\"reloading page...\\n\"),CloudCmd.refresh(),e.preventDefault());break;case t.C:M&&i.copy();break;case t.X:M&&i.cut();break;case t.V:M&&i.paste();break;case t.Z:M&&i.clear();break;case t.D:M&&(CloudCmd.log(\"clearing storage...\"),DOM.Storage.clear(function(){CloudCmd.log(\"storage cleared\")}),e.preventDefault())}}(e),g&&l(m,e)}}this.isBind=function(){return e},this.setBind=function(){e=!0},this.unsetBind=function(){e=!1},this.bind=function(){o.addKey(f),e=!0}}c([]),f.prototype=u,CloudCmd.Key=f},58:function(e,t,r){\"use strict\";e.exports=function(e,t){var r=e.indexOf(t);return~r?r:0}},59:function(e,t,r){\"use strict\";e.exports=function(e,t,r){return e<t?r.slice(e,t+1):e>t?r.slice(t,e+1):[r[e]]}},60:function(e,t,r){\"use strict\";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=r(0),i=r(4),u=r(1),l=r(59),s=u(r(58)),c=r(19),f=r(5),d=f.FS,p=f.apiURL;e.exports.init=function(){var e,t,r,n;e=DOM.getFM(),m.addOnce(\"contextmenu\",e,function(e){CloudCmd.Menu.show({x:e.clientX,y:e.clientY})}),m.addContextMenu(e,function(e){CloudCmd.Menu.ENABLED||e.preventDefault()}),t=DOM.getByClassAll(\"panel\"),r=function(e){var t=e.dataTransfer.files,r=e.dataTransfer.items,n=t.length;if(e.preventDefault(),n&&(!r||!r.length||!r[0].webkitGetAsEntry))return c(t);var o=[].concat(a(r)).filter(function(e){return\"file\"===e.kind});if(o.length)return DOM.uploadDirectory(o);var i=CloudCmd,u=i.Operation,l=e.shiftKey?\"move\":\"copy\";return u.show(l)},n=function(e){var t=e.dataTransfer,r=t.effectAllowed;/move|linkMove/.test(r)?t.dropEffect=\"move\":t.dropEffect=\"copy\",e.preventDefault()},m.add(\"dragenter\",function(){[].concat(a(t)).forEach(function(e){e.classList.add(\"selected-panel\")})}),m.add([\"dragleave\",\"drop\"],function(){[].concat(a(t)).forEach(function(e){e.classList.remove(\"selected-panel\")})}),[].concat(a(t)).forEach(function(e){m.add(\"dragover\",e,n).add(\"drop\",e,r)}),DOM.Events.add([\"unload\",\"beforeunload\"],function(e){var t=CloudCmd.Key,r=t&&t.isBind();if(!r)return e.preventDefault(),\"Please make sure that you saved all work.\"}),m.add(\"popstate\",function(e){var t=e.state,r=(t||\"\").replace(d,\"\");if(!r)return CloudCmd.route(location.hash);CloudCmd.loadDir({path:r,history:!1})}),m.add(\"resize\",function(){var e=window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH;if(e){var t=C.panel,r=!t;if(!r){var n=t.getAttribute(\"data-name\"),a=\"js-left\"===n;a||DOM.changePanel()}}}),DOM.Files.get(\"config\",function(e,t){var r=t&&t.packer;g=DOM.getPackerExt(r)}),function(){var e=DOM.getFM(),t=function(e){return e.dataset},r=function(e){return/^js-(left|right)$/.test(e.dataset.name)};m.addClick(e,function(e){var n=e.target,a=n.parentElement;if(\"js-fm-header\"===a.dataset.name){var o=(n.dataset.name||\"\").replace(\"js-\",\"\");if(/^(name|size|date)$/.test(o)){var i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return r;return e(t.parentElement,r.concat(t))}(n).filter(t).filter(r).pop();CloudCmd.sortPanel(o,i)}}})}()},CloudCmd.Listeners=e.exports;var v=u(function(e,t){e.forEach(function(e){e(t)})}),C=DOM.CurrentInfo,h=DOM.Storage,m=DOM.Events,D={mousedown:o.with(M,function(e){var t={alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey},r=y(e.target),a=C.name;DOM.setCurrentFile(r);var o=C.name,i=[];t.shift?i=function(e,t){var r=DOM.getAllFiles(),n=DOM.getFilenames(r),a=s(n),o=a(e),i=a(t);return l(o,i,r)}(a,o):i.push(C.element);0===e.button&&function(e,t){var r=/Mac/.test(window.navigator.platform);if(!e)throw Error(\"key should not be undefined!\");var a=n(t,1)[0];if(r&&e.meta||e.ctrl)return DOM.toggleSelectedFile(a);if(e.shift)t.forEach(DOM.selectFile)}(t,i)}),click:v([function(e){e.ctrlKey||e.preventDefault();t=e.target,r=C.panel,n=DOM.getByDataName(\"js-files\",r),function(e){for(;\"UL\"!==e.tagName;)e=e.parentElement;return e}(t)!==n&&DOM.changePanel();var t,r,n},function(e){var t=/Mac/.test(window.navigator.platform),r=e.shiftKey,n=e.metaKey,a=e.ctrlKey;r||t&&n||a||DOM.unselectFiles()}]),dragstart:o.with(M,function(e){var t=y(e.target),r=C.isDir,n=DOM.getCurrentLink(t),a=DOM.getCurrentName(t);r&&(a+=g,(n=document.createElement(\"a\")).textContent=a,n.href=p+\"/pack\"+C.path+g);e.dataTransfer.setData(\"DownloadURL\",\"application/octet-stream:\"+a+\":\"+n)}),dblclick:o.with(M,function(e){var t=y(e.target),r=DOM.isCurrentIsDir(t),n=DOM.getCurrentPath(t);r&&(CloudCmd.loadDir({path:\"/\"===n?\"/\":n+\"/\"}),e.preventDefault())}),touchstart:o.with(M,function(e){var t=y(e.target);if(!DOM.isCurrentIsDir(t))return;if(!DOM.isCurrentFile(t))return;CloudCmd.loadDir({path:DOM.getCurrentPath(t)}),e.preventDefault()})},g=void 0;e.exports.initKeysPanel=function(){var e=DOM.getById(\"js-keyspanel\");e&&m.addClick(e,function(e){var t=e.target.id,r=function(e){return CloudCmd.Operation.show.bind(null,e)},n={f1:CloudCmd.Help.show,f2:DOM.renameCurrent,f3:CloudCmd.View.show,f4:CloudCmd.EditFile.show,f5:r(\"copy\"),f6:r(\"move\"),f7:DOM.promptNewDir,f8:r(\"delete\"),f9:CloudCmd.Menu.show,f10:CloudCmd.Config.show,\"~\":CloudCmd.Konsole.show,\"shift~\":CloudCmd.Terminal.show,contact:CloudCmd.Contact.show};o(n[t])})};function O(e){var t=C.panel;return e.getAttribute(\"data-name\")!==t.getAttribute(\"data-name\")}function M(e,t){\"UL\"!==t.target.tagName&&e(t)}function y(e){if(!e)return e;for(;\"LI\"!==e.tagName;)e=e.parentElement;return e}e.exports.setOnPanel=function(e){var t=function(e){return i.string(e)?DOM.getByDataName(\"js-\"+e):e}(e),r=DOM.getByDataName(\"js-files\",t),n=DOM.getByDataName(\"js-path\",t);m.addClick(n,function(e){return function(e,t){var r=void 0,n=void 0,a=void 0,o=void 0,i=CloudCmd.PREFIX,u=t.target;switch(u.getAttribute(\"data-name\")){case\"js-clear-storage\":h.clear();break;case\"js-refresh\":o=O(e),CloudCmd.refresh({panel:e,noCurrent:o}),t.preventDefault();break;case\"js-path-link\":a=CloudCmd.HOST,n=u.href,r=(r=n.replace(a,\"\")).replace(\"%%\",\"%25%\"),r=(r=decodeURI(r)).replace(RegExp(\"^\"+i+d),\"\")||\"/\",o=O(e),CloudCmd.loadDir({path:r,isRefresh:!1,panel:o?e:C.panel}),t.preventDefault()}}.bind(null,e)}(t)),m.add(r,D)}},61:function(e,t,r){\"use strict\";e.exports=function e(t,r){if(!(this instanceof e))return new e(t,r);n=r.htmlDialogs,a=[function(e){var t=\".min.js\",r=window.Promise?t:\".poly\"+t;return e?r:\".native\"+r}(n),\".min.css\"].map(function(e){return t+\"/modules/smalltalk/dist/smalltalk\"+e}),DOM.load.parallel(a,function(){});var n,a;var o=function(e,t){return smalltalk.alert(e,t)};this.alert=o;this.prompt=function(e,t,r,n){return smalltalk.prompt(e,t,r,n)};this.confirm=function(e,t,r){return smalltalk.confirm(e,t,r)};this.alert.noFiles=function(e){return o(e,\"No files selected!\")}}},63:function(e,t,r){\"use strict\";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=r(4),o=r(14),i=r(21),u=r(13),l=r(0),s=r(2),c=r(62),f=r(11),d=r(1),p=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){return e.apply(void 0,r)}},v=r(5),C=v.apiURL,h=v.formatMsg,m=v.buildFromJSON;function D(e,t){var r=void 0,i=void 0,v=void 0,D=function(e){i&&console.log(e)};o.call(this);var g=this,O=t.CurrentInfo,M=t.Storage,y=t.Files;this.log=D,this.PREFIX=\"\",this.PREFIX_URL=\"\",this.DIRCLIENT=\"/dist/\",this.DIRCLIENT_MODULES=this.DIRCLIENT+\"modules/\",this.MIN_ONE_PANEL_WIDTH=1155,this.HOST=location.origin||location.protocol+\"//\"+location.host;var w=\"Cloud Commander\";this.TITLE=w,this.sort={left:\"name\",right:\"name\"},this.order={left:\"asc\",right:\"asc\"},D.enable=function(){i=!0},D.disable=function(){i=!1};var E=e.kebabToCamelCase;function b(e){if(e){var r=e.path,n=e.name||r&&E(r),o=e.func,i=e.funcName,u=e.dobefore;/\\.js/.test(r)||(r+=\".js\"),g[n]||(g[n]=function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];var c=g.PREFIX+g.DIRCLIENT_MODULES+r;l(u);return t.load.js(c,o||function(e){var t=g[n];!e&&a.function(t)&&(g[n]=function(e,t){var r=function(){return e.apply(this,t)};return r.prototype=e.prototype,new r}(t,i))})},g[n][i]=g[n])}}function k(e){var r=g.PREFIX+\"/plugins.js\";t.load.js(r,e)}function F(e){l.if(g.Key,function(){r=new g.Key,g.Key=r,r.bind()},function(e){b({path:\"key.js\",func:e})}),y.get(\"modules\",function(t,r){var n=s.show.load,a={edit:n,menu:n};r||(r=[]),r.local.forEach(function(e){var t;b({name:null,path:t=e,dobefore:a[e],funcName:\"template\"===t?\"get\":\"show\"})}),e()})}function P(e){var r=t.getFiles();g.on(\"current-file\",t.updateCurrentInfo),r&&t.setCurrentFile(r[0],{history:!location.hash});var n=t.getCurrentDirPath();if((v=g.Listeners).init(),function(){var e=[\"left\"];return g.config(\"onePanelMode\")?e:[].concat(e,[\"right\"])}().forEach(v.setOnPanel),v.initKeysPanel(),!g.config(\"dirStorage\"))return e();M.get(n,function(r,a){var o,i;a||(o=t.getCurrentDirPath(),i=(O.files||[]).filter(function(e){return\"..\"!==t.getCurrentName(e)}).map(function(e){var r=t.getCurrentName(e),n=t.getCurrentSize(e),a=t.getCurrentOwner(e),o=t.getCurrentMode(e),i=t.getCurrentDate(e);return{name:r,size:n,mode:o,owner:a,date:i}}),a={path:o,files:i},M.set(n,a)),e()})}function N(e,r,n,a){var o=n.history,i=n.noCurrent;y.get([\"file\",\"path\",\"link\",\"pathLink\"],function(u,s,c,f,d){var p=t.Dialog,C=r||t.getPanel(),h=O.dir,D=O.name;if(u)return p.alert(w,u.responseText);for(var M=C.childNodes.length;M--;)C.removeChild(C.lastChild);if(C.innerHTML=m({sort:n.sort,order:n.order,data:e,id:C.id,prefix:g.PREFIX,template:{file:s,path:c,pathLink:d,link:f}}),v.setOnPanel(C),!i){var y=void 0;\"..\"===D&&\"/\"!==h&&(y=t.getCurrentByName(h)),y||(y=t.getFiles(C)[0]),t.setCurrentFile(y,{history:o}),g.emit(\"active-dir\",O.dirPath)}l(a)})}this.loadDir=function(e,r){var n=e,a=n.isRefresh,o=n.panel,i=n.history,c=n.noCurrent,d=n.currentName,p=void 0;c||o&&o!==O.panel&&(t.changePanel(),p=!0);var v=void 0;(p||a||!i)&&(v=\"top\"),s.show.load(v,o),function(e,r,n,a){var o=function(o,i){var s=t.RESTful,c=r.currentName||O.name,d=f.parse(i),p=r.refresh,v=r.noCurrent;if(!p&&i)return N(d,n,r,a);var C=t.getPanelPosition(n),h=g.sort[C],m=g.order[C],D=u(\"?sort={{ sort }}&order={{ order }}\",{sort:h,order:m});s.read(e+D,\"json\",function(o,i){o||(r.sort=h,r.order=m,N(i,n,r,function(){p&&!v&&t.setCurrentByName(c),l(a)}),g.config(\"dirStorage\")&&M.set(e,i))})};r||(r={});if(g.log('reading dir: \"'+e+'\";'),!g.config(\"dirStorage\"))return o();M.get(e,o)}(n.path,{refresh:a,history:i,noCurrent:c,currentName:d},o,r)},this.init=function(e,r){var n=p(l.series,[F,P,k,l.with(g.route,location.hash)]);g.PREFIX=e,g.PREFIX_URL=e+C,g.config=function(e){return r[e]},g.config.if=d(function(e,t,n){return r[e]&&t(n)}),g._config=function(e,t){r[e]=t},t.Storage.setAllowed(g.config(\"localStorage\")),r.onePanelMode&&(g.MIN_ONE_PANEL_WIDTH=1/0),l.if(document.body.scrollIntoViewIfNeeded,n,function(r){var n=e+\"/join:\"+[g.DIRCLIENT_MODULES+\"polyfill.js\",\"/modules/domtokenlist-shim/dist/domtokenlist.min.js\"].join(\":\");t.loadJquery(function(){t.load.js(n,r)})})},this.join=function(e){var t=g.PREFIX;if(!Array.isArray(e))throw Error(\"urls should be array!\");var r=e.map(function(e){return e.replace(t,\"\")});return t+c(r)},this.route=function(e){var r=e.split(\"/\");if(e){var a=n(r,1)[0],o=E(a.slice(1)),i=r[1],u=t.getCurrentByName(i);if(!i||u)t.setCurrentFile(u),g.execFromModule(o,\"show\");else{var l=h(\"set current file\",i,\"error\");g.log(l)}}},this.logOut=function(){var e=g.PREFIX+\"/logout\";t.load.ajax({url:e,error:function(){return document.location.reload()}})},this.execFromModule=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=g[e],u=a.object(i);l.if(u,function(){g[e][t].apply(void 0,n)},i)},this.refresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];r||\"function\"!=typeof e||(r=e,e={});var n=e.panel||O.panel,a=t.getCurrentDirPath(n),o=!!e&&e.noCurrent,i=e.currentName;g.loadDir({path:a,isRefresh:!0,history:!1,panel:n,noCurrent:o,currentName:i},r)},this.goToParentDir=function(){var e=O.dir,r=O.dirPath,n=O.parentDirPath;if(r!==n){var a=n;g.loadDir({path:a},function(){var r=O.panel,n=t.getCurrentByName(e),a=t.getFiles(r)[0];t.setCurrentFile(n||a,{history:history})})}}}i(D,o),e.exports=new D(Util,DOM)},80:function(e,t,r){\"use strict\";r(109),r(86),r(85),r(84),window.exec=r(0),window.Emitify=r(14),e.exports=window.CloudCmd=function(e){window.Promise=window.Promise||r(78),window.Util=r(6),window.CloudFunc=r(5);var t=r(9);window.DOM=t,window.CloudCmd=r(63);var n=r(61),a=function(e){return e?e.indexOf(\"/\")?\"/\"+e:e:\"\"}(e.prefix),o=e.htmlDialogs;t.Dialog=n(a,{htmlDialogs:o}),r(60),r(56),r(46),window.CloudCmd.init(a,e)}},84:function(e,t){},85:function(e,t){},86:function(e,t){}});"
        },
        {
          "file_path": "/src/dist/modules/view.js",
          "match_lines": [
            1,
            1
          ],
          "match_position": [
            1815,
            1823
          ],
          "match_string": "!function(e){function n(n){for(var t,a,u=n[0],f=n[1],c=n[2],l=0,d=[];l<u.length;l++)a=u[l],o[a]&&d.push(o[a][0]),o[a]=0;for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&(e[t]=f[t]);for(s&&s(n);d.length;)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,n=0;n<i.length;n++){for(var r=i[n],t=!0,u=1;u<r.length;u++){var f=r[u];0!==o[f]&&(t=!1)}t&&(i.splice(n--,1),e=a(a.s=r[0]))}return e}var t={},o={11:0};var i=[];function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,n,r){a.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},a.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,\"a\",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p=\"\";var u=window.webpackJsonp=window.webpackJsonp||[],f=u.push.bind(u);u.push=n,u=u.slice();for(var c=0;c<u.length;c++)n(u[c]);var s=f;i.push([39,0]),r()}({39:function(e,n,r){\"use strict\";var t=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var r=[],t=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(e){o=!0,i=e}finally{try{!t&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};r(83);var i=r(4),a=r(13),u=r(0),f=r(1),c=r(6).time,s=r(5).FS,l=r(7),d=r(8),p=r(3),v=r(2),y=f(function(e,n){return n.test(e)}),h=f(function(e,n,r,t){return e(t,n,r)})(d.add),b=function(e){return RegExp(\"\\\\.\"+e+\"$\",\"i\")};CloudCmd.View=function(n){var r=n||u.with(P,null);m=!0,u.series([DOM.loadJquery,F,function(e){m=!1,u(e)}],r),j.parent=S=p({id:\"js-view\",name:\"div\",className:\"fancybox-overlay fancybox-overlay-fixed\"});return[\"click\",\"contextmenu\"].forEach(h(S,R)),e.exports},e.exports=u.bind(),e.exports.show=P,e.exports.hide=k;var m=!1,w=\"View\",g=DOM.CurrentInfo,x=CloudCmd.Key,O=function(e){return e.split(\"/\").pop()},C=void 0,E=void 0,S=void 0,j={beforeShow:function(e){v.hide(),x.unsetBind(),S.classList.add(\"view-overlay\"),u(e)},beforeClose:function(e){d.rmKey(B),x.setBind(),u(e),_()},afterShow:function(e){C.focus(),u(e)},afterClose:u,fitToView:!0,loop:!1,openEffect:\"none\",closeEffect:\"none\",autoSize:!1,height:\"100%\",width:\"100%\",minWidth:0,minHeight:0,padding:0,preload:0,keys:null,mouseWheel:!1,arrows:!1,helpers:{overlay:null,title:null}};function P(e,n){var r=CloudCmd.PREFIX_URL+s;if(!m)if(n&&!1===n.bindKeys||d.addKey(B),C=$('<div class=\"view\" tabindex=0>'),e){var f=$(C).append(e);$.fancybox.open(f,function(e,n){var r=o({},e);return n?(Object.keys(n).forEach(function(e){var t=!!r[e],o=n[e];if(i.function(o)&&t){var a=r[e];r[e]=function(){u.series([a,o])}}else r[e]=n[e]}),r):r}(j,n))}else{v.show.load();var c,p,y=r+g.path;switch(function(e){if(D(e))return\"image\";if(function(e){return M(e)||function(e){return/\\.(mp4|avi)$/i.test(e)}(e)}(e))return\"media\"}(y)){default:return g.getData(function(e,n){if(e)return v.hide();var r=document.createTextNode(n);C.css(\"margin\",\"2%\"),$.fancybox.open(C.append(r),j)});case\"image\":return function(e,n){var r=g.files.map(DOM.getCurrentPath).filter(D),t=r.map(function(e){return{href:n+e,title:O(e)}}),i=r.indexOf(g.path),a=o({},j,{index:i,autoSize:!0,type:\"image\",prevEffect:\"none\",nextEffect:\"none\",arrows:!0,keys:!0,helpers:{overlay:null,title:{}}});$.fancybox.open(t,a)}(0,r);case\"media\":return function(e,n){if(\"string\"!=typeof e)throw Error(\"src should be a string!\");if(\"function\"!=typeof n)throw Error(\"callback should be a function\")}(c=y,p=function(e){var n=DOM.getByDataName(\"js-media\",e),r=u.with(K,n);$.fancybox.open(e,{parent:S,beforeShow:function(){j.beforeShow(),d.addKey(r)},beforeClose:function(){j.beforeClose(),d.rmKey(r)},afterShow:function(){e.querySelector(\"audio, video\").focus()},helpers:{overlay:null,title:null}})}),void l.get(\"view/media-tmpl\",function(e,n){var r=g.name;if(e)return alert(e);E||(E=n);var o=M(r),i=o?\"audio\":\"video\",u=a(E,{src:c,type:i,name:r}),f=$(u),s=t(f,1),l=s[0];p(l)})}}}function k(){$.fancybox.close()}function D(e){return[\"jp(e|g|eg)\",\"gif\",\"png\",\"bmp\",\"webp\",\"svg\",\"ico\"].map(b).some(y(e))}function M(e){return/\\.(mp3|ogg|m4a)$/i.test(e)}function K(e,n){n.keyCode===x.SPACE&&(e.paused?e.play():e.pause())}function F(e){c(w+\" load\"),DOM.loadRemote(\"fancybox\",function(){var n=CloudCmd.PREFIX;p.css(n+\"/dist/view.css\",e),p.style({id:\"view-inlince-css\",inner:[\".fancybox-title-float-wrap .child {\",\"-webkit-border-radius: 0;\",\"-moz-border-radius: 0;\",\"border-radius: 0;\",\"}\"].join(\"\")})})}function R(e){var n=e.target===S,r={x:e.clientX,y:e.clientY};n&&(_(),k(),function(e){var n=DOM.getCurrentByPosition(e);if(!n)return;var r=g.files,t=g.filesPassive,o=~r.indexOf(n),i=~t.indexOf(n);if(!o&&!i)return;if(DOM.isCurrentFile(n))return;DOM.setCurrentFile(n)}(r))}function _(){S.classList.remove(\"view-overlay\")}function B(e){e.keyCode===x.ESC&&k()}},83:function(e,n){}});"
        },
        {
          "file_path": "/src/server/rest/index.js",
          "match_lines": [
            86,
            87
          ],
          "match_position": [
            5,
            50
          ],
          "match_string": "    const p = params;\n\n    const isMD = RegExp('^/markdown').test(p.name);"
        }
      ],
      "metadata": {
        "cwe": "CWE-185: Incorrect Regular Expression",
        "description": "Ensure that the regex used to compare with user supplied input is safe from regular expression denial of service.",
        "owasp": "A6: Security Misconfiguration",
        "severity": "WARNING"
      }
    }
  },
  "templates": {}
}

/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-284-return Object.keys(s).forEach((function(e){a[e]=s[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,s){return s(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:285:const D=Ember.HTMLBars.template({id:"ExZxDTRJ",block:'{"symbols":["@skipStep","@backStep"],"statements":[[10,"div"],[14,0,"gh-launch-wizard-settings-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-stack overflow-y-auto flex-grow-1"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-stack-item gh-setting-first"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-launch-wizard-stripe-info"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex justify-between items-center mb2"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"How you get paid"],[13],[2,"\\n                    "],[1,[30,[36,6],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"\\n                    Stripe is our exclusive direct payments partner. Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you don’t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,2],[[32,0,["config","stripeDirect"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-stack-item gh-setting flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n                    "],[10,"label"],[14,"for","stripe-publishable-key"],[14,0,"gh-setting-title"],[12],[2,"Stripe Publishable key"],[13],[2,"\\n                    "],[8,"gh-text-input",[[24,0,"mt1 password"],[4,[38,3],["input",[32,0,["setStripeDirectPublicKey"]]],null]],[["@id","@type","@value"],["stripe-publishable-key","password",[30,[36,5],[[32,0,["settings","stripePublishableKey"]]],null]]],null],[2,"\\n                    "],[6,[37,2],[[32,0,["stripePublishableKeyError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripePublishableKeyError"]]],[13]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"label"],[14,"for","stripe-secret-key"],[14,0,"gh-setting-title"],[12],[2,"Stripe Secret key"],[13],[2,"\\n                    "],[8,"gh-text-input",[[24,0,"mt1 password"],[4,[38,3],["input",[32,0,["setStripeDirectSecretKey"]]],null]],[["@id","@type","@value"],["stripe-secret-key","password",[30,[36,5],[[32,0,["settings","stripeSecretKey"]]],null]]],null],[2,"\\n                    "],[6,[37,2],[[32,0,["stripeSecretKeyError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeSecretKeyError"]]],[13]],"parameters":[]}]]],[2,"\\n                    "],[10,"a"],[14,6,"https://dashboard.stripe.com/account/apikeys"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"mt1 fw4 f8"],[12],[2,"\\n                        Find your Stripe API keys here »\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[11,"a"],[24,6,"javascript:void(0)"],[4,[38,3],["click",[32,1]],null],[12],[2,"Skip"],[13],[2," if you don\'t want to offer paid subscriptions."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"gh-stack-item gh-setting flex-wrap"],[12],[2,"\\n"],[6,[37,2],[[32,0,["settings","stripeConnectAccountId"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-setting-title"],[12],[2,"Already connected to Stripe"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-setting-desc mt2"],[12],[2,"\\n                            Connected to "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/",[32,0,["settings","stripeConnectAccountId"]]]]],[14,"target","_blank"],[12],[1,[32,0,["settings","stripeConnectDisplayName"]]],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["settings","stripeConnectLivemode"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-members-connect-testmodelabel"],[12],[2,"Test mode"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"p"],[14,0,"red ma0 pa0 f8 nudge-bottom--2"],[12],[2,"\\n                            Cannot disconnect while there are members with active Stripe subscriptions.\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,3],["click",[30,[36,1],[[32,0,["openDisconnectStripeConnectModalTask"]]],null]],null],[12],[10,"span"],[12],[2,"Disconnect"],[13],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Generate secure key"],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex items-center mb4 gh-members-connectbutton-container justify-between mt2"],[12],[2,"\\n                            "],[10,"a"],[15,6,[31,[[32,0,["stripeConnectAuthUrl"]]]]],[14,0,"stripe-connect"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Connect with Stripe"],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"ml2 flex items-center flex-nowrap"],[12],[2,"\\n                                "],[10,"span"],[15,0,[31,["mr2 f8 midgrey nowrap ",[30,[36,2],[[32,0,["stripeConnectTestMode"]],"gh-members-connect-testmodeon"],null]]]],[12],[2,"Test mode"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[11,"label"],[24,0,"switch"],[24,"for","stripe-connect-test-mode"],[4,[38,3],["click",[32,0,["toggleStripeConnectTestMode"]]],null],[12],[2,"\\n                                        "],[11,"input"],[24,0,"gh-input"],[16,"checked",[32,0,["stripeConnectTestMode"]]],[24,4,"checkbox"],[4,[38,3],["click",[32,0,["toggleStripeConnectTestMode"]]],null],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[8,"gh-textarea",[[24,0,"gh-launch-wizard-stripe-connect-token"],[24,"placeholder","Paste your secure key here"],[4,[38,3],["input",[32,0,["setStripeConnectIntegrationToken"]]],null]],[[],[]],null],[2,"\\n                            "],[6,[37,2],[[32,0,["stripeConnectError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeConnectError"]]],[13]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-desc skip-step"],[12],[11,"a"],[24,6,"javascript:void(0)"],[4,[38,3],["click",[32,1]],null],[12],[2,"Skip"],[13],[2," if you don\'t want to offer paid subscriptions."],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-launch-wizard-nav-buttons"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-outline gh-btn-icon-dark gh-btn-large w-30"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[10,"span"],[12],[1,[30,[36,6],["arrow-left-tail"],null]],[13],[13],[2,"\\n\\n        "],[8,"gh-task-button",[],[["@task","@runningText","@class"],[[32,0,["saveAndContinueTask"]],"Saving","w-70 ml4 right gh-btn gh-btn-black gh-btn-large gh-btn-icon-right"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],[[32,0,["settings","stripeConnectAccountId"]],"Continue","Save and continue"],null]],[1,[30,[36,6],["arrow-right-tail"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showDisconnectStripeConnectModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["disconnect-stripe",[30,[36,0],null,[["stripeConnectAccountName"],[[32,0,["settings","stripeConnectDisplayName"]]]]],[30,[36,1],[[32,0,["disconnectStripeConnectIntegrationTask"]]],null],[32,0,["closeDisconnectStripeModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","perform","if","on","unless","readonly","svg-jar"]}',meta:{moduleName:"ghost-admin/components/gh-launch-wizard/connect-stripe.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-286-let z=(r=Ember.inject.service,a=Ember.inject.service,i=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,d=Ember._tracked,u=Ember._tracked,c=Ember._tracked,m=Ember._tracked,p=Ember._tracked,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=(0,n.task)({drop:!0}),y=Ember._action,w=class extends t.default{get stripeConnectAuthUrl(){const e=this.stripeConnectTestMode?"test":"live"
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-439-e.default=i})),define("ghost-admin/components/gh-members-email-setting",["exports","ember-concurrency"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:440:const n=Ember.HTMLBars.template({id:"z83u2uFV",block:'{"symbols":["region"],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Email design"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize the look and feel of email newsletters"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["showEmailDesignSettings",[32,0]],null]],null],[12],[10,"span"],[12],[2," Customize "],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Email"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Email addresses"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Contact information used for newsletters and member login emails"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["membersFromOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,3],[[32,0,["membersFromOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["membersFromOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Support email address"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center justify-center mt1"],[12],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@input","@class"],[[30,[36,1],[[32,0,["supportAddress"]]],null],[30,[36,0],[[32,0],"setSupportAddress"],[["value"],["target.value"]]],"gh-labs-members-emailinput"]],null],[2,"\\n                                "],[8,"gh-task-button",[],[["@buttonText","@runningText","@successText","@disabled","@task","@class"],["Update support address","Sending...","Confirmation email sent",[32,0,["disableUpdateSupportAddressButton"]],[32,0,["updateSupportAddress"]],"gh-btn gh-btn-green gh-btn-icon gh-btn-textfield-group gh-labs-members-emaildropdown"]],null],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,0,"nt5 mb5"],[12],[2,"\\n                            "],[10,"span"],[14,0,"mt1 fw4 f8 midgrey"],[12],[2,"\\n                                How members can reach you for help with their account (public)\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,3],[[32,0,["showSupportAddressConfirmation"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"flex items-center green-d1 nt3 lh-1"],[12],[2,"\\n                            "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 mr1 stroke-green-d1"]]]],[2," "],[10,"span"],[14,0,"nudge-left--2"],[12],[2,"Check your inbox and confirm before saving your settings"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Newsletter email address"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center justify-center mt1"],[12],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@input","@class"],[[30,[36,1],[[32,0,["fromAddress"]]],null],[30,[36,0],[[32,0],"setFromAddress"],[["value"],["target.value"]]],"gh-labs-members-emailinput"]],null],[2,"\\n                                "],[8,"gh-task-button",[],[["@buttonText","@runningText","@successText","@disabled","@task","@class"],["Update newsletter address","Sending...","Confirmation email sent",[32,0,["disableUpdateFromAddressButton"]],[32,0,["updateFromAddress"]],"gh-btn gh-btn-icon gh-btn-green gh-btn-textfield-group gh-labs-members-emaildropdown"]],null],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,0,"nt5 mb5"],[12],[2,"\\n                            "],[10,"span"],[14,0,"mt1 fw4 f8 midgrey"],[12],[2,"\\n                                The address your newsletter posts are sent from\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,3],[[32,0,["showFromAddressConfirmation"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"flex items-center green-d1 nt3 lh-1"],[12],[2,"\\n                            "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 mr1 stroke-green-d1"]]]],[2," "],[10,"span"],[14,0,"nudge-left--2"],[12],[2,"Check your inbox and confirm before saving your settings"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"mt8 mb8"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@class"],["for-select gh-labs-members-defaultemaildd"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[14,"for","reply-address"],[12],[2,"Newsletter replies go to"],[13],[2,"\\n                            "],[10,"span"],[14,0,"gh-select mt1"],[12],[2,"\\n                                "],[1,[30,[36,6],[[32,0,["selectedReplyAddress"]]],[["id","name","options","optionValuePath","optionLabelPath","update"],["reply-address","reply-address",[30,[36,1],[[32,0,["replyAddresses"]]],null],"value","label",[30,[36,0],[[32,0],"setReplyAddress"],null]]]]],[2,"\\n                                "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,0,"nt5 mb5"],[12],[2,"\\n                            "],[10,"span"],[14,0,"mt1 fw4 f8 midgrey"],[12],[2,"\\n                                Where you receive responses to newsletters\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable newsletter open-rate analytics"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Track how many members are reading your emails"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[11,"label"],[24,0,"switch"],[24,"for","email-track-opens"],[4,[38,7],["click",[30,[36,0],[[32,0],"toggleEmailTrackOpens"],null]],null],[12],[2,"\\n                        "],[11,"input"],[16,"checked",[32,0,["emailTrackOpens"]]],[24,0,"gh-input"],[24,3,"email-track-opens"],[24,4,"checkbox"],[4,[38,7],["click",[30,[36,0],[[32,0],"toggleEmailTrackOpens"],null]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,8],[[32,0,["mailgunIsConfigured"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Email newsletter settings"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The "],[10,"a"],[14,6,"https://www.mailgun.com/"],[14,"target","_blank"],[14,"rel","nofollow noopener"],[12],[2,"Mailgun API"],[13],[2," is used for bulk email newsletter delivery. "],[10,"a"],[14,6,"https://ghost.org/docs/faq/mailgun-newsletters/"],[14,"target","_blank"],[14,"rel","noopener"],[12],[2,"Why is this required?"],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["membersEmailOpen",[32,0]],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,3],[[32,0,["membersEmailOpen"]],"Close","Expand"],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["membersEmailOpen"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex flex-column w-100 w-50-l flex"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@class"],["gh-labs-mailgun-region"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun region"],[13],[2,"\\n                            "],[10,"div"],[14,0,"mt1"],[12],[2,"\\n                                "],[8,"power-select",[],[["@options","@selected","@onChange","@searchEnabled","@triggerComponent"],[[32,0,["mailgunRegions"]],[32,0,["mailgunRegion"]],[30,[36,0],[[32,0],"setMailgunRegion"],null],false,"gh-power-select/trigger"]],[["default"],[{"statements":[[2,"\\n                                    "],[1,[32,1,["flag"]]],[2," "],[1,[32,1,["name"]]],[2,"\\n                                "]],"parameters":[1]}]]],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun domain"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@value","@input","@class"],[[30,[36,1],[[32,0,["mailgunSettings","domain"]]],null],[30,[36,0],[[32,0],"setMailgunDomain"],null],"mt1"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"nt5 mb5"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://app.mailgun.com/app/sending/domains"],[14,"target","_blank"],[14,0,"mt1 fw4 f8"],[12],[2,"\\n                            Find your Mailgun region and domain here »\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun API key"],[13],[2,"\\n                        "],[8,"gh-text-input",[],[["@type","@value","@input","@class","@autocomplete"],["password",[30,[36,1],[[32,0,["mailgunSettings","apiKey"]]],null],[30,[36,0],[[32,0],"setMailgunApiKey"],null],"mt1 password","new-password"]],null],[2,"\\n                        "],[10,"a"],[14,6,"https://app.mailgun.com/app/account/security/api_keys"],[14,"target","_blank"],[14,0,"mt1 fw4 f8"],[12],[2,"\\n                            Find your Mailgun API keys here »\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leavePortalSettings"],null],[30,[36,0],[[32,0],"closeLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showEmailDesignSettings"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modifier"],["full-overlay portal-settings"]],[["default"],[{"statements":[[2,"\\n        "],[8,"modal-email-design-settings",[],[["@closeModal"],[[30,[36,0],[[32,0],"closeEmailDesignSettings"],null]]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","readonly","toggle","if","liquid-if","svg-jar","one-way-select","on","unless"]}',meta:{moduleName:"ghost-admin/components/gh-members-email-setting.hbs"}}),s={flag:"🇺🇸",name:"US",baseUrl:"https://api.mailgun.net/v3"},r={flag:"🇪🇺",name:"EU",baseUrl:"https://api.eu.mailgun.net/v3"},a=[{label:"Newsletter email address",value:"newsletter"},{label:"Support email address",value:"support"}]
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-441-var i=Ember._setComponentTemplate(n,Ember.Component.extend({feature:Ember.inject.service(),config:Ember.inject.service(),mediaQueries:Ember.inject.service(),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),settings:Ember.inject.service(),replyAddresses:null,showFromAddressConfirmation:!1,showSupportAddressConfirmation:!1,showEmailDesignSettings:!1,showLeaveSettingsModal:!1,mailgunIsConfigured:Ember.computed.reads("config.mailgunIsConfigured"),emailTrackOpens:Ember.computed.reads("settings.emailTrackOpens"),selectedReplyAddress:Ember.computed("settings.membersReplyAddress",(function(){return a.findBy("value",this.get("settings.membersReplyAddress"))})),disableUpdateFromAddressButton:Ember.computed("fromAddress",(function(){const e=this.get("settings.membersFromAddress")||""
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-443-return!e.includes("@")&&this.blogDomain?!this.supportAddress||this.supportAddress===`${e}@${this.blogDomain}`:!this.supportAddress||this.supportAddress===e})),blogDomain:Ember.computed("config.blogDomain",(function(){const e=(this.config.blogDomain||"").replace("https://","").replace("http://","").match(new RegExp("^([^/:?#]+)(?:[/:?#]|$)","i")),t=e&&e[1]||""
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:444:return t.startsWith("www.")?t.replace(/^(www)\.(?=[^/]*\..{2,5})/,""):t})),mailgunRegion:Ember.computed("settings.mailgunBaseUrl",(function(){return this.settings.get("mailgunBaseUrl")?[s,r].find((e=>e.baseUrl===this.settings.get("mailgunBaseUrl"))):s})),mailgunSettings:Ember.computed("settings.{mailgunBaseUrl,mailgunApiKey,mailgunDomain}",(function(){return{apiKey:this.get("settings.mailgunApiKey")||"",domain:this.get("settings.mailgunDomain")||"",baseUrl:this.get("settings.mailgunBaseUrl")||""}})),init(){this._super(...arguments),this.set("mailgunRegions",[s,r]),this.set("replyAddresses",a)},actions:{toggleFromAddressConfirmation(){this.toggleProperty("showFromAddressConfirmation")},closeEmailDesignSettings(){this.set("showEmailDesignSettings",!1)},setMailgunDomain(e){this.set("settings.mailgunDomain",e.target.value),this.get("settings.mailgunBaseUrl")||this.set("settings.mailgunBaseUrl",this.mailgunRegion.baseUrl)},setMailgunApiKey(e){this.set("settings.mailgunApiKey",e.target.value),this.get("settings.mailgunBaseUrl")||this.set("settings.mailgunBaseUrl",this.mailgunRegion.baseUrl)},setMailgunRegion(e){this.set("settings.mailgunBaseUrl",e.baseUrl)},setFromAddress(e){this.setEmailAddress("fromAddress",e)},setSupportAddress(e){this.setEmailAddress("supportAddress",e)},toggleEmailTrackOpens(e){e&&e.preventDefault(),this.set("settings.emailTrackOpens",!this.get("emailTrackOpens"))},setReplyAddress(e){const t=e.value
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-445-this.set("settings.membersReplyAddress",t)},closeLeaveSettingsModal(){this.set("showLeaveSettingsModal",!1)}},updateFromAddress:(0,t.task)((function*(){let e=this.get("ghostPaths.url").api("/settings/members/email")
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-482-e.default=g,Ember._setComponentTemplate(h,g)})),define("ghost-admin/components/gh-members-payments-setting",["exports","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:483:const s=Ember.HTMLBars.template({id:"O0QCFlFN",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n\\n"],[6,[37,4],[[32,0,["stripeDirect"]]],null,[["default","else"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Connect to Stripe"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Configure API keys to create subscriptions and take payments"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,5],["membersStripeOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,4],[[32,0,["membersStripeOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,6],[[32,0,["membersStripeOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"flex flex-column flex-row-l items-start justify-between mb4 mt6"],[12],[2,"\\n                            "],[10,"div"],[14,0,"w-100 w-50-l"],[12],[2,"\\n                                "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Stripe Publishable key"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@type","@value","@input","@class"],["password",[30,[36,7],[[32,0,["stripeDirectPublicKey"]]],null],[30,[36,1],[[32,0],"setStripeDirectPublicKey"],null],"mt1 password"]],null],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"nudge-top--3"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"fw6 f8 mt4"],[12],[2,"Stripe Secret key"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@type","@value","@input","@class"],["password",[30,[36,7],[[32,0,["stripeDirectSecretKey"]]],null],[30,[36,1],[[32,0],"setStripeDirectSecretKey"],null],"mt1 password"]],null],[2,"\\n                                    "],[10,"a"],[14,6,"https://dashboard.stripe.com/account/apikeys"],[14,"target","_blank"],[14,0,"mt1 fw4 f8"],[12],[2,"\\n                                        Find your Stripe API keys here »\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"ml0 ml5-l mt6"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-members-stripe-info"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                                        "],[10,"h4"],[12],[2,"How you get paid"],[13],[2,"\\n                                        "],[1,[30,[36,9],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                                        Stripe is our exclusive direct payments partner."],[10,"br"],[12],[13],[2,"\\n                                        Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you don’t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Connect to Stripe"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n"],[6,[37,4],[[32,0,["stripeConnectAccountId"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"red"],[12],[2,"\\n                                    Cannot disconnect while there are members with active Stripe subscriptions.\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[2,"\\n"],[6,[37,4],[[32,0,["stripeConnectSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,9],["check-circle"],[["class"],["stroke-green w4 h4 nudge-top--3"]]]],[2," "],[10,"span"],[14,0,"green-d1"],[12],[2,"Successfully connected to "],[1,[32,0,["stripeConnectAccountName"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        Connected to "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/",[32,0,["stripeConnectAccountId"]]]]],[14,"target","_blank"],[12],[1,[32,0,["stripeConnectAccountName"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,12],[[32,0,["stripeConnectLivemode"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"gh-members-connect-testmodelabel"],[12],[2,"Test mode"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[2,"Connect to Stripe to create subscriptions and take payments"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["stripeConnectAccountId"]]],null,[["default","else"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],"openDisconnectStripeModal"],null],[12],[10,"span"],[12],[2,"Disconnect"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,5],["membersStripeOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,4],[[32,0,["membersStripeOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,6],[[32,0,["membersStripeOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"mb2"],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-column flex-row-l items-start justify-between"],[12],[2,"\\n                            "],[10,"div"],[14,0,"w-100 w-50-l"],[12],[2,"\\n                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Generate secure key"],[13],[2,"\\n                                "],[10,"div"],[14,0,"flex items-center mb4 justify-between gh-members-connectbutton-container mt2"],[12],[2,"\\n                                    "],[10,"a"],[15,6,[31,[[30,[36,4],[[32,0,["stripeConnectTestMode"]],[32,0,["testStripeConnectAuthUrl"]],[32,0,["liveStripeConnectAuthUrl"]]],null]]]],[14,0,"stripe-connect light-blue"],[14,"target","_blank"],[12],[10,"span"],[12],[2,"Connect with Stripe"],[13],[13],[2,"\\n                                    "],[10,"div"],[14,0,"ml2 flex items-center flex-nowrap"],[12],[2,"\\n                                        "],[10,"span"],[15,0,[31,["mr2 f8 midgrey nowrap ",[30,[36,4],[[32,0,["stripeConnectTestMode"]],"gh-members-connect-testmodeon"],null]]]],[12],[1,[30,[36,4],[[32,0,["stripeConnectTestMode"]],"Using","Use"],null]],[2," test mode"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                            "],[11,"label"],[24,0,"switch"],[24,"for","stripe-connect-test-mode"],[4,[38,1],[[32,0],[30,[36,5],["stripeConnectTestMode",[32,0]],null]],[["bubbles"],["false"]]],[12],[2,"\\n                                                "],[10,"input"],[14,0,"gh-input"],[15,"checked",[32,0,["stripeConnectTestMode"]]],[15,"onclick",[30,[36,1],[[32,0],[30,[36,5],["stripeConnectTestMode",[32,0]],null]],null]],[14,4,"checkbox"],[12],[13],[2,"\\n                                                "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"nudge-top--3"],[12],[2,"\\n                                    "],[8,"gh-textarea",[],[["@class","@placeholder","@input"],["gh-members-stripe-connect-token","Paste your secure key here",[30,[36,1],[[32,0],"setStripeConnectIntegrationToken"],null]]],null],[2,"\\n                                    "],[6,[37,4],[[32,0,["stripeConnectError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeConnectError"]]],[13]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"mt5 mt5-m mt8-l ml0 ml5-l"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-members-stripe-info"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                                        "],[10,"h4"],[12],[2,"How you get paid"],[13],[2,"\\n                                        "],[1,[30,[36,9],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                                        Stripe is our exclusive direct payments partner."],[10,"br"],[12],[13],[2,"\\n                                        Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you don’t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[15,0,[31,["gh-members-connect-savecontainer ",[30,[36,4],[[32,0,["settings","stripeConnectIntegrationToken"]],"expanded"],null]]]],[12],[2,"\\n                            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@disabled","@runningText","@class"],["Save Stripe settings",[32,0,["saveStripeSettings"]],"Saved",[30,[36,11],[[32,0,["settings","stripeConnectIntegrationToken"]]],null],"Saving","gh-btn gh-btn-green gh-btn-icon"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Subscription pricing"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set monthly and yearly recurring subscription prices"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,5],["membersPricingOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,4],[[32,0,["membersPricingOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,6],[[32,0,["membersPricingOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"w-100 w-50-l flex flex-column flex-row-ns"],[12],[2,"\\n                        "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@class"],["for-select"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,0,"fw6 f8"],[14,"for","currency"],[12],[2,"Plan currency"],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-select mt1"],[12],[2,"\\n                                    "],[1,[30,[36,8],[[32,0,["selectedCurrency"]]],[["id","name","options","optionValuePath","optionLabelPath","update"],["currency","currency",[30,[36,7],[[32,0,["allCurrencies"]]],null],"value","label",[30,[36,1],[[32,0],"setStripePlansCurrency"],null]]]]],[2,"\\n                                    "],[1,[30,[36,9],["arrow-down-small"],null]],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"w-100 w-50-l flex flex-column flex-row-ns"],[12],[2,"\\n                        "],[10,"div"],[14,0,"w-100 w-50-ns mr3-ns"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[34,2,["hasValidated"]],"stripePlans"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Monthly price"],[13],[2,"\\n\\n                            "],[10,"div"],[14,0,"flex items-center justify-center mt1 gh-input-group gh-labs-price-label"],[12],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@type","@input","@focus-out"],[[30,[36,7],[[32,0,["stripePlans","monthly","amount"]]],null],"number",[30,[36,1],[[32,0],[30,[36,10],[[32,0,["_scratchStripeMonthlyAmount"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validateStripePlans"],null]]],null],[2,"\\n                                "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["stripePlans","monthly","currency"]]],[13],[2,"/month"],[13],[2,"\\n                            "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"w-100 w-50-ns ml2-ns"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[34,2,["hasValidated"]],"stripePlans"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Yearly price"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center justify-center mt1 gh-input-group gh-labs-price-label"],[12],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@type","@input","@focus-out"],[[30,[36,7],[[32,0,["stripePlans","yearly","amount"]]],null],"number",[30,[36,1],[[32,0],[30,[36,10],[[32,0,["_scratchStripeYearlyAmount"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validateStripePlans"],null]]],null],[2,"\\n                                "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["stripePlans","yearly","currency"]]],[13],[2,"/year"],[13],[2,"\\n                            "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"w-100 w-50-l flex flex-column flex-row-ns"],[12],[2,"\\n                        "],[8,"gh-error-message",[[24,0,"w-100 red"]],[["@errors","@property"],[[34,2,["errors"]],"stripePlans"]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,12],[[30,[36,13],null,null]],null,[["default"],[{"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Access"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Allow free member signup"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"If disabled, members can only be signed up via payment checkout or API integration"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[11,"label"],[24,0,"switch"],[24,"for","members-allow-self-signup"],[4,[38,1],[[32,0],"toggleSelfSignup"],[["bubbles"],["false"]]],[12],[2,"\\n                        "],[10,"input"],[15,"checked",[32,0,["allowSelfSignup"]]],[14,0,"gh-input"],[15,"onclick",[30,[36,1],[[32,0],"toggleSelfSignup"],null]],[14,4,"checkbox"],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Default post access"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"When a new post is created, who should have access to it?"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,5],["membersPostAccessOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,4],[[32,0,["membersPostAccessOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,6],[[32,0,["membersPostAccessOpen"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex flex-column w-50 flex"],[12],[2,"\\n                    "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,4],[[30,[36,3],[[35,2,["defaultContentVisibility"]],"public"],null],"active"],null]]]],[4,[38,1],[[32,0],"setDefaultContentVisibility","public"],[["on"],["click"]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Public"],[10,"br"],[12],[13],[2,"\\n                            "],[10,"small"],[14,0,"midgrey"],[12],[2,"All site visitors to your site, no login required"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,4],[[30,[36,3],[[35,2,["defaultContentVisibility"]],"members"],null],"active"],null]]]],[4,[38,1],[[32,0],"setDefaultContentVisibility","members"],[["on"],["click"]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Members only"],[10,"br"],[12],[13],[2,"\\n                            "],[10,"small"],[14,0,"midgrey"],[12],[2,"All logged-in members"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,4],[[30,[36,3],[[35,2,["defaultContentVisibility"]],"paid"],null],"active"],null]]]],[4,[38,1],[[32,0],"setDefaultContentVisibility","paid"],[["on"],["click"]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Paid-members only"],[10,"br"],[12],[13],[2,"\\n                            "],[10,"small"],[14,0,"midgrey"],[12],[2,"Only logged-in members with an active Stripe subscription"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showDisconnectStripeConnectModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["disconnect-stripe",[30,[36,0],null,[["stripeConnectAccountName"],[[32,0,["stripeConnectAccountName"]]]]],[30,[36,1],[[32,0],"disconnectStripeConnectIntegration"],null],[30,[36,1],[[32,0],"closeDisconnectStripeModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","action","settings","eq","if","toggle","liquid-if","readonly","one-way-select","svg-jar","mut","is-empty","unless","enable-developer-experiments"]}',meta:{moduleName:"ghost-admin/components/gh-members-payments-setting.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-484-var r=Ember._setComponentTemplate(s,Ember.Component.extend({feature:Ember.inject.service(),config:Ember.inject.service(),mediaQueries:Ember.inject.service(),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),settings:Ember.inject.service(),topCurrencies:null,currencies:null,allCurrencies:null,stripePlanInvalidAmount:!1,_scratchStripeYearlyAmount:null,_scratchStripeMonthlyAmount:null,setStripeConnectIntegrationTokenSetting(){},defaultContentVisibility:Ember.computed.reads("settings.defaultContentVisibility"),stripeDirect:Ember.computed.reads("config.stripeDirect"),allowSelfSignup:Ember.computed.reads("settings.membersAllowFreeSignup"),stripeDirectPublicKey:Ember.computed.reads("settings.stripePublishableKey"),stripeDirectSecretKey:Ember.computed.reads("settings.stripeSecretKey"),stripeConnectAccountId:Ember.computed.reads("settings.stripeConnectAccountId"),stripeConnectAccountName:Ember.computed.reads("settings.stripeConnectDisplayName"),stripeConnectLivemode:Ember.computed.reads("settings.stripeConnectLivemode"),selectedCurrency:Ember.computed("stripePlans.monthly.currency",(function(){return this.get("currencies").findBy("value",this.get("stripePlans.monthly.currency"))||this.get("topCurrencies").findBy("value",this.get("stripePlans.monthly.currency"))})),blogDomain:Ember.computed("config.blogDomain",(function(){const e=(this.config.blogDomain||"").replace("https://","").replace("http://","").match(new RegExp("^([^/:?#]+)(?:[/:?#]|$)","i"))
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-565-const r=Ember.HTMLBars.template({id:"CetkO7ST",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n    "],[11,"button"],[24,0,"back settings-menu-header-action"],[4,[38,6],["click",[32,0,["close"]]],null],[12],[1,[30,[36,0],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n    "],[10,"h4"],[12],[2,"Email newsletter"],[13],[2,"\\n    "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"settings-menu-content settings-menu-email"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post","email","isSuccess"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"ba b--whitegrey bg-white br3"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex pa5 pt4 pb4 items-center bb b--whitegrey"],[12],[2,"\\n                "],[10,"div"],[14,0,"w16 flex flex-column items-center"],[12],[2,"\\n                    "],[10,"span"],[14,0,"db mr4 mt3"],[12],[1,[30,[36,0],["send-email"],[["class"],["w7 h7 stroke-darkgrey"]]]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-center"],[12],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 midgrey"],[12],[2,"Post was sent by email to"],[13],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 f5 lh-solid"],[12],[1,[30,[36,7],[[32,0,["post","email","emailCount"]],"member"],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 f7 bb b--whitegrey"],[12],[2,"\\n                "],[10,"table"],[14,0,"ma0"],[14,5,"table-layout: fixed"],[12],[2,"\\n                    "],[10,"tbody"],[12],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 v-top lh-copy"],[12],[2,"Subject:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pa0 midgrey v-top lh-copy"],[12],[1,[32,0,["post","email","subject"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy"],[12],[2,"Sent:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pa0 midgrey v-top lh-copy"],[12],[1,[30,[36,8],[[32,0,["post","email","createdAtUTC"]]],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3"],[12],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[11,"button"],[24,0,"blue"],[4,[38,6],["click",[32,0,["toggleEmailPreview"]]],null],[12],[2,"View sent email"],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,9],[[32,0,["retryEmail","isRunning"]],[32,0,["post","email","isFailure"]]],null]],null,[["default","else"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-box-error"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex pa5 pt4 pb4 items-center bb b--whitegrey"],[12],[2,"\\n                "],[10,"div"],[14,0,"w16 flex flex-column items-center"],[12],[2,"\\n                    "],[10,"span"],[14,0,"db mr4 mt3"],[12],[1,[30,[36,0],["warning"],[["class"],["w7 h7 fill-red"]]]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-center"],[12],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 midgrey"],[12],[2,"Post failed to send to"],[13],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 f5 lh-solid"],[12],[1,[30,[36,7],[[32,0,["post","email","emailCount"]],"member"],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 f7 bb b--whitegrey"],[12],[2,"\\n                "],[10,"p"],[14,0,"mb2 lh-copy"],[12],[2,"\\n"],[6,[37,1],[[32,0,["session","user","isOwner"]]],null,[["default","else"],[{"statements":[[2,"                        Email failed to send when publishing this post. Please verify your email settings if the error persists.\\n"]],"parameters":[]},{"statements":[[2,"                        Email failed to send when publishing this post. Please verify your email settings if the error persists.\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                    "],[10,"table"],[14,0,"ma0"],[14,5,"table-layout: fixed"],[12],[2,"\\n                        "],[10,"tbody"],[12],[2,"\\n                            "],[10,"tr"],[12],[2,"\\n                                "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 v-top lh-copy"],[12],[2,"Error:"],[13],[2,"\\n                                "],[10,"td"],[14,0,"pa1 pl0 midgrey v-top lh-copy"],[12],[1,[32,0,["post","email","error"]]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 f7 bb b--whitegrey"],[12],[2,"\\n                "],[10,"table"],[14,0,"ma0"],[14,5,"table-layout: fixed"],[12],[2,"\\n                    "],[10,"tbody"],[12],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 v-top lh-copy"],[12],[2,"Subject:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 truncate midgrey v-top lh-copy"],[12],[1,[32,0,["post","email","subject"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy"],[12],[2,"Tried:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 truncate midgrey v-top lh-copy"],[12],[1,[30,[36,8],[[32,0,["post","email","createdAtUTC"]]],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 flex justify-between items center"],[12],[2,"\\n                "],[11,"button"],[24,0,"blue"],[4,[38,6],["click",[32,0,["toggleEmailPreview"]]],null],[12],[2,"View email"],[13],[2,"\\n                "],[8,"gh-task-button",[],[["@buttonText","@runningText","@task","@class"],["Retry send","Sending...",[32,0,["retryEmail"]],"gh-btn gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["mailgunError"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"gh-box gh-box-alert settings-menu-mailgun-alert"],[12],[2,"\\n                "],[1,[30,[36,0],["info"],[["class"],["w5 h5 fill-yellow nl1"]]]],[2,"\\n                You need to configure Mailgun in "],[8,"link-to",[],[["@route"],["settings.members-email"]],[["default"],[{"statements":[[2,"Settings → Email newsletter"]],"parameters":[]}]]],[2," to enable email newsletters.\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[11,"form"],[4,[38,2],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"emailSubject"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","og-title"],[12],[2,"Subject"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation","@disabled"],["post-setting-email-subject","email-subject","post-setting-email-subject",[30,[36,3],[[32,0,["emailSubject"]],40],null],[30,[36,4],[[32,0,["emailSubjectScratch"]]],null],[30,[36,2],[[32,0],[30,[36,5],[[32,0,["emailSubjectScratch"]]],null]],[["value"],["target.value"]]],[30,[36,2],[[32,0],"setEmailSubject",[32,0,["emailSubjectScratch"]]],null],true,[32,0,["mailgunError"]]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"emailSubject"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                    "],[10,"label"],[14,0,"nowrap flex-auto"],[12],[2,"Test email"],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-link settings-menu-email-button"],[24,4,"button"],[4,[38,6],["click",[32,0,["toggleEmailPreview"]]],null],[12],[2,"\\n                        "],[10,"span"],[14,0,"green"],[12],[2,"\\n                            Preview in browser\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[15,0,[31,[[30,[36,1],[[32,0,["mailgunError"]],"disabled"],null]]]],[12],[2,"\\n                    "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@stopEnterKeyDownPropagation","@disabled"],["post-setting-email-test","email-test","post-setting-email-test","noreply@example.com",[32,0,["testEmailAddress"]],true,[32,0,["mailgunError"]]]],null],[2,"\\n\\n"],[6,[37,1],[[32,0,["sendTestEmailError"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"error"],[12],[10,"p"],[14,0,"response"],[12],[1,[32,0,["sendTestEmailError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@runningText","@class","@disabled"],["Send test email",[32,0,["sendTestEmail"]],"Email sent","Sending...","gh-btn w-100 mt2 gh-btn-icon",[32,0,["mailgunError"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["svg-jar","if","action","truncate","readonly","mut","on","gh-pluralize","gh-format-post-time","or"]}',meta:{moduleName:"ghost-admin/components/gh-post-settings-menu/email.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:566:var a=Ember._setComponentTemplate(r,Ember.Component.extend({ajax:Ember.inject.service(),ghostPaths:Ember.inject.service(),notifications:Ember.inject.service(),session:Ember.inject.service(),settings:Ember.inject.service(),config:Ember.inject.service(),post:null,sendTestEmailError:"",savePostTask:null,close(){},toggleEmailPreviewModal(){},emailSubject:Ember.computed.or("emailSubjectScratch","post.title"),emailSubjectScratch:Ember.computed.alias("post.emailSubjectScratch"),testEmailAddress:Ember.computed.oneWay("session.user.email"),mailgunError:Ember.computed.not("mailgunIsEnabled"),mailgunIsEnabled:Ember.computed("settings.{mailgunApiKey,mailgunDomain,mailgunBaseUrl}","config.mailgunIsConfigured",(function(){return this.get("settings.mailgunApiKey")&&this.get("settings.mailgunDomain")&&this.get("settings.mailgunBaseUrl")||this.get("config.mailgunIsConfigured")})),actions:{setEmailSubject(e){let t=this.post
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-567-if(t.get("emailSubject")!==e)return t.set("emailSubject",e),t.validate({property:"emailSubject"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))},discardEnter:()=>!1},toggleEmailPreview:Ember._action((function(){this.toggleEmailPreviewModal()})),sendTestEmail:(0,s.task)((function*(){try{const e=this.post.id,t=this.testEmailAddress.trim()
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-628-const s=Ember.HTMLBars.template({id:"AATEPT4c",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"gh-publishmenu-heading"],[12],[2,"Ready to publish your "],[1,[32,0,["post","displayName"]]],[2,"?"],[13],[2,"\\n"],[10,"section"],[14,0,"gh-publishmenu-content"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,0],[[30,[36,2],[[32,0,["saveType"]],"publish"],null],"active"],null]]]],[4,[38,1],[[32,0],"setSaveType","publish"],[["on"],["click"]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Set it live now"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Publish this "],[1,[32,0,["post","displayName"]]],[2," immediately"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,0],[[30,[36,2],[[32,0,["saveType"]],"schedule"],null],"active"],null]]]],[4,[38,1],[[32,0],"setSaveType","schedule"],[["on"],["click"]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Schedule it for later"],[13],[2,"\\n                "],[8,"gh-date-time-picker",[],[["@date","@time","@setDate","@setTime","@setTypedDateError","@errors","@dateErrorProperty","@timeErrorProperty","@minDate","@isActive"],[[32,0,["post","publishedAtBlogDate"]],[32,0,["post","publishedAtBlogTime"]],[30,[36,1],[[32,0],"setDate"],null],[30,[36,1],[[32,0],"setTime"],null],[32,0,["setTypedDateError"]],[32,0,["post","errors"]],"publishedAtBlogDate","publishedAtBlogTime",[32,0,["_minDate"]],[30,[36,2],[[32,0,["saveType"]],"schedule"],null]]],null],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Set automatic future publish date"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,0],[[30,[36,4],[[32,0,["canSendEmail"]],[35,3]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-email"],[12],[2,"\\n"],[6,[37,0],[[32,0,["backgroundLoader","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-loading-spinner"],[14,5,"zoom: 50%"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[15,0,[31,["gh-publishmenu-email-label ",[30,[36,0],[[32,0,["disableEmailOption"]],"pe-none"],null]]]],[12],[2,"\\n                        "],[10,"label"],[15,0,[31,["gh-publishmenu-radio-label mb3 ",[30,[36,0],[[32,0,["disableEmailOption"]],"midgrey"],null]]]],[12],[2,"Send by email to"],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-publishmenu-send-to-option"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Free members "],[10,"span"],[14,0,"gh-publishmenu-emailcount"],[12],[1,[32,0,["freeMemberCountLabel"]]],[13],[13],[2,"\\n                                "],[11,"div"],[24,0,"for-switch small"],[4,[38,1],[[32,0],"toggleSendEmailWhenPublished","free"],[["bubbles"],["false"]]],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-free"],[12],[2,"\\n                                        "],[10,"input"],[14,1,"send-email-to-free"],[15,"checked",[32,0,["sendEmailToFreeMembersWhenPublished"]]],[15,"disabled",[32,0,["disableEmailOption"]]],[14,0,"gh-input post-settings-featured"],[15,"onclick",[30,[36,1],[[32,0],"toggleSendEmailWhenPublished"],[["value"],["free"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-publishmenu-send-to-option"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Paid members "],[10,"span"],[14,0,"gh-publishmenu-emailcount"],[12],[1,[32,0,["paidMemberCountLabel"]]],[13],[13],[2,"\\n                                "],[11,"div"],[24,0,"for-switch small"],[4,[38,1],[[32,0],"toggleSendEmailWhenPublished","paid"],[["bubbles"],["false"]]],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-paid"],[12],[2,"\\n                                        "],[10,"input"],[14,1,"send-email-to-paid"],[15,"checked",[32,0,["sendEmailToPaidMembersWhenPublished"]]],[15,"disabled",[32,0,["disableEmailOption"]]],[14,0,"gh-input post-settings-featured"],[15,"onclick",[30,[36,1],[[32,0],"toggleSendEmailWhenPublished"],[["value"],["paid"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"]],"hasEval":false,"upvars":["if","action","eq","showSendEmail","and"]}',meta:{moduleName:"ghost-admin/components/gh-publishmenu-draft.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:629:var r=Ember._setComponentTemplate(s,Ember.Component.extend({feature:Ember.inject.service(),settings:Ember.inject.service(),config:Ember.inject.service(),session:Ember.inject.service(),post:null,saveType:null,_minDate:null,_publishedAtBlogTZ:null,"data-test-publishmenu-draft":!0,showSendEmail:Ember.computed.or("session.user.isOwner","session.user.isAdmin","session.user.isEditor"),disableEmailOption:Ember.computed("memberCount",(function(){return this.get("session.user.isOwnerOrAdmin")&&0===this.memberCount})),disableFreeMemberCheckbox:Ember.computed("freeMemberCount",(function(){return this.get("session.user.isOwnerOrAdmin")&&0===this.freeMemberCount})),disablePaidMemberCheckbox:Ember.computed("paidMemberCount",(function(){return this.get("session.user.isOwnerOrAdmin")&&0===this.paidMemberCount})),freeMemberCountLabel:Ember.computed("freeMemberCount",(function(){return void 0!==this.get("freeMemberCount")?`(${(0,n.formatNumber)(this.get("freeMemberCount"))})`:""})),paidMemberCountLabel:Ember.computed("freeMemberCount",(function(){return void 0!==this.get("freeMemberCount")?`(${(0,n.formatNumber)(this.get("paidMemberCount"))})`:""})),canSendEmail:Ember.computed("post.{isPost,email}","settings.{mailgunApiKey,mailgunDomain,mailgunBaseUrl}","config.mailgunIsConfigured",(function(){let e=this.get("settings.mailgunApiKey")&&this.get("settings.mailgunDomain")&&this.get("settings.mailgunBaseUrl")||this.get("config.mailgunIsConfigured"),t=this.post.isPost,n=!!this.post.email
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-630-return e&&t&&!n})),sendEmailToFreeMembersWhenPublished:Ember.computed("sendEmailWhenPublished",(function(){return["free","all"].includes(this.sendEmailWhenPublished)})),sendEmailToPaidMembersWhenPublished:Ember.computed("sendEmailWhenPublished",(function(){return["paid","all"].includes(this.sendEmailWhenPublished)})),didInsertElement(){this.post.set("publishedAtBlogTZ",this.get("post.publishedAtUTC")),this.send("setSaveType","publish")},actions:{setSaveType(e){if(this.saveType!==e){let n=!Ember.isEmpty(this.get("post.errors").errorsFor("publishedAtBlogDate")),s=!Ember.isEmpty(this.get("post.errors").errorsFor("publishedAtBlogTime")),r=this._getMinDate()
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-639-const s=Ember.HTMLBars.template({id:"DE+KaeKD",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"gh-publishmenu-heading"],[12],[2,"Will be published in "],[1,[32,0,["timeToPublished"]]],[13],[2,"\\n"],[10,"div"],[14,0,"gh-publishmenu-content"],[12],[2,"\\n    "],[10,"section"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,0],[[30,[36,2],[[32,0,["saveType"]],"draft"],null],"active"],null]]]],[4,[38,3],[[32,0],"setSaveType","draft"],[["on"],["click"]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Revert to draft"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Do not publish"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,0],[[30,[36,2],[[32,0,["saveType"]],"schedule"],null],"active"],null]]]],[4,[38,3],[[32,0],"setSaveType","schedule"],[["on"],["click"]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Schedule for later"],[13],[2,"\\n                "],[8,"gh-date-time-picker",[],[["@date","@time","@setDate","@setTime","@setTypedDateError","@errors","@dateErrorProperty","@timeErrorProperty","@minDate","@isActive"],[[32,0,["post","publishedAtBlogDate"]],[32,0,["post","publishedAtBlogTime"]],[30,[36,3],[[32,0],"setDate"],null],[30,[36,3],[[32,0],"setTime"],null],[32,0,["setTypedDateError"]],[32,0,["post","errors"]],"publishedAtBlogDate","publishedAtBlogTime",[32,0,["_minDate"]],[30,[36,2],[[32,0,["saveType"]],"schedule"],null]]],null],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Set automatic future publish date"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,0],[[30,[36,6],[[35,5],[35,4]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["post","email"]]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-email"],[12],[2,"\\n"],[6,[37,0],[[32,0,["backgroundLoader","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-loading-spinner"],[14,5,"zoom: 50%"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-publishmenu-email-label"],[12],[2,"\\n                        "],[10,"label"],[14,0,"gh-publishmenu-radio-label mb3 pe-none"],[12],[2,"Send by email to"],[13],[2,"\\n                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-publishmenu-send-to-option gh-publishmenu-checkbox-disabled"],[12],[2,"\\n                                    "],[10,"p"],[12],[2,"Free members"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-free"],[12],[2,"\\n                                            "],[10,"input"],[14,1,"send-email-to-free"],[15,"checked",[32,0,["sendEmailToFreeMembersWhenPublished"]]],[15,"disabled",[32,0,["disableEmailOption"]]],[14,0,"gh-input post-settings-featured"],[14,4,"checkbox"],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-publishmenu-send-to-option gh-publishmenu-checkbox-disabled"],[12],[2,"\\n                                    "],[10,"p"],[12],[2,"Paid members"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-paid"],[12],[2,"\\n                                            "],[10,"input"],[14,1,"send-email-to-paid"],[15,"checked",[32,0,["sendEmailToPaidMembersWhenPublished"]]],[15,"disabled",[32,0,["disableEmailOption"]]],[14,0,"gh-input post-settings-featured"],[14,4,"checkbox"],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","unless","eq","action","showSendEmail","canSendEmail","and"]}',meta:{moduleName:"ghost-admin/components/gh-publishmenu-scheduled.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:640:var r=Ember._setComponentTemplate(s,Ember.Component.extend({clock:Ember.inject.service(),session:Ember.inject.service(),feature:Ember.inject.service(),settings:Ember.inject.service(),config:Ember.inject.service(),post:null,saveType:null,isClosing:null,_minDate:null,"data-test-publishmenu-scheduled":!0,disableEmailOption:Ember.computed.equal("memberCount",0),showSendEmail:Ember.computed.or("session.user.isOwner","session.user.isAdmin","session.user.isEditor"),disableFreeMemberCheckbox:Ember.computed("freeMemberCount",(function(){return this.get("session.user.isOwnerOrAdmin")&&0===this.freeMemberCount})),disablePaidMemberCheckbox:Ember.computed("paidMemberCount",(function(){return this.get("session.user.isOwnerOrAdmin")&&0===this.paidMemberCount})),freeMemberCountLabel:Ember.computed("freeMemberCount",(function(){return void 0!==this.get("freeMemberCount")?`(${(0,n.formatNumber)(this.get("freeMemberCount"))})`:""})),paidMemberCountLabel:Ember.computed("freeMemberCount",(function(){return void 0!==this.get("freeMemberCount")?`(${(0,n.formatNumber)(this.get("paidMemberCount"))})`:""})),canSendEmail:Ember.computed("post.{isPost,email}","settings.{mailgunApiKey,mailgunDomain,mailgunBaseUrl}","config.mailgunIsConfigured",(function(){let e=this.get("settings.mailgunApiKey")&&this.get("settings.mailgunDomain")&&this.get("settings.mailgunBaseUrl")||this.get("config.mailgunIsConfigured"),t=this.post.isPost,n=!!this.post.email
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-641-return e&&t&&!n})),sendEmailToFreeMembersWhenPublished:Ember.computed("post.emailRecipientFilter",(function(){return["free","all"].includes(this.post.emailRecipientFilter)})),sendEmailToPaidMembersWhenPublished:Ember.computed("post.emailRecipientFilter",(function(){return["paid","all"].includes(this.post.emailRecipientFilter)})),timeToPublished:Ember.computed("post.publishedAtUTC","clock.second",(function(){let e=this.get("post.publishedAtUTC")
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-646-const s=Ember.HTMLBars.template({id:"J5/aCdR7",block:'{"symbols":["dd"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition","@onOpen","@onClose"],["below",[30,[36,2],[[32,0],"open"],null],[30,[36,2],[[32,0],"close"],null]]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["Trigger"]],[[16,0,[31,["gh-btn gh-btn-editor ",[30,[36,4],[[30,[36,5],[[30,[36,0],[[32,0,["displayState"]],"published"],null],[30,[36,0],[[32,0,["displayState"]],"scheduled"],null],[30,[36,0],[[32,0,["uiContext"]],"preview"],null]],null],"green"],null]," gh-publishmenu-trigger"]]]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[12],[1,[32,0,["triggerText"]]],[2," "],[1,[30,[36,6],["arrow-down"],null]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-publishmenu-dropdown"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[30,[36,0],[[32,0,["displayState"]],"published"],null]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-publishmenu-published",[],[["@post","@saveType","@setSaveType","@backgroundTask"],[[32,0,["post"]],[32,0,["saveType"]],[30,[36,2],[[32,0],"setSaveType"],null],[32,0,["backgroundTask"]]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,0],[[32,0,["displayState"]],"scheduled"],null]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-publishmenu-scheduled",[],[["@post","@saveType","@isClosing","@memberCount","@paidMemberCount","@freeMemberCount","@setSaveType","@setTypedDateError"],[[32,0,["post"]],[32,0,["saveType"]],[32,0,["isClosing"]],[32,0,["memberCount"]],[32,0,["paidMemberCount"]],[32,0,["freeMemberCount"]],[30,[36,2],[[32,0],"setSaveType"],null],[30,[36,2],[[32,0],[30,[36,3],[[32,0,["typedDateError"]]],null]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"gh-publishmenu-draft",[],[["@post","@saveType","@setSaveType","@setTypedDateError","@setSendEmailWhenPublished","@backgroundTask","@memberCount","@paidMemberCount","@freeMemberCount","@sendEmailWhenPublished"],[[32,0,["post"]],[32,0,["saveType"]],[30,[36,2],[[32,0],"setSaveType"],null],[30,[36,2],[[32,0],[30,[36,3],[[32,0,["typedDateError"]]],null]],null],[30,[36,2],[[32,0],"setSendEmailWhenPublished"],null],[32,0,["backgroundTask"]],[32,0,["memberCount"]],[32,0,["paidMemberCount"]],[32,0,["freeMemberCount"]],[32,0,["sendEmailWhenPublished"]]]],null],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[2,"        "],[10,"footer"],[14,0,"gh-publishmenu-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-outline"],[4,[38,7],["click",[30,[36,2],[[32,0],[32,1,["actions","close"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@taskArgs","@successText","@runningText","@class"],[[32,0,["buttonText"]],[32,0,["save"]],[30,[36,1],null,[["dropdown"],[[32,1]]]],[32,0,["successText"]],[32,0,["runningText"]],"gh-btn gh-btn-black gh-publishmenu-button gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,4],[[32,0,["showEmailConfirmationModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["confirm-email-send",[30,[36,1],null,[["sendEmailWhenPublished","memberCount","isScheduled","paidOnly","retryEmailSend"],[[32,0,["sendEmailWhenPublished"]],[32,0,["memberCount"]],[30,[36,0],[[32,0,["saveType"]],"schedule"],null],[30,[36,0],[[32,0,["post","visibility"]],"paid"],null],[32,0,["retryEmailSend"]]]]],[32,0,["confirmEmailSend"]],[32,0,["closeEmailConfirmationModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["eq","hash","action","mut","if","or","svg-jar","on"]}',meta:{moduleName:"ghost-admin/components/gh-publishmenu.hbs"}}),r=1e3
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:647:var a=Ember._setComponentTemplate(s,Ember.Component.extend({clock:Ember.inject.service(),feature:Ember.inject.service(),settings:Ember.inject.service(),config:Ember.inject.service(),session:Ember.inject.service(),store:Ember.inject.service(),backgroundTask:null,classNames:"gh-publishmenu",displayState:"draft",post:null,postStatus:"draft",runningText:null,saveTask:null,sendEmailWhenPublished:"none",typedDateError:null,_publishedAtBlogTZ:null,_previousStatus:null,isClosing:null,onClose(){},forcePublishedMenu:Ember.computed.reads("post.pastScheduledTime"),hasEmailPermission:Ember.computed.or("session.user.isOwner","session.user.isAdmin","session.user.isEditor"),canSendEmail:Ember.computed("post.{isPost,email}","settings.{mailgunApiKey,mailgunDomain,mailgunBaseUrl}","config.mailgunIsConfigured",(function(){let e=this.get("settings.mailgunApiKey")&&this.get("settings.mailgunDomain")&&this.get("settings.mailgunBaseUrl")||this.get("config.mailgunIsConfigured"),t=this.post.isPost,n=!!this.post.email
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-648-return e&&t&&!n})),postState:Ember.computed("post.{isPublished,isScheduled}","forcePublishedMenu",(function(){return this.forcePublishedMenu||this.get("post.isPublished")?"published":this.get("post.isScheduled")?"scheduled":"draft"})),triggerText:Ember.computed("postState",(function(){let e=this.postState
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1113-const M=Ember.HTMLBars.template({id:"LypYWc7U",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-post-preview-email-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-post-preview-email-mockup"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-pe-emailclient-sender"],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                "],[10,"span"],[14,0,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," <"],[1,[32,0,["settings","membersFromAddress"]]],[2,">\\n            "],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"iframe"],[24,0,"gh-pe-iframe"],[24,"sandbox","allow-same-origin"],[4,[38,0],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-post-preview-email-footer"],[12],[2,"\\n    "],[10,"span"],[14,0,"mr3 nowrap fw6 f8 darkgrey"],[12],[2,"Send a test newsletter"],[13],[2,"\\n\\n    "],[11,"div"],[16,0,[31,["gh-post-preview-email-input ",[30,[36,1],[[32,0,["sendPreviewEmailError"]],"error"],null]]]],[4,[38,0],[[32,0,["initPreviewEmailAddress"]]],null],[12],[2,"\\n        "],[8,"input",[[24,0,"gh-input gh-post-preview-email-input"],[24,"placeholder","you@yoursite.com"],[16,"aria-invalid",[30,[36,1],[[32,0,["sendPreviewEmailError"]],"true"],null]],[16,"aria-describedby",[30,[36,1],[[32,0,["sendPreviewEmailError"]],"sendError"],null]],[4,[38,3],["Enter",[30,[36,2],[[32,0,["sendPreviewEmailTask"]]],null]],null]],[["@value"],[[32,0,["previewEmailAddress"]]]],null],[2,"\\n"],[6,[37,1],[[32,0,["sendPreviewEmailError"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"error fixed nowrap f8 lh-heading"],[12],[10,"span"],[14,0,"response"],[14,1,"sendError"],[12],[1,[32,0,["sendPreviewEmailError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@task","@buttonText","@successText","@runningText","@class"],[[32,0,["sendPreviewEmailTask"]],"Send","Sent","Sending...","gh-btn gh-btn-green gh-btn-icon gh-post-preview-email-trigger"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","if","perform","on-key"]}',meta:{moduleName:"ghost-admin/components/modal-post-preview/email.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1114:let O=(a=Ember.inject.service,i=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,d=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,m=Ember._tracked,p=Ember._tracked,h=Ember._action,g=Ember._action,b=(0,s.task)({drop:!0}),f=class extends t.default{constructor(...e){super(...e),T(this,"ajax",v,this),T(this,"config",y,this),T(this,"ghostPaths",w,this),T(this,"session",E,this),T(this,"settings",k,this),T(this,"html",_,this),T(this,"subject",x,this),T(this,"previewEmailAddress",P,this),T(this,"sendPreviewEmailError",j,this)}get mailgunIsEnabled(){return this.config.get("mailgunIsConfigured")||!!(this.settings.get("mailgunApiKey")&&this.settings.get("mailgunDomain")&&this.settings.get("mailgunBaseUrl"))}async renderEmailPreview(e){await this._fetchEmailData(),await(0,r.timeout)(100),e&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.html),e.contentWindow.document.close())}async initPreviewEmailAddress(){const e=await this.session.user
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1115-this.previewEmailAddress=e.email}*sendPreviewEmailTask(){try{const e=this.args.post.id,t=this.previewEmailAddress.trim()
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1156-e.default=o})),define("ghost-admin/components/modal-regenerate-key",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1157:const s=Ember.HTMLBars.template({id:"wilkmfy7",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Regenerate "],[1,[30,[36,0],[[32,0,["apiKey","type"]]],null]],[2," API Key"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,1],[[32,0],"closeModal"],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["internalIntegration"]],"zapier"],null]],null,[["default","else"],[{"statements":[[2,"            You will need to locate the Ghost App within your Zapier account and click on \\"Reconnect\\" to enter the new Admin API Key.\\n"]],"parameters":[]},{"statements":[[2,"            You can regenerate "],[10,"strong"],[12],[1,[30,[36,0],[[32,0,["apiKey","type"]]],null]],[2," API Key"],[13],[2," any time, but any scripts or applications using it will need to be updated.\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"red"],[12],[2," "],[1,[32,0,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[4,[38,1],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],[[31,["Regenerate ",[30,[36,0],[[32,0,["apiKey","type"]]],null]," API Key"]],"Regenerated",[32,0,["regenerateKey"]],"gh-btn gh-btn-icon gh-btn-red"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["capitalize","action","svg-jar","eq","if"]}',meta:{moduleName:"ghost-admin/components/modal-regenerate-key.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1158:var r=Ember._setComponentTemplate(s,t.default.extend({ajax:Ember.inject.service(),store:Ember.inject.service(),ghostPaths:Ember.inject.service(),errorMessage:null,confirm:()=>{},apiKey:Ember.computed.alias("model.apiKey"),integration:Ember.computed.alias("model.integration"),internalIntegration:Ember.computed.alias("model.internalIntegration"),actions:{confirm(){this.regenerateApiKey.perform()}},regenerateKey:(0,n.task)((function*(){let e=this.get("ghostPaths.url").api("/integrations/",this.integration.id,"api_key",this.apiKey.id,"refresh")
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1159-try{const t=yield this.ajax.post(e,{data:{integrations:[{id:this.integration.id}]}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1160:this.store.pushPayload(t),yield this.confirm(),this.send("closeModal")}catch(t){let e=`There was an error regenerating the ${Ember.String.capitalize(this.apiKey.type)} API Key. Please try again`
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1161-return void this.set("errorMessage",e)}})).drop()}))
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1326-define("ghost-admin/controllers/integration",["exports","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,n,s,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1327:var a=Ember.Controller.extend({config:Ember.inject.service(),ghostPaths:Ember.inject.service(),imageExtensions:s.IMAGE_EXTENSIONS,imageMimeTypes:s.IMAGE_MIME_TYPES,showRegenerateKeyModal:!1,selectedApiKey:null,isApiKeyRegenerated:!1,init(){this._super(...arguments),void 0===this.isTesting&&(this.isTesting="test"===t.default.environment)},integration:Ember.computed.alias("model"),apiUrl:Ember.computed((function(){let e=window.location.origin,t=this.ghostPaths.subdir
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1328:return this.ghostPaths.url.join(e,t).replace(/\/$/,"")})),regeneratedKeyType:Ember.computed("isApiKeyRegenerated","selectedApiKey",(function(){return this.isApiKeyRegenerated?this.get("selectedApiKey.type"):null})),allWebhooks:Ember.computed((function(){return this.store.peekAll("webhook")})),filteredWebhooks:Ember.computed("integration.id","allWebhooks.@each.{isNew,isDeleted}",(function(){return this.allWebhooks.filter((e=>e.belongsTo("integration").id()===this.integration.id&&!e.isNew&&!e.isDeleted))})),iconImageStyle:Ember.computed("integration.iconImage",(function(){let e=this.integration.iconImage
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1329-if(e){let t=[`background-image: url(${e})`,"background-size: 50%","background-position: 50%","background-repeat: no-repeat"]
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1334-if(e)return this.integration.rollbackAttributes(),e.retry()
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1335:this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})},deleteIntegration(){this.integration.destroyRecord()},confirmIntegrationDeletion(){this.set("showDeleteIntegrationModal",!0)},cancelIntegrationDeletion(){this.set("showDeleteIntegrationModal",!1)},confirmRegenerateKeyModal(e){this.set("showRegenerateKeyModal",!0),this.set("isApiKeyRegenerated",!1),this.set("selectedApiKey",e)},cancelRegenerateKeyModal(){this.set("showRegenerateKeyModal",!1)},regenerateKey(){this.set("isApiKeyRegenerated",!0)},confirmWebhookDeletion(e){this.set("webhookToDelete",e)},cancelWebhookDeletion(){this.set("webhookToDelete",null)},deleteWebhook(){return this.webhookToDelete.destroyRecord()}},save:(0,r.task)((function*(){return yield this.integration.save()})),copyContentKey:(0,r.task)((function*(){(0,n.default)(this.integration.contentKey.secret),yield(0,r.timeout)(this.isTesting?50:3e3)})),copyAdminKey:(0,r.task)((function*(){(0,n.default)(this.integration.adminKey.secret),yield(0,r.timeout)(this.isTesting?50:3e3)})),copyApiUrl:(0,r.task)((function*(){(0,n.default)(this.apiUrl),yield(0,r.timeout)(this.isTesting?50:3e3)}))})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1336-e.default=a})),define("ghost-admin/controllers/integration/webhooks/edit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1378-e.default=n})),define("ghost-admin/controllers/integrations/zapier",["exports","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1379:var r=Ember.Controller.extend({ghostPaths:Ember.inject.service(),selectedApiKey:null,isApiKeyRegenerated:!1,init(){this._super(...arguments),void 0===this.isTesting&&(this.isTesting="test"===t.default.environment)},integration:Ember.computed.alias("model"),apiUrl:Ember.computed((function(){let e=window.location.origin,t=this.ghostPaths.subdir
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1380:return this.ghostPaths.url.join(e,t).replace(/\/$/,"")})),regeneratedKeyType:Ember.computed("isApiKeyRegenerated","selectedApiKey",(function(){return this.isApiKeyRegenerated?this.get("selectedApiKey.type"):null})),actions:{confirmRegenerateKeyModal(e){this.set("showRegenerateKeyModal",!0),this.set("isApiKeyRegenerated",!1),this.set("selectedApiKey",e)},cancelRegenerateKeyModal(){this.set("showRegenerateKeyModal",!1)},regenerateKey(){this.set("isApiKeyRegenerated",!0)}},copyAdminKey:(0,s.task)((function*(){(0,n.default)(this.integration.adminKey.secret),yield(0,s.timeout)(this.isTesting?50:3e3)})),copyApiUrl:(0,s.task)((function*(){(0,n.default)(this.apiUrl),yield(0,s.timeout)(this.isTesting?50:3e3)}))})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1381-e.default=r})),define("ghost-admin/controllers/launch",["exports"],(function(e){var t,n,s,r,a,i,o,l,d,u,c,m,p,h,g,b,f,v,y,w,E,k,_
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1628-this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})},toggleTransferOwnerModal(){this.canMakeOwner&&this.toggleProperty("showTransferOwnerModal")},toggleUploadCoverModal(){this.toggleProperty("showUploadCoverModal")},toggleUploadImageModal(){this.toggleProperty("showUploadImageModal")},updatePassword(e){this.set("user.password",e),this.get("user.hasValidated").removeObject("password"),this.get("user.errors").remove("password")},updateNewPassword(e){this.set("user.newPassword",e),this.get("user.hasValidated").removeObject("newPassword"),this.get("user.errors").remove("newPassword")},updateNe2Password(e){this.set("user.ne2Password",e),this.get("user.hasValidated").removeObject("ne2Password"),this.get("user.errors").remove("ne2Password")},confirmRegenerateTokenModal(){this.set("showRegenerateTokenModal",!0)},cancelRegenerateTokenModal(){this.set("showRegenerateTokenModal",!1)},regenerateToken(){let e=this.get("ghostPaths.url").api("users","me","token")
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1629:return this.ajax.put(e,{data:{}}).then((({apiKey:e})=>{this.set("personalToken",e.id+":"+e.secret),this.set("personalTokenRegenerated",!0)})).catch((e=>{this.notifications.showAPIError(e,{key:"token.regenerate"})}))}},_exportDb(e){let t=`${this.get("ghostPaths.url").api("db")}?filename=${e}`,n=document.getElementById("iframeDownload")
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1630-n||(n=document.createElement("iframe"),n.id="iframeDownload",n.style.display="none",document.body.append(n)),n.setAttribute("src",t)},deleteUser:(0,i.task)((function*(){try{const e=yield this.user.destroyRecord()
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1858-e.default=n})),define("ghost-admin/models/integration",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1859:var s=t.default.extend(n.default,{validationType:"integration",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),type:(0,t.attr)("string"),iconImage:(0,t.attr)("string"),description:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),apiKeys:(0,t.hasMany)("api-key",{embedded:"always",async:!1}),webhooks:(0,t.hasMany)("webhook",{embedded:"always",async:!1}),adminKey:Ember.computed("apiKeys.[]",(function(){return this.apiKeys.findBy("type","admin")})),contentKey:Ember.computed("apiKeys.[]",(function(){return this.apiKeys.findBy("type","content")}))})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1860-e.default=s})),define("ghost-admin/models/invite",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1906-e.default=n})),define("ghost-admin/models/setting",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1907:var s=t.default.extend(n.default,{validationType:"setting",title:(0,t.attr)("string"),description:(0,t.attr)("string"),logo:(0,t.attr)("string"),coverImage:(0,t.attr)("string"),icon:(0,t.attr)("string"),accentColor:(0,t.attr)("string"),lang:(0,t.attr)("string"),timezone:(0,t.attr)("string",{defaultValue:"Etc/UTC"}),codeinjectionHead:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string"),facebook:(0,t.attr)("facebook-url-user"),twitter:(0,t.attr)("twitter-url-user"),labs:(0,t.attr)("string"),navigation:(0,t.attr)("navigation-settings"),secondaryNavigation:(0,t.attr)("navigation-settings",{isSecondary:!0}),isPrivate:(0,t.attr)("boolean"),publicHash:(0,t.attr)("string"),password:(0,t.attr)("string"),slack:(0,t.attr)("slack-settings"),amp:(0,t.attr)("boolean"),ampGtagId:(0,t.attr)("string"),firstpromoter:(0,t.attr)("boolean"),firstpromoterId:(0,t.attr)("string"),unsplash:(0,t.attr)("boolean"),metaTitle:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),mailgunApiKey:(0,t.attr)("string"),mailgunDomain:(0,t.attr)("string"),mailgunBaseUrl:(0,t.attr)("string"),emailTrackOpens:(0,t.attr)("boolean"),portalButton:(0,t.attr)("boolean"),portalName:(0,t.attr)("boolean"),portalPlans:(0,t.attr)("json-string"),portalButtonStyle:(0,t.attr)("string"),portalButtonIcon:(0,t.attr)("string"),portalButtonSignupText:(0,t.attr)("string"),sharedViews:(0,t.attr)("string"),defaultContentVisibility:(0,t.attr)("string"),membersSignupAccess:(0,t.attr)("string"),membersFromAddress:(0,t.attr)("string"),membersSupportAddress:(0,t.attr)("string"),membersReplyAddress:(0,t.attr)("string"),membersPaidSignupRedirect:(0,t.attr)("string"),membersFreeSignupRedirect:(0,t.attr)("string"),stripeProductName:(0,t.attr)("string"),stripeSecretKey:(0,t.attr)("string"),stripePublishableKey:(0,t.attr)("string"),stripePlans:(0,t.attr)("json-string"),stripeConnectIntegrationToken:(0,t.attr)("string"),stripeConnectPublishableKey:(0,t.attr)("string"),stripeConnectSecretKey:(0,t.attr)("string"),stripeConnectLivemode:(0,t.attr)("boolean"),stripeConnectDisplayName:(0,t.attr)("string"),stripeConnectAccountId:(0,t.attr)("string"),newsletterShowHeader:(0,t.attr)("boolean"),newsletterBodyFontCategory:(0,t.attr)("string"),newsletterShowBadge:(0,t.attr)("boolean"),newsletterFooterContent:(0,t.attr)("string"),membersAllowFreeSignup:Ember.computed("membersSignupAccess",{get(){return"all"===this.membersSignupAccess},set(e,t){const n=t?"all":"invite"
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1908-return this.set("membersSignupAccess",n),t}})})
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1973-class t extends Ember.Route{beforeModel(){this.transitionTo("dashboard")}}e.default=t})),define("ghost-admin/routes/integration",["exports","ghost-admin/routes/authenticated","ghost-admin/mixins/current-user-settings"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1974:var s=t.default.extend(n.default,{router:Ember.inject.service(),init(){this._super(...arguments),this.router.on("routeWillChange",(e=>{this.showUnsavedChangesModal(e),this.controller&&(this.controller.set("selectedApiKey",null),this.controller.set("isApiKeyRegenerated",!1))}))},beforeModel(){return this._super(...arguments),this.get("session.user").then(this.transitionAuthor()).then(this.transitionEditor())},model(e,t){return this.controllerFor("integrations").integrationModelHook("id",e.integration_id,this,t)},deactivate(){this._super(...arguments),this.controller.set("leaveScreenTransition",null),this.controller.set("showUnsavedChangesModal",!1)},actions:{save(){this.controller.send("save")}},showUnsavedChangesModal(e){if(e.from&&e.from.name.match(/^settings\.integration\./)&&e.targetName){let{controller:t}=this
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1975-if((!(e.targetName||"").match(/^integration\./)||e.to.parent.params.integration_id!==t.integration.id)&&!t.integration.isDeleted&&t.integration.hasDirtyAttributes)return e.abort(),void t.send("toggleUnsavedChangesModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Settings - Integrations"})})
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1997-e.default=s})),define("ghost-admin/routes/integrations/zapier",["exports","ghost-admin/routes/authenticated","ghost-admin/mixins/current-user-settings"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:1998:var s=t.default.extend(n.default,{router:Ember.inject.service(),config:Ember.inject.service(),init(){this._super(...arguments),this.router.on("routeWillChange",(()=>{this.controller&&(this.controller.set("selectedApiKey",null),this.controller.set("isApiKeyRegenerated",!1))}))},disabled:Ember.computed("config.hostSettings.limits",(function(){return this.config.get("hostSettings.limits.customIntegrations.disabled")})),beforeModel(){return this._super(...arguments),this.get("session.user").then(this.transitionDisabled()).then(this.transitionAuthor()).then(this.transitionEditor())},model(e,t){return this.controllerFor("integrations").integrationModelHook("slug","zapier",this,t)},transitionDisabled(){this.get("disabled")&&this.transitionTo("integrations")},buildRouteInfoMetadata:()=>({titleToken:"Zapier"})})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-1999-e.default=s})),define("ghost-admin/routes/launch",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,s,r
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-2142-e.default=n})),define("ghost-admin/serializers/integration",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:2143:var s=t.default.extend(n.EmbeddedRecordsMixin,{attrs:{apiKeys:{embedded:"always"},webhooks:{embedded:"always"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-2144-e.default=s})),define("ghost-admin/serializers/invite",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-2460-e.default=t})),define("ghost-admin/templates/integration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:2461:var t=Ember.HTMLBars.template({id:"iLmtI69T",block:'{"symbols":["webhook","uploader"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[11,"form"],[4,[38,0],[[32,0],[30,[36,6],["save"],null]],[["on"],["submit"]]],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n                "],[1,[32,0,["integration","name"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["save"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Configuration"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-column items-start app-custom-icon-container"],[12],[2,"\\n                            "],[10,"label"],[14,0,"mb1"],[12],[2,"Icon"],[13],[2,"\\n                            "],[10,"figure"],[14,0,"app-custom-icon hide-child"],[15,5,[32,0,["iconImageStyle"]]],[12],[2,"\\n                                "],[8,"aspect-ratio-box",[],[["@class","@ratio","@base"],["flex items-center h-100 justify-center","1/1","height"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,7],[[32,0,["integration","iconImage"]]],null,[["default"],[{"statements":[[2,"                                        "],[1,[30,[36,2],["integration"],[["class"],["w11 h11"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[30,[36,0],[[32,0],"setIconImage"],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,8],[[32,2,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"absolute top-0 left-0 w-100 h-100 br4 bg-black-70 flex items-center"],[12],[2,"\\n                                            "],[1,[32,2,["progressBar"]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[11,"button"],[24,0,"child app-custom-icon-uploadlabel"],[24,4,"button"],[4,[38,0],[[32,0],"triggerIconFileDialog"],null],[12],[2,"\\n                                            Upload\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                        "],[8,"gh-file-input",[],[["@name","@multiple","@action","@accept"],["iconImage",false,[32,2,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[2]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex-auto"],[12],[2,"\\n                            "],[8,"gh-validation-status-container",[],[["@class","@errors","@hasValidated","@property"],["flex flex-column w-100 mr3",[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","integration_name"],[12],[2,"Name"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@id","@class","@type","@value","@input","@focus-out"],["integration_name","gh-input mt1 mb1","text",[30,[36,9],[[32,0,["integration","name"]]],null],[30,[36,0],[[32,0],[30,[36,10],[[32,0,["integration","name"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","name"],[["target"],[[32,0,["integration"]]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,0,"ma0"]],[["@errors","@property"],[[32,0,["integration","errors"]],"name"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,"gh-validation-status-container",[],[["@class","@errors","@hasValidated","@property"],["flex flex-column w-100 mr3",[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"decription"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","integration_description"],[14,0,"mt3"],[12],[2,"Description"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@id","@class","@type","@value","@input","@focus-out"],["integration_description","gh-input mt1","text",[30,[36,9],[[32,0,["integration","description"]]],null],[30,[36,0],[[32,0],[30,[36,10],[[32,0,["integration","description"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","description"],[["target"],[[32,0,["integration"]]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,0,"ma0"]],[["@errors","@property"],[[32,0,["integration","errors"]],"description"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[10,"table"],[14,0,"app-custom-api-table list"],[14,5,"table-layout: fixed"],[12],[2,"\\n                                "],[10,"tbody"],[12],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"Content API key"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,7],[[32,0,["copyContentKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,0,"truncate"],[12],[2,"\\n                                                    "],[1,[32,0,["integration","contentKey","secret"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,0],[[32,0],"confirmRegenerateKeyModal",[32,0,["integration","contentKey"]]],null],[12],[2,"\\n                                                        "],[1,[30,[36,2],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,6],[[32,0,["copyContentKey"]]],null]],null],[12],[2,"\\n"],[6,[37,8],[[32,0,["copyContentKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"],[6,[37,8],[[30,[36,11],[[32,0,["regeneratedKeyType"]],[32,0,["integration","contentKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"green nt3 mb2"],[12],[2," Content API Key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"Admin API key"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,7],[[32,0,["copyAdminKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,0,"truncate"],[12],[2,"\\n                                                    "],[1,[32,0,["integration","adminKey","secret"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,0],[[32,0],"confirmRegenerateKeyModal",[32,0,["integration","adminKey"]]],null],[12],[2,"\\n                                                        "],[1,[30,[36,2],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,6],[[32,0,["copyAdminKey"]]],null]],null],[12],[2,"\\n"],[6,[37,8],[[32,0,["copyAdminKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"],[6,[37,8],[[30,[36,11],[[32,0,["regeneratedKeyType"]],[32,0,["integration","adminKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"green"],[12],[2," Admin API key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"API URL"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover truncate"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,7],[[32,0,["copyApiUrl","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[12],[2,"\\n                                                    "],[1,[32,0,["apiUrl"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,6],[[32,0,["copyApiUrl"]]],null]],null],[12],[2,"\\n"],[6,[37,8],[[32,0,["copyApiUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Webhooks"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block p0"],[12],[2,"\\n            "],[10,"table"],[14,0,"gh-list small"],[12],[2,"\\n                "],[10,"thead"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row header"],[12],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Name"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Event"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"URL"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Last triggered"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,0,["filteredWebhooks"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"tr"],[14,0,"gh-list-row hide-child"],[12],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[30,[36,3],[[32,1,["event"]]],null]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[32,1,["targetUrl"]]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[30,[36,4],[[32,1,["lastTriggeredAtUTC"]],"Not triggered"],null]],[13],[2,"\\n                            "],[10,"td"],[14,0,"w1 gh-list-data nowrap"],[12],[2,"\\n                                "],[10,"div"],[14,0,"child flex items-center"],[12],[2,"\\n                                    "],[8,"link-to",[],[["@route","@models"],["integration.webhooks.edit",[30,[36,5],[[32,0,["integration"]],[32,1]],null]]],[["default"],[{"statements":[[2,"\\n                                        "],[1,[30,[36,2],["pen"],[["class"],["w6 h6 fill-midgrey pa1 mr1"]]]],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[11,"button"],[4,[38,0],[[32,0],"confirmWebhookDeletion",[32,1]],null],[12],[2,"\\n                                        "],[1,[30,[36,2],["trash"],[["class"],["w6 fill-red pa1"]]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                    "],[10,"tr"],[14,0,"bt b--whitegrey"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","5"],[14,0,"pa5 pt15 pb15 tc midgrey f7"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n                                "],[10,"p"],[14,0,"ma0 pa0 tc midgrey lh-title mt2"],[12],[2,"\\n                                    No webhooks configured\\n                                "],[13],[2,"\\n                                "],[8,"link-to",[],[["@route","@model","@classNames"],["integration.webhooks.new",[32,0,["integration"]],"flex items-center"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"flex items-center pa2 pt1"],[12],[2,"\\n                                    "],[1,[30,[36,2],["add"],[["class"],["w3 h3 fill-blue-d1"]]]],[2,"\\n                                    "],[10,"span"],[14,0,"ml1 blue"],[12],[2,"Add webhook"],[13],[2,"\\n                                "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"],[6,[37,8],[[32,0,["filteredWebhooks"]]],null,[["default"],[{"statements":[[2,"                "],[10,"tfoot"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row new-webhook-cell"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","5"],[14,0,"gh-list-data"],[12],[2,"\\n                            "],[8,"link-to",[],[["@route","@model","@classNames"],["integration.webhooks.new",[32,0,["integration"]],"flex items-center"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"pt1 pb1 f7"],[12],[2,"\\n                                "],[1,[30,[36,2],["add"],[["class"],["w3 h3 fill-blue-d1"]]]],[2,"\\n                                "],[10,"span"],[14,0,"ml1 blue"],[12],[2,"Add webhook"],[13],[2,"\\n                            "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[4,[38,0],[[32,0],"confirmIntegrationDeletion"],null],[12],[2,"\\n                "],[10,"span"],[12],[2," Delete integration "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,8],[[32,0,["showUnsavedChangesModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveScreen"],null],[30,[36,0],[[32,0],"toggleUnsavedChangesModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[32,0,["showRegenerateKeyModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["regenerate-key",[30,[36,1],null,[["apiKey","integration"],[[32,0,["selectedApiKey"]],[32,0,["integration"]]]]],[30,[36,0],[[32,0],"regenerateKey"],null],[30,[36,0],[[32,0],"cancelRegenerateKeyModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[32,0,["showDeleteIntegrationModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["delete-integration",[30,[36,0],[[32,0],"deleteIntegration"],null],[30,[36,0],[[32,0],"cancelIntegrationDeletion"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[32,0,["webhookToDelete"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["delete-webhook",[30,[36,0],[[32,0],"deleteWebhook"],null],[30,[36,0],[[32,0],"cancelWebhookDeletion"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[1,[30,[36,15],[[30,[36,14],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["action","hash","svg-jar","event-name","or","array","perform","unless","if","readonly","mut","eq","-track-array","each","-outlet","component"]}',meta:{moduleName:"ghost-admin/templates/integration.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-2462-e.default=t})),define("ghost-admin/templates/integration/webhooks/edit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
##############################################
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-2484-e.default=t})),define("ghost-admin/templates/integrations/zapier",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js:2485:var t=Ember.HTMLBars.template({id:"3jBV45tm",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            Zapier\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section no-heading"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content app-detail-heading app-grid"],[12],[2,"\\n                    "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                        "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/zapier.svg"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                        "],[10,"h3"],[12],[2,"Zapier"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Automation for your favourite apps"],[13],[2,"\\n\\n                        "],[10,"table"],[14,0,"list"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"data-label"],[12],[2,"Admin API key"],[13],[2,"\\n                                    "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                        "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,3],[[32,0,["copyAdminKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                            "],[10,"span"],[14,0,"truncate"],[12],[2,"\\n                                                "],[1,[32,0,["integration","adminKey","secret"]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,1],[[32,0],"confirmRegenerateKeyModal",[32,0,["integration","adminKey"]]],null],[12],[2,"\\n                                                    "],[1,[30,[36,2],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,4],[[32,0,["copyAdminKey"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyAdminKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                    Copy\\n"]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"],[6,[37,5],[[30,[36,6],[[32,0,["regeneratedKeyType"]],[32,0,["integration","adminKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"green"],[12],[2," Admin API Key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"data-label"],[12],[2,"API URL"],[13],[2,"\\n                                    "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                        "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,3],[[32,0,["copyApiUrl","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                            "],[10,"span"],[12],[2,"\\n                                                "],[1,[32,0,["apiUrl"]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,4],[[32,0,["copyApiUrl"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyApiUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"  \\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,1,"zapier-toggle"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header large bn"],[12],[2,"Zapier templates"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-main-section-description"],[12],[2,"Explore pre-built templates for common automation tasks"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"                    \\n                    "],[10,"div"],[14,0,"apps-grid gh-settings-zapier-templates"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/twitter.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Share new posts to Twitter"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/50909"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-2-4b0baef1ec34816af6f3fbede7ab191d.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png);background-size:30px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Share scheduled posts with your team in Slack"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/359499"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/patreon.svg);background-size:28px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Connect Patreon to your Ghost membership site"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/75801"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/zero-bounce-ee799eddb1f88e33ab8c462858cbfed9.png);background-size:30px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Protect email delivery with email verification"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/359415"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-5-063a200f749e09c587b9443ffd2c4cfa.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/paypal.svg);background-size:26px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Add members for successful sales in PayPal"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/184423"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-1"],[14,5,"background-image:url(assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/paypal.svg);background-size:26px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Unsubscribe members who cancel a subscription in PayPal"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/359348"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-2"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/google-docs.svg);background-size:22px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Send new post drafts from Google Docs to Ghost"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/50924"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-3"],[14,5,"background-image:url(assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon id-typeform"],[14,5,"background-image:url(assets/img/typeform.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Survey new members using Typeform"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/359407"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-3"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/mailchimp.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Sync email subscribers in Ghost + Mailchimp"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/app/editor/template/359342"],[14,"target","_blank"],[14,"rel","noopener"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"zapier-footer"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://zapier.com/apps/ghost/integrations?utm_medium=partner_api&utm_source=widget&utm_campaign=Widget"],[14,"target","_blank"],[14,"rel","noopener"],[12],[10,"span"],[12],[2,"See more Ghost integrations powered by"],[13],[2," "],[10,"figure"],[14,5,"background-image:url(assets/img/zapier-logo.svg); background-size: 42px;"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showRegenerateKeyModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["regenerate-key",[30,[36,0],null,[["apiKey","integration","internalIntegration"],[[32,0,["selectedApiKey"]],[32,0,["integration"]],"zapier"]]],[30,[36,1],[[32,0],"regenerateKey"],null],[30,[36,1],[[32,0],"cancelRegenerateKeyModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","action","svg-jar","unless","perform","if","eq"]}',meta:{moduleName:"ghost-admin/templates/integrations/zapier.hbs"}})
/src/core/built/assets/ghost.min-0b72317d016b2b13fa892673785f45f5.js-2486-e.default=t})),define("ghost-admin/templates/launch",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
##############################################
/src/core/server/translations/en.json-53-                "missingAdminUserOrIntegration": "Unable to determine the authenticated user or integration. Check that cookies are being passed through if using session authentication.",
/src/core/server/translations/en.json:54:                "adminApiKeyMissing": "Admin API Token missing kid header claim.",
/src/core/server/translations/en.json:55:                "unknownAdminApiKey": "Unknown Admin API Key",
/src/core/server/translations/en.json:56:                "unknownContentApiKey": "Unknown Content API Key",
/src/core/server/translations/en.json-57-                "adminApiKidMissing": "Admin API kid missing.",
/src/core/server/translations/en.json:58:                "invalidApiKeyType": "Invalid API Key type",
/src/core/server/translations/en.json-59-                "invalidRequest": "Invalid Request",
##############################################
/src/core/server/translations/en.json-242-            },
/src/core/server/translations/en.json:243:            "api_key": {
/src/core/server/translations/en.json:244:                "apiKeyNotFound": "API Key not found"
/src/core/server/translations/en.json-245-            },
##############################################
/src/core/server/models/relations/authors.js-334-
/src/core/server/models/relations/authors.js:335:        permissible: function permissible(postModelOrId, action, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission) {
/src/core/server/models/relations/authors.js-336-            const self = this;
##############################################
/src/core/server/models/relations/authors.js-427-
/src/core/server/models/relations/authors.js:428:            if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/relations/authors.js-429-                return Post.permissible.call(
##############################################
/src/core/server/models/relations/authors.js-435-                    hasUserPermission,
/src/core/server/models/relations/authors.js:436:                    hasApiKeyPermission
/src/core/server/models/relations/authors.js-437-                ).then(({excludedAttrs}) => {
##############################################
/src/core/server/models/api-key.js-24- * 26 char hex string = 13 bytes
/src/core/server/models/api-key.js:25: * 64 char hex string JWT secret = 32 bytes
/src/core/server/models/api-key.js-26- */
/src/core/server/models/api-key.js:27:const createSecret = (type) => {
/src/core/server/models/api-key.js-28-    const bytes = type === 'content' ? 13 : 32;
##############################################
/src/core/server/models/api-key.js-75-
/src/core/server/models/api-key.js:76:const ApiKey = ghostBookshelf.Model.extend({
/src/core/server/models/api-key.js:77:    tableName: 'api_keys',
/src/core/server/models/api-key.js-78-
/src/core/server/models/api-key.js-79-    defaults() {
/src/core/server/models/api-key.js:80:        const secret = createSecret(this.get('type'));
/src/core/server/models/api-key.js-81-
##############################################
/src/core/server/models/api-key.js-139-            resource_id: this.id || this.previous('id'),
/src/core/server/models/api-key.js:140:            resource_type: 'api_key',
/src/core/server/models/api-key.js-141-            actor_id: actor.id,
##############################################
/src/core/server/models/api-key.js-146-    refreshSecret(data, options) {
/src/core/server/models/api-key.js:147:        const secret = createSecret(data.type);
/src/core/server/models/api-key.js-148-        return this.edit(Object.assign({}, data, {secret}), options);
##############################################
/src/core/server/models/api-key.js-151-
/src/core/server/models/api-key.js:152:const ApiKeys = ghostBookshelf.Collection.extend({
/src/core/server/models/api-key.js:153:    model: ApiKey
/src/core/server/models/api-key.js-154-});
##############################################
/src/core/server/models/api-key.js-156-module.exports = {
/src/core/server/models/api-key.js:157:    ApiKey: ghostBookshelf.model('ApiKey', ApiKey),
/src/core/server/models/api-key.js:158:    ApiKeys: ghostBookshelf.collection('ApiKeys', ApiKeys)
/src/core/server/models/api-key.js-159-};
##############################################
/src/core/server/models/integration.js-6-
/src/core/server/models/integration.js:7:    relationships: ['api_keys', 'webhooks'],
/src/core/server/models/integration.js-8-
/src/core/server/models/integration.js-9-    relationshipBelongsTo: {
/src/core/server/models/integration.js:10:        api_keys: 'api_keys',
/src/core/server/models/integration.js-11-        webhooks: 'webhooks'
##############################################
/src/core/server/models/integration.js-47-
/src/core/server/models/integration.js:48:    api_keys: function apiKeys() {
/src/core/server/models/integration.js:49:        return this.hasMany('ApiKey', 'integration_id');
/src/core/server/models/integration.js-50-    },
##############################################
/src/core/server/models/invite.js-46-
/src/core/server/models/invite.js:47:    async permissible(inviteModel, action, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission) {
/src/core/server/models/invite.js-48-        const isAdd = (action === 'add');
##############################################
/src/core/server/models/invite.js-50-        if (!isAdd) {
/src/core/server/models/invite.js:51:            if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/invite.js-52-                return Promise.resolve();
##############################################
/src/core/server/models/invite.js-96-
/src/core/server/models/invite.js:97:                if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/invite.js-98-                    return Promise.resolve();
##############################################
/src/core/server/models/post.js-1048-    // NOTE: the `authors` extension is the parent of the post model. It also has a permissible function.
/src/core/server/models/post.js:1049:    permissible: async function permissible(postModel, action, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission) {
/src/core/server/models/post.js-1050-        let isContributor;
##############################################
/src/core/server/models/post.js-1074-        isEditor = loadedPermissions.user && _.some(loadedPermissions.user.roles, {name: 'Editor'});
/src/core/server/models/post.js:1075:        isIntegration = loadedPermissions.apiKey && _.some(loadedPermissions.apiKey.roles, {name: 'Admin Integration'});
/src/core/server/models/post.js-1076-
##############################################
/src/core/server/models/post.js-1110-
/src/core/server/models/post.js:1111:        if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/post.js-1112-            return Promise.resolve({excludedAttrs});
##############################################
/src/core/server/models/settings.js-312-
/src/core/server/models/settings.js:313:    permissible: function permissible(modelId, action, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission) {
/src/core/server/models/settings.js:314:        if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/settings.js-315-            return Promise.resolve();
##############################################
/src/core/server/models/role.js-26-
/src/core/server/models/role.js:27:    api_keys: function apiKeys() {
/src/core/server/models/role.js:28:        return this.hasMany('ApiKey');
/src/core/server/models/role.js-29-    }
##############################################
/src/core/server/models/role.js-52-
/src/core/server/models/role.js:53:    permissible: function permissible(roleModelOrId, action, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission) {
/src/core/server/models/role.js-54-        // If we passed in an id instead of a model, get the model
##############################################
/src/core/server/models/role.js-88-
/src/core/server/models/role.js:89:        if (action === 'assign' && loadedPermissions.apiKey) {
/src/core/server/models/role.js:90:            // apiKey cannot 'assign' the 'Owner' role
/src/core/server/models/role.js-91-            if (roleModel.get('name') === 'Owner') {
##############################################
/src/core/server/models/role.js-97-
/src/core/server/models/role.js:98:        if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/role.js-99-            return Promise.resolve();
##############################################
/src/core/server/models/user.js-274-
/src/core/server/models/user.js:275:    apiKeys() {
/src/core/server/models/user.js:276:        return this.hasMany('ApiKey', 'user_id');
/src/core/server/models/user.js-277-    },
##############################################
/src/core/server/models/user.js-680-
/src/core/server/models/user.js:681:    permissible: async function permissible(userModelOrId, action, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission) {
/src/core/server/models/user.js-682-        const self = this;
##############################################
/src/core/server/models/user.js-784-                    if (context.user === owner.id) {
/src/core/server/models/user.js:785:                        if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/user.js-786-                            return Promise.resolve();
##############################################
/src/core/server/models/user.js-807-                            .then(() => {
/src/core/server/models/user.js:808:                                if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/user.js-809-                                    return Promise.resolve();
##############################################
/src/core/server/models/user.js-817-
/src/core/server/models/user.js:818:                    if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/user.js-819-                        return Promise.resolve();
##############################################
/src/core/server/models/user.js-827-
/src/core/server/models/user.js:828:        if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/models/user.js-829-            return Promise.resolve();
##############################################
/src/core/server/api/canary/users.js-25-async function fetchOrCreatePersonalToken(userId) {
/src/core/server/api/canary/users.js:26:    const token = await models.ApiKey.findOne({user_id: userId}, {});
/src/core/server/api/canary/users.js-27-
/src/core/server/api/canary/users.js-28-    if (!token) {
/src/core/server/api/canary/users.js:29:        const newToken = await models.ApiKey.add({user_id: userId, type: 'admin'});
/src/core/server/api/canary/users.js-30-        return newToken;
##############################################
/src/core/server/api/canary/users.js-229-            return fetchOrCreatePersonalToken(targetId).then((model) => {
/src/core/server/api/canary/users.js:230:                return models.ApiKey.refreshSecret(model.toJSON(), Object.assign({}, {id: model.id}));
/src/core/server/api/canary/users.js-231-            });
##############################################
/src/core/server/api/canary/utils/serializers/input/posts.js-113-         * - context object is empty (functional call, content api access)
/src/core/server/api/canary/utils/serializers/input/posts.js:114:         * - api_key.type == 'content' ? content api access
/src/core/server/api/canary/utils/serializers/input/posts.js-115-         * - user exists? admin api access
##############################################
/src/core/server/api/canary/utils/serializers/input/posts.js-141-         * - context object is empty (functional call, content api access)
/src/core/server/api/canary/utils/serializers/input/posts.js:142:         * - api_key.type == 'content' ? content api access
/src/core/server/api/canary/utils/serializers/input/posts.js-143-         * - user exists? admin api access
##############################################
/src/core/server/api/canary/utils/serializers/output/users.js-57-        frame.response = {
/src/core/server/api/canary/utils/serializers/output/users.js:58:            apiKey: model.toJSON(frame.options)
/src/core/server/api/canary/utils/serializers/output/users.js-59-        };
##############################################
/src/core/server/api/canary/utils/serializers/output/users.js-65-        frame.response = {
/src/core/server/api/canary/utils/serializers/output/users.js:66:            apiKey: model.toJSON(frame.options)
/src/core/server/api/canary/utils/serializers/output/users.js-67-        };
##############################################
/src/core/server/api/canary/utils/serializers/output/utils/mapper.js-131-
/src/core/server/api/canary/utils/serializers/output/utils/mapper.js:132:    if (jsonModel.api_keys) {
/src/core/server/api/canary/utils/serializers/output/utils/mapper.js:133:        jsonModel.api_keys.forEach((key) => {
/src/core/server/api/canary/utils/serializers/output/utils/mapper.js-134-            if (key.type === 'admin') {
/src/core/server/api/canary/utils/serializers/output/utils/mapper.js:135:                key.secret = `${key.id}:${key.secret}`;
/src/core/server/api/canary/utils/serializers/output/utils/mapper.js-136-            }
##############################################
/src/core/server/api/canary/utils/index.js-29-    // @TODO: Remove, not used.
/src/core/server/api/canary/utils/index.js:30:    isAdminAPIKey: (frame) => {
/src/core/server/api/canary/utils/index.js:31:        return frame.options.context && Object.keys(frame.options.context).length !== 0 && frame.options.context.api_key &&
/src/core/server/api/canary/utils/index.js:32:            frame.options.context.api_key.type === 'admin';
/src/core/server/api/canary/utils/index.js-33-    }
##############################################
/src/core/server/api/canary/integrations.js-15-                include: {
/src/core/server/api/canary/integrations.js:16:                    values: ['api_keys', 'webhooks']
/src/core/server/api/canary/integrations.js-17-                }
##############################################
/src/core/server/api/canary/integrations.js-39-                include: {
/src/core/server/api/canary/integrations.js:40:                    values: ['api_keys', 'webhooks']
/src/core/server/api/canary/integrations.js-41-                }
##############################################
/src/core/server/api/canary/integrations.js-73-                include: {
/src/core/server/api/canary/integrations.js:74:                    values: ['api_keys', 'webhooks']
/src/core/server/api/canary/integrations.js-75-                }
##############################################
/src/core/server/api/canary/integrations.js-79-            if (options.keyid) {
/src/core/server/api/canary/integrations.js:80:                return models.ApiKey.findOne({id: options.keyid})
/src/core/server/api/canary/integrations.js-81-                    .then(async (model) => {
##############################################
/src/core/server/api/canary/integrations.js-84-                                message: i18n.t('errors.api.resource.resourceNotFound', {
/src/core/server/api/canary/integrations.js:85:                                    resource: 'ApiKey'
/src/core/server/api/canary/integrations.js-86-                                })
##############################################
/src/core/server/api/canary/integrations.js-89-                        try {
/src/core/server/api/canary/integrations.js:90:                            await models.ApiKey.refreshSecret(model.toJSON(), Object.assign({}, options, {id: options.keyid}));
/src/core/server/api/canary/integrations.js-91-                            return models.Integration.findOne({id: options.id}, {
/src/core/server/api/canary/integrations.js:92:                                withRelated: ['api_keys', 'webhooks']
/src/core/server/api/canary/integrations.js-93-                            });
##############################################
/src/core/server/api/canary/integrations.js-130-                include: {
/src/core/server/api/canary/integrations.js:131:                    values: ['api_keys', 'webhooks']
/src/core/server/api/canary/integrations.js-132-                }
##############################################
/src/core/server/api/canary/integrations.js-135-        query({data, options}) {
/src/core/server/api/canary/integrations.js:136:            const dataWithApiKeys = Object.assign({
/src/core/server/api/canary/integrations.js:137:                api_keys: [
/src/core/server/api/canary/integrations.js-138-                    {type: 'content'},
##############################################
/src/core/server/api/canary/integrations.js-141-            }, data);
/src/core/server/api/canary/integrations.js:142:            return models.Integration.add(dataWithApiKeys, options);
/src/core/server/api/canary/integrations.js-143-        }
##############################################
/src/core/server/api/shared/http.js-17-        debug(`External API request to ${req.url}`);
/src/core/server/api/shared/http.js:18:        let apiKey = null;
/src/core/server/api/shared/http.js-19-        let integration = null;
##############################################
/src/core/server/api/shared/http.js-21-
/src/core/server/api/shared/http.js:22:        if (req.api_key) {
/src/core/server/api/shared/http.js:23:            apiKey = {
/src/core/server/api/shared/http.js:24:                id: req.api_key.get('id'),
/src/core/server/api/shared/http.js:25:                type: req.api_key.get('type')
/src/core/server/api/shared/http.js-26-            };
/src/core/server/api/shared/http.js-27-            integration = {
/src/core/server/api/shared/http.js:28:                id: req.api_key.get('integration_id')
/src/core/server/api/shared/http.js-29-            };
##############################################
/src/core/server/api/shared/http.js-50-            context: {
/src/core/server/api/shared/http.js:51:                api_key: apiKey,
/src/core/server/api/shared/http.js-52-                user: user,
##############################################
/src/core/server/api/v2/utils/serializers/input/posts.js-108-         * - context object is empty (functional call, content api access)
/src/core/server/api/v2/utils/serializers/input/posts.js:109:         * - api_key.type == 'content' ? content api access
/src/core/server/api/v2/utils/serializers/input/posts.js-110-         * - user exists? admin api access
##############################################
/src/core/server/api/v2/utils/serializers/input/posts.js-136-         * - context object is empty (functional call, content api access)
/src/core/server/api/v2/utils/serializers/input/posts.js:137:         * - api_key.type == 'content' ? content api access
/src/core/server/api/v2/utils/serializers/input/posts.js-138-         * - user exists? admin api access
##############################################
/src/core/server/api/v2/utils/serializers/output/utils/mapper.js-108-
/src/core/server/api/v2/utils/serializers/output/utils/mapper.js:109:    if (jsonModel.api_keys) {
/src/core/server/api/v2/utils/serializers/output/utils/mapper.js:110:        jsonModel.api_keys.forEach((key) => {
/src/core/server/api/v2/utils/serializers/output/utils/mapper.js-111-            if (key.type === 'admin') {
/src/core/server/api/v2/utils/serializers/output/utils/mapper.js:112:                key.secret = `${key.id}:${key.secret}`;
/src/core/server/api/v2/utils/serializers/output/utils/mapper.js-113-            }
##############################################
/src/core/server/api/v2/utils/index.js-29-    // @TODO: Remove, not used.
/src/core/server/api/v2/utils/index.js:30:    isAdminAPIKey: (frame) => {
/src/core/server/api/v2/utils/index.js:31:        return frame.options.context && Object.keys(frame.options.context).length !== 0 && frame.options.context.api_key &&
/src/core/server/api/v2/utils/index.js:32:            frame.options.context.api_key.type === 'admin';
/src/core/server/api/v2/utils/index.js-33-    }
##############################################
/src/core/server/api/v2/integrations.js-15-                include: {
/src/core/server/api/v2/integrations.js:16:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v2/integrations.js-17-                }
##############################################
/src/core/server/api/v2/integrations.js-39-                include: {
/src/core/server/api/v2/integrations.js:40:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v2/integrations.js-41-                }
##############################################
/src/core/server/api/v2/integrations.js-72-                include: {
/src/core/server/api/v2/integrations.js:73:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v2/integrations.js-74-                }
##############################################
/src/core/server/api/v2/integrations.js-107-                include: {
/src/core/server/api/v2/integrations.js:108:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v2/integrations.js-109-                }
##############################################
/src/core/server/api/v2/integrations.js-112-        query({data, options}) {
/src/core/server/api/v2/integrations.js:113:            const dataWithApiKeys = Object.assign({
/src/core/server/api/v2/integrations.js:114:                api_keys: [
/src/core/server/api/v2/integrations.js-115-                    {type: 'content'},
##############################################
/src/core/server/api/v2/integrations.js-118-            }, data);
/src/core/server/api/v2/integrations.js:119:            return models.Integration.add(dataWithApiKeys, options);
/src/core/server/api/v2/integrations.js-120-        }
##############################################
/src/core/server/api/v3/users.js-25-async function fetchOrCreatePersonalToken(userId) {
/src/core/server/api/v3/users.js:26:    const token = await models.ApiKey.findOne({user_id: userId}, {});
/src/core/server/api/v3/users.js-27-
/src/core/server/api/v3/users.js-28-    if (!token) {
/src/core/server/api/v3/users.js:29:        const newToken = await models.ApiKey.add({user_id: userId, type: 'admin'});
/src/core/server/api/v3/users.js-30-        return newToken;
##############################################
/src/core/server/api/v3/users.js-229-            return fetchOrCreatePersonalToken(targetId).then((model) => {
/src/core/server/api/v3/users.js:230:                return models.ApiKey.refreshSecret(model.toJSON(), Object.assign({}, {id: model.id}));
/src/core/server/api/v3/users.js-231-            });
##############################################
/src/core/server/api/v3/utils/serializers/input/posts.js-117-         * - context object is empty (functional call, content api access)
/src/core/server/api/v3/utils/serializers/input/posts.js:118:         * - api_key.type == 'content' ? content api access
/src/core/server/api/v3/utils/serializers/input/posts.js-119-         * - user exists? admin api access
##############################################
/src/core/server/api/v3/utils/serializers/input/posts.js-149-         * - context object is empty (functional call, content api access)
/src/core/server/api/v3/utils/serializers/input/posts.js:150:         * - api_key.type == 'content' ? content api access
/src/core/server/api/v3/utils/serializers/input/posts.js-151-         * - user exists? admin api access
##############################################
/src/core/server/api/v3/utils/serializers/output/users.js-57-        frame.response = {
/src/core/server/api/v3/utils/serializers/output/users.js:58:            apiKey: model.toJSON(frame.options)
/src/core/server/api/v3/utils/serializers/output/users.js-59-        };
##############################################
/src/core/server/api/v3/utils/serializers/output/users.js-65-        frame.response = {
/src/core/server/api/v3/utils/serializers/output/users.js:66:            apiKey: model.toJSON(frame.options)
/src/core/server/api/v3/utils/serializers/output/users.js-67-        };
##############################################
/src/core/server/api/v3/utils/serializers/output/utils/mapper.js-140-
/src/core/server/api/v3/utils/serializers/output/utils/mapper.js:141:    if (jsonModel.api_keys) {
/src/core/server/api/v3/utils/serializers/output/utils/mapper.js:142:        jsonModel.api_keys.forEach((key) => {
/src/core/server/api/v3/utils/serializers/output/utils/mapper.js-143-            if (key.type === 'admin') {
/src/core/server/api/v3/utils/serializers/output/utils/mapper.js:144:                key.secret = `${key.id}:${key.secret}`;
/src/core/server/api/v3/utils/serializers/output/utils/mapper.js-145-            }
##############################################
/src/core/server/api/v3/utils/index.js-29-    // @TODO: Remove, not used.
/src/core/server/api/v3/utils/index.js:30:    isAdminAPIKey: (frame) => {
/src/core/server/api/v3/utils/index.js:31:        return frame.options.context && Object.keys(frame.options.context).length !== 0 && frame.options.context.api_key &&
/src/core/server/api/v3/utils/index.js:32:            frame.options.context.api_key.type === 'admin';
/src/core/server/api/v3/utils/index.js-33-    }
##############################################
/src/core/server/api/v3/integrations.js-15-                include: {
/src/core/server/api/v3/integrations.js:16:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v3/integrations.js-17-                }
##############################################
/src/core/server/api/v3/integrations.js-39-                include: {
/src/core/server/api/v3/integrations.js:40:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v3/integrations.js-41-                }
##############################################
/src/core/server/api/v3/integrations.js-73-                include: {
/src/core/server/api/v3/integrations.js:74:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v3/integrations.js-75-                }
##############################################
/src/core/server/api/v3/integrations.js-79-            if (options.keyid) {
/src/core/server/api/v3/integrations.js:80:                return models.ApiKey.findOne({id: options.keyid})
/src/core/server/api/v3/integrations.js-81-                    .then(async (model) => {
##############################################
/src/core/server/api/v3/integrations.js-84-                                message: i18n.t('errors.api.resource.resourceNotFound', {
/src/core/server/api/v3/integrations.js:85:                                    resource: 'ApiKey'
/src/core/server/api/v3/integrations.js-86-                                })
##############################################
/src/core/server/api/v3/integrations.js-89-                        try {
/src/core/server/api/v3/integrations.js:90:                            await models.ApiKey.refreshSecret(model.toJSON(), Object.assign({}, options, {id: options.keyid}));
/src/core/server/api/v3/integrations.js-91-                            return models.Integration.findOne({id: options.id}, {
/src/core/server/api/v3/integrations.js:92:                                withRelated: ['api_keys', 'webhooks']
/src/core/server/api/v3/integrations.js-93-                            });
##############################################
/src/core/server/api/v3/integrations.js-130-                include: {
/src/core/server/api/v3/integrations.js:131:                    values: ['api_keys', 'webhooks']
/src/core/server/api/v3/integrations.js-132-                }
##############################################
/src/core/server/api/v3/integrations.js-135-        query({data, options}) {
/src/core/server/api/v3/integrations.js:136:            const dataWithApiKeys = Object.assign({
/src/core/server/api/v3/integrations.js:137:                api_keys: [
/src/core/server/api/v3/integrations.js-138-                    {type: 'content'},
##############################################
/src/core/server/api/v3/integrations.js-141-            }, data);
/src/core/server/api/v3/integrations.js:142:            return models.Integration.add(dataWithApiKeys, options);
/src/core/server/api/v3/integrations.js-143-        }
##############################################
/src/core/server/adapters/scheduling/post-scheduling/index.js-17-_private.getSchedulerIntegration = function () {
/src/core/server/adapters/scheduling/post-scheduling/index.js:18:    return models.Integration.findOne({slug: 'ghost-scheduler'}, {withRelated: 'api_keys'})
/src/core/server/adapters/scheduling/post-scheduling/index.js-19-        .then((integration) => {
##############################################
/src/core/server/adapters/scheduling/post-scheduling/index.js-36-_private.getSignedAdminToken = function ({publishedAt, apiUrl, integration}) {
/src/core/server/adapters/scheduling/post-scheduling/index.js:37:    let key = integration.api_keys[0];
/src/core/server/adapters/scheduling/post-scheduling/index.js-38-
##############################################
/src/core/server/web/api/canary/admin/middleware.js-8-    // CASE: user is logged in, allow
/src/core/server/web/api/canary/admin/middleware.js:9:    if (!req.api_key) {
/src/core/server/web/api/canary/admin/middleware.js-10-        return next();
##############################################
/src/core/server/web/api/canary/admin/routes.js-44-    router.post('/integrations', mw.authAdminApi, http(apiCanary.integrations.add));
/src/core/server/web/api/canary/admin/routes.js:45:    router.post('/integrations/:id/api_key/:keyid/refresh', mw.authAdminApi, http(apiCanary.integrations.edit));
/src/core/server/web/api/canary/admin/routes.js-46-    router.put('/integrations/:id', mw.authAdminApi, http(apiCanary.integrations.edit));
##############################################
/src/core/server/web/api/canary/content/middleware.js-16-module.exports.authenticatePublic = [
/src/core/server/web/api/canary/content/middleware.js:17:    shared.middlewares.brute.contentApiKey,
/src/core/server/web/api/canary/content/middleware.js-18-    auth.authenticate.authenticateContentApi,
##############################################
/src/core/server/web/api/v2/admin/middleware.js-8-    // CASE: user is logged in, allow
/src/core/server/web/api/v2/admin/middleware.js:9:    if (!req.api_key) {
/src/core/server/web/api/v2/admin/middleware.js-10-        return next();
##############################################
/src/core/server/web/api/v2/content/middleware.js-16-module.exports.authenticatePublic = [
/src/core/server/web/api/v2/content/middleware.js:17:    shared.middlewares.brute.contentApiKey,
/src/core/server/web/api/v2/content/middleware.js-18-    auth.authenticate.authenticateContentApi,
##############################################
/src/core/server/web/api/v3/admin/middleware.js-8-    // CASE: user is logged in, allow
/src/core/server/web/api/v3/admin/middleware.js:9:    if (!req.api_key) {
/src/core/server/web/api/v3/admin/middleware.js-10-        return next();
##############################################
/src/core/server/web/api/v3/admin/routes.js-44-    router.post('/integrations', mw.authAdminApi, http(api.integrations.add));
/src/core/server/web/api/v3/admin/routes.js:45:    router.post('/integrations/:id/api_key/:keyid/refresh', mw.authAdminApi, http(api.integrations.edit));
/src/core/server/web/api/v3/admin/routes.js-46-    router.put('/integrations/:id', mw.authAdminApi, http(api.integrations.edit));
##############################################
/src/core/server/web/api/v3/content/middleware.js-16-module.exports.authenticatePublic = [
/src/core/server/web/api/v3/content/middleware.js:17:    shared.middlewares.brute.contentApiKey,
/src/core/server/web/api/v3/content/middleware.js-18-    auth.authenticate.authenticateContentApi,
##############################################
/src/core/server/web/shared/middlewares/api/spam-prevention.js-14-const spamUserLogin = spam.user_login || {};
/src/core/server/web/shared/middlewares/api/spam-prevention.js:15:const spamContentApiKey = spam.content_api_key || {};
/src/core/server/web/shared/middlewares/api/spam-prevention.js-16-
##############################################
/src/core/server/web/shared/middlewares/api/spam-prevention.js-23-let userResetInstance;
/src/core/server/web/shared/middlewares/api/spam-prevention.js:24:let contentApiKeyInstance;
/src/core/server/web/shared/middlewares/api/spam-prevention.js-25-
##############################################
/src/core/server/web/shared/middlewares/api/spam-prevention.js-210-
/src/core/server/web/shared/middlewares/api/spam-prevention.js:211:const contentApiKey = () => {
/src/core/server/web/shared/middlewares/api/spam-prevention.js-212-    const ExpressBrute = require('express-brute');
##############################################
/src/core/server/web/shared/middlewares/api/spam-prevention.js-215-
/src/core/server/web/shared/middlewares/api/spam-prevention.js:216:    contentApiKeyInstance = contentApiKeyInstance || new ExpressBrute(memoryStore,
/src/core/server/web/shared/middlewares/api/spam-prevention.js-217-        extend({
##############################################
/src/core/server/web/shared/middlewares/api/spam-prevention.js-227-            handleStoreError: handleStoreError
/src/core/server/web/shared/middlewares/api/spam-prevention.js:228:        }, pick(spamContentApiKey, spamConfigKeys))
/src/core/server/web/shared/middlewares/api/spam-prevention.js-229-    );
/src/core/server/web/shared/middlewares/api/spam-prevention.js-230-
/src/core/server/web/shared/middlewares/api/spam-prevention.js:231:    return contentApiKeyInstance;
/src/core/server/web/shared/middlewares/api/spam-prevention.js-232-};
##############################################
/src/core/server/web/shared/middlewares/api/spam-prevention.js-239-    privateBlog: privateBlog,
/src/core/server/web/shared/middlewares/api/spam-prevention.js:240:    contentApiKey: contentApiKey
/src/core/server/web/shared/middlewares/api/spam-prevention.js-241-};
##############################################
/src/core/server/web/shared/middlewares/brute.js-80-     */
/src/core/server/web/shared/middlewares/brute.js:81:    contentApiKey(req, res, next) {
/src/core/server/web/shared/middlewares/brute.js:82:        return spamPrevention.contentApiKey().getMiddleware({
/src/core/server/web/shared/middlewares/brute.js-83-            ignoreIP: false
##############################################
/src/core/server/data/migrations/versions/2.2/2-add-integrations-and-api-key-tables.js-4-    addTable('integrations'),
/src/core/server/data/migrations/versions/2.2/2-add-integrations-and-api-key-tables.js:5:    addTable('api_keys')
/src/core/server/data/migrations/versions/2.2/2-add-integrations-and-api-key-tables.js-6-);
##############################################
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-44-        action: 'browse',
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js:45:        object: 'api_key'
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-46-    }, [
##############################################
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-51-        action: 'read',
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js:52:        object: 'api_key'
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-53-    }, [
##############################################
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-58-        action: 'edit',
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js:59:        object: 'api_key'
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-60-    }, [
##############################################
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-65-        action: 'add',
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js:66:        object: 'api_key'
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-67-    }, [
##############################################
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-72-        action: 'destroy',
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js:73:        object: 'api_key'
/src/core/server/data/migrations/versions/2.2/4-insert-integration-and-api-key-permissions.js-74-    }, [
##############################################
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-15-
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:16:_private.addApiKeyRole = (options) => {
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-17-    const message = 'Adding "Admin Integration" role to roles table';
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:18:    const apiKeyRole = utils.findModelFixtureEntry('Role', {name: 'Admin Integration'});
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-19-
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:20:    return models.Role.findOne({name: apiKeyRole.name}, options)
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-21-        .then((role) => {
##############################################
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-24-                    name: 'Role',
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:25:                    entries: [apiKeyRole]
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-26-                }, options).then(result => _private.printResult(result, message));
##############################################
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-32-
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:33:_private.addApiKeyPermissions = (options) => {
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-34-    const message = 'Adding permissions for the "Admin Integration" role';
##############################################
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-45-
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:46:_private.removeApiKeyPermissionsAndRole = (options) => {
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-47-    const message = 'Rollback: Removing "Admin Integration" role and permissions';
##############################################
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-71-
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:72:    return _private.addApiKeyRole(localOptions)
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:73:        .then(() => _private.addApiKeyPermissions(localOptions));
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-74-};
##############################################
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-81-
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js:82:    return _private.removeApiKeyPermissionsAndRole(localOptions);
/src/core/server/data/migrations/versions/2.2/3-insert-admin-integration-role.js-83-};
##############################################
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js-10-            provider: 'mailgun',
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js:11:            apiKey: null,
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js-12-            domain: null,
##############################################
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js-27-        const operations = [{
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js:28:            key: 'mailgun_api_key',
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js:29:            value: bulkEmailSettings.apiKey
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js-30-        }, {
##############################################
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js-54-        const settingsToDelete = [
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js:55:            'mailgun_api_key',
/src/core/server/data/migrations/versions/3.23/01-migrate-bulk-email-settings.js-56-            'mailgun_domain',
##############################################
/src/core/server/data/migrations/versions/3.23/02-remove-bulk-email-settings.js-19-
/src/core/server/data/migrations/versions/3.23/02-remove-bulk-email-settings.js:20:        const apiKey = await getSetting('mailgun_api_key');
/src/core/server/data/migrations/versions/3.23/02-remove-bulk-email-settings.js-21-        const domain = await getSetting('mailgun_domain');
##############################################
/src/core/server/data/migrations/versions/3.23/02-remove-bulk-email-settings.js-25-            provider: 'mailgun',
/src/core/server/data/migrations/versions/3.23/02-remove-bulk-email-settings.js:26:            apiKey: apiKey ? apiKey.value : '',
/src/core/server/data/migrations/versions/3.23/02-remove-bulk-email-settings.js-27-            domain: domain ? domain.value : '',
##############################################
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js-6-// createSecret is copied from core/server/models/api-key.js
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js:7:const createSecret = (type) => {
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js-8-    const bytes = type === 'content' ? 13 : 32;
##############################################
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js-64-        };
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js:65:        await knex('api_keys').insert(contentKey);
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js-66-
##############################################
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js-77-        };
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js:78:        await knex('api_keys').insert(adminKey);
/src/core/server/data/migrations/versions/4.0/22-solve-orphaned-webhooks.js-79-
##############################################
/src/core/server/data/migrations/versions/3.39/02-add-user-id-to-api-keys-table.js-2-
/src/core/server/data/migrations/versions/3.39/02-add-user-id-to-api-keys-table.js:3:module.exports = createAddColumnMigration('api_keys', 'user_id', {
/src/core/server/data/migrations/versions/3.39/02-add-user-id-to-api-keys-table.js-4-    type: 'string',
##############################################
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-18-    const message = 'Adding "Scheduler Integration" role to roles table';
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js:19:    const apiKeyRole = utils.findModelFixtureEntry('Role', {name: 'Scheduler Integration'});
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-20-
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js:21:    return models.Role.findOne({name: apiKeyRole.name}, options)
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-22-        .then((role) => {
##############################################
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-25-                    name: 'Role',
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js:26:                    entries: [apiKeyRole]
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-27-                }, options).then(result => _private.printResult(result, message));
##############################################
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-40-
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js:41:_private.removeApiKeyPermissionsAndRole = (options) => {
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-42-    const message = 'Rollback: Removing "Scheduler Integration" role and permissions';
##############################################
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-82-
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js:83:    return _private.removeApiKeyPermissionsAndRole(localOptions);
/src/core/server/data/migrations/versions/2.28/3-insert-ghost-scheduler-role.js-84-};
##############################################
/src/core/server/data/migrations/versions/3.22/06-migrate-stripe-connect-settings.js-90-        const publishableKey = await getSetting('stripe_connect_publishable_key');
/src/core/server/data/migrations/versions/3.22/06-migrate-stripe-connect-settings.js:91:        const secretKey = await getSetting('stripe_connect_secret_key');
/src/core/server/data/migrations/versions/3.22/06-migrate-stripe-connect-settings.js-92-
##############################################
/src/core/server/data/migrations/versions/3.22/05-migrate-members-subscription-settings.js-58-
/src/core/server/data/migrations/versions/3.22/05-migrate-members-subscription-settings.js:59:        const stripeDirectSecretKey = stripeConfig.secret_token || '';
/src/core/server/data/migrations/versions/3.22/05-migrate-members-subscription-settings.js-60-        const stripeDirectPublishableKey = stripeConfig.public_token || '';
##############################################
/src/core/server/data/migrations/versions/3.22/05-migrate-members-subscription-settings.js-112-        const allowSelfSignup = await getSetting('members_allow_free_signup');
/src/core/server/data/migrations/versions/3.22/05-migrate-members-subscription-settings.js:113:        const stripeDirectSecretKey = await getSetting('stripe_secret_key');
/src/core/server/data/migrations/versions/3.22/05-migrate-members-subscription-settings.js-114-        const stripeDirectPublishableKey = await getSetting('stripe_publishable_key');
##############################################
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-15-
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:16:_private.addApiKeyRole = (options) => {
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-17-    const message = 'Adding "DB Backup Integration" role to roles table';
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:18:    const apiKeyRole = utils.findModelFixtureEntry('Role', {name: 'DB Backup Integration'});
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-19-
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:20:    return models.Role.findOne({name: apiKeyRole.name}, options)
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-21-        .then((role) => {
##############################################
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-24-                    name: 'Role',
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:25:                    entries: [apiKeyRole]
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-26-                }, options).then(result => _private.printResult(result, message));
##############################################
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-32-
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:33:_private.addApiKeyPermissions = (options) => {
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-34-    const message = 'Adding permissions for the "DB Backup Integration" role';
##############################################
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-45-
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:46:_private.removeApiKeyPermissionsAndRole = (options) => {
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-47-    const message = 'Rollback: Removing "DB Backup Integration" role and permissions';
##############################################
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-71-
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:72:    return _private.addApiKeyRole(localOptions)
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:73:        .then(() => _private.addApiKeyPermissions(localOptions));
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-74-};
##############################################
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-81-
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js:82:    return _private.removeApiKeyPermissionsAndRole(localOptions);
/src/core/server/data/migrations/versions/2.27/1-insert-ghost-db-backup-role.js-83-};
##############################################
/src/core/server/data/exporter/index.js-14-    'actions',
/src/core/server/data/exporter/index.js:15:    'api_keys',
/src/core/server/data/exporter/index.js-16-    'brute',
##############################################
/src/core/server/data/exporter/index.js-73-    'oauth_client_id',
/src/core/server/data/exporter/index.js:74:    'oauth_client_secret'
/src/core/server/data/exporter/index.js-75-];
##############################################
/src/core/server/data/schema/schema.js-310-    },
/src/core/server/data/schema/schema.js:311:    api_keys: {
/src/core/server/data/schema/schema.js-312-        id: {type: 'string', maxlength: 24, nullable: false, primary: true},
##############################################
/src/core/server/data/schema/default-settings.json-351-        },
/src/core/server/data/schema/default-settings.json:352:        "mailgun_api_key": {
/src/core/server/data/schema/default-settings.json-353-            "defaultValue": null,
##############################################
/src/core/server/data/schema/default-settings.json-475-        },
/src/core/server/data/schema/default-settings.json:476:        "oauth_client_secret" : {
/src/core/server/data/schema/default-settings.json-477-            "defaultValue": null,
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-312-                    "action_type": "browse",
/src/core/server/data/schema/fixtures/fixtures.json:313:                    "object_type": "api_key"
/src/core/server/data/schema/fixtures/fixtures.json-314-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-317-                    "action_type": "read",
/src/core/server/data/schema/fixtures/fixtures.json:318:                    "object_type": "api_key"
/src/core/server/data/schema/fixtures/fixtures.json-319-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-322-                    "action_type": "edit",
/src/core/server/data/schema/fixtures/fixtures.json:323:                    "object_type": "api_key"
/src/core/server/data/schema/fixtures/fixtures.json-324-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-327-                    "action_type": "add",
/src/core/server/data/schema/fixtures/fixtures.json:328:                    "object_type": "api_key"
/src/core/server/data/schema/fixtures/fixtures.json-329-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-332-                    "action_type": "destroy",
/src/core/server/data/schema/fixtures/fixtures.json:333:                    "object_type": "api_key"
/src/core/server/data/schema/fixtures/fixtures.json-334-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-680-                    "type": "builtin",
/src/core/server/data/schema/fixtures/fixtures.json:681:                    "api_keys": [{"type": "admin"}]
/src/core/server/data/schema/fixtures/fixtures.json-682-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-687-                    "type": "internal",
/src/core/server/data/schema/fixtures/fixtures.json:688:                    "api_keys": [{"type": "admin", "role": "DB Backup Integration"}]
/src/core/server/data/schema/fixtures/fixtures.json-689-                },
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-694-                    "type": "internal",
/src/core/server/data/schema/fixtures/fixtures.json:695:                    "api_keys": [{"type": "admin", "role": "Scheduler Integration"}]
/src/core/server/data/schema/fixtures/fixtures.json-696-                }
##############################################
/src/core/server/data/schema/fixtures/fixtures.json-726-                    "integration": "all",
/src/core/server/data/schema/fixtures/fixtures.json:727:                    "api_key": "all",
/src/core/server/data/schema/fixtures/fixtures.json-728-                    "action": "all",
##############################################
/src/core/server/services/users.js-14- * @prop {(frameOptions: Object) => Promise} Post.destroyByAuthor
/src/core/server/services/users.js:15: * @prop {Object} ApiKey
/src/core/server/services/users.js:16: * @prop {(Object) => Promise} ApiKey.destroy
/src/core/server/services/users.js:17: * @prop {Object} ApiKey.NotFoundError
/src/core/server/services/users.js-18- * @prop {Object} User
##############################################
/src/core/server/services/users.js-42-                .then(() => {
/src/core/server/services/users.js:43:                    return this.models.ApiKey.destroy({
/src/core/server/services/users.js-44-                        ...frameOptions,
##############################################
/src/core/server/services/users.js-49-                    }).catch((err) => {
/src/core/server/services/users.js:50:                        if (err instanceof this.models.ApiKey.NotFoundError) {
/src/core/server/services/users.js-51-                            return; //Do nothing here as it's ok
##############################################
/src/core/server/services/bulk-email/mailgun.js-13-    return mailgun({
/src/core/server/services/bulk-email/mailgun.js:14:        apiKey: config.apiKey,
/src/core/server/services/bulk-email/mailgun.js-15-        domain: config.domain,
##############################################
/src/core/server/services/bulk-email/mailgun.js-26-    const bulkEmailSetting = {
/src/core/server/services/bulk-email/mailgun.js:27:        apiKey: settingsCache.get('mailgun_api_key'),
/src/core/server/services/bulk-email/mailgun.js-28-        domain: settingsCache.get('mailgun_domain'),
##############################################
/src/core/server/services/bulk-email/mailgun.js-31-    const hasMailgunConfig = !!(bulkEmailConfig && bulkEmailConfig.mailgun);
/src/core/server/services/bulk-email/mailgun.js:32:    const hasMailgunSetting = !!(bulkEmailSetting && bulkEmailSetting.apiKey && bulkEmailSetting.baseUrl && bulkEmailSetting.domain);
/src/core/server/services/bulk-email/mailgun.js-33-
##############################################
/src/core/server/services/permissions/providers.js-53-
/src/core/server/services/permissions/providers.js:54:    apiKey(id) {
/src/core/server/services/permissions/providers.js:55:        return models.ApiKey.findOne({id}, {withRelated: ['role', 'role.permissions']})
/src/core/server/services/permissions/providers.js:56:            .then((foundApiKey) => {
/src/core/server/services/permissions/providers.js:57:                if (!foundApiKey) {
/src/core/server/services/permissions/providers.js-58-                    throw new errors.NotFoundError({
/src/core/server/services/permissions/providers.js:59:                        message: i18n.t('errors.models.api_key.apiKeyNotFound')
/src/core/server/services/permissions/providers.js-60-                    });
##############################################
/src/core/server/services/permissions/providers.js-64-                // so there's no need for permission deduplication
/src/core/server/services/permissions/providers.js:65:                const permissions = foundApiKey.related('role').related('permissions').models;
/src/core/server/services/permissions/providers.js:66:                const roles = [foundApiKey.toJSON().role];
/src/core/server/services/permissions/providers.js-67-
##############################################
/src/core/server/services/permissions/parse-context.js-5- * @param {Object|String} context
/src/core/server/services/permissions/parse-context.js:6: * @return {{internal: boolean, external: boolean, user: integer|null, public: boolean, api_key: Object|null}}
/src/core/server/services/permissions/parse-context.js-7- */
##############################################
/src/core/server/services/permissions/parse-context.js-12-        user: null,
/src/core/server/services/permissions/parse-context.js:13:        api_key: null,
/src/core/server/services/permissions/parse-context.js-14-        integration: null,
##############################################
/src/core/server/services/permissions/parse-context.js-33-
/src/core/server/services/permissions/parse-context.js:34:    if (context && context.api_key) {
/src/core/server/services/permissions/parse-context.js:35:        parsed.api_key = context.api_key;
/src/core/server/services/permissions/parse-context.js-36-        parsed.integration = context.integration;
/src/core/server/services/permissions/parse-context.js:37:        parsed.public = (context.api_key.type === 'content');
/src/core/server/services/permissions/parse-context.js-38-    }
##############################################
/src/core/server/services/permissions/can-this.js-54-
/src/core/server/services/permissions/can-this.js:55:                const apiKeyPermissions = loadedPermissions.apiKey ? loadedPermissions.apiKey.permissions : null;
/src/core/server/services/permissions/can-this.js-56-                let hasUserPermission;
/src/core/server/services/permissions/can-this.js:57:                let hasApiKeyPermission;
/src/core/server/services/permissions/can-this.js-58-
##############################################
/src/core/server/services/permissions/can-this.js-88-                // Check api key permissions if they were passed
/src/core/server/services/permissions/can-this.js:89:                hasApiKeyPermission = true;
/src/core/server/services/permissions/can-this.js:90:                if (!_.isNull(apiKeyPermissions)) {
/src/core/server/services/permissions/can-this.js-91-                    // api key request have no user, but we want the user permissions checks to pass
/src/core/server/services/permissions/can-this.js-92-                    hasUserPermission = true;
/src/core/server/services/permissions/can-this.js:93:                    hasApiKeyPermission = _.some(apiKeyPermissions, checkPermission);
/src/core/server/services/permissions/can-this.js-94-                }
##############################################
/src/core/server/services/permissions/can-this.js-98-                    return TargetModel.permissible(
/src/core/server/services/permissions/can-this.js:99:                        modelId, actType, context, unsafeAttrs, loadedPermissions, hasUserPermission, hasApiKeyPermission
/src/core/server/services/permissions/can-this.js-100-                    );
##############################################
/src/core/server/services/permissions/can-this.js-102-
/src/core/server/services/permissions/can-this.js:103:                if (hasUserPermission && hasApiKeyPermission) {
/src/core/server/services/permissions/can-this.js-104-                    return;
##############################################
/src/core/server/services/permissions/can-this.js-117-    let userPermissionLoad;
/src/core/server/services/permissions/can-this.js:118:    let apiKeyPermissionLoad;
/src/core/server/services/permissions/can-this.js-119-    let permissionsLoad;
/src/core/server/services/permissions/can-this.js-120-
/src/core/server/services/permissions/can-this.js:121:    // Get context.user, context.api_key and context.app
/src/core/server/services/permissions/can-this.js-122-    context = parseContext(context);
##############################################
/src/core/server/services/permissions/can-this.js-136-    // Kick off loading of api key permissions if necessary
/src/core/server/services/permissions/can-this.js:137:    if (context.api_key) {
/src/core/server/services/permissions/can-this.js:138:        apiKeyPermissionLoad = providers.apiKey(context.api_key.id);
/src/core/server/services/permissions/can-this.js-139-    } else {
/src/core/server/services/permissions/can-this.js:140:        // Resolve null if no context.api_key
/src/core/server/services/permissions/can-this.js:141:        apiKeyPermissionLoad = Promise.resolve(null);
/src/core/server/services/permissions/can-this.js-142-    }
##############################################
/src/core/server/services/permissions/can-this.js-144-    // Wait for both user and app permissions to load
/src/core/server/services/permissions/can-this.js:145:    permissionsLoad = Promise.all([userPermissionLoad, apiKeyPermissionLoad]).then(function (result) {
/src/core/server/services/permissions/can-this.js-146-        return {
/src/core/server/services/permissions/can-this.js-147-            user: result[0],
/src/core/server/services/permissions/can-this.js:148:            apiKey: result[1]
/src/core/server/services/permissions/can-this.js-149-        };
##############################################
/src/core/server/services/auth/authorize.js-5-    authorizeContentApi(req, res, next) {
/src/core/server/services/auth/authorize.js:6:        const hasApiKey = req.api_key && req.api_key.id;
/src/core/server/services/auth/authorize.js-7-        const hasMember = req.member;
/src/core/server/services/auth/authorize.js:8:        if (hasApiKey) {
/src/core/server/services/auth/authorize.js-9-            return next();
##############################################
/src/core/server/services/auth/authorize.js-21-        const hasUser = req.user && req.user.id;
/src/core/server/services/auth/authorize.js:22:        const hasApiKey = req.api_key && req.api_key.id;
/src/core/server/services/auth/authorize.js-23-
/src/core/server/services/auth/authorize.js:24:        if (hasUser || hasApiKey) {
/src/core/server/services/auth/authorize.js-25-            return next();
##############################################
/src/core/server/services/auth/api-key/content.js-5-
/src/core/server/services/auth/api-key/content.js:6:const authenticateContentApiKey = async function authenticateContentApiKey(req, res, next) {
/src/core/server/services/auth/api-key/content.js-7-    // allow fallthrough to other auth methods or final ensureAuthenticated check
##############################################
/src/core/server/services/auth/api-key/content.js-21-    try {
/src/core/server/services/auth/api-key/content.js:22:        const apiKey = await models.ApiKey.findOne({secret: key}, {withRelated: ['integration']});
/src/core/server/services/auth/api-key/content.js-23-
/src/core/server/services/auth/api-key/content.js:24:        if (!apiKey) {
/src/core/server/services/auth/api-key/content.js-25-            return next(new errors.UnauthorizedError({
/src/core/server/services/auth/api-key/content.js:26:                message: i18n.t('errors.middleware.auth.unknownContentApiKey'),
/src/core/server/services/auth/api-key/content.js:27:                code: 'UNKNOWN_CONTENT_API_KEY'
/src/core/server/services/auth/api-key/content.js-28-            }));
##############################################
/src/core/server/services/auth/api-key/content.js-30-
/src/core/server/services/auth/api-key/content.js:31:        if (apiKey.get('type') !== 'content') {
/src/core/server/services/auth/api-key/content.js-32-            return next(new errors.UnauthorizedError({
/src/core/server/services/auth/api-key/content.js:33:                message: i18n.t('errors.middleware.auth.invalidApiKeyType'),
/src/core/server/services/auth/api-key/content.js:34:                code: 'INVALID_API_KEY_TYPE'
/src/core/server/services/auth/api-key/content.js-35-            }));
##############################################
/src/core/server/services/auth/api-key/content.js-39-        if (limitService.isLimited('customIntegrations')
/src/core/server/services/auth/api-key/content.js:40:            && (apiKey.relations.integration && !['internal'].includes(apiKey.relations.integration.get('type')))) {
/src/core/server/services/auth/api-key/content.js-41-            // NOTE: using "checkWouldGoOverLimit" instead of "checkIsOverLimit" here because flag limits don't have
##############################################
/src/core/server/services/auth/api-key/content.js-46-        // authenticated OK, store the api key on the request for later checks and logging
/src/core/server/services/auth/api-key/content.js:47:        req.api_key = apiKey;
/src/core/server/services/auth/api-key/content.js-48-
##############################################
/src/core/server/services/auth/api-key/content.js-59-module.exports = {
/src/core/server/services/auth/api-key/content.js:60:    authenticateContentApiKey
/src/core/server/services/auth/api-key/content.js-61-};
##############################################
/src/core/server/services/auth/api-key/admin.js-40-    if (!req.headers || !req.headers.authorization) {
/src/core/server/services/auth/api-key/admin.js:41:        req.api_key = null;
/src/core/server/services/auth/api-key/admin.js-42-        return next();
##############################################
/src/core/server/services/auth/api-key/admin.js-70- * 1. extract the JWT token from the `Authorization: Ghost xxxx` header or from URL(for schedules)
/src/core/server/services/auth/api-key/admin.js:71: * 2. decode the JWT to extract the api_key id from the "key id" header claim
/src/core/server/services/auth/api-key/admin.js:72: * 3. find a matching api_key record
/src/core/server/services/auth/api-key/admin.js-73- * 4. verify the JWT (matching secret, matching URL path, not expired)
/src/core/server/services/auth/api-key/admin.js:74: * 5. place the api_key object on `req.api_key`
/src/core/server/services/auth/api-key/admin.js-75- *
/src/core/server/services/auth/api-key/admin.js-76- * There are some specifcs of the JWT that we expect:
/src/core/server/services/auth/api-key/admin.js:77: * - the "Key ID" header parameter should be set to the id of the api_key used to sign the token
/src/core/server/services/auth/api-key/admin.js-78- *   https://tools.ietf.org/html/rfc7515#section-4.1.4
##############################################
/src/core/server/services/auth/api-key/admin.js-91-
/src/core/server/services/auth/api-key/admin.js:92:    const apiKeyId = decoded.header.kid;
/src/core/server/services/auth/api-key/admin.js-93-
/src/core/server/services/auth/api-key/admin.js:94:    if (!apiKeyId) {
/src/core/server/services/auth/api-key/admin.js-95-        return next(new errors.BadRequestError({
##############################################
/src/core/server/services/auth/api-key/admin.js-101-    try {
/src/core/server/services/auth/api-key/admin.js:102:        const apiKey = await models.ApiKey.findOne({id: apiKeyId}, {withRelated: ['integration']});
/src/core/server/services/auth/api-key/admin.js-103-
/src/core/server/services/auth/api-key/admin.js:104:        if (!apiKey) {
/src/core/server/services/auth/api-key/admin.js-105-            return next(new errors.UnauthorizedError({
/src/core/server/services/auth/api-key/admin.js:106:                message: i18n.t('errors.middleware.auth.unknownAdminApiKey'),
/src/core/server/services/auth/api-key/admin.js:107:                code: 'UNKNOWN_ADMIN_API_KEY'
/src/core/server/services/auth/api-key/admin.js-108-            }));
##############################################
/src/core/server/services/auth/api-key/admin.js-110-
/src/core/server/services/auth/api-key/admin.js:111:        if (apiKey.get('type') !== 'admin') {
/src/core/server/services/auth/api-key/admin.js-112-            return next(new errors.UnauthorizedError({
/src/core/server/services/auth/api-key/admin.js:113:                message: i18n.t('errors.middleware.auth.invalidApiKeyType'),
/src/core/server/services/auth/api-key/admin.js:114:                code: 'INVALID_API_KEY_TYPE'
/src/core/server/services/auth/api-key/admin.js-115-            }));
##############################################
/src/core/server/services/auth/api-key/admin.js-119-        if (limitService.isLimited('customIntegrations')
/src/core/server/services/auth/api-key/admin.js:120:            && (apiKey.relations.integration && !['internal'].includes(apiKey.relations.integration.get('type')))) {
/src/core/server/services/auth/api-key/admin.js-121-            // NOTE: using "checkWouldGoOverLimit" instead of "checkIsOverLimit" here because flag limits don't have
##############################################
/src/core/server/services/auth/api-key/admin.js-129-        // https://github.com/auth0/node-jsonwebtoken/issues/208#issuecomment-231861138
/src/core/server/services/auth/api-key/admin.js:130:        const secret = Buffer.from(apiKey.get('secret'), 'hex');
/src/core/server/services/auth/api-key/admin.js-131-
##############################################
/src/core/server/services/auth/api-key/admin.js-156-
/src/core/server/services/auth/api-key/admin.js:157:        if (apiKey.get('user_id')) {
/src/core/server/services/auth/api-key/admin.js-158-            // fetch the user and store it on the request for later checks and logging
/src/core/server/services/auth/api-key/admin.js-159-            const user = await models.User.findOne(
/src/core/server/services/auth/api-key/admin.js:160:                {id: apiKey.get('user_id'), status: 'active'},
/src/core/server/services/auth/api-key/admin.js-161-                {require: true}
##############################################
/src/core/server/services/auth/api-key/admin.js-169-        // store the api key on the request for later checks and logging
/src/core/server/services/auth/api-key/admin.js:170:        req.api_key = apiKey;
/src/core/server/services/auth/api-key/admin.js-171-
##############################################
/src/core/server/services/auth/authenticate.js-1-const session = require('./session');
/src/core/server/services/auth/authenticate.js:2:const apiKeyAuth = require('./api-key');
/src/core/server/services/auth/authenticate.js-3-const members = require('./members');
##############################################
/src/core/server/services/auth/authenticate.js-5-const authenticate = {
/src/core/server/services/auth/authenticate.js:6:    authenticateAdminApi: [apiKeyAuth.admin.authenticate, session.authenticate],
/src/core/server/services/auth/authenticate.js:7:    authenticateAdminApiWithUrl: [apiKeyAuth.admin.authenticateWithUrl],
/src/core/server/services/auth/authenticate.js-8-
/src/core/server/services/auth/authenticate.js:9:    authenticateContentApi: [apiKeyAuth.content.authenticateContentApiKey, members.authenticateMembersToken]
/src/core/server/services/auth/authenticate.js-10-};
##############################################
/src/core/server/services/members/config.js-104-
/src/core/server/services/members/config.js:105:        const secretKey = this._settingsCache.get(`stripe_${type === 'connect' ? 'connect_' : ''}secret_key`);
/src/core/server/services/members/config.js-106-        const publicKey = this._settingsCache.get(`stripe_${type === 'connect' ? 'connect_' : ''}publishable_key`);
##############################################
/src/core/server/services/members/config.js-169-
/src/core/server/services/members/config.js:170:        const stripeApiKeys = this.getActiveStripeKeys();
/src/core/server/services/members/config.js-171-        const urls = this.getStripeUrlConfig();
/src/core/server/services/members/config.js-172-
/src/core/server/services/members/config.js:173:        if (!stripeApiKeys) {
/src/core/server/services/members/config.js-174-            return null;
##############################################
/src/core/server/services/members/config.js-177-        return {
/src/core/server/services/members/config.js:178:            publicKey: stripeApiKeys.publicKey,
/src/core/server/services/members/config.js:179:            secretKey: stripeApiKeys.secretKey,
/src/core/server/services/members/config.js-180-            checkoutSuccessUrl: urls.checkoutSuccess,
##############################################
/src/core/server/services/members/config.js-203-    getAuthSecret() {
/src/core/server/services/members/config.js:204:        const hexSecret = this._settingsCache.get('members_email_auth_secret');
/src/core/server/services/members/config.js-205-        if (!hexSecret) {
##############################################
/src/core/server/services/members/config.js-208-        }
/src/core/server/services/members/config.js:209:        const secret = Buffer.from(hexSecret, 'hex');
/src/core/server/services/members/config.js-210-        if (secret.length < 64) {
##############################################
/src/core/server/services/email-analytics/jobs/fetch-latest.js-44-    const settingsRows = await db.knex('settings')
/src/core/server/services/email-analytics/jobs/fetch-latest.js:45:        .whereIn('key', ['mailgun_api_key', 'mailgun_domain', 'mailgun_base_url']);
/src/core/server/services/email-analytics/jobs/fetch-latest.js-46-
##############################################
/src/core/frontend/helpers/ghost_head.js-43-
/src/core/frontend/helpers/ghost_head.js:44:    const stripeDirectSecretKey = settingsCache.get('stripe_secret_key');
/src/core/frontend/helpers/ghost_head.js-45-    const stripeDirectPublishableKey = settingsCache.get('stripe_publishable_key');
##############################################
/src/core/shared/config/defaults.json-81-        },
/src/core/shared/config/defaults.json:82:        "content_api_key": {
/src/core/shared/config/defaults.json-83-            "minWait": 3600000,

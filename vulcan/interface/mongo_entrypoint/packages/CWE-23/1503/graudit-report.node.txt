/src/dist/server/lib/start-server.js:1:"use strict";exports.__esModule=true;exports.default=start;var _http=_interopRequireDefault(require("http"));var _next=_interopRequireDefault(require("../next"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}async function start(serverOptions,port,hostname){const app=(0,_next.default)({...serverOptions,customServer:false});const srv=_http.default.createServer(app.getRequestHandler());await new Promise((resolve,reject)=>{// This code catches EADDRINUSE error if the port is already in use
/src/dist/server/lib/start-server.js-2-srv.on('error',reject);srv.on('listening',()=>resolve());srv.listen(port,hostname);});// It's up to caller to run `app.prepare()`, so it can notify that the server
##############################################
/src/dist/server/lib/error-overlay-middleware.js:1:"use strict";exports.__esModule=true;exports.default=errorOverlayMiddleware;var _url=_interopRequireDefault(require("url"));var _launchEditor=_interopRequireDefault(require("launch-editor"));var _fs=_interopRequireDefault(require("fs"));var _path=_interopRequireDefault(require("path"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function errorOverlayMiddleware(options){return(req,res,next)=>{if(req.url.startsWith('/_next/development/open-stack-frame-in-editor')){const query=_url.default.parse(req.url,true).query;const lineNumber=parseInt(query.lineNumber,10)||1;const colNumber=parseInt(query.colNumber,10)||1;let resolvedFileName=query.fileName;if(!_fs.default.existsSync(resolvedFileName)){resolvedFileName=_path.default.join(options.dir,resolvedFileName);}(0,_launchEditor.default)(`${resolvedFileName}:${lineNumber}:${colNumber}`);res.end();}else{next();}};}
##############################################
/src/dist/build/webpack/loaders/next-serverless-loader.js:1:"use strict";exports.__esModule=true;exports.default=void 0;var _devalue=_interopRequireDefault(require("devalue"));var _escapeStringRegexp=_interopRequireDefault(require("escape-string-regexp"));var _path=require("path");var _querystring=require("querystring");var _constants=require("../../../lib/constants");var _constants2=require("../../../next-server/lib/constants");var _utils=require("../../../next-server/lib/router/utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const nextServerlessLoader=function(){const{distDir,absolutePagePath,page,buildId,canonicalBase,assetPrefix,absoluteAppPath,absoluteDocumentPath,absoluteErrorPath,generateEtags,basePath,runtimeConfig,previewProps}=typeof this.query==='string'?(0,_querystring.parse)(this.query.substr(1)):this.query;const buildManifest=(0,_path.join)(distDir,_constants2.BUILD_MANIFEST).replace(/\\/g,'/');const reactLoadableManifest=(0,_path.join)(distDir,_constants2.REACT_LOADABLE_MANIFEST).replace(/\\/g,'/');const routesManifest=(0,_path.join)(distDir,_constants2.ROUTES_MANIFEST).replace(/\\/g,'/');const escapedBuildId=(0,_escapeStringRegexp.default)(buildId);const pageIsDynamicRoute=(0,_utils.isDynamicRoute)(page);const encodedPreviewProps=(0,_devalue.default)(JSON.parse(previewProps));const runtimeConfigImports=runtimeConfig?`
/src/dist/build/webpack/loaders/next-serverless-loader.js-2-      const { setConfig } = require('next/config')
##############################################
/src/dist/build/webpack/plugins/terser-webpack-plugin/src/TaskRunner.js-2-// https://github.com/nodejs/node/issues/19022
/src/dist/build/webpack/plugins/terser-webpack-plugin/src/TaskRunner.js:3:this.maxConcurrentWorkers=cpus;this.useWorkerThreads=workerThreads;}run(tasks,callback){/* istanbul ignore if */if(!tasks.length){callback(null,[]);return;}if(this.maxConcurrentWorkers>1){this.workers=new _jestWorker.default(worker,{enableWorkerThreads:this.useWorkerThreads,numWorkers:this.maxConcurrentWorkers});this.boundWorkers=options=>this.workers.default(options);}else{this.boundWorkers=async options=>(0,_minify.default)(options);}let toRun=tasks.length;const results=[];const step=(index,data)=>{toRun-=1;results[index]=data;if(!toRun){callback(null,results);}};tasks.forEach((task,index)=>{const cachePath=this.cacheDir&&(0,_path.join)(this.cacheDir,task.cacheKey);const enqueue=async()=>{try{const result=await this.boundWorkers(task);const done=()=>step(index,result);if(cachePath){writeFileP(cachePath,JSON.stringify(result),'utf8').then(done).catch(done);}}catch(error){step(index,{error});}};if(this.cacheDir){readFileP(cachePath,'utf8').then(data=>step(index,JSON.parse(data))).catch(()=>enqueue());}else{enqueue();}});}exit(){if(this.workers){this.workers.end();}}}exports.default=TaskRunner;
##############################################
/src/dist/build/webpack/plugins/terser-webpack-plugin/src/index.js-8-// Error case: add errors, and go to next file
/src/dist/build/webpack/plugins/terser-webpack-plugin/src/index.js:9:if(error){compilation.errors.push(TerserPlugin.buildError(error,file,sourceMap,new _webpack.RequestShortener(compiler.context)));return;}let outputSource;if(map){outputSource=new _webpackSources.SourceMapSource(code,file,JSON.parse(map),input,inputSourceMap);}else{outputSource=new _webpackSources.RawSource(code);}// Updating assets
/src/dist/build/webpack/plugins/terser-webpack-plugin/src/index.js-10-processedAssets.add(compilation.assets[file]=outputSource);// Handling warnings
##############################################
/src/dist/build/index.js-11-// of the same problem, but confuse the reader with noise.
/src/dist/build/index.js:12:if(result.errors.length>1){result.errors.length=1;}const error=result.errors.join('\n\n');console.error(_chalk.default.red('Failed to compile.\n'));if(error.indexOf('private-next-pages')>-1&&error.indexOf('does not contain a default export')>-1){const page_name_regex=_wrapRegExp(/'private\x2Dnext\x2Dpages\/([\0-&\(-\uFFFF]*)'/,{page_name:1});const parsed=page_name_regex.exec(error);const page_name=parsed&&parsed.groups&&parsed.groups.page_name;throw new Error(`webpack build failed: found page without a React Component as default export in pages/${page_name}\n\nSee https://err.sh/zeit/next.js/page-without-valid-component for more info.`);}console.error(error);console.error();if(error.indexOf('private-next-pages')>-1||error.indexOf('__next_polyfill__')>-1){throw new Error('> webpack config.resolve.alias was incorrectly overriden. https://err.sh/zeit/next.js/invalid-resolve-alias');}throw new Error('> Build failed because of webpack errors');}else{telemetry.record((0,_events.eventBuildCompleted)(pagePaths,{durationInSeconds:webpackBuildEnd[0]}));if(result.warnings.length>0){console.warn(_chalk.default.yellow('Compiled with warnings.\n'));console.warn(result.warnings.join('\n\n'));console.warn();}else{console.log(_chalk.default.green('Compiled successfully.\n'));}}const postBuildSpinner=(0,_spinner.default)({prefixText:'Automatically optimizing pages'});const manifestPath=_path.default.join(distDir,isLikeServerless?_constants2.SERVERLESS_DIRECTORY:_constants2.SERVER_DIRECTORY,_constants2.PAGES_MANIFEST);const buildManifestPath=_path.default.join(distDir,_constants2.BUILD_MANIFEST);const ssgPages=new Set();const ssgFallbackPages=new Set();const staticPages=new Set();const invalidPages=new Set();const hybridAmpPages=new Set();const serverPropsPages=new Set();const additionalSsgPaths=new Map();const pageInfos=new Map();const pagesManifest=JSON.parse((await fsReadFile(manifestPath,'utf8')));const buildManifest=JSON.parse((await fsReadFile(buildManifestPath,'utf8')));let customAppGetInitialProps;process.env.NEXT_PHASE=_constants2.PHASE_PRODUCTION_BUILD;const staticCheckWorkers=new _jestWorker.default(staticCheckWorker,{numWorkers:config.experimental.cpus,enableWorkerThreads:config.experimental.workerThreads});staticCheckWorkers.getStdout().pipe(process.stdout);staticCheckWorkers.getStderr().pipe(process.stderr);const runtimeEnvConfig={publicRuntimeConfig:config.publicRuntimeConfig,serverRuntimeConfig:config.serverRuntimeConfig};hasNonStaticErrorPage=hasCustomErrorPage&&(await(0,_utils2.hasCustomGetInitialProps)(_path.default.join(distDir,...(isLikeServerless?['serverless','pages']:['server','static',buildId,'pages']),'_error.js'),runtimeEnvConfig));const analysisBegin=process.hrtime();await Promise.all(pageKeys.map(async page=>{const actualPage=(0,_normalizePagePath.normalizePagePath)(page);const[selfSize,allSize]=await(0,_utils2.getPageSizeInKb)(actualPage,distDir,buildId,buildManifest,config.experimental.modern);const bundleRelative=_path.default.join(isLikeServerless?'pages':`static/${buildId}/pages`,actualPage+'.js');const serverBundle=_path.default.join(distDir,isLikeServerless?_constants2.SERVERLESS_DIRECTORY:_constants2.SERVER_DIRECTORY,bundleRelative);let isSsg=false;let isStatic=false;let isHybridAmp=false;let ssgPageRoutes=null;let hasSsgFallback=false;pagesManifest[page]=bundleRelative.replace(/\\/g,'/');const nonReservedPage=!page.match(/^\/(_app|_error|_document|api)/);if(nonReservedPage&&customAppGetInitialProps===undefined){customAppGetInitialProps=(0,_utils2.hasCustomGetInitialProps)(isLikeServerless?serverBundle:_path.default.join(distDir,_constants2.SERVER_DIRECTORY,`/static/${buildId}/pages/_app.js`),runtimeEnvConfig);if(customAppGetInitialProps){console.warn(_chalk.default.bold.yellow(`Warning: `)+_chalk.default.yellow(`You have opted-out of Automatic Static Optimization due to \`getInitialProps\` in \`pages/_app\`.`));console.warn('Read more: https://err.sh/next.js/opt-out-auto-static-optimization\n');}}if(nonReservedPage){try{let result=await staticCheckWorkers.isPageStatic(page,serverBundle,runtimeEnvConfig);if(result.isHybridAmp){isHybridAmp=true;hybridAmpPages.add(page);}if(result.hasStaticProps){ssgPages.add(page);isSsg=true;if(result.prerenderRoutes){additionalSsgPaths.set(page,result.prerenderRoutes);ssgPageRoutes=result.prerenderRoutes;}if(result.prerenderFallback){hasSsgFallback=true;ssgFallbackPages.add(page);}}else if(result.hasServerProps){serverPropsPages.add(page);}else if(result.isStatic&&customAppGetInitialProps===false){staticPages.add(page);isStatic=true;}if(hasPages404&&page==='/404'){if(!result.isStatic&&!result.hasStaticProps){throw new Error(_constants.PAGES_404_GET_INITIAL_PROPS_ERROR);}// we need to ensure the 404 lambda is present since we use
/src/dist/build/index.js-13-// it when _app has getInitialProps
##############################################
/src/dist/client/index.js-1-"use strict";var _interopRequireWildcard3=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.render=render;exports.renderError=renderError;exports.default=exports.emitter=exports.router=exports.version=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _interopRequireWildcard2=_interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard"));var _react=_interopRequireDefault(require("react"));var _reactDom=_interopRequireDefault(require("react-dom"));var _headManager=_interopRequireDefault(require("./head-manager"));var _router=require("next/router");var _mitt=_interopRequireDefault(require("../next-server/lib/mitt"));var _utils=require("../next-server/lib/utils");var _pageLoader=_interopRequireDefault(require("./page-loader"));var envConfig=_interopRequireWildcard3(require("../next-server/lib/runtime-config"));var _headManagerContext=require("../next-server/lib/head-manager-context");var _routerContext=require("../next-server/lib/router-context");var _querystring=require("querystring");var _isDynamic=require("../next-server/lib/router/utils/is-dynamic");var _performanceRelayer=require("./performance-relayer");/* global location */if(!('finally'in Promise.prototype)){// eslint-disable-next-line no-extend-native
/src/dist/client/index.js:2:Promise.prototype.finally=require('finally-polyfill');}var data=JSON.parse(document.getElementById('__NEXT_DATA__').textContent);window.__NEXT_DATA__=data;var version="9.3.1";exports.version=version;var{props,err,page,query,buildId,assetPrefix,runtimeConfig,dynamicIds,isFallback}=data;var prefix=assetPrefix||'';// With dynamic assetPrefix it's no longer possible to set assetPrefix at the build time
/src/dist/client/index.js-3-// So, this is how we do it in the client side at runtime
##############################################
/src/dist/client/dev/dev-build-watcher.js-9-var evtSource=(0,_eventsource.getEventSourceWrapper)({path:'/_next/webpack-hmr'});evtSource.addMessageListener(event=>{// This is the heartbeat event
/src/dist/client/dev/dev-build-watcher.js:10:if(event.data==='\uD83D\uDC93'){return;}try{handleMessage(event);}catch(_unused){}});function handleMessage(event){var obj=JSON.parse(event.data);// eslint-disable-next-line default-case
/src/dist/client/dev/dev-build-watcher.js-11-switch(obj.action){case'building':timeoutId&&clearTimeout(timeoutId);isVisible=true;isBuilding=true;updateContainer();break;case'built':isBuilding=false;// Wait for the fade out transtion to complete
##############################################
/src/dist/client/dev/on-demand-entries-utils.js-2-if(pathname===currentPage&&!retry)return;exports.currentPage=currentPage=pathname;// close current EventSource connection
/src/dist/client/dev/on-demand-entries-utils.js:3:closePing();var url=assetPrefix+"/_next/webpack-hmr?page="+currentPage;evtSource=(0,_eventsource.getEventSourceWrapper)({path:url,timeout:5000,ondemand:1});evtSource.addMessageListener(event=>{if(event.data.indexOf('{')===-1)return;try{var payload=JSON.parse(event.data);if(payload.invalid){// Payload can be invalid even if the page does not exist.
/src/dist/client/dev/on-demand-entries-utils.js-4-// So, we need to make sure it exists before reloading.
##############################################
/src/dist/client/dev/amp-dev.js:1:"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _unfetch=_interopRequireDefault(require("unfetch"));var _eventSourcePolyfill=_interopRequireDefault(require("./event-source-polyfill"));var _eventsource=require("./error-overlay/eventsource");var _onDemandEntriesUtils=require("./on-demand-entries-utils");var _fouc=require("./fouc");/* globals __webpack_hash__ */if(!window.EventSource){window.EventSource=_eventSourcePolyfill.default;}var data=JSON.parse(document.getElementById('__NEXT_DATA__').textContent);var{assetPrefix,page}=data;assetPrefix=assetPrefix||'';var mostRecentHash=null;/* eslint-disable-next-line */var curHash=__webpack_hash__;var hotUpdatePath=assetPrefix+(assetPrefix.endsWith('/')?'':'/')+'_next/static/webpack/';// Is there a newer version of this code available?
/src/dist/client/dev/amp-dev.js-2-function isUpdateAvailable(){// __webpack_hash__ is the hash of the current compilation.
##############################################
/src/dist/client/dev/amp-dev.js-6-// reloads the page when it has changed.
/src/dist/client/dev/amp-dev.js:7:async function tryApplyUpdates(){if(!isUpdateAvailable()||!canApplyUpdates()){return;}try{var res=await(0,_unfetch.default)(""+hotUpdatePath+curHash+".hot-update.json");var _data=await res.json();var curPage=page==='/'?'index':page;var pageUpdated=Object.keys(_data.c).some(mod=>{return mod.indexOf("pages"+(curPage.substr(0,1)==='/'?curPage:"/"+curPage))!==-1||mod.indexOf(("pages"+(curPage.substr(0,1)==='/'?curPage:"/"+curPage)).replace(/\//g,'\\'))!==-1;});if(pageUpdated){document.location.reload(true);}else{curHash=mostRecentHash;}}catch(err){console.error('Error occurred checking for update',err);document.location.reload(true);}}(0,_eventsource.getEventSourceWrapper)({path:assetPrefix+"/_next/webpack-hmr"}).addMessageListener(event=>{if(event.data==='\uD83D\uDC93'){return;}try{var message=JSON.parse(event.data);if(message.action==='sync'||message.action==='built'){if(!message.hash){return;}mostRecentHash=message.hash;tryApplyUpdates();}else if(message.action==='reloadPage'){document.location.reload(true);}}catch(ex){console.warn('Invalid HMR message: '+event.data+'\n'+ex);}});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>page);(0,_fouc.displayContent)();
##############################################
/src/dist/client/dev/event-source-polyfill.js-31-// see also #64
/src/dist/client/dev/event-source-polyfill.js:32:xhr.onreadystatechange=onReadyStateChange;if('contentType'in xhr){url+=(url.indexOf('?')===-1?'?':'&')+'padding=true';}xhr.open(method,url,true);if('readyState'in xhr){// workaround for Opera 12 issue with "progress" events
/src/dist/client/dev/event-source-polyfill.js-33-// #91
##############################################
/src/dist/client/dev/event-source-polyfill.js-38-throw error1;}};function toLowerCase(name){return name.replace(/[A-Z]/g,function(c){return String.fromCharCode(c.charCodeAt(0)+0x20);});}function HeadersPolyfill(all){// Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example
/src/dist/client/dev/event-source-polyfill.js:39:var map=Object.create(null);var array=all.split('\r\n');for(var i=0;i<array.length;i+=1){var line=array[i];var parts=line.split(': ');var name=parts.shift();var value=parts.join(': ');map[toLowerCase(name)]=value;}this._map=map;}HeadersPolyfill.prototype.get=function(name){return this._map[toLowerCase(name)];};function XHRTransport(){}XHRTransport.prototype.open=function(xhr,onStartCallback,onProgressCallback,onFinishCallback,url,withCredentials,headers){xhr.open('GET',url);var offset=0;xhr.onprogress=function(){var responseText=xhr.responseText;var chunk=responseText.slice(offset);offset+=chunk.length;onProgressCallback(chunk);};xhr.onreadystatechange=function(){if(xhr.readyState===2){var status=xhr.status;var statusText=xhr.statusText;var contentType=xhr.getResponseHeader('Content-Type');var headers=xhr.getAllResponseHeaders();onStartCallback(status,statusText,contentType,new HeadersPolyfill(headers),function(){xhr.abort();});}else if(xhr.readyState===4){onFinishCallback();}};xhr.withCredentials=withCredentials;xhr.responseType='text';for(var name in headers){if(Object.prototype.hasOwnProperty.call(headers,name)){xhr.setRequestHeader(name,headers[name]);}}xhr.send();};function HeadersWrapper(headers){this._headers=headers;}HeadersWrapper.prototype.get=function(name){return this._headers.get(name);};function FetchTransport(){}FetchTransport.prototype.open=function(xhr,onStartCallback,onProgressCallback,onFinishCallback,url,withCredentials,headers){var controller=new AbortController();var signal=controller.signal;// see #120
/src/dist/client/dev/event-source-polyfill.js-40-var textDecoder=new TextDecoder();(0,_unfetch.default)(url,{headers:headers,credentials:withCredentials?'include':'same-origin',signal:signal,cache:'no-store'}).then(function(response){var reader=response.body.getReader();onStartCallback(response.status,response.statusText,response.headers.get('Content-Type'),new HeadersWrapper(response.headers),function(){controller.abort();reader.cancel();});return new Promise(function(resolve,reject){var readNextChunk=function readNextChunk(){reader.read().then(function(result){if(result.done){// Note: bytes in textDecoder are ignored
/src/dist/client/dev/event-source-polyfill.js:41:resolve(undefined);}else{var chunk=textDecoder.decode(result.value,{stream:true});onProgressCallback(chunk);readNextChunk();}})['catch'](function(error){reject(error);});};readNextChunk();});}).then(function(result){onFinishCallback();return result;},function(error){onFinishCallback();return Promise.reject(error);});};function EventTarget(){this._listeners=Object.create(null);}function throwError(e){setTimeout(function(){throw e;},0);}EventTarget.prototype.dispatchEvent=function(event){event.target=this;var typeListeners=this._listeners[event.type];if(typeListeners!=undefined){var length=typeListeners.length;for(var i=0;i<length;i+=1){var listener=typeListeners[i];try{if(typeof listener.handleEvent==='function'){listener.handleEvent(event);}else{listener.call(this,event);}}catch(e){throwError(e);}}}};EventTarget.prototype.addEventListener=function(type,listener){type=String(type);var listeners=this._listeners;var typeListeners=listeners[type];if(typeListeners==undefined){typeListeners=[];listeners[type]=typeListeners;}var found=false;for(var i=0;i<typeListeners.length;i+=1){if(typeListeners[i]===listener){found=true;}}if(!found){typeListeners.push(listener);}};EventTarget.prototype.removeEventListener=function(type,listener){type=String(type);var listeners=this._listeners;var typeListeners=listeners[type];if(typeListeners!=undefined){var filtered=[];for(var i=0;i<typeListeners.length;i+=1){if(typeListeners[i]!==listener){filtered.push(typeListeners[i]);}}if(filtered.length===0){delete listeners[type];}else{listeners[type]=filtered;}}};function Event(type){this.type=type;this.target=undefined;}function MessageEvent(type,options){Event.call(this,type);this.data=options.data;this.lastEventId=options.lastEventId;}MessageEvent.prototype=Object.create(Event.prototype);function ConnectionEvent(type,options){Event.call(this,type);this.status=options.status;this.statusText=options.statusText;this.headers=options.headers;}ConnectionEvent.prototype=Object.create(Event.prototype);var WAITING=-1;var CONNECTING=0;var OPEN=1;var CLOSED=2;var AFTER_CR=-1;var FIELD_START=0;var FIELD=1;var VALUE_START=2;var VALUE=3;var contentTypeRegExp=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i;var MINIMUM_DURATION=1000;var MAXIMUM_DURATION=18000000;var parseDuration=function parseDuration(value,def){var n=parseInt(value,10);if(n!==n){n=def;}return clampDuration(n);};var clampDuration=function clampDuration(n){return Math.min(Math.max(n,MINIMUM_DURATION),MAXIMUM_DURATION);};var fire=function fire(that,f,event){try{if(typeof f==='function'){f.call(that,event);}}catch(e){throwError(e);}};function EventSourcePolyfill(url,options){EventTarget.call(this);this.onopen=undefined;this.onmessage=undefined;this.onerror=undefined;this.url=undefined;this.readyState=undefined;this.withCredentials=undefined;this._close=undefined;start(this,url,options);}var isFetchSupported=_unfetch.default!=undefined&&Response!=undefined&&'body'in Response.prototype;function start(es,url,options){url=String(url);var withCredentials=options!=undefined&&Boolean(options.withCredentials);var initialRetry=clampDuration(1000);var heartbeatTimeout=options!=undefined&&options.heartbeatTimeout!=undefined?parseDuration(options.heartbeatTimeout,45000):clampDuration(45000);var lastEventId='';var retry=initialRetry;var wasActivity=false;var headers=options!=undefined&&options.headers!=undefined?JSON.parse(JSON.stringify(options.headers)):undefined;var CurrentTransport=options!=undefined&&options.Transport!=undefined?options.Transport:XMLHttpRequest;var xhr=isFetchSupported&&!(options!=undefined&&options.Transport!=undefined)?undefined:new XHRWrapper(new CurrentTransport());var transport=xhr==undefined?new FetchTransport():new XHRTransport();var cancelFunction=undefined;var timeout=0;var currentState=WAITING;var dataBuffer='';var lastEventIdBuffer='';var eventTypeBuffer='';var textBuffer='';var state=FIELD_START;var fieldStart=0;var valueStart=0;var onStart=function onStart(status,statusText,contentType,headers,cancel){if(currentState===CONNECTING){cancelFunction=cancel;if(status===200&&contentType!=undefined&&contentTypeRegExp.test(contentType)){currentState=OPEN;wasActivity=true;retry=initialRetry;es.readyState=OPEN;var event=new ConnectionEvent('open',{status:status,statusText:statusText,headers:headers});es.dispatchEvent(event);fire(es,es.onopen,event);}else{var message='';if(status!==200){if(statusText){statusText=statusText.replace(/\s+/g,' ');}message="EventSource's response has a status "+status+' '+statusText+' that is not 200. Aborting the connection.';}else{message="EventSource's response has a Content-Type specifying an unsupported type: "+(contentType==undefined?'-':contentType.replace(/\s+/g,' '))+'. Aborting the connection.';}throwError(new Error(message));close();var event=new ConnectionEvent('error',{status:status,statusText:statusText,headers:headers});es.dispatchEvent(event);fire(es,es.onerror,event);}}};var onProgress=function onProgress(textChunk){if(currentState===OPEN){var n=-1;for(var i=0;i<textChunk.length;i+=1){var c=textChunk.charCodeAt(i);if(c==='\n'.charCodeAt(0)||c==='\r'.charCodeAt(0)){n=i;}}var chunk=(n!==-1?textBuffer:'')+textChunk.slice(0,n+1);textBuffer=(n===-1?textBuffer:'')+textChunk.slice(n+1);if(chunk!==''){wasActivity=true;}for(var position=0;position<chunk.length;position+=1){var c=chunk.charCodeAt(position);if(state===AFTER_CR&&c==='\n'.charCodeAt(0)){state=FIELD_START;}else{if(state===AFTER_CR){state=FIELD_START;}if(c==='\r'.charCodeAt(0)||c==='\n'.charCodeAt(0)){if(state!==FIELD_START){if(state===FIELD){valueStart=position+1;}var field=chunk.slice(fieldStart,valueStart-1);var value=chunk.slice(valueStart+(valueStart<position&&chunk.charCodeAt(valueStart)===' '.charCodeAt(0)?1:0),position);if(field==='data'){dataBuffer+='\n';dataBuffer+=value;}else if(field==='id'){lastEventIdBuffer=value;}else if(field==='event'){eventTypeBuffer=value;}else if(field==='retry'){initialRetry=parseDuration(value,initialRetry);retry=initialRetry;}else if(field==='heartbeatTimeout'){heartbeatTimeout=parseDuration(value,heartbeatTimeout);if(timeout!==0){clearTimeout(timeout);timeout=setTimeout(function(){onTimeout();},heartbeatTimeout);}}}if(state===FIELD_START){if(dataBuffer!==''){lastEventId=lastEventIdBuffer;if(eventTypeBuffer===''){eventTypeBuffer='message';}var event=new MessageEvent(eventTypeBuffer,{data:dataBuffer.slice(1),lastEventId:lastEventIdBuffer});es.dispatchEvent(event);if(eventTypeBuffer==='message'){fire(es,es.onmessage,event);}if(currentState===CLOSED){return;}}dataBuffer='';eventTypeBuffer='';}state=c==='\r'.charCodeAt(0)?AFTER_CR:FIELD_START;}else{if(state===FIELD_START){fieldStart=position;state=FIELD;}if(state===FIELD){if(c===':'.charCodeAt(0)){valueStart=position+1;state=VALUE_START;}}else if(state===VALUE_START){state=VALUE;}}}}}};var onFinish=function onFinish(){if(currentState===OPEN||currentState===CONNECTING){currentState=WAITING;if(timeout!==0){clearTimeout(timeout);timeout=0;}timeout=setTimeout(function(){onTimeout();},retry);retry=clampDuration(Math.min(initialRetry*16,retry*2));es.readyState=CONNECTING;var event=new Event('error');es.dispatchEvent(event);fire(es,es.onerror,event);}};var close=function close(){currentState=CLOSED;if(cancelFunction!=undefined){cancelFunction();cancelFunction=undefined;}if(timeout!==0){clearTimeout(timeout);timeout=0;}es.readyState=CLOSED;};var onTimeout=function onTimeout(){timeout=0;if(currentState!==WAITING){if(!wasActivity&&cancelFunction!=undefined){throwError(new Error('No activity within '+heartbeatTimeout+' milliseconds. Reconnecting.'));cancelFunction();cancelFunction=undefined;}else{wasActivity=false;timeout=setTimeout(function(){onTimeout();},heartbeatTimeout);}return;}wasActivity=false;timeout=setTimeout(function(){onTimeout();},heartbeatTimeout);currentState=CONNECTING;dataBuffer='';eventTypeBuffer='';lastEventIdBuffer=lastEventId;textBuffer='';fieldStart=0;valueStart=0;state=FIELD_START;// https://bugzilla.mozilla.org/show_bug.cgi?id=428916
/src/dist/client/dev/event-source-polyfill.js-42-// Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.
/src/dist/client/dev/event-source-polyfill.js:43:var requestURL=url;if(url.slice(0,5)!=='data:'&&url.slice(0,5)!=='blob:'){if(lastEventId!==''){requestURL+=(url.indexOf('?')===-1?'?':'&')+'lastEventId='+encodeURIComponent(lastEventId);}}var requestHeaders={};requestHeaders['Accept']='text/event-stream';if(headers!=undefined){for(var name in headers){if(Object.prototype.hasOwnProperty.call(headers,name)){requestHeaders[name]=headers[name];}}}try{transport.open(xhr,onStart,onProgress,onFinish,requestURL,withCredentials,requestHeaders);}catch(error){close();throw error;}};es.url=url;es.readyState=CONNECTING;es.withCredentials=withCredentials;es._close=close;onTimeout();}EventSourcePolyfill.prototype=Object.create(EventTarget.prototype);EventSourcePolyfill.prototype.CONNECTING=CONNECTING;EventSourcePolyfill.prototype.OPEN=OPEN;EventSourcePolyfill.prototype.CLOSED=CLOSED;EventSourcePolyfill.prototype.close=function(){this._close();};EventSourcePolyfill.CONNECTING=CONNECTING;EventSourcePolyfill.OPEN=OPEN;EventSourcePolyfill.CLOSED=CLOSED;EventSourcePolyfill.prototype.withCredentials=undefined;var _default=EventSourcePolyfill;exports.default=_default;
##############################################
/src/dist/client/dev/error-overlay/hot-dev-client.js-63-mostRecentCompilationHash=hash;}// Handle messages from the server.
/src/dist/client/dev/error-overlay/hot-dev-client.js:64:function processMessage(e){var obj=JSON.parse(e.data);switch(obj.action){case'building':{console.log('[HMR] bundle '+(obj.name?"'"+obj.name+"' ":'')+'rebuilding');break;}case'built':case'sync':{clearOutdatedErrors();if(obj.hash){handleAvailableHash(obj.hash);}var{errors,warnings}=obj;var hasErrors=Boolean(errors&&errors.length);var hasWarnings=Boolean(warnings&&warnings.length);if(hasErrors){// When there is a compilation error coming from SSR we have to reload the page on next successful compile
/src/dist/client/dev/error-overlay/hot-dev-client.js-65-if(obj.action==='sync'){hadRuntimeError=true;}handleErrors(errors);break;}else if(hasWarnings){handleWarnings(warnings);}handleSuccess();break;}case'typeChecked':{var[{errors:_errors,warnings:_warnings}]=obj.data;var _hasErrors=Boolean(_errors&&_errors.length);var _hasWarnings=Boolean(_warnings&&_warnings.length);if(_hasErrors){if(canApplyUpdates()){handleErrors(_errors);}else{deferredBuildError=()=>handleErrors(_errors);}}else if(_hasWarnings){handleWarnings(_warnings);}break;}default:{if(customHmrEventHandler){customHmrEventHandler(obj);break;}break;}}}// Is there a newer version of this code available?
##############################################
/src/dist/compiled/resolve/index.js:1:module.exports=function(e,r){"use strict";var n={};function __webpack_require__(r){if(n[r]){return n[r].exports}var t=n[r]={i:r,l:false,exports:{}};e[r].call(t.exports,t,t.exports,__webpack_require__);t.l=true;return t.exports}function startup(){return __webpack_require__(251)}return startup()}({34:function(e,r,n){var t=n(589);var i=t.parse||n(767);var o=function getNodeModulesDirs(e,r){var n="/";if(/^([A-Za-z]:)/.test(e)){n=""}else if(/^\\\\/.test(e)){n="\\\\"}var o=[e];var a=i(e);while(a.dir!==o[o.length-1]){o.push(a.dir);a=i(a.dir)}return o.reduce(function(e,i){return e.concat(r.map(function(e){return t.join(n,i,e)}))},[])};e.exports=function nodeModulesPaths(e,r,n){var t=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths==="function"){return r.paths(n,e,function(){return o(e,t)},r)}var i=o(e,t);return r&&r.paths?i.concat(r.paths):i}},66:function(e){e.exports=require("fs")},251:function(e,r,n){var t=n(663);var i=n(933);i.core=t;i.isCore=function isCore(e){return t[e]};i.sync=n(439);r=i;e.exports=i},439:function(e,r,n){var t=n(663);var i=n(66);var o=n(589);var a=n(959);var s=n(34);var l=n(631);var u=function isFile(e){try{var r=i.statSync(e)}catch(e){if(e&&(e.code==="ENOENT"||e.code==="ENOTDIR"))return false;throw e}return r.isFile()||r.isFIFO()};var f=function isDirectory(e){try{var r=i.statSync(e)}catch(e){if(e&&(e.code==="ENOENT"||e.code==="ENOTDIR"))return false;throw e}return r.isDirectory()};e.exports=function(e,r){if(typeof e!=="string"){throw new TypeError("Path must be a string.")}var n=l(e,r);var c=n.isFile||u;var p=n.readFileSync||i.readFileSync;var v=n.isDirectory||f;var d=n.extensions||[".js"];var y=n.basedir||o.dirname(a());var g=n.filename||y;n.paths=n.paths||[];var h=o.resolve(y);if(n.preserveSymlinks===false){try{h=i.realpathSync(h)}catch(e){if(e.code!=="ENOENT"){throw e}}}if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var m=o.resolve(h,e);if(e===".."||e.slice(-1)==="/")m+="/";var _=loadAsFileSync(m)||loadAsDirectorySync(m);if(_)return _}else{var F=loadNodeModulesSync(e,h);if(F)return F}if(t[e])return e;var w=new Error("Cannot find module '"+e+"' from '"+g+"'");w.code="MODULE_NOT_FOUND";throw w;function loadAsFileSync(e){var r=loadpkg(o.dirname(e));if(r&&r.dir&&r.pkg&&n.pathFilter){var t=o.relative(r.dir,e);var i=n.pathFilter(r.pkg,e,t);if(i){e=o.resolve(r.dir,i)}}if(c(e)){return e}for(var a=0;a<d.length;a++){var s=e+d[a];if(c(s)){return s}}}function loadpkg(e){if(e===""||e==="/")return;if(process.platform==="win32"&&/^\w:[/\\]*$/.test(e)){return}if(/[/\\]node_modules[/\\]*$/.test(e))return;var r=o.join(e,"package.json");if(!c(r)){return loadpkg(o.dirname(e))}var t=p(r);try{var i=JSON.parse(t)}catch(e){}if(i&&n.packageFilter){i=n.packageFilter(i,e)}return{pkg:i,dir:e}}function loadAsDirectorySync(e){var r=o.join(e,"/package.json");if(c(r)){try{var t=p(r,"UTF8");var i=JSON.parse(t)}catch(e){}if(n.packageFilter){i=n.packageFilter(i,e)}if(i.main){if(typeof i.main!=="string"){var a=new TypeError("package “"+i.name+"” `main` must be a string");a.code="INVALID_PACKAGE_MAIN";throw a}if(i.main==="."||i.main==="./"){i.main="index"}try{var s=loadAsFileSync(o.resolve(e,i.main));if(s)return s;var l=loadAsDirectorySync(o.resolve(e,i.main));if(l)return l}catch(e){}}}return loadAsFileSync(o.join(e,"/index"))}function loadNodeModulesSync(e,r){var t=s(r,n,e);for(var i=0;i<t.length;i++){var a=t[i];if(v(a)){var l=loadAsFileSync(o.join(a,"/",e));if(l)return l;var u=loadAsDirectorySync(o.join(a,"/",e));if(u)return u}}}}},589:function(e){e.exports=require("path")},631:function(e){e.exports=function(e,r){return r||{}}},654:function(e){e.exports={assert:true,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:true,child_process:true,cluster:true,console:true,constants:true,crypto:true,_debugger:"< 8",dgram:true,dns:true,domain:true,events:true,freelist:"< 6",fs:true,"fs/promises":">= 10 && < 10.1",_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:true,http2:">= 8.8",https:true,inspector:">= 8.0.0",_linklist:"< 8",module:true,net:true,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:true,path:true,perf_hooks:">= 8.5",process:">= 1",punycode:true,querystring:true,readline:true,repl:true,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:true,string_decoder:true,sys:true,timers:true,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:true,trace_events:">= 10",tty:true,url:true,util:true,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:true,worker_threads:">= 11.7",zlib:true}},663:function(e,r,n){var t=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function specifierIncluded(e){var r=e.split(" ");var n=r.length>1?r[0]:"=";var i=(r.length>1?r[1]:r[0]).split(".");for(var o=0;o<3;++o){var a=Number(t[o]||0);var s=Number(i[o]||0);if(a===s){continue}if(n==="<"){return a<s}else if(n===">="){return a>=s}else{return false}}return n===">="}function matchesRange(e){var r=e.split(/ ?&& ?/);if(r.length===0){return false}for(var n=0;n<r.length;++n){if(!specifierIncluded(r[n])){return false}}return true}function versionIncluded(e){if(typeof e==="boolean"){return e}if(e&&typeof e==="object"){for(var r=0;r<e.length;++r){if(matchesRange(e[r])){return true}}return false}return matchesRange(e)}var i=n(654);var o={};for(var a in i){if(Object.prototype.hasOwnProperty.call(i,a)){o[a]=versionIncluded(i[a])}}e.exports=o},767:function(e){"use strict";var r=process.platform==="win32";var n=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var t=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;var i={};function win32SplitPath(e){var r=n.exec(e),i=(r[1]||"")+(r[2]||""),o=r[3]||"";var a=t.exec(o),s=a[1],l=a[2],u=a[3];return[i,s,l,u]}i.parse=function(e){if(typeof e!=="string"){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e)}var r=win32SplitPath(e);if(!r||r.length!==4){throw new TypeError("Invalid path '"+e+"'")}return{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}};var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var a={};function posixSplitPath(e){return o.exec(e).slice(1)}a.parse=function(e){if(typeof e!=="string"){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e)}var r=posixSplitPath(e);if(!r||r.length!==4){throw new TypeError("Invalid path '"+e+"'")}r[1]=r[1]||"";r[2]=r[2]||"";r[3]=r[3]||"";return{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}};if(r)e.exports=i.parse;else e.exports=a.parse;e.exports.posix=a.parse;e.exports.win32=i.parse},933:function(e,r,n){var t=n(663);var i=n(66);var o=n(589);var a=n(959);var s=n(34);var l=n(631);var u=function isFile(e,r){i.stat(e,function(e,n){if(!e){return r(null,n.isFile()||n.isFIFO())}if(e.code==="ENOENT"||e.code==="ENOTDIR")return r(null,false);return r(e)})};var f=function isDirectory(e,r){i.stat(e,function(e,n){if(!e){return r(null,n.isDirectory())}if(e.code==="ENOENT"||e.code==="ENOTDIR")return r(null,false);return r(e)})};e.exports=function resolve(e,r,n){var c=n;var p=r;if(typeof r==="function"){c=p;p={}}if(typeof e!=="string"){var v=new TypeError("Path must be a string.");return process.nextTick(function(){c(v)})}p=l(e,p);var d=p.isFile||u;var y=p.isDirectory||f;var g=p.readFile||i.readFile;var h=p.extensions||[".js"];var m=p.basedir||o.dirname(a());var _=p.filename||m;p.paths=p.paths||[];var F=o.resolve(m);if(p.preserveSymlinks===false){i.realpath(F,function(e,r){if(e&&e.code!=="ENOENT")c(v);else init(e?F:r)})}else{init(F)}var w;function init(r){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){w=o.resolve(r,e);if(e===".."||e.slice(-1)==="/")w+="/";if(/\/$/.test(e)&&w===r){loadAsDirectory(w,p.package,onfile)}else loadAsFile(w,p.package,onfile)}else loadNodeModules(e,r,function(r,n,i){if(r)c(r);else if(n)c(null,n,i);else if(t[e])return c(null,e);else{var o=new Error("Cannot find module '"+e+"' from '"+_+"'");o.code="MODULE_NOT_FOUND";c(o)}})}function onfile(r,n,t){if(r)c(r);else if(n)c(null,n,t);else loadAsDirectory(w,function(r,n,t){if(r)c(r);else if(n)c(null,n,t);else{var i=new Error("Cannot find module '"+e+"' from '"+_+"'");i.code="MODULE_NOT_FOUND";c(i)}})}function loadAsFile(e,r,n){var t=r;var i=n;if(typeof t==="function"){i=t;t=undefined}var a=[""].concat(h);load(a,e,t);function load(e,r,n){if(e.length===0)return i(null,undefined,n);var t=r+e[0];var a=n;if(a)onpkg(null,a);else loadpkg(o.dirname(t),onpkg);function onpkg(n,s,l){a=s;if(n)return i(n);if(l&&a&&p.pathFilter){var u=o.relative(l,t);var f=u.slice(0,u.length-e[0].length);var c=p.pathFilter(a,r,f);if(c)return load([""].concat(h.slice()),o.resolve(l,c),a)}d(t,onex)}function onex(n,o){if(n)return i(n);if(o)return i(null,t,a);load(e.slice(1),r,a)}}}function loadpkg(e,r){if(e===""||e==="/")return r(null);if(process.platform==="win32"&&/^\w:[/\\]*$/.test(e)){return r(null)}if(/[/\\]node_modules[/\\]*$/.test(e))return r(null);var n=o.join(e,"package.json");d(n,function(t,i){if(!i)return loadpkg(o.dirname(e),r);g(n,function(t,i){if(t)r(t);try{var o=JSON.parse(i)}catch(e){}if(o&&p.packageFilter){o=p.packageFilter(o,n)}r(null,o,e)})})}function loadAsDirectory(e,r,n){var t=n;var i=r;if(typeof i==="function"){t=i;i=p.package}var a=o.join(e,"package.json");d(a,function(r,n){if(r)return t(r);if(!n)return loadAsFile(o.join(e,"index"),i,t);g(a,function(r,n){if(r)return t(r);try{var i=JSON.parse(n)}catch(e){}if(p.packageFilter){i=p.packageFilter(i,a)}if(i.main){if(typeof i.main!=="string"){var s=new TypeError("package “"+i.name+"” `main` must be a string");s.code="INVALID_PACKAGE_MAIN";return t(s)}if(i.main==="."||i.main==="./"){i.main="index"}loadAsFile(o.resolve(e,i.main),i,function(r,n,i){if(r)return t(r);if(n)return t(null,n,i);if(!i)return loadAsFile(o.join(e,"index"),i,t);var a=o.resolve(e,i.main);loadAsDirectory(a,i,function(r,n,i){if(r)return t(r);if(n)return t(null,n,i);loadAsFile(o.join(e,"index"),i,t)})});return}loadAsFile(o.join(e,"/index"),i,t)})})}function processDirs(r,n){if(n.length===0)return r(null,undefined);var t=n[0];y(t,isdir);function isdir(i,a){if(i)return r(i);if(!a)return processDirs(r,n.slice(1));var s=o.join(t,e);loadAsFile(s,p.package,onfile)}function onfile(n,i,a){if(n)return r(n);if(i)return r(null,i,a);loadAsDirectory(o.join(t,e),p.package,ondir)}function ondir(e,t,i){if(e)return r(e);if(t)return r(null,t,i);processDirs(r,n.slice(1))}}function loadNodeModules(e,r,n){processDirs(n,s(r,p,e))}}},959:function(e){e.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,r){return r};var r=(new Error).stack;Error.prepareStackTrace=e;return r[2].getFileName()}}});
##############################################
/src/dist/export/worker.js-7-htmlFilename=path;}else if(path==='/'){// If the path is the root, just use index.html
/src/dist/export/worker.js:8:htmlFilename='index.html';}const baseDir=(0,_path.join)(outDir,(0,_path.dirname)(htmlFilename));let htmlFilepath=(0,_path.join)(outDir,htmlFilename);await mkdirp(baseDir);let html;let curRenderOpts={};let renderMethod=_render.renderToHTML;const renderedDuringBuild=getStaticProps=>{return!buildExport&&getStaticProps&&!(0,_isDynamic.isDynamicRoute)(path);};if(serverless){const curUrl=_url.default.parse(req.url,true);req.url=_url.default.format({...curUrl,query:{...curUrl.query,...query}});const{Component:mod}=await(0,_loadComponents.loadComponents)(distDir,buildId,page,serverless);// if it was auto-exported the HTML is loaded here
/src/dist/export/worker.js-9-if(typeof mod==='string'){html=mod;queryWithAutoExportWarn();}else{// for non-dynamic SSG pages we should have already
##############################################
/src/dist/lib/verifyTypeScriptSetup.js-8-// "exclude", but the compilerOptions remain untouched
/src/dist/lib/verifyTypeScriptSetup.js:9:parsedTsConfig=JSON.parse(JSON.stringify(readTsConfig));const result=ts.parseJsonConfigFileContent(parsedTsConfig,ts.sys,_path.default.dirname(tsConfigPath));if(result.errors){result.errors=result.errors.filter(({code})=>// No inputs were found in config file
/src/dist/lib/verifyTypeScriptSetup.js-10-code!==18003);}if((_result$errors=result.errors)===null||_result$errors===void 0?void 0:_result$errors.length){throw new Error(ts.formatDiagnostic(result.errors[0],formatDiagnosticHost));}parsedCompilerOptions=result.options;}catch(e){if(e&&e.name==='SyntaxError'){console.error(_chalk.default.red.bold('Could not parse',_chalk.default.cyan('tsconfig.json')+'.','Please make sure it contains syntactically correct JSON.'));}console.info((e===null||e===void 0?void 0:e.message)?`${e.message}`:'');process.exit(1);return;}if(appTsConfig.compilerOptions==null){appTsConfig.compilerOptions={};firstTimeSetup=true;}for(const option of Object.keys(compilerOptions)){const{parsedValue,value,suggested,reason}=compilerOptions[option];const valueToCheck=parsedValue===undefined?value:parsedValue;const coloredOption=_chalk.default.cyan('compilerOptions.'+option);if(suggested!=null){if(parsedCompilerOptions[option]===undefined){appTsConfig.compilerOptions[option]=suggested;messages.push(`${coloredOption} to be ${_chalk.default.bold('suggested')} value: ${_chalk.default.cyan.bold(suggested)} (this can be changed)`);}}else if(parsedCompilerOptions[option]!==valueToCheck){appTsConfig.compilerOptions[option]=value;messages.push(`${coloredOption} ${_chalk.default.bold(valueToCheck==null?'must not':'must')} be ${valueToCheck==null?'set':_chalk.default.cyan.bold(value)}`+(reason!=null?` (${reason})`:''));}}// tsconfig will have the merged "include" and "exclude" by this point
##############################################
/src/dist/lib/find-config.js-8-// configuration file. This pattern was popularized by TypeScript.
/src/dist/lib/find-config.js:9:const fileContents=_fs.default.readFileSync(filePath,'utf8');return _json.default.parse(fileContents);}return null;}
##############################################
/src/dist/lib/check-custom-routes.js-3-try{// Make sure we can parse the source properly
/src/dist/lib/check-custom-routes.js:4:sourceTokens=pathToRegexp.parse(route.source);pathToRegexp.tokensToRegexp(sourceTokens);}catch(err){// If there is an error show our err.sh but still show original error or a formatted one if we can
/src/dist/lib/check-custom-routes.js-5-const errMatches=err.message.match(/at (\d{0,})/);if(errMatches){const position=parseInt(errMatches[1],10);console.error(`\nError parsing \`${route.source}\` `+`https://err.sh/zeit/next.js/invalid-route-source\n`+`Reason: ${err.message}\n\n`+`  ${route.source}\n`+`  ${new Array(position).fill(' ').join('')}^\n`);}else{console.error(`\nError parsing ${route.source} https://err.sh/zeit/next.js/invalid-route-source`,err);}invalidParts.push('`source` parse failed');}}// make sure no unnamed patterns are attempted to be used in the
##############################################
/src/dist/next-server/server/api-utils.js-73-async function parseBody(req, limit) {
/src/dist/next-server/server/api-utils.js:74:    const contentType = content_type_1.parse(req.headers['content-type'] || 'text/plain');
/src/dist/next-server/server/api-utils.js-75-    const { type, parameters } = contentType;
##############################################
/src/dist/next-server/server/api-utils.js-111-    try {
/src/dist/next-server/server/api-utils.js:112:        return JSON.parse(str);
/src/dist/next-server/server/api-utils.js-113-    }
##############################################
/src/dist/next-server/server/api-utils.js-269-        // TODO: strict runtime type checking
/src/dist/next-server/server/api-utils.js:270:        const data = JSON.parse(decryptedPreviewData);
/src/dist/next-server/server/api-utils.js-271-        // Cache lookup
##############################################
/src/dist/next-server/server/spr-cache.js-56-    else {
/src/dist/next-server/server/spr-cache.js:57:        prerenderManifest = JSON.parse(fs_1.default.readFileSync(path_1.default.join(distDir, constants_1.PRERENDER_MANIFEST), 'utf8'));
/src/dist/next-server/server/spr-cache.js-58-    }
##############################################
/src/dist/next-server/server/spr-cache.js-83-            const html = await readFile(getSeedPath(pathname, 'html'), 'utf8');
/src/dist/next-server/server/spr-cache.js:84:            const pageData = JSON.parse(await readFile(getSeedPath(pathname, 'json'), 'utf8'));
/src/dist/next-server/server/spr-cache.js-85-            data = {
##############################################
/src/dist/next-server/server/router.js-10-exports.prepareDestination = (destination, params, isRedirect) => {
/src/dist/next-server/server/router.js:11:    const parsedDestination = url_1.parse(destination, true);
/src/dist/next-server/server/router.js-12-    const destQuery = parsedDestination.query;
##############################################
/src/dist/next-server/server/next-server.js-118-            const url = req.url;
/src/dist/next-server/server/next-server.js:119:            parsedUrl = url_1.parse(url, true);
/src/dist/next-server/server/next-server.js-120-        }
##############################################
/src/dist/next-server/server/next-server.js-122-        if (typeof parsedUrl.query === 'string') {
/src/dist/next-server/server/next-server.js:123:            parsedUrl.query = querystring_1.parse(parsedUrl.query);
/src/dist/next-server/server/next-server.js-124-        }
##############################################
/src/dist/next-server/server/next-server.js-250-                    req.url = pathname;
/src/dist/next-server/server/next-server.js:251:                    const parsedUrl = url_1.parse(pathname, true);
/src/dist/next-server/server/next-server.js-252-                    await this.render(req, res, pathname, Object.assign(Object.assign({}, _parsedUrl.query), { _nextDataReq: '1' }), parsedUrl);
##############################################
/src/dist/next-server/server/next-server.js-581-        if (isLikeServerless && isDataReq) {
/src/dist/next-server/server/next-server.js:582:            let { pathname } = url_1.parse(req.url || '', true);
/src/dist/next-server/server/next-server.js-583-            pathname = !pathname || pathname === '/' ? '/index' : pathname;
##############################################
/src/dist/next-server/server/next-server.js-632-        // Compute the SPR cache key
/src/dist/next-server/server/next-server.js:633:        const urlPathname = url_1.parse(req.url || '').pathname;
/src/dist/next-server/server/next-server.js-634-        const ssgCacheKey = isPreviewMode
##############################################
/src/dist/next-server/server/next-server.js-838-        const url = req.url;
/src/dist/next-server/server/next-server.js:839:        const { pathname, query } = parsedUrl ? parsedUrl : url_1.parse(url, true);
/src/dist/next-server/server/next-server.js-840-        res.statusCode = 404;
##############################################
/src/dist/next-server/server/next-server.js-895-function prepareServerlessUrl(req, query) {
/src/dist/next-server/server/next-server.js:896:    const curUrl = url_1.parse(req.url, true);
/src/dist/next-server/server/next-server.js-897-    req.url = url_1.format(Object.assign(Object.assign({}, curUrl), { search: undefined, query: Object.assign(Object.assign({}, curUrl.query), query) }));
##############################################
/src/dist/next-server/lib/router/router.js-89-                e.state.as === this.asPath &&
/src/dist/next-server/lib/router/router.js:90:                url_1.parse(e.state.url).pathname === this.pathname) {
/src/dist/next-server/lib/router/router.js-91-                return;
##############################################
/src/dist/next-server/lib/router/router.js-106-        this._getStaticData = (asPath) => {
/src/dist/next-server/lib/router/router.js:107:            const pathname = prepareRoute(url_1.parse(asPath).pathname);
/src/dist/next-server/lib/router/router.js-108-            return process.env.NODE_ENV === 'production' && this.sdc[pathname]
##############################################
/src/dist/next-server/lib/router/router.js-112-        this._getServerData = (asPath) => {
/src/dist/next-server/lib/router/router.js:113:            let { pathname, query } = url_1.parse(asPath, true);
/src/dist/next-server/lib/router/router.js-114-            pathname = prepareRoute(pathname);
##############################################
/src/dist/next-server/lib/router/router.js-250-            }
/src/dist/next-server/lib/router/router.js:251:            const { pathname, query, protocol } = url_1.parse(url, true);
/src/dist/next-server/lib/router/router.js-252-            if (!pathname || protocol) {
##############################################
/src/dist/next-server/lib/router/router.js-268-            if (is_dynamic_1.isDynamicRoute(route)) {
/src/dist/next-server/lib/router/router.js:269:                const { pathname: asPathname } = url_1.parse(as);
/src/dist/next-server/lib/router/router.js-270-                const routeRegex = route_regex_1.getRouteRegex(route);
##############################################
/src/dist/next-server/lib/router/router.js-486-        return new Promise((resolve, reject) => {
/src/dist/next-server/lib/router/router.js:487:            const { pathname, protocol } = url_1.parse(url);
/src/dist/next-server/lib/router/router.js-488-            if (!pathname || protocol) {

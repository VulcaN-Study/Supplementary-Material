/src/server/config.js-42-const readjsonSync = (name) => {
/src/server/config.js:43:    return jju.parse(fs.readFileSync(name, 'utf8'), {
/src/server/config.js-44-        mode: 'json'
##############################################
/src/server/route.js-162-function buildIndex(json, callback) {
/src/server/route.js:163:    fs.readFile(getIndexPath(isDev), 'utf8', (error, template) => {
/src/server/route.js-164-        if (error)
##############################################
/src/server/repl.js-5-
/src/server/repl.js:6:module.exports = net.createServer((socket) => {
/src/server/repl.js-7-    const pid = process.pid;
##############################################
/src/server/server.js-31-    const app = express();
/src/server/server.js:32:    const server = http.createServer(app);
/src/server/server.js-33-    
##############################################
/src/server/markdown.js-26-        
/src/server/markdown.js:27:        fs.readFile(name, 'utf8', (error, data) => {
/src/server/markdown.js-28-            if (error)
##############################################
/src/server/rest/index.js-178-    const cmd = getCMD(name);
/src/server/rest/index.js:179:    const files = json.parse(body);
/src/server/rest/index.js-180-    
##############################################
/src/ChangeLog-3625-- (view) add set current file afterClose
/src/ChangeLog:3626:- (view) add preload:0
/src/ChangeLog-3627-- (view) rm image template
##############################################
/src/README.md-86-
/src/README.md:87:const server = http.createServer(app);
/src/README.md-88-const socket = io.listen(server, {
##############################################
/src/bin/cloudcmd.js-214-    
/src/bin/cloudcmd.js:215:    const readjsonSync = (name) => jju.parse(fs.readFileSync(name, 'utf8'), {
/src/bin/cloudcmd.js-216-        mode: 'json'
##############################################
/src/cloudcmd.js-10-"use strict";
/src/cloudcmd.js:11:eval("\n\n/* global CloudCmd */\n\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst Storage = __webpack_require__(/*! ./storage */ \"./client/dom/storage.js\");\nconst DOM = __webpack_require__(/*! ./ */ \"./client/dom/index.js\");\n\nmodule.exports = new BufferProto();\n\nfunction BufferProto() {\n    const Info = DOM.CurrentInfo;\n    const CLASS = 'cut-file';\n    const COPY = 'copy';\n    const CUT = 'cut';\n    const TITLE = 'Buffer';\n    \n    const Buffer  = {\n        cut     : callIfEnabled.bind(null, cut),\n        copy    : callIfEnabled.bind(null, copy),\n        clear   : callIfEnabled.bind(null, clear),\n        paste   : callIfEnabled.bind(null, paste)\n    };\n    \n    function showMessage(msg) {\n        DOM.Dialog.alert(TITLE, msg);\n    }\n    \n    function getNames() {\n        const files = DOM.getActiveFiles();\n        const names = DOM.getFilenames(files);\n        \n        return names;\n    }\n    \n    function addCutClass() {\n        const files = DOM.getActiveFiles();\n        \n        files.forEach((element) => {\n            element.classList.add(CLASS);\n        });\n    }\n    \n    function rmCutClass() {\n        const files = DOM.getByClassAll(CLASS);\n        \n        [...files].forEach((element) => {\n            element.classList.remove(CLASS);\n        });\n    }\n    \n    function callIfEnabled(callback) {\n        const is = CloudCmd.config('buffer');\n        \n        if (is)\n            return callback();\n        \n        showMessage('Buffer disabled in config!');\n    }\n    \n    function copy() {\n        const names = getNames();\n        const from = Info.dirPath;\n        \n        clear();\n        \n        if (!names.length)\n            return;\n        \n        Storage.remove(CUT)\n            .set(COPY, {\n                from,\n                names,\n            });\n    }\n    \n    function cut() {\n        const names = getNames();\n        const from = Info.dirPath;\n        \n        clear();\n        \n        if (!names.length)\n            return;\n        \n        addCutClass();\n        \n        Storage\n            .set(CUT, {\n                from,\n                names,\n            });\n    }\n    \n    function clear() {\n        Storage.remove(COPY)\n            .remove(CUT);\n        \n        rmCutClass();\n    }\n    \n    function paste() {\n        const copy = Storage.get.bind(Storage, COPY);\n        const cut = Storage.get.bind(Storage, CUT);\n        \n        exec.parallel([copy, cut], (error, cp, ct) => {\n            const opStr = cp ? 'copy' : 'move';\n            const opData = cp || ct;\n            const Operation = CloudCmd.Operation;\n            const msg = 'Path is same!';\n            const path = Info.dirPath;\n            \n            if (!error && !cp && !ct)\n                error = 'Buffer is empty!';\n           \n            if (error)\n                return showMessage(error);\n                \n            const data = jonny.parse(opData);\n            data.to = path;\n            \n            if (data.from === path)\n                return showMessage(msg);\n            \n            Operation.show(opStr, data);\n            clear();\n        });\n    }\n    \n    return Buffer;\n}\n\n\n//# sourceURL=file://cloudcmd/client/dom/buffer.js");
/src/cloudcmd.js-12-
##############################################
/src/cloudcmd.js-22-"use strict";
/src/cloudcmd.js:23:eval("/* global CloudCmd */\n\n\n\nconst philip = __webpack_require__(/*! philip */ \"./node_modules/philip/legacy/philip.js\");\n\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\nconst DOM = __webpack_require__(/*! . */ \"./client/dom/index.js\");\n\nconst {\n    getCurrentDirPath: getPathWhenRootEmpty,\n} = DOM;\n\nmodule.exports = (items) => {\n    const Dialog = DOM.Dialog;\n    \n    if (items.length)\n        Images.show('top');\n    \n    const entries = [...items].map((item) => {\n        return item.webkitGetAsEntry();\n    });\n    \n    const dirPath = getPathWhenRootEmpty();\n    const path = dirPath\n        .replace(/\\/$/, '');\n    \n    const uploader = philip(entries, (type, name, data, i, n, callback) => {\n        const prefixURL = CloudCmd.PREFIX_URL;\n        const full = prefixURL + FS + path + name;\n        \n        let upload;\n        switch(type) {\n        case 'file':\n            upload = uploadFile(full, data);\n            break;\n        \n        case 'directory':\n            upload = uploadDir(full);\n            break;\n        }\n        \n        upload.on('end', callback);\n        \n        upload.on('progress', (count) => {\n            const current = percent(i, n);\n            const next = percent(i + 1, n);\n            const max = next - current;\n            const value = current + percent(count, 100, max);\n            \n            setProgress(value);\n        });\n    });\n    \n    uploader.on('error', (error) => {\n        Dialog.alert(error);\n        uploader.abort();\n    });\n    \n    uploader.on('progress', setProgress);\n    uploader.on('end', CloudCmd.refresh);\n};\n\nfunction percent(i, n, per = 100) {\n    return Math.round(i * per / n);\n}\n\nfunction setProgress(count) {\n    DOM.Images\n        .setProgress(count)\n        .show('top');\n}\n\nfunction uploadFile(url, data) {\n    return DOM.load.put(url, data);\n}\n\nfunction uploadDir(url) {\n    return DOM.load.put(url + '?dir');\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/directory.js");
/src/cloudcmd.js-24-
##############################################
/src/cloudcmd.js-34-"use strict";
/src/cloudcmd.js:35:eval("\n\nconst DOM = module.exports;\n\n/**\n * check class of element\n *\n * @param element\n * @param className\n */\nmodule.exports.isContainClass = (element, className) => {\n    if (!element)\n        throw Error('element could not be empty!');\n    \n    if (!className)\n        throw Error('className could not be empty!');\n    \n    const classList = element.classList;\n    const ret = classList.contains(className);\n    \n    return ret;\n};\n\n/**\n * Function search element by tag\n * @param tag - className\n * @param element - element\n */\nmodule.exports.getByTag = (tag, element = document) => {\n    return element.getElementsByTagName(tag);\n};\n\n/**\n * Function search element by id\n * @param Id - id\n */\nmodule.exports.getById = (id, element = document) => {\n    return element.querySelector('#' + id);\n};\n\n/**\n * Function search first element by class name\n * @param className - className\n * @param element - element\n */\nmodule.exports.getByClass = (className, element = document) => {\n    return DOM.getByClassAll(className, element)[0];\n};\n\nmodule.exports.getByDataName = (attribute, element = document) => {\n    const selector    = '[' + 'data-name=\"' + attribute + '\"]';\n    return element.querySelector(selector);\n};\n\n/**\n * Function search element by class name\n * @param pClass - className\n * @param element - element\n */\nmodule.exports.getByClassAll = (className, element) => {\n    return (element || document).getElementsByClassName(className);\n};\n\n/**\n * add class=hidden to element\n *\n * @param element\n */\nmodule.exports.hide = (element) => {\n    element.classList.add('hidden');\n    return DOM;\n};\n\nmodule.exports.show = (element) => {\n    element.classList.remove('hidden');\n    return DOM;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/dom-tree.js");
/src/cloudcmd.js-36-
##############################################
/src/cloudcmd.js-46-"use strict";
/src/cloudcmd.js:47:eval("\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\n\nmodule.exports = new EventsProto();\n\nfunction EventsProto() {\n    const Events = this;\n    \n    function parseArgs(eventName, element, listener, callback) {\n        let isFunc;\n        const args = [\n            eventName,\n            element,\n            listener,\n            callback,\n        ];\n        \n        const EVENT_NAME = 1;\n        const ELEMENT = 0;\n        const type = itype(eventName);\n        \n        switch(type) {\n        default:\n            if (!/element$/.test(type))\n                throw Error('unknown eventName: ' + type);\n            \n            parseArgs(\n                args[EVENT_NAME],\n                args[ELEMENT],\n                listener,\n                callback\n            );\n            break;\n        \n        case 'string':\n            isFunc = itype.function(element);\n            \n            if (isFunc) {\n                listener   = element;\n                element    = null;\n            }\n            \n            if (!element)\n                element = window;\n            \n            callback(element, [\n                eventName,\n                listener,\n                false\n            ]);\n            break;\n        \n        case 'array':\n            eventName.forEach((eventName) => {\n                parseArgs(\n                    eventName,\n                    element,\n                    listener,\n                    callback\n                );\n            });\n            break;\n        \n        case 'object':\n            Object.keys(eventName).forEach((name) => {\n                const eventListener = eventName[name];\n                \n                parseArgs(\n                    name,\n                    element,\n                    eventListener,\n                    callback\n                );\n            });\n           \n            break;\n        }\n    }\n    \n    /**\n     * safe add event listener\n     *\n     * @param type\n     * @param element {document by default}\n     * @param listener\n     */\n    this.add = (type, element, listener) => {\n        checkType(type);\n        \n        parseArgs(type, element, listener, (element, args) => {\n            element.addEventListener.apply(element, args);\n        });\n        \n        return Events;\n    };\n    \n    /**\n     * safe add event listener\n     *\n     * @param type\n     * @param listener\n     * @param element {document by default}\n     */\n    this.addOnce = (type, element, listener) => {\n        const once = (event) => {\n            Events.remove(type, element, once);\n            listener(event);\n        };\n        \n        if (!listener) {\n            listener    = element;\n            element     = null;\n        }\n        \n        this.add(type, element, once);\n        \n        return Events;\n    };\n    \n    /**\n     * safe remove event listener\n     *\n     * @param type\n     * @param listener\n     * @param element {document by default}\n     */\n    this.remove = (type, element, listener) => {\n        checkType(type);\n        \n        parseArgs(type, element, listener, (element, args) => {\n            element.removeEventListener.apply(element, args);\n        });\n        \n        return Events;\n    };\n    \n    /**\n     * safe add event keydown listener\n     *\n     * @param listener\n     */\n    this.addKey = function(...argsArr) {\n        const name = 'keydown';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe remove event click listener\n     *\n     * @param listener\n     */\n    this.rmKey = function(...argsArr) {\n        const name = 'keydown';\n        const args = [name, ...argsArr];\n        \n        return Events.remove(...args);\n    };\n    \n    /**\n     * safe add event click listener\n     *\n     * @param listener\n     */\n    this.addClick = function(...argsArr) {\n        const name = 'click';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe remove event click listener\n     *\n     * @param listener\n     */\n    this.rmClick = function(...argsArr) {\n        const name = 'click';\n        const args = [name, ...argsArr];\n        \n        return Events.remove(...args);\n    };\n    \n    this.addContextMenu = function(...argsArr) {\n        const name = 'contextmenu';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe add event click listener\n     *\n     * @param listener\n     */\n    this.addError = function(...argsArr) {\n        const name = 'error';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe add load click listener\n     *\n     * @param listener\n     */\n    this.addLoad = function(...argsArr) {\n        const name = 'load';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    function checkType(type) {\n        if (!type)\n            throw Error('type could not be empty!');\n    }\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/events.js");
/src/cloudcmd.js-48-
##############################################
/src/cloudcmd.js-58-"use strict";
/src/cloudcmd.js:59:eval("/* global CloudCmd */\n\n\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst Storage = __webpack_require__(/*! ./storage */ \"./client/dom/storage.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst RESTful = __webpack_require__(/*! ./rest */ \"./client/dom/rest.js\");\n\nconst Promises = {};\nconst FILES_JSON = 'config|modules';\nconst FILES_HTML = 'file|path|link|pathLink|media';\nconst FILES_HTML_ROOT = 'view/media-tmpl|config-tmpl|upload';\nconst DIR_HTML = '/tmpl/';\nconst DIR_HTML_FS = DIR_HTML + 'fs/';\nconst DIR_JSON = '/json/';\nconst timeout = getTimeoutOnce(2000);\n\nconst get = currify(getFile);\nconst unaryMap = (array, fn) => array.map((a) => fn(a));\n\nmodule.exports.get = get;\n\nfunction getFile(name, callback) {\n    const type = itype(name);\n    let array;\n    \n    check(name, callback);\n    \n    switch(type) {\n    case 'string':\n        getModule(name, callback);\n        break;\n    \n    case 'array':\n        array = unaryMap(name, get);\n        \n        exec.parallel(array, callback);\n        break;\n    }\n}\n\nfunction check(name, callback) {\n    if (!name)\n        throw Error('name could not be empty!');\n    \n    if (typeof callback !== 'function')\n        throw Error('callback should be a function');\n}\n\nfunction getModule(name, callback) {\n    let path;\n    \n    const regExpHTML = new RegExp(FILES_HTML + '|' + FILES_HTML_ROOT);\n    const regExpJSON = new RegExp(FILES_JSON);\n    \n    const isHTML = regExpHTML.test(name);\n    const isJSON = regExpJSON.test(name);\n    \n    if (!isHTML && !isJSON) {\n        showError(name);\n    } else if (name === 'config') {\n        getConfig(callback);\n    } else {\n        path = getPath(name, isHTML, isJSON);\n        \n        getSystemFile(path, callback);\n    }\n    \n}\n\nfunction getPath(name, isHTML, isJSON) {\n    let path;\n    const regExp = new RegExp(FILES_HTML_ROOT);\n    const isRoot = regExp.test(name);\n    \n    if (isHTML) {\n        if (isRoot)\n            path = DIR_HTML + name.replace('-tmpl', '');\n        else\n            path = DIR_HTML_FS  + name;\n        \n        path += '.hbs';\n    } else if (isJSON) {\n        path = DIR_JSON  + name + '.json';\n    }\n    \n    return path;\n}\n\nfunction showError(name) {\n    const str = 'Wrong file name: ' + name;\n    const error = new Error(str);\n    \n    throw(error);\n}\n\nfunction getSystemFile(file, callback) {\n    const prefix = CloudCmd.PREFIX;\n    \n    if (!Promises[file])\n        Promises[file] = new Promise((success, error) => {\n            const url = prefix + file;\n            \n            load.ajax({\n                url,\n                success,\n                error\n            });\n        });\n    \n    Promises[file].then((data) => {\n        callback(null, data);\n    }, (error) => {\n        Promises[file] = null;\n        callback(error);\n    });\n}\n\nfunction getConfig(callback) {\n    let is;\n    \n    if (!Promises.config)\n        Promises.config = new Promise((resolve, reject) => {\n            is = true;\n            RESTful.Config.read((error, data) => {\n                if (error)\n                    return reject(error);\n                \n                resolve(data);\n            });\n        });\n    \n    Promises.config.then(function(data) {\n        is = false;\n        Storage.setAllowed(data.localStorage);\n        \n        callback(null, data);\n        \n        timeout(() => {\n            if (!is)\n                Promises.config = null;\n        });\n    }, function() {\n        if (!is)\n            Promises.config = null;\n    });\n}\n\nfunction getTimeoutOnce(time) {\n    let is;\n    \n    return (callback) => {\n        if (is)\n            return;\n        \n        is = true;\n        \n        setTimeout(() => {\n            is = false;\n            callback();\n        }, time);\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/files.js");
/src/cloudcmd.js-60-
##############################################
/src/cloudcmd.js-70-"use strict";
/src/cloudcmd.js:71:eval("/* global CloudCmd */\n/* global DOM */\n\n\n\nconst Images = module.exports;\n\nconst LOADING = 'loading';\nconst HIDDEN = 'hidden';\nconst ERROR = 'error';\n\nconst LoadingImage = LOADING + getLoadingType();\n\nfunction getLoadingType() {\n    return isSVG() ? '-svg' : '-gif';\n}\n\nmodule.exports.get = getElement;\n\n/**\n * check SVG SMIL animation support\n */\nfunction isSVG() {\n    const createNS = document.createElementNS;\n    const SVG_URL = 'http://www.w3.org/2000/svg';\n    \n    if (!createNS)\n        return false;\n    \n    const create = createNS.bind(document);\n    const svgNode = create(SVG_URL, 'animate');\n    const name = svgNode.toString();\n    \n    return /SVGAnimate/.test(name);\n}\n\n\nfunction getElement() {\n    return DOM.load({\n        name        : 'span',\n        id          : 'js-status-image',\n        className   : 'icon',\n        attribute   : 'data-progress',\n        notAppend   : true\n    });\n}\n\n/* Функция создаёт картинку загрузки */\nmodule.exports.loading = () => {\n    const element = getElement();\n    const classList = element.classList;\n    \n    classList.add(LOADING, LoadingImage);\n    classList.remove(ERROR, HIDDEN);\n    \n    return element;\n};\n\n/* Функция создаёт картинку ошибки загрузки */\nmodule.exports.error = () => {\n    const element = getElement();\n    const classList = element.classList;\n    \n    classList.add(ERROR);\n    classList.remove(HIDDEN, LOADING, LoadingImage);\n    \n    return element;\n};\n\nmodule.exports.show = show;\nmodule.exports.show.load  = show;\nmodule.exports.show.error = error;\n\n/**\n* Function shows loading spinner\n* position = {top: true};\n*/\nfunction show(position, panel) {\n    const image = Images.loading();\n    const parent = image.parentElement;\n    const refreshButton = DOM.getRefreshButton(panel);\n    \n    let current;\n\n    if (position === 'top') {\n        current = refreshButton.parentElement;\n    } else {\n        current = DOM.getCurrentFile();\n        \n        if (current)\n            current = DOM.getByDataName('js-name', current);\n        else\n            current = refreshButton.parentElement;\n    }\n    \n    if (!parent || (parent && parent !== current))\n        current.appendChild(image);\n    \n    DOM.show(image);\n    \n    return image;\n}\n\nfunction error(text) {\n    const image = Images.error();\n    \n    DOM.show(image);\n    image.title = text;\n    \n    CloudCmd.log(text);\n    \n    return image;\n}\n\n/**\n* hide load image\n*/\nmodule.exports.hide = () => {\n    const element = Images.get();\n    \n    DOM.hide(element);\n    \n    return Images;\n};\n\nmodule.exports.setProgress = (value, title) => {\n    const DATA = 'data-progress';\n    const element = Images.get();\n     \n    if (!element)\n        return Images;\n    \n    element.setAttribute(DATA, value + '%');\n    \n    if (title)\n        element.title = title;\n    \n    return Images;\n};\n\nmodule.exports.clearProgress  = () => {\n    const DATA = 'data-progress';\n    const element = Images.get();\n    \n    if (!element)\n        return Images;\n    \n    element.setAttribute(DATA, '');\n    element.title = '';\n    \n    return Images;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/images.js");
/src/cloudcmd.js-72-
##############################################
/src/cloudcmd.js-82-"use strict";
/src/cloudcmd.js:83:eval("/* global CloudCmd */\n\n\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst Util = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nconst {\n    getTitle,\n    FS,\n    Entity,\n} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst DOMTree = __webpack_require__(/*! ./dom-tree */ \"./client/dom/dom-tree.js\");\n\nconst DOM = Object.assign({}, DOMTree, new CmdProto());\n\nmodule.exports = DOM;\n\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst Files = __webpack_require__(/*! ./files */ \"./client/dom/files.js\");\nconst RESTful = __webpack_require__(/*! ./rest */ \"./client/dom/rest.js\");\nconst Storage = __webpack_require__(/*! ./storage */ \"./client/dom/storage.js\");\n\nDOM.Images = Images;\nDOM.load = load;\nDOM.Files = Files;\nDOM.RESTful = RESTful;\nDOM.Storage = Storage;\n\nDOM.uploadDirectory = __webpack_require__(/*! ./directory */ \"./client/dom/directory.js\");\nDOM.Buffer = __webpack_require__(/*! ./buffer */ \"./client/dom/buffer.js\");\nDOM.Events = __webpack_require__(/*! ./events */ \"./client/dom/events.js\");\n\nconst loadRemote = __webpack_require__(/*! ./load-remote */ \"./client/dom/load-remote.js\");\nconst selectByPattern = __webpack_require__(/*! ./select-by-pattern */ \"./client/dom/select-by-pattern.js\");\n\nfunction CmdProto() {\n    let Title;\n    let CurrentInfo = {};\n    \n    const Cmd = this;\n    const CURRENT_FILE = 'current-file';\n    const SELECTED_FILE = 'selected-file';\n    const TITLE = 'Cloud Commander';\n    const TabPanel = {\n        'js-left'        : null,\n        'js-right'       : null\n    };\n    \n    this.loadRemote = (name, options, callback) => {\n        loadRemote(name, options, callback);\n        return DOM;\n    };\n    /**\n     * load jquery from google cdn or local copy\n     * @param callback\n     */\n    this.loadJquery = function(callback) {\n        DOM.loadRemote('jquery', {\n            name    : '$'\n        }, callback);\n        \n        return DOM;\n    };\n    \n    this.loadSocket = function(callback) {\n        DOM.loadRemote('socket', {\n            name    : 'io'\n        }, callback);\n        \n        return DOM;\n    };\n    \n    /** function loads css and js of Menu\n     * @param callback\n     */\n    this.loadMenu = function(callback) {\n        return DOM.loadRemote('menu', callback);\n    };\n    \n    /**\n     * create new folder\n     *\n     */\n    this.promptNewDir        = function() {\n        promptNew('directory', '?dir');\n    };\n    \n    /**\n     * create new file\n     *\n     * @typeName\n     * @type\n     */\n    this.promptNewFile = () => {\n        promptNew('file');\n    };\n    \n    function promptNew(typeName, type) {\n        const {Dialog} = DOM;\n        const dir = Cmd.getCurrentDirPath();\n        const msg = 'New ' + typeName || 'File';\n        const getName = () => {\n            const name = Cmd.getCurrentName();\n            \n            if (name === '..')\n                return '';\n             \n            return name;\n        };\n        \n        const name = getName();\n        const cancel = false;\n        \n        Dialog.prompt(TITLE, msg, name, {cancel}).then((name) => {\n            if (!name)\n                return;\n            \n            const path = (type) => {\n                const result = dir + name;\n                \n                if (!type)\n                    return result;\n                \n                return result + type;\n            };\n            \n            RESTful.write(path(type), (error) => {\n                if (error)\n                    return;\n                \n                const currentName = name;\n                \n                CloudCmd.refresh({\n                    currentName\n                });\n            });\n        });\n    }\n    \n    /**\n     * get current direcotory name\n     */\n    this.getCurrentDirName = () => {\n        const href = DOM.getCurrentDirPath()\n            .replace(/\\/$/, '');\n        \n        const substr  = href.substr(href, href.lastIndexOf('/'));\n        const ret     = href.replace(substr + '/', '') || '/';\n        \n        return ret;\n    };\n    \n    /**\n     * get current direcotory path\n     */\n    this.getCurrentDirPath = (panel = DOM.getPanel()) => {\n        const path =  DOM.getByDataName('js-path', panel);\n        const ret = path && path.textContent;\n        \n        return ret;\n    };\n    \n    /**\n     * get current direcotory path\n     */\n    this.getParentDirPath = (panel) => {\n        const path = DOM.getCurrentDirPath(panel);\n        const dirName = DOM.getCurrentDirName() + '/';\n        \n        if (path !== '/')\n            return path.replace(RegExp(dirName + '$'), '');\n        \n        return path;\n    };\n    \n    /**\n     * get not current direcotory path\n     */\n    this.getNotCurrentDirPath = () => {\n        const panel = DOM.getPanel({active: false});\n        const path = DOM.getCurrentDirPath(panel);\n        \n        return path;\n    };\n    \n    /**\n     * unified way to get current file\n     *\n     * @currentFile\n     */\n    this.getCurrentFile = () => {\n        return DOM.getByClass(CURRENT_FILE);\n    };\n    \n    /**\n     * get current file by name\n     */\n    this.getCurrentByName = (name, panel = CurrentInfo.panel) => {\n        const dataName = 'js-file-' + name;\n        const element = DOM.getByDataName(dataName, panel);\n        \n        return element;\n    };\n    \n    /**\n     * unified way to get current file\n     *\n     * @currentFile\n     */\n    this.getSelectedFiles = () => {\n        const panel = DOM.getPanel();\n        const selected = DOM.getByClassAll(SELECTED_FILE, panel);\n        \n        return [...selected];\n    };\n    \n    /*\n     * unselect all files\n     */\n    this.unselectFiles = (files) => {\n        files = files || DOM.getSelectedFiles();\n        \n        [...files].forEach(DOM.toggleSelectedFile);\n    };\n    \n    /**\n     * get all selected files or current when none selected\n     *\n     * @currentFile\n     */\n    this.getActiveFiles = () => {\n        const current = DOM.getCurrentFile();\n        const files = DOM.getSelectedFiles();\n        const name = DOM.getCurrentName(current);\n        \n        if (!files.length && name !== '..')\n            return [current];\n        \n        return files;\n    };\n    \n    this.getCurrentDate = (currentFile) => {\n        const current = currentFile || Cmd.getCurrentFile();\n        const date = DOM\n            .getByDataName('js-date', current)\n            .textContent;\n        \n        return date;\n    };\n    \n    /**\n     * get size\n     * @currentFile\n     */\n    this.getCurrentSize = (currentFile) => {\n        const current = currentFile || Cmd.getCurrentFile();\n        /* если это папка - возвращаем слово dir вместо размера*/\n        const size = DOM.getByDataName('js-size', current)\n            .textContent\n            .replace(/^<|>$/g, '');\n        \n        return size;\n    };\n    \n    /**\n     * get size\n     * @currentFile\n     */\n    this.loadCurrentSize = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?size';\n        const link = DOM.getCurrentPath(current);\n        \n        Images.show.load();\n        \n        if (name === '..')\n            return;\n        \n        RESTful.read(link + query, (error, size) => {\n            if (error)\n                return;\n                \n            DOM.setCurrentSize(size, current);\n            exec(callback, current);\n            Images.hide();\n        });\n    };\n    \n    /**\n     * load hash\n     * @callback\n     * @currentFile\n     */\n    this.loadCurrentHash = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?hash';\n        const link = DOM.getCurrentPath(current);\n        \n        RESTful.read(link + query, callback);\n    };\n    \n    /**\n     * load current modification time of file\n     * @callback\n     * @currentFile\n     */\n    this.loadCurrentTime = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?time';\n        const link = DOM.getCurrentPath(current);\n        \n        RESTful.read(link + query, callback);\n    };\n    \n    /**\n     * set size\n     * @currentFile\n     */\n    this.setCurrentSize = (size, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const sizeElement = DOM.getByDataName('js-size', current);\n        \n        sizeElement.textContent = size;\n    };\n    \n    /**\n     * @currentFile\n     */\n    this.getCurrentMode = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const mode = DOM.getByDataName('js-mode', current);\n        \n        return mode.textContent;\n    };\n    \n    /**\n     * @currentFile\n     */\n    this.getCurrentOwner = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const owner = DOM.getByDataName('js-owner', current);\n        \n        return owner.textContent;\n    };\n    \n    /**\n     * unified way to get current file content\n     *\n     * @param callback\n     * @param currentFile\n     */\n    this.getCurrentData = (callback, currentFile) => {\n        let hash;\n        const Dialog = DOM.Dialog;\n        const Info = DOM.CurrentInfo;\n        const current = currentFile || DOM.getCurrentFile();\n        const path = DOM.getCurrentPath(current);\n        const isDir = DOM.isCurrentIsDir(current);\n        \n        const func = (error, data) => {\n            const ONE_MEGABYTE = 1024 * 1024 * 1024;\n            \n            if (!error) {\n                if (itype.object(data))\n                    data = jonny.stringify(data);\n                \n                const length  = data.length;\n                \n                if (hash && length < ONE_MEGABYTE)\n                    DOM.saveDataToStorage(path, data, hash);\n            }\n            \n            callback(error, data);\n        };\n        \n        if (Info.name === '..') {\n            Dialog.alert.noFiles(TITLE);\n            return callback(Error('No files selected!'));\n        }\n        \n        if (isDir)\n            return RESTful.read(path, func);\n        \n        DOM.checkStorageHash(path, (error, equal, hashNew) => {\n            if (error)\n                return callback(error);\n            \n            if (equal)\n                return DOM.getDataFromStorage(path, callback);\n            \n            hash = hashNew;\n            RESTful.read(path, func);\n        });\n    };\n    \n    /**\n     * unified way to save current file content\n     *\n     * @callback - function({data, name}) {}\n     * @currentFile\n     */\n    this.saveCurrentData = (url, data, callback, query = '') => {\n        DOM.RESTful.write(url + query, data, (error) => {\n            !error && DOM.saveDataToStorage(url, data);\n        });\n    };\n    \n    /**\n     * unified way to get RefreshButton\n     */\n    this.getRefreshButton = (panel) => {\n        const currentPanel = panel || DOM.getPanel();\n        const refresh = DOM.getByDataName('js-refresh', currentPanel);\n        \n        return refresh;\n    };\n    \n    this.setCurrentByName = (name) => {\n        const current = DOM.getCurrentByName(name);\n        return DOM.setCurrentFile(current);\n    };\n    \n    /**\n     * private function thet unset currentfile\n     *\n     * @currentFile\n     */\n    function unsetCurrentFile(currentFile) {\n        const is = DOM.isCurrentFile(currentFile);\n        \n        if (!is)\n            return;\n        \n        currentFile.classList.remove(CURRENT_FILE);\n    }\n    \n    /**\n     * unified way to set current file\n     */\n    this.setCurrentFile = (currentFile, options) => {\n        const o = options;\n        const CENTER = true;\n        const currentFileWas = DOM.getCurrentFile();\n        \n        if (!currentFile)\n            return DOM;\n        \n        let pathWas = '';\n        \n        if (currentFileWas) {\n            pathWas = DOM.getCurrentDirPath();\n            unsetCurrentFile(currentFileWas);\n        }\n        \n        currentFile.classList.add(CURRENT_FILE);\n        \n        let path = DOM.getCurrentDirPath();\n        \n        const name = CloudCmd.config('name');\n        if (path !== pathWas) {\n            DOM.setTitle(getTitle({\n                name,\n                path,\n            }));\n            \n            /* history could be present\n             * but it should be false\n             * to prevent default behavior\n             */\n            if (!o || o.history !== false) {\n                if (path !== '/')\n                    path = FS + path;\n                \n                DOM.setHistory(path, null, path);\n            }\n        }\n        \n        /* scrolling to current file */\n        DOM.scrollIntoViewIfNeeded(currentFile, CENTER);\n        \n        Cmd.updateCurrentInfo(currentFile);\n        \n        return DOM;\n    };\n    \n    /*\n      * set current file by position\n      *\n      * @param layer    - element\n      * @param          - position {x, y}\n      */\n    this.getCurrentByPosition = ({x, y}) => {\n        const element = document.elementFromPoint(x, y);\n        \n        const getEl = (el) => {\n            const {tagName} = el;\n            const isChild = /A|SPAN|LI/.test(tagName);\n            \n            if (!isChild)\n                return null;\n            \n            if (tagName === 'A')\n                return el.parentElement.parentElement;\n            \n            if (tagName === 'SPAN')\n                return el.parentElement;\n            \n            return el;\n        };\n        \n        const el = getEl(element);\n        \n        if (el && el.tagName !== 'LI')\n            return null;\n        \n        return el;\n    };\n    \n    /**\n     * select current file\n     * @param currentFile\n     */\n    this.selectFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        current.classList.add(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.unselectFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        current.classList.remove(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.toggleSelectedFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const name = DOM.getCurrentName(current);\n        \n        if (name === '..')\n            return Cmd;\n        \n        current.classList.toggle(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.toggleAllSelectedFiles = () => {\n        DOM.getAllFiles().map(DOM.toggleSelectedFile);\n        \n        return Cmd;\n    };\n    \n    this.selectAllFiles = () => {\n        DOM.getAllFiles().map(DOM.selectFile);\n        \n        return Cmd;\n    };\n    \n    this.getAllFiles = () => {\n        const panel = DOM.getPanel();\n        const files = DOM.getFiles(panel);\n        const name = DOM.getCurrentName(files[0]);\n        \n        const from = (a) => a === '..' ? 1 : 0;\n        const i = from(name);\n        \n        return [...files].slice(i);\n    };\n    \n    /**\n     * open dialog with expand selection\n     */\n    this.expandSelection = () => {\n        const msg = 'expand';\n        const files = CurrentInfo.files;\n        \n        selectByPattern(msg, files);\n    };\n    \n    /**\n     * open dialog with shrink selection\n     */\n    this.shrinkSelection = () => {\n        const msg = 'shrink';\n        const files = CurrentInfo.files;\n       \n        selectByPattern(msg, files);\n    };\n    \n    /**\n     * setting history wrapper\n     */\n    this.setHistory = (data, title, url) => {\n        const ret = window.history;\n        \n        url = CloudCmd.PREFIX + url;\n        \n        if (ret)\n            history.pushState(data, title, url);\n        \n        return ret;\n    };\n    \n    /**\n     * set title or create title element\n     *\n     * @param name\n     */\n    \n    this.setTitle = (name) => {\n        if (!Title)\n            Title = DOM.getByTag('title')[0] ||\n                    DOM.load({\n                        name            : 'title',\n                        innerHTML       : name,\n                        parentElement   : document.head\n                    });\n        \n        Title.textContent = name;\n        \n        return DOM;\n    };\n    \n    /**\n     * current file check\n     *\n     * @param currentFile\n     */\n    this.isCurrentFile = (currentFile) => {\n        if (!currentFile)\n            return false;\n        \n        return DOM.isContainClass(currentFile, CURRENT_FILE);\n    };\n    \n    /**\n     * selected file check\n     *\n     * @param currentFile\n     */\n    this.isSelected = (selected) => {\n        if (!selected)\n            return false;\n        \n        return DOM.isContainClass(selected, SELECTED_FILE);\n    };\n    \n    /**\n     * check is current file is a directory\n     *\n     * @param currentFile\n     */\n    this.isCurrentIsDir = (currentFile) => {\n        const current = currentFile || this.getCurrentFile();\n        const fileType = DOM.getByDataName('js-type', current);\n        const ret = DOM.isContainClass(fileType, 'directory');\n        \n        return ret;\n    };\n    \n    /**\n     * get link from current (or param) file\n     *\n     * @param currentFile - current file by default\n     */\n    this.getCurrentLink = (currentFile) => {\n        const current = currentFile || this.getCurrentFile();\n        const link = DOM.getByTag('a', current);\n        \n        return link[0];\n    };\n    \n    /**\n     * get link from current (or param) file\n     *\n     * @param currentFile - current file by default\n     */\n    this.getCurrentPath = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const element = DOM.getByTag('a', current)[0];\n        const prefix = CloudCmd.PREFIX;\n        const path = element.getAttribute('href')\n            .replace(RegExp('^' + prefix + FS), '');\n        \n        return path;\n    };\n    \n    /**\n     * get name from current (or param) file\n     *\n     * @param currentFile\n     */\n    this.getCurrentName = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        if (!current)\n            return '';\n           \n        const link = DOM.getCurrentLink(current);\n        \n        if (!link)\n            return '';\n            \n        const name = link.title;\n        \n        return name;\n    };\n    \n    this.getFilenames = (files) => {\n        if (!files)\n            throw Error('AllFiles could not be empty');\n        \n        const first = files[0] || DOM.getCurrentFile();\n        const name = DOM.getCurrentName(first);\n        \n        const allFiles = [...files];\n        \n        if (name === '..')\n            allFiles.shift();\n        \n        const names = allFiles.map((current) => {\n            return DOM.getCurrentName(current);\n        });\n        \n        return names;\n    };\n    \n    /**\n     * set name from current (or param) file\n     *\n     * @param name\n     * @param current\n     */\n    this.setCurrentName = (name, current) => {\n        const Info = CurrentInfo;\n        const link = Info.link;\n        const PREFIX = CloudCmd.PREFIX;\n        const dir = PREFIX + FS + Info.dirPath;\n        \n        link.title      = name;\n        link.innerHTML  = Entity.encode(name);\n        link.href       = dir + name;\n        \n        current.setAttribute('data-name', 'js-file-' + name);\n        \n        return link;\n    };\n    \n    /**\n     * check storage hash\n     */\n    this.checkStorageHash = (name, callback) => {\n        const parallel = exec.parallel;\n        const loadHash = DOM.loadCurrentHash;\n        const nameHash = name + '-hash';\n        const getStoreHash = exec.with(Storage.get, nameHash);\n        \n        if (typeof name !== 'string')\n            throw Error('name should be a string!');\n        \n        if (typeof callback !== 'function')\n            throw Error('callback should be a function!');\n        \n        parallel([loadHash, getStoreHash], (error, loadHash, storeHash) => {\n            let equal;\n            const isContain = /error/.test(loadHash);\n            \n            if (isContain)\n                error = loadHash;\n            else if (loadHash === storeHash)\n                equal = true;\n            \n            callback(error, equal, loadHash);\n        });\n    };\n    \n    /**\n     * save data to storage\n     *\n     * @param name\n     * @param data\n     * @param hash\n     * @param callback\n     */\n    this.saveDataToStorage = function(name, data, hash, callback) {\n        const allowed = CloudCmd.config('localStorage');\n        const isDir = DOM.isCurrentIsDir();\n        const nameHash = name + '-hash';\n        const nameData = name + '-data';\n        \n        if (!allowed || isDir)\n            return exec(callback);\n        \n        exec.if(hash, () => {\n            Storage.set(nameHash, hash);\n            Storage.set(nameData, data);\n            \n            exec(callback, hash);\n        }, (callback) => {\n            DOM.loadCurrentHash((error, loadHash) => {\n                hash = loadHash;\n                callback();\n            });\n        });\n    };\n    \n    /**\n     * save data to storage\n     *\n     * @param name\n     * @param data\n     * @param callback\n     */\n    this.getDataFromStorage = (name, callback) => {\n        const nameHash = name + '-hash';\n        const nameData = name + '-data';\n        const allowed = CloudCmd.config('localStorage');\n        const isDir = DOM.isCurrentIsDir();\n        \n        if (!allowed || isDir)\n            return exec(callback);\n        \n        exec.parallel([\n            exec.with(Storage.get, nameData),\n            exec.with(Storage.get, nameHash),\n        ], callback);\n    };\n    \n    this.getFM = () => {\n        return DOM.getPanel().parentElement;\n    };\n    \n    this.getPanelPosition = (panel) => {\n        panel = panel || DOM.getPanel();\n        \n        return panel.dataset.name.replace('js-', '');\n    };\n    \n    /** function getting panel active, or passive\n     * @param options = {active: true}\n     */\n    this.getPanel = (options) => {\n        let files, panel, isLeft;\n        let dataName = 'js-';\n        \n        const current = DOM.getCurrentFile();\n        \n        if (!current) {\n            panel = DOM.getByDataName('js-left');\n        } else {\n            files = current.parentElement,\n            panel = files.parentElement,\n            isLeft = panel.getAttribute('data-name') === 'js-left';\n        }\n        \n        /* if {active : false} getting passive panel */\n        if (options && !options.active) {\n            dataName += isLeft ? 'right' : 'left';\n            panel = DOM.getByDataName(dataName);\n        }\n        \n        /* if two panels showed\n         * then always work with passive\n         * panel\n         */\n        if (window.innerWidth < CloudCmd.MIN_ONE_PANEL_WIDTH)\n            panel = DOM.getByDataName('js-left');\n        \n        if (!panel)\n            throw Error('can not find Active Panel!');\n       \n        return panel;\n    };\n    \n    this.getFiles = (element) => {\n        const files = DOM.getByDataName('js-files', element);\n        return files.children || [];\n    };\n    \n    /**\n     * shows panel right or left (or active)\n     */\n    this.showPanel = (active) => {\n        const panel = DOM.getPanel({active: active});\n        \n        if (!panel)\n            return false;\n        \n        DOM.show(panel);\n        \n        return true;\n    };\n    \n    /**\n     * hides panel right or left (or active)\n     */\n    this.hidePanel = (active) => {\n        const panel = DOM.getPanel({\n            active\n        });\n        \n        if (!panel)\n            return false;\n        \n        return DOM.hide(panel);\n    };\n     \n    /**\n     * remove child of element\n     * @param pChild\n     * @param element\n     */\n    this.remove = (child, element) => {\n        const parent = element || document.body;\n        \n        parent.removeChild(child);\n        \n        return DOM;\n    };\n    \n    /**\n     * remove current file from file table\n     * @param current\n     *\n     */\n    this.deleteCurrent = (current) => {\n        if (!current)\n            Cmd.getCurrentFile();\n        \n        const parent = current && current.parentElement;\n        const name = Cmd.getCurrentName(current);\n        \n        if (current && name !== '..') {\n            const next = current.nextSibling;\n            const prev = current.previousSibling;\n            \n            DOM.setCurrentFile(next || prev);\n            parent.removeChild(current);\n        }\n    };\n    \n    /**\n     * remove selected files from file table\n     * @Selected\n     */\n    this.deleteSelected = (selected) => {\n        selected = selected || DOM.getSelectedFiles();\n        \n        if (!selected)\n            return;\n        \n        selected.map(DOM.deleteCurrent);\n    };\n    \n    /**\n     * rename current file\n     *\n     * @currentFile\n     */\n    this.renameCurrent = (current) => {\n        const Dialog = DOM.Dialog;\n        \n        if (!Cmd.isCurrentFile(current))\n            current = Cmd.getCurrentFile();\n        \n        const from = Cmd.getCurrentName(current);\n        \n        if (from === '..')\n            return Dialog.alert.noFiles(TITLE);\n        \n        const cancel = false;\n        \n        Dialog.prompt(TITLE, 'Rename', from, {cancel}).then((to) => {\n            const isExist = !!DOM.getCurrentByName(to);\n            const dirPath = Cmd.getCurrentDirPath();\n            \n            if (from === to)\n                return;\n            \n            const files = {\n                from : dirPath + from,\n                to : dirPath + to\n            };\n            \n            RESTful.mv(files, (error) => {\n                if (error)\n                    return;\n                \n                DOM.setCurrentName(to, current);\n                Cmd.updateCurrentInfo(current);\n                Storage.remove(dirPath);\n                \n                if (isExist)\n                    CloudCmd.refresh();\n            });\n        });\n    };\n    \n    /**\n     * unified way to scrollIntoViewIfNeeded\n     * (native suporte by webkit only)\n     * @param element\n     * @param center - to scroll as small as possible param should be false\n     */\n    this.scrollIntoViewIfNeeded = function(element, center = false) {\n        if (!element || !element.scrollIntoViewIfNeeded)\n            return;\n        \n        element.scrollIntoViewIfNeeded(center);\n    };\n    \n    /* scroll on one page */\n    this.scrollByPages = (element, pPages) => {\n        const ret = element && element.scrollByPages && pPages;\n        \n        if (ret)\n            element.scrollByPages(pPages);\n        \n        return ret;\n    };\n    \n    this.changePanel = () => {\n        let panel = DOM.getPanel();\n        const panelPassive = DOM.getPanel({\n            active: false\n        });\n        \n        let name = DOM.getCurrentName();\n        const filesPassive = DOM.getFiles(panelPassive);\n        \n        let dataName = panel.getAttribute('data-name');\n        \n        TabPanel[dataName] = name;\n         \n        panel = panelPassive;\n        dataName = panel.getAttribute('data-name');\n        \n        name = TabPanel[dataName];\n        \n        let files;\n        let current;\n        \n        if (name) {\n            current = DOM.getCurrentByName(name, panel);\n            \n            if (current)\n                files = current.parentElement;\n        }\n        \n        if (!files || !files.parentElement) {\n            current = DOM.getCurrentByName(name, panel);\n            \n            if (!current)\n                current = filesPassive[0];\n        }\n        \n        DOM.setCurrentFile(current, {\n            history: true\n        });\n        \n        return DOM;\n    };\n    \n    this.getPackerExt = (type) => {\n        if (type === 'zip')\n            return '.zip';\n        \n        return '.tar.gz';\n    };\n    \n    this.goToDirectory = () => {\n        const msg = 'Go to directory:';\n        const path = CurrentInfo.dirPath;\n        const Dialog = DOM.Dialog;\n        const cancel = false;\n        const setPath = (path) => ({\n            path\n        });\n        \n        Dialog.prompt(TITLE, msg, path, {cancel})\n            .then(setPath)\n            .then(CloudCmd.loadDir);\n    },\n    \n    this.duplicatePanel = () => {\n        const Info = CurrentInfo;\n        const isDir = Info.isDir;\n        const panel = Info.panelPassive;\n        const noCurrent = !Info.isOnePanel;\n        \n        const getPath = (isDir) => {\n            if (isDir)\n                return Info.path;\n            \n            return Info.dirPath;\n        };\n        \n        const path = getPath(isDir);\n        \n        CloudCmd.loadDir({\n            path,\n            panel,\n            noCurrent,\n        });\n    };\n    \n    this.swapPanels = () => {\n        const Info = CurrentInfo;\n        const {panel} = Info;\n        const {files} = Info;\n        const {element} = Info;\n        \n        const panelPassive = Info.panelPassive;\n        \n        const dirPath = DOM.getCurrentDirPath();\n        const dirPathPassive = DOM.getNotCurrentDirPath();\n        \n        let currentIndex = files.indexOf(element);\n        \n        CloudCmd.loadDir({\n            path: dirPath,\n            panel: panelPassive,\n            noCurrent: true\n        });\n        \n        CloudCmd.loadDir({\n            path: dirPathPassive,\n            panel: panel\n        }, () => {\n            const files = Info.files;\n            const length = files.length - 1;\n            \n            if (currentIndex > length)\n                currentIndex = length;\n            \n            const el = files[currentIndex];\n            \n            DOM.setCurrentFile(el);\n        });\n    };\n    \n    this.CurrentInfo = CurrentInfo,\n    \n    this.updateCurrentInfo = (currentFile) => {\n        const info = Cmd.CurrentInfo;\n        const current = currentFile || Cmd.getCurrentFile();\n        const files = current.parentElement;\n        const panel = files.parentElement;\n        \n        const panelPassive = Cmd.getPanel({\n            active: false\n        });\n        \n        const filesPassive = DOM.getFiles(panelPassive);\n        const name = Cmd.getCurrentName(current);\n        \n        info.dir            = Cmd.getCurrentDirName();\n        info.dirPath        = Cmd.getCurrentDirPath();\n        info.parentDirPath  = Cmd.getParentDirPath();\n        info.element        = current;\n        info.ext            = Util.getExt(name);\n        info.files          = [...files.children];\n        info.filesPassive   = [...filesPassive];\n        info.first          = files.firstChild;\n        info.getData        = Cmd.getCurrentData;\n        info.last           = files.lastChild;\n        info.link           = Cmd.getCurrentLink(current);\n        info.mode           = Cmd.getCurrentMode(current);\n        info.name           = name;\n        info.path           = Cmd.getCurrentPath(current);\n        info.panel          = panel;\n        info.panelPassive   = panelPassive;\n        info.size           = Cmd.getCurrentSize(current);\n        info.isDir          = Cmd.isCurrentIsDir();\n        info.isSelected     = Cmd.isSelected(current);\n        info.panelPosition  = Cmd.getPanel().dataset.name.replace('js-', '');\n        info.isOnePanel     =\n            info.panel.getAttribute('data-name') ===\n            info.panelPassive.getAttribute('data-name');\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/index.js");
/src/cloudcmd.js-84-
##############################################
/src/cloudcmd.js-94-"use strict";
/src/cloudcmd.js:95:eval("\n\n/* global CloudCmd */\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst {findObjByNameInArr} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst Files = __webpack_require__(/*! ./files */ \"./client/dom/files.js\");\n\nmodule.exports = (name, options, callback = options) => {\n    const {PREFIX, config} = CloudCmd;\n    const o = options;\n    \n    if (o.name && window[o.name])\n        return callback();\n    \n    Files.get('modules', (error, modules) => {\n        const online = config('online') && navigator.onLine;\n        const module = findObjByNameInArr(modules.remote, name);\n        \n        const isArray = itype.array(module.local);\n        const version = module.version;\n        \n        let remoteTmpls, local;\n        if (isArray) {\n            remoteTmpls = module.remote;\n            local       = module.local;\n        } else {\n            remoteTmpls  = [module.remote];\n            local        = [module.local];\n        }\n        \n        const localURL = local.map((url) => {\n            return PREFIX + url;\n        });\n        \n        const remoteURL = remoteTmpls.map((tmpl) => {\n            return rendy(tmpl, {\n                version: version\n            });\n        });\n        \n        const on = funcON(localURL, remoteURL, callback);\n        const off = funcOFF(localURL, callback);\n        \n        exec.if(online, on, off);\n    });\n};\n\nfunction funcOFF(local, callback) {\n    return () => {\n        load.parallel(local, callback);\n    };\n}\n\nfunction funcON (local, remote,callback) {\n    return () => {\n        load.parallel(remote, (error) => {\n            if (error)\n                return funcOFF();\n            \n            callback();\n        });\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/load-remote.js");
/src/cloudcmd.js-96-
##############################################
/src/cloudcmd.js-106-"use strict";
/src/cloudcmd.js:107:eval("\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst Events = __webpack_require__(/*! ./events */ \"./client/dom/events.js\");\n\nconst {getExt} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nmodule.exports = load;\nmodule.exports.getIdBySrc = getIdBySrc;\nmodule.exports.ext = ext;\n\n/**\n * Функция создаёт элемент и загружает файл с src.\n *\n * @param params = {\n * name, - название тэга\n * src', - путь к файлу\n * func, - обьект, содержаий одну из функций\n *          или сразу две onload и onerror\n *          {onload: function() {}, onerror: function();}\n * style,\n * id,\n * element,\n * async, - true by default\n * inner: 'id{color:red, },\n * class,\n * notAppend - false by default\n *\n */\nfunction load(params) {\n    const {\n        src,\n        id = getIdBySrc(params.src),\n        func,\n        name,\n        async,\n        inner,\n        style,\n        parent = document.body,\n        className,\n        attribute,\n        notAppend,\n    } = params;\n    \n    let element = document.getElementById(id);\n    \n    if (element) {\n        exec(func);\n        return element;\n    }\n    \n    element = document.createElement(name);\n    \n    const funcError = () => {\n        const msg = `file ${src} could not be loaded`;\n        const error = new Error(msg);\n        \n        parent.removeChild(element);\n        \n        Images.show.error(msg);\n        \n        const callback = func && func.onerror || func.onload || func;\n        \n        exec(callback, error);\n    };\n    \n    const funcLoad = () => {\n        const callback = func && func.onload || func;\n        \n        Events.remove('error', element, funcError);\n        \n        exec(callback);\n    };\n    \n    if (/^(script|link)$/.test(name))\n        Events.addOnce('load', element, funcLoad)\n            .addError(element, funcError);\n    \n    if (id)\n        element.id = id;\n    \n    if (className)\n        element.className = className;\n    \n    if (src) {\n        if (name !== 'link') {\n            element.src = src;\n        } else {\n            element.href = src;\n            element.rel = 'stylesheet';\n        }\n    }\n    \n    if (attribute) {\n        const type = itype(attribute);\n        \n        switch(type) {\n        case 'string':\n            element.setAttribute(attribute, '');\n            break;\n        \n        case 'object':\n            Object.keys(attribute).forEach((name) => {\n                element.setAttribute(name, attribute[name]);\n            });\n            break;\n        }\n    }\n    \n    if (style)\n        element.style.cssText = style;\n    \n    if (async && name === 'script' || async === undefined)\n        element.async = true;\n    \n    if (!notAppend)\n        parent.appendChild(element);\n    \n    if (inner)\n        element.innerHTML = inner;\n    \n    return element;\n}\n\n/**\n * Function gets id by src\n * @param src\n *\n * Example: http://domain.com/1.js -> 1_js\n */\nfunction getIdBySrc(src) {\n    const isStr = itype.string(src);\n    \n    if (!isStr)\n        return;\n    \n    if (~src.indexOf(':'))\n        src += '-join';\n    \n    const num = src.lastIndexOf('/') + 1;\n    const sub = src.substr(src, num);\n    const id = src\n        .replace(sub, '')\n        .replace(/\\./g, '-');\n    \n    return id;\n}\n\n/**\n * load file countent via ajax\n *\n * @param params\n */\nmodule.exports.ajax = (params) => {\n    const p = params;\n    const isObject = itype.object(p.data);\n    const isArray = itype.array(p.data);\n    const isArrayBuf = itype(p.data) === 'arraybuffer';\n    const type = p.type || p.method || 'GET';\n    const headers = p.headers || {};\n    const xhr = new XMLHttpRequest();\n    \n    xhr.open(type, p.url, true);\n    \n    Object.keys(headers).forEach((name) => {\n        const value = headers[name];\n        xhr.setRequestHeader(name, value);\n    });\n    \n    if (p.responseType)\n        xhr.responseType = p.responseType;\n    \n    let data;\n    if (!isArrayBuf && isObject || isArray)\n        data = jonny.stringify(p.data);\n    else\n        data = p.data;\n    \n    xhr.onreadystatechange = (event) => {\n        const xhr = event.target;\n        const OK  = 200;\n        \n        if (xhr.readyState !== xhr.DONE)\n            return;\n        \n        Images.clearProgress();\n        \n        const TYPE_JSON = 'application/json';\n        const type        = xhr.getResponseHeader('content-type');\n        \n        if (xhr.status !== OK)\n            return exec(p.error, xhr);\n        \n        const notText = p.dataType !== 'text';\n        const isContain = ~type.indexOf(TYPE_JSON);\n        \n        let data = xhr.response;\n        if (type && isContain && notText)\n            data = jonny.parse(xhr.response) || xhr.response;\n            \n        exec(p.success, data, xhr.statusText, xhr);\n    };\n    \n    xhr.send(data);\n};\n\nmodule.exports.put = (url, body) => {\n    const emitter = Emitify();\n    const xhr = new XMLHttpRequest();\n    \n    url = encodeURI(url)\n        .replace('#', '%23');\n    \n    xhr.open('put', url, true);\n    \n    xhr.upload.onprogress = (event) => {\n        if (!event.lengthComputable)\n            return;\n        \n        const percent = (event.loaded / event.total) * 100;\n        const count   = Math.round(percent);\n        \n        emitter.emit('progress', count);\n    };\n    \n    xhr.onreadystatechange = () => {\n        const over = xhr.readyState === xhr.DONE;\n        const OK = 200;\n        \n        if (!over)\n            return;\n        \n        if (xhr.status === OK)\n            return emitter.emit('end');\n        \n        const error = Error(xhr.responseText);\n        emitter.emit('error', error);\n    };\n    \n    xhr.send(body);\n    \n    return emitter;\n};\n\nfunction ext(src, func) {\n    switch (getExt(src)) {\n    case '.js':\n        return load.js(src, func);\n    \n    case '.css':\n        return load.css(src, func);\n    \n    default:\n        return load({\n            src,\n            func,\n        });\n    }\n}\n\n/**\n * create elements and load them to DOM-tree\n * one-by-one\n *\n * @param params\n * @param callback\n */\nload.series = (params, callback) => {\n    if (!params)\n        return load;\n    \n    const funcs = params\n        .map((url) => ext.bind(null, url))\n        .concat(callback);\n    \n    exec.series(funcs);\n    \n    return load;\n};\n\n/**\n * improve callback of funcs so\n * we pop number of function and\n * if it's last we call pCallBack\n *\n * @param params\n * @param callback - onload function\n */\nload.parallel = (params, callback) => {\n    if (!params)\n        return load;\n    \n    const funcs = params.map((url) => {\n        return ext.bind(null, url);\n    });\n    \n    exec.parallel(funcs, callback);\n    \n    return load;\n};\n\n/**\n * Функция загружает js-файл\n *\n * @param src\n * @param func\n */\nload.js = (src, func) => {\n    const name = 'script';\n    \n    return load({\n        name,\n        src,\n        func,\n    });\n},\n\nload.css = (src, func) => {\n    const name = 'link';\n    const {head:parent} = document;\n    \n    return load({\n        name,\n        src,\n        parent,\n        func\n    });\n};\n\n/**\n * Функция создаёт елемент style и записывает туда стили\n * @param params - структура параметров, заполняеться таким\n * образом: {src: ' ',func: '', id: '', element: '', inner: ''}\n * все параметры опциональны\n */\nload.style = (params) => {\n    const {\n        id,\n        src,\n        name = 'style',\n        func,\n        inner,\n        parent = document.head,\n        element,\n    } = params;\n    \n    return load({\n        id,\n        src,\n        func,\n        name,\n        inner,\n        parent,\n        element,\n    });\n};\n\n\n//# sourceURL=file://cloudcmd/client/dom/load.js");
/src/cloudcmd.js-108-
##############################################
/src/cloudcmd.js-118-"use strict";
/src/cloudcmd.js:119:eval("\n\n/* global CloudCmd, DOM */\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\n\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nmodule.exports = new RESTful();\n\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\n\nfunction RESTful() {\n    this.delete = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback = data;\n            data = null;\n        }\n        \n        sendRequest({\n            method      : 'DELETE',\n            url         : FS + url,\n            data,\n            callback,\n            imgPosition : { top: !!data }\n        });\n    };\n    \n    this.patch = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback = data;\n            data = null;\n        }\n        \n        const imgPosition = {\n            top: true\n        };\n        \n        sendRequest({\n            method: 'PATCH',\n            url: FS + url,\n            data,\n            callback,\n            imgPosition,\n        });\n    };\n    \n    this.write = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback    = data;\n            data        = null;\n        }\n        \n        sendRequest({\n            method: 'PUT',\n            url: FS + url,\n            data,\n            callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.read = (url, dataType, callback) => {\n        const isQuery = /\\?/.test(url);\n        const isBeautify = /\\?beautify$/.test(url);\n        const isMinify = /\\?minify$/.test(url);\n        const notLog = !isQuery || isBeautify || isMinify;\n        const isFunc = itype.function(dataType);\n        \n        if (!callback && isFunc) {\n            callback = dataType;\n            dataType = 'text';\n        }\n        \n        sendRequest({\n            method: 'GET',\n            url: FS + url,\n            callback,\n            notLog,\n            dataType,\n        });\n    };\n    \n    this.cp = (data, callback) => {\n        sendRequest({\n            method: 'PUT',\n            url: '/cp',\n            data,\n            callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.pack = (data, callback) => {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/pack',\n            data,\n            callback,\n        });\n    };\n    \n    this.extract = function(data, callback) {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/extract',\n            data        : data,\n            callback    : callback\n        });\n    };\n    \n    this.mv = function(data, callback) {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/mv',\n            data        : data,\n            callback    : callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.Config = {\n        read:   function(callback) {\n            sendRequest({\n                method      : 'GET',\n                url         : '/config',\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        },\n        \n        write:  function(data, callback) {\n            sendRequest({\n                method      : 'PATCH',\n                url         : '/config',\n                data        : data,\n                callback    : callback,\n                imgPosition : { top: true }\n            });\n        }\n    };\n    \n    this.Markdown   = {\n        read    : function(url, callback) {\n            sendRequest({\n                method      : 'GET',\n                url         : '/markdown' + url,\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        },\n        \n        render  : function(data, callback) {\n            sendRequest({\n                method      : 'PUT',\n                url         : '/markdown',\n                data        : data,\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        }\n    };\n    \n    function sendRequest(params) {\n        const p = params;\n        const prefixUrl = CloudCmd.PREFIX_URL;\n        \n        p.url = prefixUrl + p.url;\n        p.url = encodeURI(p.url);\n        \n        /*\n         * if we send ajax request -\n         * no need in hash so we escape #\n         */\n        p.url = p.url.replace('#', '%23');\n        \n        load.ajax({\n            method      : p.method,\n            url         : p.url,\n            data        : p.data,\n            dataType    : p.dataType,\n            error       : (jqXHR) => {\n                const response = jqXHR.responseText;\n                const statusText = jqXHR.statusText;\n                const status = jqXHR.status;\n                const text = status === 404 ? response : statusText;\n                \n                Images.show.error(text);\n                setTimeout(() => {\n                    DOM.Dialog.alert(CloudCmd.TITLE, text);\n                }, 100);\n                \n                p.callback(Error(text));\n            },\n            success: (data) => {\n                Images.hide();\n                \n                if (!p.notLog)\n                    CloudCmd.log(data);\n                \n                p.callback(null, data);\n            }\n        });\n    }\n}\n\n\n//# sourceURL=file://cloudcmd/client/dom/rest.js");
/src/cloudcmd.js-120-
##############################################
/src/cloudcmd.js-130-"use strict";
/src/cloudcmd.js:131:eval("\n\n/* global DOM */\n\nlet SelectType = '*.*';\nconst TITLE = 'Cloud Commander';\n\nconst {getRegExp} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nmodule.exports = (msg, files) => {\n    const allMsg = `Specify file type for ${msg} selection`;\n    const cancel = false;\n    const {Dialog} = DOM;\n    \n    Dialog.prompt(TITLE, allMsg, SelectType, {cancel}).then((type) => {\n        SelectType = type;\n        \n        const regExp = getRegExp(type);\n        \n        if (!files)\n            return;\n        \n        let matches = 0;\n        \n        files.forEach((current) => {\n            const name = DOM.getCurrentName(current);\n             \n            if (name === '..')\n                return;\n            \n            const isMatch = regExp.test(name);\n            \n            if (!isMatch)\n                return;\n            \n            ++matches;\n            \n            let isSelected = DOM.isSelected(current);\n            const shouldSel = msg === 'expand';\n             \n            if (shouldSel)\n                isSelected = !isSelected;\n            \n            if (isSelected)\n                DOM.toggleSelectedFile(current);\n        });\n        \n        if (!matches)\n            Dialog.alert('Select Files', 'No matches found!');\n    });\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/select-by-pattern.js");
/src/cloudcmd.js-132-
##############################################
/src/cloudcmd.js-142-"use strict";
/src/cloudcmd.js:143:eval("\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst tryCatch = __webpack_require__(/*! try-catch */ \"./node_modules/try-catch/lib/try-catch.js\");\nconst setItem = localStorage.setItem.bind(localStorage);\n\n/* приватный переключатель возможности работы с кэшем */\nlet Allowed;\n\n/**\n * allow Storage usage\n */\nmodule.exports.setAllowed = (isAllowed) => {\n    Allowed = isAllowed;\n};\n\n/** remove element */\nmodule.exports.remove = (item, callback) => {\n    if (Allowed)\n        localStorage.removeItem(item);\n    \n    exec(callback, null, Allowed);\n    \n    return module.exports;\n};\n\nmodule.exports.removeMatch = (string, callback) => {\n    const reg = RegExp('^' + string + '.*$');\n    const test = (a) => reg.test(a);\n    const remove = (a) => localStorage.removeItem(a);\n    \n    Object.keys(localStorage)\n        .filter(test)\n        .forEach(remove);\n    \n    exec(callback);\n    \n    return module.exports;\n};\n\n/** если доступен localStorage и\n * в нём есть нужная нам директория -\n * записываем данные в него\n */\nmodule.exports.set = (name, data, callback) => {\n    let str, error;\n    \n    if (itype.object(data))\n        str = jonny.stringify(data);\n    \n    if (Allowed && name)\n        [error] = tryCatch(setItem, name, str || data);\n    \n    exec(callback, error);\n    \n    return module.exports;\n},\n\n/** Если доступен Storage принимаем из него данные*/\nmodule.exports.get = (name, callback) => {\n    let ret;\n    \n    if (Allowed)\n        ret = localStorage.getItem(name);\n    \n    exec(callback, null, ret);\n    \n    return module.exports;\n},\n\n/** функция чистит весь кэш для всех каталогов*/\nmodule.exports.clear = (callback) => {\n    const ret = Allowed;\n    \n    if (ret)\n        localStorage.clear();\n    \n    exec(callback, null, ret);\n    \n    return module.exports;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/storage.js");
/src/cloudcmd.js-144-
##############################################
/src/cloudcmd.js-154-"use strict";
/src/cloudcmd.js:155:eval("\n\n/* global CloudCmd */\n\nconst {eachSeries} = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst wraptile = __webpack_require__(/*! wraptile/legacy */ \"./node_modules/wraptile/legacy/index.js\");\n\nconst DOM = __webpack_require__(/*! . */ \"./client/dom/index.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\n\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst onEnd = wraptile(_onEnd);\nconst loadFile = wraptile(_loadFile);\n\nconst {\n    getCurrentDirPath: getPathWhenRootEmpty\n} = DOM;\n\nmodule.exports = (dir, files) => {\n    if (!files) {\n        files = dir;\n        dir = getPathWhenRootEmpty();\n    }\n    \n    const n = files.length;\n    \n    if (!n)\n        return;\n    \n    const array = [...files];\n    const {name} = files[0];\n    \n    eachSeries(array, loadFile(dir, n), onEnd(name));\n};\n\nfunction _onEnd(currentName) {\n    CloudCmd.refresh({\n        currentName\n    });\n}\n\nfunction _loadFile(dir, n, file, callback) {\n    let i = 0;\n    \n    const name = file.name;\n    const path = dir + name;\n    const {PREFIX_URL} = CloudCmd;\n    const api = PREFIX_URL + FS;\n    \n    const percent = (i, n, per = 100) => {\n        return Math.round(i * per / n);\n    };\n    \n    const step = (n) => 100 / n;\n    \n    ++i;\n    \n    load.put(api + path, file)\n        .on('end', callback)\n        .on('progress', (count) => {\n            const max = step(n);\n            const value = (i - 1) * max + percent(count, 100, max);\n            \n            Images.show.load('top');\n            Images.setProgress(Math.round(value));\n        });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/upload-files.js");
/src/cloudcmd.js-156-
##############################################
/src/cloudcmd.js-166-"use strict";
/src/cloudcmd.js:167:eval("\n\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst store = __webpack_require__(/*! fullstore/legacy */ \"./node_modules/fullstore/legacy/index.js\");\nconst Entity = __webpack_require__(/*! ./entity */ \"./common/entity.js\");\n\nconst getHeaderField = currify(_getHeaderField);\n\n/* КОНСТАНТЫ (общие для клиента и сервера)*/\n\n/* название программы */\nconst NAME = 'Cloud Commander';\nconst FS = '/fs';\n\nconst Path = store();\n\nPath('/');\n\nmodule.exports.FS = FS;\nmodule.exports.apiURL = '/api/v1';\nmodule.exports.MAX_FILE_SIZE = 500 * 1024;\nmodule.exports.Entity = Entity;\nmodule.exports.getHeaderField = getHeaderField;\nmodule.exports.getPathLink = getPathLink;\nmodule.exports.getDotDot = getDotDot;\n\nmodule.exports.formatMsg = (msg, name, status) => {\n    status = status || 'ok';\n    name = name || '';\n    \n    if (name)\n        name = '(\"' + name + '\")';\n    \n    return msg + ': ' + status + name;\n};\n\n/**\n * Функция возвращает заголовок веб страницы\n * @path\n */\nmodule.exports.getTitle = (options) => {\n    options = options || {};\n    \n    const path = options.path || Path();\n    const name = options.name;\n    \n    const array = [\n        name || NAME,\n        path,\n    ];\n    \n    return array\n        .filter(Boolean)\n        .join(' - ');\n};\n\n/** Функция получает адреса каждого каталога в пути\n * возвращаеться массив каталогов\n * @param url -  адрес каталога\n */\nfunction getPathLink(url, prefix, template) {\n    if (!url)\n        throw Error('url could not be empty!');\n    \n    if (!template)\n        throw Error('template could not be empty!');\n    \n    const names = url\n        .split('/')\n        .slice(1, -1);\n    \n    const allNames = ['/'].concat(names);\n    const length = allNames.length - 1;\n    \n    let path = '/';\n    \n    const pathHTML = allNames.map((name, index) => {\n        const isLast = index === length;\n        \n        if (index)\n            path += name + '/';\n        \n        if (index && isLast)\n            return name + '/';\n        \n        const slash = index ? '/' : '';\n        \n        return rendy(template, {\n            path,\n            name,\n            slash,\n            prefix,\n        });\n    }).join('');\n    \n    return pathHTML;\n}\n\n/**\n * Функция строит таблицу файлв из JSON-информации о файлах\n * @param params - информация о файлах\n *\n */\nmodule.exports.buildFromJSON = (params) => {\n    const prefix = params.prefix;\n    const template = params.template;\n    const templateFile = template.file;\n    const templateLink = template.link;\n    const json = params.data;\n    \n    const path = json.path;\n    const files = json.files;\n    \n    const sort = params.sort || 'name';\n    const order = params.order || 'asc';\n    \n    /*\n     * Строим путь каталога в котором мы находимся\n     * со всеми подкаталогами\n     */\n    const htmlPath = getPathLink(path, prefix, template.pathLink);\n    \n    let fileTable = rendy(template.path, {\n        link        : prefix + FS + path,\n        fullPath    : path,\n        path        : htmlPath\n    });\n    \n    const owner = 'owner';\n    const mode = 'mode';\n    \n    const getFieldName = getHeaderField(sort, order);\n    \n    const name = getFieldName('name');\n    const size = getFieldName('size');\n    const date = getFieldName('date');\n    \n    const header = rendy(templateFile, {\n        tag         : 'div',\n        attribute   : 'data-name=\"js-fm-header\" ',\n        className   : 'fm-header',\n        type        : '',\n        name,\n        size,\n        date,\n        owner,\n        mode,\n    });\n    \n    /* сохраняем путь */\n    Path(path);\n    \n    fileTable += header + '<ul data-name=\"js-files\" class=\"files\">';\n    /* Если мы не в корне */\n    if (path !== '/') {\n        const dotDot = getDotDot(path);\n        const link = prefix + FS + dotDot;\n        \n        const linkResult = rendy(template.link, {\n            link,\n            title       : '..',\n            name        : '..'\n        });\n        \n        const dataName = 'data-name=\"js-file-..\" ';\n        const attribute = 'draggable=\"true\" ' + dataName;\n        \n        /* Сохраняем путь к каталогу верхнего уровня*/\n        fileTable += rendy(template.file, {\n            tag         : 'li',\n            attribute,\n            className   : '',\n            type        : 'directory',\n            name        : linkResult,\n            size        : '&lt;dir&gt;',\n            date        : '--.--.----',\n            owner       : '.',\n            mode        : '--- --- ---'\n        });\n    }\n    \n    fileTable += files.map((file) => {\n        const link = prefix + FS + path + file.name;\n        \n        const type = getType(file.size);\n        const size = getSize(file.size);\n        \n        const date = file.date || '--.--.----';\n        const owner = file.owner || 'root';\n        const mode = file.mode;\n        \n        const linkResult = rendy(templateLink, {\n            link,\n            title: file.name,\n            name: Entity.encode(file.name),\n            attribute: getAttribute(file.size)\n        });\n        \n        const dataName = 'data-name=\"js-file-' + file.name + '\" ';\n        const attribute = 'draggable=\"true\" ' + dataName;\n        \n        return rendy(templateFile, {\n            tag: 'li',\n            attribute,\n            className: '',\n            type,\n            name: linkResult,\n            size,\n            date,\n            owner,\n            mode,\n        });\n    }).join('');\n    \n    fileTable += '</ul>';\n    \n    return fileTable;\n};\n\nfunction getType(size) {\n    if (size === 'dir')\n        return 'directory';\n    \n    return 'text-file';\n}\n\nfunction getAttribute(size) {\n    if (size === 'dir')\n        return '';\n    \n    return 'target=\"_blank\" ';\n}\n\nfunction getSize(size) {\n    if (size === 'dir')\n        return '&lt;dir&gt;';\n    \n    return size;\n}\n\nfunction _getHeaderField(sort, order, name) {\n    const arrow = order === 'asc' ?  '↑' : '↓';\n    \n    if (sort !== name)\n        return name;\n    \n    if (sort === 'name' && order === 'asc')\n        return name;\n    \n    return `${name}${arrow}`;\n}\n\nfunction getDotDot(path) {\n    // убираем последний слеш и каталог в котором мы сейчас находимся\n    const lastSlash = path.substr(path, path.lastIndexOf('/'));\n    const dotDot = lastSlash.substr(lastSlash, lastSlash.lastIndexOf('/'));\n    \n    if (!dotDot)\n        return '/';\n    \n    return dotDot;\n}\n\n\n\n//# sourceURL=file://cloudcmd/common/cloudfunc.js");
/src/cloudcmd.js-168-
##############################################
/src/cloudcmd.js-178-"use strict";
/src/cloudcmd.js:179:eval("\n\nconst Entities = {\n    '&nbsp;': ' ',\n    '&lt;': '<',\n    '&gt;': '>',\n};\n\nconst keys = Object.keys(Entities);\n\nmodule.exports.encode = (str) => {\n    keys.forEach((code) => {\n        const char = Entities[code];\n        const reg = RegExp(char, 'g');\n        \n        str = str.replace(reg, code);\n    });\n    \n    return str;\n};\n\nmodule.exports.decode = (str) => {\n    keys.forEach((code) => {\n        const char = Entities[code];\n        const reg = RegExp(code, 'g');\n        \n        str = str.replace(reg, char);\n    });\n    \n    return str;\n};\n\n\n\n//# sourceURL=file://cloudcmd/common/entity.js");
/src/cloudcmd.js-180-
##############################################
/src/cloudcmd.js-190-"use strict";
/src/cloudcmd.js:191:eval("\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nmodule.exports.getStrBigFirst = getStrBigFirst;\nmodule.exports.kebabToCamelCase = kebabToCamelCase;\n\nmodule.exports.escapeRegExp = (str) => {\n    const isStr = typeof str === 'string';\n    \n    if (isStr)\n        str = str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    \n    return str;\n};\n\n/**\n * get regexp from wild card\n */\nmodule.exports.getRegExp = (wildcard) => {\n    wildcard = wildcard || '*';\n    \n    const escaped = '^' + wildcard // search from start of line\n        .replace('.', '\\\\.')\n        .replace('*', '.*')\n        .replace('?', '.?') + '$'; // search to end of line\n    \n    return RegExp(escaped);\n};\n\nmodule.exports.exec = exec;\n\n/**\n * function gets file extension\n *\n * @param name\n * @return ext\n */\nmodule.exports.getExt = (name) => {\n    const isStr = typeof name === 'string';\n    \n    if (!isStr)\n        return '';\n    \n    const dot = name.lastIndexOf('.');\n    \n    if (~dot)\n        return name.substr(dot);\n    \n    return '';\n};\n\n/**\n * find object by name in arrray\n *\n * @param array\n * @param name\n */\nmodule.exports.findObjByNameInArr = (array, name) => {\n    let ret;\n    \n    if (!Array.isArray(array))\n        throw Error('array should be array!');\n        \n    if (typeof name !== 'string')\n        throw Error('name should be string!');\n    \n    array.some((item) => {\n        let is = item.name === name;\n        const isArray = Array.isArray(item);\n        \n        if (is) {\n            ret = item;\n            return is;\n        }\n        \n        if (!isArray)\n            return is;\n        \n        return item.some((item) => {\n            const is = item.name === name;\n            \n            if (is)\n                ret = item.data;\n            \n            return is;\n        });\n    });\n    \n    return ret;\n};\n\n/**\n * start timer\n * @param name\n */\nmodule.exports.time = (name) => {\n    exec.ifExist(console, 'time', [name]);\n};\n\n/**\n * stop timer\n * @param name\n */\nmodule.exports.timeEnd = (name) => {\n    exec.ifExist(console, 'timeEnd', [name]);\n};\n\nfunction getStrBigFirst(str) {\n    if (!str)\n        throw Error('str could not be empty!');\n    \n    const first = str[0].toUpperCase();\n    \n    return first + str.slice(1);\n}\n\nfunction kebabToCamelCase(str) {\n    if (!str)\n        throw Error('str could not be empty!');\n    \n    return str\n        .split('-')\n        .map(getStrBigFirst)\n        .join('')\n        .replace(/.js$/, '');\n}\n\n\n\n//# sourceURL=file://cloudcmd/common/util.js");
/src/cloudcmd.js-192-
##############################################
/src/cloudcmd.js-202-"use strict";
/src/cloudcmd.js:203:eval("\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar tail = function tail(list) {\n    return slice(list, 1);\n};\n\nmodule.exports = apart;\n\nfunction apart(fn) {\n    check(fn);\n\n    var first = tail(arguments);\n\n    return function () {\n        var args = [].concat(_toConsumableArray(first), Array.prototype.slice.call(arguments));\n\n        return fn.apply(undefined, _toConsumableArray(args));\n    };\n}\n\nfunction slice(list, from, to) {\n    return [].slice.call(list, from, to);\n}\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/apart/lib/apart.js");
/src/cloudcmd.js-204-
##############################################
/src/cloudcmd.js-213-
/src/cloudcmd.js:214:eval("module.exports = __webpack_require__(/*! ./lib/currify */ \"./node_modules/currify/legacy/lib/currify.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/currify/legacy/index.js");
/src/cloudcmd.js-215-
##############################################
/src/cloudcmd.js-225-"use strict";
/src/cloudcmd.js:226:eval("\n\nvar f = function f(fn) {\n    return [\n    /*eslint no-unused-vars: 0*/\n    function (a) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d, e) {\n        return fn.apply(undefined, arguments);\n    }];\n};\n\nmodule.exports = function currify(fn) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    check(fn);\n\n    if (args.length >= fn.length) return fn.apply(undefined, args);\n\n    var again = function again() {\n        return currify.apply(undefined, [fn].concat(args, Array.prototype.slice.call(arguments)));\n    };\n\n    var count = fn.length - args.length - 1;\n    var func = f(again)[count];\n\n    return func || again;\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/currify/legacy/lib/currify.js");
/src/cloudcmd.js-227-
##############################################
/src/cloudcmd.js-237-"use strict";
/src/cloudcmd.js:238:eval("\n\nvar Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\n\nmodule.exports = function (entry) {\n    var emitter = Emitify();\n\n    setTimeout(function () {\n        FindIt(emitter, entry);\n    }, 0);\n\n    return emitter;\n};\n\nfunction FindIt(emitter, entry) {\n    if (!(this instanceof FindIt)) return new FindIt(emitter, entry);\n\n    this._dirs = 0;\n    this._first = true;\n\n    this._find(emitter, entry);\n}\n\nFindIt.prototype._find = function (emitter, entry) {\n    var _this = this;\n\n    if (entry.isFile) {\n        emitter.emit('file', entry.fullPath, entry);\n\n        if (this._first) emitter.emit('end');\n\n        return;\n    }\n\n    if (this._first) this._first = false;\n\n    emitter.emit('directory', entry.fullPath, entry);\n\n    ++this._dirs;\n\n    entry.createReader().readEntries(function (entries) {\n        [].forEach.call(entries, function (entry) {\n            _this._find(emitter, entry);\n        });\n\n        --_this._dirs;\n\n        if (!_this._dirs) emitter.emit('end');\n    });\n};\n\n//# sourceURL=file://cloudcmd/node_modules/domfs-findit/legacy/findit.js");
/src/cloudcmd.js-239-
##############################################
/src/cloudcmd.js-248-
/src/cloudcmd.js:249:eval("module.exports = __webpack_require__(/*! ./lib/emitify */ \"./node_modules/emitify/legacy/lib/emitify.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/emitify/legacy/index.js");
/src/cloudcmd.js-250-
##############################################
/src/cloudcmd.js-260-"use strict";
/src/cloudcmd.js:261:eval("\n\nmodule.exports = Emitify;\n\nfunction Emitify() {\n    if (!(this instanceof Emitify)) return new Emitify();\n\n    this._all = {};\n}\n\nEmitify.prototype.on = function (event, callback) {\n    var funcs = this._all[event];\n\n    check(event, callback);\n\n    if (funcs) funcs.push(callback);else this._all[event] = [callback];\n\n    return this;\n};\n\nEmitify.prototype.addListener = Emitify.prototype.on;\n\nEmitify.prototype.once = function (event, callback) {\n    var self = this;\n\n    check(event, callback);\n\n    self.on(event, function fn() {\n        callback.apply(null, arguments);\n        self.off(event, fn);\n    });\n\n    return this;\n};\n\nEmitify.prototype.off = function (event, callback) {\n    var events = this._all[event] || [];\n    var index = events.indexOf(callback);\n\n    check(event, callback);\n\n    while (~index) {\n        events.splice(index, 1);\n        index = events.indexOf(callback);\n    }\n\n    return this;\n};\n\nEmitify.prototype.removeListener = Emitify.prototype.off;\n\nEmitify.prototype.emit = function (event) {\n    var args = [].slice.call(arguments, 1);\n    var funcs = this._all[event];\n\n    checkEvent(event);\n\n    if (!funcs && event === 'error') throw args[0];\n\n    if (!funcs) return this;\n\n    funcs.forEach(function (fn) {\n        fn.apply(null, args);\n    });\n\n    return this;\n};\n\nEmitify.prototype.removeAllListeners = function (event) {\n    checkEvent(event);\n\n    this._all[event] = [];\n\n    return this;\n};\n\nfunction checkEvent(event) {\n    if (typeof event !== 'string') throw Error('event should be string!');\n}\n\nfunction checkFn(callback) {\n    if (typeof callback !== 'function') throw Error('callback should be function!');\n}\n\nfunction check(event, callback) {\n    checkEvent(event);\n    checkFn(callback);\n}\n\n//# sourceURL=file://cloudcmd/node_modules/emitify/legacy/lib/emitify.js");
/src/cloudcmd.js-262-
##############################################
/src/cloudcmd.js-271-
/src/cloudcmd.js:272:eval("(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports = new ExecProto();\n    else\n        global.exec = new ExecProto();\n        \n    function ExecProto() {\n        var slice = Array.prototype.slice,\n            /**\n             * function do save exec of function\n             * @param callback\n             * @param arg1\n             * ...\n             * @param argN\n             */\n            exec        = function(callback) {\n                var ret,\n                    isFunc  = typeof callback === 'function',\n                    args    = slice.call(arguments, 1);\n               \n                if (isFunc)\n                    ret     = callback.apply(null, args);\n                \n                return ret;\n            };\n        \n        /*\n         * return function that calls callback with arguments\n         */\n        exec.with           =  function(callback) {\n            var slice   = Array.prototype.slice,\n                args    = slice.call(arguments, 1);\n            \n            return function() {\n                var array   = slice.call(arguments), \n                    all     = args.concat(array);\n                \n                return callback.apply(null, all);\n            };\n        };\n         \n         /**\n         * return save exec function\n         * @param callback\n         */\n        exec.ret        = function() {\n            var result,\n                args        = slice.call(arguments);\n            \n            args.unshift(exec);\n            result          = exec.with.apply(null, args);\n            \n            return result;\n        };\n        \n        /**\n         * function do conditional save exec of function\n         * @param condition\n         * @param callback\n         * @param func\n         */\n        exec.if         = function(condition, callback, func) {\n            var ret;\n            \n            if (condition)\n                exec(callback);\n            else\n                exec(func, callback);\n            \n            return ret;\n        };\n        \n        /**\n         * exec function if it exist in object\n         * \n         * @param obj\n         * @param name\n         * @param arg\n         */\n        exec.ifExist                = function(obj, name, arg) {\n            var ret,\n                func    = obj && obj[name];\n            \n            if (func)\n                func    = func.apply(obj, arg);\n            \n            return ret;\n        };\n        \n        exec.parallel   = function(funcs, callback) {\n            var ERROR       = 'could not be empty!',\n                keys        = [],\n                callbackWas = false,\n                arr         = [],\n                obj         = {},\n                count       = 0,\n                countFuncs  = 0,\n                type        = getType(funcs);\n            \n            if (!funcs)\n                throw Error('funcs ' + ERROR);\n            \n            if (!callback)\n                throw Error('callback ' + ERROR);\n            \n            switch(type) {\n            case 'array':\n                countFuncs  = funcs.length;\n                \n                funcs.forEach(function(func, num) {\n                    exec(func, function() {\n                        checkFunc(num, arguments);\n                    });\n                });\n                break;\n            \n            case 'object':\n                keys        = Object.keys(funcs);\n                countFuncs  = keys.length;\n                \n                keys.forEach(function(name) {\n                    var func    = funcs[name];\n                    \n                    exec(func, function() {\n                        checkFunc(name, arguments, obj);\n                    });\n                });\n                break;\n            }\n            \n            function checkFunc(num, data) {\n                var args    = slice.call(data, 1),\n                    isLast  = false,\n                    error   = data[0],\n                    length  = args.length;\n                \n                ++count;\n                \n                isLast = count === countFuncs;\n                \n                if (!error)\n                    if (length >= 2)\n                        arr[num] = args;\n                    else\n                        arr[num] = args[0];\n                \n                if (!callbackWas && (error || isLast)) {\n                    callbackWas = true;\n                    \n                    if (type === 'array')\n                        callback.apply(null, [error].concat(arr));\n                    else\n                        callback(error, arr);\n                }\n            }\n        };\n        \n        /**\n         * load functions thrue callbacks one-by-one\n         * @param funcs {Array} - array of functions\n         */\n        exec.series             = function(funcs, callback) {\n            var fn,\n                i           = funcs.length,\n                check       = function(error) {\n                    var done;\n                    \n                    --i;\n                    \n                    if (!i || error) {\n                        done = true;\n                        exec(callback, error);\n                    }\n                    \n                    return done;\n                };\n            \n            if (!Array.isArray(funcs))\n                throw Error('funcs should be array!');\n            \n            fn = funcs.shift();\n            \n            exec(fn, function(error) {\n                if (!check(error))\n                    exec.series(funcs, callback);\n            });\n        };\n        \n        exec.each               = function(array, iterator, callback) {\n            var listeners = array.map(function(item) {\n                return iterator.bind(null, item);\n            });\n            \n            if (!listeners.length)\n                callback();\n            else\n                exec.parallel(listeners, callback);\n        };\n            \n        exec.eachSeries         = function(array, iterator, callback) {\n            var listeners = array.map(function(item) {\n                return iterator.bind(null, item);\n            });\n            \n            if (typeof callback !== 'function')\n                throw Error('callback should be function');\n            \n            if (!listeners.length)\n                callback();\n            else\n                exec.series(listeners, callback);\n        };\n        \n       /**\n         * function execute param function in\n         * try...catch block\n         * \n         * @param callback\n         */\n        exec.try                = function(callback) {\n            var ret;\n            try {\n                ret = callback();\n            } catch(error) {\n                ret = error;\n            }\n            \n            return ret;\n        };\n        \n        function getType(variable) {\n            var regExp      = new RegExp('\\\\s([a-zA-Z]+)'),\n                str         = {}.toString.call(variable),\n                typeBig     = str.match(regExp)[1],\n                result      = typeBig.toLowerCase();\n            \n            return result;\n        } \n        \n        return exec;\n    }\n})(this);\n\n\n//# sourceURL=file://cloudcmd/node_modules/execon/lib/exec.js");
/src/cloudcmd.js-273-
##############################################
/src/cloudcmd.js-282-
/src/cloudcmd.js:283:eval("(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports  = new FormatProto();\n    else\n        global.Format   = new FormatProto();\n        \n    function FormatProto() {\n        this.addSlashToEnd  = function(path) {\n            var length, isSlash;\n            \n            if (path) {\n                length  = path.length - 1;\n                isSlash = path[length] === '/';\n                \n                if (!isSlash)\n                    path += '/';\n            }\n            \n            return path;\n        };\n        \n        /** Функция получает короткие размеры\n         * конвертируя байт в килобайты, мегабойты,\n         * гигайбайты и терабайты\n         * @pSize - размер в байтах\n         */\n        this.size    = function(size) {\n            var isNumber    = typeof size === 'number',\n                l1KB        = 1024,\n                l1MB        = l1KB * l1KB,\n                l1GB        = l1MB * l1KB,\n                l1TB        = l1GB * l1KB,\n                l1PB        = l1TB * l1KB;\n            \n            if (isNumber) {\n                if      (size < l1KB)   size = size + 'b';\n                else if (size < l1MB)   size = (size / l1KB).toFixed(2) + 'kb';\n                else if (size < l1GB)   size = (size / l1MB).toFixed(2) + 'mb';\n                else if (size < l1TB)   size = (size / l1GB).toFixed(2) + 'gb';\n                else if (size < l1PB)   size = (size / l1TB).toFixed(2) + 'tb';\n                else                    size = (size / l1PB).toFixed(2) + 'pb';\n            }\n            \n            return size;\n        };\n        \n        /**\n         * Функция переводит права из цыфрового вида в символьный\n         * @param perms - строка с правами доступа\n         * к файлу в 8-миричной системе\n         */\n        this.permissions = {\n            symbolic: function(perms) {\n                var type, owner, group, all,\n                    is              = typeof perms !== undefined,\n                    permsStr        = '',\n                    permissions     = '';\n                /*\n                    S_IRUSR   0000400   protection: readable by owner\n                    S_IWUSR   0000200   writable by owner\n                    S_IXUSR   0000100   executable by owner\n                    S_IRGRP   0000040   readable by group\n                    S_IWGRP   0000020   writable by group\n                    S_IXGRP   0000010   executable by group\n                    S_IROTH   0000004   readable by all\n                    S_IWOTH   0000002   writable by all\n                    S_IXOTH   0000001   executable by all\n                */\n                \n                if (is) {\n                    permsStr = perms.toString();\n                    /* тип файла */\n                    type = permsStr.charAt(0);\n                    \n                    switch (type - 0) {\n                        case 1: /* обычный файл */\n                            type = '-';\n                            break;\n                        case 2: /* байт-ориентированное (символьное) устройство*/\n                            type = 'c';\n                            break;\n                        case 4: /* каталог */\n                            type = 'd';\n                            break;\n                        default:\n                            type = '-';\n                    }\n                    \n                    /* оставляем последние 3 символа*/\n                    if (permsStr.length > 5)\n                        permsStr = permsStr.substr(3);\n                    else\n                        permsStr = permsStr.substr(2);\n                    \n                    /* Рекомендации гугла советуют вместо string[3]\n                     * использовать string.charAt(3)\n                     */\n                    /*\n                        http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml?showone=Standards_features#Standards_features\n                        \n                        Always preferred over non-standards featuresFor\n                        maximum portability and compatibility, always\n                        prefer standards features over non-standards\n                        features (e.g., string.charAt(3) over string[3]\n                        and element access with DOM functions instead\n                        of using an application-specific shorthand).\n                    */\n                    /* Переводим в двоичную систему */\n                    owner = (permsStr[0] - 0).toString(2),\n                    group = (permsStr[1] - 0).toString(2),\n                    all   = (permsStr[2] - 0).toString(2),\n                    \n                    /* переводим в символьную систему*/\n                    permissions =\n                                 (owner[0] - 0 > 0 ? 'r' : '-')     +\n                                 (owner[1] - 0 > 0 ? 'w' : '-')     +\n                                 (owner[2] - 0 > 0 ? 'x' : '-')     +\n                                 ' '                                +\n                                 (group[0] - 0 > 0 ? 'r' : '-')     +\n                                 (group[1] - 0 > 0 ? 'w' : '-')     +\n                                 (group[2] - 0 > 0 ? 'x' : '-')     +\n                                 ' '                                +\n                                 (all[0] - 0    > 0 ? 'r' : '-')     +\n                                 (all[1] - 0    > 0 ? 'w' : '-')     +\n                                 (all[2] - 0    > 0 ? 'x' : '-');\n                }\n                \n                return permissions;\n            },\n            \n            /**\n             * Функция конвертирует права доступа к файлам из символьного вида\n             * в цыфровой\n             */\n            numeric: function(perms) {\n                var owner, group, all,\n                    length          = perms && perms.length === 11;\n                \n                if (length) {\n                    owner   = (perms[0]  === 'r' ? 4 : 0) +\n                              (perms[1]  === 'w' ? 2 : 0) +\n                              (perms[2]  === 'x' ? 1 : 0),\n                                \n                    group   = (perms[4]  === 'r' ? 4 : 0) +\n                              (perms[5]  === 'w' ? 2 : 0) +\n                              (perms[6]  === 'x' ? 1 : 0),\n                            \n                    all     = (perms[8]  === 'r' ? 4 : 0) +\n                              (perms[9]  === 'w' ? 2 : 0) +\n                              (perms[10] === 'x' ? 1 : 0);\n                    \n                    /* добавляем 2 цифры до 5 */\n                    perms   = '00' + owner + group + all;\n                }\n                \n                return perms;\n            }\n        };\n    }\n    \n})(this);\n\n\n//# sourceURL=file://cloudcmd/node_modules/format-io/lib/format.js");
/src/cloudcmd.js-284-
##############################################
/src/cloudcmd.js-293-
/src/cloudcmd.js:294:eval("module.exports = __webpack_require__(/*! ./lib/fullstore */ \"./node_modules/fullstore/legacy/lib/fullstore.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/fullstore/legacy/index.js");
/src/cloudcmd.js-295-
##############################################
/src/cloudcmd.js-305-"use strict";
/src/cloudcmd.js:306:eval("\n\nmodule.exports = function (value) {\n    var data = {\n        value: value\n    };\n\n    return function (value) {\n        if (!arguments.length) return data.value;\n\n        data.value = value;\n\n        return value;\n    };\n};\n\n//# sourceURL=file://cloudcmd/node_modules/fullstore/legacy/lib/fullstore.js");
/src/cloudcmd.js-307-
##############################################
/src/cloudcmd.js-316-
/src/cloudcmd.js:317:eval("if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n//# sourceURL=file://cloudcmd/node_modules/inherits/inherits_browser.js");
/src/cloudcmd.js-318-
##############################################
/src/cloudcmd.js-327-
/src/cloudcmd.js:328:eval("module.exports = __webpack_require__(/*! ./lib/itchy */ \"./node_modules/itchy/legacy/lib/itchy.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/itchy/legacy/index.js");
/src/cloudcmd.js-329-
##############################################
/src/cloudcmd.js-339-"use strict";
/src/cloudcmd.js:340:eval("\n\nmodule.exports = function (array, iterator, done) {\n    check(array, iterator, done);\n    \n    var i = -1;\n    var n = array.length;\n    \n    var loop = function (e) {\n       ++i;\n       \n       if (e || i === n)\n           { return done(e); }\n       \n       iterator(array[i], loop);\n    };\n    \n    loop();\n}\n\nfunction check(array, iterator, done) {\n    if (!Array.isArray(array))\n        { throw Error('array should be an array!'); }\n    \n    if (typeof iterator !== 'function')\n        { throw Error('iterator should be a function!'); }\n    \n    if (typeof done !== 'function')\n        { throw Error('done should be a function!'); }\n}\n\n\n\n//# sourceURL=file://cloudcmd/node_modules/itchy/legacy/lib/itchy.js");
/src/cloudcmd.js-341-
##############################################
/src/cloudcmd.js-350-
/src/cloudcmd.js:351:eval("module.exports = __webpack_require__(/*! ./lib/itype */ \"./node_modules/itype/legacy/lib/itype.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/itype/legacy/index.js");
/src/cloudcmd.js-352-
##############################################
/src/cloudcmd.js-362-"use strict";
/src/cloudcmd.js:363:eval("\n\nmodule.exports = new TypeProto();\n\nfunction TypeProto() {\n    /**\n     * get type of variable\n     *\n     * @param variable\n     */\n    function type(variable) {\n        var regExp = /\\s([a-zA-Z]+)/;\n        var str = {}.toString.call(variable);\n        var typeBig = str.match(regExp)[1];\n        var result = typeBig.toLowerCase();\n        \n        return result;\n    }\n    \n    /**\n     * functions check is variable is type of name\n     *\n     * @param variable\n     */\n    function typeOf(name, variable) {\n        return type(variable) === name;\n    }\n    \n    function typeOfSimple(name, variable) {\n        return typeof variable === name;\n    }\n    \n    ['arrayBuffer', 'file', 'array', 'object']\n        .forEach(function (name) {\n            type[name] = typeOf.bind(null, name);\n        });\n    \n    ['null', 'string', 'undefined', 'boolean', 'number', 'function']\n        .forEach(function (name) {\n            type[name] = typeOfSimple.bind(null, name);\n        });\n    \n    return type;\n}\n\n\n\n//# sourceURL=file://cloudcmd/node_modules/itype/legacy/lib/itype.js");
/src/cloudcmd.js-364-
##############################################
/src/cloudcmd.js-373-
/src/cloudcmd.js:374:eval("/* WEBPACK VAR INJECTION */(function(global) {(function(scope) {\n    'use strict';\n    \n    var Scope   = scope.window ? window : global,\n        \n        PREFIX  = '/join';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports  = join;\n    else\n        Scope.join      = join;\n    \n    function join (prefix, names) {\n        var url;\n        \n        if (!names) {\n            names   = prefix;\n            prefix  = PREFIX;\n        }\n        \n        if (!names)\n            throw(Error('names must be array!'));\n        \n        url = prefix + ':' + names.join(':');\n        \n        return url;\n    }\n    \n})(this);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=file://cloudcmd/node_modules/join-io/www/join.js");
/src/cloudcmd.js-375-
##############################################
/src/cloudcmd.js-384-
/src/cloudcmd.js:385:eval("module.exports = __webpack_require__(/*! ./jonny */ \"./node_modules/jonny/legacy/jonny.js\")\n\n\n//# sourceURL=file://cloudcmd/node_modules/jonny/legacy/index.js");
/src/cloudcmd.js-386-
##############################################
/src/cloudcmd.js-396-"use strict";
/src/cloudcmd.js:397:eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar tryCatch = __webpack_require__(/*! try-catch */ \"./node_modules/try-catch/lib/try-catch.js\");\n\nvar parse = JSON.parse,\n    stringify = JSON.stringify;\n\n\nmodule.exports.parse = function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    var _tryCatch = tryCatch.apply(undefined, [parse].concat(args)),\n        _tryCatch2 = _slicedToArray(_tryCatch, 2),\n        data = _tryCatch2[1];\n\n    return data;\n};\n\nmodule.exports.stringify = function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n    }\n\n    var _tryCatch3 = tryCatch.apply(undefined, [stringify].concat(args)),\n        _tryCatch4 = _slicedToArray(_tryCatch3, 2),\n        data = _tryCatch4[1];\n\n    return data;\n};\n\n//# sourceURL=file://cloudcmd/node_modules/jonny/legacy/jonny.js");
/src/cloudcmd.js-398-
##############################################
/src/cloudcmd.js-408-"use strict";
/src/cloudcmd.js:409:eval("\n\nvar somefilter = __webpack_require__(/*! somefilter/legacy */ \"./node_modules/somefilter/legacy/index.js\");\nvar limier = somefilter([findByAbr, findByName]);\n\nmodule.exports = function (pattern, list) {\n    check(pattern, list);\n\n    return limier(pattern, list) || [];\n};\n\nfunction findByName(str, names) {\n    return names.filter(function (name) {\n        return name.includes(str);\n    });\n}\n\nfunction findByAbr(str, names) {\n    var regstr = str.split('').join('.*') + '.*';\n    var regexp = RegExp('^' + regstr + '$', 'i');\n\n    return names.filter(function (name) {\n        return regexp.test(name);\n    });\n}\n\nfunction check(pattern, list) {\n    if (typeof pattern !== 'string') throw Error('pattern should be string!');\n\n    if (!Array.isArray(list)) throw Error('list should be an array!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/limier/lib/limier.js");
/src/cloudcmd.js-410-
##############################################
/src/cloudcmd.js-420-"use strict";
/src/cloudcmd.js:421:eval("\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar findit = __webpack_require__(/*! domfs-findit */ \"./node_modules/domfs-findit/legacy/findit.js\");\nvar Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\nvar itchy = __webpack_require__(/*! itchy/legacy */ \"./node_modules/itchy/legacy/index.js\");\nvar inherits = __webpack_require__(/*! inherits */ \"./node_modules/inherits/inherits_browser.js\");\n\nmodule.exports = Philip;\n\ninherits(Philip, Emitify);\n\nfunction Philip(entries, processingFn) {\n    var _this = this;\n\n    if (!(this instanceof Philip)) return new Philip(entries, processingFn);\n\n    if (typeof processingFn !== 'function') throw Error('processingFn should be function!');\n\n    Emitify.call(this);\n\n    var array = Array.isArray(entries) ? entries : [entries];\n\n    this._i = 0;\n    this._n = 0;\n    this._processingFn = processingFn;\n    this._pause = false;\n    this._prev = 0;\n\n    this._find(array, function (files, dirs) {\n        _this._files = files;\n        _this._dirs = dirs;\n        _this._n = files.length + dirs.length;\n        _this._data = {};\n\n        _this._getFiles(files, _this._data, function () {\n            _this._process();\n        });\n    });\n}\n\nPhilip.prototype._process = function () {\n    var _this2 = this;\n\n    var argsLength = this._processingFn.length;\n    var fn = function fn(error) {\n        ++_this2._i;\n\n        if (error) {\n            _this2.emit('error', error);\n            _this2.pause();\n        }\n\n        _this2._process();\n        _this2._progress();\n    };\n\n    var data = void 0;\n    var name = this._dirs.shift();\n    var type = 'directory';\n\n    if (!name) {\n        type = 'file';\n        var el = this._files.shift();\n\n        if (el) {\n            name = el.fullPath;\n            data = this._data[name];\n        }\n    }\n\n    if (!name) return this.emit('end');\n\n    var args = void 0;\n    if (!this._pause) {\n        switch (argsLength) {\n            default:\n                args = [type, name, data];\n                break;\n\n            case 6:\n                args = [type, name, data, this._i, this._n];\n                break;\n        }\n\n        args.push(fn);\n\n        this._processingFn.apply(this, _toConsumableArray(args));\n    }\n};\n\nPhilip.prototype.pause = function () {\n    this._pause = true;\n};\n\nPhilip.prototype.continue = function () {\n    if (this._pause) {\n        this._pause = false;\n        this._process();\n    }\n};\n\nPhilip.prototype.abort = function () {\n    this._files = [];\n    this._dirs = [];\n\n    this._process();\n};\n\nPhilip.prototype._progress = function () {\n    var value = Math.round(this._i * 100 / this._n);\n\n    if (value !== this._prev) {\n        this._prev = value;\n        this.emit('progress', value);\n    }\n};\n\nPhilip.prototype._getFiles = function (files, obj, callback) {\n    var _this3 = this;\n\n    var filesList = files.slice();\n    var current = filesList.shift();\n\n    if (!current) return callback(null, obj);\n\n    current.file(function (file) {\n        var name = current.fullPath;\n\n        obj[name] = file;\n\n        _this3._getFiles(filesList, obj, callback);\n    });\n};\n\nPhilip.prototype._find = function (entries, fn) {\n    var files = [];\n    var dirs = [];\n\n    itchy(entries, function (entry, callback) {\n        var finder = findit(entry);\n\n        finder.on('directory', function (name) {\n            dirs.push(name);\n        });\n\n        finder.on('file', function (name, current) {\n            files.push(current);\n        });\n\n        finder.on('end', function () {\n            callback();\n        });\n    }, function () {\n        fn(files, dirs);\n    });\n};\n\n//# sourceURL=file://cloudcmd/node_modules/philip/legacy/philip.js");
/src/cloudcmd.js-422-
##############################################
/src/cloudcmd.js-431-
/src/cloudcmd.js:432:eval("(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports = rendy;\n    else\n        global.rendy = rendy;\n    \n    /**\n     * render template with data\n     *\n     * @param templ\n     * @param data\n     */\n    function rendy(templ, data) {\n        var result  = templ;\n        \n        check(templ, data);\n        \n        Object\n            .keys(data)\n            .forEach(function(param) {\n                var name    = '{{ ' + param + ' }}',\n                    str     = data[param];\n                \n                while(~result.indexOf(name))\n                    result = result.replace(name, str);\n            });\n        \n        if (~result.indexOf('{{'))\n            result = result.replace(/{{.*?}}/g, '');\n        \n        return result;\n    }\n    \n    function check(templ, data) {\n        if (typeof templ !== 'string')\n            throw(Error('template should be string!'));\n        \n        if (typeof data !== 'object')\n            throw(Error('data should be object!'));\n    }\n})(this);\n\n\n//# sourceURL=file://cloudcmd/node_modules/rendy/lib/rendy.js");
/src/cloudcmd.js-433-
##############################################
/src/cloudcmd.js-442-
/src/cloudcmd.js:443:eval("module.exports = __webpack_require__(/*! ./somefilter */ \"./node_modules/somefilter/legacy/somefilter.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/somefilter/legacy/index.js");
/src/cloudcmd.js-444-
##############################################
/src/cloudcmd.js-454-"use strict";
/src/cloudcmd.js:455:eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nvar squad = __webpack_require__(/*! squad/legacy */ \"./node_modules/squad/legacy/index.js\");\nvar apart = __webpack_require__(/*! apart */ \"./node_modules/apart/lib/apart.js\");\n\nvar unary = currify(function (fn, value) {\n    return fn(value);\n});\nvar notEmpty = function notEmpty(value) {\n    return value;\n};\nvar apply = currify(function (args, fn) {\n    return fn.apply(undefined, _toConsumableArray(args));\n});\n\nmodule.exports = somefilter;\n\nfunction somefilter(condition, filters) {\n    if (!filters) {\n        filters = condition;\n        condition = notEmpty;\n    }\n\n    checkAll(condition, filters);\n\n    var storify = store(condition);\n    var process = apart(squad, condition, storify);\n\n    var processingFilters = filters.map(unary(process)).reverse();\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        processingFilters.some(apply(args));\n\n        return storify();\n    };\n}\n\nfunction store(condition) {\n    var cache = void 0;\n\n    return function (value) {\n        var result = void 0;\n\n        if (condition(value)) {\n            cache = result = value;\n        } else {\n            result = cache;\n            cache = null;\n        }\n\n        return result;\n    };\n}\n\nfunction checkAll(condition, filters) {\n    if (typeof condition !== 'function') throw Error('condition should be function!');\n\n    if (!Array.isArray(filters)) throw Error('filters should be an array!');\n\n    check('function', filters);\n}\n\nfunction check(type, array) {\n    var getType = function getType(item) {\n        return typeof item === 'undefined' ? 'undefined' : _typeof(item);\n    };\n    var notEqual = function notEqual(a, b) {\n        return a !== b;\n    };\n    var wrong = function wrong(type) {\n        throw Error('fn should be ' + type + '!');\n    };\n\n    var wrongType = apart(wrong, type);\n    var notType = apart(notEqual, type);\n\n    if (!array.length) return wrongType(type);\n\n    array.map(getType).filter(notType).forEach(wrongType);\n}\n\n//# sourceURL=file://cloudcmd/node_modules/somefilter/legacy/somefilter.js");
/src/cloudcmd.js-456-
##############################################
/src/cloudcmd.js-465-
/src/cloudcmd.js:466:eval("module.exports = __webpack_require__(/*! ./squad */ \"./node_modules/squad/legacy/squad.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/squad/legacy/index.js");
/src/cloudcmd.js-467-
##############################################
/src/cloudcmd.js-477-"use strict";
/src/cloudcmd.js:478:eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nmodule.exports = function () {\n    for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n        funcs[_key] = arguments[_key];\n    }\n\n    check('function', funcs);\n\n    return function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        return funcs.reduceRight(apply, args).pop();\n    };\n};\n\nfunction apply(value, fn) {\n    return [fn.apply(undefined, _toConsumableArray(value))];\n}\n\nfunction check(type, array) {\n    var wrongType = partial(wrong, type);\n    var notType = partial(notEqual, type);\n\n    if (!array.length) return wrongType(type);\n\n    array.map(getType).filter(notType).forEach(wrongType);\n}\n\nfunction partial(fn, value) {\n    return fn.bind(null, value);\n}\n\nfunction getType(item) {\n    return typeof item === 'undefined' ? 'undefined' : _typeof(item);\n}\n\nfunction notEqual(a, b) {\n    return a !== b;\n}\n\nfunction wrong(type) {\n    throw Error('fn should be ' + type + '!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/squad/legacy/squad.js");
/src/cloudcmd.js-479-
##############################################
/src/cloudcmd.js-489-"use strict";
/src/cloudcmd.js:490:eval("\n\nmodule.exports = function tryCatch(fn) {\n    var args = [].slice.call(arguments, 1);\n    \n    try {\n        return [null, fn.apply(null, args)];\n    } catch(e) {\n        return [e];\n    }\n};\n\n\n\n//# sourceURL=file://cloudcmd/node_modules/try-catch/lib/try-catch.js");
/src/cloudcmd.js-491-
##############################################
/src/cloudcmd.js-500-
/src/cloudcmd.js:501:eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n//# sourceURL=file://cloudcmd/node_modules/webpack/buildin/global.js");
/src/cloudcmd.js-502-
##############################################
/src/cloudcmd.js-511-
/src/cloudcmd.js:512:eval("module.exports = __webpack_require__(/*! ./lib/wraptile */ \"./node_modules/wraptile/legacy/lib/wraptile.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/wraptile/legacy/index.js");
/src/cloudcmd.js-513-
##############################################
/src/cloudcmd.js-523-"use strict";
/src/cloudcmd.js:524:eval("\n\nvar wrap = function wrap(fn) {\n    for (var _len = arguments.length, a = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        a[_key - 1] = arguments[_key];\n    }\n\n    return function () {\n        for (var _len2 = arguments.length, b = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            b[_key2] = arguments[_key2];\n        }\n\n        return function () {\n            for (var _len3 = arguments.length, c = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                c[_key3] = arguments[_key3];\n            }\n\n            return fn.apply(undefined, a.concat(b, c));\n        };\n    };\n};\n\nmodule.exports = function (fn) {\n    for (var _len4 = arguments.length, a = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        a[_key4 - 1] = arguments[_key4];\n    }\n\n    check(fn);\n\n    return wrap.apply(undefined, [fn].concat(a));\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/wraptile/legacy/lib/wraptile.js");
/src/cloudcmd.js-525-
##############################################
/src/cloudcmd.js-527-
/src/cloudcmd.js:528:}]);(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){"use strict";function r(){var t=Array.prototype.slice,e=function(e){var r,n="function"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a="could not be empty!",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp("\\s([a-zA-Z]+)"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error("funcs "+a);if(!n)throw Error("callback "+a);switch(h){case"array":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case"object":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,"array"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error("funcs should be array!");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if("function"!=typeof n)throw Error("callback should be function");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}"object"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){"use strict";var n=t.exports,o="loading"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)("http://www.w3.org/2000/svg","animate").toString();return/SVGAnimate/.test(e)}()?"-svg":"-gif");function i(){return DOM.load({name:"span",id:"js-status-image",className:"icon",attribute:"data-progress",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a="top"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName("js-name",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add("loading",o),e.remove("error","hidden"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add("error"),e.remove("hidden","loading",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute("data-progress",t+"%"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute("data-progress",""),t.title="",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){"use strict";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t="file "+e+" could not be loaded",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce("load",b,function(){var t=i&&i.onload||i;s.remove("error",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&("link"!==c?b.src=e:(b.href=e,b.rel="stylesheet")),m)switch(n(m)){case"string":b.setAttribute(m,"");break;case"object":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&"script"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(":")&&(t+="-join");var e=t.lastIndexOf("/")+1,r=t.substr(t,e);return t.replace(r,"").replace(/\./g,"-")}}function h(t,e){switch(c(t)){case".js":return l.js(t,e);case".css":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s="arraybuffer"===n(e.data),c=e.type||e.method||"GET",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader("content-type");if(200!==r.status)return a(e.error,r);var i="text"!==e.dataType,s=~n.indexOf("application/json"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace("#","%23"),n.open("put",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit("progress",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit("end");var t=Error(n.responseText);r.emit("error",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:"script",src:t,func:e})},l.css=function(t,e){return l({name:"link",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?"style":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){"use strict";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:"name"===t&&"asc"===e?r:r+("asc"===e?"↑":"↓")}),s="/fs",c=i();function l(t,e,r){if(!t)throw Error("url could not be empty!");if(!r)throw Error("template could not be empty!");var o=t.split("/").slice(1,-1),i=["/"].concat(o),a=i.length-1,u="/";return i.map(function(t,o){return o&&(u+=t+"/"),o&&o===a?t+"/":n(r,{path:u,name:t,slash:o?"/":"",prefix:e})}).join("")}function f(t){var e=t.substr(t,t.lastIndexOf("/")),r=e.substr(e,e.lastIndexOf("/"));return r||"/"}c("/"),t.exports.FS=s,t.exports.apiURL="/api/v1",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||"ok",(e=e||"")&&(e='("'+e+'")'),t+": "+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||"Cloud Commander",e].filter(Boolean).join(" - ")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||"name",g=t.order||"asc",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b("name"),w=b("size"),x=b("date"),E=n(o,{tag:"div",attribute:'data-name="js-fm-header" ',className:"fm-header",type:"",name:C,size:w,date:x,owner:"owner",mode:"mode"});if(c(d),y+=E+'<ul data-name="js-files" class="files">',"/"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:"..",name:".."});y+=n(r.file,{tag:"li",attribute:'draggable="true" data-name="js-file-.." ',className:"",type:"directory",name:P,size:"&lt;dir&gt;",date:"--.--.----",owner:".",mode:"--- --- ---"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return"dir"===t?"directory":"text-file"}(t.size),c=function(t){return"dir"===t?"&lt;dir&gt;":t}(t.size),l=t.date||"--.--.----",f=t.owner||"root",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return"dir"===t?"":'target="_blank" '}(t.size)}),v='data-name="js-file-'+t.name+'" ';return n(o,{tag:"li",attribute:'draggable="true" '+v,className:"",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(""),y+="</ul>"}},function(t,e,r){"use strict";var n=r(0);function o(t){if(!t)throw Error("str could not be empty!");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error("str could not be empty!");return t.split("-").map(o).join("").replace(/.js$/,"")},t.exports.escapeRegExp=function(t){return"string"==typeof t&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),t},t.exports.getRegExp=function(t){var e="^"+(t=t||"*").replace(".","\\.").replace("*",".*").replace("?",".?")+"$";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!("string"==typeof t))return"";var e=t.lastIndexOf(".");return~e?t.substr(e):""},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error("array should be array!");if("string"!=typeof e)throw Error("name should be string!");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,"time",[t])},t.exports.timeEnd=function(t){n.ifExist(console,"timeEnd",[t])}},function(t,e,r){"use strict";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h="config|modules",d="file|path|link|pathLink|media",p="view/media-tmpl|config-tmpl|upload",v="/tmpl/",g=v+"fs/",m="/json/",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error("name could not be empty!");if("function"!=typeof e)throw Error("callback should be a function")}(t,e),r){case"string":!function(t,e){var r=new RegExp(d+"|"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?"config"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace("-tmpl",""):g+t,n+=".hbs"):r&&(n=m+t+".json");return n}(t,o,i),e):function(t){throw new Error("Wrong file name: "+t)}(t)}(t,e);break;case"array":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error("unknown eventName: "+u);r(a[1],a[0],n,i);break;case"string":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case"array":t.forEach(function(t){r(t,e,n,i)});break;case"object":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error("type could not be empty!")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["keydown"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["keydown"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["click"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["click"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["contextmenu"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["error"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["load"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c="current-file",v="Cloud Commander",g={"js-left":null,"js-right":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i="New "+t||"File",a=function(){var t=n.getCurrentName();return".."===t?"":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote("jquery",{name:"$"},t),d},this.loadSocket=function(t){return d.loadRemote("socket",{name:"io"},t),d},this.loadMenu=function(t){return d.loadRemote("menu",t)},this.promptNewDir=function(){w("directory","?dir")},this.promptNewFile=function(){w("file")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\/$/,""),e=t.substr(t,t.lastIndexOf("/")),r=t.replace(e+"/","")||"/";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName("js-path",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+"/";return"/"!==e?e.replace(RegExp(r+"$"),""):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n="js-file-"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll("selected-file",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||".."===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName("js-date",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName("js-size",e).textContent.replace(/^<|>$/g,"");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),".."!==name&&m.read(n+"?size",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+"?hash",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+"?time",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName("js-size",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName("js-mode",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName("js-owner",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return".."===o.name?(n.alert.noFiles(v),t(Error("No files selected!"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName("js-refresh",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i="";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config("name");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||("/"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?"A"===e?t.parentElement.parentElement:"SPAN"===e?t.parentElement:t:null}(n);return o&&"LI"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add("selected-file"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove("selected-file"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return".."===r?n:(e.classList.toggle("selected-file"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=".."===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C("expand",t)},this.shrinkSelection=function(){var t=r.files;C("shrink",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag("title")[0]||d.load({name:"title",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,"selected-file")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName("js-type",r),o=d.isContainClass(n,"directory");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag("a",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag("a",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute("href").replace(RegExp("^"+n+f),"");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return"";var r=d.getCurrentLink(e);if(!r)return"";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error("AllFiles could not be empty");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));".."===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute("data-name","js-file-"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+"-hash",i=a.with(y.get,o);if("string"!=typeof t)throw Error("name should be a string!");if("function"!=typeof e)throw Error("callback should be a function!");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config("localStorage"),i=d.isCurrentIsDir(),u=t+"-hash",s=t+"-data";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+"-hash",n=t+"-data",o=CloudCmd.config("localStorage"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace("js-","")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o="js-",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n="js-left"===r.getAttribute("data-name")):r=d.getByDataName("js-left"),t&&!t.active&&(o+=n?"right":"left",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName("js-left")),!r)throw Error("can not find Active Panel!");return r},this.getFiles=function(t){var e=d.getByDataName("js-files",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&".."!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(".."===r)return e.alert.noFiles(v);e.prompt(v,"Rename",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute("data-name");g[o]=r,o=(t=e).getAttribute("data-name");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return"zip"===t?".zip":".tar.gz"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,"Go to directory:",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace("js-",""),e.isOnePanel=e.panel.getAttribute("data-name")===e.panelPassive.getAttribute("data-name")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){"use strict";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace("#","%23"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:"DELETE",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:"PATCH",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:"PUT",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\?/.test(e),u=/\?beautify$/.test(e),s=/\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r="text"),t({method:"GET",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:"PUT",url:"/cp",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:"PUT",url:"/pack",data:e,callback:r})},this.extract=function(e,r){t({method:"PUT",url:"/extract",data:e,callback:r})},this.mv=function(e,r){t({method:"PUT",url:"/mv",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:"GET",url:"/config",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:"PATCH",url:"/config",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:"GET",url:"/markdown"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:"PUT",url:"/markdown",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){"use strict";function r(t,e){var r=t;return function(t,e){if("string"!=typeof t)throw Error("template should be string!");if("object"!=typeof e)throw Error("data should be object!")}(t,e),Object.keys(e).forEach(function(t){for(var n="{{ "+t+" }}",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf("{{")&&(r=r.replace(/{{.*?}}/g,"")),r}"object"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){"use strict";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp("^"+e+".*$");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){"use strict";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on("end",n).on("progress",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load("top"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){"use strict";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e="cut-file",r="copy",u="cut",s="Buffer";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config("buffer");if(e)return t();c("Buffer disabled in config!")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?"copy":"move",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e="Buffer is empty!"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c("Path is same!");u.show(i,l),d()})})}}},function(t,e,r){"use strict";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){"use strict";function r(){this.addSlashToEnd=function(t){return t&&("/"===t[t.length-1]||(t+="/")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return"number"==typeof t&&(t<1024?t+="b":t=t<1048576?(t/1024).toFixed(2)+"kb":t<e?(t/1048576).toFixed(2)+"mb":t<r?(t/e).toFixed(2)+"gb":t<n?(t/r).toFixed(2)+"tb":(t/n).toFixed(2)+"pb"),t},this.permissions={symbolic:function(t){var e,r,n,o="",i="";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:"-";break;case 2:"c";break;case 4:"d";break;default:"-"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?"r":"-")+(e[1]-0>0?"w":"-")+(e[2]-0>0?"x":"-")+" "+(r[0]-0>0?"r":"-")+(r[1]-0>0?"w":"-")+(r[2]-0>0?"x":"-")+" "+(n[0]-0>0?"r":"-")+(n[1]-0>0?"w":"-")+(n[2]-0>0?"x":"-")}return i},numeric:function(t){return t&&11===t.length&&(t="00"+(("r"===t[0]?4:0)+("w"===t[1]?2:0)+("x"===t[2]?1:0))+(("r"===t[4]?4:0)+("w"===t[5]?2:0)+("x"===t[6]?1:0))+(("r"===t[8]?4:0)+("w"===t[9]?2:0)+("x"===t[10]?1:0))),t}}}"object"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if("function"!=typeof t)throw Error("fn should be function!")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?"undefined":n(t)}function u(t,e){return t!==e}function s(t){throw Error("fn should be "+t+"!")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}("function",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if("function"!=typeof t)throw Error("condition should be function!");if(!Array.isArray(e))throw Error("filters should be an array!");!function(t,e){var r=a(function(t){throw Error("fn should be "+t+"!")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?"undefined":n(t)}).filter(o).forEach(r)}("function",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){"use strict";var n=r(47)([function(t,e){var r=t.split("").join(".*")+".*",n=RegExp("^"+r+"$","i");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if("string"!=typeof t)throw Error("pattern should be string!");if(!Array.isArray(e))throw Error("list should be an array!")}(t,e),n(t,e)||[]}},,,,function(t,e,r){"use strict";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if("function"!=typeof t)throw Error("fn should be function!")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){"use strict";var n=r.window?window:e,o="/join";function i(t,e){if(e||(e=t,t=o),!e)throw Error("names must be array!");return t+":"+e.join(":")}"object"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){"use strict";var n="*.*",o=r(6).getRegExp;t.exports=function(t,e){var r="Specify file type for "+t+" selection",i=DOM.Dialog;i.prompt("Cloud Commander",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(".."!==r&&a.test(r)){++u;var n=DOM.isSelected(e);"expand"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert("Select Files","No matches found!")}})}},function(t,e,r){"use strict";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get("modules",function(e,s){var l=h("online")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error("array should be an array!");if("function"!=typeof e)throw Error("iterator should be a function!");if("function"!=typeof r)throw Error("done should be a function!")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){"use strict";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit("file",e.fullPath,e),void(this._first&&t.emit("end"));this._first&&(this._first=!1),t.emit("directory",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit("end")})}},function(t,e,r){"use strict";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if("function"!=typeof e)throw Error("processingFn should be function!");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o="directory";if(!n){o="file";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit("end");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit("error",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit("progress",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on("directory",function(t){o.push(t)}),i.on("file",function(t,e){r.push(e)}),i.on("end",function(){e()})},function(){e(r,o)})}},function(t,e,r){"use strict";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show("top")}t.exports=function(t){var e=a.Dialog;t.length&&o.show("top");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\/$/,""),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case"file":d=function(t,e){return a.load.put(t,e)}(h,r);break;case"directory":f=h,d=a.load.put(f+"?dir")}d.on("end",u),d.on("progress",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on("error",function(t){e.alert(t),f.abort()}),f.on("progress",c),f.on("end",CloudCmd.refresh)}},function(t,e,r){"use strict";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error("element could not be empty!");if(!e)throw Error("className could not be empty!");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector("#"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name="'+t+'"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add("hidden"),n},t.exports.show=function(t){return t.classList.remove("hidden"),n}},function(t,e,r){"use strict";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){"use strict";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return["arrayBuffer","file","array","object"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),["null","string","undefined","boolean","number","function"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){"use strict";var n={"&nbsp;":" ","&lt;":"<","&gt;":">"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],"g");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,"g");t=t.replace(o,r)}),t}},function(t,e,r){"use strict";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){"use strict";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if("function"!=typeof t)throw Error("fn should be function!")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s="undefined"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(""),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof(r=e),null===r||"object"!==n&&"function"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError("A promises callback cannot return that same promise."))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if("string"!=typeof t)throw Error("event should be string!")}function i(t,e){o(t),function(t){if("function"!=typeof t)throw Error("callback should be function!")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&"error"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);
/src/cloudcmd.js:529://# sourceMappingURL=common.js.map(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){"use strict";function r(){var t=Array.prototype.slice,e=function(e){var r,n="function"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a="could not be empty!",u=[],s=!1,c=[],l=0,f=0,h=(o=r,i=new RegExp("\\s([a-zA-Z]+)"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error("funcs "+a);if(!n)throw Error("callback "+a);switch(h){case"array":f=r.length,r.forEach(function(t,r){e(t,function(){d(r,arguments)})});break;case"object":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){d(t,arguments)})})}function d(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,"array"===h?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error("funcs should be array!");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if("function"!=typeof n)throw Error("callback should be function");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}"object"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){"use strict";var n=t.exports,o="loading"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)("http://www.w3.org/2000/svg","animate").toString();return/SVGAnimate/.test(e)}()?"-svg":"-gif");function i(){return DOM.load({name:"span",id:"js-status-image",className:"icon",attribute:"data-progress",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a="top"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName("js-name",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add("loading",o),e.remove("error","hidden"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add("error"),e.remove("hidden","loading",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute("data-progress",t+"%"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute("data-progress",""),t.title="",n):n}},function(t,e,r){t.exports=r(72)},function(t,e,r){"use strict";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(1),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,h=t.inner,d=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t="file "+e+" could not be loaded",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce("load",b,function(){var t=i&&i.onload||i;s.remove("error",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&("link"!==c?b.src=e:(b.href=e,b.rel="stylesheet")),m)switch(n(m)){case"string":b.setAttribute(m,"");break;case"object":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return d&&(b.style.cssText=d),(l&&"script"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),h&&(b.innerHTML=h),b}function f(t){if(n.string(t)){~t.indexOf(":")&&(t+="-join");var e=t.lastIndexOf("/")+1,r=t.substr(t,e);return t.replace(r,"").replace(/\./g,"-")}}function h(t,e){switch(c(t)){case".js":return l.js(t,e);case".css":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=h,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s="arraybuffer"===n(e.data),c=e.type||e.method||"GET",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var h=void 0;h=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader("content-type");if(200!==r.status)return a(e.error,r);var i="text"!==e.dataType,s=~n.indexOf("application/json"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(h)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace("#","%23"),n.open("put",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit("progress",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit("end");var t=Error(n.responseText);r.emit("error",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return h.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:"script",src:t,func:e})},l.css=function(t,e){return l({name:"link",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?"style":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(69)},function(t,e,r){"use strict";var n=r(13),o=r(2),i=r(12),a=r(70),u=o(function(t,e,r){return t!==r?r:"name"===t&&"asc"===e?r:r+("asc"===e?"↑":"↓")}),s="/fs",c=i();function l(t,e,r){if(!t)throw Error("url could not be empty!");if(!r)throw Error("template could not be empty!");var o=t.split("/").slice(1,-1),i=["/"].concat(o),a=i.length-1,u="/";return i.map(function(t,o){return o&&(u+=t+"/"),o&&o===a?t+"/":n(r,{path:u,name:t,slash:o?"/":"",prefix:e})}).join("")}function f(t){var e=t.substr(t,t.lastIndexOf("/")),r=e.substr(e,e.lastIndexOf("/"));return r||"/"}c("/"),t.exports.FS=s,t.exports.apiURL="/api/v1",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||"ok",(e=e||"")&&(e='("'+e+'")'),t+": "+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||"Cloud Commander",e].filter(Boolean).join(" - ")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,h=t.data,d=h.path,p=h.files,v=t.sort||"name",g=t.order||"asc",m=l(d,e,r.pathLink),y=n(r.path,{link:e+s+d,fullPath:d,path:m}),b=u(v,g),C=b("name"),w=b("size"),x=b("date"),E=n(o,{tag:"div",attribute:'data-name="js-fm-header" ',className:"fm-header",type:"",name:C,size:w,date:x,owner:"owner",mode:"mode"});if(c(d),y+=E+'<ul data-name="js-files" class="files">',"/"!==d){var A=f(d),_=e+s+A,P=n(r.link,{link:_,title:"..",name:".."});y+=n(r.file,{tag:"li",attribute:'draggable="true" data-name="js-file-.." ',className:"",type:"directory",name:P,size:"&lt;dir&gt;",date:"--.--.----",owner:".",mode:"--- --- ---"})}return y+=p.map(function(t){var r=e+s+d+t.name,u=function(t){return"dir"===t?"directory":"text-file"}(t.size),c=function(t){return"dir"===t?"&lt;dir&gt;":t}(t.size),l=t.date||"--.--.----",f=t.owner||"root",h=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return"dir"===t?"":'target="_blank" '}(t.size)}),v='data-name="js-file-'+t.name+'" ';return n(o,{tag:"li",attribute:'draggable="true" '+v,className:"",type:u,name:p,size:c,date:l,owner:f,mode:h})}).join(""),y+="</ul>"}},function(t,e,r){"use strict";var n=r(0);function o(t){if(!t)throw Error("str could not be empty!");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error("str could not be empty!");return t.split("-").map(o).join("").replace(/.js$/,"")},t.exports.escapeRegExp=function(t){return"string"==typeof t&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),t},t.exports.getRegExp=function(t){var e="^"+(t=t||"*").replace(".","\\.").replace("*",".*").replace("?",".?")+"$";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!("string"==typeof t))return"";var e=t.lastIndexOf(".");return~e?t.substr(e):""},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error("array should be array!");if("string"!=typeof e)throw Error("name should be string!");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,"time",[t])},t.exports.timeEnd=function(t){n.ifExist(console,"timeEnd",[t])}},function(t,e,r){"use strict";var n,o,i=r(4),a=r(2),u=r(0),s=r(17),c=r(3),l=r(10),f={},h="config|modules",d="file|path|link|pathLink|media",p="view/media-tmpl|config-tmpl|upload",v="/tmpl/",g=v+"fs/",m="/json/",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error("name could not be empty!");if("function"!=typeof e)throw Error("callback should be a function")}(t,e),r){case"string":!function(t,e){var r=new RegExp(d+"|"+p),n=new RegExp(h),o=r.test(t),i=n.test(t);o||i?"config"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace("-tmpl",""):g+t,n+=".hbs"):r&&(n=m+t+".json");return n}(t,o,i),e):function(t){throw new Error("Wrong file name: "+t)}(t)}(t,e);break;case"array":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error("unknown eventName: "+u);r(a[1],a[0],n,i);break;case"string":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case"array":t.forEach(function(t){r(t,e,n,i)});break;case"object":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error("type could not be empty!")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["keydown"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["keydown"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["click"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["click"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["contextmenu"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["error"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["load"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,h=c.Entity,d=n({},r(67),new function(){var t=this,e=void 0,r={},n=this,c="current-file",v="Cloud Commander",g={"js-left":null,"js-right":null};function w(t,e){var r=d.Dialog,o=n.getCurrentDirPath(),i="New "+t||"File",a=function(){var t=n.getCurrentName();return".."===t?"":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),d},this.loadJquery=function(t){return d.loadRemote("jquery",{name:"$"},t),d},this.loadSocket=function(t){return d.loadRemote("socket",{name:"io"},t),d},this.loadMenu=function(t){return d.loadRemote("menu",t)},this.promptNewDir=function(){w("directory","?dir")},this.promptNewFile=function(){w("file")},this.getCurrentDirName=function(){var t=d.getCurrentDirPath().replace(/\/$/,""),e=t.substr(t,t.lastIndexOf("/")),r=t.replace(e+"/","")||"/";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.getPanel(),e=d.getByDataName("js-path",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=d.getCurrentDirPath(t),r=d.getCurrentDirName()+"/";return"/"!==e?e.replace(RegExp(r+"$"),""):e},this.getNotCurrentDirPath=function(){var t=d.getPanel({active:!1}),e=d.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return d.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n="js-file-"+t,o=d.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=d.getPanel(),e=d.getByClassAll("selected-file",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||d.getSelectedFiles(),[].concat(o(t)).forEach(d.toggleSelectedFile)},this.getActiveFiles=function(){var t=d.getCurrentFile(),e=d.getSelectedFiles(),r=d.getCurrentName(t);return e.length||".."===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName("js-date",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=d.getByDataName("js-size",e).textContent.replace(/^<|>$/g,"");return r},this.loadCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);p.show.load(),".."!==name&&m.read(n+"?size",function(e,n){e||(d.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+"?hash",t)},this.loadCurrentTime=function(t,e){var r=e||d.getCurrentFile(),n=d.getCurrentPath(r);m.read(n+"?time",t)},this.setCurrentSize=function(t,e){var r=e||d.getCurrentFile(),n=d.getByDataName("js-size",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName("js-mode",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||d.getCurrentFile(),r=d.getByDataName("js-owner",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=d.Dialog,o=d.CurrentInfo,a=e||d.getCurrentFile(),s=d.getCurrentPath(a),c=d.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&d.saveDataToStorage(s,n,r)}t(e,n)};return".."===o.name?(n.alert.noFiles(v),t(Error("No files selected!"))):c?m.read(s,l):void d.checkStorageHash(s,function(e,n,o){return e?t(e):n?d.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";d.RESTful.write(t+n,e,function(r){!r&&d.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||d.getPanel(),r=d.getByDataName("js-refresh",e);return r},this.setCurrentByName=function(t){var e=d.getCurrentByName(t);return d.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,o=d.getCurrentFile();if(!t)return d;var i="";o&&(i=d.getCurrentDirPath(),function(t){if(!d.isCurrentFile(t))return;t.classList.remove(c)}(o)),t.classList.add(c);var a=d.getCurrentDirPath(),u=CloudCmd.config("name");return a!==i&&(d.setTitle(l({name:u,path:a})),r&&!1===r.history||("/"!==a&&(a=f+a),d.setHistory(a,null,a))),d.scrollIntoViewIfNeeded(t,!0),n.updateCurrentInfo(t),d},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?"A"===e?t.parentElement.parentElement:"SPAN"===e?t.parentElement:t:null}(n);return o&&"LI"!==o.tagName?null:o},this.selectFile=function(t){var e=t||d.getCurrentFile();return e.classList.add("selected-file"),n},this.unselectFile=function(t){var e=t||d.getCurrentFile();return e.classList.remove("selected-file"),n},this.toggleSelectedFile=function(t){var e=t||d.getCurrentFile(),r=d.getCurrentName(e);return".."===r?n:(e.classList.toggle("selected-file"),n)},this.toggleAllSelectedFiles=function(){return d.getAllFiles().map(d.toggleSelectedFile),n},this.selectAllFiles=function(){return d.getAllFiles().map(d.selectFile),n},this.getAllFiles=function(){var t=d.getPanel(),e=d.getFiles(t),r=d.getCurrentName(e[0]),n=".."===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C("expand",t)},this.shrinkSelection=function(){var t=r.files;C("shrink",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=d.getByTag("title")[0]||d.load({name:"title",innerHTML:t,parentElement:document.head})),e.textContent=t,d},this.isCurrentFile=function(t){return!!t&&d.isContainClass(t,c)},this.isSelected=function(t){return!!t&&d.isContainClass(t,"selected-file")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=d.getByDataName("js-type",r),o=d.isContainClass(n,"directory");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=d.getByTag("a",r);return n[0]},this.getCurrentPath=function(t){var e=t||d.getCurrentFile(),r=d.getByTag("a",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute("href").replace(RegExp("^"+n+f),"");return o},this.getCurrentName=function(t){var e=t||d.getCurrentFile();if(!e)return"";var r=d.getCurrentLink(e);if(!r)return"";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error("AllFiles could not be empty");var e=t[0]||d.getCurrentFile(),r=d.getCurrentName(e),n=[].concat(o(t));".."===r&&n.shift();var i=n.map(function(t){return d.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=h.encode(t),o.href=a+t,e.setAttribute("data-name","js-file-"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=d.loadCurrentHash,o=t+"-hash",i=a.with(y.get,o);if("string"!=typeof t)throw Error("name should be a string!");if("function"!=typeof e)throw Error("callback should be a function!");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config("localStorage"),i=d.isCurrentIsDir(),u=t+"-hash",s=t+"-data";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){d.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+"-hash",n=t+"-data",o=CloudCmd.config("localStorage"),i=d.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return d.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||d.getPanel()).dataset.name.replace("js-","")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o="js-",i=d.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n="js-left"===r.getAttribute("data-name")):r=d.getByDataName("js-left"),t&&!t.active&&(o+=n?"right":"left",r=d.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=d.getByDataName("js-left")),!r)throw Error("can not find Active Panel!");return r},this.getFiles=function(t){var e=d.getByDataName("js-files",t);return e.children||[]},this.showPanel=function(t){var e=d.getPanel({active:t});return!!e&&(d.show(e),!0)},this.hidePanel=function(t){var e=d.getPanel({active:t});return!!e&&d.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),d},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&".."!==r){var o=t.nextSibling,i=t.previousSibling;d.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||d.getSelectedFiles())&&t.map(d.deleteCurrent)},this.renameCurrent=function(t){var e=d.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(".."===r)return e.alert.noFiles(v);e.prompt(v,"Rename",r,{cancel:!1}).then(function(e){var o=!!d.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(d.setCurrentName(e,t),n.updateCurrentInfo(t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=d.getPanel(),e=d.getPanel({active:!1}),r=d.getCurrentName(),n=d.getFiles(e),o=t.getAttribute("data-name");g[o]=r,o=(t=e).getAttribute("data-name");var i=void 0,a=void 0;return(r=g[o])&&(a=d.getCurrentByName(r,t))&&(i=a.parentElement),i&&i.parentElement||(a=d.getCurrentByName(r,t))||(a=n[0]),d.setCurrentFile(a,{history:!0}),d},this.getPackerExt=function(t){return"zip"===t?".zip":".tar.gz"},this.goToDirectory=function(){var t=r.dirPath,e=d.Dialog;e.prompt(v,"Go to directory:",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=d.getCurrentDirPath(),u=d.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];d.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=d.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace("js-",""),e.isOnePanel=e.panel.getAttribute("data-name")===e.panelPassive.getAttribute("data-name")}});t.exports=d;var p=r(1),v=r(3),g=r(7),m=r(10),y=r(17);d.Images=p,d.load=v,d.Files=g,d.RESTful=m,d.Storage=y,d.uploadDirectory=r(66),d.Buffer=r(20),d.Events=r(8);var b=r(60),C=r(59)},function(t,e,r){"use strict";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace("#","%23"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:"DELETE",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:"PATCH",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:"PUT",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\?/.test(e),u=/\?beautify$/.test(e),s=/\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r="text"),t({method:"GET",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:"PUT",url:"/cp",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:"PUT",url:"/pack",data:e,callback:r})},this.extract=function(e,r){t({method:"PUT",url:"/extract",data:e,callback:r})},this.mv=function(e,r){t({method:"PUT",url:"/mv",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:"GET",url:"/config",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:"PATCH",url:"/config",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:"GET",url:"/markdown"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:"PUT",url:"/markdown",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(1),a=r(3)},function(t,e,r){t.exports=r(68)},function(t,e,r){t.exports=r(71)},function(t,e){!function(e){"use strict";function r(t,e){var r=t;return function(t,e){if("string"!=typeof t)throw Error("template should be string!");if("object"!=typeof e)throw Error("data should be object!")}(t,e),Object.keys(e).forEach(function(t){for(var n="{{ "+t+" }}",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf("{{")&&(r=r.replace(/{{.*?}}/g,"")),r}"object"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(45)},function(t,e,r){t.exports=r(52)},function(t,e,r){"use strict";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(4),i=r(11),a=r(0),u=r(21),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp("^"+e+".*$");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,h=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var d=u(s,e,f||r);h=n(d,1)[0]}return a(l,h),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){"use strict";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(1),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on("end",n).on("progress",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load("top"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){"use strict";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e="cut-file",r="copy",u="cut",s="Buffer";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function h(t){var e=CloudCmd.config("buffer");if(e)return t();c("Buffer disabled in config!")}function d(){i.remove(r).remove(u),f()}return{cut:h.bind(null,function(){var r=l(),n=t.dirPath;if(d(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:h.bind(null,function(){var e=l(),n=t.dirPath;if(d(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:h.bind(null,d),paste:h.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?"copy":"move",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e="Buffer is empty!"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c("Path is same!");u.show(i,l),d()})})}}},function(t,e,r){"use strict";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,,,,function(t,e){!function(e){"use strict";function r(){this.addSlashToEnd=function(t){return t&&("/"===t[t.length-1]||(t+="/")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return"number"==typeof t&&(t<1024?t+="b":t=t<1048576?(t/1024).toFixed(2)+"kb":t<e?(t/1048576).toFixed(2)+"mb":t<r?(t/e).toFixed(2)+"gb":t<n?(t/r).toFixed(2)+"tb":(t/n).toFixed(2)+"pb"),t},this.permissions={symbolic:function(t){var e,r,n,o="",i="";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:"-";break;case 2:"c";break;case 4:"d";break;default:"-"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?"r":"-")+(e[1]-0>0?"w":"-")+(e[2]-0>0?"x":"-")+" "+(r[0]-0>0?"r":"-")+(r[1]-0>0?"w":"-")+(r[2]-0>0?"x":"-")+" "+(n[0]-0>0?"r":"-")+(n[1]-0>0?"w":"-")+(n[2]-0>0?"x":"-")}return i},numeric:function(t){return t&&11===t.length&&(t="00"+(("r"===t[0]?4:0)+("w"===t[1]?2:0)+("x"===t[2]?1:0))+(("r"===t[4]?4:0)+("w"===t[5]?2:0)+("x"===t[6]?1:0))+(("r"===t[8]?4:0)+("w"===t[9]?2:0)+("x"===t[10]?1:0))),t}}}"object"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if("function"!=typeof t)throw Error("fn should be function!")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?"undefined":n(t)}function u(t,e){return t!==e}function s(t){throw Error("fn should be "+t+"!")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}("function",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=r(2),i=r(15),a=r(44),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if("function"!=typeof t)throw Error("condition should be function!");if(!Array.isArray(e))throw Error("filters should be an array!");!function(t,e){var r=a(function(t){throw Error("fn should be "+t+"!")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?"undefined":n(t)}).filter(o).forEach(r)}("function",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(46)},function(t,e,r){"use strict";var n=r(47)([function(t,e){var r=t.split("").join(".*")+".*",n=RegExp("^"+r+"$","i");return e.filter(function(t){return n.test(t)})},function(t,e){return e.filter(function(e){return e.includes(t)})}]);t.exports=function(t,e){return function(t,e){if("string"!=typeof t)throw Error("pattern should be string!");if(!Array.isArray(e))throw Error("list should be an array!")}(t,e),n(t,e)||[]}},,,,function(t,e,r){"use strict";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if("function"!=typeof t)throw Error("fn should be function!")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){"use strict";var n=r.window?window:e,o="/join";function i(t,e){if(e||(e=t,t=o),!e)throw Error("names must be array!");return t+":"+e.join(":")}"object"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(22))},,function(t,e,r){"use strict";var n="*.*",o=r(6).getRegExp;t.exports=function(t,e){var r="Specify file type for "+t+" selection",i=DOM.Dialog;i.prompt("Cloud Commander",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(".."!==r&&a.test(r)){++u;var n=DOM.isSelected(e);"expand"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert("Select Files","No matches found!")}})}},function(t,e,r){"use strict";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,h=l.config,d=e;if(d.name&&window[d.name])return r();s.get("modules",function(e,s){var l=h("online")&&navigator.onLine,d=a(s.remote,t),p=i.array(d.local),v=d.version,g=void 0,m=void 0;p?(g=d.remote,m=d.local):(g=[d.remote],m=[d.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error("array should be an array!");if("function"!=typeof e)throw Error("iterator should be a function!");if("function"!=typeof r)throw Error("done should be a function!")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(62)},function(t,e,r){"use strict";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit("file",e.fullPath,e),void(this._first&&t.emit("end"));this._first&&(this._first=!1),t.emit("directory",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit("end")})}},function(t,e,r){"use strict";var n=r(64),o=r(14),i=r(63),a=r(61);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if("function"!=typeof e)throw Error("processingFn should be function!");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o="directory";if(!n){o="file";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit("end");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit("error",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit("progress",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on("directory",function(t){o.push(t)}),i.on("file",function(t,e){r.push(e)}),i.on("end",function(){e()})},function(){e(r,o)})}},function(t,e,r){"use strict";var n=r(65),o=r(1),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show("top")}t.exports=function(t){var e=a.Dialog;t.length&&o.show("top");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\/$/,""),f=n(r,function(t,e,r,n,o,u){var f,h=CloudCmd.PREFIX_URL+i+l+e,d=void 0;switch(t){case"file":d=function(t,e){return a.load.put(t,e)}(h,r);break;case"directory":f=h,d=a.load.put(f+"?dir")}d.on("end",u),d.on("progress",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on("error",function(t){e.alert(t),f.abort()}),f.on("progress",c),f.on("end",CloudCmd.refresh)}},function(t,e,r){"use strict";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error("element could not be empty!");if(!e)throw Error("className could not be empty!");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector("#"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name="'+t+'"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add("hidden"),n},t.exports.show=function(t){return t.classList.remove("hidden"),n}},function(t,e,r){"use strict";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(21),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){"use strict";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return["arrayBuffer","file","array","object"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),["null","string","undefined","boolean","number","function"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){"use strict";var n={"&nbsp;":" ","&lt;":"<","&gt;":">"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],"g");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,"g");t=t.replace(o,r)}),t}},function(t,e,r){"use strict";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){"use strict";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if("function"!=typeof t)throw Error("fn should be function!")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){var n;n=function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):C())};var s="undefined"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,m,y,b,C=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&M(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return B(o,n,i,r._result)})}else I(r,n,t,e);return n}function x(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return k(e,t),e}f?C=function(){return e.nextTick(v)}:l?(m=0,y=new l(v),b=document.createTextNode(""),y.observe(b,{characterData:!0}),C=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,C=function(){return g.port2.postMessage(0)}):C=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var _=void 0,P=1,F=2,S={error:null};function D(t){try{return t.then}catch(t){return S.error=t,S}}function j(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===P?N(t,e._result):e._state===F?O(t,e._result):I(e,void 0,function(e){return k(t,e)},function(e){return O(t,e)})}(e,r):n===S?(O(e,S.error),S.error=null):void 0===n?N(e,r):t(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?k(t,r):N(t,r))},function(e){n||(n=!0,O(t,e))},t._label);!n&&o&&(n=!0,O(t,o))},t)}(e,r,n):N(e,r)}function k(t,e){var r,n;t===e?O(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof(r=e),null===r||"object"!==n&&"function"!==n?N(t,e):j(t,e,D(e)))}function T(t){t._onerror&&t._onerror(t._result),L(t)}function N(t,e){t._state===_&&(t._result=e,t._state=P,0!==t._subscribers.length&&u(L,t))}function O(t,e){t._state===_&&(t._state=F,t._result=e,u(T,t))}function I(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+P]=r,o[i+F]=n,0===i&&t._state&&u(L,t)}function L(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?B(r,n,o,i):o(i);t._subscribers.length=0}}function B(e,r,n,o){var i=t(n),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(n,o))===S?(c=!0,u=a.error,a.error=null):s=!0,r===a)return void O(r,new TypeError("A promises callback cannot return that same promise."))}else a=o,s=!0;r._state!==_||(i&&s?k(r,a):c?O(r,u):e===P?N(r,a):e===F&&O(r,a))}var R=0;function M(t){t[E]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||M(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=D(t);if(o===w&&t._state!==_)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(A);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===_&&(this._remaining--,t===F?O(n,r):this._result[e]=r),0===this._remaining&&N(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,function(t){return r._settledAt(P,e,t)},function(t){return r._settledAt(F,e,t)})},t}();var H=function(){function t(e){this[E]=R++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return H.prototype.then=w,H.all=function(t){return new z(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=x,H.reject=function(t){var e=new this(A);return O(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=n()}).call(this,r(73),r(22))},function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;this._all={}}function o(t){if("string"!=typeof t)throw Error("event should be string!")}function i(t,e){o(t),function(t){if("function"!=typeof t)throw Error("callback should be function!")}(e)}t.exports=n,n.prototype.on=function(t,e){var r=this._all[t];return i(t,e),r?r.push(e):this._all[t]=[e],this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){var r=this;return i(t,e),r.on(t,function n(){e.apply(null,arguments),r.off(t,n)}),this},n.prototype.off=function(t,e){var r=this._all[t]||[],n=r.indexOf(e);for(i(t,e);~n;)r.splice(n,1),n=r.indexOf(e);return this},n.prototype.removeListener=n.prototype.off,n.prototype.emit=function(t){var e=[].slice.call(arguments,1),r=this._all[t];if(o(t),!r&&"error"===t)throw e[0];return r?(r.forEach(function(t){t.apply(null,e)}),this):this},n.prototype.removeAllListeners=function(t){return o(t),this._all[t]=[],this}}]]);
/src/cloudcmd.js-530-//# sourceMappingURL=common.js.map
##############################################
/src/modules/jquery/dist/jquery.slim.min.js-1-/*! jQuery v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector | (c) JS Foundation and other contributors | jquery.org/license */
/src/modules/jquery/dist/jquery.slim.min.js:2:!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,u=n.push,s=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,d=f.toString,p=d.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function e(t){return null!=t&&t===t.window},y={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in y)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var x="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",w=function(e,t){return new w.fn.init(e,t)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||g(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(T(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,u=!n;o<a;o++)(r=!t(e[o],o))!==u&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,u=[];if(T(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&u.push(i);return a.apply([],u)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,u,s,l,c,f,d,p,h,g,v,y,m,b,x="sizzle"+1*new Date,w=e.document,C=0,T=0,E=ae(),N=ae(),k=ae(),A=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,S=[],L=S.pop,j=S.push,q=S.push,O=S.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",M=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(I+"+","g"),$=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),F=new RegExp("^"+I+"*,"+I+"*"),z=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),_=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),U=new RegExp(M),V=new RegExp("^"+R+"$"),X={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){d()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{q.apply(S=O.call(w.childNodes),w.childNodes),S[w.childNodes.length].nodeType}catch(e){q={apply:S.length?function(e,t){j.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,u,l,c,f,h,y,m=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,g)){if(11!==C&&(f=K.exec(e)))if(o=f[1]){if(9===C){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&b(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return q.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return q.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!v||!v.test(e))){if(1!==C)m=t,y=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=x),u=(h=a(e)).length;while(u--)h[u]="#"+c+" "+ye(h[u]);y=h.join(","),m=J.test(e)&&ge(t.parentNode)||t}if(y)try{return q.apply(r,m.querySelectorAll(y)),r}catch(e){}finally{c===x&&t.removeAttribute("id")}}}return s(e.replace($,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function ue(e){return e[x]=!0,e}function se(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return ue(function(t){return t=+t,ue(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=p.documentElement,g=!o(p),w!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=se(function(e){return h.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=G.test(p.querySelectorAll))&&(se(function(e){h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),se(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=G.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",M)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=G.test(h.compareDocumentPosition),b=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(a[r]===u[r])r++;return r?ce(a[r],u[r]):a[r]===w?-1:u[r]===w?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(_,"='$1']"),n.matchesSelector&&g&&!k[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=u&&t.nodeName.toLowerCase(),m=!s&&!u,b=!1;if(v){if(o){while(g){d=t;while(d=d[g])if(u?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){b=(p=(l=(c=(f=(d=v)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&l[1])&&l[2],d=p&&v.childNodes[p];while(d=++p&&d&&d[g]||(b=p=0)||h.pop())if(1===d.nodeType&&++b&&d===t){c[e]=[C,p,b];break}}else if(m&&(b=p=(l=(c=(f=(d=t)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&l[1]),!1===b)while(d=++p&&d&&d[g]||(b=p=0)||h.pop())if((u?d.nodeName.toLowerCase()===y:1===d.nodeType)&&++b&&(m&&((c=(f=d[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[C,b]),d===t))break;return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ue(function(e){var t=[],n=[],r=u(e.replace($,"$1"));return r[x]?ue(function(e,t,n,i){var o,a=r(e,null,i,[]),u=e.length;while(u--)(o=a[u])&&(e[u]=!(t[u]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return oe(e,t).length>0}}),contains:ue(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ue(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ve(){}ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,a=oe.tokenize=function(e,t){var n,i,o,a,u,s,l,c=N[e+" "];if(c)return t?0:c.slice(0);u=e,s=[],l=r.preFilter;while(u){n&&!(i=F.exec(u))||(i&&(u=u.slice(i[0].length)||u),s.push(o=[])),n=!1,(i=z.exec(u))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),u=u.slice(n.length));for(a in r.filter)!(i=X[a].exec(u))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?oe.error(e):N(e,s).slice(0)};function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,u=T++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,s){var l,c,f,d=[C,u];if(s){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[x]||(t[x]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===C&&l[1]===u)return d[2]=l[2];if(c[o]=d,d[2]=e(t,n,s))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],u=0,s=e.length,l=null!=t;u<s;u++)(o=e[u])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(u)));return a}function Ce(e,t,n,r,i,o){return r&&!r[x]&&(r=Ce(r)),i&&!i[x]&&(i=Ce(i,o)),ue(function(o,a,u,s){var l,c,f,d=[],p=[],h=a.length,g=o||xe(t||"*",u.nodeType?[u]:u,[]),v=!e||!o&&t?g:we(g,d,e,u,s),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,u,s),r){l=we(y,p),r(l,[],u,s),c=l.length;while(c--)(f=l[c])&&(y[p[c]]=!(v[p[c]]=f))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,s)}c=y.length;while(c--)(f=y[c])&&(l=i?P(o,f):d[c])>-1&&(o[l]=!(a[l]=f))}}else y=we(y===a?y.splice(h,y.length):y),i?i(null,a,y,s):q.apply(a,y)})}function Te(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],u=a||r.relative[" "],s=a?1:0,c=me(function(e){return e===t},u,!0),f=me(function(e){return P(t,e)>-1},u,!0),d=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];s<o;s++)if(n=r.relative[e[s].type])d=[me(be(d),n)];else{if((n=r.filter[e[s].type].apply(null,e[s].matches))[x]){for(i=++s;i<o;i++)if(r.relative[e[i].type])break;return Ce(s>1&&be(d),s>1&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),n,s<i&&Te(e.slice(s,i)),i<o&&Te(e=e.slice(i)),i<o&&ye(e))}d.push(n)}return be(d)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,u,s,c){var f,h,v,y=0,m="0",b=o&&[],x=[],w=l,T=o||i&&r.find.TAG("*",c),E=C+=null==w?1:Math.random()||.1,N=T.length;for(c&&(l=a===p||a||c);m!==N&&null!=(f=T[m]);m++){if(i&&f){h=0,a||f.ownerDocument===p||(d(f),u=!g);while(v=e[h++])if(v(f,a||p,u)){s.push(f);break}c&&(C=E)}n&&((f=!v&&f)&&y--,o&&b.push(f))}if(y+=m,n&&m!==y){h=0;while(v=t[h++])v(b,x,a,u);if(o){if(y>0)while(m--)b[m]||x[m]||(x[m]=L.call(s));x=we(x)}q.apply(s,x),c&&!o&&x.length>0&&y+t.length>1&&oe.uniqueSort(s)}return c&&(C=E,l=w),b};return n?ue(o):o}return u=oe.compile=function(e,t){var n,r=[],i=[],o=k[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Te(t[n]))[x]?r.push(o):i.push(o);(o=k(e,Ee(i,r))).selector=e}return o},s=oe.select=function(e,t,n,i){var o,s,l,c,f,d="function"==typeof e&&e,p=!i&&a(e=d.selector||e);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&g&&r.relative[s[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}o=X.needsContext.test(e)?0:s.length;while(o--){if(l=s[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),J.test(s[0].type)&&ge(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&ye(s)))return q.apply(n,i),n;break}}}return(d||u(e,p))(i,t,!g,n,!t||J.test(e)&&ge(t.parentNode)||t),n},n.sortStable=x.split("").sort(A).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(H,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var N=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=w.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return s.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&A.test(e)?w(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),S.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,j=w(r);var O=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function H(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N(e,"parentNode")},parentsUntil:function(e,t,n){return N(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return N(e,"nextSibling")},prevAll:function(e){return N(e,"previousSibling")},nextUntil:function(e,t,n){return N(e,"nextSibling",n)},prevUntil:function(e,t,n){return N(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(P[e]||w.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],u=-1,s=function(){for(i=i||e.once,r=t=!0;a.length;u=-1){n=a.shift();while(++u<o.length)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function B(e){return e}function M(e){throw e}function W(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var u=this,s=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(u,s))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,B,i),a(o,n,M,i)):(o++,l.call(e,a(o,n,B,i),a(o,n,M,i),a(o,n,B,n.notifyWith))):(r!==B&&(u=void 0,s=[e]),(i||n.resolveWith)(u,s))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==M&&(u=void 0,s=[e]),n.rejectWith(u,s))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:B,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:B)),n[2][3].add(a(0,e,g(r)?r:M))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],u=t[5];i[t[1]]=a.add,u&&a.add(function(){r=u},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),u=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(W(e,a.done(u(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)W(i[n],u(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function z(){r.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var _=function(e,t,n,r,i,o,a){var u=0,s=e.length,l=null==n;if("object"===b(n)){i=!0;for(u in n)_(e,t,u,n[u],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;u<s;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return i?e:l?t.call(e):s?t(e[0],n):o},U=/^-ms-/,V=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function Q(e){return e.replace(U,"ms-").replace(V,X)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Q(t)]=n;else for(r in t)i[Q(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(I)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var K=new G,J=new G,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),ne(o,r,i[r]));K.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):_(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=J.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=K.get(e,t),n&&(!r||Array.isArray(n)?r=K.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:w.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,u=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=K.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function se(e,t,n,r){var i,o,a=20,u=r?function(){return r.cur()}:function(){return w.css(e,t,"")},s=u(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+s)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){s/=2,l=l||c[3],c=+s||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=u()/s||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+s||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=K.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",K.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?w.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function be(e,t,n,r,i){for(var o,a,u,s,l,c,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===b(o))w.merge(d,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),u=(pe.exec(o)||["",""])[1].toLowerCase(),s=ge[u]||ge._default,a.innerHTML=s[1]+w.htmlPrefilter(o)+s[2],c=s[0];while(c--)a=a.lastChild;w.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(o));f.textContent="",p=0;while(o=d[p++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var xe=r.documentElement,we=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Ne(){return!1}function ke(){try{return r.activeElement}catch(e){}}function Ae(e,t,n,r,i,o){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)Ae(e,u,n,r,t[u],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ne;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,u,s,l,c,f,d,p,h,g,v=K.get(e);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(xe,i),n.guid||(n.guid=w.guid++),(s=v.events)||(s=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(I)||[""]).length;while(l--)p=g=(u=Te.exec(t[l])||[])[1],h=(u[2]||"").split(".").sort(),p&&(f=w.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=w.event.special[p]||{},c=w.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=s[p])||((d=s[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),w.event.global[p]=!0)}},remove:function(e,t,n,r,i){var o,a,u,s,l,c,f,d,p,h,g,v=K.hasData(e)&&K.get(e);if(v&&(s=v.events)){l=(t=(t||"").match(I)||[""]).length;while(l--)if(u=Te.exec(t[l])||[],p=g=u[1],h=(u[2]||"").split(".").sort(),p){f=w.event.special[p]||{},d=s[p=(r?f.delegateType:f.bindType)||p]||[],u=u[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;while(o--)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||w.removeEvent(e,p,v.handle),delete s[p])}else for(p in s)w.event.remove(e,p+t[l],n,r,!0);w.isEmptyObject(s)&&K.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,u,s=new Array(arguments.length),l=(K.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(s[0]=t,n=1;n<arguments.length;n++)s[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){u=w.event.handlers.call(this,t,l),n=0;while((o=u[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,u=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&u.push({elem:l,handlers:o})}return l=this,s<t.length&&u.push({elem:l,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ke()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){w.event.remove(this,e,n,t)})}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,a,u,s,l;if(1===t.nodeType){if(K.hasData(e)&&(o=K.access(e),a=K.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}J.hasData(e)&&(u=J.access(e),s=w.extend({},u),J.set(t,s))}}function Ie(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,u,s,l,c,f=0,d=e.length,p=d-1,v=t[0],y=g(v);if(y||d>1&&"string"==typeof v&&!h.checkClone&&Le.test(v))return e.each(function(i){var o=e.eq(i);y&&(t[0]=v.call(this,i,o.html())),Re(o,t,n,r)});if(d&&(i=be(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(u=w.map(ve(i,"script"),Oe)).length;f<d;f++)l=i,f!==p&&(l=w.clone(l,!0,!0),s&&w.merge(u,ve(l,"script"))),n.call(e[f],l,f);if(s)for(c=u[u.length-1].ownerDocument,w.map(u,Pe),f=0;f<s;f++)l=u[f],he.test(l.type||"")&&!K.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(je,""),c,l))}return e}function Be(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ve(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,u=e.cloneNode(!0),s=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ve(u),r=0,i=(o=ve(e)).length;r<i;r++)Ie(o[r],a[r]);if(t)if(n)for(o=o||ve(e),a=a||ve(u),r=0,i=o.length;r<i;r++)He(o[r],a[r]);else He(e,u);return(a=ve(u,"script")).length>0&&ye(a,!s&&ve(e,"script")),u},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[K.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[K.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return _(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}});var Me=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},$e=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,s=12===n(t.marginLeft),c.style.right="60%",u=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",xe.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,u,s,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),u},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,u=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&Me.test(a)&&$e.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var _e=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Ge(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Ye)return e}function Ke(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Ge(e)||e),t}function Je(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(s-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(s-=w.css(e,"border"+oe[a]+"Width",!0,i))):(s+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?s+=w.css(e,"border"+oe[a]+"Width",!0,i):u+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-u-.5))),s}function et(e,t,n){var r=We(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(Me.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,u=Q(t),s=Ue.test(t),l=e.style;if(s||(t=Ke(u)),a=w.cssHooks[t]||w.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[u]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,u=Q(t);return Ue.test(t)||(t=Ke(u)),(a=w.cssHooks[t]||w.cssHooks[u])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Xe&&(i=Xe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!_e.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):ue(e,Ve,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=We(e),a="border-box"===w.css(e,"boxSizing",!1,o),u=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),u&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Je(e,n,u)}}}),w.cssHooks.marginLeft=ze(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Je)}),w.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var tt,nt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return _(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?tt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(I);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),tt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=nt[t]||w.find.attr;nt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=nt[a],nt[a]=i,i=null!=n(e,t,r)?a:null,nt[a]=o),i}});var rt=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return _(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):rt.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function ot(e){return(e.match(I)||[]).join(" ")}function at(e){return e.getAttribute&&e.getAttribute("class")||""}function ut(e){return Array.isArray(e)?e:"string"==typeof e?e.match(I)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,u,s=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,at(this)))});if((t=ut(e)).length)while(n=this[s++])if(i=at(n),r=1===n.nodeType&&" "+ot(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(u=ot(r))&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,i,o,a,u,s=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,at(this)))});if(!arguments.length)return this.attr("class","");if((t=ut(e)).length)while(n=this[s++])if(i=at(n),r=1===n.nodeType&&" "+ot(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(u=ot(r))&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,at(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=ut(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=at(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+ot(at(n))+" ").indexOf(t)>-1)return!0;return!1}});var st=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(st,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ot(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?o+1:i.length;for(r=o<0?s:a?o:0;r<s;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;u.push(t)}return u},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var lt=/^(?:focusinfocus|focusoutblur)$/,ct=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,u,s,l,c,d,p,h,y=[i||r],m=f.call(t,"type")?t.type:t,b=f.call(t,"namespace")?t.namespace.split("."):[];if(u=h=s=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!lt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(b=m.split(".")).shift(),b.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(i,n))){if(!o&&!p.noBubble&&!v(i)){for(l=p.delegateType||m,lt.test(l+m)||(u=u.parentNode);u;u=u.parentNode)y.push(u),s=u;s===(i.ownerDocument||r)&&y.push(s.defaultView||s.parentWindow||e)}a=0;while((u=y[a++])&&!t.isPropagationStopped())h=u,t.type=a>1?l:p.bindType||m,(d=(K.get(u,"events")||{})[t.type]&&K.get(u,"handle"))&&d.apply(u,n),(d=c&&u[c])&&d.apply&&Y(u)&&(t.result=d.apply(u,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),n)||!Y(i)||c&&g(i[m])&&!v(i)&&((s=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,ct),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,ct),w.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=K.access(r,t);i||r.addEventListener(e,n,!0),K.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=K.access(r,t)-1;i?K.access(r,t,i):(r.removeEventListener(e,n,!0),K.remove(r,t))}}});var ft=/\[\]$/,dt=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,ht=/^(?:input|select|textarea|keygen)/i;function gt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||ft.test(e)?r(e,i):gt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==b(t))r(e,t);else for(i in t)gt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)gt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&ht.test(this.nodeName)&&!pt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(dt,"\r\n")}}):{name:t.name,value:n.replace(dt,"\r\n")}}).get()}}),w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=S.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=be([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.offset={setOffset:function(e,t,n){var r,i,o,a,u,s,l,c=w.css(e,"position"),f=w(e),d={};"static"===c&&(e.style.position="relative"),u=f.offset(),o=w.css(e,"top"),s=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(s)||0),g(t)&&(t=t.call(e,n,w.extend({},u))),null!=t.top&&(d.top=t.top-u.top+a),null!=t.left&&(d.left=t.left-u.left+i),"using"in t?t.using.call(e,d):f.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||xe})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return _(this,function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),Me.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),u=n||(!0===i||!0===o?"margin":"border");return _(this,function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,u):w.style(t,n,i,u)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=g,w.isWindow=v,w.camelCase=Q,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var vt=e.jQuery,yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=yt),t&&e.jQuery===w&&(e.jQuery=vt),w},t||(e.jQuery=e.$=w),w});
##############################################
/src/modules/jquery/dist/jquery.slim.js-4191-	if ( rbrace.test( data ) ) {
/src/modules/jquery/dist/jquery.slim.js:4192:		return JSON.parse( data );
/src/modules/jquery/dist/jquery.slim.js-4193-	}
##############################################
/src/modules/jquery/dist/jquery.slim.js-6908-				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
/src/modules/jquery/dist/jquery.slim.js:6909:				// Use proper attribute retrieval(#12072)
/src/modules/jquery/dist/jquery.slim.js-6910-				var tabindex = jQuery.find.attr( elem, "tabindex" );
##############################################
/src/modules/jquery/dist/jquery.js-4191-	if ( rbrace.test( data ) ) {
/src/modules/jquery/dist/jquery.js:4192:		return JSON.parse( data );
/src/modules/jquery/dist/jquery.js-4193-	}
##############################################
/src/modules/jquery/dist/jquery.js-7701-				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
/src/modules/jquery/dist/jquery.js:7702:				// Use proper attribute retrieval(#12072)
/src/modules/jquery/dist/jquery.js-7703-				var tabindex = jQuery.find.attr( elem, "tabindex" );
##############################################
/src/modules/jquery/dist/jquery.js-9487-
/src/modules/jquery/dist/jquery.js:9488:				xhr.open(
/src/modules/jquery/dist/jquery.js-9489-					options.type,
##############################################
/src/modules/jquery/dist/jquery.min.js-1-/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
/src/modules/jquery/dist/jquery.min.js:2:!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});
##############################################
/src/modules/smalltalk/dist/smalltalk.native.poly.min.js.map:1:{"version":3,"sources":["file://smalltalk/smalltalk.native.poly.min.js","file://smalltalk/webpack/bootstrap 1a54a0219f27530fd757","file://smalltalk/node_modules/es6-promise/dist/es6-promise.js","file://smalltalk/node_modules/process/browser.js","file://smalltalk/node_modules/webpack/buildin/global.js","file://smalltalk/lib/smalltalk.native.js"],"names":["smalltalk","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","process","global","factory","this","objectOrFunction","x","type","isFunction","setScheduler","scheduleFn","customSchedulerFn","setAsap","asapFn","asap","useVertxTimer","vertxNext","flush","useSetTimeout","globalSetTimeout","setTimeout","len","callback","queue","undefined","then","onFulfillment","onRejection","_arguments","arguments","parent","child","constructor","noop","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","resolve$1","Constructor","promise","resolve","selfFulfillment","TypeError","cannotReturnOwn","getThen","error","GET_THEN_ERROR","tryThen","then$$1","value","fulfillmentHandler","rejectionHandler","e","handleForeignThenable","thenable","sealed","fulfill","reason","reject","_label","handleOwnThenable","FULFILLED","REJECTED","handleMaybeThenable","maybeThenable","publishRejection","_onerror","publish","PENDING","_subscribers","length","subscribers","settled","detail","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","succeeded","failed","initializePromise","resolver","nextId","id","Enumerator$1","input","_instanceConstructor","isArray","_remaining","Array","_enumerate","validationError","Error","all$1","entries","race$1","_","reject$1","needsResolver","needsNew","Promise$2","polyfill$1","local","self","Function","P","Promise","promiseToString","toString","cast","_isArray","arg","scheduleFlush","browserWindow","window","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","MessageChannel","nextTick","iterations","observer","node","document","createTextNode","observe","characterData","data","channel","port1","onmessage","port2","postMessage","vertx","runOnLoop","runOnContext","Math","random","substring","_eachEntry","entry","resolve$$1","_then","_settledAt","_willSettleAt","state","enumerator","all","race","_setScheduler","_setAsap","_asap","catch","polyfill","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","concat","queueIndex","drainQueue","timeout","run","Item","array","args","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","g","eval","alert","message","prompt","options","noCancel","cancel","result","confirm"],"mappings":"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","file":"smalltalk.native.poly.min.js","sourcesContent":["var smalltalk =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!******************************************************!*\\\n  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!\n  \\******************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global) {var require;/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = __webpack_require__(/*! vertx */ 3);\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../process/browser.js */ 1), __webpack_require__(/*! ./../../webpack/buildin/global.js */ 2)))\n\n/***/ }),\n/* 1 */\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 2 */\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 3 */\n/*!***********************!*\\\n  !*** vertx (ignored) ***!\n  \\***********************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/*!*********************************!*\\\n  !*** ./lib/smalltalk.native.js ***!\n  \\*********************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nwindow.Promise = window.Promise || __webpack_require__(/*! es6-promise */ 0);\n\nexports.alert = function (title, message) {\n    var promise = new Promise(function (resolve) {\n        alert(message);\n        resolve();\n    });\n\n    return promise;\n};\n\nexports.prompt = function (title, message, value, options) {\n    var o = options;\n    var promise = new Promise(function (resolve, reject) {\n        var noCancel = o && !o.cancel;\n        var result = prompt(message, value);\n\n        if (result !== null) return resolve(result);\n\n        if (noCancel) return;\n\n        reject();\n    });\n\n    return promise;\n};\n\nexports.confirm = function (title, message, options) {\n    var o = options;\n    var noCancel = o && !o.cancel;\n    var promise = new Promise(function (resolve, reject) {\n        var is = confirm(message);\n\n        if (is) return resolve();\n\n        if (noCancel) return;\n\n        reject();\n    });\n\n    return promise;\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// smalltalk.native.poly.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1a54a0219f27530fd757","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/es6-promise/dist/es6-promise.js\n// module id = 0\n// module chunks = 0 1","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 1\n// module chunks = 0 1","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 2\n// module chunks = 0 1","'use strict';\n\nwindow.Promise = window.Promise || require('es6-promise');\n\nexports.alert = (title, message) => {\n    const promise = new Promise((resolve) => {\n        alert(message);\n        resolve();\n    });\n    \n    return promise;\n};\n\nexports.prompt = (title, message, value, options) => {\n    const o = options;\n    const promise = new Promise((resolve, reject) => {\n        const noCancel = o && !o.cancel;\n        const result = prompt(message, value);\n        \n        if (result !== null)\n            return resolve(result);\n        \n        if (noCancel)\n            return;\n        \n        reject();\n    });\n    \n    return promise;\n};\n\nexports.confirm = (title, message, options) => {\n    const o = options;\n    const noCancel = o && !o.cancel;\n    const promise = new Promise((resolve, reject) => {\n        const is = confirm(message);\n        \n        if (is)\n            return resolve();\n        \n        if (noCancel)\n            return;\n        \n        reject();\n    });\n    \n    return promise;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/smalltalk.native.js"],"sourceRoot":""}
##############################################
/src/modules/smalltalk/dist/smalltalk.poly.min.js.map:1:{"version":3,"sources":["file://smalltalk/smalltalk.poly.min.js","file://smalltalk/webpack/bootstrap 1a54a0219f27530fd757","file://smalltalk/node_modules/es6-promise/dist/es6-promise.js","file://smalltalk/node_modules/process/browser.js","file://smalltalk/node_modules/webpack/buildin/global.js","file://smalltalk/lib/smalltalk.js","file://smalltalk/node_modules/currify/legacy/index.js","file://smalltalk/node_modules/currify/legacy/lib/currify.js","file://smalltalk/node_modules/fullstore/legacy/index.js","file://smalltalk/node_modules/fullstore/legacy/lib/fullstore.js"],"names":["smalltalk","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","process","global","factory","this","objectOrFunction","x","type","isFunction","setScheduler","scheduleFn","customSchedulerFn","setAsap","asapFn","asap","useVertxTimer","vertxNext","flush","useSetTimeout","globalSetTimeout","setTimeout","len","callback","queue","undefined","then","onFulfillment","onRejection","_arguments","arguments","parent","child","constructor","noop","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","resolve$1","Constructor","promise","resolve","selfFulfillment","TypeError","cannotReturnOwn","getThen","error","GET_THEN_ERROR","tryThen","then$$1","value","fulfillmentHandler","rejectionHandler","e","handleForeignThenable","thenable","sealed","fulfill","reason","reject","_label","handleOwnThenable","FULFILLED","REJECTED","handleMaybeThenable","maybeThenable","publishRejection","_onerror","publish","PENDING","_subscribers","length","subscribers","settled","detail","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","succeeded","failed","initializePromise","resolver","nextId","id","Enumerator$1","input","_instanceConstructor","isArray","_remaining","Array","_enumerate","validationError","Error","all$1","entries","race$1","_","reject$1","needsResolver","needsNew","Promise$2","polyfill$1","local","self","Function","P","Promise","promiseToString","toString","cast","_isArray","arg","scheduleFlush","browserWindow","window","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","MessageChannel","nextTick","iterations","observer","node","document","createTextNode","observe","characterData","data","channel","port1","onmessage","port2","postMessage","vertx","runOnLoop","runOnContext","Math","random","substring","_eachEntry","entry","resolve$$1","_then","_settledAt","_willSettleAt","state","enumerator","all","race","_setScheduler","_setAsap","_asap","catch","polyfill","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","concat","queueIndex","drainQueue","timeout","run","Item","array","args","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","g","eval","getType","getTemplate","msg","buttons","replace","map","toLowerCase","join","showDialog","options","ok","store","cancel","dialog","createElement","closeButtons","noCancel","empty","tmpl","innerHTML","className","body","appendChild","find","forEach","el","focus","setSelectionRange","addListenerAll","event","closeDialog","target","addEventListener","keyDown","keyDown_","KEY","ENTER","ESC","TAB","LEFT","UP","RIGHT","DOWN","keyCode","namesAll","names","getDataName","preventDefault","remove","shiftKey","tab","filter","toUpperCase","changeButtonFocus","stopPropagation","getAttribute","active","activeElement","activeName","isButton","test","count","activeIndex","indexOf","getIndex","reduce","element","notEmpty","a","querySelector","elements","fn","removeEl","parentElement","removeChild","currify","_len","_key","BUTTON_OK","BUTTON_OK_CANCEL","alert","prompt","valueStr","String","confirm","index","check","f","b","again","slice"],"mappings":"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","file":"smalltalk.poly.min.js","sourcesContent":["var smalltalk =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!******************************************************!*\\\n  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!\n  \\******************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global) {var require;/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = __webpack_require__(/*! vertx */ 3);\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../process/browser.js */ 1), __webpack_require__(/*! ./../../webpack/buildin/global.js */ 2)))\n\n/***/ }),\n/* 1 */\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 2 */\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 3 */\n/*!***********************!*\\\n  !*** vertx (ignored) ***!\n  \\***********************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 4 */\n/*!**************************!*\\\n  !*** ./lib/smalltalk.js ***!\n  \\**************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nwindow.Promise = window.Promise || __webpack_require__(/*! es6-promise */ 0);\n\nvar currify = __webpack_require__(/*! currify/legacy */ 5);\nvar store = __webpack_require__(/*! fullstore/legacy */ 7);\nvar keyDown = currify(keyDown_);\n\nvar remove = bind(removeEl, '.smalltalk');\n\nvar BUTTON_OK = ['OK'];\nvar BUTTON_OK_CANCEL = ['OK', 'Cancel'];\n\nexports.alert = function (title, msg) {\n    return showDialog(title, msg, '', BUTTON_OK, { cancel: false });\n};\n\nexports.prompt = function (title, msg) {\n    var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var options = arguments[3];\n\n    var type = getType(options);\n\n    var val = String(value).replace(/\"/g, '&quot;');\n\n    var valueStr = '<input type=\"' + type + '\" value=\"' + val + '\" data-name=\"js-input\">';\n\n    return showDialog(title, msg, valueStr, BUTTON_OK_CANCEL, options);\n};\n\nexports.confirm = function (title, msg, options) {\n    return showDialog(title, msg, '', BUTTON_OK_CANCEL, options);\n};\n\nfunction getType() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var type = options.type;\n\n\n    if (type === 'password') return 'password';\n\n    return 'text';\n}\n\nfunction getTemplate(title, msg, value, buttons) {\n    var encodedMsg = msg.replace(/\\n/g, '<br>');\n\n    return '<div class=\"page\">\\n        <div data-name=\"js-close\" class=\"close-button\"></div>\\n        <header>' + title + '</header>\\n        <div class=\"content-area\">' + encodedMsg + value + '</div>\\n        <div class=\"action-area\">\\n            <div class=\"button-strip\"> ' + buttons.map(function (name, i) {\n        return '<button tabindex=' + i + ' data-name=\"js-' + name.toLowerCase() + '\">' + name + '</button>';\n    }).join('') + '\\n            </div>\\n        </div>\\n    </div>';\n}\n\nfunction showDialog(title, msg, value, buttons, options) {\n    var ok = store();\n    var cancel = store();\n\n    var dialog = document.createElement('div');\n    var closeButtons = ['cancel', 'close', 'ok'];\n\n    var promise = new Promise(function (resolve, reject) {\n        var noCancel = options && !options.cancel;\n        var empty = function empty() {};\n\n        ok(resolve);\n        cancel(noCancel ? empty : reject);\n    });\n\n    var tmpl = getTemplate(title, msg, value, buttons);\n\n    dialog.innerHTML = tmpl;\n    dialog.className = 'smalltalk';\n\n    document.body.appendChild(dialog);\n\n    find(dialog, ['ok', 'input']).forEach(function (el) {\n        return el.focus();\n    });\n\n    find(dialog, ['input']).forEach(function (el) {\n        el.setSelectionRange(0, value.length);\n    });\n\n    addListenerAll('click', dialog, closeButtons, function (event) {\n        return closeDialog(event.target, dialog, ok(), cancel());\n    });\n\n    ['click', 'contextmenu'].forEach(function (event) {\n        return dialog.addEventListener(event, function () {\n            return find(dialog, ['ok', 'input']).forEach(function (el) {\n                return el.focus();\n            });\n        });\n    });\n\n    dialog.addEventListener('keydown', keyDown(dialog, ok(), cancel()));\n\n    return promise;\n}\n\nfunction keyDown_(dialog, ok, cancel, event) {\n    var KEY = {\n        ENTER: 13,\n        ESC: 27,\n        TAB: 9,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40\n    };\n\n    var keyCode = event.keyCode;\n    var el = event.target;\n\n    var namesAll = ['ok', 'cancel', 'input'];\n    var names = find(dialog, namesAll).map(getDataName);\n\n    switch (keyCode) {\n        case KEY.ENTER:\n            closeDialog(el, dialog, ok, cancel);\n            event.preventDefault();\n            break;\n\n        case KEY.ESC:\n            remove();\n            cancel();\n            break;\n\n        case KEY.TAB:\n            if (event.shiftKey) tab(dialog, names);\n\n            tab(dialog, names);\n            event.preventDefault();\n            break;\n\n        default:\n            ['left', 'right', 'up', 'down'].filter(function (name) {\n                return keyCode === KEY[name.toUpperCase()];\n            }).forEach(function () {\n                changeButtonFocus(dialog, names);\n            });\n\n            break;\n    }\n\n    event.stopPropagation();\n}\n\nfunction getDataName(el) {\n    return el.getAttribute('data-name').replace('js-', '');\n}\n\nfunction changeButtonFocus(dialog, names) {\n    var active = document.activeElement;\n    var activeName = getDataName(active);\n    var isButton = /ok|cancel/.test(activeName);\n    var count = names.length - 1;\n    var getName = function getName(activeName) {\n        if (activeName === 'cancel') return 'ok';\n\n        return 'cancel';\n    };\n\n    if (activeName === 'input' || !count || !isButton) return;\n\n    var name = getName(activeName);\n\n    find(dialog, [name]).forEach(function (el) {\n        el.focus();\n    });\n}\n\nvar getIndex = function getIndex(count, index) {\n    if (index === count) return 0;\n\n    return index + 1;\n};\n\nfunction tab(dialog, names) {\n    var active = document.activeElement;\n    var activeName = getDataName(active);\n    var count = names.length - 1;\n\n    var activeIndex = names.indexOf(activeName);\n    var index = getIndex(count, activeIndex);\n\n    var name = names[index];\n\n    find(dialog, [name]).forEach(function (el) {\n        return el.focus();\n    });\n}\n\nfunction closeDialog(el, dialog, ok, cancel) {\n    var name = el.getAttribute('data-name').replace('js-', '');\n\n    if (/close|cancel/.test(name)) {\n        cancel();\n        remove();\n        return;\n    }\n\n    var value = find(dialog, ['input']).reduce(function (value, el) {\n        return el.value;\n    }, null);\n\n    ok(value);\n    remove();\n}\n\nfunction find(element, names) {\n    var notEmpty = function notEmpty(a) {\n        return a;\n    };\n    var elements = names.map(function (name) {\n        return element.querySelector('[data-name=\"js-' + name + '\"]');\n    }).filter(notEmpty);\n\n    return elements;\n}\n\nfunction addListenerAll(event, parent, elements, fn) {\n    find(parent, elements).forEach(function (el) {\n        return el.addEventListener(event, fn);\n    });\n}\n\nfunction removeEl(name) {\n    var el = document.querySelector(name);\n\n    el.parentElement.removeChild(el);\n}\n\nfunction bind(fn) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    return function () {\n        return fn.apply(undefined, args);\n    };\n}\n\n/***/ }),\n/* 5 */\n/*!**********************************************!*\\\n  !*** ./node_modules/currify/legacy/index.js ***!\n  \\**********************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./lib/currify */ 6);\n\n\n/***/ }),\n/* 6 */\n/*!****************************************************!*\\\n  !*** ./node_modules/currify/legacy/lib/currify.js ***!\n  \\****************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar f = function f(fn) {\n    return [\n    /*eslint no-unused-vars: 0*/\n    function (a) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d, e) {\n        return fn.apply(undefined, arguments);\n    }];\n};\n\nmodule.exports = function currify(fn) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    check(fn);\n\n    if (args.length >= fn.length) return fn.apply(undefined, args);\n\n    var again = function again() {\n        return currify.apply(undefined, [fn].concat(args, Array.prototype.slice.call(arguments)));\n    };\n\n    var count = fn.length - args.length - 1;\n    var func = f(again)[count];\n\n    return func || again;\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n/***/ }),\n/* 7 */\n/*!************************************************!*\\\n  !*** ./node_modules/fullstore/legacy/index.js ***!\n  \\************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./lib/fullstore */ 8);\n\n\n/***/ }),\n/* 8 */\n/*!********************************************************!*\\\n  !*** ./node_modules/fullstore/legacy/lib/fullstore.js ***!\n  \\********************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (value) {\n    var data = {\n        value: value\n    };\n\n    return function (value) {\n        if (!arguments.length) return data.value;\n\n        data.value = value;\n\n        return value;\n    };\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// smalltalk.poly.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1a54a0219f27530fd757","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/es6-promise/dist/es6-promise.js\n// module id = 0\n// module chunks = 0 1","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 1\n// module chunks = 0 1","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 2\n// module chunks = 0 1","'use strict';\n\nwindow.Promise = window.Promise || require('es6-promise');\n\nconst currify = require('currify/legacy');\nconst store = require('fullstore/legacy');\nconst keyDown = currify(keyDown_);\n\nconst remove = bind(removeEl, '.smalltalk');\n\nconst BUTTON_OK = ['OK'];\nconst BUTTON_OK_CANCEL = ['OK', 'Cancel'];\n\nexports.alert = (title, msg) => {\n    return showDialog(title, msg, '', BUTTON_OK, {cancel: false});\n};\n\nexports.prompt = (title, msg, value = '', options) => {\n    const type = getType(options);\n    \n    const val = String(value)\n        .replace(/\"/g, '&quot;');\n    \n    const valueStr = `<input type=\"${ type }\" value=\"${ val }\" data-name=\"js-input\">`;\n    \n    return showDialog(title, msg, valueStr, BUTTON_OK_CANCEL, options);\n};\n\nexports.confirm = (title, msg, options) => {\n    return showDialog(title, msg, '', BUTTON_OK_CANCEL, options);\n};\n\nfunction getType(options = {}) {\n    const {type} = options;\n    \n    if (type === 'password')\n        return 'password';\n    \n    return 'text';\n}\n\nfunction getTemplate(title, msg, value, buttons) {\n    const encodedMsg = msg.replace(/\\n/g, '<br>');\n    \n    return `<div class=\"page\">\n        <div data-name=\"js-close\" class=\"close-button\"></div>\n        <header>${ title }</header>\n        <div class=\"content-area\">${ encodedMsg }${ value }</div>\n        <div class=\"action-area\">\n            <div class=\"button-strip\"> ${\n                buttons.map((name, i) =>\n                    `<button tabindex=${ i } data-name=\"js-${ name.toLowerCase() }\">${ name }</button>`\n                ).join('')\n            }\n            </div>\n        </div>\n    </div>`;\n}\n\nfunction showDialog(title, msg, value, buttons, options) {\n    const ok = store();\n    const cancel = store();\n    \n    const dialog = document.createElement('div');\n    const closeButtons = [\n        'cancel',\n        'close',\n        'ok'\n    ];\n    \n    const promise = new Promise((resolve, reject) => {\n        const noCancel = options && !options.cancel;\n        const empty = () => {};\n        \n        ok(resolve);\n        cancel(noCancel ? empty : reject);\n    });\n    \n    const tmpl = getTemplate(title, msg, value, buttons);\n    \n    dialog.innerHTML = tmpl;\n    dialog.className = 'smalltalk';\n    \n    document.body.appendChild(dialog);\n    \n    find(dialog, ['ok', 'input']).forEach((el) =>\n        el.focus()\n    );\n    \n    find(dialog, ['input']).forEach((el) => {\n        el.setSelectionRange(0, value.length);\n    });\n    \n    addListenerAll('click', dialog, closeButtons, (event) =>\n        closeDialog(event.target, dialog, ok(), cancel())\n    );\n    \n    ['click', 'contextmenu'].forEach((event) =>\n        dialog.addEventListener(event, () =>\n            find(dialog, ['ok', 'input']).forEach((el) =>\n                el.focus()\n            )\n        )\n    );\n    \n    dialog.addEventListener('keydown', keyDown(dialog, ok(), cancel()));\n    \n    return promise;\n}\n\nfunction keyDown_(dialog, ok, cancel, event) {\n    const KEY   = {\n        ENTER : 13,\n        ESC   : 27,\n        TAB   : 9,\n        LEFT  : 37,\n        UP    : 38,\n        RIGHT : 39,\n        DOWN  : 40\n    };\n    \n    const keyCode = event.keyCode;\n    const el = event.target;\n    \n    const namesAll = ['ok', 'cancel', 'input'];\n    const names = find(dialog, namesAll)\n        .map(getDataName);\n    \n    switch(keyCode) {\n    case KEY.ENTER:\n        closeDialog(el, dialog, ok, cancel);\n        event.preventDefault();\n        break;\n    \n    case KEY.ESC:\n        remove();\n        cancel();\n        break;\n    \n    case KEY.TAB:\n        if (event.shiftKey)\n            tab(dialog, names);\n        \n        tab(dialog, names);\n        event.preventDefault();\n        break;\n    \n    default:\n        ['left', 'right', 'up', 'down'].filter((name) => {\n            return keyCode === KEY[name.toUpperCase()];\n        }).forEach(() => {\n            changeButtonFocus(dialog, names);\n        });\n        \n        break;\n    }\n    \n    event.stopPropagation();\n}\n\nfunction getDataName(el) {\n    return el\n        .getAttribute('data-name')\n        .replace('js-', '');\n}\n\nfunction changeButtonFocus(dialog, names) {\n    const active = document.activeElement;\n    const activeName = getDataName(active);\n    const isButton = /ok|cancel/.test(activeName);\n    const count = names.length - 1;\n    const getName = (activeName) => {\n        if (activeName === 'cancel')\n            return 'ok';\n        \n        return 'cancel';\n    };\n    \n    if (activeName === 'input' || !count || !isButton)\n        return;\n    \n    const name = getName(activeName);\n    \n    find(dialog, [name]).forEach((el) => {\n        el.focus();\n    });\n}\n\nconst getIndex = (count, index) => {\n    if (index === count)\n        return 0;\n    \n    return index + 1;\n};\n\nfunction tab(dialog, names) {\n    const active = document.activeElement;\n    const activeName = getDataName(active);\n    const count = names.length - 1;\n    \n    const activeIndex = names.indexOf(activeName);\n    const index = getIndex(count, activeIndex);\n    \n    const name = names[index];\n    \n    find(dialog, [name]).forEach((el) =>\n        el.focus()\n    );\n}\n\nfunction closeDialog(el, dialog, ok, cancel) {\n    const name = el\n        .getAttribute('data-name')\n        .replace('js-', '');\n    \n    if (/close|cancel/.test(name)) {\n        cancel();\n        remove();\n        return;\n    }\n    \n    const value = find(dialog, ['input'])\n        .reduce((value, el) => el.value, null);\n    \n    ok(value);\n    remove();\n}\n\nfunction find(element, names) {\n    const notEmpty = (a) => a;\n    const elements = names.map((name) =>\n        element.querySelector(`[data-name=\"js-${ name }\"]`)\n    ).filter(notEmpty);\n    \n    return elements;\n}\n\nfunction addListenerAll(event, parent, elements, fn) {\n    find(parent, elements)\n        .forEach((el) =>\n            el.addEventListener(event, fn)\n        );\n}\n\nfunction removeEl(name) {\n     const el = document.querySelector(name);\n     \n     el.parentElement.removeChild(el);\n}\n\nfunction bind(fn, ...args) {\n    return () => fn(...args);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/smalltalk.js","module.exports = require('./lib/currify');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/currify/legacy/index.js\n// module id = 5\n// module chunks = 0","'use strict';\n\nvar f = function f(fn) {\n    return [\n    /*eslint no-unused-vars: 0*/\n    function (a) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d, e) {\n        return fn.apply(undefined, arguments);\n    }];\n};\n\nmodule.exports = function currify(fn) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    check(fn);\n\n    if (args.length >= fn.length) return fn.apply(undefined, args);\n\n    var again = function again() {\n        return currify.apply(undefined, [fn].concat(args, Array.prototype.slice.call(arguments)));\n    };\n\n    var count = fn.length - args.length - 1;\n    var func = f(again)[count];\n\n    return func || again;\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/currify/legacy/lib/currify.js\n// module id = 6\n// module chunks = 0","module.exports = require('./lib/fullstore');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fullstore/legacy/index.js\n// module id = 7\n// module chunks = 0","'use strict';\n\nmodule.exports = function (value) {\n    var data = {\n        value: value\n    };\n\n    return function (value) {\n        if (!arguments.length) return data.value;\n\n        data.value = value;\n\n        return value;\n    };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fullstore/legacy/lib/fullstore.js\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}
##############################################
/src/modules/jquery-mousewheel/README.md-63-var express = require('express');
/src/modules/jquery-mousewheel/README.md:64:var app = express.createServer();
/src/modules/jquery-mousewheel/README.md-65-
##############################################
/src/modules/olark/olark.js-62-            try {
/src/modules/olark/olark.js:63:                b.contentWindow[g].open();
/src/modules/olark/olark.js-64-            } catch (w) {
/src/modules/olark/olark.js-65-                c[e] = d[e];
/src/modules/olark/olark.js:66:                o = "javascript:var d=" + g + ".open();d.domain='" + d.domain + "';";
/src/modules/olark/olark.js-67-                b[k] = o + "void(0);";
##############################################
/src/modules/olark/olark.min.js-11-b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
/src/modules/olark/olark.min.js:12:b.contentWindow[g].open()}catch(w){
/src/modules/olark/olark.min.js:13:c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
/src/modules/olark/olark.min.js-14-var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-87-			playSpeed  : 3000,
/src/modules/fancybox/source/jquery.fancybox.js:88:			preload    : 3,
/src/modules/fancybox/source/jquery.fancybox.js-89-			modal      : false,
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-97-				scrolling : 'auto',
/src/modules/fancybox/source/jquery.fancybox.js:98:				preload   : true
/src/modules/fancybox/source/jquery.fancybox.js-99-			},
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-690-
/src/modules/fancybox/source/jquery.fancybox.js:691:					// Skip esc key if loading, because showLoading will cancel preloading
/src/modules/fancybox/source/jquery.fancybox.js-692-					if (code === 27 && F.coming) {
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-943-		_loadImage: function () {
/src/modules/fancybox/source/jquery.fancybox.js:944:			// Reset preload image so it is later possible to check "complete" property
/src/modules/fancybox/source/jquery.fancybox.js-945-			var img = F.imgPreload = new Image();
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1006-
/src/modules/fancybox/source/jquery.fancybox.js:1007:			if (coming.iframe.preload) {
/src/modules/fancybox/source/jquery.fancybox.js-1008-				F.showLoading();
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1028-
/src/modules/fancybox/source/jquery.fancybox.js:1029:			if (!coming.iframe.preload) {
/src/modules/fancybox/source/jquery.fancybox.js-1030-				F._afterLoad();
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1033-
/src/modules/fancybox/source/jquery.fancybox.js:1034:		_preloadImages: function() {
/src/modules/fancybox/source/jquery.fancybox.js-1035-			var group   = F.group,
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1037-				len     = group.length,
/src/modules/fancybox/source/jquery.fancybox.js:1038:				cnt     = current.preload ? Math.min(current.preload, len - 1) : 0,
/src/modules/fancybox/source/jquery.fancybox.js-1039-				item,
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1169-
/src/modules/fancybox/source/jquery.fancybox.js:1170:			F._preloadImages();
/src/modules/fancybox/source/jquery.fancybox.js-1171-		},
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1846-
/src/modules/fancybox/source/jquery.fancybox.js:1847:			this.open(opts);
/src/modules/fancybox/source/jquery.fancybox.js-1848-		},
##############################################
/src/modules/fancybox/source/jquery.fancybox.js-1950-					// Stop an event from bubbling if everything is fine
/src/modules/fancybox/source/jquery.fancybox.js:1951:					if (F.open(what, options) !== false) {
/src/modules/fancybox/source/jquery.fancybox.js-1952-						e.preventDefault();
##############################################
/src/modules/fancybox/source/jquery.fancybox.pack.js-2-(function(s,H,f,w){var K=f("html"),q=f(s),p=f(H),b=f.fancybox=function(){b.open.apply(this,arguments)},J=navigator.userAgent.match(/msie/i),C=null,t=H.createTouch!==w,u=function(a){return a&&a.hasOwnProperty&&a instanceof f},r=function(a){return a&&"string"===f.type(a)},F=function(a){return r(a)&&0<a.indexOf("%")},m=function(a,d){var e=parseInt(a,10)||0;d&&F(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},x=function(a,b){return m(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,
/src/modules/fancybox/source/jquery.fancybox.pack.js:3:width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!t,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},
/src/modules/fancybox/source/jquery.fancybox.pack.js-4-keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
##############################################
/src/modules/fancybox/source/jquery.fancybox.pack.js-22-this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,
/src/modules/fancybox/source/jquery.fancybox.pack.js:23:d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",t?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);t||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||
/src/modules/fancybox/source/jquery.fancybox.pack.js:24:b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,l,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());
/src/modules/fancybox/source/jquery.fancybox.pack.js-25-b.unbindEvents();e=a.content;c=a.type;l=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case "inline":case "ajax":case "html":a.selector?e=f("<div>").html(e).find(a.selector):u(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",
/src/modules/fancybox/source/jquery.fancybox.pack.js-26-!1)}));break;case "image":e=a.tpl.image.replace(/\{href\}/g,g);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}u(e)&&e.parent().is(a.inner)||a.inner.append(e);b.trigger("beforeShow");
/src/modules/fancybox/source/jquery.fancybox.pack.js:27:a.inner.css("overflow","yes"===l?"scroll":"no"===l?"hidden":l);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(!b.isOpened)f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();else if(d.prevMethod)b.transitions[d.prevMethod]();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,l=b.skin,g=b.inner,h=b.current,c=h.width,k=h.height,n=h.minWidth,v=h.minHeight,p=h.maxWidth,
/src/modules/fancybox/source/jquery.fancybox.pack.js-28-q=h.maxHeight,t=h.scrolling,r=h.scrollOutside?h.scrollbarWidth:0,y=h.margin,z=m(y[1]+y[3]),s=m(y[0]+y[2]),w,A,u,D,B,G,C,E,I;e.add(l).add(g).width("auto").height("auto").removeClass("fancybox-tmp");y=m(l.outerWidth(!0)-l.width());w=m(l.outerHeight(!0)-l.height());A=z+y;u=s+w;D=F(c)?(a.w-A)*m(c)/100:c;B=F(k)?(a.h-u)*m(k)/100:k;if("iframe"===h.type){if(I=h.content,h.autoHeight&&1===I.data("ready"))try{I[0].contentWindow.document.location&&(g.width(D).height(9999),G=I.contents().find("body"),r&&G.css("overflow-x",
##############################################
/src/modules/fancybox/source/jquery.fancybox.pack.js-41-J?(b=Math.max(H.documentElement.offsetWidth,H.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>q.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&this.fixed&&b.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&f("*").filter(function(){return"fixed"===
/src/modules/fancybox/source/jquery.fancybox.pack.js:42:f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=q.scrollTop(),this.scrollH=q.scrollLeft(),this.el.addClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",
/src/modules/fancybox/source/jquery.fancybox.pack.js-43-position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(r(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case "inside":c=b.skin;break;case "outside":c=b.wrap;break;case "over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),J&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(m(d.css("margin-bottom")))}d["top"===a.position?"prependTo":
/src/modules/fancybox/source/jquery.fancybox.pack.js:44:"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",l=function(g){var h=f(this).blur(),k=d,l,m;g.ctrlKey||g.altKey||g.shiftKey||g.metaKey||h.is(".fancybox-wrap")||(l=a.groupAttr||"data-fancybox-group",m=h.attr(l),m||(l="rel",m=h.get(0)[l]),m&&""!==m&&"nofollow"!==m&&(h=c.length?f(c):e,h=h.filter("["+l+'="'+m+'"]'),k=h.index(this)),a.index=k,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;c&&!1!==a.live?p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')",
/src/modules/fancybox/source/jquery.fancybox.pack.js-45-"click.fb-start",l):e.unbind("click.fb-start").bind("click.fb-start",l);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===w&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});f.support.fixedPosition===w&&(f.support.fixedPosition=function(){var a=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
##############################################
/src/modules/fancybox/CHANGELOG.md-26-* Overlay can be opened/closed manually:
/src/modules/fancybox/CHANGELOG.md:27:*     $.fancybox.helpers.overlay.open();
/src/modules/fancybox/CHANGELOG.md:28:*     $.fancybox.helpers.overlay.open({closeClick : false});
/src/modules/fancybox/CHANGELOG.md-29-*     $.fancybox.helpers.overlay.close();
##############################################
/src/modules/fancybox/CHANGELOG.md-46-* New animation directions (see https://github.com/fancyapps/fancyBox/issues/233#issuecomment-5512453)
/src/modules/fancybox/CHANGELOG.md:47:* New option "iframe" - it is now possible to separate scrolling for iframe and wrapping element; choose to preload
/src/modules/fancybox/CHANGELOG.md-48-* New option "swf" - brings back functionality from fancyBox v1
##############################################
/src/modules/fancybox/CHANGELOG.md-63-* Fixed #188 - keystrokes in contenteditable
/src/modules/fancybox/CHANGELOG.md:64:* Fixed #171 - non-images should not be preloaded
/src/modules/fancybox/CHANGELOG.md-65-* Fixed #158 - 'closeClick: true' breaks gallery navigation
##############################################
/src/modules/fancybox/CHANGELOG.md-88-* New option "autoResize" - toggles responsivity, disabled for mobile devices by default
/src/modules/fancybox/CHANGELOG.md:89:* New option "preload" - number of images to preload
/src/modules/fancybox/CHANGELOG.md-90-* New feature to target mobile/desktop browsers using CSS, see #108
##############################################
/src/dist-dev/cloudcmd.common.js-10-"use strict";
/src/dist-dev/cloudcmd.common.js:11:eval("\n\n/* global CloudCmd */\n\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst Storage = __webpack_require__(/*! ./storage */ \"./client/dom/storage.js\");\nconst DOM = __webpack_require__(/*! ./ */ \"./client/dom/index.js\");\n\nmodule.exports = new BufferProto();\n\nfunction BufferProto() {\n    const Info = DOM.CurrentInfo;\n    const CLASS = 'cut-file';\n    const COPY = 'copy';\n    const CUT = 'cut';\n    const TITLE = 'Buffer';\n    \n    const Buffer  = {\n        cut     : callIfEnabled.bind(null, cut),\n        copy    : callIfEnabled.bind(null, copy),\n        clear   : callIfEnabled.bind(null, clear),\n        paste   : callIfEnabled.bind(null, paste)\n    };\n    \n    function showMessage(msg) {\n        DOM.Dialog.alert(TITLE, msg);\n    }\n    \n    function getNames() {\n        const files = DOM.getActiveFiles();\n        const names = DOM.getFilenames(files);\n        \n        return names;\n    }\n    \n    function addCutClass() {\n        const files = DOM.getActiveFiles();\n        \n        files.forEach((element) => {\n            element.classList.add(CLASS);\n        });\n    }\n    \n    function rmCutClass() {\n        const files = DOM.getByClassAll(CLASS);\n        \n        [...files].forEach((element) => {\n            element.classList.remove(CLASS);\n        });\n    }\n    \n    function callIfEnabled(callback) {\n        const is = CloudCmd.config('buffer');\n        \n        if (is)\n            return callback();\n        \n        showMessage('Buffer disabled in config!');\n    }\n    \n    function copy() {\n        const names = getNames();\n        const from = Info.dirPath;\n        \n        clear();\n        \n        if (!names.length)\n            return;\n        \n        Storage.remove(CUT)\n            .set(COPY, {\n                from,\n                names,\n            });\n    }\n    \n    function cut() {\n        const names = getNames();\n        const from = Info.dirPath;\n        \n        clear();\n        \n        if (!names.length)\n            return;\n        \n        addCutClass();\n        \n        Storage\n            .set(CUT, {\n                from,\n                names,\n            });\n    }\n    \n    function clear() {\n        Storage.remove(COPY)\n            .remove(CUT);\n        \n        rmCutClass();\n    }\n    \n    function paste() {\n        const copy = Storage.get.bind(Storage, COPY);\n        const cut = Storage.get.bind(Storage, CUT);\n        \n        exec.parallel([copy, cut], (error, cp, ct) => {\n            const opStr = cp ? 'copy' : 'move';\n            const opData = cp || ct;\n            const Operation = CloudCmd.Operation;\n            const msg = 'Path is same!';\n            const path = Info.dirPath;\n            \n            if (!error && !cp && !ct)\n                error = 'Buffer is empty!';\n           \n            if (error)\n                return showMessage(error);\n                \n            const data = jonny.parse(opData);\n            data.to = path;\n            \n            if (data.from === path)\n                return showMessage(msg);\n            \n            Operation.show(opStr, data);\n            clear();\n        });\n    }\n    \n    return Buffer;\n}\n\n\n//# sourceURL=file://cloudcmd/client/dom/buffer.js");
/src/dist-dev/cloudcmd.common.js-12-
##############################################
/src/dist-dev/cloudcmd.common.js-22-"use strict";
/src/dist-dev/cloudcmd.common.js:23:eval("/* global CloudCmd */\n\n\n\nconst philip = __webpack_require__(/*! philip */ \"./node_modules/philip/legacy/philip.js\");\n\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\nconst DOM = __webpack_require__(/*! . */ \"./client/dom/index.js\");\n\nconst {\n    getCurrentDirPath: getPathWhenRootEmpty,\n} = DOM;\n\nmodule.exports = (items) => {\n    const Dialog = DOM.Dialog;\n    \n    if (items.length)\n        Images.show('top');\n    \n    const entries = [...items].map((item) => {\n        return item.webkitGetAsEntry();\n    });\n    \n    const dirPath = getPathWhenRootEmpty();\n    const path = dirPath\n        .replace(/\\/$/, '');\n    \n    const uploader = philip(entries, (type, name, data, i, n, callback) => {\n        const prefixURL = CloudCmd.PREFIX_URL;\n        const full = prefixURL + FS + path + name;\n        \n        let upload;\n        switch(type) {\n        case 'file':\n            upload = uploadFile(full, data);\n            break;\n        \n        case 'directory':\n            upload = uploadDir(full);\n            break;\n        }\n        \n        upload.on('end', callback);\n        \n        upload.on('progress', (count) => {\n            const current = percent(i, n);\n            const next = percent(i + 1, n);\n            const max = next - current;\n            const value = current + percent(count, 100, max);\n            \n            setProgress(value);\n        });\n    });\n    \n    uploader.on('error', (error) => {\n        Dialog.alert(error);\n        uploader.abort();\n    });\n    \n    uploader.on('progress', setProgress);\n    uploader.on('end', CloudCmd.refresh);\n};\n\nfunction percent(i, n, per = 100) {\n    return Math.round(i * per / n);\n}\n\nfunction setProgress(count) {\n    DOM.Images\n        .setProgress(count)\n        .show('top');\n}\n\nfunction uploadFile(url, data) {\n    return DOM.load.put(url, data);\n}\n\nfunction uploadDir(url) {\n    return DOM.load.put(url + '?dir');\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/directory.js");
/src/dist-dev/cloudcmd.common.js-24-
##############################################
/src/dist-dev/cloudcmd.common.js-34-"use strict";
/src/dist-dev/cloudcmd.common.js:35:eval("\n\nconst DOM = module.exports;\n\n/**\n * check class of element\n *\n * @param element\n * @param className\n */\nmodule.exports.isContainClass = (element, className) => {\n    if (!element)\n        throw Error('element could not be empty!');\n    \n    if (!className)\n        throw Error('className could not be empty!');\n    \n    const classList = element.classList;\n    const ret = classList.contains(className);\n    \n    return ret;\n};\n\n/**\n * Function search element by tag\n * @param tag - className\n * @param element - element\n */\nmodule.exports.getByTag = (tag, element = document) => {\n    return element.getElementsByTagName(tag);\n};\n\n/**\n * Function search element by id\n * @param Id - id\n */\nmodule.exports.getById = (id, element = document) => {\n    return element.querySelector('#' + id);\n};\n\n/**\n * Function search first element by class name\n * @param className - className\n * @param element - element\n */\nmodule.exports.getByClass = (className, element = document) => {\n    return DOM.getByClassAll(className, element)[0];\n};\n\nmodule.exports.getByDataName = (attribute, element = document) => {\n    const selector    = '[' + 'data-name=\"' + attribute + '\"]';\n    return element.querySelector(selector);\n};\n\n/**\n * Function search element by class name\n * @param pClass - className\n * @param element - element\n */\nmodule.exports.getByClassAll = (className, element) => {\n    return (element || document).getElementsByClassName(className);\n};\n\n/**\n * add class=hidden to element\n *\n * @param element\n */\nmodule.exports.hide = (element) => {\n    element.classList.add('hidden');\n    return DOM;\n};\n\nmodule.exports.show = (element) => {\n    element.classList.remove('hidden');\n    return DOM;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/dom-tree.js");
/src/dist-dev/cloudcmd.common.js-36-
##############################################
/src/dist-dev/cloudcmd.common.js-46-"use strict";
/src/dist-dev/cloudcmd.common.js:47:eval("\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\n\nmodule.exports = new EventsProto();\n\nfunction EventsProto() {\n    const Events = this;\n    \n    function parseArgs(eventName, element, listener, callback) {\n        let isFunc;\n        const args = [\n            eventName,\n            element,\n            listener,\n            callback,\n        ];\n        \n        const EVENT_NAME = 1;\n        const ELEMENT = 0;\n        const type = itype(eventName);\n        \n        switch(type) {\n        default:\n            if (!/element$/.test(type))\n                throw Error('unknown eventName: ' + type);\n            \n            parseArgs(\n                args[EVENT_NAME],\n                args[ELEMENT],\n                listener,\n                callback\n            );\n            break;\n        \n        case 'string':\n            isFunc = itype.function(element);\n            \n            if (isFunc) {\n                listener   = element;\n                element    = null;\n            }\n            \n            if (!element)\n                element = window;\n            \n            callback(element, [\n                eventName,\n                listener,\n                false\n            ]);\n            break;\n        \n        case 'array':\n            eventName.forEach((eventName) => {\n                parseArgs(\n                    eventName,\n                    element,\n                    listener,\n                    callback\n                );\n            });\n            break;\n        \n        case 'object':\n            Object.keys(eventName).forEach((name) => {\n                const eventListener = eventName[name];\n                \n                parseArgs(\n                    name,\n                    element,\n                    eventListener,\n                    callback\n                );\n            });\n           \n            break;\n        }\n    }\n    \n    /**\n     * safe add event listener\n     *\n     * @param type\n     * @param element {document by default}\n     * @param listener\n     */\n    this.add = (type, element, listener) => {\n        checkType(type);\n        \n        parseArgs(type, element, listener, (element, args) => {\n            element.addEventListener.apply(element, args);\n        });\n        \n        return Events;\n    };\n    \n    /**\n     * safe add event listener\n     *\n     * @param type\n     * @param listener\n     * @param element {document by default}\n     */\n    this.addOnce = (type, element, listener) => {\n        const once = (event) => {\n            Events.remove(type, element, once);\n            listener(event);\n        };\n        \n        if (!listener) {\n            listener    = element;\n            element     = null;\n        }\n        \n        this.add(type, element, once);\n        \n        return Events;\n    };\n    \n    /**\n     * safe remove event listener\n     *\n     * @param type\n     * @param listener\n     * @param element {document by default}\n     */\n    this.remove = (type, element, listener) => {\n        checkType(type);\n        \n        parseArgs(type, element, listener, (element, args) => {\n            element.removeEventListener.apply(element, args);\n        });\n        \n        return Events;\n    };\n    \n    /**\n     * safe add event keydown listener\n     *\n     * @param listener\n     */\n    this.addKey = function(...argsArr) {\n        const name = 'keydown';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe remove event click listener\n     *\n     * @param listener\n     */\n    this.rmKey = function(...argsArr) {\n        const name = 'keydown';\n        const args = [name, ...argsArr];\n        \n        return Events.remove(...args);\n    };\n    \n    /**\n     * safe add event click listener\n     *\n     * @param listener\n     */\n    this.addClick = function(...argsArr) {\n        const name = 'click';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe remove event click listener\n     *\n     * @param listener\n     */\n    this.rmClick = function(...argsArr) {\n        const name = 'click';\n        const args = [name, ...argsArr];\n        \n        return Events.remove(...args);\n    };\n    \n    this.addContextMenu = function(...argsArr) {\n        const name = 'contextmenu';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe add event click listener\n     *\n     * @param listener\n     */\n    this.addError = function(...argsArr) {\n        const name = 'error';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe add load click listener\n     *\n     * @param listener\n     */\n    this.addLoad = function(...argsArr) {\n        const name = 'load';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    function checkType(type) {\n        if (!type)\n            throw Error('type could not be empty!');\n    }\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/events.js");
/src/dist-dev/cloudcmd.common.js-48-
##############################################
/src/dist-dev/cloudcmd.common.js-58-"use strict";
/src/dist-dev/cloudcmd.common.js:59:eval("/* global CloudCmd */\n\n\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst Storage = __webpack_require__(/*! ./storage */ \"./client/dom/storage.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst RESTful = __webpack_require__(/*! ./rest */ \"./client/dom/rest.js\");\n\nconst Promises = {};\nconst FILES_JSON = 'config|modules';\nconst FILES_HTML = 'file|path|link|pathLink|media';\nconst FILES_HTML_ROOT = 'view/media-tmpl|config-tmpl|upload';\nconst DIR_HTML = '/tmpl/';\nconst DIR_HTML_FS = DIR_HTML + 'fs/';\nconst DIR_JSON = '/json/';\nconst timeout = getTimeoutOnce(2000);\n\nconst get = currify(getFile);\nconst unaryMap = (array, fn) => array.map((a) => fn(a));\n\nmodule.exports.get = get;\n\nfunction getFile(name, callback) {\n    const type = itype(name);\n    let array;\n    \n    check(name, callback);\n    \n    switch(type) {\n    case 'string':\n        getModule(name, callback);\n        break;\n    \n    case 'array':\n        array = unaryMap(name, get);\n        \n        exec.parallel(array, callback);\n        break;\n    }\n}\n\nfunction check(name, callback) {\n    if (!name)\n        throw Error('name could not be empty!');\n    \n    if (typeof callback !== 'function')\n        throw Error('callback should be a function');\n}\n\nfunction getModule(name, callback) {\n    let path;\n    \n    const regExpHTML = new RegExp(FILES_HTML + '|' + FILES_HTML_ROOT);\n    const regExpJSON = new RegExp(FILES_JSON);\n    \n    const isHTML = regExpHTML.test(name);\n    const isJSON = regExpJSON.test(name);\n    \n    if (!isHTML && !isJSON) {\n        showError(name);\n    } else if (name === 'config') {\n        getConfig(callback);\n    } else {\n        path = getPath(name, isHTML, isJSON);\n        \n        getSystemFile(path, callback);\n    }\n    \n}\n\nfunction getPath(name, isHTML, isJSON) {\n    let path;\n    const regExp = new RegExp(FILES_HTML_ROOT);\n    const isRoot = regExp.test(name);\n    \n    if (isHTML) {\n        if (isRoot)\n            path = DIR_HTML + name.replace('-tmpl', '');\n        else\n            path = DIR_HTML_FS  + name;\n        \n        path += '.hbs';\n    } else if (isJSON) {\n        path = DIR_JSON  + name + '.json';\n    }\n    \n    return path;\n}\n\nfunction showError(name) {\n    const str = 'Wrong file name: ' + name;\n    const error = new Error(str);\n    \n    throw(error);\n}\n\nfunction getSystemFile(file, callback) {\n    const prefix = CloudCmd.PREFIX;\n    \n    if (!Promises[file])\n        Promises[file] = new Promise((success, error) => {\n            const url = prefix + file;\n            \n            load.ajax({\n                url,\n                success,\n                error\n            });\n        });\n    \n    Promises[file].then((data) => {\n        callback(null, data);\n    }, (error) => {\n        Promises[file] = null;\n        callback(error);\n    });\n}\n\nfunction getConfig(callback) {\n    let is;\n    \n    if (!Promises.config)\n        Promises.config = new Promise((resolve, reject) => {\n            is = true;\n            RESTful.Config.read((error, data) => {\n                if (error)\n                    return reject(error);\n                \n                resolve(data);\n            });\n        });\n    \n    Promises.config.then(function(data) {\n        is = false;\n        Storage.setAllowed(data.localStorage);\n        \n        callback(null, data);\n        \n        timeout(() => {\n            if (!is)\n                Promises.config = null;\n        });\n    }, function() {\n        if (!is)\n            Promises.config = null;\n    });\n}\n\nfunction getTimeoutOnce(time) {\n    let is;\n    \n    return (callback) => {\n        if (is)\n            return;\n        \n        is = true;\n        \n        setTimeout(() => {\n            is = false;\n            callback();\n        }, time);\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/files.js");
/src/dist-dev/cloudcmd.common.js-60-
##############################################
/src/dist-dev/cloudcmd.common.js-70-"use strict";
/src/dist-dev/cloudcmd.common.js:71:eval("/* global CloudCmd */\n/* global DOM */\n\n\n\nconst Images = module.exports;\n\nconst LOADING = 'loading';\nconst HIDDEN = 'hidden';\nconst ERROR = 'error';\n\nconst LoadingImage = LOADING + getLoadingType();\n\nfunction getLoadingType() {\n    return isSVG() ? '-svg' : '-gif';\n}\n\nmodule.exports.get = getElement;\n\n/**\n * check SVG SMIL animation support\n */\nfunction isSVG() {\n    const createNS = document.createElementNS;\n    const SVG_URL = 'http://www.w3.org/2000/svg';\n    \n    if (!createNS)\n        return false;\n    \n    const create = createNS.bind(document);\n    const svgNode = create(SVG_URL, 'animate');\n    const name = svgNode.toString();\n    \n    return /SVGAnimate/.test(name);\n}\n\n\nfunction getElement() {\n    return DOM.load({\n        name        : 'span',\n        id          : 'js-status-image',\n        className   : 'icon',\n        attribute   : 'data-progress',\n        notAppend   : true\n    });\n}\n\n/* Функция создаёт картинку загрузки */\nmodule.exports.loading = () => {\n    const element = getElement();\n    const classList = element.classList;\n    \n    classList.add(LOADING, LoadingImage);\n    classList.remove(ERROR, HIDDEN);\n    \n    return element;\n};\n\n/* Функция создаёт картинку ошибки загрузки */\nmodule.exports.error = () => {\n    const element = getElement();\n    const classList = element.classList;\n    \n    classList.add(ERROR);\n    classList.remove(HIDDEN, LOADING, LoadingImage);\n    \n    return element;\n};\n\nmodule.exports.show = show;\nmodule.exports.show.load  = show;\nmodule.exports.show.error = error;\n\n/**\n* Function shows loading spinner\n* position = {top: true};\n*/\nfunction show(position, panel) {\n    const image = Images.loading();\n    const parent = image.parentElement;\n    const refreshButton = DOM.getRefreshButton(panel);\n    \n    let current;\n\n    if (position === 'top') {\n        current = refreshButton.parentElement;\n    } else {\n        current = DOM.getCurrentFile();\n        \n        if (current)\n            current = DOM.getByDataName('js-name', current);\n        else\n            current = refreshButton.parentElement;\n    }\n    \n    if (!parent || (parent && parent !== current))\n        current.appendChild(image);\n    \n    DOM.show(image);\n    \n    return image;\n}\n\nfunction error(text) {\n    const image = Images.error();\n    \n    DOM.show(image);\n    image.title = text;\n    \n    CloudCmd.log(text);\n    \n    return image;\n}\n\n/**\n* hide load image\n*/\nmodule.exports.hide = () => {\n    const element = Images.get();\n    \n    DOM.hide(element);\n    \n    return Images;\n};\n\nmodule.exports.setProgress = (value, title) => {\n    const DATA = 'data-progress';\n    const element = Images.get();\n     \n    if (!element)\n        return Images;\n    \n    element.setAttribute(DATA, value + '%');\n    \n    if (title)\n        element.title = title;\n    \n    return Images;\n};\n\nmodule.exports.clearProgress  = () => {\n    const DATA = 'data-progress';\n    const element = Images.get();\n    \n    if (!element)\n        return Images;\n    \n    element.setAttribute(DATA, '');\n    element.title = '';\n    \n    return Images;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/images.js");
/src/dist-dev/cloudcmd.common.js-72-
##############################################
/src/dist-dev/cloudcmd.common.js-82-"use strict";
/src/dist-dev/cloudcmd.common.js:83:eval("/* global CloudCmd */\n\n\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst Util = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nconst {\n    getTitle,\n    FS,\n    Entity,\n} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst DOMTree = __webpack_require__(/*! ./dom-tree */ \"./client/dom/dom-tree.js\");\n\nconst DOM = Object.assign({}, DOMTree, new CmdProto());\n\nmodule.exports = DOM;\n\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst Files = __webpack_require__(/*! ./files */ \"./client/dom/files.js\");\nconst RESTful = __webpack_require__(/*! ./rest */ \"./client/dom/rest.js\");\nconst Storage = __webpack_require__(/*! ./storage */ \"./client/dom/storage.js\");\n\nDOM.Images = Images;\nDOM.load = load;\nDOM.Files = Files;\nDOM.RESTful = RESTful;\nDOM.Storage = Storage;\n\nDOM.uploadDirectory = __webpack_require__(/*! ./directory */ \"./client/dom/directory.js\");\nDOM.Buffer = __webpack_require__(/*! ./buffer */ \"./client/dom/buffer.js\");\nDOM.Events = __webpack_require__(/*! ./events */ \"./client/dom/events.js\");\n\nconst loadRemote = __webpack_require__(/*! ./load-remote */ \"./client/dom/load-remote.js\");\nconst selectByPattern = __webpack_require__(/*! ./select-by-pattern */ \"./client/dom/select-by-pattern.js\");\n\nfunction CmdProto() {\n    let Title;\n    let CurrentInfo = {};\n    \n    const Cmd = this;\n    const CURRENT_FILE = 'current-file';\n    const SELECTED_FILE = 'selected-file';\n    const TITLE = 'Cloud Commander';\n    const TabPanel = {\n        'js-left'        : null,\n        'js-right'       : null\n    };\n    \n    this.loadRemote = (name, options, callback) => {\n        loadRemote(name, options, callback);\n        return DOM;\n    };\n    /**\n     * load jquery from google cdn or local copy\n     * @param callback\n     */\n    this.loadJquery = function(callback) {\n        DOM.loadRemote('jquery', {\n            name    : '$'\n        }, callback);\n        \n        return DOM;\n    };\n    \n    this.loadSocket = function(callback) {\n        DOM.loadRemote('socket', {\n            name    : 'io'\n        }, callback);\n        \n        return DOM;\n    };\n    \n    /** function loads css and js of Menu\n     * @param callback\n     */\n    this.loadMenu = function(callback) {\n        return DOM.loadRemote('menu', callback);\n    };\n    \n    /**\n     * create new folder\n     *\n     */\n    this.promptNewDir        = function() {\n        promptNew('directory', '?dir');\n    };\n    \n    /**\n     * create new file\n     *\n     * @typeName\n     * @type\n     */\n    this.promptNewFile = () => {\n        promptNew('file');\n    };\n    \n    function promptNew(typeName, type) {\n        const {Dialog} = DOM;\n        const dir = Cmd.getCurrentDirPath();\n        const msg = 'New ' + typeName || 'File';\n        const getName = () => {\n            const name = Cmd.getCurrentName();\n            \n            if (name === '..')\n                return '';\n             \n            return name;\n        };\n        \n        const name = getName();\n        const cancel = false;\n        \n        Dialog.prompt(TITLE, msg, name, {cancel}).then((name) => {\n            if (!name)\n                return;\n            \n            const path = (type) => {\n                const result = dir + name;\n                \n                if (!type)\n                    return result;\n                \n                return result + type;\n            };\n            \n            RESTful.write(path(type), (error) => {\n                if (error)\n                    return;\n                \n                const currentName = name;\n                \n                CloudCmd.refresh({\n                    currentName\n                });\n            });\n        });\n    }\n    \n    /**\n     * get current direcotory name\n     */\n    this.getCurrentDirName = () => {\n        const href = DOM.getCurrentDirPath()\n            .replace(/\\/$/, '');\n        \n        const substr  = href.substr(href, href.lastIndexOf('/'));\n        const ret     = href.replace(substr + '/', '') || '/';\n        \n        return ret;\n    };\n    \n    /**\n     * get current direcotory path\n     */\n    this.getCurrentDirPath = (panel = DOM.getPanel()) => {\n        const path = DOM.getByDataName('js-path', panel);\n        const ret = path && path.textContent;\n        \n        return ret;\n    };\n    \n    /**\n     * get current direcotory path\n     */\n    this.getParentDirPath = (panel) => {\n        const path = DOM.getCurrentDirPath(panel);\n        const dirName = DOM.getCurrentDirName() + '/';\n        \n        if (path !== '/')\n            return path.replace(RegExp(dirName + '$'), '');\n        \n        return path;\n    };\n    \n    /**\n     * get not current direcotory path\n     */\n    this.getNotCurrentDirPath = () => {\n        const panel = DOM.getPanel({active: false});\n        const path = DOM.getCurrentDirPath(panel);\n        \n        return path;\n    };\n    \n    /**\n     * unified way to get current file\n     *\n     * @currentFile\n     */\n    this.getCurrentFile = () => {\n        return DOM.getByClass(CURRENT_FILE);\n    };\n    \n    /**\n     * get current file by name\n     */\n    this.getCurrentByName = (name, panel = CurrentInfo.panel) => {\n        const dataName = 'js-file-' + name;\n        const element = DOM.getByDataName(dataName, panel);\n        \n        return element;\n    };\n    \n    /**\n     * unified way to get current file\n     *\n     * @currentFile\n     */\n    this.getSelectedFiles = () => {\n        const panel = DOM.getPanel();\n        const selected = DOM.getByClassAll(SELECTED_FILE, panel);\n        \n        return [...selected];\n    };\n    \n    /*\n     * unselect all files\n     */\n    this.unselectFiles = (files) => {\n        files = files || DOM.getSelectedFiles();\n        \n        [...files].forEach(DOM.toggleSelectedFile);\n    };\n    \n    /**\n     * get all selected files or current when none selected\n     *\n     * @currentFile\n     */\n    this.getActiveFiles = () => {\n        const current = DOM.getCurrentFile();\n        const files = DOM.getSelectedFiles();\n        const name = DOM.getCurrentName(current);\n        \n        if (!files.length && name !== '..')\n            return [current];\n        \n        return files;\n    };\n    \n    this.getCurrentDate = (currentFile) => {\n        const current = currentFile || Cmd.getCurrentFile();\n        const date = DOM\n            .getByDataName('js-date', current)\n            .textContent;\n        \n        return date;\n    };\n    \n    /**\n     * get size\n     * @currentFile\n     */\n    this.getCurrentSize = (currentFile) => {\n        const current = currentFile || Cmd.getCurrentFile();\n        /* если это папка - возвращаем слово dir вместо размера*/\n        const size = DOM.getByDataName('js-size', current)\n            .textContent\n            .replace(/^<|>$/g, '');\n        \n        return size;\n    };\n    \n    /**\n     * get size\n     * @currentFile\n     */\n    this.loadCurrentSize = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?size';\n        const link = DOM.getCurrentPath(current);\n        \n        Images.show.load();\n        \n        if (name === '..')\n            return;\n        \n        RESTful.read(link + query, (error, size) => {\n            if (error)\n                return;\n                \n            DOM.setCurrentSize(size, current);\n            exec(callback, current);\n            Images.hide();\n        });\n    };\n    \n    /**\n     * load hash\n     * @callback\n     * @currentFile\n     */\n    this.loadCurrentHash = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?hash';\n        const link = DOM.getCurrentPath(current);\n        \n        RESTful.read(link + query, callback);\n    };\n    \n    /**\n     * load current modification time of file\n     * @callback\n     * @currentFile\n     */\n    this.loadCurrentTime = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?time';\n        const link = DOM.getCurrentPath(current);\n        \n        RESTful.read(link + query, callback);\n    };\n    \n    /**\n     * set size\n     * @currentFile\n     */\n    this.setCurrentSize = (size, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const sizeElement = DOM.getByDataName('js-size', current);\n        \n        sizeElement.textContent = size;\n    };\n    \n    /**\n     * @currentFile\n     */\n    this.getCurrentMode = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const mode = DOM.getByDataName('js-mode', current);\n        \n        return mode.textContent;\n    };\n    \n    /**\n     * @currentFile\n     */\n    this.getCurrentOwner = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const owner = DOM.getByDataName('js-owner', current);\n        \n        return owner.textContent;\n    };\n    \n    /**\n     * unified way to get current file content\n     *\n     * @param callback\n     * @param currentFile\n     */\n    this.getCurrentData = (callback, currentFile) => {\n        let hash;\n        const Dialog = DOM.Dialog;\n        const Info = DOM.CurrentInfo;\n        const current = currentFile || DOM.getCurrentFile();\n        const path = DOM.getCurrentPath(current);\n        const isDir = DOM.isCurrentIsDir(current);\n        \n        const func = (error, data) => {\n            const ONE_MEGABYTE = 1024 * 1024 * 1024;\n            \n            if (!error) {\n                if (itype.object(data))\n                    data = jonny.stringify(data);\n                \n                const length  = data.length;\n                \n                if (hash && length < ONE_MEGABYTE)\n                    DOM.saveDataToStorage(path, data, hash);\n            }\n            \n            callback(error, data);\n        };\n        \n        if (Info.name === '..') {\n            Dialog.alert.noFiles(TITLE);\n            return callback(Error('No files selected!'));\n        }\n        \n        if (isDir)\n            return RESTful.read(path, func);\n        \n        DOM.checkStorageHash(path, (error, equal, hashNew) => {\n            if (error)\n                return callback(error);\n            \n            if (equal)\n                return DOM.getDataFromStorage(path, callback);\n            \n            hash = hashNew;\n            RESTful.read(path, func);\n        });\n    };\n    \n    /**\n     * unified way to save current file content\n     *\n     * @callback - function({data, name}) {}\n     * @currentFile\n     */\n    this.saveCurrentData = (url, data, callback, query = '') => {\n        DOM.RESTful.write(url + query, data, (error) => {\n            !error && DOM.saveDataToStorage(url, data);\n        });\n    };\n    \n    /**\n     * unified way to get RefreshButton\n     */\n    this.getRefreshButton = (panel) => {\n        const currentPanel = panel || DOM.getPanel();\n        const refresh = DOM.getByDataName('js-refresh', currentPanel);\n        \n        return refresh;\n    };\n    \n    this.setCurrentByName = (name) => {\n        const current = DOM.getCurrentByName(name);\n        return DOM.setCurrentFile(current);\n    };\n    \n    /**\n     * private function thet unset currentfile\n     *\n     * @currentFile\n     */\n    function unsetCurrentFile(currentFile) {\n        const is = DOM.isCurrentFile(currentFile);\n        \n        if (!is)\n            return;\n        \n        currentFile.classList.remove(CURRENT_FILE);\n    }\n    \n    /**\n     * unified way to set current file\n     */\n    this.setCurrentFile = (currentFile, options) => {\n        const o = options;\n        const CENTER = true;\n        const currentFileWas = DOM.getCurrentFile();\n        \n        if (!currentFile)\n            return DOM;\n        \n        let pathWas = '';\n        \n        if (currentFileWas) {\n            pathWas = DOM.getCurrentDirPath();\n            unsetCurrentFile(currentFileWas);\n        }\n        \n        currentFile.classList.add(CURRENT_FILE);\n        \n        let path = DOM.getCurrentDirPath();\n        \n        const name = CloudCmd.config('name');\n        if (path !== pathWas) {\n            DOM.setTitle(getTitle({\n                name,\n                path,\n            }));\n            \n            /* history could be present\n             * but it should be false\n             * to prevent default behavior\n             */\n            if (!o || o.history !== false) {\n                const historyPath = path === '/' ? path : FS + path;\n                DOM.setHistory(historyPath, null, historyPath);\n            }\n        }\n        \n        /* scrolling to current file */\n        DOM.scrollIntoViewIfNeeded(currentFile, CENTER);\n        \n        CloudCmd.emit('current-file', currentFile);\n        CloudCmd.emit('current-path', path);\n        CloudCmd.emit('current-name', DOM.getCurrentName(currentFile));\n        \n        return DOM;\n    };\n    \n    /*\n      * set current file by position\n      *\n      * @param layer    - element\n      * @param          - position {x, y}\n      */\n    this.getCurrentByPosition = ({x, y}) => {\n        const element = document.elementFromPoint(x, y);\n        \n        const getEl = (el) => {\n            const {tagName} = el;\n            const isChild = /A|SPAN|LI/.test(tagName);\n            \n            if (!isChild)\n                return null;\n            \n            if (tagName === 'A')\n                return el.parentElement.parentElement;\n            \n            if (tagName === 'SPAN')\n                return el.parentElement;\n            \n            return el;\n        };\n        \n        const el = getEl(element);\n        \n        if (el && el.tagName !== 'LI')\n            return null;\n        \n        return el;\n    };\n    \n    /**\n     * select current file\n     * @param currentFile\n     */\n    this.selectFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        current.classList.add(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.unselectFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        current.classList.remove(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.toggleSelectedFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const name = DOM.getCurrentName(current);\n        \n        if (name === '..')\n            return Cmd;\n        \n        current.classList.toggle(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.toggleAllSelectedFiles = () => {\n        DOM.getAllFiles().map(DOM.toggleSelectedFile);\n        \n        return Cmd;\n    };\n    \n    this.selectAllFiles = () => {\n        DOM.getAllFiles().map(DOM.selectFile);\n        \n        return Cmd;\n    };\n    \n    this.getAllFiles = () => {\n        const panel = DOM.getPanel();\n        const files = DOM.getFiles(panel);\n        const name = DOM.getCurrentName(files[0]);\n        \n        const from = (a) => a === '..' ? 1 : 0;\n        const i = from(name);\n        \n        return [...files].slice(i);\n    };\n    \n    /**\n     * open dialog with expand selection\n     */\n    this.expandSelection = () => {\n        const msg = 'expand';\n        const files = CurrentInfo.files;\n        \n        selectByPattern(msg, files);\n    };\n    \n    /**\n     * open dialog with shrink selection\n     */\n    this.shrinkSelection = () => {\n        const msg = 'shrink';\n        const files = CurrentInfo.files;\n       \n        selectByPattern(msg, files);\n    };\n    \n    /**\n     * setting history wrapper\n     */\n    this.setHistory = (data, title, url) => {\n        const ret = window.history;\n        \n        url = CloudCmd.PREFIX + url;\n        \n        if (ret)\n            history.pushState(data, title, url);\n        \n        return ret;\n    };\n    \n    /**\n     * set title or create title element\n     *\n     * @param name\n     */\n    \n    this.setTitle = (name) => {\n        if (!Title)\n            Title = DOM.getByTag('title')[0] ||\n                    DOM.load({\n                        name            : 'title',\n                        innerHTML       : name,\n                        parentElement   : document.head\n                    });\n        \n        Title.textContent = name;\n        \n        return DOM;\n    };\n    \n    /**\n     * current file check\n     *\n     * @param currentFile\n     */\n    this.isCurrentFile = (currentFile) => {\n        if (!currentFile)\n            return false;\n        \n        return DOM.isContainClass(currentFile, CURRENT_FILE);\n    };\n    \n    /**\n     * selected file check\n     *\n     * @param currentFile\n     */\n    this.isSelected = (selected) => {\n        if (!selected)\n            return false;\n        \n        return DOM.isContainClass(selected, SELECTED_FILE);\n    };\n    \n    /**\n     * check is current file is a directory\n     *\n     * @param currentFile\n     */\n    this.isCurrentIsDir = (currentFile) => {\n        const current = currentFile || this.getCurrentFile();\n        const fileType = DOM.getByDataName('js-type', current);\n        const ret = DOM.isContainClass(fileType, 'directory');\n        \n        return ret;\n    };\n    \n    /**\n     * get link from current (or param) file\n     *\n     * @param currentFile - current file by default\n     */\n    this.getCurrentLink = (currentFile) => {\n        const current = currentFile || this.getCurrentFile();\n        const link = DOM.getByTag('a', current);\n        \n        return link[0];\n    };\n    \n    /**\n     * get link from current (or param) file\n     *\n     * @param currentFile - current file by default\n     */\n    this.getCurrentPath = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const element = DOM.getByTag('a', current)[0];\n        const prefix = CloudCmd.PREFIX;\n        const path = element.getAttribute('href')\n            .replace(RegExp('^' + prefix + FS), '');\n        \n        return path;\n    };\n    \n    /**\n     * get name from current (or param) file\n     *\n     * @param currentFile\n     */\n    this.getCurrentName = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        if (!current)\n            return '';\n           \n        const link = DOM.getCurrentLink(current);\n        \n        if (!link)\n            return '';\n            \n        const name = link.title;\n        \n        return name;\n    };\n    \n    this.getFilenames = (files) => {\n        if (!files)\n            throw Error('AllFiles could not be empty');\n        \n        const first = files[0] || DOM.getCurrentFile();\n        const name = DOM.getCurrentName(first);\n        \n        const allFiles = [...files];\n        \n        if (name === '..')\n            allFiles.shift();\n        \n        const names = allFiles.map((current) => {\n            return DOM.getCurrentName(current);\n        });\n        \n        return names;\n    };\n    \n    /**\n     * set name from current (or param) file\n     *\n     * @param name\n     * @param current\n     */\n    this.setCurrentName = (name, current) => {\n        const Info = CurrentInfo;\n        const link = Info.link;\n        const PREFIX = CloudCmd.PREFIX;\n        const dir = PREFIX + FS + Info.dirPath;\n        \n        link.title      = name;\n        link.innerHTML  = Entity.encode(name);\n        link.href       = dir + name;\n        \n        current.setAttribute('data-name', 'js-file-' + name);\n        \n        return link;\n    };\n    \n    /**\n     * check storage hash\n     */\n    this.checkStorageHash = (name, callback) => {\n        const parallel = exec.parallel;\n        const loadHash = DOM.loadCurrentHash;\n        const nameHash = name + '-hash';\n        const getStoreHash = exec.with(Storage.get, nameHash);\n        \n        if (typeof name !== 'string')\n            throw Error('name should be a string!');\n        \n        if (typeof callback !== 'function')\n            throw Error('callback should be a function!');\n        \n        parallel([loadHash, getStoreHash], (error, loadHash, storeHash) => {\n            let equal;\n            const isContain = /error/.test(loadHash);\n            \n            if (isContain)\n                error = loadHash;\n            else if (loadHash === storeHash)\n                equal = true;\n            \n            callback(error, equal, loadHash);\n        });\n    };\n    \n    /**\n     * save data to storage\n     *\n     * @param name\n     * @param data\n     * @param hash\n     * @param callback\n     */\n    this.saveDataToStorage = function(name, data, hash, callback) {\n        const allowed = CloudCmd.config('localStorage');\n        const isDir = DOM.isCurrentIsDir();\n        const nameHash = name + '-hash';\n        const nameData = name + '-data';\n        \n        if (!allowed || isDir)\n            return exec(callback);\n        \n        exec.if(hash, () => {\n            Storage.set(nameHash, hash);\n            Storage.set(nameData, data);\n            \n            exec(callback, hash);\n        }, (callback) => {\n            DOM.loadCurrentHash((error, loadHash) => {\n                hash = loadHash;\n                callback();\n            });\n        });\n    };\n    \n    /**\n     * save data to storage\n     *\n     * @param name\n     * @param data\n     * @param callback\n     */\n    this.getDataFromStorage = (name, callback) => {\n        const nameHash = name + '-hash';\n        const nameData = name + '-data';\n        const allowed = CloudCmd.config('localStorage');\n        const isDir = DOM.isCurrentIsDir();\n        \n        if (!allowed || isDir)\n            return exec(callback);\n        \n        exec.parallel([\n            exec.with(Storage.get, nameData),\n            exec.with(Storage.get, nameHash),\n        ], callback);\n    };\n    \n    this.getFM = () => {\n        return DOM.getPanel().parentElement;\n    };\n    \n    this.getPanelPosition = (panel) => {\n        panel = panel || DOM.getPanel();\n        \n        return panel.dataset.name.replace('js-', '');\n    };\n    \n    /** function getting panel active, or passive\n     * @param options = {active: true}\n     */\n    this.getPanel = (options) => {\n        let files, panel, isLeft;\n        let dataName = 'js-';\n        \n        const current = DOM.getCurrentFile();\n        \n        if (!current) {\n            panel = DOM.getByDataName('js-left');\n        } else {\n            files = current.parentElement,\n            panel = files.parentElement,\n            isLeft = panel.getAttribute('data-name') === 'js-left';\n        }\n        \n        /* if {active : false} getting passive panel */\n        if (options && !options.active) {\n            dataName += isLeft ? 'right' : 'left';\n            panel = DOM.getByDataName(dataName);\n        }\n        \n        /* if two panels showed\n         * then always work with passive\n         * panel\n         */\n        if (window.innerWidth < CloudCmd.MIN_ONE_PANEL_WIDTH)\n            panel = DOM.getByDataName('js-left');\n        \n        if (!panel)\n            throw Error('can not find Active Panel!');\n       \n        return panel;\n    };\n    \n    this.getFiles = (element) => {\n        const files = DOM.getByDataName('js-files', element);\n        return files.children || [];\n    };\n    \n    /**\n     * shows panel right or left (or active)\n     */\n    this.showPanel = (active) => {\n        const panel = DOM.getPanel({active: active});\n        \n        if (!panel)\n            return false;\n        \n        DOM.show(panel);\n        \n        return true;\n    };\n    \n    /**\n     * hides panel right or left (or active)\n     */\n    this.hidePanel = (active) => {\n        const panel = DOM.getPanel({\n            active\n        });\n        \n        if (!panel)\n            return false;\n        \n        return DOM.hide(panel);\n    };\n     \n    /**\n     * remove child of element\n     * @param pChild\n     * @param element\n     */\n    this.remove = (child, element) => {\n        const parent = element || document.body;\n        \n        parent.removeChild(child);\n        \n        return DOM;\n    };\n    \n    /**\n     * remove current file from file table\n     * @param current\n     *\n     */\n    this.deleteCurrent = (current) => {\n        if (!current)\n            Cmd.getCurrentFile();\n        \n        const parent = current && current.parentElement;\n        const name = Cmd.getCurrentName(current);\n        \n        if (current && name !== '..') {\n            const next = current.nextSibling;\n            const prev = current.previousSibling;\n            \n            DOM.setCurrentFile(next || prev);\n            parent.removeChild(current);\n        }\n    };\n    \n    /**\n     * remove selected files from file table\n     * @Selected\n     */\n    this.deleteSelected = (selected) => {\n        selected = selected || DOM.getSelectedFiles();\n        \n        if (!selected)\n            return;\n        \n        selected.map(DOM.deleteCurrent);\n    };\n    \n    /**\n     * rename current file\n     *\n     * @currentFile\n     */\n    this.renameCurrent = (current) => {\n        const Dialog = DOM.Dialog;\n        \n        if (!Cmd.isCurrentFile(current))\n            current = Cmd.getCurrentFile();\n        \n        const from = Cmd.getCurrentName(current);\n        \n        if (from === '..')\n            return Dialog.alert.noFiles(TITLE);\n        \n        const cancel = false;\n        \n        Dialog.prompt(TITLE, 'Rename', from, {cancel}).then((to) => {\n            const isExist = !!DOM.getCurrentByName(to);\n            const dirPath = Cmd.getCurrentDirPath();\n            \n            if (from === to)\n                return;\n            \n            const files = {\n                from : dirPath + from,\n                to : dirPath + to\n            };\n            \n            RESTful.mv(files, (error) => {\n                if (error)\n                    return;\n                \n                DOM.setCurrentName(to, current);\n                Storage.remove(dirPath);\n                \n                if (isExist)\n                    CloudCmd.refresh();\n            });\n        });\n    };\n    \n    /**\n     * unified way to scrollIntoViewIfNeeded\n     * (native suporte by webkit only)\n     * @param element\n     * @param center - to scroll as small as possible param should be false\n     */\n    this.scrollIntoViewIfNeeded = function(element, center = false) {\n        if (!element || !element.scrollIntoViewIfNeeded)\n            return;\n        \n        element.scrollIntoViewIfNeeded(center);\n    };\n    \n    /* scroll on one page */\n    this.scrollByPages = (element, pPages) => {\n        const ret = element && element.scrollByPages && pPages;\n        \n        if (ret)\n            element.scrollByPages(pPages);\n        \n        return ret;\n    };\n    \n    this.changePanel = () => {\n        const Info = CurrentInfo;\n        let panel = DOM.getPanel();\n        \n        CloudCmd.emit('passive-dir', Info.dirPath);\n        \n        const panelPassive = DOM.getPanel({\n            active: false\n        });\n        \n        let name = DOM.getCurrentName();\n        const filesPassive = DOM.getFiles(panelPassive);\n        \n        let dataName = panel.getAttribute('data-name');\n        \n        TabPanel[dataName] = name;\n         \n        panel = panelPassive;\n        dataName = panel.getAttribute('data-name');\n        \n        name = TabPanel[dataName];\n        \n        let files;\n        let current;\n        \n        if (name) {\n            current = DOM.getCurrentByName(name, panel);\n            \n            if (current)\n                files = current.parentElement;\n        }\n        \n        if (!files || !files.parentElement) {\n            current = DOM.getCurrentByName(name, panel);\n            \n            if (!current)\n                current = filesPassive[0];\n        }\n        \n        DOM.setCurrentFile(current, {\n            history: true\n        });\n        \n        CloudCmd.emit('active-dir', Info.dirPath);\n        \n        return DOM;\n    };\n    \n    this.getPackerExt = (type) => {\n        if (type === 'zip')\n            return '.zip';\n        \n        return '.tar.gz';\n    };\n    \n    this.goToDirectory = () => {\n        const msg = 'Go to directory:';\n        const path = CurrentInfo.dirPath;\n        const Dialog = DOM.Dialog;\n        const cancel = false;\n        const setPath = (path) => ({\n            path\n        });\n        \n        Dialog.prompt(TITLE, msg, path, {cancel})\n            .then(setPath)\n            .then(CloudCmd.loadDir);\n    },\n    \n    this.duplicatePanel = () => {\n        const Info = CurrentInfo;\n        const isDir = Info.isDir;\n        const panel = Info.panelPassive;\n        const noCurrent = !Info.isOnePanel;\n        \n        const getPath = (isDir) => {\n            if (isDir)\n                return Info.path;\n            \n            return Info.dirPath;\n        };\n        \n        const path = getPath(isDir);\n        \n        CloudCmd.loadDir({\n            path,\n            panel,\n            noCurrent,\n        });\n    };\n    \n    this.swapPanels = () => {\n        const Info = CurrentInfo;\n        const {panel} = Info;\n        const {files} = Info;\n        const {element} = Info;\n        \n        const panelPassive = Info.panelPassive;\n        \n        const dirPath = DOM.getCurrentDirPath();\n        const dirPathPassive = DOM.getNotCurrentDirPath();\n        \n        let currentIndex = files.indexOf(element);\n        \n        CloudCmd.loadDir({\n            path: dirPath,\n            panel: panelPassive,\n            noCurrent: true\n        });\n        \n        CloudCmd.loadDir({\n            path: dirPathPassive,\n            panel: panel\n        }, () => {\n            const files = Info.files;\n            const length = files.length - 1;\n            \n            if (currentIndex > length)\n                currentIndex = length;\n            \n            const el = files[currentIndex];\n            \n            DOM.setCurrentFile(el);\n        });\n    };\n    \n    this.CurrentInfo = CurrentInfo,\n    \n    this.updateCurrentInfo = (currentFile) => {\n        const info = Cmd.CurrentInfo;\n        const current = currentFile || Cmd.getCurrentFile();\n        const files = current.parentElement;\n        const panel = files.parentElement;\n        \n        const panelPassive = Cmd.getPanel({\n            active: false\n        });\n        \n        const filesPassive = DOM.getFiles(panelPassive);\n        const name = Cmd.getCurrentName(current);\n        \n        info.dir            = Cmd.getCurrentDirName();\n        info.dirPath        = Cmd.getCurrentDirPath();\n        info.parentDirPath  = Cmd.getParentDirPath();\n        info.element        = current;\n        info.ext            = Util.getExt(name);\n        info.files          = [...files.children];\n        info.filesPassive   = [...filesPassive];\n        info.first          = files.firstChild;\n        info.getData        = Cmd.getCurrentData;\n        info.last           = files.lastChild;\n        info.link           = Cmd.getCurrentLink(current);\n        info.mode           = Cmd.getCurrentMode(current);\n        info.name           = name;\n        info.path           = Cmd.getCurrentPath(current);\n        info.panel          = panel;\n        info.panelPassive   = panelPassive;\n        info.size           = Cmd.getCurrentSize(current);\n        info.isDir          = Cmd.isCurrentIsDir();\n        info.isSelected     = Cmd.isSelected(current);\n        info.panelPosition  = Cmd.getPanel().dataset.name.replace('js-', '');\n        info.isOnePanel     =\n            info.panel.getAttribute('data-name') ===\n            info.panelPassive.getAttribute('data-name');\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/index.js");
/src/dist-dev/cloudcmd.common.js-84-
##############################################
/src/dist-dev/cloudcmd.common.js-94-"use strict";
/src/dist-dev/cloudcmd.common.js:95:eval("\n\n/* global CloudCmd */\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst {findObjByNameInArr} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst Files = __webpack_require__(/*! ./files */ \"./client/dom/files.js\");\n\nmodule.exports = (name, options, callback = options) => {\n    const {PREFIX, config} = CloudCmd;\n    const o = options;\n    \n    if (o.name && window[o.name])\n        return callback();\n    \n    Files.get('modules', (error, modules) => {\n        const online = config('online') && navigator.onLine;\n        const module = findObjByNameInArr(modules.remote, name);\n        \n        const isArray = itype.array(module.local);\n        const version = module.version;\n        \n        let remoteTmpls, local;\n        if (isArray) {\n            remoteTmpls = module.remote;\n            local       = module.local;\n        } else {\n            remoteTmpls  = [module.remote];\n            local        = [module.local];\n        }\n        \n        const localURL = local.map((url) => {\n            return PREFIX + url;\n        });\n        \n        const remoteURL = remoteTmpls.map((tmpl) => {\n            return rendy(tmpl, {\n                version: version\n            });\n        });\n        \n        const on = funcON(localURL, remoteURL, callback);\n        const off = funcOFF(localURL, callback);\n        \n        exec.if(online, on, off);\n    });\n};\n\nfunction funcOFF(local, callback) {\n    return () => {\n        load.parallel(local, callback);\n    };\n}\n\nfunction funcON (local, remote,callback) {\n    return () => {\n        load.parallel(remote, (error) => {\n            if (error)\n                return funcOFF();\n            \n            callback();\n        });\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/load-remote.js");
/src/dist-dev/cloudcmd.common.js-96-
##############################################
/src/dist-dev/cloudcmd.common.js-106-"use strict";
/src/dist-dev/cloudcmd.common.js:107:eval("\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst Events = __webpack_require__(/*! ./events */ \"./client/dom/events.js\");\n\nconst {getExt} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nmodule.exports = load;\nmodule.exports.getIdBySrc = getIdBySrc;\nmodule.exports.ext = ext;\n\n/**\n * Функция создаёт элемент и загружает файл с src.\n *\n * @param params = {\n * name, - название тэга\n * src', - путь к файлу\n * func, - обьект, содержаий одну из функций\n *          или сразу две onload и onerror\n *          {onload: function() {}, onerror: function();}\n * style,\n * id,\n * element,\n * async, - true by default\n * inner: 'id{color:red, },\n * class,\n * notAppend - false by default\n *\n */\nfunction load(params) {\n    const {\n        src,\n        id = getIdBySrc(params.src),\n        func,\n        name,\n        async,\n        inner,\n        style,\n        parent = document.body,\n        className,\n        attribute,\n        notAppend,\n    } = params;\n    \n    let element = document.getElementById(id);\n    \n    if (element) {\n        exec(func);\n        return element;\n    }\n    \n    element = document.createElement(name);\n    \n    const funcError = () => {\n        const msg = `file ${src} could not be loaded`;\n        const error = new Error(msg);\n        \n        parent.removeChild(element);\n        \n        Images.show.error(msg);\n        \n        const callback = func && func.onerror || func.onload || func;\n        \n        exec(callback, error);\n    };\n    \n    const funcLoad = () => {\n        const callback = func && func.onload || func;\n        \n        Events.remove('error', element, funcError);\n        \n        exec(callback);\n    };\n    \n    if (/^(script|link)$/.test(name))\n        Events.addOnce('load', element, funcLoad)\n            .addError(element, funcError);\n    \n    if (id)\n        element.id = id;\n    \n    if (className)\n        element.className = className;\n    \n    if (src) {\n        if (name !== 'link') {\n            element.src = src;\n        } else {\n            element.href = src;\n            element.rel = 'stylesheet';\n        }\n    }\n    \n    if (attribute) {\n        const type = itype(attribute);\n        \n        switch(type) {\n        case 'string':\n            element.setAttribute(attribute, '');\n            break;\n        \n        case 'object':\n            Object.keys(attribute).forEach((name) => {\n                element.setAttribute(name, attribute[name]);\n            });\n            break;\n        }\n    }\n    \n    if (style)\n        element.style.cssText = style;\n    \n    if (async && name === 'script' || async === undefined)\n        element.async = true;\n    \n    if (!notAppend)\n        parent.appendChild(element);\n    \n    if (inner)\n        element.innerHTML = inner;\n    \n    return element;\n}\n\n/**\n * Function gets id by src\n * @param src\n *\n * Example: http://domain.com/1.js -> 1_js\n */\nfunction getIdBySrc(src) {\n    const isStr = itype.string(src);\n    \n    if (!isStr)\n        return;\n    \n    if (~src.indexOf(':'))\n        src += '-join';\n    \n    const num = src.lastIndexOf('/') + 1;\n    const sub = src.substr(src, num);\n    const id = src\n        .replace(sub, '')\n        .replace(/\\./g, '-');\n    \n    return id;\n}\n\n/**\n * load file countent via ajax\n *\n * @param params\n */\nmodule.exports.ajax = (params) => {\n    const p = params;\n    const isObject = itype.object(p.data);\n    const isArray = itype.array(p.data);\n    const isArrayBuf = itype(p.data) === 'arraybuffer';\n    const type = p.type || p.method || 'GET';\n    const headers = p.headers || {};\n    const xhr = new XMLHttpRequest();\n    \n    xhr.open(type, p.url, true);\n    \n    Object.keys(headers).forEach((name) => {\n        const value = headers[name];\n        xhr.setRequestHeader(name, value);\n    });\n    \n    if (p.responseType)\n        xhr.responseType = p.responseType;\n    \n    let data;\n    if (!isArrayBuf && isObject || isArray)\n        data = jonny.stringify(p.data);\n    else\n        data = p.data;\n    \n    xhr.onreadystatechange = (event) => {\n        const xhr = event.target;\n        const OK  = 200;\n        \n        if (xhr.readyState !== xhr.DONE)\n            return;\n        \n        Images.clearProgress();\n        \n        const TYPE_JSON = 'application/json';\n        const type        = xhr.getResponseHeader('content-type');\n        \n        if (xhr.status !== OK)\n            return exec(p.error, xhr);\n        \n        const notText = p.dataType !== 'text';\n        const isContain = ~type.indexOf(TYPE_JSON);\n        \n        let data = xhr.response;\n        if (type && isContain && notText)\n            data = jonny.parse(xhr.response) || xhr.response;\n            \n        exec(p.success, data, xhr.statusText, xhr);\n    };\n    \n    xhr.send(data);\n};\n\nmodule.exports.put = (url, body) => {\n    const emitter = Emitify();\n    const xhr = new XMLHttpRequest();\n    \n    url = encodeURI(url)\n        .replace('#', '%23');\n    \n    xhr.open('put', url, true);\n    \n    xhr.upload.onprogress = (event) => {\n        if (!event.lengthComputable)\n            return;\n        \n        const percent = (event.loaded / event.total) * 100;\n        const count   = Math.round(percent);\n        \n        emitter.emit('progress', count);\n    };\n    \n    xhr.onreadystatechange = () => {\n        const over = xhr.readyState === xhr.DONE;\n        const OK = 200;\n        \n        if (!over)\n            return;\n        \n        if (xhr.status === OK)\n            return emitter.emit('end');\n        \n        const error = Error(xhr.responseText);\n        emitter.emit('error', error);\n    };\n    \n    xhr.send(body);\n    \n    return emitter;\n};\n\nfunction ext(src, func) {\n    switch (getExt(src)) {\n    case '.js':\n        return load.js(src, func);\n    \n    case '.css':\n        return load.css(src, func);\n    \n    default:\n        return load({\n            src,\n            func,\n        });\n    }\n}\n\n/**\n * create elements and load them to DOM-tree\n * one-by-one\n *\n * @param params\n * @param callback\n */\nload.series = (params, callback) => {\n    if (!params)\n        return load;\n    \n    const funcs = params\n        .map((url) => ext.bind(null, url))\n        .concat(callback);\n    \n    exec.series(funcs);\n    \n    return load;\n};\n\n/**\n * improve callback of funcs so\n * we pop number of function and\n * if it's last we call pCallBack\n *\n * @param params\n * @param callback - onload function\n */\nload.parallel = (params, callback) => {\n    if (!params)\n        return load;\n    \n    const funcs = params.map((url) => {\n        return ext.bind(null, url);\n    });\n    \n    exec.parallel(funcs, callback);\n    \n    return load;\n};\n\n/**\n * Функция загружает js-файл\n *\n * @param src\n * @param func\n */\nload.js = (src, func) => {\n    const name = 'script';\n    \n    return load({\n        name,\n        src,\n        func,\n    });\n},\n\nload.css = (src, func) => {\n    const name = 'link';\n    const {head:parent} = document;\n    \n    return load({\n        name,\n        src,\n        parent,\n        func\n    });\n};\n\n/**\n * Функция создаёт елемент style и записывает туда стили\n * @param params - структура параметров, заполняеться таким\n * образом: {src: ' ',func: '', id: '', element: '', inner: ''}\n * все параметры опциональны\n */\nload.style = (params) => {\n    const {\n        id,\n        src,\n        name = 'style',\n        func,\n        inner,\n        parent = document.head,\n        element,\n    } = params;\n    \n    return load({\n        id,\n        src,\n        func,\n        name,\n        inner,\n        parent,\n        element,\n    });\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/load.js");
/src/dist-dev/cloudcmd.common.js-108-
##############################################
/src/dist-dev/cloudcmd.common.js-118-"use strict";
/src/dist-dev/cloudcmd.common.js:119:eval("\n\n/* global CloudCmd, DOM */\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\n\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nmodule.exports = new RESTful();\n\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\n\nfunction RESTful() {\n    this.delete = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback = data;\n            data = null;\n        }\n        \n        sendRequest({\n            method      : 'DELETE',\n            url         : FS + url,\n            data,\n            callback,\n            imgPosition : { top: !!data }\n        });\n    };\n    \n    this.patch = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback = data;\n            data = null;\n        }\n        \n        const imgPosition = {\n            top: true\n        };\n        \n        sendRequest({\n            method: 'PATCH',\n            url: FS + url,\n            data,\n            callback,\n            imgPosition,\n        });\n    };\n    \n    this.write = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback    = data;\n            data        = null;\n        }\n        \n        sendRequest({\n            method: 'PUT',\n            url: FS + url,\n            data,\n            callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.read = (url, dataType, callback) => {\n        const isQuery = /\\?/.test(url);\n        const isBeautify = /\\?beautify$/.test(url);\n        const isMinify = /\\?minify$/.test(url);\n        const notLog = !isQuery || isBeautify || isMinify;\n        const isFunc = itype.function(dataType);\n        \n        if (!callback && isFunc) {\n            callback = dataType;\n            dataType = 'text';\n        }\n        \n        sendRequest({\n            method: 'GET',\n            url: FS + url,\n            callback,\n            notLog,\n            dataType,\n        });\n    };\n    \n    this.cp = (data, callback) => {\n        sendRequest({\n            method: 'PUT',\n            url: '/cp',\n            data,\n            callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.pack = (data, callback) => {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/pack',\n            data,\n            callback,\n        });\n    };\n    \n    this.extract = function(data, callback) {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/extract',\n            data        : data,\n            callback    : callback\n        });\n    };\n    \n    this.mv = function(data, callback) {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/mv',\n            data        : data,\n            callback    : callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.Config = {\n        read:   function(callback) {\n            sendRequest({\n                method      : 'GET',\n                url         : '/config',\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        },\n        \n        write:  function(data, callback) {\n            sendRequest({\n                method      : 'PATCH',\n                url         : '/config',\n                data        : data,\n                callback    : callback,\n                imgPosition : { top: true }\n            });\n        }\n    };\n    \n    this.Markdown   = {\n        read    : function(url, callback) {\n            sendRequest({\n                method      : 'GET',\n                url         : '/markdown' + url,\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        },\n        \n        render  : function(data, callback) {\n            sendRequest({\n                method      : 'PUT',\n                url         : '/markdown',\n                data        : data,\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        }\n    };\n    \n    function sendRequest(params) {\n        const p = params;\n        const prefixUrl = CloudCmd.PREFIX_URL;\n        \n        p.url = prefixUrl + p.url;\n        p.url = encodeURI(p.url);\n        \n        /*\n         * if we send ajax request -\n         * no need in hash so we escape #\n         */\n        p.url = p.url.replace('#', '%23');\n        \n        load.ajax({\n            method      : p.method,\n            url         : p.url,\n            data        : p.data,\n            dataType    : p.dataType,\n            error       : (jqXHR) => {\n                const response = jqXHR.responseText;\n                const statusText = jqXHR.statusText;\n                const status = jqXHR.status;\n                const text = status === 404 ? response : statusText;\n                \n                Images.show.error(text);\n                setTimeout(() => {\n                    DOM.Dialog.alert(CloudCmd.TITLE, text);\n                }, 100);\n                \n                p.callback(Error(text));\n            },\n            success: (data) => {\n                Images.hide();\n                \n                if (!p.notLog)\n                    CloudCmd.log(data);\n                \n                p.callback(null, data);\n            }\n        });\n    }\n}\n\n\n//# sourceURL=file://cloudcmd/client/dom/rest.js");
/src/dist-dev/cloudcmd.common.js-120-
##############################################
/src/dist-dev/cloudcmd.common.js-130-"use strict";
/src/dist-dev/cloudcmd.common.js:131:eval("\n\n/* global DOM */\n\nlet SelectType = '*.*';\nconst TITLE = 'Cloud Commander';\n\nconst {getRegExp} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nmodule.exports = (msg, files) => {\n    const allMsg = `Specify file type for ${msg} selection`;\n    const cancel = false;\n    const {Dialog} = DOM;\n    \n    Dialog.prompt(TITLE, allMsg, SelectType, {cancel}).then((type) => {\n        SelectType = type;\n        \n        const regExp = getRegExp(type);\n        \n        if (!files)\n            return;\n        \n        let matches = 0;\n        \n        files.forEach((current) => {\n            const name = DOM.getCurrentName(current);\n             \n            if (name === '..')\n                return;\n            \n            const isMatch = regExp.test(name);\n            \n            if (!isMatch)\n                return;\n            \n            ++matches;\n            \n            let isSelected = DOM.isSelected(current);\n            const shouldSel = msg === 'expand';\n             \n            if (shouldSel)\n                isSelected = !isSelected;\n            \n            if (isSelected)\n                DOM.toggleSelectedFile(current);\n        });\n        \n        if (!matches)\n            Dialog.alert('Select Files', 'No matches found!');\n    });\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/select-by-pattern.js");
/src/dist-dev/cloudcmd.common.js-132-
##############################################
/src/dist-dev/cloudcmd.common.js-142-"use strict";
/src/dist-dev/cloudcmd.common.js:143:eval("\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst tryCatch = __webpack_require__(/*! try-catch */ \"./node_modules/try-catch/lib/try-catch.js\");\nconst setItem = localStorage.setItem.bind(localStorage);\n\n/* приватный переключатель возможности работы с кэшем */\nlet Allowed;\n\n/**\n * allow Storage usage\n */\nmodule.exports.setAllowed = (isAllowed) => {\n    Allowed = isAllowed;\n};\n\n/** remove element */\nmodule.exports.remove = (item, callback) => {\n    if (Allowed)\n        localStorage.removeItem(item);\n    \n    exec(callback, null, Allowed);\n    \n    return module.exports;\n};\n\nmodule.exports.removeMatch = (string, callback) => {\n    const reg = RegExp('^' + string + '.*$');\n    const test = (a) => reg.test(a);\n    const remove = (a) => localStorage.removeItem(a);\n    \n    Object.keys(localStorage)\n        .filter(test)\n        .forEach(remove);\n    \n    exec(callback);\n    \n    return module.exports;\n};\n\n/** если доступен localStorage и\n * в нём есть нужная нам директория -\n * записываем данные в него\n */\nmodule.exports.set = (name, data, callback) => {\n    let str, error;\n    \n    if (itype.object(data))\n        str = jonny.stringify(data);\n    \n    if (Allowed && name)\n        [error] = tryCatch(setItem, name, str || data);\n    \n    exec(callback, error);\n    \n    return module.exports;\n},\n\n/** Если доступен Storage принимаем из него данные*/\nmodule.exports.get = (name, callback) => {\n    let ret;\n    \n    if (Allowed)\n        ret = localStorage.getItem(name);\n    \n    exec(callback, null, ret);\n    \n    return module.exports;\n},\n\n/** функция чистит весь кэш для всех каталогов*/\nmodule.exports.clear = (callback) => {\n    const ret = Allowed;\n    \n    if (ret)\n        localStorage.clear();\n    \n    exec(callback, null, ret);\n    \n    return module.exports;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/storage.js");
/src/dist-dev/cloudcmd.common.js-144-
##############################################
/src/dist-dev/cloudcmd.common.js-154-"use strict";
/src/dist-dev/cloudcmd.common.js:155:eval("\n\n/* global CloudCmd */\n\nconst {eachSeries} = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst wraptile = __webpack_require__(/*! wraptile/legacy */ \"./node_modules/wraptile/legacy/index.js\");\n\nconst DOM = __webpack_require__(/*! . */ \"./client/dom/index.js\");\nconst load = __webpack_require__(/*! ./load */ \"./client/dom/load.js\");\nconst Images = __webpack_require__(/*! ./images */ \"./client/dom/images.js\");\n\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst onEnd = wraptile(_onEnd);\nconst loadFile = wraptile(_loadFile);\n\nconst {\n    getCurrentDirPath: getPathWhenRootEmpty\n} = DOM;\n\nmodule.exports = (dir, files) => {\n    if (!files) {\n        files = dir;\n        dir = getPathWhenRootEmpty();\n    }\n    \n    const n = files.length;\n    \n    if (!n)\n        return;\n    \n    const array = [...files];\n    const {name} = files[0];\n    \n    eachSeries(array, loadFile(dir, n), onEnd(name));\n};\n\nfunction _onEnd(currentName) {\n    CloudCmd.refresh({\n        currentName\n    });\n}\n\nfunction _loadFile(dir, n, file, callback) {\n    let i = 0;\n    \n    const name = file.name;\n    const path = dir + name;\n    const {PREFIX_URL} = CloudCmd;\n    const api = PREFIX_URL + FS;\n    \n    const percent = (i, n, per = 100) => {\n        return Math.round(i * per / n);\n    };\n    \n    const step = (n) => 100 / n;\n    \n    ++i;\n    \n    load.put(api + path, file)\n        .on('end', callback)\n        .on('progress', (count) => {\n            const max = step(n);\n            const value = (i - 1) * max + percent(count, 100, max);\n            \n            Images.show.load('top');\n            Images.setProgress(Math.round(value));\n        });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/upload-files.js");
/src/dist-dev/cloudcmd.common.js-156-
##############################################
/src/dist-dev/cloudcmd.common.js-166-"use strict";
/src/dist-dev/cloudcmd.common.js:167:eval("\n\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst store = __webpack_require__(/*! fullstore/legacy */ \"./node_modules/fullstore/legacy/index.js\");\nconst Entity = __webpack_require__(/*! ./entity */ \"./common/entity.js\");\n\nconst getHeaderField = currify(_getHeaderField);\n\n/* КОНСТАНТЫ (общие для клиента и сервера)*/\n\n/* название программы */\nconst NAME = 'Cloud Commander';\nconst FS = '/fs';\n\nconst Path = store();\n\nPath('/');\n\nmodule.exports.FS = FS;\nmodule.exports.apiURL = '/api/v1';\nmodule.exports.MAX_FILE_SIZE = 500 * 1024;\nmodule.exports.Entity = Entity;\nmodule.exports.getHeaderField = getHeaderField;\nmodule.exports.getPathLink = getPathLink;\nmodule.exports.getDotDot = getDotDot;\n\nmodule.exports.formatMsg = (msg, name, status) => {\n    status = status || 'ok';\n    name = name || '';\n    \n    if (name)\n        name = '(\"' + name + '\")';\n    \n    return msg + ': ' + status + name;\n};\n\n/**\n * Функция возвращает заголовок веб страницы\n * @path\n */\nmodule.exports.getTitle = (options) => {\n    options = options || {};\n    \n    const path = options.path || Path();\n    const name = options.name;\n    \n    const array = [\n        name || NAME,\n        path,\n    ];\n    \n    return array\n        .filter(Boolean)\n        .join(' - ');\n};\n\n/** Функция получает адреса каждого каталога в пути\n * возвращаеться массив каталогов\n * @param url -  адрес каталога\n */\nfunction getPathLink(url, prefix, template) {\n    if (!url)\n        throw Error('url could not be empty!');\n    \n    if (!template)\n        throw Error('template could not be empty!');\n    \n    const names = url\n        .split('/')\n        .slice(1, -1);\n    \n    const allNames = ['/'].concat(names);\n    const length = allNames.length - 1;\n    \n    let path = '/';\n    \n    const pathHTML = allNames.map((name, index) => {\n        const isLast = index === length;\n        \n        if (index)\n            path += name + '/';\n        \n        if (index && isLast)\n            return name + '/';\n        \n        const slash = index ? '/' : '';\n        \n        return rendy(template, {\n            path,\n            name,\n            slash,\n            prefix,\n        });\n    }).join('');\n    \n    return pathHTML;\n}\n\n/**\n * Функция строит таблицу файлв из JSON-информации о файлах\n * @param params - информация о файлах\n *\n */\nmodule.exports.buildFromJSON = (params) => {\n    const prefix = params.prefix;\n    const template = params.template;\n    const templateFile = template.file;\n    const templateLink = template.link;\n    const json = params.data;\n    \n    const path = json.path;\n    const files = json.files;\n    \n    const sort = params.sort || 'name';\n    const order = params.order || 'asc';\n    \n    /*\n     * Строим путь каталога в котором мы находимся\n     * со всеми подкаталогами\n     */\n    const htmlPath = getPathLink(path, prefix, template.pathLink);\n    \n    let fileTable = rendy(template.path, {\n        link        : prefix + FS + path,\n        fullPath    : path,\n        path        : htmlPath\n    });\n    \n    const owner = 'owner';\n    const mode = 'mode';\n    \n    const getFieldName = getHeaderField(sort, order);\n    \n    const name = getFieldName('name');\n    const size = getFieldName('size');\n    const date = getFieldName('date');\n    \n    const header = rendy(templateFile, {\n        tag         : 'div',\n        attribute   : 'data-name=\"js-fm-header\" ',\n        className   : 'fm-header',\n        type        : '',\n        name,\n        size,\n        date,\n        owner,\n        mode,\n    });\n    \n    /* сохраняем путь */\n    Path(path);\n    \n    fileTable += header + '<ul data-name=\"js-files\" class=\"files\">';\n    /* Если мы не в корне */\n    if (path !== '/') {\n        const dotDot = getDotDot(path);\n        const link = prefix + FS + dotDot;\n        \n        const linkResult = rendy(template.link, {\n            link,\n            title       : '..',\n            name        : '..'\n        });\n        \n        const dataName = 'data-name=\"js-file-..\" ';\n        const attribute = 'draggable=\"true\" ' + dataName;\n        \n        /* Сохраняем путь к каталогу верхнего уровня*/\n        fileTable += rendy(template.file, {\n            tag         : 'li',\n            attribute,\n            className   : '',\n            type        : 'directory',\n            name        : linkResult,\n            size        : '&lt;dir&gt;',\n            date        : '--.--.----',\n            owner       : '.',\n            mode        : '--- --- ---'\n        });\n    }\n    \n    fileTable += files.map((file) => {\n        const link = prefix + FS + path + file.name;\n        \n        const type = getType(file.size);\n        const size = getSize(file.size);\n        \n        const date = file.date || '--.--.----';\n        const owner = file.owner || 'root';\n        const mode = file.mode;\n        \n        const linkResult = rendy(templateLink, {\n            link,\n            title: file.name,\n            name: Entity.encode(file.name),\n            attribute: getAttribute(file.size)\n        });\n        \n        const dataName = 'data-name=\"js-file-' + file.name + '\" ';\n        const attribute = 'draggable=\"true\" ' + dataName;\n        \n        return rendy(templateFile, {\n            tag: 'li',\n            attribute,\n            className: '',\n            type,\n            name: linkResult,\n            size,\n            date,\n            owner,\n            mode,\n        });\n    }).join('');\n    \n    fileTable += '</ul>';\n    \n    return fileTable;\n};\n\nfunction getType(size) {\n    if (size === 'dir')\n        return 'directory';\n    \n    return 'text-file';\n}\n\nfunction getAttribute(size) {\n    if (size === 'dir')\n        return '';\n    \n    return 'target=\"_blank\" ';\n}\n\nfunction getSize(size) {\n    if (size === 'dir')\n        return '&lt;dir&gt;';\n    \n    return size;\n}\n\nfunction _getHeaderField(sort, order, name) {\n    const arrow = order === 'asc' ?  '↑' : '↓';\n    \n    if (sort !== name)\n        return name;\n    \n    if (sort === 'name' && order === 'asc')\n        return name;\n    \n    return `${name}${arrow}`;\n}\n\nfunction getDotDot(path) {\n    // убираем последний слеш и каталог в котором мы сейчас находимся\n    const lastSlash = path.substr(path, path.lastIndexOf('/'));\n    const dotDot = lastSlash.substr(lastSlash, lastSlash.lastIndexOf('/'));\n    \n    if (!dotDot)\n        return '/';\n    \n    return dotDot;\n}\n\n\n\n//# sourceURL=file://cloudcmd/common/cloudfunc.js");
/src/dist-dev/cloudcmd.common.js-168-
##############################################
/src/dist-dev/cloudcmd.common.js-178-"use strict";
/src/dist-dev/cloudcmd.common.js:179:eval("\n\nconst Entities = {\n    '&nbsp;': ' ',\n    '&lt;': '<',\n    '&gt;': '>',\n};\n\nconst keys = Object.keys(Entities);\n\nmodule.exports.encode = (str) => {\n    keys.forEach((code) => {\n        const char = Entities[code];\n        const reg = RegExp(char, 'g');\n        \n        str = str.replace(reg, code);\n    });\n    \n    return str;\n};\n\nmodule.exports.decode = (str) => {\n    keys.forEach((code) => {\n        const char = Entities[code];\n        const reg = RegExp(code, 'g');\n        \n        str = str.replace(reg, char);\n    });\n    \n    return str;\n};\n\n\n\n//# sourceURL=file://cloudcmd/common/entity.js");
/src/dist-dev/cloudcmd.common.js-180-
##############################################
/src/dist-dev/cloudcmd.common.js-190-"use strict";
/src/dist-dev/cloudcmd.common.js:191:eval("\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nmodule.exports.getStrBigFirst = getStrBigFirst;\nmodule.exports.kebabToCamelCase = kebabToCamelCase;\n\nmodule.exports.escapeRegExp = (str) => {\n    const isStr = typeof str === 'string';\n    \n    if (isStr)\n        str = str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    \n    return str;\n};\n\n/**\n * get regexp from wild card\n */\nmodule.exports.getRegExp = (wildcard) => {\n    wildcard = wildcard || '*';\n    \n    const escaped = '^' + wildcard // search from start of line\n        .replace('.', '\\\\.')\n        .replace('*', '.*')\n        .replace('?', '.?') + '$'; // search to end of line\n    \n    return RegExp(escaped);\n};\n\nmodule.exports.exec = exec;\n\n/**\n * function gets file extension\n *\n * @param name\n * @return ext\n */\nmodule.exports.getExt = (name) => {\n    const isStr = typeof name === 'string';\n    \n    if (!isStr)\n        return '';\n    \n    const dot = name.lastIndexOf('.');\n    \n    if (~dot)\n        return name.substr(dot);\n    \n    return '';\n};\n\n/**\n * find object by name in arrray\n *\n * @param array\n * @param name\n */\nmodule.exports.findObjByNameInArr = (array, name) => {\n    let ret;\n    \n    if (!Array.isArray(array))\n        throw Error('array should be array!');\n        \n    if (typeof name !== 'string')\n        throw Error('name should be string!');\n    \n    array.some((item) => {\n        let is = item.name === name;\n        const isArray = Array.isArray(item);\n        \n        if (is) {\n            ret = item;\n            return is;\n        }\n        \n        if (!isArray)\n            return is;\n        \n        return item.some((item) => {\n            const is = item.name === name;\n            \n            if (is)\n                ret = item.data;\n            \n            return is;\n        });\n    });\n    \n    return ret;\n};\n\n/**\n * start timer\n * @param name\n */\nmodule.exports.time = (name) => {\n    exec.ifExist(console, 'time', [name]);\n};\n\n/**\n * stop timer\n * @param name\n */\nmodule.exports.timeEnd = (name) => {\n    exec.ifExist(console, 'timeEnd', [name]);\n};\n\nfunction getStrBigFirst(str) {\n    if (!str)\n        throw Error('str could not be empty!');\n    \n    const first = str[0].toUpperCase();\n    \n    return first + str.slice(1);\n}\n\nfunction kebabToCamelCase(str) {\n    if (!str)\n        throw Error('str could not be empty!');\n    \n    return str\n        .split('-')\n        .map(getStrBigFirst)\n        .join('')\n        .replace(/.js$/, '');\n}\n\n\n\n//# sourceURL=file://cloudcmd/common/util.js");
/src/dist-dev/cloudcmd.common.js-192-
##############################################
/src/dist-dev/cloudcmd.common.js-202-"use strict";
/src/dist-dev/cloudcmd.common.js:203:eval("\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar tail = function tail(list) {\n    return slice(list, 1);\n};\n\nmodule.exports = apart;\n\nfunction apart(fn) {\n    check(fn);\n\n    var first = tail(arguments);\n\n    return function () {\n        var args = [].concat(_toConsumableArray(first), Array.prototype.slice.call(arguments));\n\n        return fn.apply(undefined, _toConsumableArray(args));\n    };\n}\n\nfunction slice(list, from, to) {\n    return [].slice.call(list, from, to);\n}\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/apart/lib/apart.js");
/src/dist-dev/cloudcmd.common.js-204-
##############################################
/src/dist-dev/cloudcmd.common.js-213-
/src/dist-dev/cloudcmd.common.js:214:eval("module.exports = __webpack_require__(/*! ./lib/currify */ \"./node_modules/currify/legacy/lib/currify.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/currify/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-215-
##############################################
/src/dist-dev/cloudcmd.common.js-225-"use strict";
/src/dist-dev/cloudcmd.common.js:226:eval("\n\nvar f = function f(fn) {\n    return [\n    /*eslint no-unused-vars: 0*/\n    function (a) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d, e) {\n        return fn.apply(undefined, arguments);\n    }];\n};\n\nmodule.exports = function currify(fn) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    check(fn);\n\n    if (args.length >= fn.length) return fn.apply(undefined, args);\n\n    var again = function again() {\n        return currify.apply(undefined, [fn].concat(args, Array.prototype.slice.call(arguments)));\n    };\n\n    var count = fn.length - args.length - 1;\n    var func = f(again)[count];\n\n    return func || again;\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/currify/legacy/lib/currify.js");
/src/dist-dev/cloudcmd.common.js-227-
##############################################
/src/dist-dev/cloudcmd.common.js-237-"use strict";
/src/dist-dev/cloudcmd.common.js:238:eval("\n\nvar Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\n\nmodule.exports = function (entry) {\n    var emitter = Emitify();\n\n    setTimeout(function () {\n        FindIt(emitter, entry);\n    }, 0);\n\n    return emitter;\n};\n\nfunction FindIt(emitter, entry) {\n    if (!(this instanceof FindIt)) return new FindIt(emitter, entry);\n\n    this._dirs = 0;\n    this._first = true;\n\n    this._find(emitter, entry);\n}\n\nFindIt.prototype._find = function (emitter, entry) {\n    var _this = this;\n\n    if (entry.isFile) {\n        emitter.emit('file', entry.fullPath, entry);\n\n        if (this._first) emitter.emit('end');\n\n        return;\n    }\n\n    if (this._first) this._first = false;\n\n    emitter.emit('directory', entry.fullPath, entry);\n\n    ++this._dirs;\n\n    entry.createReader().readEntries(function (entries) {\n        [].forEach.call(entries, function (entry) {\n            _this._find(emitter, entry);\n        });\n\n        --_this._dirs;\n\n        if (!_this._dirs) emitter.emit('end');\n    });\n};\n\n//# sourceURL=file://cloudcmd/node_modules/domfs-findit/legacy/findit.js");
/src/dist-dev/cloudcmd.common.js-239-
##############################################
/src/dist-dev/cloudcmd.common.js-248-
/src/dist-dev/cloudcmd.common.js:249:eval("module.exports = __webpack_require__(/*! ./lib/emitify */ \"./node_modules/emitify/legacy/lib/emitify.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/emitify/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-250-
##############################################
/src/dist-dev/cloudcmd.common.js-260-"use strict";
/src/dist-dev/cloudcmd.common.js:261:eval("\n\nmodule.exports = Emitify;\n\nfunction Emitify() {\n    if (!(this instanceof Emitify)) return new Emitify();\n\n    this._all = {};\n}\n\nEmitify.prototype.on = function (event, callback) {\n    var funcs = this._all[event];\n\n    check(event, callback);\n\n    if (funcs) funcs.push(callback);else this._all[event] = [callback];\n\n    return this;\n};\n\nEmitify.prototype.addListener = Emitify.prototype.on;\n\nEmitify.prototype.once = function (event, callback) {\n    var self = this;\n\n    check(event, callback);\n\n    self.on(event, function fn() {\n        callback.apply(null, arguments);\n        self.off(event, fn);\n    });\n\n    return this;\n};\n\nEmitify.prototype.off = function (event, callback) {\n    var events = this._all[event] || [];\n    var index = events.indexOf(callback);\n\n    check(event, callback);\n\n    while (~index) {\n        events.splice(index, 1);\n        index = events.indexOf(callback);\n    }\n\n    return this;\n};\n\nEmitify.prototype.removeListener = Emitify.prototype.off;\n\nEmitify.prototype.emit = function (event) {\n    var args = [].slice.call(arguments, 1);\n    var funcs = this._all[event];\n\n    checkEvent(event);\n\n    if (!funcs && event === 'error') throw args[0];\n\n    if (!funcs) return this;\n\n    funcs.forEach(function (fn) {\n        fn.apply(null, args);\n    });\n\n    return this;\n};\n\nEmitify.prototype.removeAllListeners = function (event) {\n    checkEvent(event);\n\n    this._all[event] = [];\n\n    return this;\n};\n\nfunction checkEvent(event) {\n    if (typeof event !== 'string') throw Error('event should be string!');\n}\n\nfunction checkFn(callback) {\n    if (typeof callback !== 'function') throw Error('callback should be function!');\n}\n\nfunction check(event, callback) {\n    checkEvent(event);\n    checkFn(callback);\n}\n\n//# sourceURL=file://cloudcmd/node_modules/emitify/legacy/lib/emitify.js");
/src/dist-dev/cloudcmd.common.js-262-
##############################################
/src/dist-dev/cloudcmd.common.js-271-
/src/dist-dev/cloudcmd.common.js:272:eval("(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports = new ExecProto();\n    else\n        global.exec = new ExecProto();\n        \n    function ExecProto() {\n        var slice = Array.prototype.slice,\n            /**\n             * function do save exec of function\n             * @param callback\n             * @param arg1\n             * ...\n             * @param argN\n             */\n            exec        = function(callback) {\n                var ret,\n                    isFunc  = typeof callback === 'function',\n                    args    = slice.call(arguments, 1);\n               \n                if (isFunc)\n                    ret     = callback.apply(null, args);\n                \n                return ret;\n            };\n        \n        /*\n         * return function that calls callback with arguments\n         */\n        exec.with           =  function(callback) {\n            var slice   = Array.prototype.slice,\n                args    = slice.call(arguments, 1);\n            \n            return function() {\n                var array   = slice.call(arguments), \n                    all     = args.concat(array);\n                \n                return callback.apply(null, all);\n            };\n        };\n         \n         /**\n         * return save exec function\n         * @param callback\n         */\n        exec.ret        = function() {\n            var result,\n                args        = slice.call(arguments);\n            \n            args.unshift(exec);\n            result          = exec.with.apply(null, args);\n            \n            return result;\n        };\n        \n        /**\n         * function do conditional save exec of function\n         * @param condition\n         * @param callback\n         * @param func\n         */\n        exec.if         = function(condition, callback, func) {\n            var ret;\n            \n            if (condition)\n                exec(callback);\n            else\n                exec(func, callback);\n            \n            return ret;\n        };\n        \n        /**\n         * exec function if it exist in object\n         * \n         * @param obj\n         * @param name\n         * @param arg\n         */\n        exec.ifExist                = function(obj, name, arg) {\n            var ret,\n                func    = obj && obj[name];\n            \n            if (func)\n                func    = func.apply(obj, arg);\n            \n            return ret;\n        };\n        \n        exec.parallel   = function(funcs, callback) {\n            var ERROR       = 'could not be empty!',\n                keys        = [],\n                callbackWas = false,\n                arr         = [],\n                obj         = {},\n                count       = 0,\n                countFuncs  = 0,\n                type        = getType(funcs);\n            \n            if (!funcs)\n                throw Error('funcs ' + ERROR);\n            \n            if (!callback)\n                throw Error('callback ' + ERROR);\n            \n            switch(type) {\n            case 'array':\n                countFuncs  = funcs.length;\n                \n                funcs.forEach(function(func, num) {\n                    exec(func, function() {\n                        checkFunc(num, arguments);\n                    });\n                });\n                break;\n            \n            case 'object':\n                keys        = Object.keys(funcs);\n                countFuncs  = keys.length;\n                \n                keys.forEach(function(name) {\n                    var func    = funcs[name];\n                    \n                    exec(func, function() {\n                        checkFunc(name, arguments, obj);\n                    });\n                });\n                break;\n            }\n            \n            function checkFunc(num, data) {\n                var args    = slice.call(data, 1),\n                    isLast  = false,\n                    error   = data[0],\n                    length  = args.length;\n                \n                ++count;\n                \n                isLast = count === countFuncs;\n                \n                if (!error)\n                    if (length >= 2)\n                        arr[num] = args;\n                    else\n                        arr[num] = args[0];\n                \n                if (!callbackWas && (error || isLast)) {\n                    callbackWas = true;\n                    \n                    if (type === 'array')\n                        callback.apply(null, [error].concat(arr));\n                    else\n                        callback(error, arr);\n                }\n            }\n        };\n        \n        /**\n         * load functions thrue callbacks one-by-one\n         * @param funcs {Array} - array of functions\n         */\n        exec.series             = function(funcs, callback) {\n            var fn,\n                i           = funcs.length,\n                check       = function(error) {\n                    var done;\n                    \n                    --i;\n                    \n                    if (!i || error) {\n                        done = true;\n                        exec(callback, error);\n                    }\n                    \n                    return done;\n                };\n            \n            if (!Array.isArray(funcs))\n                throw Error('funcs should be array!');\n            \n            fn = funcs.shift();\n            \n            exec(fn, function(error) {\n                if (!check(error))\n                    exec.series(funcs, callback);\n            });\n        };\n        \n        exec.each               = function(array, iterator, callback) {\n            var listeners = array.map(function(item) {\n                return iterator.bind(null, item);\n            });\n            \n            if (!listeners.length)\n                callback();\n            else\n                exec.parallel(listeners, callback);\n        };\n            \n        exec.eachSeries         = function(array, iterator, callback) {\n            var listeners = array.map(function(item) {\n                return iterator.bind(null, item);\n            });\n            \n            if (typeof callback !== 'function')\n                throw Error('callback should be function');\n            \n            if (!listeners.length)\n                callback();\n            else\n                exec.series(listeners, callback);\n        };\n        \n       /**\n         * function execute param function in\n         * try...catch block\n         * \n         * @param callback\n         */\n        exec.try                = function(callback) {\n            var ret;\n            try {\n                ret = callback();\n            } catch(error) {\n                ret = error;\n            }\n            \n            return ret;\n        };\n        \n        function getType(variable) {\n            var regExp      = new RegExp('\\\\s([a-zA-Z]+)'),\n                str         = {}.toString.call(variable),\n                typeBig     = str.match(regExp)[1],\n                result      = typeBig.toLowerCase();\n            \n            return result;\n        } \n        \n        return exec;\n    }\n})(this);\n\n\n//# sourceURL=file://cloudcmd/node_modules/execon/lib/exec.js");
/src/dist-dev/cloudcmd.common.js-273-
##############################################
/src/dist-dev/cloudcmd.common.js-282-
/src/dist-dev/cloudcmd.common.js:283:eval("module.exports = __webpack_require__(/*! ./lib/for-each-key */ \"./node_modules/for-each-key/legacy/lib/for-each-key.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/for-each-key/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-284-
##############################################
/src/dist-dev/cloudcmd.common.js-294-"use strict";
/src/dist-dev/cloudcmd.common.js:295:eval("\n\nvar setValue = function setValue(fn, obj) {\n    return function (key) {\n        return fn(key, obj[key]);\n    };\n};\n\nmodule.exports = function (fn, obj) {\n    Object.keys(obj).forEach(setValue(fn, obj));\n};\n\n//# sourceURL=file://cloudcmd/node_modules/for-each-key/legacy/lib/for-each-key.js");
/src/dist-dev/cloudcmd.common.js-296-
##############################################
/src/dist-dev/cloudcmd.common.js-305-
/src/dist-dev/cloudcmd.common.js:306:eval("(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports  = new FormatProto();\n    else\n        global.Format   = new FormatProto();\n        \n    function FormatProto() {\n        this.addSlashToEnd  = function(path) {\n            var length, isSlash;\n            \n            if (path) {\n                length  = path.length - 1;\n                isSlash = path[length] === '/';\n                \n                if (!isSlash)\n                    path += '/';\n            }\n            \n            return path;\n        };\n        \n        /** Функция получает короткие размеры\n         * конвертируя байт в килобайты, мегабойты,\n         * гигайбайты и терабайты\n         * @pSize - размер в байтах\n         */\n        this.size    = function(size) {\n            var isNumber    = typeof size === 'number',\n                l1KB        = 1024,\n                l1MB        = l1KB * l1KB,\n                l1GB        = l1MB * l1KB,\n                l1TB        = l1GB * l1KB,\n                l1PB        = l1TB * l1KB;\n            \n            if (isNumber) {\n                if      (size < l1KB)   size = size + 'b';\n                else if (size < l1MB)   size = (size / l1KB).toFixed(2) + 'kb';\n                else if (size < l1GB)   size = (size / l1MB).toFixed(2) + 'mb';\n                else if (size < l1TB)   size = (size / l1GB).toFixed(2) + 'gb';\n                else if (size < l1PB)   size = (size / l1TB).toFixed(2) + 'tb';\n                else                    size = (size / l1PB).toFixed(2) + 'pb';\n            }\n            \n            return size;\n        };\n        \n        /**\n         * Функция переводит права из цыфрового вида в символьный\n         * @param perms - строка с правами доступа\n         * к файлу в 8-миричной системе\n         */\n        this.permissions = {\n            symbolic: function(perms) {\n                var type, owner, group, all,\n                    is              = typeof perms !== undefined,\n                    permsStr        = '',\n                    permissions     = '';\n                /*\n                    S_IRUSR   0000400   protection: readable by owner\n                    S_IWUSR   0000200   writable by owner\n                    S_IXUSR   0000100   executable by owner\n                    S_IRGRP   0000040   readable by group\n                    S_IWGRP   0000020   writable by group\n                    S_IXGRP   0000010   executable by group\n                    S_IROTH   0000004   readable by all\n                    S_IWOTH   0000002   writable by all\n                    S_IXOTH   0000001   executable by all\n                */\n                \n                if (is) {\n                    permsStr = perms.toString();\n                    /* тип файла */\n                    type = permsStr.charAt(0);\n                    \n                    switch (type - 0) {\n                        case 1: /* обычный файл */\n                            type = '-';\n                            break;\n                        case 2: /* байт-ориентированное (символьное) устройство*/\n                            type = 'c';\n                            break;\n                        case 4: /* каталог */\n                            type = 'd';\n                            break;\n                        default:\n                            type = '-';\n                    }\n                    \n                    /* оставляем последние 3 символа*/\n                    if (permsStr.length > 5)\n                        permsStr = permsStr.substr(3);\n                    else\n                        permsStr = permsStr.substr(2);\n                    \n                    /* Рекомендации гугла советуют вместо string[3]\n                     * использовать string.charAt(3)\n                     */\n                    /*\n                        http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml?showone=Standards_features#Standards_features\n                        \n                        Always preferred over non-standards featuresFor\n                        maximum portability and compatibility, always\n                        prefer standards features over non-standards\n                        features (e.g., string.charAt(3) over string[3]\n                        and element access with DOM functions instead\n                        of using an application-specific shorthand).\n                    */\n                    /* Переводим в двоичную систему */\n                    owner = (permsStr[0] - 0).toString(2),\n                    group = (permsStr[1] - 0).toString(2),\n                    all   = (permsStr[2] - 0).toString(2),\n                    \n                    /* переводим в символьную систему*/\n                    permissions =\n                                 (owner[0] - 0 > 0 ? 'r' : '-')     +\n                                 (owner[1] - 0 > 0 ? 'w' : '-')     +\n                                 (owner[2] - 0 > 0 ? 'x' : '-')     +\n                                 ' '                                +\n                                 (group[0] - 0 > 0 ? 'r' : '-')     +\n                                 (group[1] - 0 > 0 ? 'w' : '-')     +\n                                 (group[2] - 0 > 0 ? 'x' : '-')     +\n                                 ' '                                +\n                                 (all[0] - 0    > 0 ? 'r' : '-')     +\n                                 (all[1] - 0    > 0 ? 'w' : '-')     +\n                                 (all[2] - 0    > 0 ? 'x' : '-');\n                }\n                \n                return permissions;\n            },\n            \n            /**\n             * Функция конвертирует права доступа к файлам из символьного вида\n             * в цыфровой\n             */\n            numeric: function(perms) {\n                var owner, group, all,\n                    length          = perms && perms.length === 11;\n                \n                if (length) {\n                    owner   = (perms[0]  === 'r' ? 4 : 0) +\n                              (perms[1]  === 'w' ? 2 : 0) +\n                              (perms[2]  === 'x' ? 1 : 0),\n                                \n                    group   = (perms[4]  === 'r' ? 4 : 0) +\n                              (perms[5]  === 'w' ? 2 : 0) +\n                              (perms[6]  === 'x' ? 1 : 0),\n                            \n                    all     = (perms[8]  === 'r' ? 4 : 0) +\n                              (perms[9]  === 'w' ? 2 : 0) +\n                              (perms[10] === 'x' ? 1 : 0);\n                    \n                    /* добавляем 2 цифры до 5 */\n                    perms   = '00' + owner + group + all;\n                }\n                \n                return perms;\n            }\n        };\n    }\n    \n})(this);\n\n\n//# sourceURL=file://cloudcmd/node_modules/format-io/lib/format.js");
/src/dist-dev/cloudcmd.common.js-307-
##############################################
/src/dist-dev/cloudcmd.common.js-316-
/src/dist-dev/cloudcmd.common.js:317:eval("module.exports = __webpack_require__(/*! ./lib/fullstore */ \"./node_modules/fullstore/legacy/lib/fullstore.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/fullstore/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-318-
##############################################
/src/dist-dev/cloudcmd.common.js-328-"use strict";
/src/dist-dev/cloudcmd.common.js:329:eval("\n\nmodule.exports = function (value) {\n    var data = {\n        value: value\n    };\n\n    return function (value) {\n        if (!arguments.length) return data.value;\n\n        data.value = value;\n\n        return value;\n    };\n};\n\n//# sourceURL=file://cloudcmd/node_modules/fullstore/legacy/lib/fullstore.js");
/src/dist-dev/cloudcmd.common.js-330-
##############################################
/src/dist-dev/cloudcmd.common.js-339-
/src/dist-dev/cloudcmd.common.js:340:eval("if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n//# sourceURL=file://cloudcmd/node_modules/inherits/inherits_browser.js");
/src/dist-dev/cloudcmd.common.js-341-
##############################################
/src/dist-dev/cloudcmd.common.js-350-
/src/dist-dev/cloudcmd.common.js:351:eval("module.exports = __webpack_require__(/*! ./lib/itchy */ \"./node_modules/itchy/legacy/lib/itchy.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/itchy/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-352-
##############################################
/src/dist-dev/cloudcmd.common.js-362-"use strict";
/src/dist-dev/cloudcmd.common.js:363:eval("\n\nmodule.exports = function (array, iterator, done) {\n    check(array, iterator, done);\n    \n    var i = -1;\n    var n = array.length;\n    \n    var loop = function (e) {\n       ++i;\n       \n       if (e || i === n)\n           { return done(e); }\n       \n       iterator(array[i], loop);\n    };\n    \n    loop();\n}\n\nfunction check(array, iterator, done) {\n    if (!Array.isArray(array))\n        { throw Error('array should be an array!'); }\n    \n    if (typeof iterator !== 'function')\n        { throw Error('iterator should be a function!'); }\n    \n    if (typeof done !== 'function')\n        { throw Error('done should be a function!'); }\n}\n\n\n\n//# sourceURL=file://cloudcmd/node_modules/itchy/legacy/lib/itchy.js");
/src/dist-dev/cloudcmd.common.js-364-
##############################################
/src/dist-dev/cloudcmd.common.js-373-
/src/dist-dev/cloudcmd.common.js:374:eval("module.exports = __webpack_require__(/*! ./lib/itype */ \"./node_modules/itype/legacy/lib/itype.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/itype/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-375-
##############################################
/src/dist-dev/cloudcmd.common.js-385-"use strict";
/src/dist-dev/cloudcmd.common.js:386:eval("\n\nmodule.exports = new TypeProto();\n\nfunction TypeProto() {\n    /**\n     * get type of variable\n     *\n     * @param variable\n     */\n    function type(variable) {\n        var regExp = /\\s([a-zA-Z]+)/;\n        var str = {}.toString.call(variable);\n        var typeBig = str.match(regExp)[1];\n        var result = typeBig.toLowerCase();\n        \n        return result;\n    }\n    \n    /**\n     * functions check is variable is type of name\n     *\n     * @param variable\n     */\n    function typeOf(name, variable) {\n        return type(variable) === name;\n    }\n    \n    function typeOfSimple(name, variable) {\n        return typeof variable === name;\n    }\n    \n    ['arrayBuffer', 'file', 'array', 'object']\n        .forEach(function (name) {\n            type[name] = typeOf.bind(null, name);\n        });\n    \n    ['null', 'string', 'undefined', 'boolean', 'number', 'function']\n        .forEach(function (name) {\n            type[name] = typeOfSimple.bind(null, name);\n        });\n    \n    return type;\n}\n\n\n\n//# sourceURL=file://cloudcmd/node_modules/itype/legacy/lib/itype.js");
/src/dist-dev/cloudcmd.common.js-387-
##############################################
/src/dist-dev/cloudcmd.common.js-396-
/src/dist-dev/cloudcmd.common.js:397:eval("/* WEBPACK VAR INJECTION */(function(global) {(function(scope) {\n    'use strict';\n    \n    var Scope   = scope.window ? window : global,\n        \n        PREFIX  = '/join';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports  = join;\n    else\n        Scope.join      = join;\n    \n    function join (prefix, names) {\n        var url;\n        \n        if (!names) {\n            names   = prefix;\n            prefix  = PREFIX;\n        }\n        \n        if (!names)\n            throw(Error('names must be array!'));\n        \n        url = prefix + ':' + names.join(':');\n        \n        return url;\n    }\n    \n})(this);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=file://cloudcmd/node_modules/join-io/www/join.js");
/src/dist-dev/cloudcmd.common.js-398-
##############################################
/src/dist-dev/cloudcmd.common.js-407-
/src/dist-dev/cloudcmd.common.js:408:eval("module.exports = __webpack_require__(/*! ./jonny */ \"./node_modules/jonny/legacy/jonny.js\")\n\n\n//# sourceURL=file://cloudcmd/node_modules/jonny/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-409-
##############################################
/src/dist-dev/cloudcmd.common.js-419-"use strict";
/src/dist-dev/cloudcmd.common.js:420:eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar tryCatch = __webpack_require__(/*! try-catch */ \"./node_modules/try-catch/lib/try-catch.js\");\n\nvar parse = JSON.parse,\n    stringify = JSON.stringify;\n\n\nmodule.exports.parse = function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    var _tryCatch = tryCatch.apply(undefined, [parse].concat(args)),\n        _tryCatch2 = _slicedToArray(_tryCatch, 2),\n        data = _tryCatch2[1];\n\n    return data;\n};\n\nmodule.exports.stringify = function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n    }\n\n    var _tryCatch3 = tryCatch.apply(undefined, [stringify].concat(args)),\n        _tryCatch4 = _slicedToArray(_tryCatch3, 2),\n        data = _tryCatch4[1];\n\n    return data;\n};\n\n//# sourceURL=file://cloudcmd/node_modules/jonny/legacy/jonny.js");
/src/dist-dev/cloudcmd.common.js-421-
##############################################
/src/dist-dev/cloudcmd.common.js-430-
/src/dist-dev/cloudcmd.common.js:431:eval("module.exports = __webpack_require__(/*! ./limier */ \"./node_modules/limier/legacy/limier.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/limier/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-432-
##############################################
/src/dist-dev/cloudcmd.common.js-442-"use strict";
/src/dist-dev/cloudcmd.common.js:443:eval("\n\nvar somefilter = __webpack_require__(/*! somefilter/legacy */ \"./node_modules/somefilter/legacy/index.js\");\nvar currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\n\nvar isIncludes = currify(function (str, name) {\n    return name.includes(str);\n});\nvar isEqual = function isEqual(a) {\n    return a && a.length;\n};\nvar limier = somefilter(isEqual, [findByAbr, findByName]);\n\nmodule.exports = function (pattern, list) {\n    check(pattern, list);\n\n    return limier(pattern, list) || [];\n};\n\nfunction findByName(str, names) {\n    return names.filter(isIncludes(str));\n}\n\nfunction findByAbr(str, names) {\n    var regstr = str.split('').join('.*') + '.*';\n\n    var regexp = RegExp('^' + regstr + '$', 'i');\n    var test = regexp.test.bind(regexp);\n\n    return names.filter(test);\n}\n\nfunction check(pattern, list) {\n    if (typeof pattern !== 'string') throw Error('pattern should be string!');\n\n    if (!Array.isArray(list)) throw Error('list should be an array!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/limier/legacy/limier.js");
/src/dist-dev/cloudcmd.common.js-444-
##############################################
/src/dist-dev/cloudcmd.common.js-454-"use strict";
/src/dist-dev/cloudcmd.common.js:455:eval("\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar findit = __webpack_require__(/*! domfs-findit */ \"./node_modules/domfs-findit/legacy/findit.js\");\nvar Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\nvar itchy = __webpack_require__(/*! itchy/legacy */ \"./node_modules/itchy/legacy/index.js\");\nvar inherits = __webpack_require__(/*! inherits */ \"./node_modules/inherits/inherits_browser.js\");\n\nmodule.exports = Philip;\n\ninherits(Philip, Emitify);\n\nfunction Philip(entries, processingFn) {\n    var _this = this;\n\n    if (!(this instanceof Philip)) return new Philip(entries, processingFn);\n\n    if (typeof processingFn !== 'function') throw Error('processingFn should be function!');\n\n    Emitify.call(this);\n\n    var array = Array.isArray(entries) ? entries : [entries];\n\n    this._i = 0;\n    this._n = 0;\n    this._processingFn = processingFn;\n    this._pause = false;\n    this._prev = 0;\n\n    this._find(array, function (files, dirs) {\n        _this._files = files;\n        _this._dirs = dirs;\n        _this._n = files.length + dirs.length;\n        _this._data = {};\n\n        _this._getFiles(files, _this._data, function () {\n            _this._process();\n        });\n    });\n}\n\nPhilip.prototype._process = function () {\n    var _this2 = this;\n\n    var argsLength = this._processingFn.length;\n    var fn = function fn(error) {\n        ++_this2._i;\n\n        if (error) {\n            _this2.emit('error', error);\n            _this2.pause();\n        }\n\n        _this2._process();\n        _this2._progress();\n    };\n\n    var data = void 0;\n    var name = this._dirs.shift();\n    var type = 'directory';\n\n    if (!name) {\n        type = 'file';\n        var el = this._files.shift();\n\n        if (el) {\n            name = el.fullPath;\n            data = this._data[name];\n        }\n    }\n\n    if (!name) return this.emit('end');\n\n    var args = void 0;\n    if (!this._pause) {\n        switch (argsLength) {\n            default:\n                args = [type, name, data];\n                break;\n\n            case 6:\n                args = [type, name, data, this._i, this._n];\n                break;\n        }\n\n        args.push(fn);\n\n        this._processingFn.apply(this, _toConsumableArray(args));\n    }\n};\n\nPhilip.prototype.pause = function () {\n    this._pause = true;\n};\n\nPhilip.prototype.continue = function () {\n    if (this._pause) {\n        this._pause = false;\n        this._process();\n    }\n};\n\nPhilip.prototype.abort = function () {\n    this._files = [];\n    this._dirs = [];\n\n    this._process();\n};\n\nPhilip.prototype._progress = function () {\n    var value = Math.round(this._i * 100 / this._n);\n\n    if (value !== this._prev) {\n        this._prev = value;\n        this.emit('progress', value);\n    }\n};\n\nPhilip.prototype._getFiles = function (files, obj, callback) {\n    var _this3 = this;\n\n    var filesList = files.slice();\n    var current = filesList.shift();\n\n    if (!current) return callback(null, obj);\n\n    current.file(function (file) {\n        var name = current.fullPath;\n\n        obj[name] = file;\n\n        _this3._getFiles(filesList, obj, callback);\n    });\n};\n\nPhilip.prototype._find = function (entries, fn) {\n    var files = [];\n    var dirs = [];\n\n    itchy(entries, function (entry, callback) {\n        var finder = findit(entry);\n\n        finder.on('directory', function (name) {\n            dirs.push(name);\n        });\n\n        finder.on('file', function (name, current) {\n            files.push(current);\n        });\n\n        finder.on('end', function () {\n            callback();\n        });\n    }, function () {\n        fn(files, dirs);\n    });\n};\n\n//# sourceURL=file://cloudcmd/node_modules/philip/legacy/philip.js");
/src/dist-dev/cloudcmd.common.js-456-
##############################################
/src/dist-dev/cloudcmd.common.js-465-
/src/dist-dev/cloudcmd.common.js:466:eval("(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports = rendy;\n    else\n        global.rendy = rendy;\n    \n    /**\n     * render template with data\n     *\n     * @param templ\n     * @param data\n     */\n    function rendy(templ, data) {\n        var result  = templ;\n        \n        check(templ, data);\n        \n        Object\n            .keys(data)\n            .forEach(function(param) {\n                var name    = '{{ ' + param + ' }}',\n                    str     = data[param];\n                \n                while(~result.indexOf(name))\n                    result = result.replace(name, str);\n            });\n        \n        if (~result.indexOf('{{'))\n            result = result.replace(/{{.*?}}/g, '');\n        \n        return result;\n    }\n    \n    function check(templ, data) {\n        if (typeof templ !== 'string')\n            throw(Error('template should be string!'));\n        \n        if (typeof data !== 'object')\n            throw(Error('data should be object!'));\n    }\n})(this);\n\n\n//# sourceURL=file://cloudcmd/node_modules/rendy/lib/rendy.js");
/src/dist-dev/cloudcmd.common.js-467-
##############################################
/src/dist-dev/cloudcmd.common.js-476-
/src/dist-dev/cloudcmd.common.js:477:eval("module.exports = __webpack_require__(/*! ./somefilter */ \"./node_modules/somefilter/legacy/somefilter.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/somefilter/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-478-
##############################################
/src/dist-dev/cloudcmd.common.js-488-"use strict";
/src/dist-dev/cloudcmd.common.js:489:eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nvar squad = __webpack_require__(/*! squad/legacy */ \"./node_modules/squad/legacy/index.js\");\nvar apart = __webpack_require__(/*! apart */ \"./node_modules/apart/lib/apart.js\");\n\nvar unary = currify(function (fn, value) {\n    return fn(value);\n});\nvar notEmpty = function notEmpty(value) {\n    return value;\n};\nvar apply = currify(function (args, fn) {\n    return fn.apply(undefined, _toConsumableArray(args));\n});\n\nmodule.exports = somefilter;\n\nfunction somefilter(condition, filters) {\n    if (!filters) {\n        filters = condition;\n        condition = notEmpty;\n    }\n\n    checkAll(condition, filters);\n\n    var storify = store(condition);\n    var process = apart(squad, condition, storify);\n\n    var processingFilters = filters.map(unary(process)).reverse();\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        processingFilters.some(apply(args));\n\n        return storify();\n    };\n}\n\nfunction store(condition) {\n    var cache = void 0;\n\n    return function (value) {\n        var result = void 0;\n\n        if (condition(value)) {\n            cache = result = value;\n        } else {\n            result = cache;\n            cache = null;\n        }\n\n        return result;\n    };\n}\n\nfunction checkAll(condition, filters) {\n    if (typeof condition !== 'function') throw Error('condition should be function!');\n\n    if (!Array.isArray(filters)) throw Error('filters should be an array!');\n\n    check('function', filters);\n}\n\nfunction check(type, array) {\n    var getType = function getType(item) {\n        return typeof item === 'undefined' ? 'undefined' : _typeof(item);\n    };\n    var notEqual = function notEqual(a, b) {\n        return a !== b;\n    };\n    var wrong = function wrong(type) {\n        throw Error('fn should be ' + type + '!');\n    };\n\n    var wrongType = apart(wrong, type);\n    var notType = apart(notEqual, type);\n\n    if (!array.length) return wrongType(type);\n\n    array.map(getType).filter(notType).forEach(wrongType);\n}\n\n//# sourceURL=file://cloudcmd/node_modules/somefilter/legacy/somefilter.js");
/src/dist-dev/cloudcmd.common.js-490-
##############################################
/src/dist-dev/cloudcmd.common.js-499-
/src/dist-dev/cloudcmd.common.js:500:eval("module.exports = __webpack_require__(/*! ./squad */ \"./node_modules/squad/legacy/squad.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/squad/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-501-
##############################################
/src/dist-dev/cloudcmd.common.js-511-"use strict";
/src/dist-dev/cloudcmd.common.js:512:eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nmodule.exports = function () {\n    for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n        funcs[_key] = arguments[_key];\n    }\n\n    check('function', funcs);\n\n    return function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        return funcs.reduceRight(apply, args).pop();\n    };\n};\n\nfunction apply(value, fn) {\n    return [fn.apply(undefined, _toConsumableArray(value))];\n}\n\nfunction check(type, array) {\n    var wrongType = partial(wrong, type);\n    var notType = partial(notEqual, type);\n\n    if (!array.length) return wrongType(type);\n\n    array.map(getType).filter(notType).forEach(wrongType);\n}\n\nfunction partial(fn, value) {\n    return fn.bind(null, value);\n}\n\nfunction getType(item) {\n    return typeof item === 'undefined' ? 'undefined' : _typeof(item);\n}\n\nfunction notEqual(a, b) {\n    return a !== b;\n}\n\nfunction wrong(type) {\n    throw Error('fn should be ' + type + '!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/squad/legacy/squad.js");
/src/dist-dev/cloudcmd.common.js-513-
##############################################
/src/dist-dev/cloudcmd.common.js-523-"use strict";
/src/dist-dev/cloudcmd.common.js:524:eval("\n\nmodule.exports = function tryCatch(fn) {\n    var args = [].slice.call(arguments, 1);\n    \n    try {\n        return [null, fn.apply(null, args)];\n    } catch(e) {\n        return [e];\n    }\n};\n\n\n\n//# sourceURL=file://cloudcmd/node_modules/try-catch/lib/try-catch.js");
/src/dist-dev/cloudcmd.common.js-525-
##############################################
/src/dist-dev/cloudcmd.common.js-534-
/src/dist-dev/cloudcmd.common.js:535:eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=file://cloudcmd/node_modules/webpack/buildin/global.js");
/src/dist-dev/cloudcmd.common.js-536-
##############################################
/src/dist-dev/cloudcmd.common.js-545-
/src/dist-dev/cloudcmd.common.js:546:eval("module.exports = __webpack_require__(/*! ./lib/wraptile */ \"./node_modules/wraptile/legacy/lib/wraptile.js\");\n\n\n//# sourceURL=file://cloudcmd/node_modules/wraptile/legacy/index.js");
/src/dist-dev/cloudcmd.common.js-547-
##############################################
/src/dist-dev/cloudcmd.common.js-557-"use strict";
/src/dist-dev/cloudcmd.common.js:558:eval("\n\nvar wrap = function wrap(fn) {\n    for (var _len = arguments.length, a = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        a[_key - 1] = arguments[_key];\n    }\n\n    return function () {\n        for (var _len2 = arguments.length, b = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            b[_key2] = arguments[_key2];\n        }\n\n        return function () {\n            for (var _len3 = arguments.length, c = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                c[_key3] = arguments[_key3];\n            }\n\n            return fn.apply(undefined, a.concat(b, c));\n        };\n    };\n};\n\nmodule.exports = function (fn) {\n    for (var _len4 = arguments.length, a = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        a[_key4 - 1] = arguments[_key4];\n    }\n\n    check(fn);\n\n    return wrap.apply(undefined, [fn].concat(a));\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}\n\n//# sourceURL=file://cloudcmd/node_modules/wraptile/legacy/lib/wraptile.js");
/src/dist-dev/cloudcmd.common.js-559-
##############################################
/src/dist-dev/cloudcmd.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/cloudcmd.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/cloudcmd.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/cloudcmd.js-152-"use strict";
/src/dist-dev/cloudcmd.js:153:eval("\n\n/* global Util, DOM */\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\nconst inherits = __webpack_require__(/*! inherits */ \"./node_modules/inherits/inherits_browser.js\");\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst Images = __webpack_require__(/*! ./dom/images */ \"./client/dom/images.js\");\nconst join = __webpack_require__(/*! join-io/www/join */ \"./node_modules/join-io/www/join.js\");\nconst jonny = __webpack_require__(/*! jonny/legacy */ \"./node_modules/jonny/legacy/index.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\n\nconst bind = (f, ...a) => () => f(...a);\n\nconst {\n    apiURL,\n    formatMsg,\n    buildFromJSON,\n} = __webpack_require__(/*! ../common/cloudfunc */ \"./common/cloudfunc.js\");\n\n/* global Util, DOM */\n\ninherits(CloudCmdProto, Emitify);\n\nmodule.exports = new CloudCmdProto(Util, DOM);\n\nfunction CloudCmdProto(Util, DOM) {\n    let Key;\n    let Debug;\n    let Listeners;\n    \n    const log = (str) => {\n        if (!Debug)\n            return;\n        \n        console.log(str);\n    };\n    \n    Emitify.call(this);\n    \n    const CloudCmd = this;\n    const Info = DOM.CurrentInfo;\n    const Storage = DOM.Storage;\n    const Files = DOM.Files;\n    \n    this.log = log;\n    this.PREFIX = '';\n    this.PREFIX_URL = '';\n    this.DIRCLIENT = '/dist/';\n    this.DIRCLIENT_MODULES = this.DIRCLIENT + 'modules/';\n    \n    this.MIN_ONE_PANEL_WIDTH    = 1155;\n    this.HOST                   = location.origin ||\n                                  location.protocol + '//' + location.host;\n    \n    const TITLE = 'Cloud Commander';\n    this.TITLE = TITLE;\n    \n    this.sort = {\n        left: 'name',\n        right: 'name',\n    };\n    \n    this.order = {\n        left: 'asc',\n        right: 'asc',\n    };\n    \n    log.enable = () => {\n        Debug = true;\n    };\n    \n    log.disable = () => {\n        Debug = false;\n    };\n    \n    const kebabToCamelCase = Util.kebabToCamelCase;\n    \n    /**\n     * Функция привязываеться ко всем ссылкам и\n     *  загружает содержимое каталогов\n     *\n     * @param params - {\n     *          paramLink - ссылка\n     *          needRefresh - необходимость обязательной загрузки данных с сервера\n     *          panel\n     *      }\n     * @param callback\n     */\n    this.loadDir = (params, callback) => {\n        const p = params;\n        \n        const refresh = p.isRefresh;\n        const panel = p.panel;\n        const history = p.history;\n        const noCurrent = p.noCurrent;\n        const currentName = p.currentName;\n        \n        let panelChanged;\n        if (!noCurrent)\n            if (panel && panel !== Info.panel) {\n                DOM.changePanel();\n                panelChanged = true;\n            }\n        \n        let imgPosition;\n        if (panelChanged || refresh || !history)\n            imgPosition = 'top';\n        \n        Images.show.load(imgPosition, panel);\n        \n        /* загружаем содержимое каталога */\n        ajaxLoad(p.path, {\n            refresh,\n            history,\n            noCurrent,\n            currentName,\n        }, panel, callback);\n    };\n    \n    /**\n     * function load modules\n     * @params = {name, path, func, dobefore, arg}\n     */\n    function loadModule(params) {\n        if (!params)\n            return;\n        \n        let path = params.path;\n        const name = params.name || path && kebabToCamelCase(path);\n        const func = params.func;\n        const funcName = params.funcName;\n        const doBefore = params.dobefore;\n        \n        const isContain = /\\.js/.test(path);\n        \n        if (!isContain)\n            path += '.js';\n        \n        if (CloudCmd[name])\n            return;\n        \n        CloudCmd[name] = (...args) => {\n            const prefix = CloudCmd.PREFIX;\n            const pathFull = prefix + CloudCmd.DIRCLIENT_MODULES + path;\n            \n            exec(doBefore);\n            \n            const done = (error) => {\n                const Proto = CloudCmd[name];\n                \n                if (error || !itype.function(Proto))\n                    return;\n                \n                CloudCmd[name] = applyConstructor(Proto, args);\n            };\n            \n            return DOM.load.js(pathFull, func || done);\n        };\n        \n        CloudCmd[name][funcName] = CloudCmd[name];\n    }\n    \n    /*\n     * apply arguemnts to constructor\n     *\n     * @param constructor\n     * @param args\n     */\n    function applyConstructor(constructor, args) {\n        const F = function () {\n            return constructor.apply(this, args);\n        };\n        \n        F.prototype = constructor.prototype;\n        return new F();\n    }\n    \n    /**\n     * Конструктор CloudClient, который\n     * выполняет весь функционал по\n     * инициализации\n     */\n    this.init = (prefix, config) => {\n        const func = bind(exec.series, [\n            initModules,\n            baseInit,\n            loadPlugins,\n            exec.with(CloudCmd.route, location.hash),\n        ]);\n        \n        const funcBefore  = (callback) => {\n            const src = prefix + '/join:' + [\n                CloudCmd.DIRCLIENT_MODULES + 'polyfill.js',\n                '/modules/domtokenlist-shim/dist/domtokenlist.min.js',\n            ].join(':');\n            \n            DOM.loadJquery(() => {\n                DOM.load.js(src, callback);\n            });\n        };\n        \n        CloudCmd.PREFIX = prefix;\n        CloudCmd.PREFIX_URL = prefix + apiURL;\n        \n        CloudCmd.config = (key) => config[key];\n        CloudCmd.config.if = currify((key, fn, a) => config[key] && fn(a));\n        CloudCmd._config = (key, value) => {\n            /*\n             * should be called from config.js only\n             * after successful update on server\n             */\n            config[key] = value;\n        };\n        \n        DOM.Storage.setAllowed(CloudCmd.config('localStorage'));\n        \n        if (config.onePanelMode)\n            CloudCmd.MIN_ONE_PANEL_WIDTH = Infinity;\n        \n        exec.if(document.body.scrollIntoViewIfNeeded, func, funcBefore);\n    };\n    \n    function loadPlugins(callback) {\n        const prefix = CloudCmd.PREFIX;\n        const plugins = prefix + '/plugins.js';\n        \n        DOM.load.js(plugins, callback);\n    }\n    \n    this.join = (urls) => {\n        const prefix  = CloudCmd.PREFIX;\n        \n        if (!Array.isArray(urls))\n            throw Error('urls should be array!');\n        \n        const noPrefixUrls = urls.map((url) => {\n            return url.replace(prefix, '');\n        });\n        \n        return prefix + join(noPrefixUrls);\n    };\n    \n    this.route = (path) => {\n        const query = path.split('/');\n        \n        if (!path)\n            return;\n        \n        const [kebabModule] = query;\n        const module = kebabToCamelCase(kebabModule.slice(1));\n        \n        const file = query[1];\n        const current = DOM.getCurrentByName(file);\n        \n        if (file && !current) {\n            const msg = formatMsg('set current file', file, 'error');\n            CloudCmd.log(msg);\n            return;\n        }\n        \n        DOM.setCurrentFile(current);\n        \n        CloudCmd.execFromModule(module, 'show');\n    };\n    \n    this.logOut = () => {\n        const url = CloudCmd.PREFIX + '/logout';\n        const error = () => document.location.reload();\n        \n        DOM.load.ajax({url, error});\n    };\n    \n    function initModules(callback) {\n        exec.if(CloudCmd.Key, () => {\n            Key = new CloudCmd.Key();\n            CloudCmd.Key = Key;\n            Key.bind();\n        }, (func) => {\n            /* привязываем клавиши к функциям */\n            const path = 'key.js';\n            \n            loadModule({\n                path,\n                func\n            });\n        });\n        \n        Files.get('modules', (error, modules) => {\n            const showLoad = Images.show.load;\n            \n            const doBefore = {\n                'edit': showLoad,\n                'menu': showLoad,\n            };\n            \n            const load = (name, path, dobefore) => {\n                const isTmpl = path === 'template';\n                const funcName = isTmpl ? 'get' : 'show';\n                \n                loadModule({\n                    name,\n                    path,\n                    dobefore,\n                    funcName,\n                });\n            };\n            \n            if (!modules)\n                modules = [];\n            \n            modules.local.forEach((module) => {\n                load(null, module, doBefore[module]);\n            });\n            \n            callback();\n        });\n    }\n    \n    function baseInit(callback) {\n        const files = DOM.getFiles();\n        \n        CloudCmd.on('current-file', DOM.updateCurrentInfo);\n        \n        /* выделяем строку с первым файлом */\n        if (files)\n            DOM.setCurrentFile(files[0], {\n                // when hash is present\n                // it should be handled with this.route\n                // overwre otherwise\n                history: !location.hash\n            });\n        \n        const dirPath = DOM.getCurrentDirPath();\n        Listeners = CloudCmd.Listeners;\n        Listeners.init();\n        \n        const panels = getPanels();\n        panels.forEach(Listeners.setOnPanel);\n        \n        Listeners.initKeysPanel();\n        \n        if (!CloudCmd.config('dirStorage'))\n            return callback();\n        \n        Storage.get(dirPath, (error, data) => {\n            if (!data) {\n                data = getJSONfromFileTable();\n                Storage.set(dirPath, data);\n            }\n            callback();\n        });\n    }\n    \n    function getPanels() {\n        const panels = ['left'];\n        \n        if (CloudCmd.config('onePanelMode'))\n            return panels;\n        \n        return [\n            ...panels,\n            'right',\n        ];\n    }\n    \n    this.execFromModule = (moduleName, funcName, ...args) => {\n        const obj = CloudCmd[moduleName];\n        const isObj = itype.object(obj);\n        \n        exec.if(isObj, () => {\n            const obj = CloudCmd[moduleName];\n            const func = obj[funcName];\n            \n            func(...args);\n        }, obj);\n    };\n    \n    this.refresh = (options = {}, callback) => {\n        if (!callback && typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n       \n        const panel = options.panel || Info.panel;\n        const path = DOM.getCurrentDirPath(panel);\n        \n        const isRefresh = true;\n        const history = false;\n        const noCurrent = options ? options.noCurrent : false;\n        const currentName = options.currentName;\n        \n        CloudCmd.loadDir({\n            path,\n            isRefresh,\n            history,\n            panel,\n            noCurrent,\n            currentName,\n        }, callback);\n    };\n    \n    /**\n     * Функция загружает json-данные о Файловой Системе\n     * через ajax-запрос.\n     * @param path - каталог для чтения\n     * @param options\n     * { refresh, history } - необходимость обновить данные о каталоге\n     * @param panel\n     * @param callback\n     *\n     */\n    function ajaxLoad(path, options, panel, callback) {\n        const create = (error, json) => {\n            const RESTful = DOM.RESTful;\n            const name = options.currentName || Info.name;\n            const obj = jonny.parse(json);\n            const isRefresh = options.refresh;\n            const noCurrent = options.noCurrent;\n            \n            if (!isRefresh && json)\n                return createFileTable(obj, panel, options, callback);\n            \n            const position = DOM.getPanelPosition(panel);\n            const sort = CloudCmd.sort[position];\n            const order = CloudCmd.order[position];\n            \n            const query = rendy('?sort={{ sort }}&order={{ order }}', {\n                sort,\n                order,\n            });\n            \n            RESTful.read(path + query, 'json', (error, obj) => {\n                if (error)\n                    return;\n                \n                options.sort = sort;\n                options.order = order;\n                \n                createFileTable(obj, panel, options, () => {\n                    if (isRefresh && !noCurrent)\n                        DOM.setCurrentByName(name);\n                    \n                    exec(callback);\n                });\n                \n                if (!CloudCmd.config('dirStorage'))\n                    return;\n                \n                Storage.set(path, obj);\n            });\n        };\n        \n        if (!options)\n            options    = {};\n        \n        CloudCmd.log('reading dir: \"' + path + '\";');\n        \n        if (!CloudCmd.config('dirStorage'))\n            return create();\n        \n        Storage.get(path, create);\n    }\n    \n    /**\n     * Функция строит файловую таблицу\n     * @param json  - данные о файлах\n     * @param panelParam\n     * @param history\n     * @param callback\n     */\n    function createFileTable(json, panelParam, options, callback) {\n        const {\n            history,\n            noCurrent,\n        } = options;\n        \n        const names = ['file', 'path', 'link', 'pathLink'];\n        \n        Files.get(names, (error, templFile, templPath, templLink, templPathLink) => {\n            const Dialog = DOM.Dialog;\n            const panel = panelParam || DOM.getPanel();\n            \n            const {\n                dir,\n                name,\n            } = Info;\n            \n            if (error)\n                return Dialog.alert(TITLE, error.responseText);\n            \n            const childNodes = panel.childNodes;\n            let i = childNodes.length;\n            \n            while (i--)\n                panel.removeChild(panel.lastChild);\n            \n            panel.innerHTML = buildFromJSON({\n                sort        : options.sort,\n                order       : options.order,\n                data        : json,\n                id          : panel.id,\n                prefix      : CloudCmd.PREFIX,\n                template    : {\n                    file        : templFile,\n                    path        : templPath,\n                    pathLink    : templPathLink,\n                    link        : templLink\n                }\n            });\n            \n            Listeners.setOnPanel(panel);\n            \n            if (!noCurrent) {\n                let current;\n                \n                if (name === '..' && dir !== '/')\n                    current = DOM.getCurrentByName(dir);\n                \n                if (!current)\n                    current = DOM.getFiles(panel)[0];\n                \n                DOM.setCurrentFile(current, {\n                    history: history\n                });\n                \n                CloudCmd.emit('active-dir', Info.dirPath);\n            }\n            \n            exec(callback);\n        });\n    }\n    \n    /**\n     * Функция генерирует JSON из html-таблицы файлов и\n     * используеться при первом заходе в корень\n     */\n    function getJSONfromFileTable() {\n        const path = DOM.getCurrentDirPath();\n        const infoFiles = Info.files || [];\n        \n        const notParent = (current) => {\n            const name = DOM.getCurrentName(current);\n            return name !== '..';\n        };\n        \n        const parse = (current) => {\n            const name = DOM.getCurrentName(current);\n            const size = DOM.getCurrentSize(current);\n            const owner = DOM.getCurrentOwner(current);\n            const mode = DOM.getCurrentMode(current);\n            const date = DOM.getCurrentDate(current);\n            \n            return {\n                name,\n                size,\n                mode,\n                owner,\n                date,\n            };\n        };\n        \n        const files = infoFiles\n            .filter(notParent)\n            .map(parse);\n        \n        const fileTable = {\n            path,\n            files,\n        };\n        \n        return fileTable;\n    }\n    \n    this.goToParentDir = () => {\n        const dir = Info.dir;\n        const {\n            dirPath,\n            parentDirPath,\n        } = Info;\n        \n        if (dirPath === parentDirPath)\n            return;\n        \n        const path = parentDirPath;\n        \n        CloudCmd.loadDir({path}, () => {\n            const {panel} = Info;\n            const current = DOM.getCurrentByName(dir);\n            const first = DOM.getFiles(panel)[0];\n            \n            DOM.setCurrentFile(current || first, {\n                history\n            });\n        });\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/client.js");
/src/dist-dev/cloudcmd.js-154-
##############################################
/src/dist-dev/cloudcmd.js-164-"use strict";
/src/dist-dev/cloudcmd.js:165:eval("\n\n__webpack_require__(/*! ../css/main.css */ \"./css/main.css\");\n__webpack_require__(/*! ../css/nojs.css */ \"./css/nojs.css\");\n__webpack_require__(/*! ../css/columns/name-size-date.css */ \"./css/columns/name-size-date.css\");\n__webpack_require__(/*! ../css/columns/name-size.css */ \"./css/columns/name-size.css\");\n\n// prevent additional loading of exec by spero, remedy, ishtar, salam, omnes\nwindow.exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\n// prevent additional loading of emitify\nwindow.Emitify = __webpack_require__(/*! emitify/legacy */ \"./node_modules/emitify/legacy/index.js\");\n\nmodule.exports = window.CloudCmd = (config) => {\n    window.Promise = window.Promise || __webpack_require__(/*! es6-promise */ \"es6-promise\");\n    window.Util = __webpack_require__(/*! ../common/util */ \"./common/util.js\");\n    window.CloudFunc = __webpack_require__(/*! ../common/cloudfunc */ \"./common/cloudfunc.js\");\n    \n    const DOM = __webpack_require__(/*! ./dom */ \"./client/dom/index.js\");\n    \n    window.DOM = DOM;\n    window.CloudCmd = __webpack_require__(/*! ./client */ \"./client/client.js\");\n    \n    const Dialog = __webpack_require__(/*! ./dom/dialog */ \"./client/dom/dialog.js\");\n    \n    const prefix = getPrefix(config.prefix);\n    const {htmlDialogs} = config;\n    \n    DOM.Dialog = Dialog(prefix, {\n        htmlDialogs\n    });\n    \n    __webpack_require__(/*! ./listeners */ \"./client/listeners/index.js\");\n    __webpack_require__(/*! ./key */ \"./client/key/index.js\");\n    __webpack_require__(/*! ./sort */ \"./client/sort.js\");\n    \n    window.CloudCmd.init(prefix, config);\n};\n\nfunction getPrefix(prefix) {\n    if (!prefix)\n        return '';\n   \n    if (!prefix.indexOf('/'))\n        return prefix;\n    \n    return '/' + prefix;\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/cloudcmd.js");
/src/dist-dev/cloudcmd.js-166-
##############################################
/src/dist-dev/cloudcmd.js-176-"use strict";
/src/dist-dev/cloudcmd.js:177:eval("/* global DOM */\n/* global smalltalk */\n\n\n\nmodule.exports = Dialog;\n\nfunction Dialog(prefix, config) {\n    if (!(this instanceof Dialog))\n        return new Dialog(prefix, config);\n    \n    load(config.htmlDialogs);\n    \n    function getJsName(htmlDialogs) {\n        const is = window.Promise;\n        const js = '.min.js';\n        const jsName = is ? js : '.poly' + js;\n        \n        if (!htmlDialogs)\n            return '.native' + jsName;\n        \n        return jsName;\n    }\n    \n    function load(htmlDialogs) {\n        const noop = () => {};\n        const name = 'smalltalk';\n        const dir = '/modules/' + name + '/dist/';\n        const jsName = getJsName(htmlDialogs);\n        \n        const names = [jsName, '.min.css'].map((ext) => {\n            return prefix + dir + name + ext;\n        });\n        \n        DOM.load.parallel(names, noop);\n    }\n    \n    const alert = (title, message) => {\n        return smalltalk.alert(title, message);\n    };\n    \n    this.alert = alert;\n    \n    this.prompt = (title, message, value, options) => {\n        return smalltalk.prompt(title, message, value, options);\n    };\n    \n    this.confirm = (title, message, options) => {\n        return smalltalk.confirm(title, message, options);\n    };\n    \n    this.alert.noFiles = (title) => {\n        return alert(title, 'No files selected!');\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/dom/dialog.js");
/src/dist-dev/cloudcmd.js-178-
##############################################
/src/dist-dev/cloudcmd.js-188-"use strict";
/src/dist-dev/cloudcmd.js:189:eval("/* global CloudCmd, DOM */\n\n\n\nconst Info = DOM.CurrentInfo;\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst Events = __webpack_require__(/*! ../dom/events */ \"./client/dom/events.js\");\nconst Buffer = __webpack_require__(/*! ../dom/buffer */ \"./client/dom/buffer.js\");\nconst KEY = __webpack_require__(/*! ./key */ \"./client/key/key.js\");\nconst vim = __webpack_require__(/*! ./vim */ \"./client/key/vim/index.js\");\nconst setCurrentByChar = __webpack_require__(/*! ./set-current-by-char */ \"./client/key/set-current-by-char.js\");\nconst fullstore = __webpack_require__(/*! fullstore/legacy */ \"./node_modules/fullstore/legacy/index.js\");\nconst Chars = fullstore();\n\nChars([]);\n\nKeyProto.prototype = KEY;\nCloudCmd.Key = KeyProto;\n\nfunction KeyProto() {\n    let Binded;\n    \n    const Key = this;\n    \n    this.isBind = () => {\n        return Binded;\n    };\n    \n    this.setBind = () => {\n        Binded = true;\n    };\n    \n    this.unsetBind = () => {\n        Binded = false;\n    };\n    \n    this.bind = () => {\n        Events.addKey(listener);\n        Binded = true;\n    };\n    \n    function getChar(event) {\n        /*\n          * event.keyIdentifier deprecated in chrome v51\n          * but event.key is absent in chrome <= v51\n          */\n        \n        if (event.key)\n            return event.key;\n        \n        return fromCharCode(event.keyIdentifier);\n    }\n    \n    function listener(event) {\n        const keyCode = event.keyCode;\n        const alt = event.altKey;\n        const ctrl = event.ctrlKey;\n        const shift = event.shiftKey;\n        const meta = event.metaKey;\n        const isBetween = keyCode >= KEY.ZERO && keyCode <= KEY.Z;\n        const isNumpad = /Numpad/.test(event.code);\n        \n        let char = getChar(event);\n        let isSymbol = ~['.', '_', '-', '+', '='].indexOf(char);\n        \n        if (!isSymbol) {\n            isSymbol = getSymbol(shift, keyCode);\n            \n            if (isSymbol)\n                char = isSymbol;\n        }\n        \n        if (!Key.isBind())\n            return;\n        \n        const isVim = CloudCmd.config('vim');\n        \n        if (!isVim && !isNumpad && !alt && !ctrl && !meta && (isBetween || isSymbol))\n            return setCurrentByChar(char, Chars);\n        \n        Chars([]);\n        switchKey(event);\n        \n        if (isVim)\n            vim(char, event);\n    }\n    \n    function getSymbol(shift, keyCode) {\n        switch (keyCode) {\n        case KEY.DOT:\n            return '.';\n        \n        case KEY.HYPHEN:\n            return shift ? '_' : '-';\n        \n        case KEY.EQUAL:\n            return shift ? '+' : '=';\n        }\n    }\n    \n    function fromCharCode(keyIdentifier) {\n        const code = keyIdentifier.substring(2);\n        const hex = parseInt(code, 16);\n        const char = String.fromCharCode(hex);\n        \n        return char;\n    }\n    \n    function switchKey(event) {\n        let i, isSelected, prev, next;\n        let current = Info.element;\n        let dataName;\n        \n        const name = Info.name;\n        \n        const {Operation} = CloudCmd;\n        const panel = Info.panel;\n        const path = Info.path;\n        const isDir = Info.isDir;\n        \n        const keyCode = event.keyCode;\n        const alt = event.altKey;\n        const shift = event.shiftKey;\n        const ctrl = event.ctrlKey;\n        const meta = event.metaKey;\n        const ctrlMeta = ctrl || meta;\n        \n        if (current) {\n            prev = current.previousSibling;\n            next = current.nextSibling;\n        }\n        \n        switch (keyCode) {\n        case Key.TAB:\n            DOM.changePanel();\n            event.preventDefault();\n            break;\n        \n        case Key.INSERT:\n            DOM .toggleSelectedFile(current)\n                .setCurrentFile(next);\n            break;\n        \n        case Key.INSERT_MAC:\n            DOM .toggleSelectedFile(current)\n                .setCurrentFile(next);\n            break;\n        \n        case Key.DELETE:\n            if (shift)\n                Operation.show('delete:silent');\n            else\n                Operation.show('delete');\n            break;\n        \n        case Key.ASTERISK:\n            DOM.toggleAllSelectedFiles(current);\n            break;\n        \n        case Key.PLUS:\n            DOM.expandSelection();\n            event.preventDefault();\n            break;\n        \n        case Key.MINUS:\n            DOM.shrinkSelection();\n            event.preventDefault();\n            break;\n        \n        case Key.F1:\n            CloudCmd.Help.show();\n            event.preventDefault();\n            break;\n        \n        case Key.F2:\n            DOM.renameCurrent(current);\n            break;\n            \n        case Key.F3:\n            if (shift)\n                CloudCmd.Markdown.show(path);\n            else if (ctrlMeta)\n                CloudCmd.sortPanel('name');\n            else\n                CloudCmd.View.show();\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F4:\n            if (shift)\n                CloudCmd.EditFileVim.show();\n            else\n                CloudCmd.EditFile.show();\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F5:\n            if (ctrlMeta)\n                CloudCmd.sortPanel('date');\n            else if (alt)\n                Operation.show('pack');\n            else\n                Operation.show('copy');\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F6:\n            if (ctrlMeta)\n                CloudCmd.sortPanel('size');\n            else\n                Operation.show('move');\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F7:\n            if (shift)\n                DOM.promptNewFile();\n            else\n                DOM.promptNewDir();\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F8:\n            Operation.show('delete');\n            event.preventDefault();\n            break;\n        \n        case Key.F9:\n            if (alt)\n                Operation.show('extract');\n            else\n                CloudCmd.Menu.show();\n            event.preventDefault();\n            break;\n        \n        case Key.F10:\n            CloudCmd.Config.show();\n            event.preventDefault();\n            break;\n        \n        case Key.TRA:\n            event.preventDefault();\n            \n            if (shift)\n                return CloudCmd.Terminal.show();\n            \n            CloudCmd.Konsole.show();\n            break;\n        \n        case KEY.BRACKET_CLOSE:\n            CloudCmd.Konsole.show();\n            event.preventDefault();\n            break;\n        \n        case Key.SPACE:\n            if (!isDir || name === '..')\n                isSelected = true;\n            else\n                isSelected = DOM.isSelected(current);\n            \n            exec.if(isSelected, () => {\n                DOM.toggleSelectedFile(current);\n            }, (callback) => {\n                DOM.loadCurrentSize(callback, current);\n            });\n            \n            event.preventDefault();\n            break;\n        \n        case Key.U:\n            if (ctrlMeta) {\n                DOM.swapPanels();\n                event.preventDefault();\n            }\n            break;\n        \n        /* navigation on file table:        *\n         * in case of pressing button 'up', *\n         * select previous row              */\n        case Key.UP:\n            if (shift)\n                DOM.toggleSelectedFile(current);\n            \n            DOM.setCurrentFile(prev);\n            event.preventDefault();\n            break;\n        \n        /* in case of pressing button 'down', *\n         * select next row                    */\n        case Key.DOWN:\n            if (shift)\n                DOM.toggleSelectedFile(current);\n            \n            DOM.setCurrentFile(next);\n            event.preventDefault();\n            break;\n        \n        case Key.LEFT:\n            if (!alt)\n                return;\n            \n            event.preventDefault();\n            \n            dataName = Info.panel.getAttribute('data-name');\n            \n            if (dataName === 'js-right')\n                DOM.duplicatePanel();\n            \n            break;\n        \n        case Key.RIGHT:\n            if (!alt)\n                return;\n           \n            event.preventDefault();\n            \n            dataName = Info.panel.getAttribute('data-name');\n            \n            if (dataName === 'js-left')\n                DOM.duplicatePanel();\n            \n            break;\n        \n        /* in case of pressing button 'Home',  *\n         * go to top element                   */\n        case Key.HOME:\n            DOM.setCurrentFile(Info.first);\n            event.preventDefault();\n            break;\n        \n        /* in case of pressing button 'End', select last element */\n        case Key.END:\n            DOM.setCurrentFile(Info.last);\n            event.preventDefault();\n            break;\n        \n        /* если нажали клавишу page down проматываем экран */\n        case Key.PAGE_DOWN:\n            DOM.scrollByPages(panel, 1);\n            \n            for (i = 0; i < 30; i++) {\n                if (!current.nextSibling)\n                    break;\n                \n                current = current.nextSibling;\n            }\n            \n            DOM.setCurrentFile(current);\n            event.preventDefault();\n            break;\n        \n        /* если нажали клавишу page up проматываем экран */\n        case Key.PAGE_UP:\n            DOM.scrollByPages(panel, -1);\n            \n            for (i = 0; i < 30; i++) {\n                if (!current.previousSibling)\n                    break;\n                \n                current = current.previousSibling;\n            }\n            \n            DOM.setCurrentFile(current);\n            event.preventDefault();\n            break;\n            \n        /* open directory */\n        case Key.ENTER:\n            if (Info.isDir)\n                CloudCmd.loadDir({\n                    path: path === '/' ? '/' : path + '/'\n                });\n            break;\n            \n        case Key.BACKSPACE:\n            CloudCmd.goToParentDir();\n            event.preventDefault();\n            break;\n        \n        case Key.BACKSLASH:\n            if (ctrlMeta)\n                CloudCmd.loadDir({\n                    path: '/'\n                });\n            break;\n        \n        case Key.A:\n            if (ctrlMeta) {\n                DOM.selectAllFiles();\n                event.preventDefault();\n            }\n            \n            break;\n        \n        case Key.G:\n            if (alt) {\n                DOM.goToDirectory();\n                event.preventDefault();\n            }\n            \n            break;\n        \n        case Key.M:\n            if (ctrlMeta) {\n                CloudCmd.EditNames.show();\n                event.preventDefault();\n            }\n            \n            break;\n        \n        /**\n         * обновляем страницу,\n         * загружаем содержимое каталога\n         * при этом данные берём всегда с\n         * сервера, а не из кэша\n         * (обновляем кэш)\n         */\n        case Key.R:\n            if (ctrlMeta) {\n                CloudCmd.log('reloading page...\\n');\n                CloudCmd.refresh();\n                event.preventDefault();\n            }\n            break;\n        \n        case Key.C:\n            if (ctrlMeta)\n                Buffer.copy();\n            break;\n        \n        case Key.X:\n            if (ctrlMeta)\n                Buffer.cut();\n            break;\n            \n        case Key.V:\n            if (ctrlMeta)\n                Buffer.paste();\n            break;\n        \n        case Key.Z:\n            if (ctrlMeta)\n                Buffer.clear();\n            break;\n        \n        /* чистим хранилище */\n        case Key.D:\n            if (ctrlMeta) {\n                CloudCmd.log('clearing storage...');\n                \n                DOM.Storage.clear(() => {\n                    CloudCmd.log('storage cleared');\n                });\n                \n                event.preventDefault();\n            }\n            break;\n        }\n    }\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/key/index.js");
/src/dist-dev/cloudcmd.js-190-
##############################################
/src/dist-dev/cloudcmd.js-200-"use strict";
/src/dist-dev/cloudcmd.js:201:eval("\n\nmodule.exports = {\n    BACKSPACE   : 8,\n    TAB         : 9,\n    ENTER       : 13,\n    ESC         : 27,\n    \n    SPACE       : 32,\n    PAGE_UP     : 33,\n    PAGE_DOWN   : 34,\n    END         : 35,\n    HOME        : 36,\n    \n    LEFT        : 37,\n    UP          : 38,\n    RIGHT       : 39,\n    DOWN        : 40,\n    \n    INSERT      : 45,\n    DELETE      : 46,\n    \n    ZERO        : 48,\n    \n    SEMICOLON   : 52,\n    \n    COLON       : 54,\n    \n    A           : 65,\n    \n    C           : 67,\n    D           : 68,\n    \n    G           : 71,\n    \n    J           : 74,\n    K           : 75,\n    \n    M           : 77,\n    \n    O           : 79,\n    Q           : 81,\n    R           : 82,\n    S           : 83,\n    T           : 84,\n    U           : 85,\n    \n    V           : 86,\n    \n    X           : 88,\n    \n    Z           : 90,\n    \n    INSERT_MAC  : 96,\n    \n    ASTERISK    : 106,\n    PLUS        : 107,\n    MINUS       : 109,\n    \n    F1          : 112,\n    F2          : 113,\n    F3          : 114,\n    F4          : 115,\n    F5          : 116,\n    F6          : 117,\n    F7          : 118,\n    F8          : 119,\n    F9          : 120,\n    F10         : 121,\n    \n    EQUAL       : 187,\n    HYPHEN      : 189,\n    DOT         : 190,\n    SLASH       : 191,\n    TRA         : 192, /* Typewritten Reverse Apostrophe (`) */\n    BACKSLASH   : 220,\n    \n    BRACKET_CLOSE: 221\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/key/key.js");
/src/dist-dev/cloudcmd.js-202-
##############################################
/src/dist-dev/cloudcmd.js-212-"use strict";
/src/dist-dev/cloudcmd.js:213:eval("/* global DOM */\n\n\n\nconst Info = DOM.CurrentInfo;\nconst {escapeRegExp} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nmodule.exports = function setCurrentByChar(char, charStore) {\n    let firstByName;\n    let skipCount = 0;\n    let setted = false;\n    let i = 0;\n    \n    const escapeChar = escapeRegExp(char);\n    const regExp = new RegExp('^' + escapeChar + '.*$', 'i');\n    const {files} = Info;\n    const chars = charStore();\n    const n = chars.length;\n    \n    while(i < n && char === chars[i])\n        i++;\n    \n    if (!i)\n        charStore([]);\n    \n    const skipN = skipCount = i;\n    \n    charStore(charStore().concat(char));\n    \n    const names = DOM.getFilenames(files);\n    const isTest = (a) => regExp.test(a);\n    const isRoot = (a) => a === '..';\n    const not = (f) => (a) => !f(a);\n    const setCurrent = (name) => {\n        const byName = DOM.getCurrentByName(name);\n        \n        if (!skipCount) {\n            setted = true;\n            DOM.setCurrentFile(byName);\n            return true;\n        } else {\n            if (skipN === skipCount)\n                firstByName = byName;\n            \n            --skipCount;\n        }\n    };\n    \n    names\n        .filter(isTest)\n        .filter(not(isRoot))\n        .some(setCurrent);\n    \n    if (!setted) {\n        DOM.setCurrentFile(firstByName);\n        charStore([char]);\n    }\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/key/set-current-by-char.js");
/src/dist-dev/cloudcmd.js-214-
##############################################
/src/dist-dev/cloudcmd.js-224-"use strict";
/src/dist-dev/cloudcmd.js:225:eval("\n/* global DOM */\n\nconst fullstore = __webpack_require__(/*! fullstore/legacy */ \"./node_modules/fullstore/legacy/index.js\");\nconst limier = __webpack_require__(/*! limier/legacy */ \"./node_modules/limier/legacy/index.js\");\nconst Info = DOM.CurrentInfo;\n\nconst searchStore = fullstore([]);\nconst searchIndex = fullstore(0);\n\nmodule.exports.find = (value) => {\n    const names = Info.files.map(DOM.getCurrentName);\n    const result = limier(value, names);\n    \n    searchStore(result);\n    searchIndex(0);\n    \n    DOM.setCurrentByName(result[0]);\n};\n\nmodule.exports.findNext = () => {\n    const names = searchStore();\n    const index = next(searchIndex(), names.length);\n    \n    searchIndex(index);\n    DOM.setCurrentByName(names[searchIndex()]);\n};\n\nmodule.exports.findPrevious = () => {\n    const names = searchStore();\n    const index = previous(searchIndex(), names.length);\n    \n    searchIndex(index);\n    DOM.setCurrentByName(names[index]);\n};\n\nmodule.exports._next = next;\nmodule.exports._previous = previous;\n\nfunction next(index, length) {\n    if (index === length - 1)\n        return 0;\n    \n    return ++index;\n}\n\nfunction previous(index, length) {\n    if (!index)\n        return length - 1;\n    \n    return --index;\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/key/vim/find.js");
/src/dist-dev/cloudcmd.js-226-
##############################################
/src/dist-dev/cloudcmd.js-236-"use strict";
/src/dist-dev/cloudcmd.js:237:eval("\n/* global CloudCmd, DOM */\n\nconst KEY = __webpack_require__(/*! ../key */ \"./client/key/key.js\");\nconst Info = DOM.CurrentInfo;\nconst Dialog = DOM.Dialog;\n\nconst fullstore = __webpack_require__(/*! fullstore/legacy */ \"./node_modules/fullstore/legacy/index.js\");\nconst store = fullstore('');\nconst visual = fullstore(false);\nconst {\n    find,\n    findNext,\n    findPrevious,\n} = __webpack_require__(/*! ./find */ \"./client/key/vim/find.js\");\n\nconst TITLE = 'Cloud Commander';\n\nconst stopVisual = () => {\n    visual(false);\n};\n\nconst end = () => {\n    store('');\n};\n\nconst rmFirst = (a) => {\n    return a\n        .split('')\n        .slice(1)\n        .join('');\n};\n\nmodule.exports = (key, event) => {\n    const current = Info.element;\n    const keyCode = event.keyCode;\n    const prevStore = store();\n    \n    const value = store(prevStore.concat(key));\n    \n    if (keyCode === KEY.ENTER)\n        return end();\n    \n    if (keyCode === KEY.ESC) {\n        DOM.unselectFiles();\n        visual(false);\n        return end();\n    }\n    \n    if (key === 'j') {\n        move('next', {\n            prevStore,\n            current,\n        });\n        \n        return end();\n    }\n    \n    if (key === 'k') {\n        move('previous', {\n            prevStore,\n            current,\n        });\n        \n        return end();\n    }\n    \n    if (/gg/.test(value)) {\n        move('previous', {\n            current,\n            prevStore,\n            max: Infinity,\n        });\n        \n        return end();\n    }\n    \n    if (key === 'd' && (visual() || prevStore === 'd')) {\n        CloudCmd.Operation.show('delete');\n        stopVisual();\n        return end();\n    }\n    \n    if (key === 'G') {\n        move('next', {\n            current,\n            prevStore,\n            max: Infinity,\n        });\n        \n        return end();\n    }\n    \n    if (key === 'y') {\n        if (!visual())\n            return end();\n        \n        DOM.Buffer.copy();\n        stopVisual();\n        DOM.unselectFiles();\n        return end();\n    }\n    \n    if (/^p$/i.test(key)) {\n        DOM.Buffer.paste();\n        return end();\n    }\n    \n    if (/^v$/i.test(key)) {\n        DOM.toggleSelectedFile(current);\n        visual(!visual());\n        \n        return end();\n    }\n    \n    if (key === '/') {\n        event.preventDefault();\n        \n        Dialog.prompt(TITLE, 'Find', '', {cancel: false})\n            .then(find);\n       \n        return end();\n    }\n    \n    if (key === 'n') {\n        findNext();\n        return end();\n    }\n    \n    if (key === 'N') {\n        findPrevious();\n        return end();\n    }\n};\n\nmodule.exports.selectFile = selectFile;\n\nfunction move(sibling, {max, current, prevStore}) {\n    const isDelete = prevStore[0] === 'd';\n    \n    if (isDelete) {\n        visual(true);\n        prevStore = rmFirst(prevStore);\n    }\n    \n    const n = max || getNumber(prevStore);\n    \n    if (isNaN(n))\n        return;\n    \n    setCurrent({\n        n,\n        current,\n        sibling,\n        visual: visual(),\n    });\n    \n    if (isDelete)\n        CloudCmd.Operation.show('delete');\n}\n\nfunction getNumber(value) {\n    if (!value)\n        return 1;\n    \n    if (value === 'g')\n        return 1;\n    \n    return parseInt(value);\n}\n\nfunction selectFile(current) {\n    const name = DOM.getCurrentName(current);\n    \n    if (name === '..')\n        return;\n    \n    DOM.selectFile(current);\n}\n\nfunction setCurrent({n, current, visual, sibling}) {\n    const select = visual ? selectFile : DOM.unselectFile;\n    \n    select(current);\n    \n    const position = `${sibling}Sibling`;\n    for (let i = 0; i < n; i++) {\n        const next = current[position];\n        \n        if (!next)\n            break;\n        \n        current = next;\n        select(current);\n    }\n    \n    DOM.setCurrentFile(current);\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/key/vim/index.js");
/src/dist-dev/cloudcmd.js-238-
##############################################
/src/dist-dev/cloudcmd.js-248-"use strict";
/src/dist-dev/cloudcmd.js:249:eval("\n\nmodule.exports = (array, item) => {\n    const index = array.indexOf(item);\n    \n    if (!~index)\n        return 0;\n    \n    return index;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/listeners/get-index.js");
/src/dist-dev/cloudcmd.js-250-
##############################################
/src/dist-dev/cloudcmd.js-260-"use strict";
/src/dist-dev/cloudcmd.js:261:eval("\n\nmodule.exports = (indexFrom, indexTo, files) => {\n    if (indexFrom < indexTo)\n        return files.slice(indexFrom, indexTo + 1);\n    \n    if (indexFrom > indexTo)\n        return files.slice(indexTo, indexFrom + 1);\n    \n    return [files[indexFrom]];\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/listeners/get-range.js");
/src/dist-dev/cloudcmd.js-262-
##############################################
/src/dist-dev/cloudcmd.js-272-"use strict";
/src/dist-dev/cloudcmd.js:273:eval("/* global DOM, CloudCmd */\n\n\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst getRange = __webpack_require__(/*! ./get-range */ \"./client/listeners/get-range.js\");\n\nconst getIndex = currify(__webpack_require__(/*! ./get-index */ \"./client/listeners/get-index.js\"));\n\nconst uploadFiles = __webpack_require__(/*! ../dom/upload-files */ \"./client/dom/upload-files.js\");\n\nconst {\n    FS,\n    apiURL\n} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nmodule.exports.init = () => {\n    contextMenu();\n    dragndrop();\n    unload();\n    pop();\n    resize();\n    config();\n    header();\n};\n\nCloudCmd.Listeners = module.exports;\n\nconst unselect = (event) => {\n    const isMac = /Mac/.test(window.navigator.platform);\n    const {\n        shiftKey,\n        metaKey,\n        ctrlKey,\n    } = event;\n    \n    if (shiftKey || isMac && metaKey || ctrlKey)\n        return;\n    \n    DOM.unselectFiles();\n};\n\nconst execAll = currify((funcs, event) => {\n    funcs.forEach((fn) => {\n        fn(event);\n    });\n});\n\nconst Info = DOM.CurrentInfo;\nconst Storage = DOM.Storage;\nconst Events = DOM.Events;\nconst EventsFiles = {\n    mousedown: exec.with(execIfNotUL, setCurrentFileByEvent),\n    click: execAll([\n        onClick,\n        unselect,\n    ]),\n    dragstart: exec.with(execIfNotUL, onDragStart),\n    dblclick: exec.with(execIfNotUL, onDblClick),\n    touchstart: exec.with(execIfNotUL, onTouch)\n};\n\nlet EXT;\n\nfunction header() {\n    const fm = DOM.getFM();\n    const isDataset = (el) => el.dataset;\n    const isPanel = (el) => {\n        return /^js-(left|right)$/.test(el.dataset.name);\n    };\n    \n    Events.addClick(fm, (event) => {\n        const el = event.target;\n        const parent = el.parentElement;\n        \n        if (parent.dataset.name !== 'js-fm-header')\n            return;\n        \n        const name = (el.dataset.name || '')\n            .replace('js-', '');\n        \n        if (!/^(name|size|date)$/.test(name))\n            return;\n        \n        const panel = getPath(el)\n            .filter(isDataset)\n            .filter(isPanel)\n            .pop();\n        \n        CloudCmd.sortPanel(name, panel);\n    });\n}\n\nfunction getPath(el, path = []) {\n    if (!el)\n        return path;\n    \n    return getPath(el.parentElement, path.concat(el));\n}\n\nfunction config() {\n    DOM.Files.get('config', (e, config) => {\n        const type = config && config.packer;\n        EXT = DOM.getPackerExt(type);\n    });\n}\n\nmodule.exports.initKeysPanel = () => {\n    const keysElement = DOM.getById('js-keyspanel');\n    \n    if (!keysElement)\n        return;\n    \n    Events.addClick(keysElement, ({target}) => {\n        const id = target.id;\n        const operation = (name) => {\n            const Operation = CloudCmd.Operation;\n            const fn = Operation.show.bind(null, name);\n            \n            return fn;\n        };\n        \n        const clickFuncs = {\n            'f1'        : CloudCmd.Help.show,\n            'f2'        : DOM.renameCurrent,\n            'f3'        : CloudCmd.View.show,\n            'f4'        : CloudCmd.EditFile.show,\n            'f5'        : operation('copy'),\n            'f6'        : operation('move'),\n            'f7'        : DOM.promptNewDir,\n            'f8'        : operation('delete'),\n            'f9'        : CloudCmd.Menu.show,\n            'f10'       : CloudCmd.Config.show,\n            '~'         : CloudCmd.Konsole.show,\n            'shift~'    : CloudCmd.Terminal.show,\n            'contact'   : CloudCmd.Contact.show,\n        };\n       \n        exec(clickFuncs[id]);\n    });\n};\n\nconst getPanel = (side) => {\n    if (!itype.string(side))\n        return side;\n    \n    return DOM.getByDataName('js-' + side);\n};\n\nmodule.exports.setOnPanel = (side) => {\n    const panel = getPanel(side);\n    \n    const filesElement = DOM.getByDataName('js-files', panel);\n    const pathElement = DOM.getByDataName('js-path', panel);\n    \n    /* ставим загрузку гифа на клик*/\n    Events.addClick(pathElement, getPathListener(panel));\n    Events.add(filesElement, EventsFiles);\n};\n\nfunction getPathListener(panel) {\n    return onPathElementClick.bind(null, panel);\n}\n\nfunction isNoCurrent(panel) {\n    const infoPanel = Info.panel;\n    const namePanel = panel.getAttribute('data-name');\n    const nameInfoPanel = infoPanel.getAttribute('data-name');\n        \n    if (namePanel !== nameInfoPanel)\n        return true;\n    \n    return false;\n}\n\nfunction onPathElementClick(panel, event) {\n    let link, href, url, noCurrent;\n    \n    const prefix = CloudCmd.PREFIX;\n    const element = event.target;\n    const attr = element.getAttribute('data-name');\n    \n    switch (attr) {\n    case 'js-clear-storage':\n        Storage.clear();\n        break;\n    \n    case 'js-refresh':\n        noCurrent = isNoCurrent(panel);\n        \n        CloudCmd.refresh({\n            panel,\n            noCurrent\n        });\n        \n        event.preventDefault();\n        break;\n    \n    case 'js-path-link':\n        url         = CloudCmd.HOST;\n        href        = element.href;\n        link        = href.replace(url, '');\n        /**\n         * browser doesn't replace % -> %25%\n         * do it for him\n         */\n        link        = link.replace('%%', '%25%');\n        link        = decodeURI(link);\n        link        = link.replace(RegExp('^' + prefix + FS), '') || '/';\n        \n        noCurrent   = isNoCurrent(panel);\n        \n        CloudCmd.loadDir({\n            path        : link,\n            isRefresh   : false,\n            panel       : noCurrent ? panel : Info.panel\n        });\n        \n        event.preventDefault();\n    }\n}\n\nfunction execIfNotUL(callback, event) {\n    const {target} = event;\n    const {tagName} = target;\n    \n    if (tagName !== 'UL')\n        callback(event);\n}\n\nfunction onClick(event) {\n    const ctrl = event.ctrlKey;\n    \n    if (!ctrl)\n        event.preventDefault();\n    \n    changePanel(event.target);\n}\n\nfunction toggleSelect(key, files) {\n    const isMac = /Mac/.test(window.navigator.platform);\n    \n    if (!key)\n        throw Error('key should not be undefined!');\n    \n    const [file] = files;\n    \n    if (isMac && key.meta || key.ctrl)\n        return DOM.toggleSelectedFile(file);\n    \n    if (key.shift)\n        return files.forEach(DOM.selectFile);\n}\n\nfunction changePanel(element) {\n    const {panel} = Info;\n    const files = DOM.getByDataName('js-files', panel);\n    const ul = getULElement(element);\n    \n    if (ul !== files)\n        DOM.changePanel();\n}\n\nfunction onDblClick(event) {\n    const current = getLIElement(event.target);\n    const isDir = DOM.isCurrentIsDir(current);\n    const path = DOM.getCurrentPath(current);\n    \n    if (isDir) {\n        CloudCmd.loadDir({\n            path: path === '/' ? '/' : path + '/'\n        });\n        \n        event.preventDefault();\n    }\n}\n\nfunction onTouch(event) {\n    const current = getLIElement(event.target);\n    const isDir = DOM.isCurrentIsDir(current);\n    \n    if (!isDir)\n        return;\n    \n    const isCurrent = DOM.isCurrentFile(current);\n    \n    if (!isCurrent)\n        return;\n    \n    CloudCmd.loadDir({\n        path: DOM.getCurrentPath(current)\n    });\n    \n    event.preventDefault();\n}\n\n/*\n  * download file from browser to desktop\n  * in Chrome (HTML5)\n  */\nfunction onDragStart(event) {\n    const element = getLIElement(event.target);\n    const isDir = Info.isDir;\n    let link = DOM.getCurrentLink(element);\n    let name = DOM.getCurrentName(element);\n    \n    /* if it's directory - adding json extension */\n    if (isDir) {\n        name += EXT;\n        link = document.createElement('a');\n        link.textContent = name;\n        link.href = apiURL + '/pack' + Info.path + EXT;\n    }\n    \n    event.dataTransfer.setData('DownloadURL',\n        'application/octet-stream'  + ':' +\n        name                        + ':' +\n        link);\n}\n\nfunction getLIElement(element) {\n    if (!element)\n        return element;\n    \n    while (element.tagName !== 'LI')\n        element = element.parentElement;\n    \n    return element;\n}\n\nfunction getULElement(element) {\n    while (element.tagName !== 'UL')\n        element = element.parentElement;\n    \n    return element;\n}\n\nfunction setCurrentFileByEvent(event) {\n    const BUTTON_LEFT = 0;\n    \n    const key = {\n        alt: event.altKey,\n        ctrl: event.ctrlKey,\n        meta: event.metaKey,\n        shift: event.shiftKey\n    };\n    \n    const element = getLIElement(event.target);\n    \n    const fromName = Info.name;\n    DOM.setCurrentFile(element);\n    const toName = Info.name;\n    \n    let files = [];\n    \n    if (key.shift)\n        files = getFilesRange(fromName, toName);\n    else\n        files.push(Info.element);\n    \n    if (event.button === BUTTON_LEFT)\n        toggleSelect(key, files);\n}\n\nfunction getFilesRange(from, to) {\n    const files = DOM.getAllFiles();\n    const names = DOM.getFilenames(files);\n    const getNameIndex = getIndex(names);\n    \n    const indexFrom = getNameIndex(from);\n    const indexTo = getNameIndex(to);\n    \n    return getRange(indexFrom, indexTo, files);\n}\n\nfunction contextMenu() {\n    const fm = DOM.getFM();\n    \n    Events.addOnce('contextmenu', fm, (event) => {\n        CloudCmd.Menu.show({\n            x: event.clientX,\n            y: event.clientY\n        });\n    });\n    \n    Events.addContextMenu(fm, (event) => {\n        CloudCmd.Menu.ENABLED || event.preventDefault();\n    });\n}\n\nfunction dragndrop() {\n    const panels = DOM.getByClassAll('panel');\n    const select = () => {\n        [...panels].forEach((panel) => {\n            panel.classList.add('selected-panel');\n        });\n    };\n    \n    const unselect = () => {\n        [...panels].forEach((panel) => {\n            panel.classList.remove('selected-panel');\n        });\n    };\n    \n    const onDrop = (event) => {\n        const files = event.dataTransfer.files;\n        const items = event.dataTransfer.items;\n        const {length: filesCount} = files;\n        \n        event.preventDefault();\n        \n        if (filesCount && (!items || !items.length || !items[0].webkitGetAsEntry))\n            return uploadFiles(files);\n        \n        const isFile = (item) => item.kind === 'file';\n        const dirFiles = [...items].filter(isFile);\n        \n        if (dirFiles.length)\n            return DOM.uploadDirectory(dirFiles);\n        \n        const {Operation} = CloudCmd;\n        const operation = event.shiftKey ? 'move' : 'copy';\n        \n        return Operation.show(operation);\n    };\n    \n    /**\n     * In Mac OS Chrome dropEffect = 'none'\n     * so drop do not firing up when try\n     * to upload file from download bar\n     */\n    const onDragOver = (event) => {\n        const dataTransfer = event.dataTransfer;\n        const effectAllowed = dataTransfer.effectAllowed;\n        \n        if (/move|linkMove/.test(effectAllowed))\n            dataTransfer.dropEffect = 'move';\n        else\n            dataTransfer.dropEffect = 'copy';\n        \n        event.preventDefault();\n    };\n    \n    Events.add('dragenter', select);\n    Events.add(['dragleave', 'drop'], unselect);\n    \n    [...panels].forEach((panel) => {\n        Events.add('dragover', panel, onDragOver)\n            .add('drop', panel, onDrop);\n    });\n}\n\nfunction unload() {\n    DOM.Events.add(['unload', 'beforeunload'], (event) => {\n        const Key = CloudCmd.Key;\n        const isBind = Key && Key.isBind();\n        \n        if (isBind)\n            return;\n        \n        event.preventDefault();\n        return 'Please make sure that you saved all work.';\n    });\n}\n\nfunction pop() {\n    Events.add('popstate', ({state}) => {\n        const path = (state || '').replace(FS, '');\n        \n        if (!path)\n            return CloudCmd.route(location.hash);\n        \n        const history = false;\n        CloudCmd.loadDir({\n            path,\n            history,\n        });\n    });\n}\n\nfunction resize() {\n    Events.add('resize', () => {\n        const is = window.innerWidth < CloudCmd.MIN_ONE_PANEL_WIDTH;\n        \n        if (!is)\n            return;\n        \n        const {panel} = Info;\n        const isEmptyRoot = !panel;\n        \n        if (isEmptyRoot)\n            return;\n        \n        const name = panel.getAttribute('data-name');\n        const isLeft = name === 'js-left';\n        \n        if (isLeft)\n            return;\n        \n        DOM.changePanel();\n    });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/listeners/index.js");
/src/dist-dev/cloudcmd.js-274-
##############################################
/src/dist-dev/cloudcmd.js-284-"use strict";
/src/dist-dev/cloudcmd.js:285:eval("\n\n/* global CloudCmd */\nconst DOM = __webpack_require__(/*! ./dom */ \"./client/dom/index.js\");\n\nconst Info = DOM.CurrentInfo;\nconst sort = CloudCmd.sort;\nconst order = CloudCmd.order;\nconst position = DOM.getPanelPosition();\n\nlet sortPrevious = sort[position];\n\nconst {getPanel} = DOM;\n\nCloudCmd.sortPanel = (name, panel = getPanel()) => {\n    const position = panel\n        .dataset\n        .name\n        .replace('js-', '');\n    \n    if (name !== sortPrevious) {\n        order[position] = 'asc';\n    } else {\n        if (order[position] === 'asc')\n            order[position] = 'desc';\n        else\n            order[position] = 'asc';\n    }\n    \n    sortPrevious =\n    sort[position] = name;\n    \n    const noCurrent = position !== Info.panelPosition;\n    \n    CloudCmd.refresh({\n        panel,\n        noCurrent,\n    });\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/sort.js");
/src/dist-dev/cloudcmd.js-286-
##############################################
/src/dist-dev/cloudcmd.js-295-
/src/dist-dev/cloudcmd.js:296:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/columns/name-size-date.css");
/src/dist-dev/cloudcmd.js-297-
##############################################
/src/dist-dev/cloudcmd.js-306-
/src/dist-dev/cloudcmd.js:307:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/columns/name-size.css");
/src/dist-dev/cloudcmd.js-308-
##############################################
/src/dist-dev/cloudcmd.js-317-
/src/dist-dev/cloudcmd.js:318:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/main.css");
/src/dist-dev/cloudcmd.js-319-
##############################################
/src/dist-dev/cloudcmd.js-328-
/src/dist-dev/cloudcmd.js:329:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/nojs.css");
/src/dist-dev/cloudcmd.js-330-
##############################################
/src/dist-dev/cloudcmd.js-339-
/src/dist-dev/cloudcmd.js:340:eval("module.exports = es6-promise;\n\n//# sourceURL=file://cloudcmd/external_%22es6-promise%22");
/src/dist-dev/cloudcmd.js-341-
##############################################
/src/dist-dev/modules/config.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/config.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/config.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/config.js-152-"use strict";
/src/dist-dev/modules/config.js:153:eval("\n\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\n\nconst isType = currify((type, object, name) => {\n    return typeof object[name] === type;\n});\n\nconst isBool = isType('boolean');\n\nmodule.exports.getElementByName = getElementByName;\n\nfunction getElementByName(selector, element) {\n    const str = `[data-name=\"js-${selector}\"]`;\n    \n    return element\n        .querySelector(str);\n}\n\nmodule.exports.getName = (element) => {\n    const name = element\n        .getAttribute('data-name')\n        .replace(/^js-/, '');\n    \n    return name;\n};\n\nmodule.exports.convert = (config) => {\n    const result = Object.assign({}, config);\n    const array = Object.keys(result);\n    \n    array\n        .filter(isBool(result))\n        .forEach((name) => {\n            const item = result[name];\n            \n            result[name] = setState(item);\n        });\n    \n    return result;\n};\n\nfunction setState(state) {\n    if (state)\n        return ' checked';\n    \n    return '';\n}\n\nmodule.exports.getValue = (name, element) => {\n    const el = getElementByName(name, element);\n    const type = el.type;\n    \n    switch(type) {\n    case 'checkbox':\n        return el.checked;\n    \n    case 'number':\n        return Number(el.value);\n    \n    default:\n        return el.value;\n    }\n};\n\nmodule.exports.setValue = (name, value, element) => {\n    const el = getElementByName(name, element);\n    const type = el.type;\n    \n    switch(type) {\n    case 'checkbox':\n        el.checked = value;\n        break;\n    \n    default:\n        el.value = value;\n        break;\n    }\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/input.js");
/src/dist-dev/modules/config.js-154-
##############################################
/src/dist-dev/modules/config.js-164-"use strict";
/src/dist-dev/modules/config.js:165:eval("\n\n/* global CloudCmd, DOM, io */\n\n__webpack_require__(/*! ../../css/config.css */ \"./css/config.css\");\n\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst squad = __webpack_require__(/*! squad/legacy */ \"./node_modules/squad/legacy/index.js\");\nconst input = __webpack_require__(/*! ../input */ \"./client/input.js\");\n\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\nconst Events = __webpack_require__(/*! ../dom/events */ \"./client/dom/events.js\");\nconst Files = __webpack_require__(/*! ../dom/files */ \"./client/dom/files.js\");\n\nconst {getTitle} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst {Dialog, setTitle} = DOM;\n\nconst TITLE = 'Config';\nconst alert = currify(Dialog.alert, TITLE);\n\nconst Config = module.exports;\n\nconst showLoad = () => {\n    Images.show.load('top');\n};\n\nconst addKey = currify((fn, input) => {\n    Events.addKey(input, fn);\n    return input;\n});\n\nconst addChange = currify((fn, input) => {\n    Events.add('change', input, fn);\n    return input;\n});\n\nCloudCmd.Config = ConfigProto;\n\nlet Loading = true;\n\nfunction ConfigProto() {\n    const noop = () => {};\n    \n    if (!CloudCmd.config('configDialog'))\n        return {\n            show: noop\n        };\n    \n    Loading = true;\n    \n    showLoad();\n    exec.series([\n        CloudCmd.View,\n        (callback) => {\n            Loading = false;\n            exec(callback);\n            DOM.loadSocket(initSocket);\n        },\n        show\n    ]);\n    \n    return module.exports;\n}\n\nconst config = CloudCmd.config;\n\nconst {Key} = CloudCmd;\n\nlet Element;\nlet Template;\n\nfunction getHost() {\n    const {host, origin, protocol} = location;\n    const href = origin || `${protocol}//${host}`;\n    \n    return href;\n}\n\nfunction initSocket() {\n    const href = getHost();\n    const prefix = CloudCmd.PREFIX;\n    const FIVE_SECONDS = 5000;\n    \n    const socket  = io.connect(href + prefix + '/config', {\n        'max reconnection attempts' : Math.pow(2, 32),\n        'reconnection limit'        : FIVE_SECONDS,\n        path: prefix + '/socket.io'\n    });\n    \n    const save = (data) => {\n        onSave(data);\n        socket.send(data);\n    };\n    \n    authCheck(socket);\n    \n    socket.on('connect', () => {\n        Config.save = save;\n    });\n    \n    socket.on('config', (config) => {\n        DOM.Storage.setAllowed(config.localStorage);\n    });\n    \n    socket.on('message', onSave);\n    socket.on('log', CloudCmd.log);\n    \n    socket.on('disconnect', () => {\n        Config.save = saveHttp;\n    });\n    \n    socket.on('err', alert);\n}\n\nfunction authCheck(socket) {\n    socket.emit('auth', config('username'), config('password'));\n    \n    socket.on('reject', () => {\n        alert('Wrong credentials!');\n    });\n}\n\nConfig.save = saveHttp;\n\nmodule.exports.show = show;\n\nfunction show() {\n    const prefix = CloudCmd.PREFIX;\n    const funcs = [\n        exec.with(Files.get, 'config-tmpl'),\n        exec.with(DOM.load.parallel, [\n            prefix + '/dist/config.css'\n        ])\n    ];\n    \n    if (Loading)\n        return;\n    \n    showLoad();\n    exec.parallel(funcs, fillTemplate);\n}\n\nfunction fillTemplate(error, template) {\n    if (!Template)\n        Template = template;\n    \n    Files.get('config', (error, config) => {\n        if (error)\n            return alert('Could not load config!');\n        \n        const obj = input.convert(config);\n        \n        obj[obj.editor + '-selected'] = 'selected';\n        delete obj.editor;\n        \n        obj[obj.packer + '-selected'] = 'selected';\n        delete obj.packer;\n        \n        obj[obj.columns + '-selected'] = 'selected';\n        delete obj.columns;\n        \n        const inner = rendy(Template, obj);\n        \n        Element = DOM.load({\n            name        : 'form',\n            className   : 'config',\n            inner,\n            attribute   : {\n                'data-name': 'js-config'\n            }\n        });\n        \n        const inputs = document.querySelectorAll('input, select', Element);\n        const [inputFirst] = inputs;\n        \n        let afterShow;\n        if (inputFirst) {\n            onAuthChange(inputFirst.checked);\n            afterShow = inputFirst.focus.bind(inputFirst);\n        }\n        \n        const getTarget = ({target}) => target;\n        const handleChange = squad(onChange, getTarget);\n        \n        [...inputs]\n            .map(addKey(onKey))\n            .map(addChange(handleChange));\n        \n        const autoSize = true;\n        CloudCmd.View.show(Element, {\n            autoSize,\n            afterShow,\n        });\n    });\n}\n\nmodule.exports.hide = () => {\n    CloudCmd.View.hide();\n};\n\nfunction onChange(el) {\n    const obj = {};\n    const name = input.getName(el);\n    const data = input.getValue(name, Element);\n    const type = el.type;\n    \n    if (name === 'name')\n        onNameChange(data);\n    else if (type === 'checkbox')\n        if (/^(diff|buffer|dirStorage)$/.test(name))\n            onLSChange(name, data);\n        else if (name === 'localStorage')\n            onLocalStorageChange();\n        else if (name === 'auth')\n            onAuthChange(data);\n    \n    obj[name] = data;\n    \n    Config.save(obj);\n}\n\nfunction onSave(obj) {\n    Object.keys(obj).forEach((name) => {\n        const data = obj[name];\n        \n        CloudCmd._config(name, data);\n        input.setValue(name, data, Element);\n    });\n    \n    DOM.Storage.setAllowed(obj.localStorage);\n}\n\nfunction saveHttp(obj) {\n    const {RESTful} = DOM;\n    \n    RESTful.Config.write(obj, (error) => {\n        if (error)\n            return;\n        \n        onSave(obj);\n    });\n}\n\nfunction onLocalStorageChange() {\n    const names = ['diff', 'buffer', 'dirStorage', 'localStorage'];\n    const elements = names.map((name) => {\n        return input.getElementByName(name, Element);\n    });\n    const el = {};\n    const msg = 'Diff, Buffer and Directory Storage do not work without localStorage';\n    \n    let isChecked;\n    \n    elements.forEach((element) => {\n        const name = input.getName(element);\n        \n        el[name] = element;\n        \n        if (element.checked)\n            isChecked = true;\n    });\n    \n    if (!isChecked || el.localStorage.checked)\n        return;\n    \n    alert(msg);\n    \n    elements.forEach((element) => {\n        if (!element.checked)\n            return;\n        \n        element.checked = false;\n        onChange(element);\n    });\n}\n\nfunction onLSChange(name, data) {\n    const elLocalStorage = input.getElementByName('localStorage', Element);\n    const msg = `${name} depends on localStorage`;\n    \n    if (!data || elLocalStorage.checked)\n        return;\n    \n    Dialog.alert(TITLE, msg);\n    elLocalStorage.checked = true;\n}\n\nfunction onAuthChange(checked) {\n    const elUsername = input.getElementByName('username', Element);\n    const elPassword = input.getElementByName('password', Element);\n    \n    elUsername.disabled =\n    elPassword.disabled = !checked;\n}\n\nfunction onNameChange(name) {\n    setTitle(getTitle({\n        name\n    }));\n}\n\nfunction onKey({keyCode, target}) {\n    switch (keyCode) {\n    case Key.ESC:\n        Config.hide();\n        break;\n    \n    case Key.ENTER:\n        onChange(target);\n        break;\n    }\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/config.js");
/src/dist-dev/modules/config.js-166-
##############################################
/src/dist-dev/modules/config.js-175-
/src/dist-dev/modules/config.js:176:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/config.css");
/src/dist-dev/modules/config.js-177-
##############################################
/src/dist-dev/modules/menu.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/menu.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/menu.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/menu.js-152-"use strict";
/src/dist-dev/modules/menu.js:153:eval("/* global CloudCmd, DOM */\n\n\n\nCloudCmd.Menu = MenuProto;\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst wrap = __webpack_require__(/*! wraptile/legacy */ \"./node_modules/wraptile/legacy/index.js\");\n\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\nconst RESTful = __webpack_require__(/*! ../dom/rest */ \"./client/dom/rest.js\");\n\nfunction MenuProto(Position) {\n    const config = CloudCmd.config;\n    const Buffer = DOM.Buffer;\n    const Info = DOM.CurrentInfo;\n    \n    let Loading = true;\n    const Key = CloudCmd.Key;\n    const Events = DOM.Events;\n    const Dialog = DOM.Dialog;\n    const Images = DOM.Images;\n    const Menu = this;\n    const TITLE = 'Cloud Commander';\n    const alert = currify(Dialog.alert, TITLE);\n    const alertNoFiles = wrap(Dialog.alert.noFiles)(TITLE);\n    const uploadTo = wrap(_uploadTo);\n    \n    let MenuShowedName;\n    let MenuContext;\n    let MenuContextFile;\n    \n    this.ENABLED = false;\n    \n    function init() {\n        Loading  = true;\n        Menu.show();\n        \n        Events.addKey(listener);\n    }\n    \n    this.hide = () => {\n        MenuContext.hide();\n        MenuContextFile.hide();\n    };\n    \n    this.show = (position) => {\n        const showFunc = () => {\n            show(position);\n            Images.hide();\n        };\n        \n        exec.if(window.MenuIO, showFunc, () => {\n            DOM.loadMenu((error) => {\n                if (error)\n                    return alert(error);\n                \n                showFunc();\n            });\n        });\n    };\n    \n    function getPosition(position) {\n        if (position)\n            return {\n                x: position.x,\n                y: position.y,\n            };\n        \n        if (Position)\n            return {\n                x: Position.x,\n                y: Position.y,\n            };\n        if (position)\n            return {\n                x: position.x,\n                y: position.y,\n            };\n       \n        return getCurrentPosition();\n    }\n    \n    function getMenuNameByEl(el) {\n        if (!el)\n            return 'context';\n        \n        const name = DOM.getCurrentName(el);\n        \n        if (name === '..')\n            return 'context';\n        \n        return 'contextFile';\n    }\n    \n    function getMenuByName(name) {\n        if (name === 'context')\n            return MenuContext;\n        \n        return MenuContextFile;\n    }\n    \n    function show(position) {\n        const {x, y} = getPosition(position);\n        \n        if (!Loading) {\n            MenuContext.show(x, y);\n            MenuContextFile.show(x, y);\n            return;\n        }\n        \n        loadFileMenuData((isAuth, menuDataFile) => {\n            const NOT_FILE = true;\n            const fm = DOM.getFM();\n            const menuData = getMenuData(isAuth);\n            const options = getOptions(NOT_FILE);\n            const optionsFile = getOptions();\n            const MenuIO = window.MenuIO;\n            \n            MenuContext = new MenuIO(fm, options, menuData);\n            MenuContextFile = new MenuIO(fm, optionsFile, menuDataFile);\n            \n            const el = DOM.getCurrentByPosition({x, y});\n            const menuName = getMenuNameByEl(el);\n            const menu = getMenuByName(menuName);\n            \n            menu.show(x, y);\n            \n            Loading = false;\n            Position = null;\n        });\n    }\n    \n    function getOptions(notFile) {\n        let name, func;\n        \n        if (notFile) {\n            name    = 'context';\n            func    = Key.unsetBind;\n        } else {\n            name    = 'contextFile';\n        }\n        \n        const options = {\n            icon        : true,\n            beforeClose : Key.setBind,\n            beforeShow  : exec.with(beforeShow, func),\n            beforeClick,\n            name,\n        };\n        \n        return options;\n    }\n    \n    function getMenuData(isAuth) {\n        const menu = {\n            'Paste': Buffer.paste,\n            'New': {\n                'File': DOM.promptNewFile,\n                'Directory': DOM.promptNewDir\n            },\n            'Upload': () => {\n                CloudCmd.Upload.show();\n            },\n            'Upload From Cloud': uploadFromCloud,\n            '(Un)Select All': DOM.toggleAllSelectedFiles\n        };\n        \n        if (isAuth)\n            menu['Log Out'] = CloudCmd.logOut;\n        \n        return menu;\n    }\n    \n    function loadFileMenuData(callback) {\n        const is = CloudCmd.config('auth');\n        const show = wrap((name) => {\n            CloudCmd[name].show();\n        });\n        \n        const menuBottom = getMenuData(is);\n        \n        const menuTop = {\n            'View': show('View'),\n            'Edit': show('EditFile'),\n            'Rename': () => {\n                setTimeout(DOM.renameCurrent, 100);\n            },\n            'Delete': () => {\n                CloudCmd.Operation.show('delete');\n            },\n            'Pack': () => {\n                CloudCmd.Operation.show('pack');\n            },\n            'Extract': () => {\n                CloudCmd.Operation.show('extract');\n            },\n            'Download': preDownload,\n            'Upload To Cloud': uploadTo('Cloud'),\n            'Cut': () => {\n                isCurrent(Buffer.cut, alertNoFiles);\n            },\n            'Copy': () => {\n                isCurrent(Buffer.copy, alertNoFiles);\n            },\n        };\n        \n        const menu = Object.assign({}, menuTop, menuBottom);\n        \n        callback(is, menu);\n    }\n    \n    function isCurrent(yesFn, noFn) {\n        if (Info.name !== '..')\n            return yesFn();\n        \n        noFn();\n    }\n    \n    function isPath(x, y) {\n        const {panel} = Info;\n        const isEmptyRoot = !panel;\n        \n        if (isEmptyRoot)\n            return false;\n        \n        const el = document.elementFromPoint(x, y);\n        const elements = panel.querySelectorAll('[data-name=\"js-path\"] *');\n        const is = ~[].indexOf.call(elements, el);\n        \n        return is;\n    }\n    \n    function beforeShow(callback, params) {\n        const name = params.name;\n        let el = DOM.getCurrentByPosition({\n            x: params.x,\n            y: params.y\n        });\n        \n        const menuName = getMenuNameByEl(el);\n        let notShow = menuName === 'contextFile';\n        \n        if (params.name === 'contextFile') {\n            notShow = !notShow;\n        }\n        \n        if (!notShow)\n            MenuShowedName = name;\n        \n        exec(callback);\n        \n        if (!notShow)\n            notShow = isPath(params.x, params.y);\n        \n        return notShow;\n    }\n    \n    function beforeClick(name) {\n        return MenuShowedName !== name;\n    }\n    \n    function _uploadTo(nameModule) {\n        Info.getData((error, data) => {\n            if (error)\n                return;\n            \n            const name = Info.name;\n            const execFrom = CloudCmd.execFromModule;\n             \n            execFrom(nameModule, 'uploadFile', name, data);\n        });\n        \n        CloudCmd.log('Uploading to ' + name + '...');\n    }\n    \n    function uploadFromCloud() {\n        Images.show.load('top');\n        \n        CloudCmd.execFromModule('Cloud', 'saveFile', (currentName, data) => {\n            const path = DOM.getCurrentDirPath() + currentName;\n            \n            RESTful.write(path,  data, (error) => {\n                if (error)\n                    return;\n                 \n                CloudCmd.refresh({currentName});\n            });\n        });\n    }\n    \n    function preDownload() {\n        download(config('packer'));\n    }\n    \n    function download(type) {\n        const TIME = 30 * 1000;\n        const prefixUr = CloudCmd.PREFIX_URL;\n        const PACK = '/pack';\n        const date = Date.now();\n        const files = DOM.getActiveFiles();\n        \n        if (!files.length)\n            return alertNoFiles();\n            \n        files.forEach((file) => {\n            const selected = DOM.isSelected(file);\n            const isDir = DOM.isCurrentIsDir(file);\n            const path = DOM.getCurrentPath(file);\n            \n            CloudCmd.log('downloading file ' + path + '...');\n            /*\n              * if we send ajax request -\n              * no need in hash so we escape #\n              * and all other characters, like \"%\"\n              */\n            const encodedPath = encodeURI(path).replace(/#/g, '%23');\n            const id = load.getIdBySrc(path);\n            \n            let src;\n            \n            if (isDir)\n                src = prefixUr + PACK + encodedPath + DOM.getPackerExt(type);\n            else\n                src = prefixUr + FS + encodedPath + '?download';\n            \n            const element = load({\n                id          : id + '-' + date,\n                name        : 'iframe',\n                async       : false,\n                className   : 'hidden',\n                src,\n            });\n            \n            const {body} = document;\n            const removeChild = body.removeChild.bind(body, element);\n            \n            setTimeout(removeChild, TIME);\n            \n            if (selected)\n                DOM.toggleSelectedFile(file);\n        });\n    }\n    \n    function getCurrentPosition() {\n        const current = Info.element;\n        const rect = current.getBoundingClientRect();\n        \n        const position = {\n            x: Math.round(rect.left + rect.width / 3),\n            y: Math.round(rect.top)\n        };\n        \n        return position;\n    }\n    \n    function listener(event) {\n        const F9 = Key.F9;\n        const ESC = Key.ESC;\n        const key = event.keyCode;\n        const isBind = Key.isBind();\n        \n        if (!isBind)\n            return;\n        \n        if (key === ESC)\n            return Menu.hide();\n        \n        if (key === F9) {\n            const position = getCurrentPosition();\n            MenuContext.show(position.x, position.y);\n            \n            event.preventDefault();\n        }\n    }\n    \n    init();\n}\n\n\n//# sourceURL=file://cloudcmd/client/modules/menu.js");
/src/dist-dev/modules/menu.js-154-
##############################################
/src/dist-dev/modules/contact.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/contact.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/contact.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/contact.js-152-"use strict";
/src/dist-dev/modules/contact.js:153:eval("/* global CloudCmd */\n/* global DOM */\n/* global olark */\n\n\n\nCloudCmd.Contact = ContactProto;\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\n\nfunction ContactProto(callback) {\n    init(callback);\n    \n    return exports;\n}\n\nconst Events = DOM.Events;\nconst Key = CloudCmd.Key;\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nlet Inited = false;\n\nfunction init(callback) {\n    if (Inited)\n        return;\n    \n    load(() => {\n        Inited = true;\n        \n        olark.identify('6216-545-10-4223');\n        olark('api.box.onExpand', show);\n        olark('api.box.onShow', show);\n        olark('api.box.onShrink', hide);\n        \n        exec(callback);\n    });\n    \n    Events.addKey(onKey);\n}\n\nfunction load(callback) {\n    const {PREFIX} = CloudCmd;\n    const path = `${PREFIX}/modules/olark/olark.min.js`;\n    \n    Images.show.load('top');\n    \n    DOM.load.js(path, callback);\n}\n\nfunction show() {\n    Key.unsetBind();\n    Images.hide();\n    \n    if (Inited)\n        return olark('api.box.expand');\n    \n    init(show);\n}\n\nfunction hide() {\n    Key.setBind();\n    olark('api.box.hide');\n}\n\nfunction onKey({keyCode}) {\n    if (keyCode === Key.ESC)\n        hide();\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/contact.js");
/src/dist-dev/modules/contact.js-154-
##############################################
/src/dist-dev/modules/view.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/view.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/view.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/view.js-152-"use strict";
/src/dist-dev/modules/view.js:153:eval("\n\n/* global CloudCmd, DOM, $ */\n\n__webpack_require__(/*! ../../css/view.css */ \"./css/view.css\");\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\nconst rendy = __webpack_require__(/*! rendy */ \"./node_modules/rendy/lib/rendy.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\n\nconst {time} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\nconst {FS} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\n\nconst Files = __webpack_require__(/*! ../dom/files */ \"./client/dom/files.js\");\nconst Events = __webpack_require__(/*! ../dom/events */ \"./client/dom/events.js\");\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\n\nconst testRegExp = currify((name, reg) => reg.test(name));\nconst lifo = currify((fn, el, cb, name) => fn(name, el, cb));\n\nconst addEvent = lifo(Events.add);\nconst getRegExp = (ext) => RegExp(`\\\\.${ext}$`, 'i');\n\nCloudCmd.View = ViewProto;\n\nmodule.exports = exec.bind();\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nlet Loading = false;\n\nconst Name = 'View';\nconst Info = DOM.CurrentInfo;\nconst Key = CloudCmd.Key;\nconst basename = (a) => a.split('/').pop();\n\nlet El, TemplateAudio, Overlay;\n\nconst Config = {\n    beforeShow: (callback) => {\n        Images.hide();\n        Key.unsetBind();\n        showOverlay();\n        exec(callback);\n    },\n    beforeClose: (callback) => {\n        Events.rmKey(listener);\n        Key.setBind();\n        exec(callback);\n        hideOverlay();\n    },\n    afterShow: (callback) => {\n        El.focus();\n        exec(callback);\n    },\n    afterClose      : exec,\n    fitToView       : true,\n    loop            : false,\n    openEffect      : 'none',\n    closeEffect     : 'none',\n    autoSize        : false,\n    height          : '100%',\n    width           : '100%',\n    minWidth        : 0,\n    minHeight       : 0,\n    padding         : 0,\n    preload         : 0,\n    keys            : null,\n    mouseWheel      : false,\n    arrows          : false,\n    helpers         : {\n        overlay : null,\n        title   : null\n    }\n};\n\nfunction ViewProto(callback) {\n    const func = callback || exec.with(show, null);\n    \n    Loading = true;\n    \n    exec.series([\n        DOM.loadJquery,\n        loadAll,\n        (callback) => {\n            Loading = false;\n            exec(callback);\n        }\n    ], func);\n    \n    Config.parent = Overlay = load({\n        id          : 'js-view',\n        name        : 'div',\n        className   : 'fancybox-overlay fancybox-overlay-fixed'\n    });\n    \n    const events = [\n        'click',\n        'contextmenu',\n    ];\n    \n    events.forEach(addEvent(Overlay, onOverLayClick));\n    \n    return module.exports;\n}\n\nfunction show(data, options) {\n    const prefixUrl = CloudCmd.PREFIX_URL + FS;\n    \n    if (Loading)\n        return;\n    \n    if (!options || options.bindKeys !== false)\n        Events.addKey(listener);\n    \n    El = $('<div class=\"view\" tabindex=0>');\n    \n    if (data) {\n        const element = $(El).append(data);\n        $.fancybox.open(element, initConfig(Config, options));\n        return;\n    }\n    \n    Images.show.load();\n    \n    const path = prefixUrl + Info.path;\n    const type = getType(path);\n    \n    switch(type) {\n    default:\n        return Info.getData((error, data) => {\n            if (error)\n                return Images.hide();\n            \n            const element = document.createTextNode(data);\n            /* add margin only for view text documents */\n            El.css('margin', '2%');\n            \n            $.fancybox.open(El.append(element), Config);\n        });\n    \n    case 'image':\n        return showImage(path, prefixUrl);\n    \n    case 'media':\n        return getMediaElement(path, (element) => {\n            const media = DOM.getByDataName('js-media', element);\n            const onKey = exec.with(onMediaKey, media);\n            \n            $.fancybox.open(element, {\n                parent      : Overlay,\n                beforeShow  : () => {\n                    Config.beforeShow();\n                    Events.addKey(onKey);\n                },\n                beforeClose : () => {\n                    Config.beforeClose();\n                    Events.rmKey(onKey);\n                },\n                afterShow: () => {\n                    element\n                        .querySelector('audio, video')\n                        .focus();\n                },\n                helpers: {\n                    overlay : null,\n                    title   : null\n                }\n            });\n        });\n    }\n}\n\nfunction initConfig(Config, options) {\n    const config = Object.assign({}, Config);\n    \n    if (!options)\n        return config;\n    \n    Object.keys(options).forEach((name) => {\n        const isConfig = !!config[name];\n        const item = options[name];\n        const isFunc = itype.function(item);\n        \n        if (!isFunc || !isConfig) {\n            config[name] = options[name];\n            return;\n        }\n        \n        const func = config[name];\n        config[name] = () => {\n            exec.series([func, item]);\n        };\n    });\n    \n    return config;\n}\n\nfunction hide() {\n    $.fancybox.close();\n}\n\nfunction showImage(href, prefixUrl) {\n    const makeTitle = (path) => {\n        return {\n            href: prefixUrl + path,\n            title: basename(path),\n        };\n    };\n    \n    const names = Info.files\n        .map(DOM.getCurrentPath)\n        .filter(isImage);\n    \n    const titles = names\n        .map(makeTitle);\n    \n    const index = names.indexOf(Info.path);\n    const imageConfig = {\n        index,\n        autoSize    : true,\n        type        : 'image',\n        prevEffect  : 'none',\n        nextEffect  : 'none',\n        arrows      : true,\n        keys        : true,\n        helpers     : {\n            overlay : null,\n            title   : {}\n        }\n    };\n    \n    const config = {\n        ...Config,\n        ...imageConfig,\n    };\n    \n    $.fancybox.open(titles, config);\n}\n\nfunction isImage(name) {\n    const images = [\n        'jp(e|g|eg)',\n        'gif',\n        'png',\n        'bmp',\n        'webp',\n        'svg',\n        'ico'\n    ];\n    \n    return images\n        .map(getRegExp)\n        .some(testRegExp(name));\n}\n\nfunction isMedia(name) {\n    return isAudio(name) || isVideo(name);\n}\n\nfunction isAudio(name) {\n    return /\\.(mp3|ogg|m4a)$/i.test(name);\n}\n\nfunction isVideo(name) {\n    return /\\.(mp4|avi)$/i.test(name);\n}\n\nfunction getType(name) {\n    if (isImage(name))\n        return 'image';\n    \n    if (isMedia(name))\n        return 'media';\n}\n\nfunction getMediaElement(src, callback) {\n    check(src, callback);\n    \n    Files.get('view/media-tmpl', (error, template) => {\n        const {name} = Info;\n        \n        if (error)\n            return alert(error);\n        \n        if (!TemplateAudio)\n            TemplateAudio   = template;\n        \n        const is = isAudio(name);\n        const type =  is ? 'audio' : 'video';\n        \n        const rendered = rendy(TemplateAudio, {\n            src,\n            type,\n            name,\n        });\n        \n        const [element] = $(rendered);\n        callback(element);\n    });\n}\n\nfunction check(src, callback) {\n    if (typeof src !== 'string')\n        throw Error('src should be a string!');\n    \n    if (typeof callback !== 'function')\n        throw Error('callback should be a function');\n}\n\nfunction onMediaKey(media, event) {\n    const {keyCode} = event;\n    \n    if (keyCode === Key.SPACE) {\n        if (media.paused)\n            media.play();\n        else\n            media.pause();\n    }\n}\n\n/**\n * function loads css and js of FancyBox\n * @callback   -  executes, when everything loaded\n */\nfunction loadAll(callback) {\n    time(Name + ' load');\n    \n    DOM.loadRemote('fancybox', () => {\n        const {PREFIX} = CloudCmd;\n        \n        load.css(PREFIX + '/dist/view.css', callback);\n        \n        load.style({\n            id      : 'view-inlince-css',\n            inner   : [\n                '.fancybox-title-float-wrap .child {',\n                '-webkit-border-radius: 0;',\n                '-moz-border-radius: 0;',\n                'border-radius: 0;',\n                '}'\n            ].join('')\n        });\n    });\n}\n\nfunction onOverLayClick(event) {\n    const {target} = event;\n    const isOverlay = target === Overlay;\n    const position = {\n        x: event.clientX,\n        y: event.clientY\n    };\n      \n    if (!isOverlay)\n        return;\n    \n    hideOverlay();\n    hide();\n    \n    setCurrentByPosition(position);\n}\n\nfunction setCurrentByPosition(position) {\n    const element = DOM.getCurrentByPosition(position);\n    \n    if (!element)\n        return;\n    \n    const {\n        files,\n        filesPassive,\n    } = Info;\n    \n    const isFiles = ~files.indexOf(element);\n    const isFilesPassive = ~filesPassive.indexOf(element);\n    \n    if (!isFiles && !isFilesPassive)\n        return;\n    \n    const isCurrent = DOM.isCurrentFile(element);\n    \n    if (isCurrent)\n        return;\n    \n    DOM.setCurrentFile(element);\n}\n\nfunction hideOverlay() {\n    Overlay.classList.remove('view-overlay');\n}\n\nfunction showOverlay() {\n    Overlay.classList.add('view-overlay');\n}\n\nfunction listener({keyCode}) {\n    if (keyCode === Key.ESC)\n        hide();\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/view.js");
/src/dist-dev/modules/view.js-154-
##############################################
/src/dist-dev/modules/view.js-163-
/src/dist-dev/modules/view.js:164:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/view.css");
/src/dist-dev/modules/view.js-165-
##############################################
/src/dist-dev/modules/operation.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/operation.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/operation.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/operation.js-152-"use strict";
/src/dist-dev/modules/operation.js:153:eval("/* global CloudCmd */\n/* global Util */\n/* global DOM */\n/* global fileop */\n\n\n\nCloudCmd.Operation = OperationProto;\n\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst wraptile = __webpack_require__(/*! wraptile/legacy */ \"./node_modules/wraptile/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst RESTful = __webpack_require__(/*! ../../dom/rest */ \"./client/dom/rest.js\");\nconst removeExtension = __webpack_require__(/*! ./remove-extension */ \"./client/modules/operation/remove-extension.js\");\nconst setListeners = __webpack_require__(/*! ./set-listeners */ \"./client/modules/operation/set-listeners.js\");\n\nconst removeQuery = (a) => a.replace(/\\?.*/, '');\n\nfunction OperationProto(operation, data) {\n    const Name = 'Operation';\n    const {\n        TITLE,\n        config,\n    } = CloudCmd;\n    const {Dialog, Images} = DOM;\n    const initOperations = wraptile(_initOperations);\n    const authCheck = wraptile(_authCheck);\n    \n    let Loaded;\n    \n    let {\n        cp: copyFn,\n        mv: moveFn,\n        delete: deleteFn,\n        extract: extractFn,\n    } = RESTful;\n    \n    let packZipFn = RESTful.pack;\n    let packTarFn = RESTful.pack;\n    \n    const Info = DOM.CurrentInfo;\n    const showLoad = Images.show.load.bind(null, 'top');\n    const Operation = this;\n    const processFiles = currify(_processFiles);\n    \n    const noFilesCheck = () => {\n        const {length} = DOM.getActiveFiles();\n        const is = Boolean(!length);\n        \n        if (is)\n            return Dialog.alert.noFiles(TITLE);\n        \n        return is;\n    };\n    \n    function init() {\n        showLoad();\n        \n        exec.series([\n            DOM.loadSocket,\n            (callback) => {\n                if (!config('progress'))\n                    return callback();\n                \n                load(initOperations(CloudCmd.PREFIX, callback));\n            },\n            () => {\n                Loaded = true;\n                Images.hide();\n                Operation.show(operation, data);\n            }\n        ]);\n    }\n    \n    function _authCheck(spawn, ok) {\n        const accept = wraptile(ok);\n        const alertDialog = wraptile(Dialog.alert);\n        \n        spawn.on('accept', accept(spawn));\n        spawn.on('reject', alertDialog (TITLE, 'Wrong credentials!'));\n        spawn.emit('auth', config('username'), config('password'));\n    }\n    \n    function _initOperations(socketPrefix, fn) {\n        const prefix = `${socketPrefix}/fileop`;\n        fileop({prefix, socketPrefix}, (e, operator) => {\n            fn();\n            \n            operator.on('connect', authCheck(operator, onConnect));\n            operator.on('disconnect', onDisconnect);\n        });\n    }\n    \n    function onConnect(operator) {\n        packTarFn = (data, callback) => {\n            operator.tar(data.from, data.to, data.names)\n                .then(setListeners({noContinue: true}, callback));\n        };\n        \n        packZipFn = (data, callback) => {\n            operator.zip(data.from, data.to, data.names)\n                .then(setListeners({noContinue: true}, callback));\n        };\n        \n        deleteFn = (from, files, callback) => {\n            from = removeQuery(from);\n            operator.remove(from, files)\n                .then(setListeners(callback));\n        };\n        \n        copyFn = (data, callback) => {\n            operator.copy(data.from, data.to, data.names)\n                .then(setListeners(callback));\n        };\n        \n        extractFn = (data, callback) => {\n            operator.extract(data.from, data.to)\n                .then(setListeners({noContinue: true}, callback));\n        };\n    }\n    \n    function onDisconnect() {\n        packZipFn = RESTful.pack;\n        packTarFn = RESTful.pack;\n        deleteFn = RESTful.delete;\n        copyFn = RESTful.cp;\n        extractFn = RESTful.extract;\n    }\n    \n    function getPacker(type) {\n        if (type === 'zip')\n            return packZipFn;\n        \n        return packTarFn;\n    }\n    \n    this.hide = () => {\n        CloudCmd.View.hide();\n    };\n    \n    this.show = (operation, data) => {\n        if (!Loaded)\n            return;\n        \n        if (operation === 'copy')\n            return Operation.copy(data);\n        \n        if (operation === 'move')\n            return Operation.move(data);\n        \n        if (operation === 'delete')\n            return Operation.delete();\n        \n        if (operation === 'delete:silent')\n            return Operation.deleteSilent();\n        \n        if (operation === 'pack')\n            return Operation.pack();\n        \n        if (operation === 'extract')\n            return Operation.extract();\n    };\n    \n    this.copy = processFiles({\n        type: 'copy',\n    });\n    \n    this.move = processFiles({\n        type: 'move'\n    });\n    \n    this.delete = () => {\n        promptDelete();\n    };\n    \n    this.deleteSilent = () => {\n        deleteSilent();\n    };\n    \n    this.pack = () => {\n        const isZip = config('packer') === 'zip';\n        twopack('pack', isZip ? 'zip' : 'tar');\n    };\n    \n    this.extract = () => {\n        twopack('extract');\n    };\n    \n    /**\n     * prompt and delete current file or selected files\n     *\n     * @currentFile\n     */\n    function promptDelete() {\n        if (noFilesCheck())\n            return;\n        \n        const msgAsk = 'Do you really want to delete the ';\n        const msgSel = 'selected ';\n        \n        const files = DOM.getActiveFiles();\n        const names = DOM.getFilenames(files);\n        const n = names.length;\n        \n        let msg;\n        if (n) {\n            let name = '';\n            \n            for (let i = 0; i < 5 && i < n; i++)\n                name += '\\n' + names[i];\n            \n            if (n >= 5)\n                name += '\\n...';\n            \n            msg = msgAsk + msgSel + n + ' files/directories?\\n' + name ;\n        } else {\n            const current = DOM.getCurrentFile();\n            const isDir = DOM.isCurrentIsDir(current);\n            const getType = (isDir) => {\n                return isDir ? 'directory' : 'file';\n            };\n            \n            const type = getType(isDir) + ' ';\n            \n            const name = DOM.getCurrentName(current);\n            msg = msgAsk + msgSel + type + name + '?';\n        }\n        \n        const cancel = false;\n        \n        Dialog.confirm(TITLE, msg, {cancel}).then(() => {\n            deleteSilent(files);\n        });\n    }\n    \n    /**\n     * delete current or selected files\n     *\n     * @files\n     */\n    function deleteSilent(files = DOM.getActiveFiles()) {\n        const query = '?files';\n        const path = Info.dirPath;\n        \n        if (noFilesCheck())\n            return;\n        \n        showLoad();\n        \n        const names = DOM.getFilenames(files);\n        \n        deleteFn(path + query, names, (error) => {\n            const Storage = DOM.Storage;\n            const dirPath = Info.dirPath;\n            \n            if (error)\n                return CloudCmd.refresh();\n             \n            DOM.deleteSelected(files);\n            Storage.removeMatch(dirPath);\n        });\n    }\n    \n    /*\n     * process files (copy or move)\n     * @param data\n     * @param operation\n     */\n    function _processFiles(options, data) {\n        let selFiles, files;\n        let panel;\n        let shouldAsk;\n        let sameName;\n        let ok;\n        \n        let from = '';\n        let to = '';\n        \n        let names = [];\n        \n        if (data) {\n            from        = data.from;\n            to          = data.to;\n            names       = data.names;\n            panel       = Info.panel;\n        } else {\n            from        = Info.dirPath;\n            to          = DOM.getNotCurrentDirPath();\n            selFiles    = DOM.getSelectedFiles();\n            names       = DOM.getFilenames(selFiles);\n            data        = {};\n            shouldAsk   = true;\n            panel       = Info.panelPassive;\n        }\n        \n        if (!names.length)\n            names.push(DOM.getCurrentName());\n        \n        const name = names[0];\n        \n        sameName = DOM.getCurrentByName(name, panel);\n        \n        if (!data && noFilesCheck())\n            return;\n        \n        const {type} = options;\n        \n        const isCopy = type === 'copy';\n        const option = isCopy ? 'confirmCopy' : 'confirmMove';\n        const title = isCopy ? 'Copy' : 'Rename/Move';\n        const operation = isCopy ? copyFn : moveFn;\n        \n        if (shouldAsk && config(option))\n            return message(title, to, names)\n                .then(ask);\n        \n        ask(to);\n        \n        function ask(to) {\n            ok = from !== to && to;\n            \n            if (ok && !shouldAsk || !sameName)\n                return go();\n            \n            const str = `\"${ name }\" already exist. Overwrite?`;\n            const cancel = false;\n            \n            Dialog.confirm(TITLE, str, {cancel}).then(go);\n            \n            function go() {\n                showLoad();\n                 \n                files   = {\n                    from    : from,\n                    to      : to,\n                    names   : names\n                };\n                \n                operation(files, (error) => {\n                    !error && DOM.Storage.remove(from, () => {\n                        const {\n                            panel,\n                            panelPassive,\n                        } = Info;\n                        \n                        const setCurrent = () => {\n                            const currentName = name || data.names[0];\n                            DOM.setCurrentByName(currentName);\n                        };\n                        \n                        if (!Info.isOnePanel)\n                            CloudCmd.refresh({\n                                panel: panelPassive,\n                                noCurrent: true,\n                            });\n                        \n                        CloudCmd.refresh({panel}, setCurrent);\n                    });\n                });\n            }\n        }\n    }\n    \n    function checkEmpty(name, operation) {\n        if (!operation)\n            throw Error(name + ' could not be empty!');\n    }\n    \n    function twopack(operation, type) {\n        let op;\n        let fileFrom;\n        let currentName = Info.name;\n        \n        const Images = DOM.Images;\n        const path = Info.path;\n        const dirPath = Info.dirPath;\n        const activeFiles = DOM.getActiveFiles();\n        const names = DOM.getFilenames(activeFiles);\n        \n        checkEmpty('operation', operation);\n        \n        if (!names.length)\n            return Dialog.alert.noFiles(TITLE);\n        \n        switch(operation) {\n        case 'extract':\n            op = extractFn;\n            \n            fileFrom   = {\n                from: path,\n                to: dirPath\n            };\n            \n            currentName = removeExtension(currentName);\n            \n            break;\n        \n        case 'pack':\n            op = getPacker(type);\n            \n            if (names.length > 1)\n                currentName  = Info.dir;\n            \n            currentName += DOM.getPackerExt(type);\n            \n            fileFrom = {\n                from: dirPath,\n                to: dirPath + currentName,\n                names,\n            };\n            break;\n        }\n        \n        Images.show.load('top');\n        \n        op(fileFrom, (error) => {\n            !error && CloudCmd.refresh({\n                currentName\n            });\n        });\n    }\n    \n    function message(msg, to, names) {\n        const n = names.length;\n        const name = names[0];\n        \n        msg += ' ';\n        \n        if (names.length > 1)\n            msg     += n + ' file(s)';\n        else\n            msg     += '\"' + name + '\"';\n        \n        msg += ' to';\n        \n        const cancel = false;\n        \n        return Dialog.prompt(TITLE, msg, to, {cancel});\n    }\n    \n    function load(callback) {\n        const prefix = CloudCmd.PREFIX;\n        const file = `${prefix}/fileop/fileop.js`;\n        \n        DOM.load.js(file, (error) => {\n            if (error) {\n                Dialog.alert(TITLE, error.message);\n                return exec(callback);\n            }\n            \n            Loaded = true;\n            Util.timeEnd(Name + ' load');\n            exec(callback);\n        });\n        \n        Util.time(Name + ' load');\n    }\n    \n    init();\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/operation/index.js");
/src/dist-dev/modules/operation.js-154-
##############################################
/src/dist-dev/modules/operation.js-164-"use strict";
/src/dist-dev/modules/operation.js:165:eval("\n\nconst {getExt} = __webpack_require__(/*! ../../../common/util */ \"./common/util.js\");\n\nmodule.exports = (name) => {\n    const ext = getExtension(name);\n    \n    return name.replace(ext, '');\n};\n\nfunction getExtension(name) {\n    if (/\\.tar\\.gz$/.test(name))\n        return '.tar.gz';\n    \n    if (/\\.tar\\.bz2$/.test(name))\n        return '.tar.bz2';\n    \n    return getExt(name);\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/operation/remove-extension.js");
/src/dist-dev/modules/operation.js-166-
##############################################
/src/dist-dev/modules/operation.js-176-"use strict";
/src/dist-dev/modules/operation.js:177:eval("\n\n/* global DOM */\n/* global CloudCmd */\n\nconst {\n    Images,\n    Dialog,\n} = DOM;\n\nconst forEachKey = __webpack_require__(/*! for-each-key/legacy */ \"./node_modules/for-each-key/legacy/index.js\");\nconst {\n    TITLE,\n} = CloudCmd;\n\nmodule.exports = (options, callback) => (emitter) => {\n    if (!callback) {\n        callback = options;\n        options = {};\n    }\n    \n    let done;\n    let lastError;\n    \n    const removeListener = emitter.removeListener.bind(emitter);\n    const on = emitter.on.bind(emitter);\n    \n    const listeners = {\n        progress: (value) => {\n            done = value === 100;\n            Images.setProgress(value);\n        },\n        \n        end: () => {\n            Images\n                .hide()\n                .clearProgress();\n            \n            forEachKey(removeListener, listeners);\n            \n            if (lastError || done)\n                callback(lastError);\n        },\n        \n        error: (error) => {\n            lastError = error;\n            \n            if (options.noContinue) {\n                listeners.end(error);\n                Dialog.alert(TITLE, error);\n                return;\n            }\n            \n            Dialog.confirm(TITLE, error + '\\n Continue?')\n                .then(() => {\n                    emitter.continue();\n                }, () => {\n                    emitter.abort();\n                });\n        }\n    };\n    \n    forEachKey(on, listeners);\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/operation/set-listeners.js");
/src/dist-dev/modules/operation.js-178-
##############################################
/src/dist-dev/modules/help.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/help.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/help.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/help.js-152-"use strict";
/src/dist-dev/modules/help.js:153:eval("\n\n/* global CloudCmd */\n\nCloudCmd.Help = HelpProto;\n\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\n\nfunction HelpProto() {\n    Images.show.load('top');\n    show();\n    \n    return exports;\n}\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nfunction show() {\n    const positionLoad = 'top';\n    const relative = true;\n    \n    CloudCmd\n        .Markdown\n        .show('/HELP.md', {\n            positionLoad,\n            relative,\n        });\n}\n\nfunction hide() {\n    CloudCmd.View.hide();\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/help.js");
/src/dist-dev/modules/help.js-154-
##############################################
/src/dist-dev/modules/polyfill.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/polyfill.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/polyfill.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/polyfill.js-152-"use strict";
/src/dist-dev/modules/polyfill.js:153:eval("\n\n/* global Util, DOM, $ */\n\nconst itype = __webpack_require__(/*! itype/legacy */ \"./node_modules/itype/legacy/index.js\");\n\nif (!window.XMLHttpRequest || !document.head)\n    DOM.load.ajax = $.ajax;\n\nif (!Array.isArray)\n    Array.isArray = itype.array.bind();\n\n/* function polyfill webkit standart function\n *    https://gist.github.com/2581101\n */\nDOM.scrollIntoViewIfNeeded = function(element, centerIfNeeded) {\n    let parent,\n        topWidth,\n        leftWidth,\n        parentComputedStyle,\n        parentBorderTopWidth,\n        parentBorderLeftWidth,\n        overTop,\n        overBottom,\n        overLeft,\n        overRight,\n        alignWithTop;\n    \n    if (window.getComputedStyle) {\n        if (arguments.length === 1)\n            centerIfNeeded = false;\n        \n        parent                  = element.parentNode;\n        parentComputedStyle     = window.getComputedStyle(parent, null);\n        \n        topWidth                = parentComputedStyle.getPropertyValue('border-top-width');\n        leftWidth               = parentComputedStyle.getPropertyValue('border-left-width');\n        \n        parentBorderTopWidth    = parseInt(topWidth, 10);\n        parentBorderLeftWidth   = parseInt(leftWidth, 10);\n            \n        overTop                 = element.offsetTop - parent.offsetTop < parent.scrollTop,\n        overBottom              =\n            (element.offsetTop         -\n                parent.offsetTop        +\n                element.clientHeight   -\n                parentBorderTopWidth)   >\n            (parent.scrollTop + parent.clientHeight),\n            \n        overLeft                = element.offsetLeft -\n            parent.offsetLeft < parent.scrollLeft,\n            \n        overRight               =\n            (element.offsetLeft        -\n                parent.offsetLeft       +\n                element.clientWidth    -\n                parentBorderLeftWidth)  >\n            (parent.scrollLeft + parent.clientWidth),\n        \n        alignWithTop            = overTop && !overBottom;\n        \n        if ((overTop || overBottom) && centerIfNeeded)\n            parent.scrollTop    =\n                element.offsetTop      -\n                parent.offsetTop        -\n                parent.clientHeight / 2 -\n                parentBorderTopWidth    +\n                element.clientHeight / 2;\n        \n        if ((overLeft || overRight) && centerIfNeeded)\n            parent.scrollLeft   =\n                element.offsetLeft     -\n                parent.offsetLeft       -\n                parent.clientWidth / 2  -\n                parentBorderLeftWidth   +\n                element.clientWidth / 2;\n        \n        if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded)\n            element.scrollIntoView(alignWithTop);\n    }\n};\n\nif (!window.JSON) {\n    window.JSON = {};\n    \n    window.JSON.parse = $.parseJSON;\n    \n    /* https://gist.github.com/754454 */\n    window.JSON.stringify   = function(obj) {\n        let n, v, has,\n            ret     = '',\n            value   = '',\n            json    = [];\n        \n        let isStr = itype.string(obj);\n        let isObj = itype.object(obj);\n        let isArray = itype.array(obj);\n        \n        if (!isObj || obj === null) {\n            // simple data type\n            if (isStr)\n                obj = '\"' + obj + '\"';\n            \n            ret += obj;\n        } else {\n            // recurse array or object\n            for (n in obj) {\n                v   = obj[n];\n                has = obj.hasOwnProperty(n);\n                \n                if (has) {\n                    isStr   = itype.string(v);\n                    isObj   = itype.object(v);\n                    \n                    if (isStr)\n                        v   = '\"' + v + '\"';\n                    else if (v && isObj)\n                        v   = Util.json.stringify(v);\n                    \n                    if (!isArray)\n                        value   = '\"' + n + '\":';\n                    \n                    json.push(value + v);\n                }\n            }\n            \n            if (isArray)\n                ret = '[' + json + ']';\n            else\n                ret = '{' + json + '}';\n        }\n        \n        return ret;\n    };\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/polyfill.js");
/src/dist-dev/modules/polyfill.js-154-
##############################################
/src/dist-dev/modules/edit-names.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/edit-names.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/edit-names.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/edit-names.js-152-"use strict";
/src/dist-dev/modules/edit-names.js:153:eval("\n\n/* global CloudCmd, DOM */\n\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst reject = Promise.reject.bind(Promise);\n\nCloudCmd.EditNames = function EditNamesProto(callback) {\n    const Info = DOM.CurrentInfo;\n    const Dialog = DOM.Dialog;\n    \n    const TITLE = 'Edit Names';\n    const alert = currify(Dialog.alert, TITLE);\n    const refresh = currify(_refresh);\n    \n    const EditNames = this;\n    let Menu, MenuIO;\n    const ConfigView  = {\n        beforeClose: () => {\n            exec.ifExist(Menu, 'hide');\n            isChanged();\n            DOM.Events.remove('keydown', keyListener);\n        }\n    };\n    \n    function init(callback) {\n        let editor;\n        \n        exec.series([\n            CloudCmd.Edit,\n            \n            (callback) => {\n                editor = CloudCmd.Edit.getEditor();\n                callback();\n            },\n            \n            (callback) => {\n                setListeners(editor);\n                callback();\n            },\n            \n            (callback) => {\n                EditNames.show();\n                callback();\n            },\n        ], callback);\n    }\n    \n    this.show = () => {\n        const names = getActiveNames().join('\\n');\n        \n        if (Info.name === '..' && names.length === 1)\n            return Dialog.alert.noFiles(TITLE);\n        \n        CloudCmd.Edit\n            .getEditor()\n            .setValueFirst('edit-names', names)\n            .setMode()\n            .setOption('keyMap', 'default')\n            .disableKey();\n        \n        DOM.Events.addKey(keyListener);\n        \n        CloudCmd.Edit.show(ConfigView);\n    };\n    \n    function keyListener(event) {\n        const ctrl = event.ctrlKey;\n        const meta = event.metaKey;\n        const ctrlMeta = ctrl || meta;\n        const Key = CloudCmd.Key;\n        \n        if (!ctrlMeta || event.keyCode !== Key.S)\n            return;\n        \n        EditNames.hide();\n    }\n    \n    function getActiveNames() {\n        return DOM.getFilenames(DOM.getActiveFiles());\n    }\n    \n    this.hide = () => {\n        CloudCmd.Edit.hide();\n    };\n    \n    function setListeners() {\n        const element = CloudCmd.Edit.getElement();\n        \n        DOM.Events.addOnce('contextmenu', element, setMenu);\n    }\n    \n    function applyNames() {\n        const dir = Info.dirPath;\n        const from = getActiveNames();\n        const nameIndex = from.indexOf(Info.name);\n        \n        const editor = CloudCmd.Edit.getEditor();\n        const to = editor\n            .getValue()\n            .split('\\n');\n        \n        const root = CloudCmd.config('root');\n        \n        Promise.resolve(root)\n            .then(rename(dir, from, to))\n            .then(refresh(to, nameIndex))\n            .catch(alert);\n    }\n    \n    function _refresh(to, nameIndex, res) {\n        if (res.status === 404)\n            return res.text().then(reject);\n        \n        const currentName = to[nameIndex];\n        \n        CloudCmd.refresh({\n            currentName\n        });\n    }\n    \n    function getDir(root, dir) {\n        if (root === '/')\n            return dir;\n        \n        return root + dir;\n    }\n    \n    function rename(dir, from, to) {\n        return (root) => {\n            return fetch(CloudCmd.PREFIX + '/rename', {\n                method: 'put',\n                credentials: 'include',\n                body: JSON.stringify({\n                    from: from,\n                    to: to,\n                    dir: getDir(root, dir)\n                })\n            });\n        };\n    }\n    \n    function setMenu(event) {\n        const position = {\n            x: event.clientX,\n            y: event.clientY\n        };\n        \n        event.preventDefault();\n        \n        !Menu && DOM.loadRemote('menu', (error) => {\n            MenuIO = window.MenuIO;\n            let noFocus;\n            const editor = CloudCmd.Edit.getEditor();\n            const options = {\n                beforeShow: (params) => {\n                    params.x -= 18;\n                    params.y -= 27;\n                },\n                \n                afterClick: () => {\n                    !noFocus && editor.focus();\n                }\n            };\n            \n            const menuData = {\n                'Save           Ctrl+S' : () => {\n                    editor.save();\n                    EditNames.hide();\n                },\n                'Go To Line     Ctrl+G' : () => {\n                    noFocus = true;\n                    editor.goToLine();\n                },\n                'Cut            Ctrl+X' : () => {\n                    editor.cutToClipboard();\n                },\n                'Copy           Ctrl+C' : () => {\n                    editor.copyToClipboard();\n                },\n                'Paste          Ctrl+V' : () => {\n                    editor.pasteFromClipboard();\n                },\n                'Delete         Del'    : () => {\n                    editor.remove('right');\n                },\n                'Select All     Ctrl+A' : () => {\n                    editor.selectAll();\n                },\n                'Close          Esc'    : () => {\n                    EditNames.hide();\n                }\n            };\n            \n            if (error)\n                return alert(error);\n            \n            if (Menu || !MenuIO)\n                return;\n                \n            const element = CloudCmd.Edit.getElement();\n            \n            Menu = new MenuIO(element, options, menuData);\n            Menu.show(position.x, position.y);\n        });\n    }\n    \n    function isChanged() {\n        const editor = CloudCmd.Edit.getEditor();\n        const msg = 'Apply new names?';\n        \n        if (!editor.isChanged())\n            return;\n        \n        Dialog.confirm(TITLE, msg)\n            .then(EditNames.hide)\n            .then(applyNames)\n            .catch(EditNames.hide);\n    }\n    \n    init(callback);\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/edit-names.js");
/src/dist-dev/modules/edit-names.js-154-
##############################################
/src/dist-dev/modules/edit-file-vim.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/edit-file-vim.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/edit-file-vim.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/edit-file-vim.js-152-"use strict";
/src/dist-dev/modules/edit-file-vim.js:153:eval("\n\n/* global CloudCmd */\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst Events = __webpack_require__(/*! ../dom/events */ \"./client/dom/events.js\");\n\nconst {Key} = CloudCmd;\n\nCloudCmd.EditFileVim = function EditFileVimProto(callback) {\n    const EditFileVim = this;\n    \n    const ConfigView  = {\n        bindKeys: false,\n        beforeClose: () => {\n            Events.rmKey(listener);\n        }\n    };\n    \n    function init(callback) {\n        exec.series([\n            CloudCmd.EditFile,\n            callback || EditFileVim.show,\n        ]);\n    }\n    \n    this.show = () => {\n        Events.addKey(listener);\n        \n        CloudCmd.EditFile\n            .show(ConfigView)\n            .getEditor()\n            .setKeyMap('vim');\n    };\n    \n    this.hide = () => {\n        CloudCmd.Edit.hide();\n    };\n    \n    function listener(event) {\n        const {\n            keyCode,\n            shiftKey,\n        } = event;\n        \n        if (shiftKey && keyCode === Key.ESC) {\n            event.preventDefault();\n            EditFileVim.hide();\n        }\n    }\n    \n    init(callback);\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/edit-file-vim.js");
/src/dist-dev/modules/edit-file-vim.js-154-
##############################################
/src/dist-dev/modules/cloud.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/cloud.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/cloud.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/cloud.js-152-"use strict";
/src/dist-dev/modules/cloud.js:153:eval("/* global CloudCmd, filepicker */\n\n\n\nCloudCmd.Cloud = CloudProto;\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\n\nconst {log} = CloudCmd;\n\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\nconst Files = __webpack_require__(/*! ../dom/files */ \"./client/dom/files.js\");\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\n\nconst upload = currify(_upload);\n\nfunction CloudProto(callback) {\n    loadFiles(callback);\n    \n    return module.exports;\n}\n\nmodule.exports.uploadFile = (filename, data) => {\n    const mimetype = '';\n    \n    filepicker.store(data, {\n        mimetype,\n        filename,\n    }, (fpFile) => {\n        filepicker.exportFile(fpFile, log, log);\n    });\n};\n\nmodule.exports.saveFile = (callback) => {\n    filepicker.pick(upload(callback));\n};\n\nfunction _upload(callback, file) {\n    const {\n        url,\n        filename,\n    } = file;\n    \n    const responseType = 'arraybuffer';\n    const success = exec.with(callback, filename);\n    \n    load.ajax({\n        url,\n        responseType,\n        success,\n    });\n}\n\nfunction loadFiles(callback) {\n    const js = '//api.filepicker.io/v2/filepicker.js';\n    \n    load.js(js, () => {\n        Files.get('modules', (error, modules) => {\n            const {key} = modules.data.FilePicker;\n            \n            filepicker.setKey(key);\n            \n            Images.hide();\n            exec(callback);\n        });\n    });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/cloud.js");
/src/dist-dev/modules/cloud.js-154-
##############################################
/src/dist-dev/modules/edit.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/edit.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/edit.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/edit.js-152-"use strict";
/src/dist-dev/modules/edit.js:153:eval("/* global CloudCmd */\n\n\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\n\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\n\nconst {MAX_FILE_SIZE: maxSize} = __webpack_require__(/*! ../../common/cloudfunc */ \"./common/cloudfunc.js\");\nconst {time, timeEnd} = __webpack_require__(/*! ../../common/util */ \"./common/util.js\");\n\nCloudCmd.Edit = EditProto;\n\nfunction EditProto(callback) {\n    const Name = 'Edit';\n    const EditorName = CloudCmd.config('editor');\n    const loadFiles = currify(_loadFiles);\n    \n    let Loading = true;\n    let Element;\n    let editor;\n    \n    const ConfigView = {\n        afterShow: () => {\n            editor\n                .moveCursorTo(0, 0)\n                .focus();\n        }\n    };\n    \n    const Edit = exec.bind();\n    \n    function init(callback) {\n        const element = createElement();\n        \n        exec.series([\n            CloudCmd.View,\n            loadFiles(element)\n        ], callback);\n    }\n    \n    function createElement() {\n        const element = load({\n            name: 'div',\n            style:\n                'width      : 100%;'                +\n                'height     : 100%;'                +\n                'font-family: \"Droid Sans Mono\";'   +\n                'position   : absolute;',\n            notAppend: true\n        });\n        \n        Element = element;\n        \n        return element;\n    }\n    \n    function checkFn(name, fn) {\n        if (typeof fn !== 'function')\n            throw Error(name + ' should be a function!');\n    }\n    \n    function initConfig(options = {}) {\n        const config = Object.assign({}, options, ConfigView);\n        \n        if (!options.afterShow)\n            return config;\n        \n        checkFn('options.afterShow', options.afterShow);\n        \n        const afterShow = {config};\n        \n        config.afterShow = () => {\n            afterShow();\n            options.afterShow();\n        };\n        \n        return config;\n    }\n    \n    Edit.show = (options) => {\n        if (Loading)\n            return;\n         \n        CloudCmd.View.show(Element, initConfig(options));\n        \n        Edit.getEditor()\n            .setOptions({\n                fontSize: 16,\n            });\n        \n        return Edit;\n    };\n    \n    Edit.getEditor = () => {\n        return editor;\n    };\n    \n    Edit.getElement = () => {\n        return Element;\n    };\n    \n    Edit.hide = () => {\n        CloudCmd.View.hide();\n        return Edit;\n    };\n    \n    function _loadFiles(element, callback) {\n        const socketPath = CloudCmd.PREFIX;\n        const prefix = socketPath + '/' + EditorName;\n        const url = prefix + '/' + EditorName + '.js';\n        \n        time(Name + ' load');\n        \n        load.js(url, () => {\n            const word = window[EditorName];\n            const options = {\n                maxSize,\n                prefix,\n                socketPath,\n            };\n            \n            word(element, options, (ed) => {\n                timeEnd(Name + ' load');\n                editor  = ed;\n                Loading = false;\n                \n                exec(callback);\n            });\n        });\n    }\n    \n    init(callback);\n    \n    return Edit;\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/edit.js");
/src/dist-dev/modules/edit.js-154-
##############################################
/src/dist-dev/modules/edit-file.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/edit-file.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/edit-file.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/edit-file.js-152-"use strict";
/src/dist-dev/modules/edit-file.js:153:eval("\n\n/* global CloudCmd, DOM, MenuIO */\n\nconst Format = __webpack_require__(/*! format-io */ \"./node_modules/format-io/lib/format.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst store = __webpack_require__(/*! fullstore/legacy */ \"./node_modules/fullstore/legacy/index.js\");\nconst squad = __webpack_require__(/*! squad/legacy */ \"./node_modules/squad/legacy/index.js\");\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst call = currify((fn, callback) => {\n    fn();\n    callback();\n});\n\nCloudCmd.EditFile = function EditFileProto(callback) {\n    const Info = DOM.CurrentInfo;\n    const Dialog = DOM.Dialog;\n    const EditFile = exec.bind();\n    const config = CloudCmd.config;\n    \n    let Menu;\n    \n    const TITLE = 'Edit';\n    const Images = DOM.Images;\n    \n    let MSG_CHANGED;\n    const ConfigView  = {\n        beforeClose: () => {\n            exec.ifExist(Menu, 'hide');\n            isChanged();\n        }\n    };\n    \n    function init(callback) {\n        const editor = store();\n        \n        const getMainEditor = () => CloudCmd.Edit.getEditor();\n        const getEditor = squad(editor, getMainEditor);\n        const auth = squad(authCheck, editor);\n        const listeners = squad(setListeners, editor);\n        \n        const show = callback ? exec : EditFile.show;\n        \n        exec.series([\n            CloudCmd.Edit,\n            call(getEditor),\n            call(auth),\n            call(listeners),\n            show,\n        ], callback);\n    }\n    \n    function getName() {\n        const {name, isDir} = Info;\n        \n        if (isDir)\n            return `${name}.json`;\n        \n        return name;\n    }\n    \n    EditFile.show = (options) => {\n        const config = Object.assign({}, ConfigView, options);\n        \n        Images.show.load();\n        \n        CloudCmd.Edit\n            .getEditor()\n            .setOption('keyMap', 'default');\n        \n        Info.getData((error, data) => {\n            const path = Info.path;\n            const name = getName();\n            \n            if (error)\n                return Images.hide();\n            \n            setMsgChanged(name);\n            \n            CloudCmd.Edit\n                .getEditor()\n                .setValueFirst(path, data)\n                .setModeForPath(name)\n                .enableKey();\n            \n            CloudCmd.Edit.show(config);\n        });\n        \n        return CloudCmd.Edit;\n    };\n    \n    EditFile.hide = () => {\n        CloudCmd.Edit.hide();\n    };\n    \n    function setListeners(editor) {\n        const element = CloudCmd.Edit.getElement();\n        \n        DOM.Events.addOnce('contextmenu', element, setMenu);\n        \n        editor.on('save', (value) => {\n            DOM.setCurrentSize(Format.size(value));\n        });\n    }\n    \n    function authCheck(spawn) {\n        spawn.emit('auth', config('username'), config('password'));\n        spawn.on('reject', () => {\n            Dialog.alert(TITLE, 'Wrong credentials!');\n        });\n    }\n    \n    function setMenu(event) {\n        const position = {\n            x: event.clientX,\n            y: event.clientY\n        };\n        \n        event.preventDefault();\n        \n        !Menu && DOM.loadRemote('menu', (error) => {\n            let noFocus;\n            const editor = CloudCmd.Edit.getEditor();\n            const options = {\n                beforeShow: (params) => {\n                    params.x -= 18;\n                    params.y -= 27;\n                },\n                \n                afterClick: () => {\n                    !noFocus && editor.focus();\n                }\n            };\n            \n            const menuData = {\n                'Save           Ctrl+S' : () => {\n                    editor.save();\n                },\n                'Go To Line     Ctrl+G' : () => {\n                    noFocus = true;\n                    editor.goToLine();\n                },\n                'Cut            Ctrl+X' : () => {\n                    editor.cutToClipboard();\n                },\n                'Copy           Ctrl+C' : () => {\n                    editor.copyToClipboard();\n                },\n                'Paste          Ctrl+V' : () => {\n                    editor.pasteFromClipboard();\n                },\n                'Delete         Del'    : () => {\n                    editor.remove('right');\n                },\n                'Select All     Ctrl+A' : () => {\n                    editor.selectAll();\n                },\n                'Beautify       Ctrl+B' : () => {\n                    editor.beautify();\n                },\n                'Minify         Ctrl+M' : () => {\n                    editor.minify();\n                },\n                'Close          Esc'    : () => {\n                    EditFile.hide();\n                }\n            };\n            \n            if (error)\n                return Dialog.alert(TITLE, error);\n            \n            if (Menu || !MenuIO)\n                return;\n                \n            const element = CloudCmd.Edit.getElement();\n            \n            Menu = new MenuIO(element, options, menuData);\n            Menu.show(position.x, position.y);\n        });\n    }\n    \n    function setMsgChanged(name) {\n        MSG_CHANGED = 'Do you want to save changes to ' + name + '?';\n    }\n    \n    function isChanged() {\n        const editor = CloudCmd.Edit.getEditor();\n        const is = editor.isChanged();\n        \n        if (!is)\n            return;\n        \n        const cancel = false;\n        Dialog.confirm(TITLE, MSG_CHANGED, {cancel})\n            .then(() => {\n                editor.save();\n            });\n    }\n    \n    init(callback);\n    \n    return EditFile;\n};\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/edit-file.js");
/src/dist-dev/modules/edit-file.js-154-
##############################################
/src/dist-dev/modules/markdown.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/markdown.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/markdown.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/markdown.js-152-"use strict";
/src/dist-dev/modules/markdown.js:153:eval("\n\n/*global CloudCmd */\n\nCloudCmd.Markdown = MarkdownProto;\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\nconst {Markdown} = __webpack_require__(/*! ../dom/rest */ \"./client/dom/rest.js\");\n\nfunction MarkdownProto(name, options) {\n    Images.show.load('top');\n    \n    exec.series([\n        CloudCmd.View,\n        exec.with(show, name, options),\n    ]);\n    \n    return module.exports;\n}\n\nmodule.exports.show = show;\n\nmodule.exports.hide = () => {\n    CloudCmd.View.hide();\n};\n\n\nfunction show(name, options = {}) {\n    const relativeQuery = '?relative';\n    const {\n        positionLoad,\n        relative,\n    } = options;\n    \n    Images.show.load(positionLoad);\n    \n    if (relative)\n        name += relativeQuery;\n    \n    Markdown.read(name, (error, inner) => {\n        const name = 'div';\n        const className = 'help';\n        \n        const div = load({\n            name,\n            className,\n            inner,\n        });\n        \n        Images.hide();\n        \n        CloudCmd.View.show(div);\n    });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/markdown.js");
/src/dist-dev/modules/markdown.js-154-
##############################################
/src/dist-dev/modules/terminal.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/terminal.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/terminal.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/terminal.js-152-"use strict";
/src/dist-dev/modules/terminal.js:153:eval("\n\n/* global CloudCmd, gritty */\n\n__webpack_require__(/*! ../../css/terminal.css */ \"./css/terminal.css\");\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\nconst DOM = __webpack_require__(/*! ../dom */ \"./client/dom/index.js\");\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\nconst {Dialog} = DOM;\n\nconst TITLE = 'Terminal';\n\nCloudCmd.Terminal = TerminalProto;\n\nconst {Key} = CloudCmd;\n\nlet Element;\nlet Loaded;\nlet Terminal;\n\nconst {config} = CloudCmd;\n\nfunction TerminalProto() {\n    const noop = () => {};\n    \n    if (!config('terminal'))\n        return {\n            show: noop\n        };\n    \n    Images.show.load('top');\n    \n    exec.series([\n        CloudCmd.View,\n        loadAll,\n        create,\n        show,\n    ]);\n    \n    Element = load({\n        name: 'div',\n        className : 'terminal',\n    });\n    \n    return module.exports;\n}\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nfunction hide () {\n    CloudCmd.View.hide();\n}\n\nfunction getPrefix() {\n    return CloudCmd.PREFIX + '/gritty';\n}\n\nfunction getEnv() {\n    return {\n        ACTIVE_DIR: DOM.getCurrentDirPath,\n        PASSIVE_DIR: DOM.getNotCurrentDirPath,\n        CURRENT_NAME: DOM.getCurrentName,\n        CURRENT_PATH: DOM.getCurrentPath,\n    };\n}\n\nfunction create(callback) {\n    const options = {\n        env: getEnv(),\n        prefix: getPrefix(),\n        socketPath: CloudCmd.PREFIX,\n    };\n    \n    const {socket, terminal} = gritty(Element, options);\n    \n    Terminal = terminal;\n    \n    terminal.on('key', (char, {keyCode, shiftKey}) => {\n        if (shiftKey && keyCode === Key.ESC) {\n            hide();\n        }\n    });\n    \n    socket.on('connect', exec.with(authCheck, socket));\n    exec(callback);\n}\n\nfunction authCheck(spawn) {\n    spawn.emit('auth', config('username'), config('password'));\n    \n    spawn.on('reject', () => {\n        Dialog.alert(TITLE, 'Wrong credentials!');\n    });\n}\n\nfunction show(callback) {\n    if (!Loaded)\n        return;\n    \n    CloudCmd.View.show(Element, {\n        afterShow: () => {\n            if (Terminal)\n                Terminal.focus();\n            \n            exec(callback);\n        }\n    });\n}\n\nfunction loadAll(callback) {\n    const prefix = getPrefix();\n    const url = prefix + '/gritty.js';\n    \n    DOM.load.js(url, (error) => {\n        if (error)\n            return Dialog.alert(TITLE, error.message);\n        \n        Loaded = true;\n        exec(callback);\n    });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/terminal.js");
/src/dist-dev/modules/terminal.js-154-
##############################################
/src/dist-dev/modules/terminal.js-163-
/src/dist-dev/modules/terminal.js:164:eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=file://cloudcmd/css/terminal.css");
/src/dist-dev/modules/terminal.js-165-
##############################################
/src/dist-dev/modules/upload.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/upload.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/upload.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/upload.js-152-"use strict";
/src/dist-dev/modules/upload.js:153:eval("/* global CloudCmd, DOM */\n\n\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\n\nconst load = __webpack_require__(/*! ../dom/load */ \"./client/dom/load.js\");\nconst Files = __webpack_require__(/*! ../dom/files */ \"./client/dom/files.js\");\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\nconst uploadFiles = __webpack_require__(/*! ../dom/upload-files */ \"./client/dom/upload-files.js\");\n\nCloudCmd.Upload = UploadProto;\n\nfunction UploadProto() {\n    Images.show.load('top');\n    \n    exec.series([\n        CloudCmd.View,\n        show\n    ]);\n    \n    return exports;\n}\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nfunction show() {\n    Images.show.load('top');\n    \n    Files.get('upload', (error, data) => {\n        const autoSize = true;\n        \n        CloudCmd.View.show(data, {\n            autoSize,\n            afterShow,\n        });\n    });\n    \n    const fontFamily = [\n        '\"Droid Sans Mono\"',\n        '\"Ubuntu Mono\"',\n        '\"Consolas\"',\n        'monospace'\n    ].join(', ');\n    \n    load.style({\n        id      : 'upload-css',\n        inner   : '[data-name=js-upload-file-button] {' +\n                      `font-family: ${fontFamily};`     +\n                      'font-size: 20px;'                +\n                      'width: 97%'                      +\n                '}'\n    });\n}\n\nfunction hide() {\n    CloudCmd.View.hide();\n}\n\nfunction afterShow() {\n    const button = DOM.getByDataName('js-upload-file-button');\n    \n    Images.hide();\n    \n    DOM.Events.add('change', button, ({target}) => {\n        const {files} = target;\n        \n        hide();\n        \n        uploadFiles(files);\n    });\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/upload.js");
/src/dist-dev/modules/upload.js-154-
##############################################
/src/dist-dev/modules/konsole.js-53-/******/ 	// object to store loaded and loading chunks
/src/dist-dev/modules/konsole.js:54:/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/src/dist-dev/modules/konsole.js-55-/******/ 	// Promise = chunk loading, 0 = chunk loaded
##############################################
/src/dist-dev/modules/konsole.js-152-"use strict";
/src/dist-dev/modules/konsole.js:153:eval("\n\n/* global CloudCmd */\n/* global Util */\n/* global DOM */\n/* global Console */\n\nconst exec = __webpack_require__(/*! execon */ \"./node_modules/execon/lib/exec.js\");\nconst currify = __webpack_require__(/*! currify/legacy */ \"./node_modules/currify/legacy/index.js\");\nconst Images = __webpack_require__(/*! ../dom/images */ \"./client/dom/images.js\");\nconst {\n    Dialog,\n    CurrentInfo:Info,\n} = DOM;\n\nconst rmLastSlash = (a) => a.replace(/\\/$/, '') || '/';\n\nCloudCmd.Konsole = ConsoleProto;\n\nfunction ConsoleProto() {\n    let konsole;\n    const {config} = CloudCmd;\n    \n    const noop = () => {};\n    const cd = currify((fn, dir) => fn(`cd ${rmLastSlash(dir)}`));\n    \n    if (!config('console'))\n        return {\n            show: noop\n        };\n    \n    const Name = 'Konsole';\n    const TITLE = 'Console';\n    \n    let Element;\n    let Loaded;\n    \n    const Konsole = this;\n    \n    function init() {\n        Images.show.load('top');\n        \n        exec.series([\n            CloudCmd.View,\n            load,\n            create,\n            Konsole.show,\n        ]);\n        \n        Element = DOM.load({\n            name        : 'div',\n            className   : 'console'\n        });\n    }\n    \n    this.hide = () => {\n        CloudCmd.View.hide();\n    };\n    \n    this.clear = () => {\n        konsole.clear();\n    };\n    \n    function getPrefix() {\n        return CloudCmd.PREFIX + '/console';\n    }\n    \n    function getEnv() {\n        return {\n            ACTIVE_DIR: DOM.getCurrentDirPath.bind(DOM),\n            PASSIVE_DIR: DOM.getNotCurrentDirPath.bind(DOM),\n            CURRENT_NAME: DOM.getCurrentName.bind(DOM),\n            CURRENT_PATH: () => {\n                return Info.path;\n            }\n        };\n    }\n    \n    function onPath(path) {\n        if (Info.dirPath === path)\n            return;\n        \n        CloudCmd.loadDir({\n            path,\n        });\n    }\n    \n    const getDirPath = () => {\n        if (config('syncConsolePath'))\n            return Info.dirPath;\n    };\n    \n    function create(callback) {\n        const options = {\n            cwd: getDirPath(),\n            env: getEnv(),\n            prefix: getPrefix(),\n            socketPath: CloudCmd.PREFIX,\n        };\n        \n        konsole = Console(Element, options, (spawn) => {\n            spawn.on('connect', exec.with(authCheck, spawn));\n            spawn.on('path', config.if('syncConsolePath', onPath));\n            \n            CloudCmd.on('active-dir', config.if('syncConsolePath', cd(spawn.handler)));\n            \n            exec(callback);\n        });\n        \n        konsole.addShortCuts({\n            'P': () => {\n                const command = Console.getPromptText();\n                const path = DOM.getCurrentDirPath();\n                \n                Console.setPromptText(command + path);\n            }\n        });\n    }\n    \n    function authCheck(spawn) {\n        spawn.emit('auth', config('username'), config('password'));\n        \n        spawn.on('reject', () => {\n            Dialog.alert(TITLE, 'Wrong credentials!');\n        });\n    }\n    \n    this.show = (callback) => {\n        if (!Loaded)\n            return;\n        \n        CloudCmd.View.show(Element, {\n            afterShow: () => {\n                konsole.focus();\n                exec(callback);\n            }\n        });\n    };\n    \n    function load(callback) {\n        const prefix = getPrefix();\n        const url = prefix + '/console.js';\n        \n        DOM.load.js(url, (error) => {\n            if (error)\n                return Dialog.alert(TITLE, error.message);\n            \n            Loaded = true;\n            Util.timeEnd(Name + ' load');\n            exec(callback);\n        });\n        \n        Util.time(Name + ' load');\n    }\n    \n    init();\n}\n\n\n\n//# sourceURL=file://cloudcmd/client/modules/konsole.js");
/src/dist-dev/modules/konsole.js-154-
##############################################
/src/HELP.md-482-
/src/HELP.md:483:const server = http.createServer(app);
/src/HELP.md-484-const socket = io.listen(server, {
##############################################
/src/dist/cloudcmd.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/key/key.js","file://cloudcmd/client/sort.js","file://cloudcmd/client/key/set-current-by-char.js","file://cloudcmd/client/key/vim/find.js","file://cloudcmd/client/key/vim/index.js","file://cloudcmd/client/key/index.js","file://cloudcmd/client/listeners/get-index.js","file://cloudcmd/client/listeners/get-range.js","file://cloudcmd/client/listeners/index.js","file://cloudcmd/client/dom/dialog.js","file://cloudcmd/client/client.js","file://cloudcmd/client/cloudcmd.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","17","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","BACKSPACE","TAB","ENTER","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","INSERT","DELETE","ZERO","SEMICOLON","COLON","A","C","D","G","J","K","M","O","Q","R","S","T","U","V","X","Z","INSERT_MAC","ASTERISK","PLUS","MINUS","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","EQUAL","HYPHEN","DOT","SLASH","TRA","BACKSLASH","BRACKET_CLOSE","DOM","Info","CurrentInfo","sort","CloudCmd","order","position","getPanelPosition","sortPrevious","getPanel","sortPanel","panel","arguments","undefined","dataset","replace","noCurrent","panelPosition","refresh","escapeRegExp","char","charStore","firstByName","skipCount","setted","escapeChar","regExp","RegExp","files","chars","skipN","concat","f","getFilenames","filter","a","test","some","byName","getCurrentByName","setCurrentFile","fullstore","limier","searchStore","searchIndex","next","index","previous","find","names","map","getCurrentName","setCurrentByName","findNext","findPrevious","_next","_previous","KEY","Dialog","store","visual","stopVisual","end","rmFirst","split","join","move","sibling","_ref","max","current","prevStore","isDelete","parseInt","isNaN","_ref2","select","selectFile","unselectFile","setCurrent","Operation","show","key","event","element","keyCode","unselectFiles","Infinity","Buffer","copy","paste","toggleSelectedFile","preventDefault","prompt","cancel","then","exec","Events","vim","setCurrentByChar","Chars","KeyProto","Binded","Key","this","getChar","keyIdentifier","code","substring","hex","String","fromCharCode","listener","alt","altKey","ctrl","ctrlKey","shiftKey","meta","metaKey","isBetween","isNumpad","isSymbol","indexOf","getSymbol","isBind","isVim","config","isSelected","prev","path","isDir","ctrlMeta","previousSibling","nextSibling","changePanel","toggleAllSelectedFiles","expandSelection","shrinkSelection","Help","renameCurrent","Markdown","View","EditFileVim","EditFile","promptNewFile","promptNewDir","Menu","Config","Terminal","Konsole","if","callback","loadCurrentSize","swapPanels","getAttribute","duplicatePanel","first","last","scrollByPages","loadDir","goToParentDir","selectAllFiles","goToDirectory","EditNames","log","cut","clear","Storage","switchKey","setBind","unsetBind","addKey","array","item","indexFrom","indexTo","itype","currify","getRange","getIndex","uploadFiles","FS","apiURL","init","fm","panels","onDrop","onDragOver","getFM","addOnce","x","clientX","y","clientY","addContextMenu","ENABLED","getByClassAll","dataTransfer","items","filesCount","webkitGetAsEntry","dirFiles","_toConsumableArray","kind","uploadDirectory","_CloudCmd","operation","effectAllowed","dropEffect","add","forEach","classList","remove","state","route","location","hash","history","is","innerWidth","MIN_ONE_PANEL_WIDTH","isEmptyRoot","isLeft","Files","e","type","packer","EXT","getPackerExt","isDataset","el","isPanel","addClick","target","parent","parentElement","getPath","pop","header","Listeners","execAll","funcs","fn","EventsFiles","mousedown","with","execIfNotUL","getLIElement","fromName","toName","from","to","getAllFiles","getNameIndex","getFilesRange","button","isMac","navigator","platform","Error","file","_slicedToArray","toggleSelect","click","getByDataName","tagName","getULElement","dragstart","link","getCurrentLink","document","createElement","textContent","href","setData","dblclick","isCurrentIsDir","getCurrentPath","touchstart","isCurrentFile","initKeysPanel","keysElement","getById","id","clickFuncs","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","~","shift~","contact","Contact","isNoCurrent","infoPanel","setOnPanel","side","string","filesElement","pathElement","url","prefix","PREFIX","HOST","decodeURI","isRefresh","getPathListener","htmlDialogs","js","jsName","Promise","getJsName","ext","load","parallel","alert","title","message","smalltalk","options","confirm","noFiles","Emitify","inherits","rendy","Images","jonny","_len","Array","_key","formatMsg","buildFromJSON","CloudCmdProto","Util","Debug","str","console","PREFIX_URL","DIRCLIENT","DIRCLIENT_MODULES","origin","protocol","host","TITLE","left","right","enable","disable","kebabToCamelCase","loadModule","params","func","funcName","doBefore","dobefore","_len2","args","_key2","pathFull","error","Proto","function","constructor","F","applyConstructor","loadPlugins","plugins","initModules","showLoad","edit","menu","local","baseInit","getFiles","on","updateCurrentInfo","dirPath","getCurrentDirPath","getPanels","size","getCurrentSize","owner","getCurrentOwner","mode","getCurrentMode","date","getCurrentDate","set","createFileTable","json","panelParam","templFile","templPath","templLink","templPathLink","dir","responseText","childNodes","removeChild","lastChild","innerHTML","template","pathLink","emit","currentName","panelChanged","imgPosition","create","RESTful","obj","parse","query","read","ajaxLoad","series","_config","setAllowed","onePanelMode","body","scrollIntoViewIfNeeded","src","loadJquery","urls","isArray","noPrefixUrls","kebabModule","execFromModule","msg","logOut","ajax","reload","moduleName","_len3","_key3","isObj","parentDirPath","CloudFunc","getPrefix"],"mappings":"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","file":"cloudcmd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t17: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([80,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\nmodule.exports = {\n    BACKSPACE   : 8,\n    TAB         : 9,\n    ENTER       : 13,\n    ESC         : 27,\n    \n    SPACE       : 32,\n    PAGE_UP     : 33,\n    PAGE_DOWN   : 34,\n    END         : 35,\n    HOME        : 36,\n    \n    LEFT        : 37,\n    UP          : 38,\n    RIGHT       : 39,\n    DOWN        : 40,\n    \n    INSERT      : 45,\n    DELETE      : 46,\n    \n    ZERO        : 48,\n    \n    SEMICOLON   : 52,\n    \n    COLON       : 54,\n    \n    A           : 65,\n    \n    C           : 67,\n    D           : 68,\n    \n    G           : 71,\n    \n    J           : 74,\n    K           : 75,\n    \n    M           : 77,\n    \n    O           : 79,\n    Q           : 81,\n    R           : 82,\n    S           : 83,\n    T           : 84,\n    U           : 85,\n    \n    V           : 86,\n    \n    X           : 88,\n    \n    Z           : 90,\n    \n    INSERT_MAC  : 96,\n    \n    ASTERISK    : 106,\n    PLUS        : 107,\n    MINUS       : 109,\n    \n    F1          : 112,\n    F2          : 113,\n    F3          : 114,\n    F4          : 115,\n    F5          : 116,\n    F6          : 117,\n    F7          : 118,\n    F8          : 119,\n    F9          : 120,\n    F10         : 121,\n    \n    EQUAL       : 187,\n    HYPHEN      : 189,\n    DOT         : 190,\n    SLASH       : 191,\n    TRA         : 192, /* Typewritten Reverse Apostrophe (`) */\n    BACKSLASH   : 220,\n    \n    BRACKET_CLOSE: 221\n};\n\n","'use strict';\n\n/* global CloudCmd */\nconst DOM = require('./dom');\n\nconst Info = DOM.CurrentInfo;\nconst sort = CloudCmd.sort;\nconst order = CloudCmd.order;\nconst position = DOM.getPanelPosition();\n\nlet sortPrevious = sort[position];\n\nconst {getPanel} = DOM;\n\nCloudCmd.sortPanel = (name, panel = getPanel()) => {\n    const position = panel\n        .dataset\n        .name\n        .replace('js-', '');\n    \n    if (name !== sortPrevious) {\n        order[position] = 'asc';\n    } else {\n        if (order[position] === 'asc')\n            order[position] = 'desc';\n        else\n            order[position] = 'asc';\n    }\n    \n    sortPrevious =\n    sort[position] = name;\n    \n    const noCurrent = position !== Info.panelPosition;\n    \n    CloudCmd.refresh({\n        panel,\n        noCurrent,\n    });\n};\n\n","/* global DOM */\n\n'use strict';\n\nconst Info = DOM.CurrentInfo;\nconst {escapeRegExp} = require('../../common/util');\n\nmodule.exports = function setCurrentByChar(char, charStore) {\n    let firstByName;\n    let skipCount = 0;\n    let setted = false;\n    let i = 0;\n    \n    const escapeChar = escapeRegExp(char);\n    const regExp = new RegExp('^' + escapeChar + '.*$', 'i');\n    const {files} = Info;\n    const chars = charStore();\n    const n = chars.length;\n    \n    while(i < n && char === chars[i])\n        i++;\n    \n    if (!i)\n        charStore([]);\n    \n    const skipN = skipCount = i;\n    \n    charStore(charStore().concat(char));\n    \n    const names = DOM.getFilenames(files);\n    const isTest = (a) => regExp.test(a);\n    const isRoot = (a) => a === '..';\n    const not = (f) => (a) => !f(a);\n    const setCurrent = (name) => {\n        const byName = DOM.getCurrentByName(name);\n        \n        if (!skipCount) {\n            setted = true;\n            DOM.setCurrentFile(byName);\n            return true;\n        } else {\n            if (skipN === skipCount)\n                firstByName = byName;\n            \n            --skipCount;\n        }\n    };\n    \n    names\n        .filter(isTest)\n        .filter(not(isRoot))\n        .some(setCurrent);\n    \n    if (!setted) {\n        DOM.setCurrentFile(firstByName);\n        charStore([char]);\n    }\n};\n\n","'use strict';\n/* global DOM */\n\nconst fullstore = require('fullstore/legacy');\nconst limier = require('limier/legacy');\nconst Info = DOM.CurrentInfo;\n\nconst searchStore = fullstore([]);\nconst searchIndex = fullstore(0);\n\nmodule.exports.find = (value) => {\n    const names = Info.files.map(DOM.getCurrentName);\n    const result = limier(value, names);\n    \n    searchStore(result);\n    searchIndex(0);\n    \n    DOM.setCurrentByName(result[0]);\n};\n\nmodule.exports.findNext = () => {\n    const names = searchStore();\n    const index = next(searchIndex(), names.length);\n    \n    searchIndex(index);\n    DOM.setCurrentByName(names[searchIndex()]);\n};\n\nmodule.exports.findPrevious = () => {\n    const names = searchStore();\n    const index = previous(searchIndex(), names.length);\n    \n    searchIndex(index);\n    DOM.setCurrentByName(names[index]);\n};\n\nmodule.exports._next = next;\nmodule.exports._previous = previous;\n\nfunction next(index, length) {\n    if (index === length - 1)\n        return 0;\n    \n    return ++index;\n}\n\nfunction previous(index, length) {\n    if (!index)\n        return length - 1;\n    \n    return --index;\n}\n\n","'use strict';\n/* global CloudCmd, DOM */\n\nconst KEY = require('../key');\nconst Info = DOM.CurrentInfo;\nconst Dialog = DOM.Dialog;\n\nconst fullstore = require('fullstore/legacy');\nconst store = fullstore('');\nconst visual = fullstore(false);\nconst {\n    find,\n    findNext,\n    findPrevious,\n} = require('./find');\n\nconst TITLE = 'Cloud Commander';\n\nconst stopVisual = () => {\n    visual(false);\n};\n\nconst end = () => {\n    store('');\n};\n\nconst rmFirst = (a) => {\n    return a\n        .split('')\n        .slice(1)\n        .join('');\n};\n\nmodule.exports = (key, event) => {\n    const current = Info.element;\n    const keyCode = event.keyCode;\n    const prevStore = store();\n    \n    const value = store(prevStore.concat(key));\n    \n    if (keyCode === KEY.ENTER)\n        return end();\n    \n    if (keyCode === KEY.ESC) {\n        DOM.unselectFiles();\n        visual(false);\n        return end();\n    }\n    \n    if (key === 'j') {\n        move('next', {\n            prevStore,\n            current,\n        });\n        \n        return end();\n    }\n    \n    if (key === 'k') {\n        move('previous', {\n            prevStore,\n            current,\n        });\n        \n        return end();\n    }\n    \n    if (/gg/.test(value)) {\n        move('previous', {\n            current,\n            prevStore,\n            max: Infinity,\n        });\n        \n        return end();\n    }\n    \n    if (key === 'd' && (visual() || prevStore === 'd')) {\n        CloudCmd.Operation.show('delete');\n        stopVisual();\n        return end();\n    }\n    \n    if (key === 'G') {\n        move('next', {\n            current,\n            prevStore,\n            max: Infinity,\n        });\n        \n        return end();\n    }\n    \n    if (key === 'y') {\n        if (!visual())\n            return end();\n        \n        DOM.Buffer.copy();\n        stopVisual();\n        DOM.unselectFiles();\n        return end();\n    }\n    \n    if (/^p$/i.test(key)) {\n        DOM.Buffer.paste();\n        return end();\n    }\n    \n    if (/^v$/i.test(key)) {\n        DOM.toggleSelectedFile(current);\n        visual(!visual());\n        \n        return end();\n    }\n    \n    if (key === '/') {\n        event.preventDefault();\n        \n        Dialog.prompt(TITLE, 'Find', '', {cancel: false})\n            .then(find);\n       \n        return end();\n    }\n    \n    if (key === 'n') {\n        findNext();\n        return end();\n    }\n    \n    if (key === 'N') {\n        findPrevious();\n        return end();\n    }\n};\n\nmodule.exports.selectFile = selectFile;\n\nfunction move(sibling, {max, current, prevStore}) {\n    const isDelete = prevStore[0] === 'd';\n    \n    if (isDelete) {\n        visual(true);\n        prevStore = rmFirst(prevStore);\n    }\n    \n    const n = max || getNumber(prevStore);\n    \n    if (isNaN(n))\n        return;\n    \n    setCurrent({\n        n,\n        current,\n        sibling,\n        visual: visual(),\n    });\n    \n    if (isDelete)\n        CloudCmd.Operation.show('delete');\n}\n\nfunction getNumber(value) {\n    if (!value)\n        return 1;\n    \n    if (value === 'g')\n        return 1;\n    \n    return parseInt(value);\n}\n\nfunction selectFile(current) {\n    const name = DOM.getCurrentName(current);\n    \n    if (name === '..')\n        return;\n    \n    DOM.selectFile(current);\n}\n\nfunction setCurrent({n, current, visual, sibling}) {\n    const select = visual ? selectFile : DOM.unselectFile;\n    \n    select(current);\n    \n    const position = `${sibling}Sibling`;\n    for (let i = 0; i < n; i++) {\n        const next = current[position];\n        \n        if (!next)\n            break;\n        \n        current = next;\n        select(current);\n    }\n    \n    DOM.setCurrentFile(current);\n}\n\n","/* global CloudCmd, DOM */\n\n'use strict';\n\nconst Info = DOM.CurrentInfo;\n\nconst exec = require('execon');\n\nconst Events = require('../dom/events');\nconst Buffer = require('../dom/buffer');\nconst KEY = require('./key');\nconst vim = require('./vim');\nconst setCurrentByChar = require('./set-current-by-char');\nconst fullstore = require('fullstore/legacy');\nconst Chars = fullstore();\n\nChars([]);\n\nKeyProto.prototype = KEY;\nCloudCmd.Key = KeyProto;\n\nfunction KeyProto() {\n    let Binded;\n    \n    const Key = this;\n    \n    this.isBind = () => {\n        return Binded;\n    };\n    \n    this.setBind = () => {\n        Binded = true;\n    };\n    \n    this.unsetBind = () => {\n        Binded = false;\n    };\n    \n    this.bind = () => {\n        Events.addKey(listener);\n        Binded = true;\n    };\n    \n    function getChar(event) {\n        /*\n          * event.keyIdentifier deprecated in chrome v51\n          * but event.key is absent in chrome <= v51\n          */\n        \n        if (event.key)\n            return event.key;\n        \n        return fromCharCode(event.keyIdentifier);\n    }\n    \n    function listener(event) {\n        const keyCode = event.keyCode;\n        const alt = event.altKey;\n        const ctrl = event.ctrlKey;\n        const shift = event.shiftKey;\n        const meta = event.metaKey;\n        const isBetween = keyCode >= KEY.ZERO && keyCode <= KEY.Z;\n        const isNumpad = /Numpad/.test(event.code);\n        \n        let char = getChar(event);\n        let isSymbol = ~['.', '_', '-', '+', '='].indexOf(char);\n        \n        if (!isSymbol) {\n            isSymbol = getSymbol(shift, keyCode);\n            \n            if (isSymbol)\n                char = isSymbol;\n        }\n        \n        if (!Key.isBind())\n            return;\n        \n        const isVim = CloudCmd.config('vim');\n        \n        if (!isVim && !isNumpad && !alt && !ctrl && !meta && (isBetween || isSymbol))\n            return setCurrentByChar(char, Chars);\n        \n        Chars([]);\n        switchKey(event);\n        \n        if (isVim)\n            vim(char, event);\n    }\n    \n    function getSymbol(shift, keyCode) {\n        switch (keyCode) {\n        case KEY.DOT:\n            return '.';\n        \n        case KEY.HYPHEN:\n            return shift ? '_' : '-';\n        \n        case KEY.EQUAL:\n            return shift ? '+' : '=';\n        }\n    }\n    \n    function fromCharCode(keyIdentifier) {\n        const code = keyIdentifier.substring(2);\n        const hex = parseInt(code, 16);\n        const char = String.fromCharCode(hex);\n        \n        return char;\n    }\n    \n    function switchKey(event) {\n        let i, isSelected, prev, next;\n        let current = Info.element;\n        let dataName;\n        \n        const name = Info.name;\n        \n        const {Operation} = CloudCmd;\n        const panel = Info.panel;\n        const path = Info.path;\n        const isDir = Info.isDir;\n        \n        const keyCode = event.keyCode;\n        const alt = event.altKey;\n        const shift = event.shiftKey;\n        const ctrl = event.ctrlKey;\n        const meta = event.metaKey;\n        const ctrlMeta = ctrl || meta;\n        \n        if (current) {\n            prev = current.previousSibling;\n            next = current.nextSibling;\n        }\n        \n        switch (keyCode) {\n        case Key.TAB:\n            DOM.changePanel();\n            event.preventDefault();\n            break;\n        \n        case Key.INSERT:\n            DOM .toggleSelectedFile(current)\n                .setCurrentFile(next);\n            break;\n        \n        case Key.INSERT_MAC:\n            DOM .toggleSelectedFile(current)\n                .setCurrentFile(next);\n            break;\n        \n        case Key.DELETE:\n            if (shift)\n                Operation.show('delete:silent');\n            else\n                Operation.show('delete');\n            break;\n        \n        case Key.ASTERISK:\n            DOM.toggleAllSelectedFiles(current);\n            break;\n        \n        case Key.PLUS:\n            DOM.expandSelection();\n            event.preventDefault();\n            break;\n        \n        case Key.MINUS:\n            DOM.shrinkSelection();\n            event.preventDefault();\n            break;\n        \n        case Key.F1:\n            CloudCmd.Help.show();\n            event.preventDefault();\n            break;\n        \n        case Key.F2:\n            DOM.renameCurrent(current);\n            break;\n            \n        case Key.F3:\n            if (shift)\n                CloudCmd.Markdown.show(path);\n            else if (ctrlMeta)\n                CloudCmd.sortPanel('name');\n            else\n                CloudCmd.View.show();\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F4:\n            if (shift)\n                CloudCmd.EditFileVim.show();\n            else\n                CloudCmd.EditFile.show();\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F5:\n            if (ctrlMeta)\n                CloudCmd.sortPanel('date');\n            else if (alt)\n                Operation.show('pack');\n            else\n                Operation.show('copy');\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F6:\n            if (ctrlMeta)\n                CloudCmd.sortPanel('size');\n            else\n                Operation.show('move');\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F7:\n            if (shift)\n                DOM.promptNewFile();\n            else\n                DOM.promptNewDir();\n            \n            event.preventDefault();\n            break;\n        \n        case Key.F8:\n            Operation.show('delete');\n            event.preventDefault();\n            break;\n        \n        case Key.F9:\n            if (alt)\n                Operation.show('extract');\n            else\n                CloudCmd.Menu.show();\n            event.preventDefault();\n            break;\n        \n        case Key.F10:\n            CloudCmd.Config.show();\n            event.preventDefault();\n            break;\n        \n        case Key.TRA:\n            event.preventDefault();\n            \n            if (shift)\n                return CloudCmd.Terminal.show();\n            \n            CloudCmd.Konsole.show();\n            break;\n        \n        case KEY.BRACKET_CLOSE:\n            CloudCmd.Konsole.show();\n            event.preventDefault();\n            break;\n        \n        case Key.SPACE:\n            if (!isDir || name === '..')\n                isSelected = true;\n            else\n                isSelected = DOM.isSelected(current);\n            \n            exec.if(isSelected, () => {\n                DOM.toggleSelectedFile(current);\n            }, (callback) => {\n                DOM.loadCurrentSize(callback, current);\n            });\n            \n            event.preventDefault();\n            break;\n        \n        case Key.U:\n            if (ctrlMeta) {\n                DOM.swapPanels();\n                event.preventDefault();\n            }\n            break;\n        \n        /* navigation on file table:        *\n         * in case of pressing button 'up', *\n         * select previous row              */\n        case Key.UP:\n            if (shift)\n                DOM.toggleSelectedFile(current);\n            \n            DOM.setCurrentFile(prev);\n            event.preventDefault();\n            break;\n        \n        /* in case of pressing button 'down', *\n         * select next row                    */\n        case Key.DOWN:\n            if (shift)\n                DOM.toggleSelectedFile(current);\n            \n            DOM.setCurrentFile(next);\n            event.preventDefault();\n            break;\n        \n        case Key.LEFT:\n            if (!alt)\n                return;\n            \n            event.preventDefault();\n            \n            dataName = Info.panel.getAttribute('data-name');\n            \n            if (dataName === 'js-right')\n                DOM.duplicatePanel();\n            \n            break;\n        \n        case Key.RIGHT:\n            if (!alt)\n                return;\n           \n            event.preventDefault();\n            \n            dataName = Info.panel.getAttribute('data-name');\n            \n            if (dataName === 'js-left')\n                DOM.duplicatePanel();\n            \n            break;\n        \n        /* in case of pressing button 'Home',  *\n         * go to top element                   */\n        case Key.HOME:\n            DOM.setCurrentFile(Info.first);\n            event.preventDefault();\n            break;\n        \n        /* in case of pressing button 'End', select last element */\n        case Key.END:\n            DOM.setCurrentFile(Info.last);\n            event.preventDefault();\n            break;\n        \n        /* если нажали клавишу page down проматываем экран */\n        case Key.PAGE_DOWN:\n            DOM.scrollByPages(panel, 1);\n            \n            for (i = 0; i < 30; i++) {\n                if (!current.nextSibling)\n                    break;\n                \n                current = current.nextSibling;\n            }\n            \n            DOM.setCurrentFile(current);\n            event.preventDefault();\n            break;\n        \n        /* если нажали клавишу page up проматываем экран */\n        case Key.PAGE_UP:\n            DOM.scrollByPages(panel, -1);\n            \n            for (i = 0; i < 30; i++) {\n                if (!current.previousSibling)\n                    break;\n                \n                current = current.previousSibling;\n            }\n            \n            DOM.setCurrentFile(current);\n            event.preventDefault();\n            break;\n            \n        /* open directory */\n        case Key.ENTER:\n            if (Info.isDir)\n                CloudCmd.loadDir({\n                    path: path === '/' ? '/' : path + '/'\n                });\n            break;\n            \n        case Key.BACKSPACE:\n            CloudCmd.goToParentDir();\n            event.preventDefault();\n            break;\n        \n        case Key.BACKSLASH:\n            if (ctrlMeta)\n                CloudCmd.loadDir({\n                    path: '/'\n                });\n            break;\n        \n        case Key.A:\n            if (ctrlMeta) {\n                DOM.selectAllFiles();\n                event.preventDefault();\n            }\n            \n            break;\n        \n        case Key.G:\n            if (alt) {\n                DOM.goToDirectory();\n                event.preventDefault();\n            }\n            \n            break;\n        \n        case Key.M:\n            if (ctrlMeta) {\n                CloudCmd.EditNames.show();\n                event.preventDefault();\n            }\n            \n            break;\n        \n        /**\n         * обновляем страницу,\n         * загружаем содержимое каталога\n         * при этом данные берём всегда с\n         * сервера, а не из кэша\n         * (обновляем кэш)\n         */\n        case Key.R:\n            if (ctrlMeta) {\n                CloudCmd.log('reloading page...\\n');\n                CloudCmd.refresh();\n                event.preventDefault();\n            }\n            break;\n        \n        case Key.C:\n            if (ctrlMeta)\n                Buffer.copy();\n            break;\n        \n        case Key.X:\n            if (ctrlMeta)\n                Buffer.cut();\n            break;\n            \n        case Key.V:\n            if (ctrlMeta)\n                Buffer.paste();\n            break;\n        \n        case Key.Z:\n            if (ctrlMeta)\n                Buffer.clear();\n            break;\n        \n        /* чистим хранилище */\n        case Key.D:\n            if (ctrlMeta) {\n                CloudCmd.log('clearing storage...');\n                \n                DOM.Storage.clear(() => {\n                    CloudCmd.log('storage cleared');\n                });\n                \n                event.preventDefault();\n            }\n            break;\n        }\n    }\n}\n\n","'use strict';\n\nmodule.exports = (array, item) => {\n    const index = array.indexOf(item);\n    \n    if (!~index)\n        return 0;\n    \n    return index;\n};\n\n","'use strict';\n\nmodule.exports = (indexFrom, indexTo, files) => {\n    if (indexFrom < indexTo)\n        return files.slice(indexFrom, indexTo + 1);\n    \n    if (indexFrom > indexTo)\n        return files.slice(indexTo, indexFrom + 1);\n    \n    return [files[indexFrom]];\n};\n\n","/* global DOM, CloudCmd */\n\n'use strict';\n\nconst exec = require('execon');\nconst itype = require('itype/legacy');\nconst currify = require('currify/legacy');\nconst getRange = require('./get-range');\n\nconst getIndex = currify(require('./get-index'));\n\nconst uploadFiles = require('../dom/upload-files');\n\nconst {\n    FS,\n    apiURL\n} = require('../../common/cloudfunc');\n\nmodule.exports.init = () => {\n    contextMenu();\n    dragndrop();\n    unload();\n    pop();\n    resize();\n    config();\n    header();\n};\n\nCloudCmd.Listeners = module.exports;\n\nconst unselect = (event) => {\n    const isMac = /Mac/.test(window.navigator.platform);\n    const {\n        shiftKey,\n        metaKey,\n        ctrlKey,\n    } = event;\n    \n    if (shiftKey || isMac && metaKey || ctrlKey)\n        return;\n    \n    DOM.unselectFiles();\n};\n\nconst execAll = currify((funcs, event) => {\n    funcs.forEach((fn) => {\n        fn(event);\n    });\n});\n\nconst Info = DOM.CurrentInfo;\nconst Storage = DOM.Storage;\nconst Events = DOM.Events;\nconst EventsFiles = {\n    mousedown: exec.with(execIfNotUL, setCurrentFileByEvent),\n    click: execAll([\n        onClick,\n        unselect,\n    ]),\n    dragstart: exec.with(execIfNotUL, onDragStart),\n    dblclick: exec.with(execIfNotUL, onDblClick),\n    touchstart: exec.with(execIfNotUL, onTouch)\n};\n\nlet EXT;\n\nfunction header() {\n    const fm = DOM.getFM();\n    const isDataset = (el) => el.dataset;\n    const isPanel = (el) => {\n        return /^js-(left|right)$/.test(el.dataset.name);\n    };\n    \n    Events.addClick(fm, (event) => {\n        const el = event.target;\n        const parent = el.parentElement;\n        \n        if (parent.dataset.name !== 'js-fm-header')\n            return;\n        \n        const name = (el.dataset.name || '')\n            .replace('js-', '');\n        \n        if (!/^(name|size|date)$/.test(name))\n            return;\n        \n        const panel = getPath(el)\n            .filter(isDataset)\n            .filter(isPanel)\n            .pop();\n        \n        CloudCmd.sortPanel(name, panel);\n    });\n}\n\nfunction getPath(el, path = []) {\n    if (!el)\n        return path;\n    \n    return getPath(el.parentElement, path.concat(el));\n}\n\nfunction config() {\n    DOM.Files.get('config', (e, config) => {\n        const type = config && config.packer;\n        EXT = DOM.getPackerExt(type);\n    });\n}\n\nmodule.exports.initKeysPanel = () => {\n    const keysElement = DOM.getById('js-keyspanel');\n    \n    if (!keysElement)\n        return;\n    \n    Events.addClick(keysElement, ({target}) => {\n        const id = target.id;\n        const operation = (name) => {\n            const Operation = CloudCmd.Operation;\n            const fn = Operation.show.bind(null, name);\n            \n            return fn;\n        };\n        \n        const clickFuncs = {\n            'f1'        : CloudCmd.Help.show,\n            'f2'        : DOM.renameCurrent,\n            'f3'        : CloudCmd.View.show,\n            'f4'        : CloudCmd.EditFile.show,\n            'f5'        : operation('copy'),\n            'f6'        : operation('move'),\n            'f7'        : DOM.promptNewDir,\n            'f8'        : operation('delete'),\n            'f9'        : CloudCmd.Menu.show,\n            'f10'       : CloudCmd.Config.show,\n            '~'         : CloudCmd.Konsole.show,\n            'shift~'    : CloudCmd.Terminal.show,\n            'contact'   : CloudCmd.Contact.show,\n        };\n       \n        exec(clickFuncs[id]);\n    });\n};\n\nconst getPanel = (side) => {\n    if (!itype.string(side))\n        return side;\n    \n    return DOM.getByDataName('js-' + side);\n};\n\nmodule.exports.setOnPanel = (side) => {\n    const panel = getPanel(side);\n    \n    const filesElement = DOM.getByDataName('js-files', panel);\n    const pathElement = DOM.getByDataName('js-path', panel);\n    \n    /* ставим загрузку гифа на клик*/\n    Events.addClick(pathElement, getPathListener(panel));\n    Events.add(filesElement, EventsFiles);\n};\n\nfunction getPathListener(panel) {\n    return onPathElementClick.bind(null, panel);\n}\n\nfunction isNoCurrent(panel) {\n    const infoPanel = Info.panel;\n    const namePanel = panel.getAttribute('data-name');\n    const nameInfoPanel = infoPanel.getAttribute('data-name');\n        \n    if (namePanel !== nameInfoPanel)\n        return true;\n    \n    return false;\n}\n\nfunction onPathElementClick(panel, event) {\n    let link, href, url, noCurrent;\n    \n    const prefix = CloudCmd.PREFIX;\n    const element = event.target;\n    const attr = element.getAttribute('data-name');\n    \n    switch (attr) {\n    case 'js-clear-storage':\n        Storage.clear();\n        break;\n    \n    case 'js-refresh':\n        noCurrent = isNoCurrent(panel);\n        \n        CloudCmd.refresh({\n            panel,\n            noCurrent\n        });\n        \n        event.preventDefault();\n        break;\n    \n    case 'js-path-link':\n        url         = CloudCmd.HOST;\n        href        = element.href;\n        link        = href.replace(url, '');\n        /**\n         * browser doesn't replace % -> %25%\n         * do it for him\n         */\n        link        = link.replace('%%', '%25%');\n        link        = decodeURI(link);\n        link        = link.replace(RegExp('^' + prefix + FS), '') || '/';\n        \n        noCurrent   = isNoCurrent(panel);\n        \n        CloudCmd.loadDir({\n            path        : link,\n            isRefresh   : false,\n            panel       : noCurrent ? panel : Info.panel\n        });\n        \n        event.preventDefault();\n    }\n}\n\nfunction execIfNotUL(callback, event) {\n    const {target} = event;\n    const {tagName} = target;\n    \n    if (tagName !== 'UL')\n        callback(event);\n}\n\nfunction onClick(event) {\n    const ctrl = event.ctrlKey;\n    \n    if (!ctrl)\n        event.preventDefault();\n    \n    changePanel(event.target);\n}\n\nfunction toggleSelect(key, files) {\n    const isMac = /Mac/.test(window.navigator.platform);\n    \n    if (!key)\n        throw Error('key should not be undefined!');\n    \n    const [file] = files;\n    \n    if (isMac && key.meta || key.ctrl)\n        return DOM.toggleSelectedFile(file);\n    \n    if (key.shift)\n        return files.forEach(DOM.selectFile);\n}\n\nfunction changePanel(element) {\n    const {panel} = Info;\n    const files = DOM.getByDataName('js-files', panel);\n    const ul = getULElement(element);\n    \n    if (ul !== files)\n        DOM.changePanel();\n}\n\nfunction onDblClick(event) {\n    const current = getLIElement(event.target);\n    const isDir = DOM.isCurrentIsDir(current);\n    const path = DOM.getCurrentPath(current);\n    \n    if (isDir) {\n        CloudCmd.loadDir({\n            path: path === '/' ? '/' : path + '/'\n        });\n        \n        event.preventDefault();\n    }\n}\n\nfunction onTouch(event) {\n    const current = getLIElement(event.target);\n    const isDir = DOM.isCurrentIsDir(current);\n    \n    if (!isDir)\n        return;\n    \n    const isCurrent = DOM.isCurrentFile(current);\n    \n    if (!isCurrent)\n        return;\n    \n    CloudCmd.loadDir({\n        path: DOM.getCurrentPath(current)\n    });\n    \n    event.preventDefault();\n}\n\n/*\n  * download file from browser to desktop\n  * in Chrome (HTML5)\n  */\nfunction onDragStart(event) {\n    const element = getLIElement(event.target);\n    const isDir = Info.isDir;\n    let link = DOM.getCurrentLink(element);\n    let name = DOM.getCurrentName(element);\n    \n    /* if it's directory - adding json extension */\n    if (isDir) {\n        name += EXT;\n        link = document.createElement('a');\n        link.textContent = name;\n        link.href = apiURL + '/pack' + Info.path + EXT;\n    }\n    \n    event.dataTransfer.setData('DownloadURL',\n        'application/octet-stream'  + ':' +\n        name                        + ':' +\n        link);\n}\n\nfunction getLIElement(element) {\n    if (!element)\n        return element;\n    \n    while (element.tagName !== 'LI')\n        element = element.parentElement;\n    \n    return element;\n}\n\nfunction getULElement(element) {\n    while (element.tagName !== 'UL')\n        element = element.parentElement;\n    \n    return element;\n}\n\nfunction setCurrentFileByEvent(event) {\n    const BUTTON_LEFT = 0;\n    \n    const key = {\n        alt: event.altKey,\n        ctrl: event.ctrlKey,\n        meta: event.metaKey,\n        shift: event.shiftKey\n    };\n    \n    const element = getLIElement(event.target);\n    \n    const fromName = Info.name;\n    DOM.setCurrentFile(element);\n    const toName = Info.name;\n    \n    let files = [];\n    \n    if (key.shift)\n        files = getFilesRange(fromName, toName);\n    else\n        files.push(Info.element);\n    \n    if (event.button === BUTTON_LEFT)\n        toggleSelect(key, files);\n}\n\nfunction getFilesRange(from, to) {\n    const files = DOM.getAllFiles();\n    const names = DOM.getFilenames(files);\n    const getNameIndex = getIndex(names);\n    \n    const indexFrom = getNameIndex(from);\n    const indexTo = getNameIndex(to);\n    \n    return getRange(indexFrom, indexTo, files);\n}\n\nfunction contextMenu() {\n    const fm = DOM.getFM();\n    \n    Events.addOnce('contextmenu', fm, (event) => {\n        CloudCmd.Menu.show({\n            x: event.clientX,\n            y: event.clientY\n        });\n    });\n    \n    Events.addContextMenu(fm, (event) => {\n        CloudCmd.Menu.ENABLED || event.preventDefault();\n    });\n}\n\nfunction dragndrop() {\n    const panels = DOM.getByClassAll('panel');\n    const select = () => {\n        [...panels].forEach((panel) => {\n            panel.classList.add('selected-panel');\n        });\n    };\n    \n    const unselect = () => {\n        [...panels].forEach((panel) => {\n            panel.classList.remove('selected-panel');\n        });\n    };\n    \n    const onDrop = (event) => {\n        const files = event.dataTransfer.files;\n        const items = event.dataTransfer.items;\n        const {length: filesCount} = files;\n        \n        event.preventDefault();\n        \n        if (filesCount && (!items || !items.length || !items[0].webkitGetAsEntry))\n            return uploadFiles(files);\n        \n        const isFile = (item) => item.kind === 'file';\n        const dirFiles = [...items].filter(isFile);\n        \n        if (dirFiles.length)\n            return DOM.uploadDirectory(dirFiles);\n        \n        const {Operation} = CloudCmd;\n        const operation = event.shiftKey ? 'move' : 'copy';\n        \n        return Operation.show(operation);\n    };\n    \n    /**\n     * In Mac OS Chrome dropEffect = 'none'\n     * so drop do not firing up when try\n     * to upload file from download bar\n     */\n    const onDragOver = (event) => {\n        const dataTransfer = event.dataTransfer;\n        const effectAllowed = dataTransfer.effectAllowed;\n        \n        if (/move|linkMove/.test(effectAllowed))\n            dataTransfer.dropEffect = 'move';\n        else\n            dataTransfer.dropEffect = 'copy';\n        \n        event.preventDefault();\n    };\n    \n    Events.add('dragenter', select);\n    Events.add(['dragleave', 'drop'], unselect);\n    \n    [...panels].forEach((panel) => {\n        Events.add('dragover', panel, onDragOver)\n            .add('drop', panel, onDrop);\n    });\n}\n\nfunction unload() {\n    DOM.Events.add(['unload', 'beforeunload'], (event) => {\n        const Key = CloudCmd.Key;\n        const isBind = Key && Key.isBind();\n        \n        if (isBind)\n            return;\n        \n        event.preventDefault();\n        return 'Please make sure that you saved all work.';\n    });\n}\n\nfunction pop() {\n    Events.add('popstate', ({state}) => {\n        const path = (state || '').replace(FS, '');\n        \n        if (!path)\n            return CloudCmd.route(location.hash);\n        \n        const history = false;\n        CloudCmd.loadDir({\n            path,\n            history,\n        });\n    });\n}\n\nfunction resize() {\n    Events.add('resize', () => {\n        const is = window.innerWidth < CloudCmd.MIN_ONE_PANEL_WIDTH;\n        \n        if (!is)\n            return;\n        \n        const {panel} = Info;\n        const isEmptyRoot = !panel;\n        \n        if (isEmptyRoot)\n            return;\n        \n        const name = panel.getAttribute('data-name');\n        const isLeft = name === 'js-left';\n        \n        if (isLeft)\n            return;\n        \n        DOM.changePanel();\n    });\n}\n\n","/* global DOM */\n/* global smalltalk */\n\n'use strict';\n\nmodule.exports = Dialog;\n\nfunction Dialog(prefix, config) {\n    if (!(this instanceof Dialog))\n        return new Dialog(prefix, config);\n    \n    load(config.htmlDialogs);\n    \n    function getJsName(htmlDialogs) {\n        const is = window.Promise;\n        const js = '.min.js';\n        const jsName = is ? js : '.poly' + js;\n        \n        if (!htmlDialogs)\n            return '.native' + jsName;\n        \n        return jsName;\n    }\n    \n    function load(htmlDialogs) {\n        const noop = () => {};\n        const name = 'smalltalk';\n        const dir = '/modules/' + name + '/dist/';\n        const jsName = getJsName(htmlDialogs);\n        \n        const names = [jsName, '.min.css'].map((ext) => {\n            return prefix + dir + name + ext;\n        });\n        \n        DOM.load.parallel(names, noop);\n    }\n    \n    const alert = (title, message) => {\n        return smalltalk.alert(title, message);\n    };\n    \n    this.alert = alert;\n    \n    this.prompt = (title, message, value, options) => {\n        return smalltalk.prompt(title, message, value, options);\n    };\n    \n    this.confirm = (title, message, options) => {\n        return smalltalk.confirm(title, message, options);\n    };\n    \n    this.alert.noFiles = (title) => {\n        return alert(title, 'No files selected!');\n    };\n}\n\n","'use strict';\n\n/* global Util, DOM */\n\nconst itype = require('itype/legacy');\nconst Emitify = require('emitify/legacy');\nconst inherits = require('inherits');\nconst rendy = require('rendy');\nconst exec = require('execon');\nconst Images = require('./dom/images');\nconst join = require('join-io/www/join');\nconst jonny = require('jonny/legacy');\nconst currify = require('currify/legacy');\n\nconst bind = (f, ...a) => () => f(...a);\n\nconst {\n    apiURL,\n    formatMsg,\n    buildFromJSON,\n} = require('../common/cloudfunc');\n\n/* global Util, DOM */\n\ninherits(CloudCmdProto, Emitify);\n\nmodule.exports = new CloudCmdProto(Util, DOM);\n\nfunction CloudCmdProto(Util, DOM) {\n    let Key;\n    let Debug;\n    let Listeners;\n    \n    const log = (str) => {\n        if (!Debug)\n            return;\n        \n        console.log(str);\n    };\n    \n    Emitify.call(this);\n    \n    const CloudCmd = this;\n    const Info = DOM.CurrentInfo;\n    const Storage = DOM.Storage;\n    const Files = DOM.Files;\n    \n    this.log = log;\n    this.PREFIX = '';\n    this.PREFIX_URL = '';\n    this.DIRCLIENT = '/dist/';\n    this.DIRCLIENT_MODULES = this.DIRCLIENT + 'modules/';\n    \n    this.MIN_ONE_PANEL_WIDTH    = 1155;\n    this.HOST                   = location.origin ||\n                                  location.protocol + '//' + location.host;\n    \n    const TITLE = 'Cloud Commander';\n    this.TITLE = TITLE;\n    \n    this.sort = {\n        left: 'name',\n        right: 'name',\n    };\n    \n    this.order = {\n        left: 'asc',\n        right: 'asc',\n    };\n    \n    log.enable = () => {\n        Debug = true;\n    };\n    \n    log.disable = () => {\n        Debug = false;\n    };\n    \n    const kebabToCamelCase = Util.kebabToCamelCase;\n    \n    /**\n     * Функция привязываеться ко всем ссылкам и\n     *  загружает содержимое каталогов\n     *\n     * @param params - {\n     *          paramLink - ссылка\n     *          needRefresh - необходимость обязательной загрузки данных с сервера\n     *          panel\n     *      }\n     * @param callback\n     */\n    this.loadDir = (params, callback) => {\n        const p = params;\n        \n        const refresh = p.isRefresh;\n        const panel = p.panel;\n        const history = p.history;\n        const noCurrent = p.noCurrent;\n        const currentName = p.currentName;\n        \n        let panelChanged;\n        if (!noCurrent)\n            if (panel && panel !== Info.panel) {\n                DOM.changePanel();\n                panelChanged = true;\n            }\n        \n        let imgPosition;\n        if (panelChanged || refresh || !history)\n            imgPosition = 'top';\n        \n        Images.show.load(imgPosition, panel);\n        \n        /* загружаем содержимое каталога */\n        ajaxLoad(p.path, {\n            refresh,\n            history,\n            noCurrent,\n            currentName,\n        }, panel, callback);\n    };\n    \n    /**\n     * function load modules\n     * @params = {name, path, func, dobefore, arg}\n     */\n    function loadModule(params) {\n        if (!params)\n            return;\n        \n        let path = params.path;\n        const name = params.name || path && kebabToCamelCase(path);\n        const func = params.func;\n        const funcName = params.funcName;\n        const doBefore = params.dobefore;\n        \n        const isContain = /\\.js/.test(path);\n        \n        if (!isContain)\n            path += '.js';\n        \n        if (CloudCmd[name])\n            return;\n        \n        CloudCmd[name] = (...args) => {\n            const prefix = CloudCmd.PREFIX;\n            const pathFull = prefix + CloudCmd.DIRCLIENT_MODULES + path;\n            \n            exec(doBefore);\n            \n            const done = (error) => {\n                const Proto = CloudCmd[name];\n                \n                if (error || !itype.function(Proto))\n                    return;\n                \n                CloudCmd[name] = applyConstructor(Proto, args);\n            };\n            \n            return DOM.load.js(pathFull, func || done);\n        };\n        \n        CloudCmd[name][funcName] = CloudCmd[name];\n    }\n    \n    /*\n     * apply arguemnts to constructor\n     *\n     * @param constructor\n     * @param args\n     */\n    function applyConstructor(constructor, args) {\n        const F = function () {\n            return constructor.apply(this, args);\n        };\n        \n        F.prototype = constructor.prototype;\n        return new F();\n    }\n    \n    /**\n     * Конструктор CloudClient, который\n     * выполняет весь функционал по\n     * инициализации\n     */\n    this.init = (prefix, config) => {\n        const func = bind(exec.series, [\n            initModules,\n            baseInit,\n            loadPlugins,\n            exec.with(CloudCmd.route, location.hash),\n        ]);\n        \n        const funcBefore  = (callback) => {\n            const src = prefix + '/join:' + [\n                CloudCmd.DIRCLIENT_MODULES + 'polyfill.js',\n                '/modules/domtokenlist-shim/dist/domtokenlist.min.js',\n            ].join(':');\n            \n            DOM.loadJquery(() => {\n                DOM.load.js(src, callback);\n            });\n        };\n        \n        CloudCmd.PREFIX = prefix;\n        CloudCmd.PREFIX_URL = prefix + apiURL;\n        \n        CloudCmd.config = (key) => config[key];\n        CloudCmd.config.if = currify((key, fn, a) => config[key] && fn(a));\n        CloudCmd._config = (key, value) => {\n            /*\n             * should be called from config.js only\n             * after successful update on server\n             */\n            config[key] = value;\n        };\n        \n        DOM.Storage.setAllowed(CloudCmd.config('localStorage'));\n        \n        if (config.onePanelMode)\n            CloudCmd.MIN_ONE_PANEL_WIDTH = Infinity;\n        \n        exec.if(document.body.scrollIntoViewIfNeeded, func, funcBefore);\n    };\n    \n    function loadPlugins(callback) {\n        const prefix = CloudCmd.PREFIX;\n        const plugins = prefix + '/plugins.js';\n        \n        DOM.load.js(plugins, callback);\n    }\n    \n    this.join = (urls) => {\n        const prefix  = CloudCmd.PREFIX;\n        \n        if (!Array.isArray(urls))\n            throw Error('urls should be array!');\n        \n        const noPrefixUrls = urls.map((url) => {\n            return url.replace(prefix, '');\n        });\n        \n        return prefix + join(noPrefixUrls);\n    };\n    \n    this.route = (path) => {\n        const query = path.split('/');\n        \n        if (!path)\n            return;\n        \n        const [kebabModule] = query;\n        const module = kebabToCamelCase(kebabModule.slice(1));\n        \n        const file = query[1];\n        const current = DOM.getCurrentByName(file);\n        \n        if (file && !current) {\n            const msg = formatMsg('set current file', file, 'error');\n            CloudCmd.log(msg);\n            return;\n        }\n        \n        DOM.setCurrentFile(current);\n        \n        CloudCmd.execFromModule(module, 'show');\n    };\n    \n    this.logOut = () => {\n        const url = CloudCmd.PREFIX + '/logout';\n        const error = () => document.location.reload();\n        \n        DOM.load.ajax({url, error});\n    };\n    \n    function initModules(callback) {\n        exec.if(CloudCmd.Key, () => {\n            Key = new CloudCmd.Key();\n            CloudCmd.Key = Key;\n            Key.bind();\n        }, (func) => {\n            /* привязываем клавиши к функциям */\n            const path = 'key.js';\n            \n            loadModule({\n                path,\n                func\n            });\n        });\n        \n        Files.get('modules', (error, modules) => {\n            const showLoad = Images.show.load;\n            \n            const doBefore = {\n                'edit': showLoad,\n                'menu': showLoad,\n            };\n            \n            const load = (name, path, dobefore) => {\n                const isTmpl = path === 'template';\n                const funcName = isTmpl ? 'get' : 'show';\n                \n                loadModule({\n                    name,\n                    path,\n                    dobefore,\n                    funcName,\n                });\n            };\n            \n            if (!modules)\n                modules = [];\n            \n            modules.local.forEach((module) => {\n                load(null, module, doBefore[module]);\n            });\n            \n            callback();\n        });\n    }\n    \n    function baseInit(callback) {\n        const files = DOM.getFiles();\n        \n        CloudCmd.on('current-file', DOM.updateCurrentInfo);\n        \n        /* выделяем строку с первым файлом */\n        if (files)\n            DOM.setCurrentFile(files[0], {\n                // when hash is present\n                // it should be handled with this.route\n                // overwre otherwise\n                history: !location.hash\n            });\n        \n        const dirPath = DOM.getCurrentDirPath();\n        Listeners = CloudCmd.Listeners;\n        Listeners.init();\n        \n        const panels = getPanels();\n        panels.forEach(Listeners.setOnPanel);\n        \n        Listeners.initKeysPanel();\n        \n        if (!CloudCmd.config('dirStorage'))\n            return callback();\n        \n        Storage.get(dirPath, (error, data) => {\n            if (!data) {\n                data = getJSONfromFileTable();\n                Storage.set(dirPath, data);\n            }\n            callback();\n        });\n    }\n    \n    function getPanels() {\n        const panels = ['left'];\n        \n        if (CloudCmd.config('onePanelMode'))\n            return panels;\n        \n        return [\n            ...panels,\n            'right',\n        ];\n    }\n    \n    this.execFromModule = (moduleName, funcName, ...args) => {\n        const obj = CloudCmd[moduleName];\n        const isObj = itype.object(obj);\n        \n        exec.if(isObj, () => {\n            const obj = CloudCmd[moduleName];\n            const func = obj[funcName];\n            \n            func(...args);\n        }, obj);\n    };\n    \n    this.refresh = (options = {}, callback) => {\n        if (!callback && typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n       \n        const panel = options.panel || Info.panel;\n        const path = DOM.getCurrentDirPath(panel);\n        \n        const isRefresh = true;\n        const history = false;\n        const noCurrent = options ? options.noCurrent : false;\n        const currentName = options.currentName;\n        \n        CloudCmd.loadDir({\n            path,\n            isRefresh,\n            history,\n            panel,\n            noCurrent,\n            currentName,\n        }, callback);\n    };\n    \n    /**\n     * Функция загружает json-данные о Файловой Системе\n     * через ajax-запрос.\n     * @param path - каталог для чтения\n     * @param options\n     * { refresh, history } - необходимость обновить данные о каталоге\n     * @param panel\n     * @param callback\n     *\n     */\n    function ajaxLoad(path, options, panel, callback) {\n        const create = (error, json) => {\n            const RESTful = DOM.RESTful;\n            const name = options.currentName || Info.name;\n            const obj = jonny.parse(json);\n            const isRefresh = options.refresh;\n            const noCurrent = options.noCurrent;\n            \n            if (!isRefresh && json)\n                return createFileTable(obj, panel, options, callback);\n            \n            const position = DOM.getPanelPosition(panel);\n            const sort = CloudCmd.sort[position];\n            const order = CloudCmd.order[position];\n            \n            const query = rendy('?sort={{ sort }}&order={{ order }}', {\n                sort,\n                order,\n            });\n            \n            RESTful.read(path + query, 'json', (error, obj) => {\n                if (error)\n                    return;\n                \n                options.sort = sort;\n                options.order = order;\n                \n                createFileTable(obj, panel, options, () => {\n                    if (isRefresh && !noCurrent)\n                        DOM.setCurrentByName(name);\n                    \n                    exec(callback);\n                });\n                \n                if (!CloudCmd.config('dirStorage'))\n                    return;\n                \n                Storage.set(path, obj);\n            });\n        };\n        \n        if (!options)\n            options    = {};\n        \n        CloudCmd.log('reading dir: \"' + path + '\";');\n        \n        if (!CloudCmd.config('dirStorage'))\n            return create();\n        \n        Storage.get(path, create);\n    }\n    \n    /**\n     * Функция строит файловую таблицу\n     * @param json  - данные о файлах\n     * @param panelParam\n     * @param history\n     * @param callback\n     */\n    function createFileTable(json, panelParam, options, callback) {\n        const {\n            history,\n            noCurrent,\n        } = options;\n        \n        const names = ['file', 'path', 'link', 'pathLink'];\n        \n        Files.get(names, (error, templFile, templPath, templLink, templPathLink) => {\n            const Dialog = DOM.Dialog;\n            const panel = panelParam || DOM.getPanel();\n            \n            const {\n                dir,\n                name,\n            } = Info;\n            \n            if (error)\n                return Dialog.alert(TITLE, error.responseText);\n            \n            const childNodes = panel.childNodes;\n            let i = childNodes.length;\n            \n            while (i--)\n                panel.removeChild(panel.lastChild);\n            \n            panel.innerHTML = buildFromJSON({\n                sort        : options.sort,\n                order       : options.order,\n                data        : json,\n                id          : panel.id,\n                prefix      : CloudCmd.PREFIX,\n                template    : {\n                    file        : templFile,\n                    path        : templPath,\n                    pathLink    : templPathLink,\n                    link        : templLink\n                }\n            });\n            \n            Listeners.setOnPanel(panel);\n            \n            if (!noCurrent) {\n                let current;\n                \n                if (name === '..' && dir !== '/')\n                    current = DOM.getCurrentByName(dir);\n                \n                if (!current)\n                    current = DOM.getFiles(panel)[0];\n                \n                DOM.setCurrentFile(current, {\n                    history: history\n                });\n                \n                CloudCmd.emit('active-dir', Info.dirPath);\n            }\n            \n            exec(callback);\n        });\n    }\n    \n    /**\n     * Функция генерирует JSON из html-таблицы файлов и\n     * используеться при первом заходе в корень\n     */\n    function getJSONfromFileTable() {\n        const path = DOM.getCurrentDirPath();\n        const infoFiles = Info.files || [];\n        \n        const notParent = (current) => {\n            const name = DOM.getCurrentName(current);\n            return name !== '..';\n        };\n        \n        const parse = (current) => {\n            const name = DOM.getCurrentName(current);\n            const size = DOM.getCurrentSize(current);\n            const owner = DOM.getCurrentOwner(current);\n            const mode = DOM.getCurrentMode(current);\n            const date = DOM.getCurrentDate(current);\n            \n            return {\n                name,\n                size,\n                mode,\n                owner,\n                date,\n            };\n        };\n        \n        const files = infoFiles\n            .filter(notParent)\n            .map(parse);\n        \n        const fileTable = {\n            path,\n            files,\n        };\n        \n        return fileTable;\n    }\n    \n    this.goToParentDir = () => {\n        const dir = Info.dir;\n        const {\n            dirPath,\n            parentDirPath,\n        } = Info;\n        \n        if (dirPath === parentDirPath)\n            return;\n        \n        const path = parentDirPath;\n        \n        CloudCmd.loadDir({path}, () => {\n            const {panel} = Info;\n            const current = DOM.getCurrentByName(dir);\n            const first = DOM.getFiles(panel)[0];\n            \n            DOM.setCurrentFile(current || first, {\n                history\n            });\n        });\n    };\n}\n\n","'use strict';\n\nrequire('../css/main.css');\nrequire('../css/nojs.css');\nrequire('../css/columns/name-size-date.css');\nrequire('../css/columns/name-size.css');\n\n// prevent additional loading of exec by spero, remedy, ishtar, salam, omnes\nwindow.exec = require('execon');\n\n// prevent additional loading of emitify\nwindow.Emitify = require('emitify/legacy');\n\nmodule.exports = window.CloudCmd = (config) => {\n    window.Promise = window.Promise || require('es6-promise');\n    window.Util = require('../common/util');\n    window.CloudFunc = require('../common/cloudfunc');\n    \n    const DOM = require('./dom');\n    \n    window.DOM = DOM;\n    window.CloudCmd = require('./client');\n    \n    const Dialog = require('./dom/dialog');\n    \n    const prefix = getPrefix(config.prefix);\n    const {htmlDialogs} = config;\n    \n    DOM.Dialog = Dialog(prefix, {\n        htmlDialogs\n    });\n    \n    require('./listeners');\n    require('./key');\n    require('./sort');\n    \n    window.CloudCmd.init(prefix, config);\n};\n\nfunction getPrefix(prefix) {\n    if (!prefix)\n        return '';\n   \n    if (!prefix.indexOf('/'))\n        return prefix;\n    \n    return '/' + prefix;\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/cloudcmd.common.js:1:(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e){!function(e){"use strict";function r(){var t=Array.prototype.slice,e=function(e){var r,n="function"==typeof e,o=t.call(arguments,1);return n&&(r=e.apply(null,o)),r};return e.with=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);return function(){var n=e.call(arguments),o=r.concat(n);return t.apply(null,o)}},e.ret=function(){var r=t.call(arguments);return r.unshift(e),e.with.apply(null,r)},e.if=function(t,r,n){t?e(r):e(n,r)},e.ifExist=function(t,e,r){var n=t&&t[e];n&&(n=n.apply(t,r))},e.parallel=function(r,n){var o,i,a="could not be empty!",u=[],s=!1,c=[],l=0,f=0,d=(o=r,i=new RegExp("\\s([a-zA-Z]+)"),{}.toString.call(o).match(i)[1].toLowerCase());if(!r)throw Error("funcs "+a);if(!n)throw Error("callback "+a);switch(d){case"array":f=r.length,r.forEach(function(t,r){e(t,function(){h(r,arguments)})});break;case"object":u=Object.keys(r),f=u.length,u.forEach(function(t){var n=r[t];e(n,function(){h(t,arguments)})})}function h(e,r){var o,i=t.call(r,1),a=r[0],u=i.length;o=++l===f,a||(c[e]=u>=2?i:i[0]),s||!a&&!o||(s=!0,"array"===d?n.apply(null,[a].concat(c)):n(a,c))}},e.series=function(t,r){var n,o=t.length;if(!Array.isArray(t))throw Error("funcs should be array!");n=t.shift(),e(n,function(n){(function(t){var n;return--o&&!t||(n=!0,e(r,t)),n})(n)||e.series(t,r)})},e.each=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});o.length?e.parallel(o,n):n()},e.eachSeries=function(t,r,n){var o=t.map(function(t){return r.bind(null,t)});if("function"!=typeof n)throw Error("callback should be function");o.length?e.series(o,n):n()},e.try=function(t){var e;try{e=t()}catch(t){e=t}return e},e}"object"==typeof t&&t.exports?t.exports=new r:e.exec=new r}(this)},function(t,e,r){t.exports=r(76)},function(t,e,r){"use strict";var n=t.exports,o="loading"+(function(){var t=document.createElementNS;if(!t)return!1;var e=t.bind(document)("http://www.w3.org/2000/svg","animate").toString();return/SVGAnimate/.test(e)}()?"-svg":"-gif");function i(){return DOM.load({name:"span",id:"js-status-image",className:"icon",attribute:"data-progress",notAppend:!0})}function a(t,e){var r=n.loading(),o=r.parentElement,i=DOM.getRefreshButton(e),a=void 0;return a="top"===t?i.parentElement:(a=DOM.getCurrentFile())?DOM.getByDataName("js-name",a):i.parentElement,(!o||o&&o!==a)&&a.appendChild(r),DOM.show(r),r}t.exports.get=i,t.exports.loading=function(){var t=i(),e=t.classList;return e.add("loading",o),e.remove("error","hidden"),t},t.exports.error=function(){var t=i(),e=t.classList;return e.add("error"),e.remove("hidden","loading",o),t},t.exports.show=a,t.exports.show.load=a,t.exports.show.error=function(t){var e=n.error();return DOM.show(e),e.title=t,CloudCmd.log(t),e},t.exports.hide=function(){var t=n.get();return DOM.hide(t),n},t.exports.setProgress=function(t,e){var r=n.get();return r?(r.setAttribute("data-progress",t+"%"),e&&(r.title=e),n):n},t.exports.clearProgress=function(){var t=n.get();return t?(t.setAttribute("data-progress",""),t.title="",n):n}},function(t,e,r){"use strict";var n=r(4),o=r(11),i=r(14),a=r(0),u=r(2),s=r(8),c=r(6).getExt;function l(t){var e=t.src,r=t.id,o=void 0===r?f(t.src):r,i=t.func,c=t.name,l=t.async,d=t.inner,h=t.style,p=t.parent,v=void 0===p?document.body:p,g=t.className,m=t.attribute,y=t.notAppend,b=document.getElementById(o);if(b)return a(i),b;b=document.createElement(c);var C=function(){var t="file "+e+" could not be loaded",r=new Error(t);v.removeChild(b),u.show.error(t);var n=i&&i.onerror||i.onload||i;a(n,r)};if(/^(script|link)$/.test(c)&&s.addOnce("load",b,function(){var t=i&&i.onload||i;s.remove("error",b,C),a(t)}).addError(b,C),o&&(b.id=o),g&&(b.className=g),e&&("link"!==c?b.src=e:(b.href=e,b.rel="stylesheet")),m)switch(n(m)){case"string":b.setAttribute(m,"");break;case"object":Object.keys(m).forEach(function(t){b.setAttribute(t,m[t])})}return h&&(b.style.cssText=h),(l&&"script"===c||void 0===l)&&(b.async=!0),y||v.appendChild(b),d&&(b.innerHTML=d),b}function f(t){if(n.string(t)){~t.indexOf(":")&&(t+="-join");var e=t.lastIndexOf("/")+1,r=t.substr(t,e);return t.replace(r,"").replace(/\./g,"-")}}function d(t,e){switch(c(t)){case".js":return l.js(t,e);case".css":return l.css(t,e);default:return l({src:t,func:e})}}t.exports=l,t.exports.getIdBySrc=f,t.exports.ext=d,t.exports.ajax=function(t){var e=t,r=n.object(e.data),i=n.array(e.data),s="arraybuffer"===n(e.data),c=e.type||e.method||"GET",l=e.headers||{},f=new XMLHttpRequest;f.open(c,e.url,!0),Object.keys(l).forEach(function(t){var e=l[t];f.setRequestHeader(t,e)}),e.responseType&&(f.responseType=e.responseType);var d=void 0;d=!s&&r||i?o.stringify(e.data):e.data,f.onreadystatechange=function(t){var r=t.target;if(r.readyState===r.DONE){u.clearProgress();var n=r.getResponseHeader("content-type");if(200!==r.status)return a(e.error,r);var i="text"!==e.dataType,s=~n.indexOf("application/json"),c=r.response;n&&s&&i&&(c=o.parse(r.response)||r.response),a(e.success,c,r.statusText,r)}},f.send(d)},t.exports.put=function(t,e){var r=i(),n=new XMLHttpRequest;return t=encodeURI(t).replace("#","%23"),n.open("put",t,!0),n.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100,n=Math.round(e);r.emit("progress",n)}},n.onreadystatechange=function(){if(n.readyState===n.DONE){if(200===n.status)return r.emit("end");var t=Error(n.responseText);r.emit("error",t)}},n.send(e),r},l.series=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)}).concat(e);return a.series(r),l},l.parallel=function(t,e){if(!t)return l;var r=t.map(function(t){return d.bind(null,t)});return a.parallel(r,e),l},l.js=function(t,e){return l({name:"script",src:t,func:e})},l.css=function(t,e){return l({name:"link",src:t,parent:document.head,func:e})},l.style=function(t){var e=t.id,r=t.src,n=t.name,o=void 0===n?"style":n,i=t.func,a=t.inner,u=t.parent;return l({id:e,src:r,func:i,name:o,inner:a,parent:void 0===u?document.head:u,element:t.element})}},function(t,e,r){t.exports=r(73)},function(t,e,r){"use strict";var n=r(13),o=r(1),i=r(12),a=r(74),u=o(function(t,e,r){return t!==r?r:"name"===t&&"asc"===e?r:r+("asc"===e?"↑":"↓")}),s="/fs",c=i();function l(t,e,r){if(!t)throw Error("url could not be empty!");if(!r)throw Error("template could not be empty!");var o=t.split("/").slice(1,-1),i=["/"].concat(o),a=i.length-1,u="/";return i.map(function(t,o){return o&&(u+=t+"/"),o&&o===a?t+"/":n(r,{path:u,name:t,slash:o?"/":"",prefix:e})}).join("")}function f(t){var e=t.substr(t,t.lastIndexOf("/")),r=e.substr(e,e.lastIndexOf("/"));return r||"/"}c("/"),t.exports.FS=s,t.exports.apiURL="/api/v1",t.exports.MAX_FILE_SIZE=512e3,t.exports.Entity=a,t.exports.getHeaderField=u,t.exports.getPathLink=l,t.exports.getDotDot=f,t.exports.formatMsg=function(t,e,r){return r=r||"ok",(e=e||"")&&(e='("'+e+'")'),t+": "+r+e},t.exports.getTitle=function(t){var e=(t=t||{}).path||c();return[t.name||"Cloud Commander",e].filter(Boolean).join(" - ")},t.exports.buildFromJSON=function(t){var e=t.prefix,r=t.template,o=r.file,i=r.link,d=t.data,h=d.path,p=d.files,v=t.sort||"name",g=t.order||"asc",m=l(h,e,r.pathLink),y=n(r.path,{link:e+s+h,fullPath:h,path:m}),b=u(v,g),C=b("name"),w=b("size"),x=b("date"),E=n(o,{tag:"div",attribute:'data-name="js-fm-header" ',className:"fm-header",type:"",name:C,size:w,date:x,owner:"owner",mode:"mode"});if(c(h),y+=E+'<ul data-name="js-files" class="files">',"/"!==h){var A=f(h),_=e+s+A,P=n(r.link,{link:_,title:"..",name:".."});y+=n(r.file,{tag:"li",attribute:'draggable="true" data-name="js-file-.." ',className:"",type:"directory",name:P,size:"&lt;dir&gt;",date:"--.--.----",owner:".",mode:"--- --- ---"})}return y+=p.map(function(t){var r=e+s+h+t.name,u=function(t){return"dir"===t?"directory":"text-file"}(t.size),c=function(t){return"dir"===t?"&lt;dir&gt;":t}(t.size),l=t.date||"--.--.----",f=t.owner||"root",d=t.mode,p=n(i,{link:r,title:t.name,name:a.encode(t.name),attribute:function(t){return"dir"===t?"":'target="_blank" '}(t.size)}),v='data-name="js-file-'+t.name+'" ';return n(o,{tag:"li",attribute:'draggable="true" '+v,className:"",type:u,name:p,size:c,date:l,owner:f,mode:d})}).join(""),y+="</ul>"}},function(t,e,r){"use strict";var n=r(0);function o(t){if(!t)throw Error("str could not be empty!");return t[0].toUpperCase()+t.slice(1)}t.exports.getStrBigFirst=o,t.exports.kebabToCamelCase=function(t){if(!t)throw Error("str could not be empty!");return t.split("-").map(o).join("").replace(/.js$/,"")},t.exports.escapeRegExp=function(t){return"string"==typeof t&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),t},t.exports.getRegExp=function(t){var e="^"+(t=t||"*").replace(".","\\.").replace("*",".*").replace("?",".?")+"$";return RegExp(e)},t.exports.exec=n,t.exports.getExt=function(t){if(!("string"==typeof t))return"";var e=t.lastIndexOf(".");return~e?t.substr(e):""},t.exports.findObjByNameInArr=function(t,e){var r=void 0;if(!Array.isArray(t))throw Error("array should be array!");if("string"!=typeof e)throw Error("name should be string!");return t.some(function(t){var n=t.name===e,o=Array.isArray(t);return n?(r=t,n):o?t.some(function(t){var n=t.name===e;return n&&(r=t.data),n}):n}),r},t.exports.time=function(t){n.ifExist(console,"time",[t])},t.exports.timeEnd=function(t){n.ifExist(console,"timeEnd",[t])}},function(t,e,r){"use strict";var n,o,i=r(4),a=r(1),u=r(0),s=r(17),c=r(3),l=r(10),f={},d="config|modules",h="file|path|link|pathLink|media",p="view/media-tmpl|config-tmpl|upload",v="/tmpl/",g=v+"fs/",m="/json/",y=(n=2e3,o=void 0,function(t){o||(o=!0,setTimeout(function(){o=!1,t()},n))}),b=a(function(t,e){var r=i(t),n=void 0;switch(function(t,e){if(!t)throw Error("name could not be empty!");if("function"!=typeof e)throw Error("callback should be a function")}(t,e),r){case"string":!function(t,e){var r=new RegExp(h+"|"+p),n=new RegExp(d),o=r.test(t),i=n.test(t);o||i?"config"===t?function(t){var e=void 0;f.config||(f.config=new Promise(function(t,r){e=!0,l.Config.read(function(e,n){if(e)return r(e);t(n)})}));f.config.then(function(r){e=!1,s.setAllowed(r.localStorage),t(null,r),y(function(){e||(f.config=null)})},function(){e||(f.config=null)})}(e):function(t,e){var r=CloudCmd.PREFIX;f[t]||(f[t]=new Promise(function(e,n){var o=r+t;c.ajax({url:o,success:e,error:n})}));f[t].then(function(t){e(null,t)},function(r){f[t]=null,e(r)})}(function(t,e,r){var n=void 0,o=new RegExp(p).test(t);e?(n=o?v+t.replace("-tmpl",""):g+t,n+=".hbs"):r&&(n=m+t+".json");return n}(t,o,i),e):function(t){throw new Error("Wrong file name: "+t)}(t)}(t,e);break;case"array":n=C(t,b),u.parallel(n,e)}}),C=function(t,e){return t.map(function(t){return e(t)})};t.exports.get=b},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(4);t.exports=new function(){var t=this,e=this;function r(t,e,n,i){var a=[t,e,n,i],u=o(t);switch(u){default:if(!/element$/.test(u))throw Error("unknown eventName: "+u);r(a[1],a[0],n,i);break;case"string":o.function(e)&&(n=e,e=null),e||(e=window),i(e,[t,n,!1]);break;case"array":t.forEach(function(t){r(t,e,n,i)});break;case"object":Object.keys(t).forEach(function(n){var o=t[n];r(n,e,o,i)})}}function i(t){if(!t)throw Error("type could not be empty!")}this.add=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.addEventListener.apply(t,e)}),e},this.addOnce=function(r,n,o){return o||(o=n,n=null),t.add(r,n,function t(i){e.remove(r,n,t),o(i)}),e},this.remove=function(t,n,o){return i(t),r(t,n,o,function(t,e){t.removeEventListener.apply(t,e)}),e},this.addKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["keydown"].concat(r);return e.add.apply(e,n(i))},this.rmKey=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["keydown"].concat(r);return e.remove.apply(e,n(i))},this.addClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["click"].concat(r);return e.add.apply(e,n(i))},this.rmClick=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["click"].concat(r);return e.remove.apply(e,n(i))},this.addContextMenu=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["contextmenu"].concat(r);return e.add.apply(e,n(i))},this.addError=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["error"].concat(r);return e.add.apply(e,n(i))},this.addLoad=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=["load"].concat(r);return e.add.apply(e,n(i))}}},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(4),a=r(0),u=r(11),s=r(6),c=r(5),l=c.getTitle,f=c.FS,d=c.Entity,h=n({},r(71),new function(){var t=this,e=void 0,r={},n=this,c="current-file",v="Cloud Commander",g={"js-left":null,"js-right":null};function w(t,e){var r=h.Dialog,o=n.getCurrentDirPath(),i="New "+t||"File",a=function(){var t=n.getCurrentName();return".."===t?"":t}();r.prompt(v,i,a,{cancel:!1}).then(function(t){if(t){m.write(function(e){var r=o+t;return e?r+e:r}(e),function(e){if(!e){var r=t;CloudCmd.refresh({currentName:r})}})}})}this.loadRemote=function(t,e,r){return b(t,e,r),h},this.loadJquery=function(t){return h.loadRemote("jquery",{name:"$"},t),h},this.loadSocket=function(t){return h.loadRemote("socket",{name:"io"},t),h},this.loadMenu=function(t){return h.loadRemote("menu",t)},this.promptNewDir=function(){w("directory","?dir")},this.promptNewFile=function(){w("file")},this.getCurrentDirName=function(){var t=h.getCurrentDirPath().replace(/\/$/,""),e=t.substr(t,t.lastIndexOf("/")),r=t.replace(e+"/","")||"/";return r},this.getCurrentDirPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.getPanel(),e=h.getByDataName("js-path",t),r=e&&e.textContent;return r},this.getParentDirPath=function(t){var e=h.getCurrentDirPath(t),r=h.getCurrentDirName()+"/";return"/"!==e?e.replace(RegExp(r+"$"),""):e},this.getNotCurrentDirPath=function(){var t=h.getPanel({active:!1}),e=h.getCurrentDirPath(t);return e},this.getCurrentFile=function(){return h.getByClass(c)},this.getCurrentByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.panel,n="js-file-"+t,o=h.getByDataName(n,e);return o},this.getSelectedFiles=function(){var t=h.getPanel(),e=h.getByClassAll("selected-file",t);return[].concat(o(e))},this.unselectFiles=function(t){t=t||h.getSelectedFiles(),[].concat(o(t)).forEach(h.toggleSelectedFile)},this.getActiveFiles=function(){var t=h.getCurrentFile(),e=h.getSelectedFiles(),r=h.getCurrentName(t);return e.length||".."===r?e:[t]},this.getCurrentDate=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName("js-date",e).textContent;return r},this.getCurrentSize=function(t){var e=t||n.getCurrentFile(),r=h.getByDataName("js-size",e).textContent.replace(/^<|>$/g,"");return r},this.loadCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);p.show.load(),".."!==name&&m.read(n+"?size",function(e,n){e||(h.setCurrentSize(n,r),a(t,r),p.hide())})},this.loadCurrentHash=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+"?hash",t)},this.loadCurrentTime=function(t,e){var r=e||h.getCurrentFile(),n=h.getCurrentPath(r);m.read(n+"?time",t)},this.setCurrentSize=function(t,e){var r=e||h.getCurrentFile(),n=h.getByDataName("js-size",r);n.textContent=t},this.getCurrentMode=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName("js-mode",e);return r.textContent},this.getCurrentOwner=function(t){var e=t||h.getCurrentFile(),r=h.getByDataName("js-owner",e);return r.textContent},this.getCurrentData=function(t,e){var r=void 0,n=h.Dialog,o=h.CurrentInfo,a=e||h.getCurrentFile(),s=h.getCurrentPath(a),c=h.isCurrentIsDir(a),l=function(e,n){if(!e){i.object(n)&&(n=u.stringify(n));var o=n.length;r&&o<1073741824&&h.saveDataToStorage(s,n,r)}t(e,n)};return".."===o.name?(n.alert.noFiles(v),t(Error("No files selected!"))):c?m.read(s,l):void h.checkStorageHash(s,function(e,n,o){return e?t(e):n?h.getDataFromStorage(s,t):(r=o,void m.read(s,l))})},this.saveCurrentData=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";h.RESTful.write(t+n,e,function(r){!r&&h.saveDataToStorage(t,e)})},this.getRefreshButton=function(t){var e=t||h.getPanel(),r=h.getByDataName("js-refresh",e);return r},this.setCurrentByName=function(t){var e=h.getCurrentByName(t);return h.setCurrentFile(e)},this.setCurrentFile=function(t,e){var r=e,n=h.getCurrentFile();if(!t)return h;var o="";n&&(o=h.getCurrentDirPath(),function(t){if(!h.isCurrentFile(t))return;t.classList.remove(c)}(n)),t.classList.add(c);var i=h.getCurrentDirPath(),a=CloudCmd.config("name");if(i!==o&&(h.setTitle(l({name:a,path:i})),!r||!1!==r.history)){var u="/"===i?i:f+i;h.setHistory(u,null,u)}return h.scrollIntoViewIfNeeded(t,!0),CloudCmd.emit("current-file",t),CloudCmd.emit("current-path",i),CloudCmd.emit("current-name",h.getCurrentName(t)),h},this.getCurrentByPosition=function(t){var e=t.x,r=t.y,n=document.elementFromPoint(e,r),o=function(t){var e=t.tagName;return/A|SPAN|LI/.test(e)?"A"===e?t.parentElement.parentElement:"SPAN"===e?t.parentElement:t:null}(n);return o&&"LI"!==o.tagName?null:o},this.selectFile=function(t){var e=t||h.getCurrentFile();return e.classList.add("selected-file"),n},this.unselectFile=function(t){var e=t||h.getCurrentFile();return e.classList.remove("selected-file"),n},this.toggleSelectedFile=function(t){var e=t||h.getCurrentFile(),r=h.getCurrentName(e);return".."===r?n:(e.classList.toggle("selected-file"),n)},this.toggleAllSelectedFiles=function(){return h.getAllFiles().map(h.toggleSelectedFile),n},this.selectAllFiles=function(){return h.getAllFiles().map(h.selectFile),n},this.getAllFiles=function(){var t=h.getPanel(),e=h.getFiles(t),r=h.getCurrentName(e[0]),n=".."===r?1:0;return[].concat(o(e)).slice(n)},this.expandSelection=function(){var t=r.files;C("expand",t)},this.shrinkSelection=function(){var t=r.files;C("shrink",t)},this.setHistory=function(t,e,r){var n=window.history;return r=CloudCmd.PREFIX+r,n&&history.pushState(t,e,r),n},this.setTitle=function(t){return e||(e=h.getByTag("title")[0]||h.load({name:"title",innerHTML:t,parentElement:document.head})),e.textContent=t,h},this.isCurrentFile=function(t){return!!t&&h.isContainClass(t,c)},this.isSelected=function(t){return!!t&&h.isContainClass(t,"selected-file")},this.isCurrentIsDir=function(e){var r=e||t.getCurrentFile(),n=h.getByDataName("js-type",r),o=h.isContainClass(n,"directory");return o},this.getCurrentLink=function(e){var r=e||t.getCurrentFile(),n=h.getByTag("a",r);return n[0]},this.getCurrentPath=function(t){var e=t||h.getCurrentFile(),r=h.getByTag("a",e)[0],n=CloudCmd.PREFIX,o=r.getAttribute("href").replace(RegExp("^"+n+f),"");return o},this.getCurrentName=function(t){var e=t||h.getCurrentFile();if(!e)return"";var r=h.getCurrentLink(e);if(!r)return"";var n=r.title;return n},this.getFilenames=function(t){if(!t)throw Error("AllFiles could not be empty");var e=t[0]||h.getCurrentFile(),r=h.getCurrentName(e),n=[].concat(o(t));".."===r&&n.shift();var i=n.map(function(t){return h.getCurrentName(t)});return i},this.setCurrentName=function(t,e){var n=r,o=n.link,i=CloudCmd.PREFIX,a=i+f+n.dirPath;return o.title=t,o.innerHTML=d.encode(t),o.href=a+t,e.setAttribute("data-name","js-file-"+t),o},this.checkStorageHash=function(t,e){var r=a.parallel,n=h.loadCurrentHash,o=t+"-hash",i=a.with(y.get,o);if("string"!=typeof t)throw Error("name should be a string!");if("function"!=typeof e)throw Error("callback should be a function!");r([n,i],function(t,r,n){var o=void 0,i=/error/.test(r);i?t=r:r===n&&(o=!0),e(t,o,r)})},this.saveDataToStorage=function(t,e,r,n){var o=CloudCmd.config("localStorage"),i=h.isCurrentIsDir(),u=t+"-hash",s=t+"-data";if(!o||i)return a(n);a.if(r,function(){y.set(u,r),y.set(s,e),a(n,r)},function(t){h.loadCurrentHash(function(e,n){r=n,t()})})},this.getDataFromStorage=function(t,e){var r=t+"-hash",n=t+"-data",o=CloudCmd.config("localStorage"),i=h.isCurrentIsDir();if(!o||i)return a(e);a.parallel([a.with(y.get,n),a.with(y.get,r)],e)},this.getFM=function(){return h.getPanel().parentElement},this.getPanelPosition=function(t){return(t=t||h.getPanel()).dataset.name.replace("js-","")},this.getPanel=function(t){var e=void 0,r=void 0,n=void 0,o="js-",i=h.getCurrentFile();if(i?(e=i.parentElement,r=e.parentElement,n="js-left"===r.getAttribute("data-name")):r=h.getByDataName("js-left"),t&&!t.active&&(o+=n?"right":"left",r=h.getByDataName(o)),window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH&&(r=h.getByDataName("js-left")),!r)throw Error("can not find Active Panel!");return r},this.getFiles=function(t){var e=h.getByDataName("js-files",t);return e.children||[]},this.showPanel=function(t){var e=h.getPanel({active:t});return!!e&&(h.show(e),!0)},this.hidePanel=function(t){var e=h.getPanel({active:t});return!!e&&h.hide(e)},this.remove=function(t,e){var r=e||document.body;return r.removeChild(t),h},this.deleteCurrent=function(t){t||n.getCurrentFile();var e=t&&t.parentElement,r=n.getCurrentName(t);if(t&&".."!==r){var o=t.nextSibling,i=t.previousSibling;h.setCurrentFile(o||i),e.removeChild(t)}},this.deleteSelected=function(t){(t=t||h.getSelectedFiles())&&t.map(h.deleteCurrent)},this.renameCurrent=function(t){var e=h.Dialog;n.isCurrentFile(t)||(t=n.getCurrentFile());var r=n.getCurrentName(t);if(".."===r)return e.alert.noFiles(v);e.prompt(v,"Rename",r,{cancel:!1}).then(function(e){var o=!!h.getCurrentByName(e),i=n.getCurrentDirPath();if(r!==e){var a={from:i+r,to:i+e};m.mv(a,function(r){r||(h.setCurrentName(e,t),y.remove(i),o&&CloudCmd.refresh())})}})},this.scrollIntoViewIfNeeded=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded(e)},this.scrollByPages=function(t,e){var r=t&&t.scrollByPages&&e;return r&&t.scrollByPages(e),r},this.changePanel=function(){var t=r,e=h.getPanel();CloudCmd.emit("passive-dir",t.dirPath);var n=h.getPanel({active:!1}),o=h.getCurrentName(),i=h.getFiles(n),a=e.getAttribute("data-name");g[a]=o,a=(e=n).getAttribute("data-name");var u=void 0,s=void 0;return(o=g[a])&&(s=h.getCurrentByName(o,e))&&(u=s.parentElement),u&&u.parentElement||(s=h.getCurrentByName(o,e))||(s=i[0]),h.setCurrentFile(s,{history:!0}),CloudCmd.emit("active-dir",t.dirPath),h},this.getPackerExt=function(t){return"zip"===t?".zip":".tar.gz"},this.goToDirectory=function(){var t=r.dirPath,e=h.Dialog;e.prompt(v,"Go to directory:",t,{cancel:!1}).then(function(t){return{path:t}}).then(CloudCmd.loadDir)},this.duplicatePanel=function(){var t=r,e=t.isDir,n=t.panelPassive,o=!t.isOnePanel,i=function(e){return e?t.path:t.dirPath}(e);CloudCmd.loadDir({path:i,panel:n,noCurrent:o})},this.swapPanels=function(){var t=r,e=t.panel,n=t.files,o=t.element,i=t.panelPassive,a=h.getCurrentDirPath(),u=h.getNotCurrentDirPath(),s=n.indexOf(o);CloudCmd.loadDir({path:a,panel:i,noCurrent:!0}),CloudCmd.loadDir({path:u,panel:e},function(){var e=t.files,r=e.length-1;s>r&&(s=r);var n=e[s];h.setCurrentFile(n)})},this.CurrentInfo=r,this.updateCurrentInfo=function(t){var e=n.CurrentInfo,r=t||n.getCurrentFile(),i=r.parentElement,a=i.parentElement,u=n.getPanel({active:!1}),c=h.getFiles(u),l=n.getCurrentName(r);e.dir=n.getCurrentDirName(),e.dirPath=n.getCurrentDirPath(),e.parentDirPath=n.getParentDirPath(),e.element=r,e.ext=s.getExt(l),e.files=[].concat(o(i.children)),e.filesPassive=[].concat(o(c)),e.first=i.firstChild,e.getData=n.getCurrentData,e.last=i.lastChild,e.link=n.getCurrentLink(r),e.mode=n.getCurrentMode(r),e.name=l,e.path=n.getCurrentPath(r),e.panel=a,e.panelPassive=u,e.size=n.getCurrentSize(r),e.isDir=n.isCurrentIsDir(),e.isSelected=n.isSelected(r),e.panelPosition=n.getPanel().dataset.name.replace("js-",""),e.isOnePanel=e.panel.getAttribute("data-name")===e.panelPassive.getAttribute("data-name")}});t.exports=h;var p=r(2),v=r(3),g=r(7),m=r(10),y=r(17);h.Images=p,h.load=v,h.Files=g,h.RESTful=m,h.Storage=y,h.uploadDirectory=r(70),h.Buffer=r(20),h.Events=r(8);var b=r(65),C=r(64)},function(t,e,r){"use strict";var n=r(4),o=r(5).FS;t.exports=new function(){function t(t){var e=t,r=CloudCmd.PREFIX_URL;e.url=r+e.url,e.url=encodeURI(e.url),e.url=e.url.replace("#","%23"),a.ajax({method:e.method,url:e.url,data:e.data,dataType:e.dataType,error:function(t){var r=t.responseText,n=t.statusText,o=t.status,a=404===o?r:n;i.show.error(a),setTimeout(function(){DOM.Dialog.alert(CloudCmd.TITLE,a)},100),e.callback(Error(a))},success:function(t){i.hide(),e.notLog||CloudCmd.log(t),e.callback(null,t)}})}this.delete=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:"DELETE",url:o+e,data:r,callback:i,imgPosition:{top:!!r}})},this.patch=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null);t({method:"PATCH",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.write=function(e,r,i){var a=n.function(r);!i&&a&&(i=r,r=null),t({method:"PUT",url:o+e,data:r,callback:i,imgPosition:{top:!0}})},this.read=function(e,r,i){var a=/\?/.test(e),u=/\?beautify$/.test(e),s=/\?minify$/.test(e),c=!a||u||s,l=n.function(r);!i&&l&&(i=r,r="text"),t({method:"GET",url:o+e,callback:i,notLog:c,dataType:r})},this.cp=function(e,r){t({method:"PUT",url:"/cp",data:e,callback:r,imgPosition:{top:!0}})},this.pack=function(e,r){t({method:"PUT",url:"/pack",data:e,callback:r})},this.extract=function(e,r){t({method:"PUT",url:"/extract",data:e,callback:r})},this.mv=function(e,r){t({method:"PUT",url:"/mv",data:e,callback:r,imgPosition:{top:!0}})},this.Config={read:function(e){t({method:"GET",url:"/config",callback:e,imgPosition:{top:!0},notLog:!0})},write:function(e,r){t({method:"PATCH",url:"/config",data:e,callback:r,imgPosition:{top:!0}})}},this.Markdown={read:function(e,r){t({method:"GET",url:"/markdown"+e,callback:r,imgPosition:{top:!0},notLog:!0})},render:function(e,r){t({method:"PUT",url:"/markdown",data:e,callback:r,imgPosition:{top:!0},notLog:!0})}}};var i=r(2),a=r(3)},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(75)},function(t,e){!function(e){"use strict";function r(t,e){var r=t;return function(t,e){if("string"!=typeof t)throw Error("template should be string!");if("object"!=typeof e)throw Error("data should be object!")}(t,e),Object.keys(e).forEach(function(t){for(var n="{{ "+t+" }}",o=e[t];~r.indexOf(n);)r=r.replace(n,o)}),~r.indexOf("{{")&&(r=r.replace(/{{.*?}}/g,"")),r}"object"==typeof t&&t.exports?t.exports=r:e.rendy=r}(this)},function(t,e,r){t.exports=r(79)},function(t,e,r){t.exports=r(49)},function(t,e,r){t.exports=r(57)},function(t,e,r){"use strict";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(4),i=r(11),a=r(0),u=r(22),s=localStorage.setItem.bind(localStorage),c=void 0;t.exports.setAllowed=function(t){c=t},t.exports.remove=function(e,r){return c&&localStorage.removeItem(e),a(r,null,c),t.exports},t.exports.removeMatch=function(e,r){var n=RegExp("^"+e+".*$");return Object.keys(localStorage).filter(function(t){return n.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),a(r),t.exports},t.exports.set=function(e,r,l){var f=void 0,d=void 0;if(o.object(r)&&(f=i.stringify(r)),c&&e){var h=u(s,e,f||r);d=n(h,1)[0]}return a(l,d),t.exports},t.exports.get=function(e,r){var n=void 0;return c&&(n=localStorage.getItem(e)),a(r,null,n),t.exports},t.exports.clear=function(e){var r=c;return r&&localStorage.clear(),a(e,null,r),t.exports}},,function(t,e,r){"use strict";var n=r(0).eachSeries,o=r(16),i=r(9),a=r(3),u=r(2),s=r(5).FS,c=o(function(t){CloudCmd.refresh({currentName:t})}),l=o(function(t,e,r,n){var o=0,i=r.name,c=t+i,l=CloudCmd.PREFIX_URL+s;++o,a.put(l+c,r).on("end",n).on("progress",function(t){var r=function(t){return 100/t}(e),n=(o-1)*r+function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}(t,100,r);u.show.load("top"),u.setProgress(Math.round(n))})}),f=i.getCurrentDirPath;t.exports=function(t,e){e||(e=t,t=f());var r=e.length;if(r){var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e)),i=e[0].name;n(o,l(t,r),c(i))}}},function(t,e,r){"use strict";var n=r(11),o=r(0),i=r(17),a=r(9);t.exports=new function(){var t=a.CurrentInfo,e="cut-file",r="copy",u="cut",s="Buffer";function c(t){a.Dialog.alert(s,t)}function l(){var t=a.getActiveFiles(),e=a.getFilenames(t);return e}function f(){var t=a.getByClassAll(e);[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).forEach(function(t){t.classList.remove(e)})}function d(t){var e=CloudCmd.config("buffer");if(e)return t();c("Buffer disabled in config!")}function h(){i.remove(r).remove(u),f()}return{cut:d.bind(null,function(){var r=l(),n=t.dirPath;if(h(),!r.length)return;a.getActiveFiles().forEach(function(t){t.classList.add(e)}),i.set(u,{from:n,names:r})}),copy:d.bind(null,function(){var e=l(),n=t.dirPath;if(h(),!e.length)return;i.remove(u).set(r,{from:n,names:e})}),clear:d.bind(null,h),paste:d.bind(null,function(){var e=i.get.bind(i,r),a=i.get.bind(i,u);o.parallel([e,a],function(e,r,o){var i=r?"copy":"move",a=r||o,u=CloudCmd.Operation,s=t.dirPath;if(e||r||o||(e="Buffer is empty!"),e)return c(e);var l=n.parse(a);if(l.to=s,l.from===s)return c("Path is same!");u.show(i,l),h()})})}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";t.exports=function(t){var e=[].slice.call(arguments,1);try{return[null,t.apply(null,e)]}catch(t){return[t]}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,function(t,e,r){"use strict";t.exports=function(t,e){Object.keys(e).forEach(function(t,e){return function(r){return t(r,e[r])}}(t,e))}},function(t,e,r){t.exports=r(28)},,,,,,,,,,,,,,function(t,e){!function(e){"use strict";function r(){this.addSlashToEnd=function(t){return t&&("/"===t[t.length-1]||(t+="/")),t},this.size=function(t){var e=1073741824,r=1024*e,n=1024*r;return"number"==typeof t&&(t<1024?t+="b":t=t<1048576?(t/1024).toFixed(2)+"kb":t<e?(t/1048576).toFixed(2)+"mb":t<r?(t/e).toFixed(2)+"gb":t<n?(t/r).toFixed(2)+"tb":(t/n).toFixed(2)+"pb"),t},this.permissions={symbolic:function(t){var e,r,n,o="",i="";if(void 0!==typeof t){switch((o=t.toString()).charAt(0)-0){case 1:"-";break;case 2:"c";break;case 4:"d";break;default:"-"}e=((o=o.length>5?o.substr(3):o.substr(2))[0]-0).toString(2),r=(o[1]-0).toString(2),n=(o[2]-0).toString(2),i=(e[0]-0>0?"r":"-")+(e[1]-0>0?"w":"-")+(e[2]-0>0?"x":"-")+" "+(r[0]-0>0?"r":"-")+(r[1]-0>0?"w":"-")+(r[2]-0>0?"x":"-")+" "+(n[0]-0>0?"r":"-")+(n[1]-0>0?"w":"-")+(n[2]-0>0?"x":"-")}return i},numeric:function(t){return t&&11===t.length&&(t="00"+(("r"===t[0]?4:0)+("w"===t[1]?2:0)+("x"===t[2]?1:0))+(("r"===t[4]?4:0)+("w"===t[5]?2:0)+("x"===t[6]?1:0))+(("r"===t[8]?4:0)+("w"===t[9]?2:0)+("x"===t[10]?1:0))),t}}}"object"==typeof t&&t.exports?t.exports=new r:e.Format=new r}(this)},,,,,function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=function(t){return function(t,e,r){return[].slice.call(t,e,r)}(t,1)};t.exports=function(t){!function(t){if("function"!=typeof t)throw Error("fn should be function!")}(t);var e=o(arguments);return function(){var r=[].concat(n(e),Array.prototype.slice.call(arguments));return t.apply(void 0,n(r))}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){return[e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))]}function i(t,e){return t.bind(null,e)}function a(t){return void 0===t?"undefined":n(t)}function u(t,e){return t!==e}function s(t){throw Error("fn should be "+t+"!")}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e){var r=i(s,t),n=i(u,t);if(!e.length)return r(t);e.map(a).filter(n).forEach(r)}("function",e),function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.reduceRight(o,r).pop()}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=r(1),i=r(15),a=r(48),u=o(function(t,e){return t(e)}),s=function(t){return t},c=o(function(t,e){return e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))});t.exports=function(t,e){e||(e=t,t=s);!function(t,e){if("function"!=typeof t)throw Error("condition should be function!");if(!Array.isArray(e))throw Error("filters should be an array!");!function(t,e){var r=a(function(t){throw Error("fn should be "+t+"!")},t),o=a(function(t,e){return t!==e},t);if(!e.length)return r(t);e.map(function(t){return void 0===t?"undefined":n(t)}).filter(o).forEach(r)}("function",e)}(t,e);var r=function(t){var e=void 0;return function(r){var n=void 0;return t(r)?e=n=r:(n=e,e=null),n}}(t),o=a(i,t,r),l=e.map(u(o)).reverse();return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.some(c(e)),r()}}},function(t,e,r){t.exports=r(50)},function(t,e,r){"use strict";var n=r(51),o=r(1)(function(t,e){return e.includes(t)}),i=n(function(t){return t&&t.length},[function(t,e){var r=t.split("").join(".*")+".*",n=RegExp("^"+r+"$","i"),o=n.test.bind(n);return e.filter(o)},function(t,e){return e.filter(o(t))}]);t.exports=function(t,e){return function(t,e){if("string"!=typeof t)throw Error("pattern should be string!");if(!Array.isArray(e))throw Error("list should be an array!")}(t,e),i(t,e)||[]}},function(t,e,r){t.exports=r(52)},,,,function(t,e,r){"use strict";t.exports=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){if("function"!=typeof t)throw Error("fn should be function!")}(t),function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,r.concat(n,o))}}}.apply(void 0,[t].concat(r))}},,,,,function(t,e,r){(function(e){!function(r){"use strict";var n=r.window?window:e,o="/join";function i(t,e){if(e||(e=t,t=o),!e)throw Error("names must be array!");return t+":"+e.join(":")}"object"==typeof t&&t.exports?t.exports=i:n.join=i}(this)}).call(this,r(23))},,function(t,e,r){"use strict";var n="*.*",o=r(6).getRegExp;t.exports=function(t,e){var r="Specify file type for "+t+" selection",i=DOM.Dialog;i.prompt("Cloud Commander",r,n,{cancel:!1}).then(function(r){n=r;var a=o(r);if(e){var u=0;e.forEach(function(e){var r=DOM.getCurrentName(e);if(".."!==r&&a.test(r)){++u;var n=DOM.isSelected(e);"expand"===t&&(n=!n),n&&DOM.toggleSelectedFile(e)}}),u||i.alert("Select Files","No matches found!")}})}},function(t,e,r){"use strict";var n=r(0),o=r(13),i=r(4),a=r(6).findObjByNameInArr,u=r(3),s=r(7);function c(t,e){return function(){u.parallel(t,e)}}t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=CloudCmd,f=l.PREFIX,d=l.config,h=e;if(h.name&&window[h.name])return r();s.get("modules",function(e,s){var l=d("online")&&navigator.onLine,h=a(s.remote,t),p=i.array(h.local),v=h.version,g=void 0,m=void 0;p?(g=h.remote,m=h.local):(g=[h.remote],m=[h.local]);var y=m.map(function(t){return f+t}),b=function(t,e,r){return function(){u.parallel(e,function(t){if(t)return c();r()})}}(0,g.map(function(t){return o(t,{version:v})}),r),C=c(y,r);n.if(l,b,C)})}},function(t,e,r){"use strict";t.exports=function(t,e,r){!function(t,e,r){if(!Array.isArray(t))throw Error("array should be an array!");if("function"!=typeof e)throw Error("iterator should be a function!");if("function"!=typeof r)throw Error("done should be a function!")}(t,e,r);var n=-1,o=t.length,i=function(a){if(++n,a||n===o)return r(a);e(t[n],i)};i()}},function(t,e,r){t.exports=r(66)},function(t,e,r){"use strict";var n=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);this._dirs=0,this._first=!0,this._find(t,e)}t.exports=function(t){var e=n();return setTimeout(function(){o(e,t)},0),e},o.prototype._find=function(t,e){var r=this;if(e.isFile)return t.emit("file",e.fullPath,e),void(this._first&&t.emit("end"));this._first&&(this._first=!1),t.emit("directory",e.fullPath,e),++this._dirs,e.createReader().readEntries(function(e){[].forEach.call(e,function(e){r._find(t,e)}),--r._dirs,r._dirs||t.emit("end")})}},function(t,e,r){"use strict";var n=r(68),o=r(14),i=r(67),a=r(21);function u(t,e){var r=this;if(!(this instanceof u))return new u(t,e);if("function"!=typeof e)throw Error("processingFn should be function!");o.call(this);var n=Array.isArray(t)?t:[t];this._i=0,this._n=0,this._processingFn=e,this._pause=!1,this._prev=0,this._find(n,function(t,e){r._files=t,r._dirs=e,r._n=t.length+e.length,r._data={},r._getFiles(t,r._data,function(){r._process()})})}t.exports=u,a(u,o),u.prototype._process=function(){var t=this,e=this._processingFn.length,r=void 0,n=this._dirs.shift(),o="directory";if(!n){o="file";var i=this._files.shift();i&&(n=i.fullPath,r=this._data[n])}if(!n)return this.emit("end");var a=void 0;if(!this._pause){switch(e){default:a=[o,n,r];break;case 6:a=[o,n,r,this._i,this._n]}a.push(function(e){++t._i,e&&(t.emit("error",e),t.pause()),t._process(),t._progress()}),this._processingFn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}},u.prototype.pause=function(){this._pause=!0},u.prototype.continue=function(){this._pause&&(this._pause=!1,this._process())},u.prototype.abort=function(){this._files=[],this._dirs=[],this._process()},u.prototype._progress=function(){var t=Math.round(100*this._i/this._n);t!==this._prev&&(this._prev=t,this.emit("progress",t))},u.prototype._getFiles=function(t,e,r){var n=this,o=t.slice(),i=o.shift();if(!i)return r(null,e);i.file(function(t){var a=i.fullPath;e[a]=t,n._getFiles(o,e,r)})},u.prototype._find=function(t,e){var r=[],o=[];i(t,function(t,e){var i=n(t);i.on("directory",function(t){o.push(t)}),i.on("file",function(t,e){r.push(e)}),i.on("end",function(){e()})},function(){e(r,o)})}},function(t,e,r){"use strict";var n=r(69),o=r(2),i=r(5).FS,a=r(9),u=a.getCurrentDirPath;function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.round(t*r/e)}function c(t){a.Images.setProgress(t).show("top")}t.exports=function(t){var e=a.Dialog;t.length&&o.show("top");var r=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)).map(function(t){return t.webkitGetAsEntry()}),l=u().replace(/\/$/,""),f=n(r,function(t,e,r,n,o,u){var f,d=CloudCmd.PREFIX_URL+i+l+e,h=void 0;switch(t){case"file":h=function(t,e){return a.load.put(t,e)}(d,r);break;case"directory":f=d,h=a.load.put(f+"?dir")}h.on("end",u),h.on("progress",function(t){var e=s(n,o);c(e+s(t,100,s(n+1,o)-e))})});f.on("error",function(t){e.alert(t),f.abort()}),f.on("progress",c),f.on("end",CloudCmd.refresh)}},function(t,e,r){"use strict";var n=t.exports;t.exports.isContainClass=function(t,e){if(!t)throw Error("element could not be empty!");if(!e)throw Error("className could not be empty!");return t.classList.contains(e)},t.exports.getByTag=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(t)},t.exports.getById=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector("#"+t)},t.exports.getByClass=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getByClassAll(t,e)[0]},t.exports.getByDataName=function(t){var e='[data-name="'+t+'"]';return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},t.exports.getByClassAll=function(t,e){return(e||document).getElementsByClassName(t)},t.exports.hide=function(t){return t.classList.add("hidden"),n},t.exports.show=function(t){return t.classList.remove("hidden"),n}},function(t,e,r){"use strict";var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(22),i=JSON.parse,a=JSON.stringify;t.exports.parse=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=o.apply(void 0,[i].concat(e));return n(a,2)[1]},t.exports.stringify=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=o.apply(void 0,[a].concat(e));return n(i,2)[1]}},function(t,e,r){"use strict";t.exports=new function(){function t(t){var e={}.toString.call(t),r=e.match(/\s([a-zA-Z]+)/)[1],n=r.toLowerCase();return n}return["arrayBuffer","file","array","object"].forEach(function(e){t[e]=function(e,r){return t(r)===e}.bind(null,e)}),["null","string","undefined","boolean","number","function"].forEach(function(e){t[e]=function(t,e){return typeof e===t}.bind(null,e)}),t}},function(t,e,r){"use strict";var n={"&nbsp;":" ","&lt;":"<","&gt;":">"},o=Object.keys(n);t.exports.encode=function(t){return o.forEach(function(e){var r=RegExp(n[e],"g");t=t.replace(r,e)}),t},t.exports.decode=function(t){return o.forEach(function(e){var r=n[e],o=RegExp(e,"g");t=t.replace(o,r)}),t}},function(t,e,r){"use strict";t.exports=function(t){var e={value:t};return function(t){return arguments.length?(e.value=t,t):e.value}}},function(t,e,r){"use strict";t.exports=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(function(t){if("function"!=typeof t)throw Error("fn should be function!")}(e),n.length>=e.length)return e.apply(void 0,n);var i=function(){return t.apply(void 0,[e].concat(n,Array.prototype.slice.call(arguments)))},a=e.length-n.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,r){return t.apply(void 0,arguments)},function(e,r,n){return t.apply(void 0,arguments)},function(e,r,n,o){return t.apply(void 0,arguments)},function(e,r,n,o,i){return t.apply(void 0,arguments)}]}(i)[a]||i}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){(function(e,r){
/src/dist/cloudcmd.common.js-2-/*!
##############################################
/src/dist/cloudcmd.js:1:!function(e){function t(t){for(var n,i,u=t[0],l=t[1],s=t[2],f=0,d=[];f<u.length;f++)i=u[f],a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var l=r[u];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={17:0};var o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var c=l;o.push([80,0]),r()}({109:function(e,t){},18:function(e,t,r){"use strict";e.exports={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ZERO:48,SEMICOLON:52,COLON:54,A:65,C:67,D:68,G:71,J:74,K:75,M:77,O:79,Q:81,R:82,S:83,T:84,U:85,V:86,X:88,Z:90,INSERT_MAC:96,ASTERISK:106,PLUS:107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,EQUAL:187,HYPHEN:189,DOT:190,SLASH:191,TRA:192,BACKSLASH:220,BRACKET_CLOSE:221}},46:function(e,t,r){"use strict";var n=r(9),a=n.CurrentInfo,o=CloudCmd.sort,i=CloudCmd.order,u=n.getPanelPosition(),l=o[u],s=n.getPanel;CloudCmd.sortPanel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),r=t.dataset.name.replace("js-","");e!==l?i[r]="asc":"asc"===i[r]?i[r]="desc":i[r]="asc",l=o[r]=e;var n=r!==a.panelPosition;CloudCmd.refresh({panel:t,noCurrent:n})}},47:function(e,t,r){"use strict";var n=DOM.CurrentInfo,a=r(6).escapeRegExp;e.exports=function(e,t){for(var r=void 0,o=0,i=!1,u=0,l=a(e),s=new RegExp("^"+l+".*$","i"),c=n.files,f=t(),d=f.length;u<d&&e===f[u];)u++;u||t([]);var p=o=u;t(t().concat(e));var v;DOM.getFilenames(c).filter(function(e){return s.test(e)}).filter((v=function(e){return".."===e},function(e){return!v(e)})).some(function(e){var t=DOM.getCurrentByName(e);if(!o)return i=!0,DOM.setCurrentFile(t),!0;p===o&&(r=t),--o}),i||(DOM.setCurrentFile(r),t([e]))}},54:function(e,t,r){"use strict";var n=r(12),a=r(53),o=DOM.CurrentInfo,i=n([]),u=n(0);function l(e,t){return e===t-1?0:++e}function s(e,t){return e?--e:t-1}e.exports.find=function(e){var t=o.files.map(DOM.getCurrentName),r=a(e,t);i(r),u(0),DOM.setCurrentByName(r[0])},e.exports.findNext=function(){var e=i(),t=l(u(),e.length);u(t),DOM.setCurrentByName(e[u()])},e.exports.findPrevious=function(){var e=i(),t=s(u(),e.length);u(t),DOM.setCurrentByName(e[t])},e.exports._next=l,e.exports._previous=s},55:function(e,t,r){"use strict";var n=r(18),a=DOM.CurrentInfo,o=DOM.Dialog,i=r(12),u=i(""),l=i(!1),s=r(54),c=s.find,f=s.findNext,d=s.findPrevious,p=function(){l(!1)},v=function(){u("")},C=function(e){return e.split("").slice(1).join("")};function h(e,t){var r=t.max,n=t.current,a=t.prevStore,o="d"===a[0];o&&(l(!0),a=C(a));var i,u=r||((i=a)?"g"===i?1:parseInt(i):1);isNaN(u)||(!function(e){var t=e.n,r=e.current,n=e.visual,a=e.sibling,o=n?m:DOM.unselectFile;o(r);for(var i=a+"Sibling",u=0;u<t;u++){var l=r[i];if(!l)break;o(r=l)}DOM.setCurrentFile(r)}({n:u,current:n,sibling:e,visual:l()}),o&&CloudCmd.Operation.show("delete"))}function m(e){".."!==DOM.getCurrentName(e)&&DOM.selectFile(e)}e.exports=function(e,t){var r=a.element,i=t.keyCode,s=u(),C=u(s.concat(e));return i===n.ENTER?v():i===n.ESC?(DOM.unselectFiles(),l(!1),v()):"j"===e?(h("next",{prevStore:s,current:r}),v()):"k"===e?(h("previous",{prevStore:s,current:r}),v()):/gg/.test(C)?(h("previous",{current:r,prevStore:s,max:1/0}),v()):"d"!==e||!l()&&"d"!==s?"G"===e?(h("next",{current:r,prevStore:s,max:1/0}),v()):"y"===e?l()?(DOM.Buffer.copy(),p(),DOM.unselectFiles(),v()):v():/^p$/i.test(e)?(DOM.Buffer.paste(),v()):/^v$/i.test(e)?(DOM.toggleSelectedFile(r),l(!l()),v()):"/"===e?(t.preventDefault(),o.prompt("Cloud Commander","Find","",{cancel:!1}).then(c),v()):"n"===e?(f(),v()):"N"===e?(d(),v()):void 0:(CloudCmd.Operation.show("delete"),p(),v())},e.exports.selectFile=m},56:function(e,t,r){"use strict";var n=DOM.CurrentInfo,a=r(0),o=r(8),i=r(20),u=r(18),l=r(55),s=r(47),c=r(12)();function f(){var e=void 0,t=this;function r(e){return e.key?e.key:(t=e.keyIdentifier,r=t.substring(2),n=parseInt(r,16),String.fromCharCode(n));var t,r,n}function f(e){var o=e.keyCode,f=e.altKey,d=e.ctrlKey,p=e.shiftKey,v=e.metaKey,C=o>=u.ZERO&&o<=u.Z,h=/Numpad/.test(e.code),m=r(e),D=~[".","_","-","+","="].indexOf(m);if(D||(D=function(e,t){switch(t){case u.DOT:return".";case u.HYPHEN:return e?"_":"-";case u.EQUAL:return e?"+":"="}}(p,o))&&(m=D),t.isBind()){var g=CloudCmd.config("vim");if(!g&&!h&&!f&&!d&&!v&&(C||D))return s(m,c);c([]),function(e){var r=void 0,o=void 0,l=void 0,s=void 0,c=n.element,f=n.name,d=CloudCmd.Operation,p=n.panel,v=n.path,C=n.isDir,h=e.keyCode,m=e.altKey,D=e.shiftKey,g=e.ctrlKey,O=e.metaKey,M=g||O;c&&(l=c.previousSibling,s=c.nextSibling);switch(h){case t.TAB:DOM.changePanel(),e.preventDefault();break;case t.INSERT:case t.INSERT_MAC:DOM.toggleSelectedFile(c).setCurrentFile(s);break;case t.DELETE:D?d.show("delete:silent"):d.show("delete");break;case t.ASTERISK:DOM.toggleAllSelectedFiles(c);break;case t.PLUS:DOM.expandSelection(),e.preventDefault();break;case t.MINUS:DOM.shrinkSelection(),e.preventDefault();break;case t.F1:CloudCmd.Help.show(),e.preventDefault();break;case t.F2:DOM.renameCurrent(c);break;case t.F3:D?CloudCmd.Markdown.show(v):M?CloudCmd.sortPanel("name"):CloudCmd.View.show(),e.preventDefault();break;case t.F4:D?CloudCmd.EditFileVim.show():CloudCmd.EditFile.show(),e.preventDefault();break;case t.F5:M?CloudCmd.sortPanel("date"):m?d.show("pack"):d.show("copy"),e.preventDefault();break;case t.F6:M?CloudCmd.sortPanel("size"):d.show("move"),e.preventDefault();break;case t.F7:D?DOM.promptNewFile():DOM.promptNewDir(),e.preventDefault();break;case t.F8:d.show("delete"),e.preventDefault();break;case t.F9:m?d.show("extract"):CloudCmd.Menu.show(),e.preventDefault();break;case t.F10:CloudCmd.Config.show(),e.preventDefault();break;case t.TRA:if(e.preventDefault(),D)return CloudCmd.Terminal.show();CloudCmd.Konsole.show();break;case u.BRACKET_CLOSE:CloudCmd.Konsole.show(),e.preventDefault();break;case t.SPACE:o=!C||".."===f||DOM.isSelected(c),a.if(o,function(){DOM.toggleSelectedFile(c)},function(e){DOM.loadCurrentSize(e,c)}),e.preventDefault();break;case t.U:M&&(DOM.swapPanels(),e.preventDefault());break;case t.UP:D&&DOM.toggleSelectedFile(c),DOM.setCurrentFile(l),e.preventDefault();break;case t.DOWN:D&&DOM.toggleSelectedFile(c),DOM.setCurrentFile(s),e.preventDefault();break;case t.LEFT:if(!m)return;e.preventDefault(),"js-right"===n.panel.getAttribute("data-name")&&DOM.duplicatePanel();break;case t.RIGHT:if(!m)return;e.preventDefault(),"js-left"===n.panel.getAttribute("data-name")&&DOM.duplicatePanel();break;case t.HOME:DOM.setCurrentFile(n.first),e.preventDefault();break;case t.END:DOM.setCurrentFile(n.last),e.preventDefault();break;case t.PAGE_DOWN:for(DOM.scrollByPages(p,1),r=0;r<30&&c.nextSibling;r++)c=c.nextSibling;DOM.setCurrentFile(c),e.preventDefault();break;case t.PAGE_UP:for(DOM.scrollByPages(p,-1),r=0;r<30&&c.previousSibling;r++)c=c.previousSibling;DOM.setCurrentFile(c),e.preventDefault();break;case t.ENTER:n.isDir&&CloudCmd.loadDir({path:"/"===v?"/":v+"/"});break;case t.BACKSPACE:CloudCmd.goToParentDir(),e.preventDefault();break;case t.BACKSLASH:M&&CloudCmd.loadDir({path:"/"});break;case t.A:M&&(DOM.selectAllFiles(),e.preventDefault());break;case t.G:m&&(DOM.goToDirectory(),e.preventDefault());break;case t.M:M&&(CloudCmd.EditNames.show(),e.preventDefault());break;case t.R:M&&(CloudCmd.log("reloading page...\n"),CloudCmd.refresh(),e.preventDefault());break;case t.C:M&&i.copy();break;case t.X:M&&i.cut();break;case t.V:M&&i.paste();break;case t.Z:M&&i.clear();break;case t.D:M&&(CloudCmd.log("clearing storage..."),DOM.Storage.clear(function(){CloudCmd.log("storage cleared")}),e.preventDefault())}}(e),g&&l(m,e)}}this.isBind=function(){return e},this.setBind=function(){e=!0},this.unsetBind=function(){e=!1},this.bind=function(){o.addKey(f),e=!0}}c([]),f.prototype=u,CloudCmd.Key=f},58:function(e,t,r){"use strict";e.exports=function(e,t){var r=e.indexOf(t);return~r?r:0}},59:function(e,t,r){"use strict";e.exports=function(e,t,r){return e<t?r.slice(e,t+1):e>t?r.slice(t,e+1):[r[e]]}},60:function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=r(0),i=r(4),u=r(1),l=r(59),s=u(r(58)),c=r(19),f=r(5),d=f.FS,p=f.apiURL;e.exports.init=function(){var e,t,r,n;e=DOM.getFM(),m.addOnce("contextmenu",e,function(e){CloudCmd.Menu.show({x:e.clientX,y:e.clientY})}),m.addContextMenu(e,function(e){CloudCmd.Menu.ENABLED||e.preventDefault()}),t=DOM.getByClassAll("panel"),r=function(e){var t=e.dataTransfer.files,r=e.dataTransfer.items,n=t.length;if(e.preventDefault(),n&&(!r||!r.length||!r[0].webkitGetAsEntry))return c(t);var o=[].concat(a(r)).filter(function(e){return"file"===e.kind});if(o.length)return DOM.uploadDirectory(o);var i=CloudCmd,u=i.Operation,l=e.shiftKey?"move":"copy";return u.show(l)},n=function(e){var t=e.dataTransfer,r=t.effectAllowed;/move|linkMove/.test(r)?t.dropEffect="move":t.dropEffect="copy",e.preventDefault()},m.add("dragenter",function(){[].concat(a(t)).forEach(function(e){e.classList.add("selected-panel")})}),m.add(["dragleave","drop"],function(){[].concat(a(t)).forEach(function(e){e.classList.remove("selected-panel")})}),[].concat(a(t)).forEach(function(e){m.add("dragover",e,n).add("drop",e,r)}),DOM.Events.add(["unload","beforeunload"],function(e){var t=CloudCmd.Key,r=t&&t.isBind();if(!r)return e.preventDefault(),"Please make sure that you saved all work."}),m.add("popstate",function(e){var t=e.state,r=(t||"").replace(d,"");if(!r)return CloudCmd.route(location.hash);CloudCmd.loadDir({path:r,history:!1})}),m.add("resize",function(){var e=window.innerWidth<CloudCmd.MIN_ONE_PANEL_WIDTH;if(e){var t=C.panel,r=!t;if(!r){var n=t.getAttribute("data-name"),a="js-left"===n;a||DOM.changePanel()}}}),DOM.Files.get("config",function(e,t){var r=t&&t.packer;g=DOM.getPackerExt(r)}),function(){var e=DOM.getFM(),t=function(e){return e.dataset},r=function(e){return/^js-(left|right)$/.test(e.dataset.name)};m.addClick(e,function(e){var n=e.target,a=n.parentElement;if("js-fm-header"===a.dataset.name){var o=(n.dataset.name||"").replace("js-","");if(/^(name|size|date)$/.test(o)){var i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return r;return e(t.parentElement,r.concat(t))}(n).filter(t).filter(r).pop();CloudCmd.sortPanel(o,i)}}})}()},CloudCmd.Listeners=e.exports;var v=u(function(e,t){e.forEach(function(e){e(t)})}),C=DOM.CurrentInfo,h=DOM.Storage,m=DOM.Events,D={mousedown:o.with(M,function(e){var t={alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey},r=y(e.target),a=C.name;DOM.setCurrentFile(r);var o=C.name,i=[];t.shift?i=function(e,t){var r=DOM.getAllFiles(),n=DOM.getFilenames(r),a=s(n),o=a(e),i=a(t);return l(o,i,r)}(a,o):i.push(C.element);0===e.button&&function(e,t){var r=/Mac/.test(window.navigator.platform);if(!e)throw Error("key should not be undefined!");var a=n(t,1)[0];if(r&&e.meta||e.ctrl)return DOM.toggleSelectedFile(a);if(e.shift)t.forEach(DOM.selectFile)}(t,i)}),click:v([function(e){e.ctrlKey||e.preventDefault();t=e.target,r=C.panel,n=DOM.getByDataName("js-files",r),function(e){for(;"UL"!==e.tagName;)e=e.parentElement;return e}(t)!==n&&DOM.changePanel();var t,r,n},function(e){var t=/Mac/.test(window.navigator.platform),r=e.shiftKey,n=e.metaKey,a=e.ctrlKey;r||t&&n||a||DOM.unselectFiles()}]),dragstart:o.with(M,function(e){var t=y(e.target),r=C.isDir,n=DOM.getCurrentLink(t),a=DOM.getCurrentName(t);r&&(a+=g,(n=document.createElement("a")).textContent=a,n.href=p+"/pack"+C.path+g);e.dataTransfer.setData("DownloadURL","application/octet-stream:"+a+":"+n)}),dblclick:o.with(M,function(e){var t=y(e.target),r=DOM.isCurrentIsDir(t),n=DOM.getCurrentPath(t);r&&(CloudCmd.loadDir({path:"/"===n?"/":n+"/"}),e.preventDefault())}),touchstart:o.with(M,function(e){var t=y(e.target);if(!DOM.isCurrentIsDir(t))return;if(!DOM.isCurrentFile(t))return;CloudCmd.loadDir({path:DOM.getCurrentPath(t)}),e.preventDefault()})},g=void 0;e.exports.initKeysPanel=function(){var e=DOM.getById("js-keyspanel");e&&m.addClick(e,function(e){var t=e.target.id,r=function(e){return CloudCmd.Operation.show.bind(null,e)},n={f1:CloudCmd.Help.show,f2:DOM.renameCurrent,f3:CloudCmd.View.show,f4:CloudCmd.EditFile.show,f5:r("copy"),f6:r("move"),f7:DOM.promptNewDir,f8:r("delete"),f9:CloudCmd.Menu.show,f10:CloudCmd.Config.show,"~":CloudCmd.Konsole.show,"shift~":CloudCmd.Terminal.show,contact:CloudCmd.Contact.show};o(n[t])})};function O(e){var t=C.panel;return e.getAttribute("data-name")!==t.getAttribute("data-name")}function M(e,t){"UL"!==t.target.tagName&&e(t)}function y(e){if(!e)return e;for(;"LI"!==e.tagName;)e=e.parentElement;return e}e.exports.setOnPanel=function(e){var t=function(e){return i.string(e)?DOM.getByDataName("js-"+e):e}(e),r=DOM.getByDataName("js-files",t),n=DOM.getByDataName("js-path",t);m.addClick(n,function(e){return function(e,t){var r=void 0,n=void 0,a=void 0,o=void 0,i=CloudCmd.PREFIX,u=t.target;switch(u.getAttribute("data-name")){case"js-clear-storage":h.clear();break;case"js-refresh":o=O(e),CloudCmd.refresh({panel:e,noCurrent:o}),t.preventDefault();break;case"js-path-link":a=CloudCmd.HOST,n=u.href,r=(r=n.replace(a,"")).replace("%%","%25%"),r=(r=decodeURI(r)).replace(RegExp("^"+i+d),"")||"/",o=O(e),CloudCmd.loadDir({path:r,isRefresh:!1,panel:o?e:C.panel}),t.preventDefault()}}.bind(null,e)}(t)),m.add(r,D)}},61:function(e,t,r){"use strict";e.exports=function e(t,r){if(!(this instanceof e))return new e(t,r);n=r.htmlDialogs,a=[function(e){var t=".min.js",r=window.Promise?t:".poly"+t;return e?r:".native"+r}(n),".min.css"].map(function(e){return t+"/modules/smalltalk/dist/smalltalk"+e}),DOM.load.parallel(a,function(){});var n,a;var o=function(e,t){return smalltalk.alert(e,t)};this.alert=o;this.prompt=function(e,t,r,n){return smalltalk.prompt(e,t,r,n)};this.confirm=function(e,t,r){return smalltalk.confirm(e,t,r)};this.alert.noFiles=function(e){return o(e,"No files selected!")}}},63:function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(4),o=r(14),i=r(21),u=r(13),l=r(0),s=r(2),c=r(62),f=r(11),d=r(1),p=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){return e.apply(void 0,r)}},v=r(5),C=v.apiURL,h=v.formatMsg,m=v.buildFromJSON;function D(e,t){var r=void 0,i=void 0,v=void 0,D=function(e){i&&console.log(e)};o.call(this);var g=this,O=t.CurrentInfo,M=t.Storage,y=t.Files;this.log=D,this.PREFIX="",this.PREFIX_URL="",this.DIRCLIENT="/dist/",this.DIRCLIENT_MODULES=this.DIRCLIENT+"modules/",this.MIN_ONE_PANEL_WIDTH=1155,this.HOST=location.origin||location.protocol+"//"+location.host;var w="Cloud Commander";this.TITLE=w,this.sort={left:"name",right:"name"},this.order={left:"asc",right:"asc"},D.enable=function(){i=!0},D.disable=function(){i=!1};var E=e.kebabToCamelCase;function b(e){if(e){var r=e.path,n=e.name||r&&E(r),o=e.func,i=e.funcName,u=e.dobefore;/\.js/.test(r)||(r+=".js"),g[n]||(g[n]=function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];var c=g.PREFIX+g.DIRCLIENT_MODULES+r;l(u);return t.load.js(c,o||function(e){var t=g[n];!e&&a.function(t)&&(g[n]=function(e,t){var r=function(){return e.apply(this,t)};return r.prototype=e.prototype,new r}(t,i))})},g[n][i]=g[n])}}function k(e){var r=g.PREFIX+"/plugins.js";t.load.js(r,e)}function F(e){l.if(g.Key,function(){r=new g.Key,g.Key=r,r.bind()},function(e){b({path:"key.js",func:e})}),y.get("modules",function(t,r){var n=s.show.load,a={edit:n,menu:n};r||(r=[]),r.local.forEach(function(e){var t;b({name:null,path:t=e,dobefore:a[e],funcName:"template"===t?"get":"show"})}),e()})}function P(e){var r=t.getFiles();g.on("current-file",t.updateCurrentInfo),r&&t.setCurrentFile(r[0],{history:!location.hash});var n=t.getCurrentDirPath();if((v=g.Listeners).init(),function(){var e=["left"];return g.config("onePanelMode")?e:[].concat(e,["right"])}().forEach(v.setOnPanel),v.initKeysPanel(),!g.config("dirStorage"))return e();M.get(n,function(r,a){var o,i;a||(o=t.getCurrentDirPath(),i=(O.files||[]).filter(function(e){return".."!==t.getCurrentName(e)}).map(function(e){var r=t.getCurrentName(e),n=t.getCurrentSize(e),a=t.getCurrentOwner(e),o=t.getCurrentMode(e),i=t.getCurrentDate(e);return{name:r,size:n,mode:o,owner:a,date:i}}),a={path:o,files:i},M.set(n,a)),e()})}function N(e,r,n,a){var o=n.history,i=n.noCurrent;y.get(["file","path","link","pathLink"],function(u,s,c,f,d){var p=t.Dialog,C=r||t.getPanel(),h=O.dir,D=O.name;if(u)return p.alert(w,u.responseText);for(var M=C.childNodes.length;M--;)C.removeChild(C.lastChild);if(C.innerHTML=m({sort:n.sort,order:n.order,data:e,id:C.id,prefix:g.PREFIX,template:{file:s,path:c,pathLink:d,link:f}}),v.setOnPanel(C),!i){var y=void 0;".."===D&&"/"!==h&&(y=t.getCurrentByName(h)),y||(y=t.getFiles(C)[0]),t.setCurrentFile(y,{history:o}),g.emit("active-dir",O.dirPath)}l(a)})}this.loadDir=function(e,r){var n=e,a=n.isRefresh,o=n.panel,i=n.history,c=n.noCurrent,d=n.currentName,p=void 0;c||o&&o!==O.panel&&(t.changePanel(),p=!0);var v=void 0;(p||a||!i)&&(v="top"),s.show.load(v,o),function(e,r,n,a){var o=function(o,i){var s=t.RESTful,c=r.currentName||O.name,d=f.parse(i),p=r.refresh,v=r.noCurrent;if(!p&&i)return N(d,n,r,a);var C=t.getPanelPosition(n),h=g.sort[C],m=g.order[C],D=u("?sort={{ sort }}&order={{ order }}",{sort:h,order:m});s.read(e+D,"json",function(o,i){o||(r.sort=h,r.order=m,N(i,n,r,function(){p&&!v&&t.setCurrentByName(c),l(a)}),g.config("dirStorage")&&M.set(e,i))})};r||(r={});if(g.log('reading dir: "'+e+'";'),!g.config("dirStorage"))return o();M.get(e,o)}(n.path,{refresh:a,history:i,noCurrent:c,currentName:d},o,r)},this.init=function(e,r){var n=p(l.series,[F,P,k,l.with(g.route,location.hash)]);g.PREFIX=e,g.PREFIX_URL=e+C,g.config=function(e){return r[e]},g.config.if=d(function(e,t,n){return r[e]&&t(n)}),g._config=function(e,t){r[e]=t},t.Storage.setAllowed(g.config("localStorage")),r.onePanelMode&&(g.MIN_ONE_PANEL_WIDTH=1/0),l.if(document.body.scrollIntoViewIfNeeded,n,function(r){var n=e+"/join:"+[g.DIRCLIENT_MODULES+"polyfill.js","/modules/domtokenlist-shim/dist/domtokenlist.min.js"].join(":");t.loadJquery(function(){t.load.js(n,r)})})},this.join=function(e){var t=g.PREFIX;if(!Array.isArray(e))throw Error("urls should be array!");var r=e.map(function(e){return e.replace(t,"")});return t+c(r)},this.route=function(e){var r=e.split("/");if(e){var a=n(r,1)[0],o=E(a.slice(1)),i=r[1],u=t.getCurrentByName(i);if(!i||u)t.setCurrentFile(u),g.execFromModule(o,"show");else{var l=h("set current file",i,"error");g.log(l)}}},this.logOut=function(){var e=g.PREFIX+"/logout";t.load.ajax({url:e,error:function(){return document.location.reload()}})},this.execFromModule=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=g[e],u=a.object(i);l.if(u,function(){g[e][t].apply(void 0,n)},i)},this.refresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];r||"function"!=typeof e||(r=e,e={});var n=e.panel||O.panel,a=t.getCurrentDirPath(n),o=!!e&&e.noCurrent,i=e.currentName;g.loadDir({path:a,isRefresh:!0,history:!1,panel:n,noCurrent:o,currentName:i},r)},this.goToParentDir=function(){var e=O.dir,r=O.dirPath,n=O.parentDirPath;if(r!==n){var a=n;g.loadDir({path:a},function(){var r=O.panel,n=t.getCurrentByName(e),a=t.getFiles(r)[0];t.setCurrentFile(n||a,{history:history})})}}}i(D,o),e.exports=new D(Util,DOM)},80:function(e,t,r){"use strict";r(109),r(86),r(85),r(84),window.exec=r(0),window.Emitify=r(14),e.exports=window.CloudCmd=function(e){window.Promise=window.Promise||r(78),window.Util=r(6),window.CloudFunc=r(5);var t=r(9);window.DOM=t,window.CloudCmd=r(63);var n=r(61),a=function(e){return e?e.indexOf("/")?"/"+e:e:""}(e.prefix),o=e.htmlDialogs;t.Dialog=n(a,{htmlDialogs:o}),r(60),r(56),r(46),window.CloudCmd.init(a,e)}},84:function(e,t){},85:function(e,t){},86:function(e,t){}});
/src/dist/cloudcmd.js-2-//# sourceMappingURL=cloudcmd.js.map
##############################################
/src/dist/cloudcmd.common.js.map:1:{"version":3,"sources":["file://cloudcmd/node_modules/execon/lib/exec.js","file://cloudcmd/node_modules/currify/legacy/index.js","file://cloudcmd/client/dom/images.js","file://cloudcmd/client/dom/load.js","file://cloudcmd/node_modules/itype/legacy/index.js","file://cloudcmd/common/cloudfunc.js","file://cloudcmd/common/util.js","file://cloudcmd/client/dom/files.js","file://cloudcmd/client/dom/events.js","file://cloudcmd/client/dom/index.js","file://cloudcmd/client/dom/rest.js","file://cloudcmd/node_modules/jonny/legacy/index.js","file://cloudcmd/node_modules/fullstore/legacy/index.js","file://cloudcmd/node_modules/rendy/lib/rendy.js","file://cloudcmd/node_modules/emitify/legacy/index.js","file://cloudcmd/node_modules/squad/legacy/index.js","file://cloudcmd/node_modules/wraptile/legacy/index.js","file://cloudcmd/client/dom/storage.js","file://cloudcmd/client/dom/upload-files.js","file://cloudcmd/client/dom/buffer.js","file://cloudcmd/node_modules/inherits/inherits_browser.js","file://cloudcmd/node_modules/try-catch/lib/try-catch.js","file://cloudcmd/node_modules/webpack/buildin/global.js","file://cloudcmd/node_modules/for-each-key/legacy/lib/for-each-key.js","file://cloudcmd/node_modules/for-each-key/legacy/index.js","file://cloudcmd/node_modules/format-io/lib/format.js","file://cloudcmd/node_modules/apart/lib/apart.js","file://cloudcmd/node_modules/squad/legacy/squad.js","file://cloudcmd/node_modules/somefilter/legacy/somefilter.js","file://cloudcmd/node_modules/somefilter/legacy/index.js","file://cloudcmd/node_modules/limier/legacy/limier.js","file://cloudcmd/node_modules/limier/legacy/index.js","file://cloudcmd/node_modules/wraptile/legacy/lib/wraptile.js","file://cloudcmd/node_modules/join-io/www/join.js","file://cloudcmd/client/dom/select-by-pattern.js","file://cloudcmd/client/dom/load-remote.js","file://cloudcmd/node_modules/itchy/legacy/lib/itchy.js","file://cloudcmd/node_modules/itchy/legacy/index.js","file://cloudcmd/node_modules/domfs-findit/legacy/findit.js","file://cloudcmd/node_modules/philip/legacy/philip.js","file://cloudcmd/client/dom/directory.js","file://cloudcmd/client/dom/dom-tree.js","file://cloudcmd/node_modules/jonny/legacy/jonny.js","file://cloudcmd/node_modules/itype/legacy/lib/itype.js","file://cloudcmd/common/entity.js","file://cloudcmd/node_modules/fullstore/legacy/lib/fullstore.js","file://cloudcmd/node_modules/currify/legacy/lib/currify.js","file://cloudcmd/node_modules/process/browser.js","file://cloudcmd/node_modules/es6-promise/dist/es6-promise.js","file://cloudcmd/node_modules/emitify/legacy/lib/emitify.js"],"names":["global","ExecProto","slice","Array","prototype","exec","callback","ret","isFunc","args","call","arguments","apply","with","array","all","concat","unshift","if","condition","func","ifExist","obj","name","arg","parallel","funcs","variable","regExp","ERROR","keys","callbackWas","arr","count","countFuncs","type","RegExp","toString","match","toLowerCase","Error","length","forEach","num","checkFunc","Object","data","isLast","error","series","fn","i","isArray","shift","done","check","each","iterator","listeners","map","item","bind","eachSeries","try","module","exports","this","__webpack_require__","Images","LoadingImage","createNS","document","createElementNS","create","test","isSVG","getElement","DOM","load","id","className","attribute","notAppend","show","position","panel","image","loading","parent","parentElement","refreshButton","getRefreshButton","current","getCurrentFile","getByDataName","appendChild","get","element","classList","add","remove","text","title","CloudCmd","log","hide","setProgress","value","setAttribute","clearProgress","itype","jonny","Emitify","Events","getExt","params","src","_params$id","undefined","getIdBySrc","async","inner","style","_params$parent","body","getElementById","createElement","funcError","msg","removeChild","onerror","onload","addOnce","addError","href","rel","cssText","innerHTML","string","indexOf","lastIndexOf","sub","substr","replace","ext","js","css","ajax","p","isObject","object","isArrayBuf","method","headers","xhr","XMLHttpRequest","open","url","setRequestHeader","responseType","stringify","onreadystatechange","event","target","readyState","DONE","getResponseHeader","status","notText","dataType","isContain","response","parse","success","statusText","send","put","emitter","encodeURI","upload","onprogress","lengthComputable","percent","loaded","total","Math","round","emit","responseText","head","_params$name","_params$parent2","rendy","currify","store","Entity","getHeaderField","sort","order","FS","Path","getPathLink","prefix","template","names","split","allNames","path","index","slash","join","getDotDot","lastSlash","dotDot","apiURL","MAX_FILE_SIZE","formatMsg","getTitle","options","filter","Boolean","buildFromJSON","templateFile","file","templateLink","link","json","files","htmlPath","pathLink","fileTable","fullPath","getFieldName","size","date","header","tag","owner","mode","linkResult","getType","getSize","encode","getAttribute","dataName","getStrBigFirst","str","toUpperCase","kebabToCamelCase","escapeRegExp","getRegExp","wildcard","escaped","dot","findObjByNameInArr","some","is","time","console","timeEnd","Storage","RESTful","Promises","FILES_JSON","FILES_HTML","FILES_HTML_ROOT","DIR_HTML","DIR_HTML_FS","DIR_JSON","timeout","setTimeout","regExpHTML","regExpJSON","isHTML","isJSON","config","Promise","resolve","reject","Config","read","then","setAllowed","localStorage","getConfig","PREFIX","getSystemFile","isRoot","getPath","showError","getModule","unaryMap","a","_this","parseArgs","eventName","listener","function","window","eventListener","checkType","addEventListener","once","removeEventListener","addKey","_len","argsArr","_key","_toConsumableArray","rmKey","_len2","_key2","addClick","_len3","_key3","rmClick","_len4","_key4","addContextMenu","_len5","_key5","_len6","_key6","addLoad","_len7","_key7","Util","_extends","Title","CurrentInfo","Cmd","CURRENT_FILE","TITLE","TabPanel","js-left","js-right","promptNew","typeName","Dialog","dir","getCurrentDirPath","getCurrentName","getName","prompt","cancel","write","result","currentName","refresh","loadRemote","loadJquery","loadSocket","loadMenu","promptNewDir","promptNewFile","getCurrentDirName","getPanel","textContent","getParentDirPath","dirName","getNotCurrentDirPath","active","getByClass","getCurrentByName","getSelectedFiles","selected","getByClassAll","unselectFiles","toggleSelectedFile","getActiveFiles","getCurrentDate","currentFile","getCurrentSize","loadCurrentSize","getCurrentPath","setCurrentSize","loadCurrentHash","loadCurrentTime","sizeElement","getCurrentMode","getCurrentOwner","getCurrentData","hash","Info","isDir","isCurrentIsDir","saveDataToStorage","alert","noFiles","checkStorageHash","equal","hashNew","getDataFromStorage","saveCurrentData","query","currentPanel","setCurrentByName","setCurrentFile","o","currentFileWas","pathWas","isCurrentFile","unsetCurrentFile","setTitle","history","historyPath","setHistory","scrollIntoViewIfNeeded","getCurrentByPosition","_ref","x","y","elementFromPoint","el","tagName","getEl","selectFile","unselectFile","toggle","toggleAllSelectedFiles","getAllFiles","selectAllFiles","getFiles","expandSelection","selectByPattern","shrinkSelection","pushState","getByTag","isContainClass","isSelected","fileType","getCurrentLink","getFilenames","first","allFiles","setCurrentName","dirPath","loadHash","nameHash","getStoreHash","storeHash","allowed","nameData","set","getFM","getPanelPosition","dataset","isLeft","innerWidth","MIN_ONE_PANEL_WIDTH","children","showPanel","hidePanel","child","deleteCurrent","next","nextSibling","prev","previousSibling","deleteSelected","renameCurrent","from","to","isExist","mv","center","scrollByPages","pPages","changePanel","panelPassive","filesPassive","getPackerExt","goToDirectory","loadDir","duplicatePanel","noCurrent","isOnePanel","swapPanels","dirPathPassive","currentIndex","updateCurrentInfo","info","parentDirPath","firstChild","getData","last","lastChild","panelPosition","Files","uploadDirectory","Buffer","sendRequest","prefixUrl","PREFIX_URL","jqXHR","notLog","delete","imgPosition","top","patch","isQuery","isBeautify","isMinify","cp","pack","extract","Markdown","render","templ","param","tryCatch","setItem","Allowed","isAllowed","removeItem","removeMatch","reg","_tryCatch","_slicedToArray","getItem","clear","wraptile","onEnd","loadFile","n","api","on","max","step","per","getPathWhenRootEmpty","CLASS","COPY","CUT","showMessage","getNames","rmCutClass","callIfEnabled","cut","copy","paste","ct","opStr","opData","Operation","ctor","superCtor","super_","constructor","enumerable","writable","configurable","TempCtor","e","g","Function","eval","key","setValue","FormatProto","addSlashToEnd","l1GB","l1MB","l1TB","l1PB","l1KB","toFixed","permissions","symbolic","perms","group","permsStr","charAt","numeric","Format","arr2","tail","list","_typeof","Symbol","partial","notEqual","b","wrong","wrongType","notType","reduceRight","pop","squad","apart","unary","notEmpty","filters","checkAll","storify","cache","process","processingFilters","reverse","somefilter","isIncludes","includes","limier","regstr","regexp","pattern","c","scope","Scope","SelectType","allMsg","matches","funcOFF","local","_CloudCmd","modules","online","navigator","onLine","remote","version","remoteTmpls","localURL","funcON","tmpl","off","loop","FindIt","entry","_dirs","_first","_find","isFile","createReader","readEntries","entries","findit","itchy","inherits","Philip","processingFn","_i","_n","_processingFn","_pause","_prev","dirs","_files","_data","_getFiles","_process","_this2","argsLength","push","pause","_progress","continue","abort","_this3","filesList","finder","philip","items","webkitGetAsEntry","uploader","full","uploadFile","contains","getElementsByTagName","getById","querySelector","selector","getElementsByClassName","_arr","_d","_e","_s","err","sliceIterator","TypeError","JSON","_tryCatch3","typeBig","Entities","&nbsp;","&lt;","&gt;","code","decode","char","again","d","f","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","run","marker","runClearTimeout","Item","noop","nextTick","browser","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","umask","factory","isFunction","vertxNext","customSchedulerFn","asap","flush","scheduleFlush","browserWindow","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","self","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useSetTimeout","globalSetTimeout","channel","iterations","observer","node","onFulfillment","onRejection","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","resolve$1","promise","createTextNode","observe","characterData","port1","onmessage","port2","postMessage","vertx","require","runOnLoop","runOnContext","attemptVertx","random","substring","PENDING","FULFILLED","REJECTED","TRY_CATCH_ERROR","getThen","handleMaybeThenable","maybeThenable","then$$1","thenable","fulfill","reason","handleOwnThenable","sealed","fulfillmentHandler","rejectionHandler","tryThen","_label","handleForeignThenable","publishRejection","_onerror","publish","_subscribers","subscribers","settled","detail","hasCallback","succeeded","failed","Enumerator","Constructor","input","_instanceConstructor","_remaining","_enumerate","_eachEntry","resolve$$1","_then","_settledAt","Promise$1","_willSettleAt","state","enumerator","resolver","needsResolver","initializePromise","needsNew","catch","finally","race","_","_setScheduler","scheduleFn","_setAsap","asapFn","_asap","polyfill","P","promiseToString","cast","_all","checkEvent","checkFn","events","splice"],"mappings":"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","file":"cloudcmd.common.js","sourcesContent":["(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports = new ExecProto();\n    else\n        global.exec = new ExecProto();\n        \n    function ExecProto() {\n        var slice = Array.prototype.slice,\n            /**\n             * function do save exec of function\n             * @param callback\n             * @param arg1\n             * ...\n             * @param argN\n             */\n            exec        = function(callback) {\n                var ret,\n                    isFunc  = typeof callback === 'function',\n                    args    = slice.call(arguments, 1);\n               \n                if (isFunc)\n                    ret     = callback.apply(null, args);\n                \n                return ret;\n            };\n        \n        /*\n         * return function that calls callback with arguments\n         */\n        exec.with           =  function(callback) {\n            var slice   = Array.prototype.slice,\n                args    = slice.call(arguments, 1);\n            \n            return function() {\n                var array   = slice.call(arguments), \n                    all     = args.concat(array);\n                \n                return callback.apply(null, all);\n            };\n        };\n         \n         /**\n         * return save exec function\n         * @param callback\n         */\n        exec.ret        = function() {\n            var result,\n                args        = slice.call(arguments);\n            \n            args.unshift(exec);\n            result          = exec.with.apply(null, args);\n            \n            return result;\n        };\n        \n        /**\n         * function do conditional save exec of function\n         * @param condition\n         * @param callback\n         * @param func\n         */\n        exec.if         = function(condition, callback, func) {\n            var ret;\n            \n            if (condition)\n                exec(callback);\n            else\n                exec(func, callback);\n            \n            return ret;\n        };\n        \n        /**\n         * exec function if it exist in object\n         * \n         * @param obj\n         * @param name\n         * @param arg\n         */\n        exec.ifExist                = function(obj, name, arg) {\n            var ret,\n                func    = obj && obj[name];\n            \n            if (func)\n                func    = func.apply(obj, arg);\n            \n            return ret;\n        };\n        \n        exec.parallel   = function(funcs, callback) {\n            var ERROR       = 'could not be empty!',\n                keys        = [],\n                callbackWas = false,\n                arr         = [],\n                obj         = {},\n                count       = 0,\n                countFuncs  = 0,\n                type        = getType(funcs);\n            \n            if (!funcs)\n                throw Error('funcs ' + ERROR);\n            \n            if (!callback)\n                throw Error('callback ' + ERROR);\n            \n            switch(type) {\n            case 'array':\n                countFuncs  = funcs.length;\n                \n                funcs.forEach(function(func, num) {\n                    exec(func, function() {\n                        checkFunc(num, arguments);\n                    });\n                });\n                break;\n            \n            case 'object':\n                keys        = Object.keys(funcs);\n                countFuncs  = keys.length;\n                \n                keys.forEach(function(name) {\n                    var func    = funcs[name];\n                    \n                    exec(func, function() {\n                        checkFunc(name, arguments, obj);\n                    });\n                });\n                break;\n            }\n            \n            function checkFunc(num, data) {\n                var args    = slice.call(data, 1),\n                    isLast  = false,\n                    error   = data[0],\n                    length  = args.length;\n                \n                ++count;\n                \n                isLast = count === countFuncs;\n                \n                if (!error)\n                    if (length >= 2)\n                        arr[num] = args;\n                    else\n                        arr[num] = args[0];\n                \n                if (!callbackWas && (error || isLast)) {\n                    callbackWas = true;\n                    \n                    if (type === 'array')\n                        callback.apply(null, [error].concat(arr));\n                    else\n                        callback(error, arr);\n                }\n            }\n        };\n        \n        /**\n         * load functions thrue callbacks one-by-one\n         * @param funcs {Array} - array of functions\n         */\n        exec.series             = function(funcs, callback) {\n            var fn,\n                i           = funcs.length,\n                check       = function(error) {\n                    var done;\n                    \n                    --i;\n                    \n                    if (!i || error) {\n                        done = true;\n                        exec(callback, error);\n                    }\n                    \n                    return done;\n                };\n            \n            if (!Array.isArray(funcs))\n                throw Error('funcs should be array!');\n            \n            fn = funcs.shift();\n            \n            exec(fn, function(error) {\n                if (!check(error))\n                    exec.series(funcs, callback);\n            });\n        };\n        \n        exec.each               = function(array, iterator, callback) {\n            var listeners = array.map(function(item) {\n                return iterator.bind(null, item);\n            });\n            \n            if (!listeners.length)\n                callback();\n            else\n                exec.parallel(listeners, callback);\n        };\n            \n        exec.eachSeries         = function(array, iterator, callback) {\n            var listeners = array.map(function(item) {\n                return iterator.bind(null, item);\n            });\n            \n            if (typeof callback !== 'function')\n                throw Error('callback should be function');\n            \n            if (!listeners.length)\n                callback();\n            else\n                exec.series(listeners, callback);\n        };\n        \n       /**\n         * function execute param function in\n         * try...catch block\n         * \n         * @param callback\n         */\n        exec.try                = function(callback) {\n            var ret;\n            try {\n                ret = callback();\n            } catch(error) {\n                ret = error;\n            }\n            \n            return ret;\n        };\n        \n        function getType(variable) {\n            var regExp      = new RegExp('\\\\s([a-zA-Z]+)'),\n                str         = {}.toString.call(variable),\n                typeBig     = str.match(regExp)[1],\n                result      = typeBig.toLowerCase();\n            \n            return result;\n        } \n        \n        return exec;\n    }\n})(this);\n","module.exports = require('./lib/currify');\n","/* global CloudCmd */\n/* global DOM */\n\n'use strict';\n\nconst Images = module.exports;\n\nconst LOADING = 'loading';\nconst HIDDEN = 'hidden';\nconst ERROR = 'error';\n\nconst LoadingImage = LOADING + getLoadingType();\n\nfunction getLoadingType() {\n    return isSVG() ? '-svg' : '-gif';\n}\n\nmodule.exports.get = getElement;\n\n/**\n * check SVG SMIL animation support\n */\nfunction isSVG() {\n    const createNS = document.createElementNS;\n    const SVG_URL = 'http://www.w3.org/2000/svg';\n    \n    if (!createNS)\n        return false;\n    \n    const create = createNS.bind(document);\n    const svgNode = create(SVG_URL, 'animate');\n    const name = svgNode.toString();\n    \n    return /SVGAnimate/.test(name);\n}\n\n\nfunction getElement() {\n    return DOM.load({\n        name        : 'span',\n        id          : 'js-status-image',\n        className   : 'icon',\n        attribute   : 'data-progress',\n        notAppend   : true\n    });\n}\n\n/* Функция создаёт картинку загрузки */\nmodule.exports.loading = () => {\n    const element = getElement();\n    const classList = element.classList;\n    \n    classList.add(LOADING, LoadingImage);\n    classList.remove(ERROR, HIDDEN);\n    \n    return element;\n};\n\n/* Функция создаёт картинку ошибки загрузки */\nmodule.exports.error = () => {\n    const element = getElement();\n    const classList = element.classList;\n    \n    classList.add(ERROR);\n    classList.remove(HIDDEN, LOADING, LoadingImage);\n    \n    return element;\n};\n\nmodule.exports.show = show;\nmodule.exports.show.load  = show;\nmodule.exports.show.error = error;\n\n/**\n* Function shows loading spinner\n* position = {top: true};\n*/\nfunction show(position, panel) {\n    const image = Images.loading();\n    const parent = image.parentElement;\n    const refreshButton = DOM.getRefreshButton(panel);\n    \n    let current;\n\n    if (position === 'top') {\n        current = refreshButton.parentElement;\n    } else {\n        current = DOM.getCurrentFile();\n        \n        if (current)\n            current = DOM.getByDataName('js-name', current);\n        else\n            current = refreshButton.parentElement;\n    }\n    \n    if (!parent || (parent && parent !== current))\n        current.appendChild(image);\n    \n    DOM.show(image);\n    \n    return image;\n}\n\nfunction error(text) {\n    const image = Images.error();\n    \n    DOM.show(image);\n    image.title = text;\n    \n    CloudCmd.log(text);\n    \n    return image;\n}\n\n/**\n* hide load image\n*/\nmodule.exports.hide = () => {\n    const element = Images.get();\n    \n    DOM.hide(element);\n    \n    return Images;\n};\n\nmodule.exports.setProgress = (value, title) => {\n    const DATA = 'data-progress';\n    const element = Images.get();\n     \n    if (!element)\n        return Images;\n    \n    element.setAttribute(DATA, value + '%');\n    \n    if (title)\n        element.title = title;\n    \n    return Images;\n};\n\nmodule.exports.clearProgress  = () => {\n    const DATA = 'data-progress';\n    const element = Images.get();\n    \n    if (!element)\n        return Images;\n    \n    element.setAttribute(DATA, '');\n    element.title = '';\n    \n    return Images;\n};\n\n","'use strict';\n\nconst itype = require('itype/legacy');\nconst jonny = require('jonny/legacy');\nconst Emitify = require('emitify/legacy');\nconst exec = require('execon');\nconst Images = require('./images');\nconst Events = require('./events');\n\nconst {getExt} = require('../../common/util');\n\nmodule.exports = load;\nmodule.exports.getIdBySrc = getIdBySrc;\nmodule.exports.ext = ext;\n\n/**\n * Функция создаёт элемент и загружает файл с src.\n *\n * @param params = {\n * name, - название тэга\n * src', - путь к файлу\n * func, - обьект, содержаий одну из функций\n *          или сразу две onload и onerror\n *          {onload: function() {}, onerror: function();}\n * style,\n * id,\n * element,\n * async, - true by default\n * inner: 'id{color:red, },\n * class,\n * notAppend - false by default\n *\n */\nfunction load(params) {\n    const {\n        src,\n        id = getIdBySrc(params.src),\n        func,\n        name,\n        async,\n        inner,\n        style,\n        parent = document.body,\n        className,\n        attribute,\n        notAppend,\n    } = params;\n    \n    let element = document.getElementById(id);\n    \n    if (element) {\n        exec(func);\n        return element;\n    }\n    \n    element = document.createElement(name);\n    \n    const funcError = () => {\n        const msg = `file ${src} could not be loaded`;\n        const error = new Error(msg);\n        \n        parent.removeChild(element);\n        \n        Images.show.error(msg);\n        \n        const callback = func && func.onerror || func.onload || func;\n        \n        exec(callback, error);\n    };\n    \n    const funcLoad = () => {\n        const callback = func && func.onload || func;\n        \n        Events.remove('error', element, funcError);\n        \n        exec(callback);\n    };\n    \n    if (/^(script|link)$/.test(name))\n        Events.addOnce('load', element, funcLoad)\n            .addError(element, funcError);\n    \n    if (id)\n        element.id = id;\n    \n    if (className)\n        element.className = className;\n    \n    if (src) {\n        if (name !== 'link') {\n            element.src = src;\n        } else {\n            element.href = src;\n            element.rel = 'stylesheet';\n        }\n    }\n    \n    if (attribute) {\n        const type = itype(attribute);\n        \n        switch(type) {\n        case 'string':\n            element.setAttribute(attribute, '');\n            break;\n        \n        case 'object':\n            Object.keys(attribute).forEach((name) => {\n                element.setAttribute(name, attribute[name]);\n            });\n            break;\n        }\n    }\n    \n    if (style)\n        element.style.cssText = style;\n    \n    if (async && name === 'script' || async === undefined)\n        element.async = true;\n    \n    if (!notAppend)\n        parent.appendChild(element);\n    \n    if (inner)\n        element.innerHTML = inner;\n    \n    return element;\n}\n\n/**\n * Function gets id by src\n * @param src\n *\n * Example: http://domain.com/1.js -> 1_js\n */\nfunction getIdBySrc(src) {\n    const isStr = itype.string(src);\n    \n    if (!isStr)\n        return;\n    \n    if (~src.indexOf(':'))\n        src += '-join';\n    \n    const num = src.lastIndexOf('/') + 1;\n    const sub = src.substr(src, num);\n    const id = src\n        .replace(sub, '')\n        .replace(/\\./g, '-');\n    \n    return id;\n}\n\n/**\n * load file countent via ajax\n *\n * @param params\n */\nmodule.exports.ajax = (params) => {\n    const p = params;\n    const isObject = itype.object(p.data);\n    const isArray = itype.array(p.data);\n    const isArrayBuf = itype(p.data) === 'arraybuffer';\n    const type = p.type || p.method || 'GET';\n    const headers = p.headers || {};\n    const xhr = new XMLHttpRequest();\n    \n    xhr.open(type, p.url, true);\n    \n    Object.keys(headers).forEach((name) => {\n        const value = headers[name];\n        xhr.setRequestHeader(name, value);\n    });\n    \n    if (p.responseType)\n        xhr.responseType = p.responseType;\n    \n    let data;\n    if (!isArrayBuf && isObject || isArray)\n        data = jonny.stringify(p.data);\n    else\n        data = p.data;\n    \n    xhr.onreadystatechange = (event) => {\n        const xhr = event.target;\n        const OK  = 200;\n        \n        if (xhr.readyState !== xhr.DONE)\n            return;\n        \n        Images.clearProgress();\n        \n        const TYPE_JSON = 'application/json';\n        const type        = xhr.getResponseHeader('content-type');\n        \n        if (xhr.status !== OK)\n            return exec(p.error, xhr);\n        \n        const notText = p.dataType !== 'text';\n        const isContain = ~type.indexOf(TYPE_JSON);\n        \n        let data = xhr.response;\n        if (type && isContain && notText)\n            data = jonny.parse(xhr.response) || xhr.response;\n            \n        exec(p.success, data, xhr.statusText, xhr);\n    };\n    \n    xhr.send(data);\n};\n\nmodule.exports.put = (url, body) => {\n    const emitter = Emitify();\n    const xhr = new XMLHttpRequest();\n    \n    url = encodeURI(url)\n        .replace('#', '%23');\n    \n    xhr.open('put', url, true);\n    \n    xhr.upload.onprogress = (event) => {\n        if (!event.lengthComputable)\n            return;\n        \n        const percent = (event.loaded / event.total) * 100;\n        const count   = Math.round(percent);\n        \n        emitter.emit('progress', count);\n    };\n    \n    xhr.onreadystatechange = () => {\n        const over = xhr.readyState === xhr.DONE;\n        const OK = 200;\n        \n        if (!over)\n            return;\n        \n        if (xhr.status === OK)\n            return emitter.emit('end');\n        \n        const error = Error(xhr.responseText);\n        emitter.emit('error', error);\n    };\n    \n    xhr.send(body);\n    \n    return emitter;\n};\n\nfunction ext(src, func) {\n    switch (getExt(src)) {\n    case '.js':\n        return load.js(src, func);\n    \n    case '.css':\n        return load.css(src, func);\n    \n    default:\n        return load({\n            src,\n            func,\n        });\n    }\n}\n\n/**\n * create elements and load them to DOM-tree\n * one-by-one\n *\n * @param params\n * @param callback\n */\nload.series = (params, callback) => {\n    if (!params)\n        return load;\n    \n    const funcs = params\n        .map((url) => ext.bind(null, url))\n        .concat(callback);\n    \n    exec.series(funcs);\n    \n    return load;\n};\n\n/**\n * improve callback of funcs so\n * we pop number of function and\n * if it's last we call pCallBack\n *\n * @param params\n * @param callback - onload function\n */\nload.parallel = (params, callback) => {\n    if (!params)\n        return load;\n    \n    const funcs = params.map((url) => {\n        return ext.bind(null, url);\n    });\n    \n    exec.parallel(funcs, callback);\n    \n    return load;\n};\n\n/**\n * Функция загружает js-файл\n *\n * @param src\n * @param func\n */\nload.js = (src, func) => {\n    const name = 'script';\n    \n    return load({\n        name,\n        src,\n        func,\n    });\n},\n\nload.css = (src, func) => {\n    const name = 'link';\n    const {head:parent} = document;\n    \n    return load({\n        name,\n        src,\n        parent,\n        func\n    });\n};\n\n/**\n * Функция создаёт елемент style и записывает туда стили\n * @param params - структура параметров, заполняеться таким\n * образом: {src: ' ',func: '', id: '', element: '', inner: ''}\n * все параметры опциональны\n */\nload.style = (params) => {\n    const {\n        id,\n        src,\n        name = 'style',\n        func,\n        inner,\n        parent = document.head,\n        element,\n    } = params;\n    \n    return load({\n        id,\n        src,\n        func,\n        name,\n        inner,\n        parent,\n        element,\n    });\n};\n\n","module.exports = require('./lib/itype');\n","'use strict';\n\nconst rendy = require('rendy');\nconst currify = require('currify/legacy');\nconst store = require('fullstore/legacy');\nconst Entity = require('./entity');\n\nconst getHeaderField = currify(_getHeaderField);\n\n/* КОНСТАНТЫ (общие для клиента и сервера)*/\n\n/* название программы */\nconst NAME = 'Cloud Commander';\nconst FS = '/fs';\n\nconst Path = store();\n\nPath('/');\n\nmodule.exports.FS = FS;\nmodule.exports.apiURL = '/api/v1';\nmodule.exports.MAX_FILE_SIZE = 500 * 1024;\nmodule.exports.Entity = Entity;\nmodule.exports.getHeaderField = getHeaderField;\nmodule.exports.getPathLink = getPathLink;\nmodule.exports.getDotDot = getDotDot;\n\nmodule.exports.formatMsg = (msg, name, status) => {\n    status = status || 'ok';\n    name = name || '';\n    \n    if (name)\n        name = '(\"' + name + '\")';\n    \n    return msg + ': ' + status + name;\n};\n\n/**\n * Функция возвращает заголовок веб страницы\n * @path\n */\nmodule.exports.getTitle = (options) => {\n    options = options || {};\n    \n    const path = options.path || Path();\n    const name = options.name;\n    \n    const array = [\n        name || NAME,\n        path,\n    ];\n    \n    return array\n        .filter(Boolean)\n        .join(' - ');\n};\n\n/** Функция получает адреса каждого каталога в пути\n * возвращаеться массив каталогов\n * @param url -  адрес каталога\n */\nfunction getPathLink(url, prefix, template) {\n    if (!url)\n        throw Error('url could not be empty!');\n    \n    if (!template)\n        throw Error('template could not be empty!');\n    \n    const names = url\n        .split('/')\n        .slice(1, -1);\n    \n    const allNames = ['/'].concat(names);\n    const length = allNames.length - 1;\n    \n    let path = '/';\n    \n    const pathHTML = allNames.map((name, index) => {\n        const isLast = index === length;\n        \n        if (index)\n            path += name + '/';\n        \n        if (index && isLast)\n            return name + '/';\n        \n        const slash = index ? '/' : '';\n        \n        return rendy(template, {\n            path,\n            name,\n            slash,\n            prefix,\n        });\n    }).join('');\n    \n    return pathHTML;\n}\n\n/**\n * Функция строит таблицу файлв из JSON-информации о файлах\n * @param params - информация о файлах\n *\n */\nmodule.exports.buildFromJSON = (params) => {\n    const prefix = params.prefix;\n    const template = params.template;\n    const templateFile = template.file;\n    const templateLink = template.link;\n    const json = params.data;\n    \n    const path = json.path;\n    const files = json.files;\n    \n    const sort = params.sort || 'name';\n    const order = params.order || 'asc';\n    \n    /*\n     * Строим путь каталога в котором мы находимся\n     * со всеми подкаталогами\n     */\n    const htmlPath = getPathLink(path, prefix, template.pathLink);\n    \n    let fileTable = rendy(template.path, {\n        link        : prefix + FS + path,\n        fullPath    : path,\n        path        : htmlPath\n    });\n    \n    const owner = 'owner';\n    const mode = 'mode';\n    \n    const getFieldName = getHeaderField(sort, order);\n    \n    const name = getFieldName('name');\n    const size = getFieldName('size');\n    const date = getFieldName('date');\n    \n    const header = rendy(templateFile, {\n        tag         : 'div',\n        attribute   : 'data-name=\"js-fm-header\" ',\n        className   : 'fm-header',\n        type        : '',\n        name,\n        size,\n        date,\n        owner,\n        mode,\n    });\n    \n    /* сохраняем путь */\n    Path(path);\n    \n    fileTable += header + '<ul data-name=\"js-files\" class=\"files\">';\n    /* Если мы не в корне */\n    if (path !== '/') {\n        const dotDot = getDotDot(path);\n        const link = prefix + FS + dotDot;\n        \n        const linkResult = rendy(template.link, {\n            link,\n            title       : '..',\n            name        : '..'\n        });\n        \n        const dataName = 'data-name=\"js-file-..\" ';\n        const attribute = 'draggable=\"true\" ' + dataName;\n        \n        /* Сохраняем путь к каталогу верхнего уровня*/\n        fileTable += rendy(template.file, {\n            tag         : 'li',\n            attribute,\n            className   : '',\n            type        : 'directory',\n            name        : linkResult,\n            size        : '&lt;dir&gt;',\n            date        : '--.--.----',\n            owner       : '.',\n            mode        : '--- --- ---'\n        });\n    }\n    \n    fileTable += files.map((file) => {\n        const link = prefix + FS + path + file.name;\n        \n        const type = getType(file.size);\n        const size = getSize(file.size);\n        \n        const date = file.date || '--.--.----';\n        const owner = file.owner || 'root';\n        const mode = file.mode;\n        \n        const linkResult = rendy(templateLink, {\n            link,\n            title: file.name,\n            name: Entity.encode(file.name),\n            attribute: getAttribute(file.size)\n        });\n        \n        const dataName = 'data-name=\"js-file-' + file.name + '\" ';\n        const attribute = 'draggable=\"true\" ' + dataName;\n        \n        return rendy(templateFile, {\n            tag: 'li',\n            attribute,\n            className: '',\n            type,\n            name: linkResult,\n            size,\n            date,\n            owner,\n            mode,\n        });\n    }).join('');\n    \n    fileTable += '</ul>';\n    \n    return fileTable;\n};\n\nfunction getType(size) {\n    if (size === 'dir')\n        return 'directory';\n    \n    return 'text-file';\n}\n\nfunction getAttribute(size) {\n    if (size === 'dir')\n        return '';\n    \n    return 'target=\"_blank\" ';\n}\n\nfunction getSize(size) {\n    if (size === 'dir')\n        return '&lt;dir&gt;';\n    \n    return size;\n}\n\nfunction _getHeaderField(sort, order, name) {\n    const arrow = order === 'asc' ?  '↑' : '↓';\n    \n    if (sort !== name)\n        return name;\n    \n    if (sort === 'name' && order === 'asc')\n        return name;\n    \n    return `${name}${arrow}`;\n}\n\nfunction getDotDot(path) {\n    // убираем последний слеш и каталог в котором мы сейчас находимся\n    const lastSlash = path.substr(path, path.lastIndexOf('/'));\n    const dotDot = lastSlash.substr(lastSlash, lastSlash.lastIndexOf('/'));\n    \n    if (!dotDot)\n        return '/';\n    \n    return dotDot;\n}\n\n","'use strict';\n\nconst exec = require('execon');\n\nmodule.exports.getStrBigFirst = getStrBigFirst;\nmodule.exports.kebabToCamelCase = kebabToCamelCase;\n\nmodule.exports.escapeRegExp = (str) => {\n    const isStr = typeof str === 'string';\n    \n    if (isStr)\n        str = str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    \n    return str;\n};\n\n/**\n * get regexp from wild card\n */\nmodule.exports.getRegExp = (wildcard) => {\n    wildcard = wildcard || '*';\n    \n    const escaped = '^' + wildcard // search from start of line\n        .replace('.', '\\\\.')\n        .replace('*', '.*')\n        .replace('?', '.?') + '$'; // search to end of line\n    \n    return RegExp(escaped);\n};\n\nmodule.exports.exec = exec;\n\n/**\n * function gets file extension\n *\n * @param name\n * @return ext\n */\nmodule.exports.getExt = (name) => {\n    const isStr = typeof name === 'string';\n    \n    if (!isStr)\n        return '';\n    \n    const dot = name.lastIndexOf('.');\n    \n    if (~dot)\n        return name.substr(dot);\n    \n    return '';\n};\n\n/**\n * find object by name in arrray\n *\n * @param array\n * @param name\n */\nmodule.exports.findObjByNameInArr = (array, name) => {\n    let ret;\n    \n    if (!Array.isArray(array))\n        throw Error('array should be array!');\n        \n    if (typeof name !== 'string')\n        throw Error('name should be string!');\n    \n    array.some((item) => {\n        let is = item.name === name;\n        const isArray = Array.isArray(item);\n        \n        if (is) {\n            ret = item;\n            return is;\n        }\n        \n        if (!isArray)\n            return is;\n        \n        return item.some((item) => {\n            const is = item.name === name;\n            \n            if (is)\n                ret = item.data;\n            \n            return is;\n        });\n    });\n    \n    return ret;\n};\n\n/**\n * start timer\n * @param name\n */\nmodule.exports.time = (name) => {\n    exec.ifExist(console, 'time', [name]);\n};\n\n/**\n * stop timer\n * @param name\n */\nmodule.exports.timeEnd = (name) => {\n    exec.ifExist(console, 'timeEnd', [name]);\n};\n\nfunction getStrBigFirst(str) {\n    if (!str)\n        throw Error('str could not be empty!');\n    \n    const first = str[0].toUpperCase();\n    \n    return first + str.slice(1);\n}\n\nfunction kebabToCamelCase(str) {\n    if (!str)\n        throw Error('str could not be empty!');\n    \n    return str\n        .split('-')\n        .map(getStrBigFirst)\n        .join('')\n        .replace(/.js$/, '');\n}\n\n","/* global CloudCmd */\n\n'use strict';\n\nconst itype = require('itype/legacy');\nconst currify = require('currify/legacy');\nconst exec = require('execon');\n\nconst Storage = require('./storage');\nconst load = require('./load');\nconst RESTful = require('./rest');\n\nconst Promises = {};\nconst FILES_JSON = 'config|modules';\nconst FILES_HTML = 'file|path|link|pathLink|media';\nconst FILES_HTML_ROOT = 'view/media-tmpl|config-tmpl|upload';\nconst DIR_HTML = '/tmpl/';\nconst DIR_HTML_FS = DIR_HTML + 'fs/';\nconst DIR_JSON = '/json/';\nconst timeout = getTimeoutOnce(2000);\n\nconst get = currify(getFile);\nconst unaryMap = (array, fn) => array.map((a) => fn(a));\n\nmodule.exports.get = get;\n\nfunction getFile(name, callback) {\n    const type = itype(name);\n    let array;\n    \n    check(name, callback);\n    \n    switch(type) {\n    case 'string':\n        getModule(name, callback);\n        break;\n    \n    case 'array':\n        array = unaryMap(name, get);\n        \n        exec.parallel(array, callback);\n        break;\n    }\n}\n\nfunction check(name, callback) {\n    if (!name)\n        throw Error('name could not be empty!');\n    \n    if (typeof callback !== 'function')\n        throw Error('callback should be a function');\n}\n\nfunction getModule(name, callback) {\n    let path;\n    \n    const regExpHTML = new RegExp(FILES_HTML + '|' + FILES_HTML_ROOT);\n    const regExpJSON = new RegExp(FILES_JSON);\n    \n    const isHTML = regExpHTML.test(name);\n    const isJSON = regExpJSON.test(name);\n    \n    if (!isHTML && !isJSON) {\n        showError(name);\n    } else if (name === 'config') {\n        getConfig(callback);\n    } else {\n        path = getPath(name, isHTML, isJSON);\n        \n        getSystemFile(path, callback);\n    }\n    \n}\n\nfunction getPath(name, isHTML, isJSON) {\n    let path;\n    const regExp = new RegExp(FILES_HTML_ROOT);\n    const isRoot = regExp.test(name);\n    \n    if (isHTML) {\n        if (isRoot)\n            path = DIR_HTML + name.replace('-tmpl', '');\n        else\n            path = DIR_HTML_FS  + name;\n        \n        path += '.hbs';\n    } else if (isJSON) {\n        path = DIR_JSON  + name + '.json';\n    }\n    \n    return path;\n}\n\nfunction showError(name) {\n    const str = 'Wrong file name: ' + name;\n    const error = new Error(str);\n    \n    throw(error);\n}\n\nfunction getSystemFile(file, callback) {\n    const prefix = CloudCmd.PREFIX;\n    \n    if (!Promises[file])\n        Promises[file] = new Promise((success, error) => {\n            const url = prefix + file;\n            \n            load.ajax({\n                url,\n                success,\n                error\n            });\n        });\n    \n    Promises[file].then((data) => {\n        callback(null, data);\n    }, (error) => {\n        Promises[file] = null;\n        callback(error);\n    });\n}\n\nfunction getConfig(callback) {\n    let is;\n    \n    if (!Promises.config)\n        Promises.config = new Promise((resolve, reject) => {\n            is = true;\n            RESTful.Config.read((error, data) => {\n                if (error)\n                    return reject(error);\n                \n                resolve(data);\n            });\n        });\n    \n    Promises.config.then(function(data) {\n        is = false;\n        Storage.setAllowed(data.localStorage);\n        \n        callback(null, data);\n        \n        timeout(() => {\n            if (!is)\n                Promises.config = null;\n        });\n    }, function() {\n        if (!is)\n            Promises.config = null;\n    });\n}\n\nfunction getTimeoutOnce(time) {\n    let is;\n    \n    return (callback) => {\n        if (is)\n            return;\n        \n        is = true;\n        \n        setTimeout(() => {\n            is = false;\n            callback();\n        }, time);\n    };\n}\n\n","'use strict';\n\nconst itype = require('itype/legacy');\n\nmodule.exports = new EventsProto();\n\nfunction EventsProto() {\n    const Events = this;\n    \n    function parseArgs(eventName, element, listener, callback) {\n        let isFunc;\n        const args = [\n            eventName,\n            element,\n            listener,\n            callback,\n        ];\n        \n        const EVENT_NAME = 1;\n        const ELEMENT = 0;\n        const type = itype(eventName);\n        \n        switch(type) {\n        default:\n            if (!/element$/.test(type))\n                throw Error('unknown eventName: ' + type);\n            \n            parseArgs(\n                args[EVENT_NAME],\n                args[ELEMENT],\n                listener,\n                callback\n            );\n            break;\n        \n        case 'string':\n            isFunc = itype.function(element);\n            \n            if (isFunc) {\n                listener   = element;\n                element    = null;\n            }\n            \n            if (!element)\n                element = window;\n            \n            callback(element, [\n                eventName,\n                listener,\n                false\n            ]);\n            break;\n        \n        case 'array':\n            eventName.forEach((eventName) => {\n                parseArgs(\n                    eventName,\n                    element,\n                    listener,\n                    callback\n                );\n            });\n            break;\n        \n        case 'object':\n            Object.keys(eventName).forEach((name) => {\n                const eventListener = eventName[name];\n                \n                parseArgs(\n                    name,\n                    element,\n                    eventListener,\n                    callback\n                );\n            });\n           \n            break;\n        }\n    }\n    \n    /**\n     * safe add event listener\n     *\n     * @param type\n     * @param element {document by default}\n     * @param listener\n     */\n    this.add = (type, element, listener) => {\n        checkType(type);\n        \n        parseArgs(type, element, listener, (element, args) => {\n            element.addEventListener.apply(element, args);\n        });\n        \n        return Events;\n    };\n    \n    /**\n     * safe add event listener\n     *\n     * @param type\n     * @param listener\n     * @param element {document by default}\n     */\n    this.addOnce = (type, element, listener) => {\n        const once = (event) => {\n            Events.remove(type, element, once);\n            listener(event);\n        };\n        \n        if (!listener) {\n            listener    = element;\n            element     = null;\n        }\n        \n        this.add(type, element, once);\n        \n        return Events;\n    };\n    \n    /**\n     * safe remove event listener\n     *\n     * @param type\n     * @param listener\n     * @param element {document by default}\n     */\n    this.remove = (type, element, listener) => {\n        checkType(type);\n        \n        parseArgs(type, element, listener, (element, args) => {\n            element.removeEventListener.apply(element, args);\n        });\n        \n        return Events;\n    };\n    \n    /**\n     * safe add event keydown listener\n     *\n     * @param listener\n     */\n    this.addKey = function(...argsArr) {\n        const name = 'keydown';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe remove event click listener\n     *\n     * @param listener\n     */\n    this.rmKey = function(...argsArr) {\n        const name = 'keydown';\n        const args = [name, ...argsArr];\n        \n        return Events.remove(...args);\n    };\n    \n    /**\n     * safe add event click listener\n     *\n     * @param listener\n     */\n    this.addClick = function(...argsArr) {\n        const name = 'click';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe remove event click listener\n     *\n     * @param listener\n     */\n    this.rmClick = function(...argsArr) {\n        const name = 'click';\n        const args = [name, ...argsArr];\n        \n        return Events.remove(...args);\n    };\n    \n    this.addContextMenu = function(...argsArr) {\n        const name = 'contextmenu';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe add event click listener\n     *\n     * @param listener\n     */\n    this.addError = function(...argsArr) {\n        const name = 'error';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    /**\n     * safe add load click listener\n     *\n     * @param listener\n     */\n    this.addLoad = function(...argsArr) {\n        const name = 'load';\n        const args = [name, ...argsArr];\n        \n        return Events.add(...args);\n    };\n    \n    function checkType(type) {\n        if (!type)\n            throw Error('type could not be empty!');\n    }\n}\n\n","/* global CloudCmd */\n\n'use strict';\n\nconst itype = require('itype/legacy');\nconst exec = require('execon');\nconst jonny = require('jonny/legacy');\nconst Util = require('../../common/util');\n\nconst {\n    getTitle,\n    FS,\n    Entity,\n} = require('../../common/cloudfunc');\n\nconst DOMTree = require('./dom-tree');\n\nconst DOM = Object.assign({}, DOMTree, new CmdProto());\n\nmodule.exports = DOM;\n\nconst Images = require('./images');\nconst load = require('./load');\nconst Files = require('./files');\nconst RESTful = require('./rest');\nconst Storage = require('./storage');\n\nDOM.Images = Images;\nDOM.load = load;\nDOM.Files = Files;\nDOM.RESTful = RESTful;\nDOM.Storage = Storage;\n\nDOM.uploadDirectory = require('./directory');\nDOM.Buffer = require('./buffer');\nDOM.Events = require('./events');\n\nconst loadRemote = require('./load-remote');\nconst selectByPattern = require('./select-by-pattern');\n\nfunction CmdProto() {\n    let Title;\n    let CurrentInfo = {};\n    \n    const Cmd = this;\n    const CURRENT_FILE = 'current-file';\n    const SELECTED_FILE = 'selected-file';\n    const TITLE = 'Cloud Commander';\n    const TabPanel = {\n        'js-left'        : null,\n        'js-right'       : null\n    };\n    \n    this.loadRemote = (name, options, callback) => {\n        loadRemote(name, options, callback);\n        return DOM;\n    };\n    /**\n     * load jquery from google cdn or local copy\n     * @param callback\n     */\n    this.loadJquery = function(callback) {\n        DOM.loadRemote('jquery', {\n            name    : '$'\n        }, callback);\n        \n        return DOM;\n    };\n    \n    this.loadSocket = function(callback) {\n        DOM.loadRemote('socket', {\n            name    : 'io'\n        }, callback);\n        \n        return DOM;\n    };\n    \n    /** function loads css and js of Menu\n     * @param callback\n     */\n    this.loadMenu = function(callback) {\n        return DOM.loadRemote('menu', callback);\n    };\n    \n    /**\n     * create new folder\n     *\n     */\n    this.promptNewDir        = function() {\n        promptNew('directory', '?dir');\n    };\n    \n    /**\n     * create new file\n     *\n     * @typeName\n     * @type\n     */\n    this.promptNewFile = () => {\n        promptNew('file');\n    };\n    \n    function promptNew(typeName, type) {\n        const {Dialog} = DOM;\n        const dir = Cmd.getCurrentDirPath();\n        const msg = 'New ' + typeName || 'File';\n        const getName = () => {\n            const name = Cmd.getCurrentName();\n            \n            if (name === '..')\n                return '';\n             \n            return name;\n        };\n        \n        const name = getName();\n        const cancel = false;\n        \n        Dialog.prompt(TITLE, msg, name, {cancel}).then((name) => {\n            if (!name)\n                return;\n            \n            const path = (type) => {\n                const result = dir + name;\n                \n                if (!type)\n                    return result;\n                \n                return result + type;\n            };\n            \n            RESTful.write(path(type), (error) => {\n                if (error)\n                    return;\n                \n                const currentName = name;\n                \n                CloudCmd.refresh({\n                    currentName\n                });\n            });\n        });\n    }\n    \n    /**\n     * get current direcotory name\n     */\n    this.getCurrentDirName = () => {\n        const href = DOM.getCurrentDirPath()\n            .replace(/\\/$/, '');\n        \n        const substr  = href.substr(href, href.lastIndexOf('/'));\n        const ret     = href.replace(substr + '/', '') || '/';\n        \n        return ret;\n    };\n    \n    /**\n     * get current direcotory path\n     */\n    this.getCurrentDirPath = (panel = DOM.getPanel()) => {\n        const path = DOM.getByDataName('js-path', panel);\n        const ret = path && path.textContent;\n        \n        return ret;\n    };\n    \n    /**\n     * get current direcotory path\n     */\n    this.getParentDirPath = (panel) => {\n        const path = DOM.getCurrentDirPath(panel);\n        const dirName = DOM.getCurrentDirName() + '/';\n        \n        if (path !== '/')\n            return path.replace(RegExp(dirName + '$'), '');\n        \n        return path;\n    };\n    \n    /**\n     * get not current direcotory path\n     */\n    this.getNotCurrentDirPath = () => {\n        const panel = DOM.getPanel({active: false});\n        const path = DOM.getCurrentDirPath(panel);\n        \n        return path;\n    };\n    \n    /**\n     * unified way to get current file\n     *\n     * @currentFile\n     */\n    this.getCurrentFile = () => {\n        return DOM.getByClass(CURRENT_FILE);\n    };\n    \n    /**\n     * get current file by name\n     */\n    this.getCurrentByName = (name, panel = CurrentInfo.panel) => {\n        const dataName = 'js-file-' + name;\n        const element = DOM.getByDataName(dataName, panel);\n        \n        return element;\n    };\n    \n    /**\n     * unified way to get current file\n     *\n     * @currentFile\n     */\n    this.getSelectedFiles = () => {\n        const panel = DOM.getPanel();\n        const selected = DOM.getByClassAll(SELECTED_FILE, panel);\n        \n        return [...selected];\n    };\n    \n    /*\n     * unselect all files\n     */\n    this.unselectFiles = (files) => {\n        files = files || DOM.getSelectedFiles();\n        \n        [...files].forEach(DOM.toggleSelectedFile);\n    };\n    \n    /**\n     * get all selected files or current when none selected\n     *\n     * @currentFile\n     */\n    this.getActiveFiles = () => {\n        const current = DOM.getCurrentFile();\n        const files = DOM.getSelectedFiles();\n        const name = DOM.getCurrentName(current);\n        \n        if (!files.length && name !== '..')\n            return [current];\n        \n        return files;\n    };\n    \n    this.getCurrentDate = (currentFile) => {\n        const current = currentFile || Cmd.getCurrentFile();\n        const date = DOM\n            .getByDataName('js-date', current)\n            .textContent;\n        \n        return date;\n    };\n    \n    /**\n     * get size\n     * @currentFile\n     */\n    this.getCurrentSize = (currentFile) => {\n        const current = currentFile || Cmd.getCurrentFile();\n        /* если это папка - возвращаем слово dir вместо размера*/\n        const size = DOM.getByDataName('js-size', current)\n            .textContent\n            .replace(/^<|>$/g, '');\n        \n        return size;\n    };\n    \n    /**\n     * get size\n     * @currentFile\n     */\n    this.loadCurrentSize = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?size';\n        const link = DOM.getCurrentPath(current);\n        \n        Images.show.load();\n        \n        if (name === '..')\n            return;\n        \n        RESTful.read(link + query, (error, size) => {\n            if (error)\n                return;\n                \n            DOM.setCurrentSize(size, current);\n            exec(callback, current);\n            Images.hide();\n        });\n    };\n    \n    /**\n     * load hash\n     * @callback\n     * @currentFile\n     */\n    this.loadCurrentHash = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?hash';\n        const link = DOM.getCurrentPath(current);\n        \n        RESTful.read(link + query, callback);\n    };\n    \n    /**\n     * load current modification time of file\n     * @callback\n     * @currentFile\n     */\n    this.loadCurrentTime = (callback, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const query = '?time';\n        const link = DOM.getCurrentPath(current);\n        \n        RESTful.read(link + query, callback);\n    };\n    \n    /**\n     * set size\n     * @currentFile\n     */\n    this.setCurrentSize = (size, currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const sizeElement = DOM.getByDataName('js-size', current);\n        \n        sizeElement.textContent = size;\n    };\n    \n    /**\n     * @currentFile\n     */\n    this.getCurrentMode = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const mode = DOM.getByDataName('js-mode', current);\n        \n        return mode.textContent;\n    };\n    \n    /**\n     * @currentFile\n     */\n    this.getCurrentOwner = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const owner = DOM.getByDataName('js-owner', current);\n        \n        return owner.textContent;\n    };\n    \n    /**\n     * unified way to get current file content\n     *\n     * @param callback\n     * @param currentFile\n     */\n    this.getCurrentData = (callback, currentFile) => {\n        let hash;\n        const Dialog = DOM.Dialog;\n        const Info = DOM.CurrentInfo;\n        const current = currentFile || DOM.getCurrentFile();\n        const path = DOM.getCurrentPath(current);\n        const isDir = DOM.isCurrentIsDir(current);\n        \n        const func = (error, data) => {\n            const ONE_MEGABYTE = 1024 * 1024 * 1024;\n            \n            if (!error) {\n                if (itype.object(data))\n                    data = jonny.stringify(data);\n                \n                const length  = data.length;\n                \n                if (hash && length < ONE_MEGABYTE)\n                    DOM.saveDataToStorage(path, data, hash);\n            }\n            \n            callback(error, data);\n        };\n        \n        if (Info.name === '..') {\n            Dialog.alert.noFiles(TITLE);\n            return callback(Error('No files selected!'));\n        }\n        \n        if (isDir)\n            return RESTful.read(path, func);\n        \n        DOM.checkStorageHash(path, (error, equal, hashNew) => {\n            if (error)\n                return callback(error);\n            \n            if (equal)\n                return DOM.getDataFromStorage(path, callback);\n            \n            hash = hashNew;\n            RESTful.read(path, func);\n        });\n    };\n    \n    /**\n     * unified way to save current file content\n     *\n     * @callback - function({data, name}) {}\n     * @currentFile\n     */\n    this.saveCurrentData = (url, data, callback, query = '') => {\n        DOM.RESTful.write(url + query, data, (error) => {\n            !error && DOM.saveDataToStorage(url, data);\n        });\n    };\n    \n    /**\n     * unified way to get RefreshButton\n     */\n    this.getRefreshButton = (panel) => {\n        const currentPanel = panel || DOM.getPanel();\n        const refresh = DOM.getByDataName('js-refresh', currentPanel);\n        \n        return refresh;\n    };\n    \n    this.setCurrentByName = (name) => {\n        const current = DOM.getCurrentByName(name);\n        return DOM.setCurrentFile(current);\n    };\n    \n    /**\n     * private function thet unset currentfile\n     *\n     * @currentFile\n     */\n    function unsetCurrentFile(currentFile) {\n        const is = DOM.isCurrentFile(currentFile);\n        \n        if (!is)\n            return;\n        \n        currentFile.classList.remove(CURRENT_FILE);\n    }\n    \n    /**\n     * unified way to set current file\n     */\n    this.setCurrentFile = (currentFile, options) => {\n        const o = options;\n        const CENTER = true;\n        const currentFileWas = DOM.getCurrentFile();\n        \n        if (!currentFile)\n            return DOM;\n        \n        let pathWas = '';\n        \n        if (currentFileWas) {\n            pathWas = DOM.getCurrentDirPath();\n            unsetCurrentFile(currentFileWas);\n        }\n        \n        currentFile.classList.add(CURRENT_FILE);\n        \n        let path = DOM.getCurrentDirPath();\n        \n        const name = CloudCmd.config('name');\n        if (path !== pathWas) {\n            DOM.setTitle(getTitle({\n                name,\n                path,\n            }));\n            \n            /* history could be present\n             * but it should be false\n             * to prevent default behavior\n             */\n            if (!o || o.history !== false) {\n                const historyPath = path === '/' ? path : FS + path;\n                DOM.setHistory(historyPath, null, historyPath);\n            }\n        }\n        \n        /* scrolling to current file */\n        DOM.scrollIntoViewIfNeeded(currentFile, CENTER);\n        \n        CloudCmd.emit('current-file', currentFile);\n        CloudCmd.emit('current-path', path);\n        CloudCmd.emit('current-name', DOM.getCurrentName(currentFile));\n        \n        return DOM;\n    };\n    \n    /*\n      * set current file by position\n      *\n      * @param layer    - element\n      * @param          - position {x, y}\n      */\n    this.getCurrentByPosition = ({x, y}) => {\n        const element = document.elementFromPoint(x, y);\n        \n        const getEl = (el) => {\n            const {tagName} = el;\n            const isChild = /A|SPAN|LI/.test(tagName);\n            \n            if (!isChild)\n                return null;\n            \n            if (tagName === 'A')\n                return el.parentElement.parentElement;\n            \n            if (tagName === 'SPAN')\n                return el.parentElement;\n            \n            return el;\n        };\n        \n        const el = getEl(element);\n        \n        if (el && el.tagName !== 'LI')\n            return null;\n        \n        return el;\n    };\n    \n    /**\n     * select current file\n     * @param currentFile\n     */\n    this.selectFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        current.classList.add(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.unselectFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        current.classList.remove(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.toggleSelectedFile = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const name = DOM.getCurrentName(current);\n        \n        if (name === '..')\n            return Cmd;\n        \n        current.classList.toggle(SELECTED_FILE);\n        \n        return Cmd;\n    };\n    \n    this.toggleAllSelectedFiles = () => {\n        DOM.getAllFiles().map(DOM.toggleSelectedFile);\n        \n        return Cmd;\n    };\n    \n    this.selectAllFiles = () => {\n        DOM.getAllFiles().map(DOM.selectFile);\n        \n        return Cmd;\n    };\n    \n    this.getAllFiles = () => {\n        const panel = DOM.getPanel();\n        const files = DOM.getFiles(panel);\n        const name = DOM.getCurrentName(files[0]);\n        \n        const from = (a) => a === '..' ? 1 : 0;\n        const i = from(name);\n        \n        return [...files].slice(i);\n    };\n    \n    /**\n     * open dialog with expand selection\n     */\n    this.expandSelection = () => {\n        const msg = 'expand';\n        const files = CurrentInfo.files;\n        \n        selectByPattern(msg, files);\n    };\n    \n    /**\n     * open dialog with shrink selection\n     */\n    this.shrinkSelection = () => {\n        const msg = 'shrink';\n        const files = CurrentInfo.files;\n       \n        selectByPattern(msg, files);\n    };\n    \n    /**\n     * setting history wrapper\n     */\n    this.setHistory = (data, title, url) => {\n        const ret = window.history;\n        \n        url = CloudCmd.PREFIX + url;\n        \n        if (ret)\n            history.pushState(data, title, url);\n        \n        return ret;\n    };\n    \n    /**\n     * set title or create title element\n     *\n     * @param name\n     */\n    \n    this.setTitle = (name) => {\n        if (!Title)\n            Title = DOM.getByTag('title')[0] ||\n                    DOM.load({\n                        name            : 'title',\n                        innerHTML       : name,\n                        parentElement   : document.head\n                    });\n        \n        Title.textContent = name;\n        \n        return DOM;\n    };\n    \n    /**\n     * current file check\n     *\n     * @param currentFile\n     */\n    this.isCurrentFile = (currentFile) => {\n        if (!currentFile)\n            return false;\n        \n        return DOM.isContainClass(currentFile, CURRENT_FILE);\n    };\n    \n    /**\n     * selected file check\n     *\n     * @param currentFile\n     */\n    this.isSelected = (selected) => {\n        if (!selected)\n            return false;\n        \n        return DOM.isContainClass(selected, SELECTED_FILE);\n    };\n    \n    /**\n     * check is current file is a directory\n     *\n     * @param currentFile\n     */\n    this.isCurrentIsDir = (currentFile) => {\n        const current = currentFile || this.getCurrentFile();\n        const fileType = DOM.getByDataName('js-type', current);\n        const ret = DOM.isContainClass(fileType, 'directory');\n        \n        return ret;\n    };\n    \n    /**\n     * get link from current (or param) file\n     *\n     * @param currentFile - current file by default\n     */\n    this.getCurrentLink = (currentFile) => {\n        const current = currentFile || this.getCurrentFile();\n        const link = DOM.getByTag('a', current);\n        \n        return link[0];\n    };\n    \n    /**\n     * get link from current (or param) file\n     *\n     * @param currentFile - current file by default\n     */\n    this.getCurrentPath = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        const element = DOM.getByTag('a', current)[0];\n        const prefix = CloudCmd.PREFIX;\n        const path = element.getAttribute('href')\n            .replace(RegExp('^' + prefix + FS), '');\n        \n        return path;\n    };\n    \n    /**\n     * get name from current (or param) file\n     *\n     * @param currentFile\n     */\n    this.getCurrentName = (currentFile) => {\n        const current = currentFile || DOM.getCurrentFile();\n        \n        if (!current)\n            return '';\n           \n        const link = DOM.getCurrentLink(current);\n        \n        if (!link)\n            return '';\n            \n        const name = link.title;\n        \n        return name;\n    };\n    \n    this.getFilenames = (files) => {\n        if (!files)\n            throw Error('AllFiles could not be empty');\n        \n        const first = files[0] || DOM.getCurrentFile();\n        const name = DOM.getCurrentName(first);\n        \n        const allFiles = [...files];\n        \n        if (name === '..')\n            allFiles.shift();\n        \n        const names = allFiles.map((current) => {\n            return DOM.getCurrentName(current);\n        });\n        \n        return names;\n    };\n    \n    /**\n     * set name from current (or param) file\n     *\n     * @param name\n     * @param current\n     */\n    this.setCurrentName = (name, current) => {\n        const Info = CurrentInfo;\n        const link = Info.link;\n        const PREFIX = CloudCmd.PREFIX;\n        const dir = PREFIX + FS + Info.dirPath;\n        \n        link.title      = name;\n        link.innerHTML  = Entity.encode(name);\n        link.href       = dir + name;\n        \n        current.setAttribute('data-name', 'js-file-' + name);\n        \n        return link;\n    };\n    \n    /**\n     * check storage hash\n     */\n    this.checkStorageHash = (name, callback) => {\n        const parallel = exec.parallel;\n        const loadHash = DOM.loadCurrentHash;\n        const nameHash = name + '-hash';\n        const getStoreHash = exec.with(Storage.get, nameHash);\n        \n        if (typeof name !== 'string')\n            throw Error('name should be a string!');\n        \n        if (typeof callback !== 'function')\n            throw Error('callback should be a function!');\n        \n        parallel([loadHash, getStoreHash], (error, loadHash, storeHash) => {\n            let equal;\n            const isContain = /error/.test(loadHash);\n            \n            if (isContain)\n                error = loadHash;\n            else if (loadHash === storeHash)\n                equal = true;\n            \n            callback(error, equal, loadHash);\n        });\n    };\n    \n    /**\n     * save data to storage\n     *\n     * @param name\n     * @param data\n     * @param hash\n     * @param callback\n     */\n    this.saveDataToStorage = function(name, data, hash, callback) {\n        const allowed = CloudCmd.config('localStorage');\n        const isDir = DOM.isCurrentIsDir();\n        const nameHash = name + '-hash';\n        const nameData = name + '-data';\n        \n        if (!allowed || isDir)\n            return exec(callback);\n        \n        exec.if(hash, () => {\n            Storage.set(nameHash, hash);\n            Storage.set(nameData, data);\n            \n            exec(callback, hash);\n        }, (callback) => {\n            DOM.loadCurrentHash((error, loadHash) => {\n                hash = loadHash;\n                callback();\n            });\n        });\n    };\n    \n    /**\n     * save data to storage\n     *\n     * @param name\n     * @param data\n     * @param callback\n     */\n    this.getDataFromStorage = (name, callback) => {\n        const nameHash = name + '-hash';\n        const nameData = name + '-data';\n        const allowed = CloudCmd.config('localStorage');\n        const isDir = DOM.isCurrentIsDir();\n        \n        if (!allowed || isDir)\n            return exec(callback);\n        \n        exec.parallel([\n            exec.with(Storage.get, nameData),\n            exec.with(Storage.get, nameHash),\n        ], callback);\n    };\n    \n    this.getFM = () => {\n        return DOM.getPanel().parentElement;\n    };\n    \n    this.getPanelPosition = (panel) => {\n        panel = panel || DOM.getPanel();\n        \n        return panel.dataset.name.replace('js-', '');\n    };\n    \n    /** function getting panel active, or passive\n     * @param options = {active: true}\n     */\n    this.getPanel = (options) => {\n        let files, panel, isLeft;\n        let dataName = 'js-';\n        \n        const current = DOM.getCurrentFile();\n        \n        if (!current) {\n            panel = DOM.getByDataName('js-left');\n        } else {\n            files = current.parentElement,\n            panel = files.parentElement,\n            isLeft = panel.getAttribute('data-name') === 'js-left';\n        }\n        \n        /* if {active : false} getting passive panel */\n        if (options && !options.active) {\n            dataName += isLeft ? 'right' : 'left';\n            panel = DOM.getByDataName(dataName);\n        }\n        \n        /* if two panels showed\n         * then always work with passive\n         * panel\n         */\n        if (window.innerWidth < CloudCmd.MIN_ONE_PANEL_WIDTH)\n            panel = DOM.getByDataName('js-left');\n        \n        if (!panel)\n            throw Error('can not find Active Panel!');\n       \n        return panel;\n    };\n    \n    this.getFiles = (element) => {\n        const files = DOM.getByDataName('js-files', element);\n        return files.children || [];\n    };\n    \n    /**\n     * shows panel right or left (or active)\n     */\n    this.showPanel = (active) => {\n        const panel = DOM.getPanel({active: active});\n        \n        if (!panel)\n            return false;\n        \n        DOM.show(panel);\n        \n        return true;\n    };\n    \n    /**\n     * hides panel right or left (or active)\n     */\n    this.hidePanel = (active) => {\n        const panel = DOM.getPanel({\n            active\n        });\n        \n        if (!panel)\n            return false;\n        \n        return DOM.hide(panel);\n    };\n     \n    /**\n     * remove child of element\n     * @param pChild\n     * @param element\n     */\n    this.remove = (child, element) => {\n        const parent = element || document.body;\n        \n        parent.removeChild(child);\n        \n        return DOM;\n    };\n    \n    /**\n     * remove current file from file table\n     * @param current\n     *\n     */\n    this.deleteCurrent = (current) => {\n        if (!current)\n            Cmd.getCurrentFile();\n        \n        const parent = current && current.parentElement;\n        const name = Cmd.getCurrentName(current);\n        \n        if (current && name !== '..') {\n            const next = current.nextSibling;\n            const prev = current.previousSibling;\n            \n            DOM.setCurrentFile(next || prev);\n            parent.removeChild(current);\n        }\n    };\n    \n    /**\n     * remove selected files from file table\n     * @Selected\n     */\n    this.deleteSelected = (selected) => {\n        selected = selected || DOM.getSelectedFiles();\n        \n        if (!selected)\n            return;\n        \n        selected.map(DOM.deleteCurrent);\n    };\n    \n    /**\n     * rename current file\n     *\n     * @currentFile\n     */\n    this.renameCurrent = (current) => {\n        const Dialog = DOM.Dialog;\n        \n        if (!Cmd.isCurrentFile(current))\n            current = Cmd.getCurrentFile();\n        \n        const from = Cmd.getCurrentName(current);\n        \n        if (from === '..')\n            return Dialog.alert.noFiles(TITLE);\n        \n        const cancel = false;\n        \n        Dialog.prompt(TITLE, 'Rename', from, {cancel}).then((to) => {\n            const isExist = !!DOM.getCurrentByName(to);\n            const dirPath = Cmd.getCurrentDirPath();\n            \n            if (from === to)\n                return;\n            \n            const files = {\n                from : dirPath + from,\n                to : dirPath + to\n            };\n            \n            RESTful.mv(files, (error) => {\n                if (error)\n                    return;\n                \n                DOM.setCurrentName(to, current);\n                Storage.remove(dirPath);\n                \n                if (isExist)\n                    CloudCmd.refresh();\n            });\n        });\n    };\n    \n    /**\n     * unified way to scrollIntoViewIfNeeded\n     * (native suporte by webkit only)\n     * @param element\n     * @param center - to scroll as small as possible param should be false\n     */\n    this.scrollIntoViewIfNeeded = function(element, center = false) {\n        if (!element || !element.scrollIntoViewIfNeeded)\n            return;\n        \n        element.scrollIntoViewIfNeeded(center);\n    };\n    \n    /* scroll on one page */\n    this.scrollByPages = (element, pPages) => {\n        const ret = element && element.scrollByPages && pPages;\n        \n        if (ret)\n            element.scrollByPages(pPages);\n        \n        return ret;\n    };\n    \n    this.changePanel = () => {\n        const Info = CurrentInfo;\n        let panel = DOM.getPanel();\n        \n        CloudCmd.emit('passive-dir', Info.dirPath);\n        \n        const panelPassive = DOM.getPanel({\n            active: false\n        });\n        \n        let name = DOM.getCurrentName();\n        const filesPassive = DOM.getFiles(panelPassive);\n        \n        let dataName = panel.getAttribute('data-name');\n        \n        TabPanel[dataName] = name;\n         \n        panel = panelPassive;\n        dataName = panel.getAttribute('data-name');\n        \n        name = TabPanel[dataName];\n        \n        let files;\n        let current;\n        \n        if (name) {\n            current = DOM.getCurrentByName(name, panel);\n            \n            if (current)\n                files = current.parentElement;\n        }\n        \n        if (!files || !files.parentElement) {\n            current = DOM.getCurrentByName(name, panel);\n            \n            if (!current)\n                current = filesPassive[0];\n        }\n        \n        DOM.setCurrentFile(current, {\n            history: true\n        });\n        \n        CloudCmd.emit('active-dir', Info.dirPath);\n        \n        return DOM;\n    };\n    \n    this.getPackerExt = (type) => {\n        if (type === 'zip')\n            return '.zip';\n        \n        return '.tar.gz';\n    };\n    \n    this.goToDirectory = () => {\n        const msg = 'Go to directory:';\n        const path = CurrentInfo.dirPath;\n        const Dialog = DOM.Dialog;\n        const cancel = false;\n        const setPath = (path) => ({\n            path\n        });\n        \n        Dialog.prompt(TITLE, msg, path, {cancel})\n            .then(setPath)\n            .then(CloudCmd.loadDir);\n    },\n    \n    this.duplicatePanel = () => {\n        const Info = CurrentInfo;\n        const isDir = Info.isDir;\n        const panel = Info.panelPassive;\n        const noCurrent = !Info.isOnePanel;\n        \n        const getPath = (isDir) => {\n            if (isDir)\n                return Info.path;\n            \n            return Info.dirPath;\n        };\n        \n        const path = getPath(isDir);\n        \n        CloudCmd.loadDir({\n            path,\n            panel,\n            noCurrent,\n        });\n    };\n    \n    this.swapPanels = () => {\n        const Info = CurrentInfo;\n        const {panel} = Info;\n        const {files} = Info;\n        const {element} = Info;\n        \n        const panelPassive = Info.panelPassive;\n        \n        const dirPath = DOM.getCurrentDirPath();\n        const dirPathPassive = DOM.getNotCurrentDirPath();\n        \n        let currentIndex = files.indexOf(element);\n        \n        CloudCmd.loadDir({\n            path: dirPath,\n            panel: panelPassive,\n            noCurrent: true\n        });\n        \n        CloudCmd.loadDir({\n            path: dirPathPassive,\n            panel: panel\n        }, () => {\n            const files = Info.files;\n            const length = files.length - 1;\n            \n            if (currentIndex > length)\n                currentIndex = length;\n            \n            const el = files[currentIndex];\n            \n            DOM.setCurrentFile(el);\n        });\n    };\n    \n    this.CurrentInfo = CurrentInfo,\n    \n    this.updateCurrentInfo = (currentFile) => {\n        const info = Cmd.CurrentInfo;\n        const current = currentFile || Cmd.getCurrentFile();\n        const files = current.parentElement;\n        const panel = files.parentElement;\n        \n        const panelPassive = Cmd.getPanel({\n            active: false\n        });\n        \n        const filesPassive = DOM.getFiles(panelPassive);\n        const name = Cmd.getCurrentName(current);\n        \n        info.dir            = Cmd.getCurrentDirName();\n        info.dirPath        = Cmd.getCurrentDirPath();\n        info.parentDirPath  = Cmd.getParentDirPath();\n        info.element        = current;\n        info.ext            = Util.getExt(name);\n        info.files          = [...files.children];\n        info.filesPassive   = [...filesPassive];\n        info.first          = files.firstChild;\n        info.getData        = Cmd.getCurrentData;\n        info.last           = files.lastChild;\n        info.link           = Cmd.getCurrentLink(current);\n        info.mode           = Cmd.getCurrentMode(current);\n        info.name           = name;\n        info.path           = Cmd.getCurrentPath(current);\n        info.panel          = panel;\n        info.panelPassive   = panelPassive;\n        info.size           = Cmd.getCurrentSize(current);\n        info.isDir          = Cmd.isCurrentIsDir();\n        info.isSelected     = Cmd.isSelected(current);\n        info.panelPosition  = Cmd.getPanel().dataset.name.replace('js-', '');\n        info.isOnePanel     =\n            info.panel.getAttribute('data-name') ===\n            info.panelPassive.getAttribute('data-name');\n    };\n}\n\n","'use strict';\n\n/* global CloudCmd, DOM */\n\nconst itype = require('itype/legacy');\n\nconst {FS} = require('../../common/cloudfunc');\n\nmodule.exports = new RESTful();\n\nconst Images = require('./images');\nconst load = require('./load');\n\nfunction RESTful() {\n    this.delete = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback = data;\n            data = null;\n        }\n        \n        sendRequest({\n            method      : 'DELETE',\n            url         : FS + url,\n            data,\n            callback,\n            imgPosition : { top: !!data }\n        });\n    };\n    \n    this.patch = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback = data;\n            data = null;\n        }\n        \n        const imgPosition = {\n            top: true\n        };\n        \n        sendRequest({\n            method: 'PATCH',\n            url: FS + url,\n            data,\n            callback,\n            imgPosition,\n        });\n    };\n    \n    this.write = (url, data, callback) => {\n        const isFunc = itype.function(data);\n        \n        if (!callback && isFunc) {\n            callback    = data;\n            data        = null;\n        }\n        \n        sendRequest({\n            method: 'PUT',\n            url: FS + url,\n            data,\n            callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.read = (url, dataType, callback) => {\n        const isQuery = /\\?/.test(url);\n        const isBeautify = /\\?beautify$/.test(url);\n        const isMinify = /\\?minify$/.test(url);\n        const notLog = !isQuery || isBeautify || isMinify;\n        const isFunc = itype.function(dataType);\n        \n        if (!callback && isFunc) {\n            callback = dataType;\n            dataType = 'text';\n        }\n        \n        sendRequest({\n            method: 'GET',\n            url: FS + url,\n            callback,\n            notLog,\n            dataType,\n        });\n    };\n    \n    this.cp = (data, callback) => {\n        sendRequest({\n            method: 'PUT',\n            url: '/cp',\n            data,\n            callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.pack = (data, callback) => {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/pack',\n            data,\n            callback,\n        });\n    };\n    \n    this.extract = function(data, callback) {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/extract',\n            data        : data,\n            callback    : callback\n        });\n    };\n    \n    this.mv = function(data, callback) {\n        sendRequest({\n            method      : 'PUT',\n            url         : '/mv',\n            data        : data,\n            callback    : callback,\n            imgPosition : { top: true }\n        });\n    };\n    \n    this.Config = {\n        read:   function(callback) {\n            sendRequest({\n                method      : 'GET',\n                url         : '/config',\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        },\n        \n        write:  function(data, callback) {\n            sendRequest({\n                method      : 'PATCH',\n                url         : '/config',\n                data        : data,\n                callback    : callback,\n                imgPosition : { top: true }\n            });\n        }\n    };\n    \n    this.Markdown   = {\n        read    : function(url, callback) {\n            sendRequest({\n                method      : 'GET',\n                url         : '/markdown' + url,\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        },\n        \n        render  : function(data, callback) {\n            sendRequest({\n                method      : 'PUT',\n                url         : '/markdown',\n                data        : data,\n                callback    : callback,\n                imgPosition : { top: true },\n                notLog      : true\n            });\n        }\n    };\n    \n    function sendRequest(params) {\n        const p = params;\n        const prefixUrl = CloudCmd.PREFIX_URL;\n        \n        p.url = prefixUrl + p.url;\n        p.url = encodeURI(p.url);\n        \n        /*\n         * if we send ajax request -\n         * no need in hash so we escape #\n         */\n        p.url = p.url.replace('#', '%23');\n        \n        load.ajax({\n            method      : p.method,\n            url         : p.url,\n            data        : p.data,\n            dataType    : p.dataType,\n            error       : (jqXHR) => {\n                const response = jqXHR.responseText;\n                const statusText = jqXHR.statusText;\n                const status = jqXHR.status;\n                const text = status === 404 ? response : statusText;\n                \n                Images.show.error(text);\n                setTimeout(() => {\n                    DOM.Dialog.alert(CloudCmd.TITLE, text);\n                }, 100);\n                \n                p.callback(Error(text));\n            },\n            success: (data) => {\n                Images.hide();\n                \n                if (!p.notLog)\n                    CloudCmd.log(data);\n                \n                p.callback(null, data);\n            }\n        });\n    }\n}\n","module.exports = require('./jonny')\n","module.exports = require('./lib/fullstore');\n","(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports = rendy;\n    else\n        global.rendy = rendy;\n    \n    /**\n     * render template with data\n     *\n     * @param templ\n     * @param data\n     */\n    function rendy(templ, data) {\n        var result  = templ;\n        \n        check(templ, data);\n        \n        Object\n            .keys(data)\n            .forEach(function(param) {\n                var name    = '{{ ' + param + ' }}',\n                    str     = data[param];\n                \n                while(~result.indexOf(name))\n                    result = result.replace(name, str);\n            });\n        \n        if (~result.indexOf('{{'))\n            result = result.replace(/{{.*?}}/g, '');\n        \n        return result;\n    }\n    \n    function check(templ, data) {\n        if (typeof templ !== 'string')\n            throw(Error('template should be string!'));\n        \n        if (typeof data !== 'object')\n            throw(Error('data should be object!'));\n    }\n})(this);\n","module.exports = require('./lib/emitify');\n","module.exports = require('./squad');\n","module.exports = require('./lib/wraptile');\n","'use strict';\n\nconst itype = require('itype/legacy');\nconst jonny = require('jonny/legacy');\nconst exec = require('execon');\nconst tryCatch = require('try-catch');\nconst setItem = localStorage.setItem.bind(localStorage);\n\n/* приватный переключатель возможности работы с кэшем */\nlet Allowed;\n\n/**\n * allow Storage usage\n */\nmodule.exports.setAllowed = (isAllowed) => {\n    Allowed = isAllowed;\n};\n\n/** remove element */\nmodule.exports.remove = (item, callback) => {\n    if (Allowed)\n        localStorage.removeItem(item);\n    \n    exec(callback, null, Allowed);\n    \n    return module.exports;\n};\n\nmodule.exports.removeMatch = (string, callback) => {\n    const reg = RegExp('^' + string + '.*$');\n    const test = (a) => reg.test(a);\n    const remove = (a) => localStorage.removeItem(a);\n    \n    Object.keys(localStorage)\n        .filter(test)\n        .forEach(remove);\n    \n    exec(callback);\n    \n    return module.exports;\n};\n\n/** если доступен localStorage и\n * в нём есть нужная нам директория -\n * записываем данные в него\n */\nmodule.exports.set = (name, data, callback) => {\n    let str, error;\n    \n    if (itype.object(data))\n        str = jonny.stringify(data);\n    \n    if (Allowed && name)\n        [error] = tryCatch(setItem, name, str || data);\n    \n    exec(callback, error);\n    \n    return module.exports;\n},\n\n/** Если доступен Storage принимаем из него данные*/\nmodule.exports.get = (name, callback) => {\n    let ret;\n    \n    if (Allowed)\n        ret = localStorage.getItem(name);\n    \n    exec(callback, null, ret);\n    \n    return module.exports;\n},\n\n/** функция чистит весь кэш для всех каталогов*/\nmodule.exports.clear = (callback) => {\n    const ret = Allowed;\n    \n    if (ret)\n        localStorage.clear();\n    \n    exec(callback, null, ret);\n    \n    return module.exports;\n};\n\n","'use strict';\n\n/* global CloudCmd */\n\nconst {eachSeries} = require('execon');\nconst wraptile = require('wraptile/legacy');\n\nconst DOM = require('.');\nconst load = require('./load');\nconst Images = require('./images');\n\nconst {FS} = require('../../common/cloudfunc');\n\nconst onEnd = wraptile(_onEnd);\nconst loadFile = wraptile(_loadFile);\n\nconst {\n    getCurrentDirPath: getPathWhenRootEmpty\n} = DOM;\n\nmodule.exports = (dir, files) => {\n    if (!files) {\n        files = dir;\n        dir = getPathWhenRootEmpty();\n    }\n    \n    const n = files.length;\n    \n    if (!n)\n        return;\n    \n    const array = [...files];\n    const {name} = files[0];\n    \n    eachSeries(array, loadFile(dir, n), onEnd(name));\n};\n\nfunction _onEnd(currentName) {\n    CloudCmd.refresh({\n        currentName\n    });\n}\n\nfunction _loadFile(dir, n, file, callback) {\n    let i = 0;\n    \n    const name = file.name;\n    const path = dir + name;\n    const {PREFIX_URL} = CloudCmd;\n    const api = PREFIX_URL + FS;\n    \n    const percent = (i, n, per = 100) => {\n        return Math.round(i * per / n);\n    };\n    \n    const step = (n) => 100 / n;\n    \n    ++i;\n    \n    load.put(api + path, file)\n        .on('end', callback)\n        .on('progress', (count) => {\n            const max = step(n);\n            const value = (i - 1) * max + percent(count, 100, max);\n            \n            Images.show.load('top');\n            Images.setProgress(Math.round(value));\n        });\n}\n\n","'use strict';\n\n/* global CloudCmd */\n\nconst jonny = require('jonny/legacy');\nconst exec = require('execon');\n\nconst Storage = require('./storage');\nconst DOM = require('./');\n\nmodule.exports = new BufferProto();\n\nfunction BufferProto() {\n    const Info = DOM.CurrentInfo;\n    const CLASS = 'cut-file';\n    const COPY = 'copy';\n    const CUT = 'cut';\n    const TITLE = 'Buffer';\n    \n    const Buffer  = {\n        cut     : callIfEnabled.bind(null, cut),\n        copy    : callIfEnabled.bind(null, copy),\n        clear   : callIfEnabled.bind(null, clear),\n        paste   : callIfEnabled.bind(null, paste)\n    };\n    \n    function showMessage(msg) {\n        DOM.Dialog.alert(TITLE, msg);\n    }\n    \n    function getNames() {\n        const files = DOM.getActiveFiles();\n        const names = DOM.getFilenames(files);\n        \n        return names;\n    }\n    \n    function addCutClass() {\n        const files = DOM.getActiveFiles();\n        \n        files.forEach((element) => {\n            element.classList.add(CLASS);\n        });\n    }\n    \n    function rmCutClass() {\n        const files = DOM.getByClassAll(CLASS);\n        \n        [...files].forEach((element) => {\n            element.classList.remove(CLASS);\n        });\n    }\n    \n    function callIfEnabled(callback) {\n        const is = CloudCmd.config('buffer');\n        \n        if (is)\n            return callback();\n        \n        showMessage('Buffer disabled in config!');\n    }\n    \n    function copy() {\n        const names = getNames();\n        const from = Info.dirPath;\n        \n        clear();\n        \n        if (!names.length)\n            return;\n        \n        Storage.remove(CUT)\n            .set(COPY, {\n                from,\n                names,\n            });\n    }\n    \n    function cut() {\n        const names = getNames();\n        const from = Info.dirPath;\n        \n        clear();\n        \n        if (!names.length)\n            return;\n        \n        addCutClass();\n        \n        Storage\n            .set(CUT, {\n                from,\n                names,\n            });\n    }\n    \n    function clear() {\n        Storage.remove(COPY)\n            .remove(CUT);\n        \n        rmCutClass();\n    }\n    \n    function paste() {\n        const copy = Storage.get.bind(Storage, COPY);\n        const cut = Storage.get.bind(Storage, CUT);\n        \n        exec.parallel([copy, cut], (error, cp, ct) => {\n            const opStr = cp ? 'copy' : 'move';\n            const opData = cp || ct;\n            const Operation = CloudCmd.Operation;\n            const msg = 'Path is same!';\n            const path = Info.dirPath;\n            \n            if (!error && !cp && !ct)\n                error = 'Buffer is empty!';\n           \n            if (error)\n                return showMessage(error);\n                \n            const data = jonny.parse(opData);\n            data.to = path;\n            \n            if (data.from === path)\n                return showMessage(msg);\n            \n            Operation.show(opStr, data);\n            clear();\n        });\n    }\n    \n    return Buffer;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\n\nmodule.exports = function tryCatch(fn) {\n    var args = [].slice.call(arguments, 1);\n    \n    try {\n        return [null, fn.apply(null, args)];\n    } catch(e) {\n        return [e];\n    }\n};\n\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nvar setValue = function setValue(fn, obj) {\n    return function (key) {\n        return fn(key, obj[key]);\n    };\n};\n\nmodule.exports = function (fn, obj) {\n    Object.keys(obj).forEach(setValue(fn, obj));\n};","module.exports = require('./lib/for-each-key');\n","(function(global) {\n    'use strict';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports  = new FormatProto();\n    else\n        global.Format   = new FormatProto();\n        \n    function FormatProto() {\n        this.addSlashToEnd  = function(path) {\n            var length, isSlash;\n            \n            if (path) {\n                length  = path.length - 1;\n                isSlash = path[length] === '/';\n                \n                if (!isSlash)\n                    path += '/';\n            }\n            \n            return path;\n        };\n        \n        /** Функция получает короткие размеры\n         * конвертируя байт в килобайты, мегабойты,\n         * гигайбайты и терабайты\n         * @pSize - размер в байтах\n         */\n        this.size    = function(size) {\n            var isNumber    = typeof size === 'number',\n                l1KB        = 1024,\n                l1MB        = l1KB * l1KB,\n                l1GB        = l1MB * l1KB,\n                l1TB        = l1GB * l1KB,\n                l1PB        = l1TB * l1KB;\n            \n            if (isNumber) {\n                if      (size < l1KB)   size = size + 'b';\n                else if (size < l1MB)   size = (size / l1KB).toFixed(2) + 'kb';\n                else if (size < l1GB)   size = (size / l1MB).toFixed(2) + 'mb';\n                else if (size < l1TB)   size = (size / l1GB).toFixed(2) + 'gb';\n                else if (size < l1PB)   size = (size / l1TB).toFixed(2) + 'tb';\n                else                    size = (size / l1PB).toFixed(2) + 'pb';\n            }\n            \n            return size;\n        };\n        \n        /**\n         * Функция переводит права из цыфрового вида в символьный\n         * @param perms - строка с правами доступа\n         * к файлу в 8-миричной системе\n         */\n        this.permissions = {\n            symbolic: function(perms) {\n                var type, owner, group, all,\n                    is              = typeof perms !== undefined,\n                    permsStr        = '',\n                    permissions     = '';\n                /*\n                    S_IRUSR   0000400   protection: readable by owner\n                    S_IWUSR   0000200   writable by owner\n                    S_IXUSR   0000100   executable by owner\n                    S_IRGRP   0000040   readable by group\n                    S_IWGRP   0000020   writable by group\n                    S_IXGRP   0000010   executable by group\n                    S_IROTH   0000004   readable by all\n                    S_IWOTH   0000002   writable by all\n                    S_IXOTH   0000001   executable by all\n                */\n                \n                if (is) {\n                    permsStr = perms.toString();\n                    /* тип файла */\n                    type = permsStr.charAt(0);\n                    \n                    switch (type - 0) {\n                        case 1: /* обычный файл */\n                            type = '-';\n                            break;\n                        case 2: /* байт-ориентированное (символьное) устройство*/\n                            type = 'c';\n                            break;\n                        case 4: /* каталог */\n                            type = 'd';\n                            break;\n                        default:\n                            type = '-';\n                    }\n                    \n                    /* оставляем последние 3 символа*/\n                    if (permsStr.length > 5)\n                        permsStr = permsStr.substr(3);\n                    else\n                        permsStr = permsStr.substr(2);\n                    \n                    /* Рекомендации гугла советуют вместо string[3]\n                     * использовать string.charAt(3)\n                     */\n                    /*\n                        http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml?showone=Standards_features#Standards_features\n                        \n                        Always preferred over non-standards featuresFor\n                        maximum portability and compatibility, always\n                        prefer standards features over non-standards\n                        features (e.g., string.charAt(3) over string[3]\n                        and element access with DOM functions instead\n                        of using an application-specific shorthand).\n                    */\n                    /* Переводим в двоичную систему */\n                    owner = (permsStr[0] - 0).toString(2),\n                    group = (permsStr[1] - 0).toString(2),\n                    all   = (permsStr[2] - 0).toString(2),\n                    \n                    /* переводим в символьную систему*/\n                    permissions =\n                                 (owner[0] - 0 > 0 ? 'r' : '-')     +\n                                 (owner[1] - 0 > 0 ? 'w' : '-')     +\n                                 (owner[2] - 0 > 0 ? 'x' : '-')     +\n                                 ' '                                +\n                                 (group[0] - 0 > 0 ? 'r' : '-')     +\n                                 (group[1] - 0 > 0 ? 'w' : '-')     +\n                                 (group[2] - 0 > 0 ? 'x' : '-')     +\n                                 ' '                                +\n                                 (all[0] - 0    > 0 ? 'r' : '-')     +\n                                 (all[1] - 0    > 0 ? 'w' : '-')     +\n                                 (all[2] - 0    > 0 ? 'x' : '-');\n                }\n                \n                return permissions;\n            },\n            \n            /**\n             * Функция конвертирует права доступа к файлам из символьного вида\n             * в цыфровой\n             */\n            numeric: function(perms) {\n                var owner, group, all,\n                    length          = perms && perms.length === 11;\n                \n                if (length) {\n                    owner   = (perms[0]  === 'r' ? 4 : 0) +\n                              (perms[1]  === 'w' ? 2 : 0) +\n                              (perms[2]  === 'x' ? 1 : 0),\n                                \n                    group   = (perms[4]  === 'r' ? 4 : 0) +\n                              (perms[5]  === 'w' ? 2 : 0) +\n                              (perms[6]  === 'x' ? 1 : 0),\n                            \n                    all     = (perms[8]  === 'r' ? 4 : 0) +\n                              (perms[9]  === 'w' ? 2 : 0) +\n                              (perms[10] === 'x' ? 1 : 0);\n                    \n                    /* добавляем 2 цифры до 5 */\n                    perms   = '00' + owner + group + all;\n                }\n                \n                return perms;\n            }\n        };\n    }\n    \n})(this);\n","'use strict';\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar tail = function tail(list) {\n    return slice(list, 1);\n};\n\nmodule.exports = apart;\n\nfunction apart(fn) {\n    check(fn);\n\n    var first = tail(arguments);\n\n    return function () {\n        var args = [].concat(_toConsumableArray(first), Array.prototype.slice.call(arguments));\n\n        return fn.apply(undefined, _toConsumableArray(args));\n    };\n}\n\nfunction slice(list, from, to) {\n    return [].slice.call(list, from, to);\n}\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nmodule.exports = function () {\n    for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n        funcs[_key] = arguments[_key];\n    }\n\n    check('function', funcs);\n\n    return function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        return funcs.reduceRight(apply, args).pop();\n    };\n};\n\nfunction apply(value, fn) {\n    return [fn.apply(undefined, _toConsumableArray(value))];\n}\n\nfunction check(type, array) {\n    var wrongType = partial(wrong, type);\n    var notType = partial(notEqual, type);\n\n    if (!array.length) return wrongType(type);\n\n    array.map(getType).filter(notType).forEach(wrongType);\n}\n\nfunction partial(fn, value) {\n    return fn.bind(null, value);\n}\n\nfunction getType(item) {\n    return typeof item === 'undefined' ? 'undefined' : _typeof(item);\n}\n\nfunction notEqual(a, b) {\n    return a !== b;\n}\n\nfunction wrong(type) {\n    throw Error('fn should be ' + type + '!');\n}","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar currify = require('currify/legacy');\nvar squad = require('squad/legacy');\nvar apart = require('apart');\n\nvar unary = currify(function (fn, value) {\n    return fn(value);\n});\nvar notEmpty = function notEmpty(value) {\n    return value;\n};\nvar apply = currify(function (args, fn) {\n    return fn.apply(undefined, _toConsumableArray(args));\n});\n\nmodule.exports = somefilter;\n\nfunction somefilter(condition, filters) {\n    if (!filters) {\n        filters = condition;\n        condition = notEmpty;\n    }\n\n    checkAll(condition, filters);\n\n    var storify = store(condition);\n    var process = apart(squad, condition, storify);\n\n    var processingFilters = filters.map(unary(process)).reverse();\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        processingFilters.some(apply(args));\n\n        return storify();\n    };\n}\n\nfunction store(condition) {\n    var cache = void 0;\n\n    return function (value) {\n        var result = void 0;\n\n        if (condition(value)) {\n            cache = result = value;\n        } else {\n            result = cache;\n            cache = null;\n        }\n\n        return result;\n    };\n}\n\nfunction checkAll(condition, filters) {\n    if (typeof condition !== 'function') throw Error('condition should be function!');\n\n    if (!Array.isArray(filters)) throw Error('filters should be an array!');\n\n    check('function', filters);\n}\n\nfunction check(type, array) {\n    var getType = function getType(item) {\n        return typeof item === 'undefined' ? 'undefined' : _typeof(item);\n    };\n    var notEqual = function notEqual(a, b) {\n        return a !== b;\n    };\n    var wrong = function wrong(type) {\n        throw Error('fn should be ' + type + '!');\n    };\n\n    var wrongType = apart(wrong, type);\n    var notType = apart(notEqual, type);\n\n    if (!array.length) return wrongType(type);\n\n    array.map(getType).filter(notType).forEach(wrongType);\n}","module.exports = require('./somefilter');\n","'use strict';\n\nvar somefilter = require('somefilter/legacy');\nvar currify = require('currify/legacy');\n\nvar isIncludes = currify(function (str, name) {\n    return name.includes(str);\n});\nvar isEqual = function isEqual(a) {\n    return a && a.length;\n};\nvar limier = somefilter(isEqual, [findByAbr, findByName]);\n\nmodule.exports = function (pattern, list) {\n    check(pattern, list);\n\n    return limier(pattern, list) || [];\n};\n\nfunction findByName(str, names) {\n    return names.filter(isIncludes(str));\n}\n\nfunction findByAbr(str, names) {\n    var regstr = str.split('').join('.*') + '.*';\n\n    var regexp = RegExp('^' + regstr + '$', 'i');\n    var test = regexp.test.bind(regexp);\n\n    return names.filter(test);\n}\n\nfunction check(pattern, list) {\n    if (typeof pattern !== 'string') throw Error('pattern should be string!');\n\n    if (!Array.isArray(list)) throw Error('list should be an array!');\n}","module.exports = require('./limier');\n","'use strict';\n\nvar wrap = function wrap(fn) {\n    for (var _len = arguments.length, a = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        a[_key - 1] = arguments[_key];\n    }\n\n    return function () {\n        for (var _len2 = arguments.length, b = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            b[_key2] = arguments[_key2];\n        }\n\n        return function () {\n            for (var _len3 = arguments.length, c = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                c[_key3] = arguments[_key3];\n            }\n\n            return fn.apply(undefined, a.concat(b, c));\n        };\n    };\n};\n\nmodule.exports = function (fn) {\n    for (var _len4 = arguments.length, a = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        a[_key4 - 1] = arguments[_key4];\n    }\n\n    check(fn);\n\n    return wrap.apply(undefined, [fn].concat(a));\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}","(function(scope) {\n    'use strict';\n    \n    var Scope   = scope.window ? window : global,\n        \n        PREFIX  = '/join';\n    \n    if (typeof module === 'object' && module.exports)\n        module.exports  = join;\n    else\n        Scope.join      = join;\n    \n    function join (prefix, names) {\n        var url;\n        \n        if (!names) {\n            names   = prefix;\n            prefix  = PREFIX;\n        }\n        \n        if (!names)\n            throw(Error('names must be array!'));\n        \n        url = prefix + ':' + names.join(':');\n        \n        return url;\n    }\n    \n})(this);\n","'use strict';\n\n/* global DOM */\n\nlet SelectType = '*.*';\nconst TITLE = 'Cloud Commander';\n\nconst {getRegExp} = require('../../common/util');\n\nmodule.exports = (msg, files) => {\n    const allMsg = `Specify file type for ${msg} selection`;\n    const cancel = false;\n    const {Dialog} = DOM;\n    \n    Dialog.prompt(TITLE, allMsg, SelectType, {cancel}).then((type) => {\n        SelectType = type;\n        \n        const regExp = getRegExp(type);\n        \n        if (!files)\n            return;\n        \n        let matches = 0;\n        \n        files.forEach((current) => {\n            const name = DOM.getCurrentName(current);\n             \n            if (name === '..')\n                return;\n            \n            const isMatch = regExp.test(name);\n            \n            if (!isMatch)\n                return;\n            \n            ++matches;\n            \n            let isSelected = DOM.isSelected(current);\n            const shouldSel = msg === 'expand';\n             \n            if (shouldSel)\n                isSelected = !isSelected;\n            \n            if (isSelected)\n                DOM.toggleSelectedFile(current);\n        });\n        \n        if (!matches)\n            Dialog.alert('Select Files', 'No matches found!');\n    });\n};\n\n","'use strict';\n\n/* global CloudCmd */\n\nconst exec = require('execon');\nconst rendy = require('rendy');\nconst itype = require('itype/legacy');\nconst {findObjByNameInArr} = require('../../common/util');\n\nconst load = require('./load');\nconst Files = require('./files');\n\nmodule.exports = (name, options, callback = options) => {\n    const {PREFIX, config} = CloudCmd;\n    const o = options;\n    \n    if (o.name && window[o.name])\n        return callback();\n    \n    Files.get('modules', (error, modules) => {\n        const online = config('online') && navigator.onLine;\n        const module = findObjByNameInArr(modules.remote, name);\n        \n        const isArray = itype.array(module.local);\n        const version = module.version;\n        \n        let remoteTmpls, local;\n        if (isArray) {\n            remoteTmpls = module.remote;\n            local       = module.local;\n        } else {\n            remoteTmpls  = [module.remote];\n            local        = [module.local];\n        }\n        \n        const localURL = local.map((url) => {\n            return PREFIX + url;\n        });\n        \n        const remoteURL = remoteTmpls.map((tmpl) => {\n            return rendy(tmpl, {\n                version: version\n            });\n        });\n        \n        const on = funcON(localURL, remoteURL, callback);\n        const off = funcOFF(localURL, callback);\n        \n        exec.if(online, on, off);\n    });\n};\n\nfunction funcOFF(local, callback) {\n    return () => {\n        load.parallel(local, callback);\n    };\n}\n\nfunction funcON (local, remote,callback) {\n    return () => {\n        load.parallel(remote, (error) => {\n            if (error)\n                return funcOFF();\n            \n            callback();\n        });\n    };\n}\n\n","'use strict';\n\nmodule.exports = function (array, iterator, done) {\n    check(array, iterator, done);\n    \n    var i = -1;\n    var n = array.length;\n    \n    var loop = function (e) {\n       ++i;\n       \n       if (e || i === n)\n           { return done(e); }\n       \n       iterator(array[i], loop);\n    };\n    \n    loop();\n}\n\nfunction check(array, iterator, done) {\n    if (!Array.isArray(array))\n        { throw Error('array should be an array!'); }\n    \n    if (typeof iterator !== 'function')\n        { throw Error('iterator should be a function!'); }\n    \n    if (typeof done !== 'function')\n        { throw Error('done should be a function!'); }\n}\n\n","module.exports = require('./lib/itchy');\n","'use strict';\n\nvar Emitify = require('emitify/legacy');\n\nmodule.exports = function (entry) {\n    var emitter = Emitify();\n\n    setTimeout(function () {\n        FindIt(emitter, entry);\n    }, 0);\n\n    return emitter;\n};\n\nfunction FindIt(emitter, entry) {\n    if (!(this instanceof FindIt)) return new FindIt(emitter, entry);\n\n    this._dirs = 0;\n    this._first = true;\n\n    this._find(emitter, entry);\n}\n\nFindIt.prototype._find = function (emitter, entry) {\n    var _this = this;\n\n    if (entry.isFile) {\n        emitter.emit('file', entry.fullPath, entry);\n\n        if (this._first) emitter.emit('end');\n\n        return;\n    }\n\n    if (this._first) this._first = false;\n\n    emitter.emit('directory', entry.fullPath, entry);\n\n    ++this._dirs;\n\n    entry.createReader().readEntries(function (entries) {\n        [].forEach.call(entries, function (entry) {\n            _this._find(emitter, entry);\n        });\n\n        --_this._dirs;\n\n        if (!_this._dirs) emitter.emit('end');\n    });\n};","'use strict';\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar findit = require('domfs-findit');\nvar Emitify = require('emitify/legacy');\nvar itchy = require('itchy/legacy');\nvar inherits = require('inherits');\n\nmodule.exports = Philip;\n\ninherits(Philip, Emitify);\n\nfunction Philip(entries, processingFn) {\n    var _this = this;\n\n    if (!(this instanceof Philip)) return new Philip(entries, processingFn);\n\n    if (typeof processingFn !== 'function') throw Error('processingFn should be function!');\n\n    Emitify.call(this);\n\n    var array = Array.isArray(entries) ? entries : [entries];\n\n    this._i = 0;\n    this._n = 0;\n    this._processingFn = processingFn;\n    this._pause = false;\n    this._prev = 0;\n\n    this._find(array, function (files, dirs) {\n        _this._files = files;\n        _this._dirs = dirs;\n        _this._n = files.length + dirs.length;\n        _this._data = {};\n\n        _this._getFiles(files, _this._data, function () {\n            _this._process();\n        });\n    });\n}\n\nPhilip.prototype._process = function () {\n    var _this2 = this;\n\n    var argsLength = this._processingFn.length;\n    var fn = function fn(error) {\n        ++_this2._i;\n\n        if (error) {\n            _this2.emit('error', error);\n            _this2.pause();\n        }\n\n        _this2._process();\n        _this2._progress();\n    };\n\n    var data = void 0;\n    var name = this._dirs.shift();\n    var type = 'directory';\n\n    if (!name) {\n        type = 'file';\n        var el = this._files.shift();\n\n        if (el) {\n            name = el.fullPath;\n            data = this._data[name];\n        }\n    }\n\n    if (!name) return this.emit('end');\n\n    var args = void 0;\n    if (!this._pause) {\n        switch (argsLength) {\n            default:\n                args = [type, name, data];\n                break;\n\n            case 6:\n                args = [type, name, data, this._i, this._n];\n                break;\n        }\n\n        args.push(fn);\n\n        this._processingFn.apply(this, _toConsumableArray(args));\n    }\n};\n\nPhilip.prototype.pause = function () {\n    this._pause = true;\n};\n\nPhilip.prototype.continue = function () {\n    if (this._pause) {\n        this._pause = false;\n        this._process();\n    }\n};\n\nPhilip.prototype.abort = function () {\n    this._files = [];\n    this._dirs = [];\n\n    this._process();\n};\n\nPhilip.prototype._progress = function () {\n    var value = Math.round(this._i * 100 / this._n);\n\n    if (value !== this._prev) {\n        this._prev = value;\n        this.emit('progress', value);\n    }\n};\n\nPhilip.prototype._getFiles = function (files, obj, callback) {\n    var _this3 = this;\n\n    var filesList = files.slice();\n    var current = filesList.shift();\n\n    if (!current) return callback(null, obj);\n\n    current.file(function (file) {\n        var name = current.fullPath;\n\n        obj[name] = file;\n\n        _this3._getFiles(filesList, obj, callback);\n    });\n};\n\nPhilip.prototype._find = function (entries, fn) {\n    var files = [];\n    var dirs = [];\n\n    itchy(entries, function (entry, callback) {\n        var finder = findit(entry);\n\n        finder.on('directory', function (name) {\n            dirs.push(name);\n        });\n\n        finder.on('file', function (name, current) {\n            files.push(current);\n        });\n\n        finder.on('end', function () {\n            callback();\n        });\n    }, function () {\n        fn(files, dirs);\n    });\n};","/* global CloudCmd */\n\n'use strict';\n\nconst philip = require('philip');\n\nconst Images = require('./images');\nconst {FS} = require('../../common/cloudfunc');\nconst DOM = require('.');\n\nconst {\n    getCurrentDirPath: getPathWhenRootEmpty,\n} = DOM;\n\nmodule.exports = (items) => {\n    const Dialog = DOM.Dialog;\n    \n    if (items.length)\n        Images.show('top');\n    \n    const entries = [...items].map((item) => {\n        return item.webkitGetAsEntry();\n    });\n    \n    const dirPath = getPathWhenRootEmpty();\n    const path = dirPath\n        .replace(/\\/$/, '');\n    \n    const uploader = philip(entries, (type, name, data, i, n, callback) => {\n        const prefixURL = CloudCmd.PREFIX_URL;\n        const full = prefixURL + FS + path + name;\n        \n        let upload;\n        switch(type) {\n        case 'file':\n            upload = uploadFile(full, data);\n            break;\n        \n        case 'directory':\n            upload = uploadDir(full);\n            break;\n        }\n        \n        upload.on('end', callback);\n        \n        upload.on('progress', (count) => {\n            const current = percent(i, n);\n            const next = percent(i + 1, n);\n            const max = next - current;\n            const value = current + percent(count, 100, max);\n            \n            setProgress(value);\n        });\n    });\n    \n    uploader.on('error', (error) => {\n        Dialog.alert(error);\n        uploader.abort();\n    });\n    \n    uploader.on('progress', setProgress);\n    uploader.on('end', CloudCmd.refresh);\n};\n\nfunction percent(i, n, per = 100) {\n    return Math.round(i * per / n);\n}\n\nfunction setProgress(count) {\n    DOM.Images\n        .setProgress(count)\n        .show('top');\n}\n\nfunction uploadFile(url, data) {\n    return DOM.load.put(url, data);\n}\n\nfunction uploadDir(url) {\n    return DOM.load.put(url + '?dir');\n}\n\n","'use strict';\n\nconst DOM = module.exports;\n\n/**\n * check class of element\n *\n * @param element\n * @param className\n */\nmodule.exports.isContainClass = (element, className) => {\n    if (!element)\n        throw Error('element could not be empty!');\n    \n    if (!className)\n        throw Error('className could not be empty!');\n    \n    const classList = element.classList;\n    const ret = classList.contains(className);\n    \n    return ret;\n};\n\n/**\n * Function search element by tag\n * @param tag - className\n * @param element - element\n */\nmodule.exports.getByTag = (tag, element = document) => {\n    return element.getElementsByTagName(tag);\n};\n\n/**\n * Function search element by id\n * @param Id - id\n */\nmodule.exports.getById = (id, element = document) => {\n    return element.querySelector('#' + id);\n};\n\n/**\n * Function search first element by class name\n * @param className - className\n * @param element - element\n */\nmodule.exports.getByClass = (className, element = document) => {\n    return DOM.getByClassAll(className, element)[0];\n};\n\nmodule.exports.getByDataName = (attribute, element = document) => {\n    const selector    = '[' + 'data-name=\"' + attribute + '\"]';\n    return element.querySelector(selector);\n};\n\n/**\n * Function search element by class name\n * @param pClass - className\n * @param element - element\n */\nmodule.exports.getByClassAll = (className, element) => {\n    return (element || document).getElementsByClassName(className);\n};\n\n/**\n * add class=hidden to element\n *\n * @param element\n */\nmodule.exports.hide = (element) => {\n    element.classList.add('hidden');\n    return DOM;\n};\n\nmodule.exports.show = (element) => {\n    element.classList.remove('hidden');\n    return DOM;\n};\n\n","'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar tryCatch = require('try-catch');\n\nvar parse = JSON.parse,\n    stringify = JSON.stringify;\n\n\nmodule.exports.parse = function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    var _tryCatch = tryCatch.apply(undefined, [parse].concat(args)),\n        _tryCatch2 = _slicedToArray(_tryCatch, 2),\n        data = _tryCatch2[1];\n\n    return data;\n};\n\nmodule.exports.stringify = function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n    }\n\n    var _tryCatch3 = tryCatch.apply(undefined, [stringify].concat(args)),\n        _tryCatch4 = _slicedToArray(_tryCatch3, 2),\n        data = _tryCatch4[1];\n\n    return data;\n};","'use strict';\n\nmodule.exports = new TypeProto();\n\nfunction TypeProto() {\n    /**\n     * get type of variable\n     *\n     * @param variable\n     */\n    function type(variable) {\n        var regExp = /\\s([a-zA-Z]+)/;\n        var str = {}.toString.call(variable);\n        var typeBig = str.match(regExp)[1];\n        var result = typeBig.toLowerCase();\n        \n        return result;\n    }\n    \n    /**\n     * functions check is variable is type of name\n     *\n     * @param variable\n     */\n    function typeOf(name, variable) {\n        return type(variable) === name;\n    }\n    \n    function typeOfSimple(name, variable) {\n        return typeof variable === name;\n    }\n    \n    ['arrayBuffer', 'file', 'array', 'object']\n        .forEach(function (name) {\n            type[name] = typeOf.bind(null, name);\n        });\n    \n    ['null', 'string', 'undefined', 'boolean', 'number', 'function']\n        .forEach(function (name) {\n            type[name] = typeOfSimple.bind(null, name);\n        });\n    \n    return type;\n}\n\n","'use strict';\n\nconst Entities = {\n    '&nbsp;': ' ',\n    '&lt;': '<',\n    '&gt;': '>',\n};\n\nconst keys = Object.keys(Entities);\n\nmodule.exports.encode = (str) => {\n    keys.forEach((code) => {\n        const char = Entities[code];\n        const reg = RegExp(char, 'g');\n        \n        str = str.replace(reg, code);\n    });\n    \n    return str;\n};\n\nmodule.exports.decode = (str) => {\n    keys.forEach((code) => {\n        const char = Entities[code];\n        const reg = RegExp(code, 'g');\n        \n        str = str.replace(reg, char);\n    });\n    \n    return str;\n};\n\n","'use strict';\n\nmodule.exports = function (value) {\n    var data = {\n        value: value\n    };\n\n    return function (value) {\n        if (!arguments.length) return data.value;\n\n        data.value = value;\n\n        return value;\n    };\n};","'use strict';\n\nvar f = function f(fn) {\n    return [\n    /*eslint no-unused-vars: 0*/\n    function (a) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d) {\n        return fn.apply(undefined, arguments);\n    }, function (a, b, c, d, e) {\n        return fn.apply(undefined, arguments);\n    }];\n};\n\nmodule.exports = function currify(fn) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    check(fn);\n\n    if (args.length >= fn.length) return fn.apply(undefined, args);\n\n    var again = function again() {\n        return currify.apply(undefined, [fn].concat(args, Array.prototype.slice.call(arguments)));\n    };\n\n    var count = fn.length - args.length - 1;\n    var func = f(again)[count];\n\n    return func || again;\n};\n\nfunction check(fn) {\n    if (typeof fn !== 'function') throw Error('fn should be function!');\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.4+314e4831\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar TRY_CATCH_ERROR = { error: null };\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    TRY_CATCH_ERROR.error = error;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === TRY_CATCH_ERROR) {\n      reject(promise, TRY_CATCH_ERROR.error);\n      TRY_CATCH_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = void 0,\n      failed = void 0;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (failed) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = getThen(entry);\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        handleMaybeThenable(promise, entry, _then);\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    return promise.then(function (value) {\n      return constructor.resolve(callback()).then(function () {\n        return value;\n      });\n    }, function (reason) {\n      return constructor.resolve(callback()).then(function () {\n        throw reason;\n      });\n    });\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n//# sourceMappingURL=es6-promise.map\n","'use strict';\n\nmodule.exports = Emitify;\n\nfunction Emitify() {\n    if (!(this instanceof Emitify)) return new Emitify();\n\n    this._all = {};\n}\n\nEmitify.prototype.on = function (event, callback) {\n    var funcs = this._all[event];\n\n    check(event, callback);\n\n    if (funcs) funcs.push(callback);else this._all[event] = [callback];\n\n    return this;\n};\n\nEmitify.prototype.addListener = Emitify.prototype.on;\n\nEmitify.prototype.once = function (event, callback) {\n    var self = this;\n\n    check(event, callback);\n\n    self.on(event, function fn() {\n        callback.apply(null, arguments);\n        self.off(event, fn);\n    });\n\n    return this;\n};\n\nEmitify.prototype.off = function (event, callback) {\n    var events = this._all[event] || [];\n    var index = events.indexOf(callback);\n\n    check(event, callback);\n\n    while (~index) {\n        events.splice(index, 1);\n        index = events.indexOf(callback);\n    }\n\n    return this;\n};\n\nEmitify.prototype.removeListener = Emitify.prototype.off;\n\nEmitify.prototype.emit = function (event) {\n    var args = [].slice.call(arguments, 1);\n    var funcs = this._all[event];\n\n    checkEvent(event);\n\n    if (!funcs && event === 'error') throw args[0];\n\n    if (!funcs) return this;\n\n    funcs.forEach(function (fn) {\n        fn.apply(null, args);\n    });\n\n    return this;\n};\n\nEmitify.prototype.removeAllListeners = function (event) {\n    checkEvent(event);\n\n    this._all[event] = [];\n\n    return this;\n};\n\nfunction checkEvent(event) {\n    if (typeof event !== 'string') throw Error('event should be string!');\n}\n\nfunction checkFn(callback) {\n    if (typeof callback !== 'function') throw Error('callback should be function!');\n}\n\nfunction check(event, callback) {\n    checkEvent(event);\n    checkFn(callback);\n}"],"sourceRoot":""}
##############################################
/src/dist/modules/help.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/help.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","10","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","CloudCmd","Help","Images","show","load","Markdown","positionLoad","relative","hide","View"],"mappings":"aACA,SAAAA,EAAAC,GAOA,IANA,IAKAC,EAAAC,EALAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAGAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAIA,IADAe,KAAAhB,GACAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,GAAA,GAQA,IAAAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GACAI,cAAA,EACAC,YAAA,EACAC,IAAAL,KAMAX,EAAAiB,EAAA,SAAAb,GACApB,OAAA6B,eAAAT,EAAA,cAAiDc,OAAA,KAIjDlB,EAAAmB,EAAA,SAAAd,GACA,IAAAM,EAAAN,KAAAe,WACA,WAA2B,OAAAf,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAS,EAAAC,GAAsD,OAAAtC,OAAAC,UAAAC,eAAAC,KAAAkC,EAAAC,IAGtDtB,EAAAuB,EAAA,GAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAzC,KAAA4C,KAAAH,GACAA,EAAAzC,KAAAX,EACAoD,IAAAI,QACA,QAAAjD,EAAA,EAAgBA,EAAA6C,EAAA3C,OAAuBF,IAAAP,EAAAoD,EAAA7C,IACvC,IAAAU,EAAAqC,EAIAnC,EAAAR,MAAA,OAEAU,sCCtIAoC,SAASC,KAIT,WAII,OAHAC,EAAOC,KAAKC,KAAK,OACjBD,IAEO5B,GANX,IAAM2B,EAAS/B,EAAQ,GAYvB,SAASgC,IAILH,SACKK,SACAF,KAAK,YACFG,aANa,MAObC,UANS,IALrB/B,EAAOD,QAAQ4B,KAAOA,EACtB3B,EAAOD,QAAQiC,KAcf,WACIR,SAASS,KAAKD","file":"./modules/help.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t10: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([38,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd */\n\nCloudCmd.Help = HelpProto;\n\nconst Images = require('../dom/images');\n\nfunction HelpProto() {\n    Images.show.load('top');\n    show();\n    \n    return exports;\n}\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nfunction show() {\n    const positionLoad = 'top';\n    const relative = true;\n    \n    CloudCmd\n        .Markdown\n        .show('/HELP.md', {\n            positionLoad,\n            relative,\n        });\n}\n\nfunction hide() {\n    CloudCmd.View.hide();\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/config.js:1:!function(e){function t(t){for(var o,c,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)c=i[s],r[c]&&d.push(r[c][0]),r[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(f&&f(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={8:0};var a=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},c.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=u;a.push([36,0]),n()}({35:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1)(function(e,t,n){return r(t[n])===e})("boolean");function c(e,t){var n='[data-name="js-'+e+'"]';return t.querySelector(n)}e.exports.getElementByName=c,e.exports.getName=function(e){return e.getAttribute("data-name").replace(/^js-/,"")},e.exports.convert=function(e){var t=o({},e);return Object.keys(t).filter(a(t)).forEach(function(e){var n=t[e];t[e]=n?" checked":""}),t},e.exports.getValue=function(e,t){var n=c(e,t);switch(n.type){case"checkbox":return n.checked;case"number":return Number(n.value);default:return n.value}},e.exports.setValue=function(e,t,n){var o=c(e,n);switch(o.type){case"checkbox":o.checked=t;break;default:o.value=t}}},36:function(e,t,n){"use strict";var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(82);var r=n(13),a=n(0),c=n(1),i=n(15),u=n(35),l=n(2),f=n(8),s=n(7),d=n(5).getTitle,p=DOM,g=p.Dialog,m=p.setTitle,h="Config",v=c(g.alert,h),y=e.exports,b=function(){l.show.load("top")},w=c(function(e,t){return f.addKey(t,e),t}),C=c(function(e,t){return f.add("change",t,e),t});CloudCmd.Config=function(){return CloudCmd.config("configDialog")?(S=!0,b(),a.series([CloudCmd.View,function(e){S=!1,a(e),DOM.loadSocket(j)},D]),e.exports):{show:function(){}}};var S=!0;var k=CloudCmd.config,x=CloudCmd.Key,O=void 0,E=void 0;function j(){var e,t,n,o,r=(e=location,t=e.host,n=e.origin,o=e.protocol,n||o+"//"+t),a=CloudCmd.PREFIX,c=io.connect(r+a+"/config",{"max reconnection attempts":Math.pow(2,32),"reconnection limit":5e3,path:a+"/socket.io"}),i=function(e){M(e),c.send(e)};!function(e){e.emit("auth",k("username"),k("password")),e.on("reject",function(){v("Wrong credentials!")})}(c),c.on("connect",function(){y.save=i}),c.on("config",function(e){DOM.Storage.setAllowed(e.localStorage)}),c.on("message",M),c.on("log",CloudCmd.log),c.on("disconnect",function(){y.save=P}),c.on("err",v)}function D(){var e=CloudCmd.PREFIX,t=[a.with(s.get,"config-tmpl"),a.with(DOM.load.parallel,[e+"/dist/config.css"])];S||(b(),a.parallel(t,N))}function N(e,t){E||(E=t),s.get("config",function(e,t){if(e)return v("Could not load config!");var n=u.convert(t);n[n.editor+"-selected"]="selected",delete n.editor,n[n.packer+"-selected"]="selected",delete n.packer,n[n.columns+"-selected"]="selected",delete n.columns;var a=r(E,n);O=DOM.load({name:"form",className:"config",inner:a,attribute:{"data-name":"js-config"}});var c=document.querySelectorAll("input, select",O),l=o(c,1)[0],f=void 0;l&&(V(l.checked),f=l.focus.bind(l));var s=i(A,function(e){return e.target});[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c)).map(w(B)).map(C(s));CloudCmd.View.show(O,{autoSize:!0,afterShow:f})})}function A(e){var t={},n=u.getName(e),o=u.getValue(n,O),r=e.type;"name"===n?function(e){m(d({name:e}))}(o):"checkbox"===r&&(/^(diff|buffer|dirStorage)$/.test(n)?function(e,t){var n=u.getElementByName("localStorage",O),o=e+" depends on localStorage";if(!t||n.checked)return;g.alert(h,o),n.checked=!0}(n,o):"localStorage"===n?function(){var e=["diff","buffer","dirStorage","localStorage"].map(function(e){return u.getElementByName(e,O)}),t={},n=void 0;if(e.forEach(function(e){var o=u.getName(e);t[o]=e,e.checked&&(n=!0)}),!n||t.localStorage.checked)return;v("Diff, Buffer and Directory Storage do not work without localStorage"),e.forEach(function(e){e.checked&&(e.checked=!1,A(e))})}():"auth"===n&&V(o)),t[n]=o,y.save(t)}function M(e){Object.keys(e).forEach(function(t){var n=e[t];CloudCmd._config(t,n),u.setValue(t,n,O)}),DOM.Storage.setAllowed(e.localStorage)}function P(e){DOM.RESTful.Config.write(e,function(t){t||M(e)})}function V(e){var t=u.getElementByName("username",O),n=u.getElementByName("password",O);t.disabled=n.disabled=!e}function B(e){var t=e.keyCode,n=e.target;switch(t){case x.ESC:y.hide();break;case x.ENTER:A(n)}}y.save=P,e.exports.show=D,e.exports.hide=function(){CloudCmd.View.hide()}},82:function(e,t){}});
/src/dist/modules/config.js-2-//# sourceMappingURL=config.js.map
##############################################
/src/dist/modules/edit-file.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/edit-file.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","15","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","Format","currify","store","squad","exec","fn","callback","CloudCmd","EditFile","Info","DOM","CurrentInfo","Dialog","config","Menu","TITLE","Images","MSG_CHANGED","ConfigView","beforeClose","ifExist","editor","Edit","getEditor","isChanged","confirm","cancel","then","save","setListeners","element","getElement","Events","addOnce","setMenu","on","setCurrentSize","size","authCheck","spawn","emit","alert","event","position","x","clientX","y","clientY","preventDefault","loadRemote","error","noFocus","options","beforeShow","params","afterClick","focus","menuData","Save           Ctrl+S","Go To Line     Ctrl+G","goToLine","Cut            Ctrl+X","cutToClipboard","Copy           Ctrl+C","copyToClipboard","Paste          Ctrl+V","pasteFromClipboard","Delete         Del","remove","Select All     Ctrl+A","selectAll","Beautify       Ctrl+B","beautify","Minify         Ctrl+M","minify","Close          Esc","hide","MenuIO","show","_extends","load","setOption","getData","path","isDir","getName","setMsgChanged","setValueFirst","setModeForPath","enableKey","auth","listeners","series","init"],"mappings":"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","file":"./modules/edit-file.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t15: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([44,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd, DOM, MenuIO */\n\nconst Format = require('format-io');\nconst currify = require('currify/legacy');\nconst store = require('fullstore/legacy');\nconst squad = require('squad/legacy');\nconst exec = require('execon');\n\nconst call = currify((fn, callback) => {\n    fn();\n    callback();\n});\n\nCloudCmd.EditFile = function EditFileProto(callback) {\n    const Info = DOM.CurrentInfo;\n    const Dialog = DOM.Dialog;\n    const EditFile = exec.bind();\n    const config = CloudCmd.config;\n    \n    let Menu;\n    \n    const TITLE = 'Edit';\n    const Images = DOM.Images;\n    \n    let MSG_CHANGED;\n    const ConfigView  = {\n        beforeClose: () => {\n            exec.ifExist(Menu, 'hide');\n            isChanged();\n        }\n    };\n    \n    function init(callback) {\n        const editor = store();\n        \n        const getMainEditor = () => CloudCmd.Edit.getEditor();\n        const getEditor = squad(editor, getMainEditor);\n        const auth = squad(authCheck, editor);\n        const listeners = squad(setListeners, editor);\n        \n        const show = callback ? exec : EditFile.show;\n        \n        exec.series([\n            CloudCmd.Edit,\n            call(getEditor),\n            call(auth),\n            call(listeners),\n            show,\n        ], callback);\n    }\n    \n    function getName() {\n        const {name, isDir} = Info;\n        \n        if (isDir)\n            return `${name}.json`;\n        \n        return name;\n    }\n    \n    EditFile.show = (options) => {\n        const config = Object.assign({}, ConfigView, options);\n        \n        Images.show.load();\n        \n        CloudCmd.Edit\n            .getEditor()\n            .setOption('keyMap', 'default');\n        \n        Info.getData((error, data) => {\n            const path = Info.path;\n            const name = getName();\n            \n            if (error)\n                return Images.hide();\n            \n            setMsgChanged(name);\n            \n            CloudCmd.Edit\n                .getEditor()\n                .setValueFirst(path, data)\n                .setModeForPath(name)\n                .enableKey();\n            \n            CloudCmd.Edit.show(config);\n        });\n        \n        return CloudCmd.Edit;\n    };\n    \n    EditFile.hide = () => {\n        CloudCmd.Edit.hide();\n    };\n    \n    function setListeners(editor) {\n        const element = CloudCmd.Edit.getElement();\n        \n        DOM.Events.addOnce('contextmenu', element, setMenu);\n        \n        editor.on('save', (value) => {\n            DOM.setCurrentSize(Format.size(value));\n        });\n    }\n    \n    function authCheck(spawn) {\n        spawn.emit('auth', config('username'), config('password'));\n        spawn.on('reject', () => {\n            Dialog.alert(TITLE, 'Wrong credentials!');\n        });\n    }\n    \n    function setMenu(event) {\n        const position = {\n            x: event.clientX,\n            y: event.clientY\n        };\n        \n        event.preventDefault();\n        \n        !Menu && DOM.loadRemote('menu', (error) => {\n            let noFocus;\n            const editor = CloudCmd.Edit.getEditor();\n            const options = {\n                beforeShow: (params) => {\n                    params.x -= 18;\n                    params.y -= 27;\n                },\n                \n                afterClick: () => {\n                    !noFocus && editor.focus();\n                }\n            };\n            \n            const menuData = {\n                'Save           Ctrl+S' : () => {\n                    editor.save();\n                },\n                'Go To Line     Ctrl+G' : () => {\n                    noFocus = true;\n                    editor.goToLine();\n                },\n                'Cut            Ctrl+X' : () => {\n                    editor.cutToClipboard();\n                },\n                'Copy           Ctrl+C' : () => {\n                    editor.copyToClipboard();\n                },\n                'Paste          Ctrl+V' : () => {\n                    editor.pasteFromClipboard();\n                },\n                'Delete         Del'    : () => {\n                    editor.remove('right');\n                },\n                'Select All     Ctrl+A' : () => {\n                    editor.selectAll();\n                },\n                'Beautify       Ctrl+B' : () => {\n                    editor.beautify();\n                },\n                'Minify         Ctrl+M' : () => {\n                    editor.minify();\n                },\n                'Close          Esc'    : () => {\n                    EditFile.hide();\n                }\n            };\n            \n            if (error)\n                return Dialog.alert(TITLE, error);\n            \n            if (Menu || !MenuIO)\n                return;\n                \n            const element = CloudCmd.Edit.getElement();\n            \n            Menu = new MenuIO(element, options, menuData);\n            Menu.show(position.x, position.y);\n        });\n    }\n    \n    function setMsgChanged(name) {\n        MSG_CHANGED = 'Do you want to save changes to ' + name + '?';\n    }\n    \n    function isChanged() {\n        const editor = CloudCmd.Edit.getEditor();\n        const is = editor.isChanged();\n        \n        if (!is)\n            return;\n        \n        const cancel = false;\n        Dialog.confirm(TITLE, MSG_CHANGED, {cancel})\n            .then(() => {\n                editor.save();\n            });\n    }\n    \n    init(callback);\n    \n    return EditFile;\n};\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/upload.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/upload.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","6","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","exec","load","Files","Images","uploadFiles","show","error","CloudCmd","View","autoSize","afterShow","fontFamily","join","style","id","inner","hide","button","DOM","getByDataName","Events","add","_ref","files","target","Upload","series"],"mappings":"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","file":"./modules/upload.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t6: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([33,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global CloudCmd, DOM */\n\n'use strict';\n\nconst exec = require('execon');\n\nconst load = require('../dom/load');\nconst Files = require('../dom/files');\nconst Images = require('../dom/images');\nconst uploadFiles = require('../dom/upload-files');\n\nCloudCmd.Upload = UploadProto;\n\nfunction UploadProto() {\n    Images.show.load('top');\n    \n    exec.series([\n        CloudCmd.View,\n        show\n    ]);\n    \n    return exports;\n}\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nfunction show() {\n    Images.show.load('top');\n    \n    Files.get('upload', (error, data) => {\n        const autoSize = true;\n        \n        CloudCmd.View.show(data, {\n            autoSize,\n            afterShow,\n        });\n    });\n    \n    const fontFamily = [\n        '\"Droid Sans Mono\"',\n        '\"Ubuntu Mono\"',\n        '\"Consolas\"',\n        'monospace'\n    ].join(', ');\n    \n    load.style({\n        id      : 'upload-css',\n        inner   : '[data-name=js-upload-file-button] {' +\n                      `font-family: ${fontFamily};`     +\n                      'font-size: 20px;'                +\n                      'width: 97%'                      +\n                '}'\n    });\n}\n\nfunction hide() {\n    CloudCmd.View.hide();\n}\n\nfunction afterShow() {\n    const button = DOM.getByDataName('js-upload-file-button');\n    \n    Images.hide();\n    \n    DOM.Events.add('change', button, ({target}) => {\n        const {files} = target;\n        \n        hide();\n        \n        uploadFiles(files);\n    });\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/config.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/input.js","file://cloudcmd/client/modules/config.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","8","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","isBool","currify","type","_typeof","isType","getElementByName","selector","element","str","querySelector","getName","getAttribute","replace","convert","config","_extends","keys","filter","forEach","item","getValue","el","checked","Number","setValue","rendy","exec","squad","input","Images","Events","Files","getTitle","DOM","Dialog","setTitle","TITLE","alert","Config","showLoad","show","load","addKey","fn","addChange","add","CloudCmd","Loading","series","View","callback","loadSocket","initSocket","Key","Element","Template","_location","host","origin","protocol","href","location","prefix","PREFIX","socket","io","connect","max reconnection attempts","Math","pow","reconnection limit","path","save","onSave","send","emit","on","authCheck","Storage","setAllowed","localStorage","log","saveHttp","funcs","with","parallel","fillTemplate","error","template","obj","editor","packer","columns","inner","className","attribute","data-name","inputs","document","querySelectorAll","inputFirst","_slicedToArray","afterShow","onAuthChange","focus","handleChange","onChange","_ref","target","concat","_toConsumableArray","map","onKey","autoSize","onNameChange","test","elLocalStorage","msg","onLSChange","elements","isChecked","onLocalStorageChange","_config","RESTful","write","elUsername","elPassword","disabled","_ref2","keyCode","ESC","hide","ENTER"],"mappings":"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","file":"./modules/config.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t8: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([36,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\nconst currify = require('currify/legacy');\n\nconst isType = currify((type, object, name) => {\n    return typeof object[name] === type;\n});\n\nconst isBool = isType('boolean');\n\nmodule.exports.getElementByName = getElementByName;\n\nfunction getElementByName(selector, element) {\n    const str = `[data-name=\"js-${selector}\"]`;\n    \n    return element\n        .querySelector(str);\n}\n\nmodule.exports.getName = (element) => {\n    const name = element\n        .getAttribute('data-name')\n        .replace(/^js-/, '');\n    \n    return name;\n};\n\nmodule.exports.convert = (config) => {\n    const result = Object.assign({}, config);\n    const array = Object.keys(result);\n    \n    array\n        .filter(isBool(result))\n        .forEach((name) => {\n            const item = result[name];\n            \n            result[name] = setState(item);\n        });\n    \n    return result;\n};\n\nfunction setState(state) {\n    if (state)\n        return ' checked';\n    \n    return '';\n}\n\nmodule.exports.getValue = (name, element) => {\n    const el = getElementByName(name, element);\n    const type = el.type;\n    \n    switch(type) {\n    case 'checkbox':\n        return el.checked;\n    \n    case 'number':\n        return Number(el.value);\n    \n    default:\n        return el.value;\n    }\n};\n\nmodule.exports.setValue = (name, value, element) => {\n    const el = getElementByName(name, element);\n    const type = el.type;\n    \n    switch(type) {\n    case 'checkbox':\n        el.checked = value;\n        break;\n    \n    default:\n        el.value = value;\n        break;\n    }\n};\n\n","'use strict';\n\n/* global CloudCmd, DOM, io */\n\nrequire('../../css/config.css');\n\nconst rendy = require('rendy');\nconst exec = require('execon');\nconst currify = require('currify/legacy');\nconst squad = require('squad/legacy');\nconst input = require('../input');\n\nconst Images = require('../dom/images');\nconst Events = require('../dom/events');\nconst Files = require('../dom/files');\n\nconst {getTitle} = require('../../common/cloudfunc');\n\nconst {Dialog, setTitle} = DOM;\n\nconst TITLE = 'Config';\nconst alert = currify(Dialog.alert, TITLE);\n\nconst Config = module.exports;\n\nconst showLoad = () => {\n    Images.show.load('top');\n};\n\nconst addKey = currify((fn, input) => {\n    Events.addKey(input, fn);\n    return input;\n});\n\nconst addChange = currify((fn, input) => {\n    Events.add('change', input, fn);\n    return input;\n});\n\nCloudCmd.Config = ConfigProto;\n\nlet Loading = true;\n\nfunction ConfigProto() {\n    const noop = () => {};\n    \n    if (!CloudCmd.config('configDialog'))\n        return {\n            show: noop\n        };\n    \n    Loading = true;\n    \n    showLoad();\n    exec.series([\n        CloudCmd.View,\n        (callback) => {\n            Loading = false;\n            exec(callback);\n            DOM.loadSocket(initSocket);\n        },\n        show\n    ]);\n    \n    return module.exports;\n}\n\nconst config = CloudCmd.config;\n\nconst {Key} = CloudCmd;\n\nlet Element;\nlet Template;\n\nfunction getHost() {\n    const {host, origin, protocol} = location;\n    const href = origin || `${protocol}//${host}`;\n    \n    return href;\n}\n\nfunction initSocket() {\n    const href = getHost();\n    const prefix = CloudCmd.PREFIX;\n    const FIVE_SECONDS = 5000;\n    \n    const socket  = io.connect(href + prefix + '/config', {\n        'max reconnection attempts' : Math.pow(2, 32),\n        'reconnection limit'        : FIVE_SECONDS,\n        path: prefix + '/socket.io'\n    });\n    \n    const save = (data) => {\n        onSave(data);\n        socket.send(data);\n    };\n    \n    authCheck(socket);\n    \n    socket.on('connect', () => {\n        Config.save = save;\n    });\n    \n    socket.on('config', (config) => {\n        DOM.Storage.setAllowed(config.localStorage);\n    });\n    \n    socket.on('message', onSave);\n    socket.on('log', CloudCmd.log);\n    \n    socket.on('disconnect', () => {\n        Config.save = saveHttp;\n    });\n    \n    socket.on('err', alert);\n}\n\nfunction authCheck(socket) {\n    socket.emit('auth', config('username'), config('password'));\n    \n    socket.on('reject', () => {\n        alert('Wrong credentials!');\n    });\n}\n\nConfig.save = saveHttp;\n\nmodule.exports.show = show;\n\nfunction show() {\n    const prefix = CloudCmd.PREFIX;\n    const funcs = [\n        exec.with(Files.get, 'config-tmpl'),\n        exec.with(DOM.load.parallel, [\n            prefix + '/dist/config.css'\n        ])\n    ];\n    \n    if (Loading)\n        return;\n    \n    showLoad();\n    exec.parallel(funcs, fillTemplate);\n}\n\nfunction fillTemplate(error, template) {\n    if (!Template)\n        Template = template;\n    \n    Files.get('config', (error, config) => {\n        if (error)\n            return alert('Could not load config!');\n        \n        const obj = input.convert(config);\n        \n        obj[obj.editor + '-selected'] = 'selected';\n        delete obj.editor;\n        \n        obj[obj.packer + '-selected'] = 'selected';\n        delete obj.packer;\n        \n        obj[obj.columns + '-selected'] = 'selected';\n        delete obj.columns;\n        \n        const inner = rendy(Template, obj);\n        \n        Element = DOM.load({\n            name        : 'form',\n            className   : 'config',\n            inner,\n            attribute   : {\n                'data-name': 'js-config'\n            }\n        });\n        \n        const inputs = document.querySelectorAll('input, select', Element);\n        const [inputFirst] = inputs;\n        \n        let afterShow;\n        if (inputFirst) {\n            onAuthChange(inputFirst.checked);\n            afterShow = inputFirst.focus.bind(inputFirst);\n        }\n        \n        const getTarget = ({target}) => target;\n        const handleChange = squad(onChange, getTarget);\n        \n        [...inputs]\n            .map(addKey(onKey))\n            .map(addChange(handleChange));\n        \n        const autoSize = true;\n        CloudCmd.View.show(Element, {\n            autoSize,\n            afterShow,\n        });\n    });\n}\n\nmodule.exports.hide = () => {\n    CloudCmd.View.hide();\n};\n\nfunction onChange(el) {\n    const obj = {};\n    const name = input.getName(el);\n    const data = input.getValue(name, Element);\n    const type = el.type;\n    \n    if (name === 'name')\n        onNameChange(data);\n    else if (type === 'checkbox')\n        if (/^(diff|buffer|dirStorage)$/.test(name))\n            onLSChange(name, data);\n        else if (name === 'localStorage')\n            onLocalStorageChange();\n        else if (name === 'auth')\n            onAuthChange(data);\n    \n    obj[name] = data;\n    \n    Config.save(obj);\n}\n\nfunction onSave(obj) {\n    Object.keys(obj).forEach((name) => {\n        const data = obj[name];\n        \n        CloudCmd._config(name, data);\n        input.setValue(name, data, Element);\n    });\n    \n    DOM.Storage.setAllowed(obj.localStorage);\n}\n\nfunction saveHttp(obj) {\n    const {RESTful} = DOM;\n    \n    RESTful.Config.write(obj, (error) => {\n        if (error)\n            return;\n        \n        onSave(obj);\n    });\n}\n\nfunction onLocalStorageChange() {\n    const names = ['diff', 'buffer', 'dirStorage', 'localStorage'];\n    const elements = names.map((name) => {\n        return input.getElementByName(name, Element);\n    });\n    const el = {};\n    const msg = 'Diff, Buffer and Directory Storage do not work without localStorage';\n    \n    let isChecked;\n    \n    elements.forEach((element) => {\n        const name = input.getName(element);\n        \n        el[name] = element;\n        \n        if (element.checked)\n            isChecked = true;\n    });\n    \n    if (!isChecked || el.localStorage.checked)\n        return;\n    \n    alert(msg);\n    \n    elements.forEach((element) => {\n        if (!element.checked)\n            return;\n        \n        element.checked = false;\n        onChange(element);\n    });\n}\n\nfunction onLSChange(name, data) {\n    const elLocalStorage = input.getElementByName('localStorage', Element);\n    const msg = `${name} depends on localStorage`;\n    \n    if (!data || elLocalStorage.checked)\n        return;\n    \n    Dialog.alert(TITLE, msg);\n    elLocalStorage.checked = true;\n}\n\nfunction onAuthChange(checked) {\n    const elUsername = input.getElementByName('username', Element);\n    const elPassword = input.getElementByName('password', Element);\n    \n    elUsername.disabled =\n    elPassword.disabled = !checked;\n}\n\nfunction onNameChange(name) {\n    setTitle(getTitle({\n        name\n    }));\n}\n\nfunction onKey({keyCode, target}) {\n    switch (keyCode) {\n    case Key.ESC:\n        Config.hide();\n        break;\n    \n    case Key.ENTER:\n        onChange(target);\n        break;\n    }\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/edit-names.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/edit-names.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","13","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","currify","exec","reject","Promise","CloudCmd","EditNames","callback","Info","DOM","CurrentInfo","Dialog","TITLE","alert","refresh","to","nameIndex","res","status","text","then","currentName","this","Menu","MenuIO","ConfigView","beforeClose","ifExist","Edit","getEditor","isChanged","confirm","hide","applyNames","catch","Events","remove","keyListener","event","ctrl","ctrlKey","meta","metaKey","ctrlMeta","Key","keyCode","S","getActiveNames","getFilenames","getActiveFiles","dir","dirPath","from","indexOf","getValue","split","root","config","resolve","fetch","PREFIX","method","credentials","body","JSON","stringify","getDir","rename","setMenu","position","x","clientX","y","clientY","preventDefault","loadRemote","error","noFocus","editor","options","beforeShow","params","afterClick","focus","menuData","Save           Ctrl+S","save","Go To Line     Ctrl+G","goToLine","Cut            Ctrl+X","cutToClipboard","Copy           Ctrl+C","copyToClipboard","Paste          Ctrl+V","pasteFromClipboard","Delete         Del","Select All     Ctrl+A","selectAll","Close          Esc","element","getElement","show","names","join","noFiles","setValueFirst","setMode","setOption","disableKey","addKey","series","addOnce","init"],"mappings":"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","file":"./modules/edit-names.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t13: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([41,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd, DOM */\n\nconst currify = require('currify/legacy');\nconst exec = require('execon');\n\nconst reject = Promise.reject.bind(Promise);\n\nCloudCmd.EditNames = function EditNamesProto(callback) {\n    const Info = DOM.CurrentInfo;\n    const Dialog = DOM.Dialog;\n    \n    const TITLE = 'Edit Names';\n    const alert = currify(Dialog.alert, TITLE);\n    const refresh = currify(_refresh);\n    \n    const EditNames = this;\n    let Menu, MenuIO;\n    const ConfigView  = {\n        beforeClose: () => {\n            exec.ifExist(Menu, 'hide');\n            isChanged();\n            DOM.Events.remove('keydown', keyListener);\n        }\n    };\n    \n    function init(callback) {\n        let editor;\n        \n        exec.series([\n            CloudCmd.Edit,\n            \n            (callback) => {\n                editor = CloudCmd.Edit.getEditor();\n                callback();\n            },\n            \n            (callback) => {\n                setListeners(editor);\n                callback();\n            },\n            \n            (callback) => {\n                EditNames.show();\n                callback();\n            },\n        ], callback);\n    }\n    \n    this.show = () => {\n        const names = getActiveNames().join('\\n');\n        \n        if (Info.name === '..' && names.length === 1)\n            return Dialog.alert.noFiles(TITLE);\n        \n        CloudCmd.Edit\n            .getEditor()\n            .setValueFirst('edit-names', names)\n            .setMode()\n            .setOption('keyMap', 'default')\n            .disableKey();\n        \n        DOM.Events.addKey(keyListener);\n        \n        CloudCmd.Edit.show(ConfigView);\n    };\n    \n    function keyListener(event) {\n        const ctrl = event.ctrlKey;\n        const meta = event.metaKey;\n        const ctrlMeta = ctrl || meta;\n        const Key = CloudCmd.Key;\n        \n        if (!ctrlMeta || event.keyCode !== Key.S)\n            return;\n        \n        EditNames.hide();\n    }\n    \n    function getActiveNames() {\n        return DOM.getFilenames(DOM.getActiveFiles());\n    }\n    \n    this.hide = () => {\n        CloudCmd.Edit.hide();\n    };\n    \n    function setListeners() {\n        const element = CloudCmd.Edit.getElement();\n        \n        DOM.Events.addOnce('contextmenu', element, setMenu);\n    }\n    \n    function applyNames() {\n        const dir = Info.dirPath;\n        const from = getActiveNames();\n        const nameIndex = from.indexOf(Info.name);\n        \n        const editor = CloudCmd.Edit.getEditor();\n        const to = editor\n            .getValue()\n            .split('\\n');\n        \n        const root = CloudCmd.config('root');\n        \n        Promise.resolve(root)\n            .then(rename(dir, from, to))\n            .then(refresh(to, nameIndex))\n            .catch(alert);\n    }\n    \n    function _refresh(to, nameIndex, res) {\n        if (res.status === 404)\n            return res.text().then(reject);\n        \n        const currentName = to[nameIndex];\n        \n        CloudCmd.refresh({\n            currentName\n        });\n    }\n    \n    function getDir(root, dir) {\n        if (root === '/')\n            return dir;\n        \n        return root + dir;\n    }\n    \n    function rename(dir, from, to) {\n        return (root) => {\n            return fetch(CloudCmd.PREFIX + '/rename', {\n                method: 'put',\n                credentials: 'include',\n                body: JSON.stringify({\n                    from: from,\n                    to: to,\n                    dir: getDir(root, dir)\n                })\n            });\n        };\n    }\n    \n    function setMenu(event) {\n        const position = {\n            x: event.clientX,\n            y: event.clientY\n        };\n        \n        event.preventDefault();\n        \n        !Menu && DOM.loadRemote('menu', (error) => {\n            MenuIO = window.MenuIO;\n            let noFocus;\n            const editor = CloudCmd.Edit.getEditor();\n            const options = {\n                beforeShow: (params) => {\n                    params.x -= 18;\n                    params.y -= 27;\n                },\n                \n                afterClick: () => {\n                    !noFocus && editor.focus();\n                }\n            };\n            \n            const menuData = {\n                'Save           Ctrl+S' : () => {\n                    editor.save();\n                    EditNames.hide();\n                },\n                'Go To Line     Ctrl+G' : () => {\n                    noFocus = true;\n                    editor.goToLine();\n                },\n                'Cut            Ctrl+X' : () => {\n                    editor.cutToClipboard();\n                },\n                'Copy           Ctrl+C' : () => {\n                    editor.copyToClipboard();\n                },\n                'Paste          Ctrl+V' : () => {\n                    editor.pasteFromClipboard();\n                },\n                'Delete         Del'    : () => {\n                    editor.remove('right');\n                },\n                'Select All     Ctrl+A' : () => {\n                    editor.selectAll();\n                },\n                'Close          Esc'    : () => {\n                    EditNames.hide();\n                }\n            };\n            \n            if (error)\n                return alert(error);\n            \n            if (Menu || !MenuIO)\n                return;\n                \n            const element = CloudCmd.Edit.getElement();\n            \n            Menu = new MenuIO(element, options, menuData);\n            Menu.show(position.x, position.y);\n        });\n    }\n    \n    function isChanged() {\n        const editor = CloudCmd.Edit.getEditor();\n        const msg = 'Apply new names?';\n        \n        if (!editor.isChanged())\n            return;\n        \n        Dialog.confirm(TITLE, msg)\n            .then(EditNames.hide)\n            .then(applyNames)\n            .catch(EditNames.hide);\n    }\n    \n    init(callback);\n};\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/konsole.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/konsole.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","4","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","exec","currify","Images","DOM","Dialog","Info","CurrentInfo","rmLastSlash","a","replace","CloudCmd","Konsole","konsole","config","cd","fn","dir","show","Name","TITLE","Element","Loaded","this","getPrefix","PREFIX","onPath","path","dirPath","loadDir","hide","View","clear","getDirPath","create","callback","options","cwd","env","ACTIVE_DIR","getCurrentDirPath","PASSIVE_DIR","getNotCurrentDirPath","CURRENT_NAME","getCurrentName","CURRENT_PATH","prefix","socketPath","Console","spawn","on","with","authCheck","if","handler","addShortCuts","P","command","getPromptText","setPromptText","emit","alert","load","url","js","error","message","Util","timeEnd","time","afterShow","focus","series","className"],"mappings":"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","file":"./modules/konsole.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t4: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([27,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd */\n/* global Util */\n/* global DOM */\n/* global Console */\n\nconst exec = require('execon');\nconst currify = require('currify/legacy');\nconst Images = require('../dom/images');\nconst {\n    Dialog,\n    CurrentInfo:Info,\n} = DOM;\n\nconst rmLastSlash = (a) => a.replace(/\\/$/, '') || '/';\n\nCloudCmd.Konsole = ConsoleProto;\n\nfunction ConsoleProto() {\n    let konsole;\n    const {config} = CloudCmd;\n    \n    const noop = () => {};\n    const cd = currify((fn, dir) => fn(`cd ${rmLastSlash(dir)}`));\n    \n    if (!config('console'))\n        return {\n            show: noop\n        };\n    \n    const Name = 'Konsole';\n    const TITLE = 'Console';\n    \n    let Element;\n    let Loaded;\n    \n    const Konsole = this;\n    \n    function init() {\n        Images.show.load('top');\n        \n        exec.series([\n            CloudCmd.View,\n            load,\n            create,\n            Konsole.show,\n        ]);\n        \n        Element = DOM.load({\n            name        : 'div',\n            className   : 'console'\n        });\n    }\n    \n    this.hide = () => {\n        CloudCmd.View.hide();\n    };\n    \n    this.clear = () => {\n        konsole.clear();\n    };\n    \n    function getPrefix() {\n        return CloudCmd.PREFIX + '/console';\n    }\n    \n    function getEnv() {\n        return {\n            ACTIVE_DIR: DOM.getCurrentDirPath.bind(DOM),\n            PASSIVE_DIR: DOM.getNotCurrentDirPath.bind(DOM),\n            CURRENT_NAME: DOM.getCurrentName.bind(DOM),\n            CURRENT_PATH: () => {\n                return Info.path;\n            }\n        };\n    }\n    \n    function onPath(path) {\n        if (Info.dirPath === path)\n            return;\n        \n        CloudCmd.loadDir({\n            path,\n        });\n    }\n    \n    const getDirPath = () => {\n        if (config('syncConsolePath'))\n            return Info.dirPath;\n    };\n    \n    function create(callback) {\n        const options = {\n            cwd: getDirPath(),\n            env: getEnv(),\n            prefix: getPrefix(),\n            socketPath: CloudCmd.PREFIX,\n        };\n        \n        konsole = Console(Element, options, (spawn) => {\n            spawn.on('connect', exec.with(authCheck, spawn));\n            spawn.on('path', config.if('syncConsolePath', onPath));\n            \n            CloudCmd.on('active-dir', config.if('syncConsolePath', cd(spawn.handler)));\n            \n            exec(callback);\n        });\n        \n        konsole.addShortCuts({\n            'P': () => {\n                const command = Console.getPromptText();\n                const path = DOM.getCurrentDirPath();\n                \n                Console.setPromptText(command + path);\n            }\n        });\n    }\n    \n    function authCheck(spawn) {\n        spawn.emit('auth', config('username'), config('password'));\n        \n        spawn.on('reject', () => {\n            Dialog.alert(TITLE, 'Wrong credentials!');\n        });\n    }\n    \n    this.show = (callback) => {\n        if (!Loaded)\n            return;\n        \n        CloudCmd.View.show(Element, {\n            afterShow: () => {\n                konsole.focus();\n                exec(callback);\n            }\n        });\n    };\n    \n    function load(callback) {\n        const prefix = getPrefix();\n        const url = prefix + '/console.js';\n        \n        DOM.load.js(url, (error) => {\n            if (error)\n                return Dialog.alert(TITLE, error.message);\n            \n            Loaded = true;\n            Util.timeEnd(Name + ' load');\n            exec(callback);\n        });\n        \n        Util.time(Name + ' load');\n    }\n    \n    init();\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/cloud.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/cloud.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","CloudCmd","Cloud","callback","load","js","Files","error","key","FilePicker","filepicker","setKey","Images","hide","exec","loadFiles","currify","log","upload","file","url","filename","success","with","ajax","responseType","uploadFile","store","mimetype","fpFile","exportFile","saveFile","pick"],"mappings":"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","file":"./modules/cloud.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([25,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global CloudCmd, filepicker */\n\n'use strict';\n\nCloudCmd.Cloud = CloudProto;\n\nconst exec = require('execon');\nconst currify = require('currify/legacy');\n\nconst {log} = CloudCmd;\n\nconst load = require('../dom/load');\nconst Files = require('../dom/files');\nconst Images = require('../dom/images');\n\nconst upload = currify(_upload);\n\nfunction CloudProto(callback) {\n    loadFiles(callback);\n    \n    return module.exports;\n}\n\nmodule.exports.uploadFile = (filename, data) => {\n    const mimetype = '';\n    \n    filepicker.store(data, {\n        mimetype,\n        filename,\n    }, (fpFile) => {\n        filepicker.exportFile(fpFile, log, log);\n    });\n};\n\nmodule.exports.saveFile = (callback) => {\n    filepicker.pick(upload(callback));\n};\n\nfunction _upload(callback, file) {\n    const {\n        url,\n        filename,\n    } = file;\n    \n    const responseType = 'arraybuffer';\n    const success = exec.with(callback, filename);\n    \n    load.ajax({\n        url,\n        responseType,\n        success,\n    });\n}\n\nfunction loadFiles(callback) {\n    const js = '//api.filepicker.io/v2/filepicker.js';\n    \n    load.js(js, () => {\n        Files.get('modules', (error, modules) => {\n            const {key} = modules.data.FilePicker;\n            \n            filepicker.setKey(key);\n            \n            Images.hide();\n            exec(callback);\n        });\n    });\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/view.js:1:!function(e){function n(n){for(var t,a,u=n[0],f=n[1],c=n[2],l=0,d=[];l<u.length;l++)a=u[l],o[a]&&d.push(o[a][0]),o[a]=0;for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&(e[t]=f[t]);for(s&&s(n);d.length;)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,n=0;n<i.length;n++){for(var r=i[n],t=!0,u=1;u<r.length;u++){var f=r[u];0!==o[f]&&(t=!1)}t&&(i.splice(n--,1),e=a(a.s=r[0]))}return e}var t={},o={11:0};var i=[];function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,n,r){a.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],f=u.push.bind(u);u.push=n,u=u.slice();for(var c=0;c<u.length;c++)n(u[c]);var s=f;i.push([39,0]),r()}({39:function(e,n,r){"use strict";var t=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var r=[],t=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(e){o=!0,i=e}finally{try{!t&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};r(83);var i=r(4),a=r(13),u=r(0),f=r(1),c=r(6).time,s=r(5).FS,l=r(7),d=r(8),p=r(3),v=r(2),y=f(function(e,n){return n.test(e)}),h=f(function(e,n,r,t){return e(t,n,r)})(d.add),b=function(e){return RegExp("\\."+e+"$","i")};CloudCmd.View=function(n){var r=n||u.with(P,null);m=!0,u.series([DOM.loadJquery,F,function(e){m=!1,u(e)}],r),j.parent=S=p({id:"js-view",name:"div",className:"fancybox-overlay fancybox-overlay-fixed"});return["click","contextmenu"].forEach(h(S,R)),e.exports},e.exports=u.bind(),e.exports.show=P,e.exports.hide=k;var m=!1,w="View",g=DOM.CurrentInfo,x=CloudCmd.Key,O=function(e){return e.split("/").pop()},C=void 0,E=void 0,S=void 0,j={beforeShow:function(e){v.hide(),x.unsetBind(),S.classList.add("view-overlay"),u(e)},beforeClose:function(e){d.rmKey(B),x.setBind(),u(e),_()},afterShow:function(e){C.focus(),u(e)},afterClose:u,fitToView:!0,loop:!1,openEffect:"none",closeEffect:"none",autoSize:!1,height:"100%",width:"100%",minWidth:0,minHeight:0,padding:0,preload:0,keys:null,mouseWheel:!1,arrows:!1,helpers:{overlay:null,title:null}};function P(e,n){var r=CloudCmd.PREFIX_URL+s;if(!m)if(n&&!1===n.bindKeys||d.addKey(B),C=$('<div class="view" tabindex=0>'),e){var f=$(C).append(e);$.fancybox.open(f,function(e,n){var r=o({},e);return n?(Object.keys(n).forEach(function(e){var t=!!r[e],o=n[e];if(i.function(o)&&t){var a=r[e];r[e]=function(){u.series([a,o])}}else r[e]=n[e]}),r):r}(j,n))}else{v.show.load();var c,p,y=r+g.path;switch(function(e){if(D(e))return"image";if(function(e){return M(e)||function(e){return/\.(mp4|avi)$/i.test(e)}(e)}(e))return"media"}(y)){default:return g.getData(function(e,n){if(e)return v.hide();var r=document.createTextNode(n);C.css("margin","2%"),$.fancybox.open(C.append(r),j)});case"image":return function(e,n){var r=g.files.map(DOM.getCurrentPath).filter(D),t=r.map(function(e){return{href:n+e,title:O(e)}}),i=r.indexOf(g.path),a=o({},j,{index:i,autoSize:!0,type:"image",prevEffect:"none",nextEffect:"none",arrows:!0,keys:!0,helpers:{overlay:null,title:{}}});$.fancybox.open(t,a)}(0,r);case"media":return function(e,n){if("string"!=typeof e)throw Error("src should be a string!");if("function"!=typeof n)throw Error("callback should be a function")}(c=y,p=function(e){var n=DOM.getByDataName("js-media",e),r=u.with(K,n);$.fancybox.open(e,{parent:S,beforeShow:function(){j.beforeShow(),d.addKey(r)},beforeClose:function(){j.beforeClose(),d.rmKey(r)},afterShow:function(){e.querySelector("audio, video").focus()},helpers:{overlay:null,title:null}})}),void l.get("view/media-tmpl",function(e,n){var r=g.name;if(e)return alert(e);E||(E=n);var o=M(r),i=o?"audio":"video",u=a(E,{src:c,type:i,name:r}),f=$(u),s=t(f,1),l=s[0];p(l)})}}}function k(){$.fancybox.close()}function D(e){return["jp(e|g|eg)","gif","png","bmp","webp","svg","ico"].map(b).some(y(e))}function M(e){return/\.(mp3|ogg|m4a)$/i.test(e)}function K(e,n){n.keyCode===x.SPACE&&(e.paused?e.play():e.pause())}function F(e){c(w+" load"),DOM.loadRemote("fancybox",function(){var n=CloudCmd.PREFIX;p.css(n+"/dist/view.css",e),p.style({id:"view-inlince-css",inner:[".fancybox-title-float-wrap .child {","-webkit-border-radius: 0;","-moz-border-radius: 0;","border-radius: 0;","}"].join("")})})}function R(e){var n=e.target===S,r={x:e.clientX,y:e.clientY};n&&(_(),k(),function(e){var n=DOM.getCurrentByPosition(e);if(!n)return;var r=g.files,t=g.filesPassive,o=~r.indexOf(n),i=~t.indexOf(n);if(!o&&!i)return;if(DOM.isCurrentFile(n))return;DOM.setCurrentFile(n)}(r))}function _(){S.classList.remove("view-overlay")}function B(e){e.keyCode===x.ESC&&k()}},83:function(e,n){}});
/src/dist/modules/view.js-2-//# sourceMappingURL=view.js.map
##############################################
/src/dist/modules/contact.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/contact.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","7","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","CloudCmd","Contact","callback","init","exec","Images","Events","DOM","Key","show","hide","Inited","path","PREFIX","load","js","olark","identify","addKey","onKey","unsetBind","setBind","_ref","keyCode","ESC"],"mappings":"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","file":"./modules/contact.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t7: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([34,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global CloudCmd */\n/* global DOM */\n/* global olark */\n\n'use strict';\n\nCloudCmd.Contact = ContactProto;\n\nconst exec = require('execon');\nconst Images = require('../dom/images');\n\nfunction ContactProto(callback) {\n    init(callback);\n    \n    return exports;\n}\n\nconst Events = DOM.Events;\nconst Key = CloudCmd.Key;\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nlet Inited = false;\n\nfunction init(callback) {\n    if (Inited)\n        return;\n    \n    load(() => {\n        Inited = true;\n        \n        olark.identify('6216-545-10-4223');\n        olark('api.box.onExpand', show);\n        olark('api.box.onShow', show);\n        olark('api.box.onShrink', hide);\n        \n        exec(callback);\n    });\n    \n    Events.addKey(onKey);\n}\n\nfunction load(callback) {\n    const {PREFIX} = CloudCmd;\n    const path = `${PREFIX}/modules/olark/olark.min.js`;\n    \n    Images.show.load('top');\n    \n    DOM.load.js(path, callback);\n}\n\nfunction show() {\n    Key.unsetBind();\n    Images.hide();\n    \n    if (Inited)\n        return olark('api.box.expand');\n    \n    init(show);\n}\n\nfunction hide() {\n    Key.setBind();\n    olark('api.box.hide');\n}\n\nfunction onKey({keyCode}) {\n    if (keyCode === Key.ESC)\n        hide();\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/polyfill.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/polyfill.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","itype","XMLHttpRequest","document","head","DOM","load","ajax","$","Array","isArray","array","scrollIntoViewIfNeeded","element","centerIfNeeded","parent","topWidth","leftWidth","parentComputedStyle","parentBorderTopWidth","parentBorderLeftWidth","overTop","overBottom","overLeft","overRight","alignWithTop","getComputedStyle","arguments","parentNode","getPropertyValue","parseInt","offsetTop","scrollTop","clientHeight","offsetLeft","scrollLeft","clientWidth","scrollIntoView","JSON","parse","parseJSON","stringify","obj","v","ret","json","isStr","string","isObj","Util"],"mappings":"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","file":"./modules/polyfill.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([24,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global Util, DOM, $ */\n\nconst itype = require('itype/legacy');\n\nif (!window.XMLHttpRequest || !document.head)\n    DOM.load.ajax = $.ajax;\n\nif (!Array.isArray)\n    Array.isArray = itype.array.bind();\n\n/* function polyfill webkit standart function\n *    https://gist.github.com/2581101\n */\nDOM.scrollIntoViewIfNeeded = function(element, centerIfNeeded) {\n    let parent,\n        topWidth,\n        leftWidth,\n        parentComputedStyle,\n        parentBorderTopWidth,\n        parentBorderLeftWidth,\n        overTop,\n        overBottom,\n        overLeft,\n        overRight,\n        alignWithTop;\n    \n    if (window.getComputedStyle) {\n        if (arguments.length === 1)\n            centerIfNeeded = false;\n        \n        parent                  = element.parentNode;\n        parentComputedStyle     = window.getComputedStyle(parent, null);\n        \n        topWidth                = parentComputedStyle.getPropertyValue('border-top-width');\n        leftWidth               = parentComputedStyle.getPropertyValue('border-left-width');\n        \n        parentBorderTopWidth    = parseInt(topWidth, 10);\n        parentBorderLeftWidth   = parseInt(leftWidth, 10);\n            \n        overTop                 = element.offsetTop - parent.offsetTop < parent.scrollTop,\n        overBottom              =\n            (element.offsetTop         -\n                parent.offsetTop        +\n                element.clientHeight   -\n                parentBorderTopWidth)   >\n            (parent.scrollTop + parent.clientHeight),\n            \n        overLeft                = element.offsetLeft -\n            parent.offsetLeft < parent.scrollLeft,\n            \n        overRight               =\n            (element.offsetLeft        -\n                parent.offsetLeft       +\n                element.clientWidth    -\n                parentBorderLeftWidth)  >\n            (parent.scrollLeft + parent.clientWidth),\n        \n        alignWithTop            = overTop && !overBottom;\n        \n        if ((overTop || overBottom) && centerIfNeeded)\n            parent.scrollTop    =\n                element.offsetTop      -\n                parent.offsetTop        -\n                parent.clientHeight / 2 -\n                parentBorderTopWidth    +\n                element.clientHeight / 2;\n        \n        if ((overLeft || overRight) && centerIfNeeded)\n            parent.scrollLeft   =\n                element.offsetLeft     -\n                parent.offsetLeft       -\n                parent.clientWidth / 2  -\n                parentBorderLeftWidth   +\n                element.clientWidth / 2;\n        \n        if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded)\n            element.scrollIntoView(alignWithTop);\n    }\n};\n\nif (!window.JSON) {\n    window.JSON = {};\n    \n    window.JSON.parse = $.parseJSON;\n    \n    /* https://gist.github.com/754454 */\n    window.JSON.stringify   = function(obj) {\n        let n, v, has,\n            ret     = '',\n            value   = '',\n            json    = [];\n        \n        let isStr = itype.string(obj);\n        let isObj = itype.object(obj);\n        let isArray = itype.array(obj);\n        \n        if (!isObj || obj === null) {\n            // simple data type\n            if (isStr)\n                obj = '\"' + obj + '\"';\n            \n            ret += obj;\n        } else {\n            // recurse array or object\n            for (n in obj) {\n                v   = obj[n];\n                has = obj.hasOwnProperty(n);\n                \n                if (has) {\n                    isStr   = itype.string(v);\n                    isObj   = itype.object(v);\n                    \n                    if (isStr)\n                        v   = '\"' + v + '\"';\n                    else if (v && isObj)\n                        v   = Util.json.stringify(v);\n                    \n                    if (!isArray)\n                        value   = '\"' + n + '\":';\n                    \n                    json.push(value + v);\n                }\n            }\n            \n            if (isArray)\n                ret = '[' + json + ']';\n            else\n                ret = '{' + json + '}';\n        }\n        \n        return ret;\n    };\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/view.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/view.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","11","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","itype","rendy","exec","currify","time","FS","Files","Events","load","Images","testRegExp","reg","test","addEvent","fn","el","cb","lifo","add","getRegExp","ext","RegExp","CloudCmd","View","callback","func","with","show","Loading","series","DOM","loadJquery","loadAll","Config","parent","Overlay","id","className","forEach","onOverLayClick","hide","Name","Info","CurrentInfo","Key","basename","a","split","pop","El","TemplateAudio","beforeShow","unsetBind","classList","beforeClose","rmKey","listener","setBind","hideOverlay","afterShow","focus","afterClose","fitToView","loop","openEffect","closeEffect","autoSize","height","width","minWidth","minHeight","padding","preload","keys","mouseWheel","arrows","helpers","overlay","title","options","prefixUrl","PREFIX_URL","bindKeys","addKey","$","element","append","fancybox","open","config","_extends","isConfig","item","function","initConfig","src","path","isImage","isAudio","isVideo","isMedia","getType","getData","error","document","createTextNode","css","href","names","files","map","getCurrentPath","filter","titles","index","indexOf","type","prevEffect","nextEffect","showImage","Error","check","media","getByDataName","onKey","onMediaKey","querySelector","template","alert","is","rendered","_$","_$2","_slicedToArray","close","some","event","keyCode","SPACE","paused","play","pause","loadRemote","PREFIX","style","inner","join","isOverlay","target","position","x","clientX","y","clientY","getCurrentByPosition","filesPassive","isFiles","isFilesPassive","isCurrentFile","setCurrentFile","setCurrentByPosition","remove","_ref","ESC"],"mappings":"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","file":"./modules/view.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t11: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([39,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd, DOM, $ */\n\nrequire('../../css/view.css');\n\nconst itype = require('itype/legacy');\nconst rendy = require('rendy');\nconst exec = require('execon');\nconst currify = require('currify/legacy');\n\nconst {time} = require('../../common/util');\nconst {FS} = require('../../common/cloudfunc');\n\nconst Files = require('../dom/files');\nconst Events = require('../dom/events');\nconst load = require('../dom/load');\nconst Images = require('../dom/images');\n\nconst testRegExp = currify((name, reg) => reg.test(name));\nconst lifo = currify((fn, el, cb, name) => fn(name, el, cb));\n\nconst addEvent = lifo(Events.add);\nconst getRegExp = (ext) => RegExp(`\\\\.${ext}$`, 'i');\n\nCloudCmd.View = ViewProto;\n\nmodule.exports = exec.bind();\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nlet Loading = false;\n\nconst Name = 'View';\nconst Info = DOM.CurrentInfo;\nconst Key = CloudCmd.Key;\nconst basename = (a) => a.split('/').pop();\n\nlet El, TemplateAudio, Overlay;\n\nconst Config = {\n    beforeShow: (callback) => {\n        Images.hide();\n        Key.unsetBind();\n        showOverlay();\n        exec(callback);\n    },\n    beforeClose: (callback) => {\n        Events.rmKey(listener);\n        Key.setBind();\n        exec(callback);\n        hideOverlay();\n    },\n    afterShow: (callback) => {\n        El.focus();\n        exec(callback);\n    },\n    afterClose      : exec,\n    fitToView       : true,\n    loop            : false,\n    openEffect      : 'none',\n    closeEffect     : 'none',\n    autoSize        : false,\n    height          : '100%',\n    width           : '100%',\n    minWidth        : 0,\n    minHeight       : 0,\n    padding         : 0,\n    preload         : 0,\n    keys            : null,\n    mouseWheel      : false,\n    arrows          : false,\n    helpers         : {\n        overlay : null,\n        title   : null\n    }\n};\n\nfunction ViewProto(callback) {\n    const func = callback || exec.with(show, null);\n    \n    Loading = true;\n    \n    exec.series([\n        DOM.loadJquery,\n        loadAll,\n        (callback) => {\n            Loading = false;\n            exec(callback);\n        }\n    ], func);\n    \n    Config.parent = Overlay = load({\n        id          : 'js-view',\n        name        : 'div',\n        className   : 'fancybox-overlay fancybox-overlay-fixed'\n    });\n    \n    const events = [\n        'click',\n        'contextmenu',\n    ];\n    \n    events.forEach(addEvent(Overlay, onOverLayClick));\n    \n    return module.exports;\n}\n\nfunction show(data, options) {\n    const prefixUrl = CloudCmd.PREFIX_URL + FS;\n    \n    if (Loading)\n        return;\n    \n    if (!options || options.bindKeys !== false)\n        Events.addKey(listener);\n    \n    El = $('<div class=\"view\" tabindex=0>');\n    \n    if (data) {\n        const element = $(El).append(data);\n        $.fancybox.open(element, initConfig(Config, options));\n        return;\n    }\n    \n    Images.show.load();\n    \n    const path = prefixUrl + Info.path;\n    const type = getType(path);\n    \n    switch(type) {\n    default:\n        return Info.getData((error, data) => {\n            if (error)\n                return Images.hide();\n            \n            const element = document.createTextNode(data);\n            /* add margin only for view text documents */\n            El.css('margin', '2%');\n            \n            $.fancybox.open(El.append(element), Config);\n        });\n    \n    case 'image':\n        return showImage(path, prefixUrl);\n    \n    case 'media':\n        return getMediaElement(path, (element) => {\n            const media = DOM.getByDataName('js-media', element);\n            const onKey = exec.with(onMediaKey, media);\n            \n            $.fancybox.open(element, {\n                parent      : Overlay,\n                beforeShow  : () => {\n                    Config.beforeShow();\n                    Events.addKey(onKey);\n                },\n                beforeClose : () => {\n                    Config.beforeClose();\n                    Events.rmKey(onKey);\n                },\n                afterShow: () => {\n                    element\n                        .querySelector('audio, video')\n                        .focus();\n                },\n                helpers: {\n                    overlay : null,\n                    title   : null\n                }\n            });\n        });\n    }\n}\n\nfunction initConfig(Config, options) {\n    const config = Object.assign({}, Config);\n    \n    if (!options)\n        return config;\n    \n    Object.keys(options).forEach((name) => {\n        const isConfig = !!config[name];\n        const item = options[name];\n        const isFunc = itype.function(item);\n        \n        if (!isFunc || !isConfig) {\n            config[name] = options[name];\n            return;\n        }\n        \n        const func = config[name];\n        config[name] = () => {\n            exec.series([func, item]);\n        };\n    });\n    \n    return config;\n}\n\nfunction hide() {\n    $.fancybox.close();\n}\n\nfunction showImage(href, prefixUrl) {\n    const makeTitle = (path) => {\n        return {\n            href: prefixUrl + path,\n            title: basename(path),\n        };\n    };\n    \n    const names = Info.files\n        .map(DOM.getCurrentPath)\n        .filter(isImage);\n    \n    const titles = names\n        .map(makeTitle);\n    \n    const index = names.indexOf(Info.path);\n    const imageConfig = {\n        index,\n        autoSize    : true,\n        type        : 'image',\n        prevEffect  : 'none',\n        nextEffect  : 'none',\n        arrows      : true,\n        keys        : true,\n        helpers     : {\n            overlay : null,\n            title   : {}\n        }\n    };\n    \n    const config = {\n        ...Config,\n        ...imageConfig,\n    };\n    \n    $.fancybox.open(titles, config);\n}\n\nfunction isImage(name) {\n    const images = [\n        'jp(e|g|eg)',\n        'gif',\n        'png',\n        'bmp',\n        'webp',\n        'svg',\n        'ico'\n    ];\n    \n    return images\n        .map(getRegExp)\n        .some(testRegExp(name));\n}\n\nfunction isMedia(name) {\n    return isAudio(name) || isVideo(name);\n}\n\nfunction isAudio(name) {\n    return /\\.(mp3|ogg|m4a)$/i.test(name);\n}\n\nfunction isVideo(name) {\n    return /\\.(mp4|avi)$/i.test(name);\n}\n\nfunction getType(name) {\n    if (isImage(name))\n        return 'image';\n    \n    if (isMedia(name))\n        return 'media';\n}\n\nfunction getMediaElement(src, callback) {\n    check(src, callback);\n    \n    Files.get('view/media-tmpl', (error, template) => {\n        const {name} = Info;\n        \n        if (error)\n            return alert(error);\n        \n        if (!TemplateAudio)\n            TemplateAudio   = template;\n        \n        const is = isAudio(name);\n        const type =  is ? 'audio' : 'video';\n        \n        const rendered = rendy(TemplateAudio, {\n            src,\n            type,\n            name,\n        });\n        \n        const [element] = $(rendered);\n        callback(element);\n    });\n}\n\nfunction check(src, callback) {\n    if (typeof src !== 'string')\n        throw Error('src should be a string!');\n    \n    if (typeof callback !== 'function')\n        throw Error('callback should be a function');\n}\n\nfunction onMediaKey(media, event) {\n    const {keyCode} = event;\n    \n    if (keyCode === Key.SPACE) {\n        if (media.paused)\n            media.play();\n        else\n            media.pause();\n    }\n}\n\n/**\n * function loads css and js of FancyBox\n * @callback   -  executes, when everything loaded\n */\nfunction loadAll(callback) {\n    time(Name + ' load');\n    \n    DOM.loadRemote('fancybox', () => {\n        const {PREFIX} = CloudCmd;\n        \n        load.css(PREFIX + '/dist/view.css', callback);\n        \n        load.style({\n            id      : 'view-inlince-css',\n            inner   : [\n                '.fancybox-title-float-wrap .child {',\n                '-webkit-border-radius: 0;',\n                '-moz-border-radius: 0;',\n                'border-radius: 0;',\n                '}'\n            ].join('')\n        });\n    });\n}\n\nfunction onOverLayClick(event) {\n    const {target} = event;\n    const isOverlay = target === Overlay;\n    const position = {\n        x: event.clientX,\n        y: event.clientY\n    };\n      \n    if (!isOverlay)\n        return;\n    \n    hideOverlay();\n    hide();\n    \n    setCurrentByPosition(position);\n}\n\nfunction setCurrentByPosition(position) {\n    const element = DOM.getCurrentByPosition(position);\n    \n    if (!element)\n        return;\n    \n    const {\n        files,\n        filesPassive,\n    } = Info;\n    \n    const isFiles = ~files.indexOf(element);\n    const isFilesPassive = ~filesPassive.indexOf(element);\n    \n    if (!isFiles && !isFilesPassive)\n        return;\n    \n    const isCurrent = DOM.isCurrentFile(element);\n    \n    if (isCurrent)\n        return;\n    \n    DOM.setCurrentFile(element);\n}\n\nfunction hideOverlay() {\n    Overlay.classList.remove('view-overlay');\n}\n\nfunction showOverlay() {\n    Overlay.classList.add('view-overlay');\n}\n\nfunction listener({keyCode}) {\n    if (keyCode === Key.ESC)\n        hide();\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/terminal.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/terminal.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","exec","load","DOM","Images","Dialog","TITLE","CloudCmd","Terminal","config","show","series","View","loadAll","create","Element","className","Key","Loaded","hide","getPrefix","PREFIX","callback","options","env","ACTIVE_DIR","getCurrentDirPath","PASSIVE_DIR","getNotCurrentDirPath","CURRENT_NAME","getCurrentName","CURRENT_PATH","getCurrentPath","prefix","socketPath","_gritty","gritty","socket","terminal","on","char","_ref","keyCode","shiftKey","ESC","with","authCheck","spawn","emit","alert","afterShow","focus","url","js","error","message"],"mappings":"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","file":"./modules/terminal.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([26,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd, gritty */\n\nrequire('../../css/terminal.css');\n\nconst exec = require('execon');\nconst load = require('../dom/load');\nconst DOM = require('../dom');\nconst Images = require('../dom/images');\nconst {Dialog} = DOM;\n\nconst TITLE = 'Terminal';\n\nCloudCmd.Terminal = TerminalProto;\n\nconst {Key} = CloudCmd;\n\nlet Element;\nlet Loaded;\nlet Terminal;\n\nconst {config} = CloudCmd;\n\nfunction TerminalProto() {\n    const noop = () => {};\n    \n    if (!config('terminal'))\n        return {\n            show: noop\n        };\n    \n    Images.show.load('top');\n    \n    exec.series([\n        CloudCmd.View,\n        loadAll,\n        create,\n        show,\n    ]);\n    \n    Element = load({\n        name: 'div',\n        className : 'terminal',\n    });\n    \n    return module.exports;\n}\n\nmodule.exports.show = show;\nmodule.exports.hide = hide;\n\nfunction hide () {\n    CloudCmd.View.hide();\n}\n\nfunction getPrefix() {\n    return CloudCmd.PREFIX + '/gritty';\n}\n\nfunction getEnv() {\n    return {\n        ACTIVE_DIR: DOM.getCurrentDirPath,\n        PASSIVE_DIR: DOM.getNotCurrentDirPath,\n        CURRENT_NAME: DOM.getCurrentName,\n        CURRENT_PATH: DOM.getCurrentPath,\n    };\n}\n\nfunction create(callback) {\n    const options = {\n        env: getEnv(),\n        prefix: getPrefix(),\n        socketPath: CloudCmd.PREFIX,\n    };\n    \n    const {socket, terminal} = gritty(Element, options);\n    \n    Terminal = terminal;\n    \n    terminal.on('key', (char, {keyCode, shiftKey}) => {\n        if (shiftKey && keyCode === Key.ESC) {\n            hide();\n        }\n    });\n    \n    socket.on('connect', exec.with(authCheck, socket));\n    exec(callback);\n}\n\nfunction authCheck(spawn) {\n    spawn.emit('auth', config('username'), config('password'));\n    \n    spawn.on('reject', () => {\n        Dialog.alert(TITLE, 'Wrong credentials!');\n    });\n}\n\nfunction show(callback) {\n    if (!Loaded)\n        return;\n    \n    CloudCmd.View.show(Element, {\n        afterShow: () => {\n            if (Terminal)\n                Terminal.focus();\n            \n            exec(callback);\n        }\n    });\n}\n\nfunction loadAll(callback) {\n    const prefix = getPrefix();\n    const url = prefix + '/gritty.js';\n    \n    DOM.load.js(url, (error) => {\n        if (error)\n            return Dialog.alert(TITLE, error.message);\n        \n        Loaded = true;\n        exec(callback);\n    });\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/edit-file-vim.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/edit-file-vim.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","14","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","exec","Events","Key","CloudCmd","EditFileVim","callback","this","ConfigView","bindKeys","beforeClose","rmKey","listener","event","keyCode","shiftKey","ESC","preventDefault","hide","show","addKey","EditFile","getEditor","setKeyMap","Edit","series","init"],"mappings":"aACA,SAAAA,EAAAC,GAOA,IANA,IAKAC,EAAAC,EALAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAGAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAIA,IADAe,KAAAhB,GACAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,GAAA,GAQA,IAAAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GACAI,cAAA,EACAC,YAAA,EACAC,IAAAL,KAMAX,EAAAiB,EAAA,SAAAb,GACApB,OAAA6B,eAAAT,EAAA,cAAiDc,OAAA,KAIjDlB,EAAAmB,EAAA,SAAAd,GACA,IAAAM,EAAAN,KAAAe,WACA,WAA2B,OAAAf,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAS,EAAAC,GAAsD,OAAAtC,OAAAC,UAAAC,eAAAC,KAAAkC,EAAAC,IAGtDtB,EAAAuB,EAAA,GAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAzC,KAAA4C,KAAAH,GACAA,EAAAzC,KAAAX,EACAoD,IAAAI,QACA,QAAAjD,EAAA,EAAgBA,EAAA6C,EAAA3C,OAAuBF,IAAAP,EAAAoD,EAAA7C,IACvC,IAAAU,EAAAqC,EAIAnC,EAAAR,MAAA,OAEAU,sCCtIA,IAAMoC,EAAO7B,EAAQ,GACf8B,EAAS9B,EAAQ,GAEhB+B,EAAOC,SAAPD,IAEPC,SAASC,YAAc,SAA0BC,GAC7C,IAAMD,EAAcE,KAEdC,GACFC,UAAU,EACVC,YAAa,WACTR,EAAOS,MAAMC,KAwBrB,SAASA,EAASC,GAAO,IAEjBC,EAEAD,EAFAC,QAEAD,EADAE,UAGYD,IAAYX,EAAIa,MAC5BH,EAAMI,iBACNZ,EAAYa,QArBpBX,KAAKY,KAAO,WACRjB,EAAOkB,OAAOR,GAEdR,SAASiB,SACJF,KAAKX,GACLc,YACAC,UAAU,QAGnBhB,KAAKW,KAAO,WACRd,SAASoB,KAAKN,QAjBlB,SAAcZ,GACVL,EAAKwB,QACDrB,SAASiB,SACTf,GAAYD,EAAYc,OA6BhCO,CAAKpB","file":"./modules/edit-file-vim.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t14: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([42,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global CloudCmd */\n\nconst exec = require('execon');\nconst Events = require('../dom/events');\n\nconst {Key} = CloudCmd;\n\nCloudCmd.EditFileVim = function EditFileVimProto(callback) {\n    const EditFileVim = this;\n    \n    const ConfigView  = {\n        bindKeys: false,\n        beforeClose: () => {\n            Events.rmKey(listener);\n        }\n    };\n    \n    function init(callback) {\n        exec.series([\n            CloudCmd.EditFile,\n            callback || EditFileVim.show,\n        ]);\n    }\n    \n    this.show = () => {\n        Events.addKey(listener);\n        \n        CloudCmd.EditFile\n            .show(ConfigView)\n            .getEditor()\n            .setKeyMap('vim');\n    };\n    \n    this.hide = () => {\n        CloudCmd.Edit.hide();\n    };\n    \n    function listener(event) {\n        const {\n            keyCode,\n            shiftKey,\n        } = event;\n        \n        if (shiftKey && keyCode === Key.ESC) {\n            event.preventDefault();\n            EditFileVim.hide();\n        }\n    }\n    \n    init(callback);\n};\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/edit.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/edit.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","16","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","exec","currify","load","maxSize","MAX_FILE_SIZE","time","timeEnd","CloudCmd","Edit","callback","Name","EditorName","config","loadFiles","element","socketPath","PREFIX","prefix","url","js","word","options","ed","editor","Loading","Element","ConfigView","afterShow","moveCursorTo","focus","show","View","arguments","undefined","_extends","fn","Error","checkFn","initConfig","getEditor","setOptions","fontSize","getElement","hide","style","notAppend","createElement","series","init"],"mappings":"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","file":"./modules/edit.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t16: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([45,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global CloudCmd */\n\n'use strict';\n\nconst exec = require('execon');\nconst currify = require('currify/legacy');\n\nconst load = require('../dom/load');\n\nconst {MAX_FILE_SIZE: maxSize} = require('../../common/cloudfunc');\nconst {time, timeEnd} = require('../../common/util');\n\nCloudCmd.Edit = EditProto;\n\nfunction EditProto(callback) {\n    const Name = 'Edit';\n    const EditorName = CloudCmd.config('editor');\n    const loadFiles = currify(_loadFiles);\n    \n    let Loading = true;\n    let Element;\n    let editor;\n    \n    const ConfigView = {\n        afterShow: () => {\n            editor\n                .moveCursorTo(0, 0)\n                .focus();\n        }\n    };\n    \n    const Edit = exec.bind();\n    \n    function init(callback) {\n        const element = createElement();\n        \n        exec.series([\n            CloudCmd.View,\n            loadFiles(element)\n        ], callback);\n    }\n    \n    function createElement() {\n        const element = load({\n            name: 'div',\n            style:\n                'width      : 100%;'                +\n                'height     : 100%;'                +\n                'font-family: \"Droid Sans Mono\";'   +\n                'position   : absolute;',\n            notAppend: true\n        });\n        \n        Element = element;\n        \n        return element;\n    }\n    \n    function checkFn(name, fn) {\n        if (typeof fn !== 'function')\n            throw Error(name + ' should be a function!');\n    }\n    \n    function initConfig(options = {}) {\n        const config = Object.assign({}, options, ConfigView);\n        \n        if (!options.afterShow)\n            return config;\n        \n        checkFn('options.afterShow', options.afterShow);\n        \n        const afterShow = {config};\n        \n        config.afterShow = () => {\n            afterShow();\n            options.afterShow();\n        };\n        \n        return config;\n    }\n    \n    Edit.show = (options) => {\n        if (Loading)\n            return;\n         \n        CloudCmd.View.show(Element, initConfig(options));\n        \n        Edit.getEditor()\n            .setOptions({\n                fontSize: 16,\n            });\n        \n        return Edit;\n    };\n    \n    Edit.getEditor = () => {\n        return editor;\n    };\n    \n    Edit.getElement = () => {\n        return Element;\n    };\n    \n    Edit.hide = () => {\n        CloudCmd.View.hide();\n        return Edit;\n    };\n    \n    function _loadFiles(element, callback) {\n        const socketPath = CloudCmd.PREFIX;\n        const prefix = socketPath + '/' + EditorName;\n        const url = prefix + '/' + EditorName + '.js';\n        \n        time(Name + ' load');\n        \n        load.js(url, () => {\n            const word = window[EditorName];\n            const options = {\n                maxSize,\n                prefix,\n                socketPath,\n            };\n            \n            word(element, options, (ed) => {\n                timeEnd(Name + ' load');\n                editor  = ed;\n                Loading = false;\n                \n                exec(callback);\n            });\n        });\n    }\n    \n    init(callback);\n    \n    return Edit;\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/markdown.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/markdown.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","9","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","CloudCmd","Markdown","options","Images","show","load","exec","series","View","with","arguments","undefined","positionLoad","relative","read","error","inner","div","className","hide"],"mappings":"aACA,SAAAA,EAAAC,GAOA,IANA,IAKAC,EAAAC,EALAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAGAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAIA,IADAe,KAAAhB,GACAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAQA,IAAAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GACAI,cAAA,EACAC,YAAA,EACAC,IAAAL,KAMAX,EAAAiB,EAAA,SAAAb,GACApB,OAAA6B,eAAAT,EAAA,cAAiDc,OAAA,KAIjDlB,EAAAmB,EAAA,SAAAd,GACA,IAAAM,EAAAN,KAAAe,WACA,WAA2B,OAAAf,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAS,EAAAC,GAAsD,OAAAtC,OAAAC,UAAAC,eAAAC,KAAAkC,EAAAC,IAGtDtB,EAAAuB,EAAA,GAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAzC,KAAA4C,KAAAH,GACAA,EAAAzC,KAAAX,EACAoD,IAAAI,QACA,QAAAjD,EAAA,EAAgBA,EAAA6C,EAAA3C,OAAuBF,IAAAP,EAAAoD,EAAA7C,IACvC,IAAAU,EAAAqC,EAIAnC,EAAAR,MAAA,OAEAU,sCCtIAoC,SAASC,SAQT,SAAuBpB,EAAMqB,GAQzB,OAPAC,EAAOC,KAAKC,KAAK,OAEjBC,EAAKC,QACDP,SAASQ,KACTF,EAAKG,KAAKL,EAAMvB,EAAMqB,KAGnB1B,EAAOD,SAdlB,IAAM+B,EAAOnC,EAAQ,GAEfgC,EAAShC,EAAQ,GACjBkC,EAAOlC,EAAQ,GACd8B,EAAY9B,EAAQ,IAApB8B,SAoBP,SAASG,EAAKvB,GAAoB,IAAdqB,EAAcQ,UAAA1D,OAAA,QAAA2D,IAAAD,UAAA,GAAAA,UAAA,MAG1BE,EAEAV,EAFAU,aACAC,EACAX,EADAW,SAGJV,EAAOC,KAAKC,KAAKO,GAEbC,IACAhC,GATkB,aAWtBoB,EAASa,KAAKjC,EAAM,SAACkC,EAAOC,GACxB,IAGMC,EAAMZ,GACRxB,KAJS,MAKTqC,UAJc,OAKdF,UAGJb,EAAOgB,OAEPnB,SAASQ,KAAKJ,KAAKa,KA/B3BzC,EAAOD,QAAQ6B,KAAOA,EAEtB5B,EAAOD,QAAQ4C,KAAO,WAClBnB,SAASQ,KAAKW","file":"./modules/markdown.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t9: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([37,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/*global CloudCmd */\n\nCloudCmd.Markdown = MarkdownProto;\n\nconst exec = require('execon');\n\nconst Images = require('../dom/images');\nconst load = require('../dom/load');\nconst {Markdown} = require('../dom/rest');\n\nfunction MarkdownProto(name, options) {\n    Images.show.load('top');\n    \n    exec.series([\n        CloudCmd.View,\n        exec.with(show, name, options),\n    ]);\n    \n    return module.exports;\n}\n\nmodule.exports.show = show;\n\nmodule.exports.hide = () => {\n    CloudCmd.View.hide();\n};\n\n\nfunction show(name, options = {}) {\n    const relativeQuery = '?relative';\n    const {\n        positionLoad,\n        relative,\n    } = options;\n    \n    Images.show.load(positionLoad);\n    \n    if (relative)\n        name += relativeQuery;\n    \n    Markdown.read(name, (error, inner) => {\n        const name = 'div';\n        const className = 'help';\n        \n        const div = load({\n            name,\n            className,\n            inner,\n        });\n        \n        Images.hide();\n        \n        CloudCmd.View.show(div);\n    });\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/operation.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/operation/set-listeners.js","file://cloudcmd/client/modules/operation/remove-extension.js","file://cloudcmd/client/modules/operation/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","5","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","DOM","Images","Dialog","forEachKey","TITLE","CloudCmd","options","callback","emitter","done","lastError","removeListener","on","listeners","progress","setProgress","end","hide","clearProgress","error","noContinue","alert","confirm","then","continue","abort","getExt","ext","test","getExtension","replace","Operation","operation","Name","_CloudCmd","config","_DOM","initOperations","wraptile","socketPrefix","fn","fileop","prefix","e","operator","authCheck","onConnect","onDisconnect","spawn","ok","accept","alertDialog","emit","Loaded","copyFn","RESTful","cp","moveFn","mv","deleteFn","delete","extractFn","extract","packZipFn","pack","packTarFn","Info","CurrentInfo","showLoad","show","load","this","processFiles","currify","selFiles","panel","shouldAsk","sameName","from","to","names","dirPath","getNotCurrentDirPath","getSelectedFiles","getFilenames","panelPassive","getCurrentName","getCurrentByName","noFilesCheck","isCopy","type","title","msg","prompt","cancel","message","ask","go","str","Storage","remove","isOnePanel","refresh","noCurrent","currentName","setCurrentByName","_DOM$getActiveFiles","getActiveFiles","is","Boolean","noFiles","tar","setListeners","zip","files","removeQuery","copy","deleteSilent","arguments","undefined","path","deleteSelected","removeMatch","twopack","op","fileFrom","activeFiles","Error","checkEmpty","removeExtension","getPacker","dir","getPackerExt","View","move","msgAsk","current","getCurrentFile","isDir","isCurrentIsDir","getType","promptDelete","isZip","exec","series","loadSocket","file","PREFIX","js","Util","timeEnd","time","a"],"mappings":"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","file":"./modules/operation.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t5: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([32,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\n/* global DOM */\n/* global CloudCmd */\n\nconst {\n    Images,\n    Dialog,\n} = DOM;\n\nconst forEachKey = require('for-each-key/legacy');\nconst {\n    TITLE,\n} = CloudCmd;\n\nmodule.exports = (options, callback) => (emitter) => {\n    if (!callback) {\n        callback = options;\n        options = {};\n    }\n    \n    let done;\n    let lastError;\n    \n    const removeListener = emitter.removeListener.bind(emitter);\n    const on = emitter.on.bind(emitter);\n    \n    const listeners = {\n        progress: (value) => {\n            done = value === 100;\n            Images.setProgress(value);\n        },\n        \n        end: () => {\n            Images\n                .hide()\n                .clearProgress();\n            \n            forEachKey(removeListener, listeners);\n            \n            if (lastError || done)\n                callback(lastError);\n        },\n        \n        error: (error) => {\n            lastError = error;\n            \n            if (options.noContinue) {\n                listeners.end(error);\n                Dialog.alert(TITLE, error);\n                return;\n            }\n            \n            Dialog.confirm(TITLE, error + '\\n Continue?')\n                .then(() => {\n                    emitter.continue();\n                }, () => {\n                    emitter.abort();\n                });\n        }\n    };\n    \n    forEachKey(on, listeners);\n};\n\n","'use strict';\n\nconst {getExt} = require('../../../common/util');\n\nmodule.exports = (name) => {\n    const ext = getExtension(name);\n    \n    return name.replace(ext, '');\n};\n\nfunction getExtension(name) {\n    if (/\\.tar\\.gz$/.test(name))\n        return '.tar.gz';\n    \n    if (/\\.tar\\.bz2$/.test(name))\n        return '.tar.bz2';\n    \n    return getExt(name);\n}\n\n","/* global CloudCmd */\n/* global Util */\n/* global DOM */\n/* global fileop */\n\n'use strict';\n\nCloudCmd.Operation = OperationProto;\n\nconst currify = require('currify/legacy');\nconst wraptile = require('wraptile/legacy');\nconst exec = require('execon');\n\nconst RESTful = require('../../dom/rest');\nconst removeExtension = require('./remove-extension');\nconst setListeners = require('./set-listeners');\n\nconst removeQuery = (a) => a.replace(/\\?.*/, '');\n\nfunction OperationProto(operation, data) {\n    const Name = 'Operation';\n    const {\n        TITLE,\n        config,\n    } = CloudCmd;\n    const {Dialog, Images} = DOM;\n    const initOperations = wraptile(_initOperations);\n    const authCheck = wraptile(_authCheck);\n    \n    let Loaded;\n    \n    let {\n        cp: copyFn,\n        mv: moveFn,\n        delete: deleteFn,\n        extract: extractFn,\n    } = RESTful;\n    \n    let packZipFn = RESTful.pack;\n    let packTarFn = RESTful.pack;\n    \n    const Info = DOM.CurrentInfo;\n    const showLoad = Images.show.load.bind(null, 'top');\n    const Operation = this;\n    const processFiles = currify(_processFiles);\n    \n    const noFilesCheck = () => {\n        const {length} = DOM.getActiveFiles();\n        const is = Boolean(!length);\n        \n        if (is)\n            return Dialog.alert.noFiles(TITLE);\n        \n        return is;\n    };\n    \n    function init() {\n        showLoad();\n        \n        exec.series([\n            DOM.loadSocket,\n            (callback) => {\n                if (!config('progress'))\n                    return callback();\n                \n                load(initOperations(CloudCmd.PREFIX, callback));\n            },\n            () => {\n                Loaded = true;\n                Images.hide();\n                Operation.show(operation, data);\n            }\n        ]);\n    }\n    \n    function _authCheck(spawn, ok) {\n        const accept = wraptile(ok);\n        const alertDialog = wraptile(Dialog.alert);\n        \n        spawn.on('accept', accept(spawn));\n        spawn.on('reject', alertDialog (TITLE, 'Wrong credentials!'));\n        spawn.emit('auth', config('username'), config('password'));\n    }\n    \n    function _initOperations(socketPrefix, fn) {\n        const prefix = `${socketPrefix}/fileop`;\n        fileop({prefix, socketPrefix}, (e, operator) => {\n            fn();\n            \n            operator.on('connect', authCheck(operator, onConnect));\n            operator.on('disconnect', onDisconnect);\n        });\n    }\n    \n    function onConnect(operator) {\n        packTarFn = (data, callback) => {\n            operator.tar(data.from, data.to, data.names)\n                .then(setListeners({noContinue: true}, callback));\n        };\n        \n        packZipFn = (data, callback) => {\n            operator.zip(data.from, data.to, data.names)\n                .then(setListeners({noContinue: true}, callback));\n        };\n        \n        deleteFn = (from, files, callback) => {\n            from = removeQuery(from);\n            operator.remove(from, files)\n                .then(setListeners(callback));\n        };\n        \n        copyFn = (data, callback) => {\n            operator.copy(data.from, data.to, data.names)\n                .then(setListeners(callback));\n        };\n        \n        extractFn = (data, callback) => {\n            operator.extract(data.from, data.to)\n                .then(setListeners({noContinue: true}, callback));\n        };\n    }\n    \n    function onDisconnect() {\n        packZipFn = RESTful.pack;\n        packTarFn = RESTful.pack;\n        deleteFn = RESTful.delete;\n        copyFn = RESTful.cp;\n        extractFn = RESTful.extract;\n    }\n    \n    function getPacker(type) {\n        if (type === 'zip')\n            return packZipFn;\n        \n        return packTarFn;\n    }\n    \n    this.hide = () => {\n        CloudCmd.View.hide();\n    };\n    \n    this.show = (operation, data) => {\n        if (!Loaded)\n            return;\n        \n        if (operation === 'copy')\n            return Operation.copy(data);\n        \n        if (operation === 'move')\n            return Operation.move(data);\n        \n        if (operation === 'delete')\n            return Operation.delete();\n        \n        if (operation === 'delete:silent')\n            return Operation.deleteSilent();\n        \n        if (operation === 'pack')\n            return Operation.pack();\n        \n        if (operation === 'extract')\n            return Operation.extract();\n    };\n    \n    this.copy = processFiles({\n        type: 'copy',\n    });\n    \n    this.move = processFiles({\n        type: 'move'\n    });\n    \n    this.delete = () => {\n        promptDelete();\n    };\n    \n    this.deleteSilent = () => {\n        deleteSilent();\n    };\n    \n    this.pack = () => {\n        const isZip = config('packer') === 'zip';\n        twopack('pack', isZip ? 'zip' : 'tar');\n    };\n    \n    this.extract = () => {\n        twopack('extract');\n    };\n    \n    /**\n     * prompt and delete current file or selected files\n     *\n     * @currentFile\n     */\n    function promptDelete() {\n        if (noFilesCheck())\n            return;\n        \n        const msgAsk = 'Do you really want to delete the ';\n        const msgSel = 'selected ';\n        \n        const files = DOM.getActiveFiles();\n        const names = DOM.getFilenames(files);\n        const n = names.length;\n        \n        let msg;\n        if (n) {\n            let name = '';\n            \n            for (let i = 0; i < 5 && i < n; i++)\n                name += '\\n' + names[i];\n            \n            if (n >= 5)\n                name += '\\n...';\n            \n            msg = msgAsk + msgSel + n + ' files/directories?\\n' + name ;\n        } else {\n            const current = DOM.getCurrentFile();\n            const isDir = DOM.isCurrentIsDir(current);\n            const getType = (isDir) => {\n                return isDir ? 'directory' : 'file';\n            };\n            \n            const type = getType(isDir) + ' ';\n            \n            const name = DOM.getCurrentName(current);\n            msg = msgAsk + msgSel + type + name + '?';\n        }\n        \n        const cancel = false;\n        \n        Dialog.confirm(TITLE, msg, {cancel}).then(() => {\n            deleteSilent(files);\n        });\n    }\n    \n    /**\n     * delete current or selected files\n     *\n     * @files\n     */\n    function deleteSilent(files = DOM.getActiveFiles()) {\n        const query = '?files';\n        const path = Info.dirPath;\n        \n        if (noFilesCheck())\n            return;\n        \n        showLoad();\n        \n        const names = DOM.getFilenames(files);\n        \n        deleteFn(path + query, names, (error) => {\n            const Storage = DOM.Storage;\n            const dirPath = Info.dirPath;\n            \n            if (error)\n                return CloudCmd.refresh();\n             \n            DOM.deleteSelected(files);\n            Storage.removeMatch(dirPath);\n        });\n    }\n    \n    /*\n     * process files (copy or move)\n     * @param data\n     * @param operation\n     */\n    function _processFiles(options, data) {\n        let selFiles, files;\n        let panel;\n        let shouldAsk;\n        let sameName;\n        let ok;\n        \n        let from = '';\n        let to = '';\n        \n        let names = [];\n        \n        if (data) {\n            from        = data.from;\n            to          = data.to;\n            names       = data.names;\n            panel       = Info.panel;\n        } else {\n            from        = Info.dirPath;\n            to          = DOM.getNotCurrentDirPath();\n            selFiles    = DOM.getSelectedFiles();\n            names       = DOM.getFilenames(selFiles);\n            data        = {};\n            shouldAsk   = true;\n            panel       = Info.panelPassive;\n        }\n        \n        if (!names.length)\n            names.push(DOM.getCurrentName());\n        \n        const name = names[0];\n        \n        sameName = DOM.getCurrentByName(name, panel);\n        \n        if (!data && noFilesCheck())\n            return;\n        \n        const {type} = options;\n        \n        const isCopy = type === 'copy';\n        const option = isCopy ? 'confirmCopy' : 'confirmMove';\n        const title = isCopy ? 'Copy' : 'Rename/Move';\n        const operation = isCopy ? copyFn : moveFn;\n        \n        if (shouldAsk && config(option))\n            return message(title, to, names)\n                .then(ask);\n        \n        ask(to);\n        \n        function ask(to) {\n            ok = from !== to && to;\n            \n            if (ok && !shouldAsk || !sameName)\n                return go();\n            \n            const str = `\"${ name }\" already exist. Overwrite?`;\n            const cancel = false;\n            \n            Dialog.confirm(TITLE, str, {cancel}).then(go);\n            \n            function go() {\n                showLoad();\n                 \n                files   = {\n                    from    : from,\n                    to      : to,\n                    names   : names\n                };\n                \n                operation(files, (error) => {\n                    !error && DOM.Storage.remove(from, () => {\n                        const {\n                            panel,\n                            panelPassive,\n                        } = Info;\n                        \n                        const setCurrent = () => {\n                            const currentName = name || data.names[0];\n                            DOM.setCurrentByName(currentName);\n                        };\n                        \n                        if (!Info.isOnePanel)\n                            CloudCmd.refresh({\n                                panel: panelPassive,\n                                noCurrent: true,\n                            });\n                        \n                        CloudCmd.refresh({panel}, setCurrent);\n                    });\n                });\n            }\n        }\n    }\n    \n    function checkEmpty(name, operation) {\n        if (!operation)\n            throw Error(name + ' could not be empty!');\n    }\n    \n    function twopack(operation, type) {\n        let op;\n        let fileFrom;\n        let currentName = Info.name;\n        \n        const Images = DOM.Images;\n        const path = Info.path;\n        const dirPath = Info.dirPath;\n        const activeFiles = DOM.getActiveFiles();\n        const names = DOM.getFilenames(activeFiles);\n        \n        checkEmpty('operation', operation);\n        \n        if (!names.length)\n            return Dialog.alert.noFiles(TITLE);\n        \n        switch(operation) {\n        case 'extract':\n            op = extractFn;\n            \n            fileFrom   = {\n                from: path,\n                to: dirPath\n            };\n            \n            currentName = removeExtension(currentName);\n            \n            break;\n        \n        case 'pack':\n            op = getPacker(type);\n            \n            if (names.length > 1)\n                currentName  = Info.dir;\n            \n            currentName += DOM.getPackerExt(type);\n            \n            fileFrom = {\n                from: dirPath,\n                to: dirPath + currentName,\n                names,\n            };\n            break;\n        }\n        \n        Images.show.load('top');\n        \n        op(fileFrom, (error) => {\n            !error && CloudCmd.refresh({\n                currentName\n            });\n        });\n    }\n    \n    function message(msg, to, names) {\n        const n = names.length;\n        const name = names[0];\n        \n        msg += ' ';\n        \n        if (names.length > 1)\n            msg     += n + ' file(s)';\n        else\n            msg     += '\"' + name + '\"';\n        \n        msg += ' to';\n        \n        const cancel = false;\n        \n        return Dialog.prompt(TITLE, msg, to, {cancel});\n    }\n    \n    function load(callback) {\n        const prefix = CloudCmd.PREFIX;\n        const file = `${prefix}/fileop/fileop.js`;\n        \n        DOM.load.js(file, (error) => {\n            if (error) {\n                Dialog.alert(TITLE, error.message);\n                return exec(callback);\n            }\n            \n            Loaded = true;\n            Util.timeEnd(Name + ' load');\n            exec(callback);\n        });\n        \n        Util.time(Name + ' load');\n    }\n    \n    init();\n}\n\n"],"sourceRoot":""}
##############################################
/src/dist/modules/menu.js.map:1:{"version":3,"sources":["file://cloudcmd/webpack/bootstrap","file://cloudcmd/client/modules/menu.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","12","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","CloudCmd","Menu","Position","config","Buffer","DOM","Info","CurrentInfo","Loading","Key","Events","Dialog","Images","this","alert","currify","alertNoFiles","wrap","noFiles","uploadTo","nameModule","getData","error","execFrom","execFromModule","log","MenuShowedName","MenuContext","MenuContextFile","getMenuNameByEl","el","getCurrentName","show","position","callback","is","menuBottom","menuTop","menu","_getPosition","x","y","getCurrentPosition","getPosition","isAuth","menuDataFile","fm","getFM","menuData","getMenuData","options","getOptions","optionsFile","MenuIO","getCurrentByPosition","menuName","View","Edit","Rename","setTimeout","renameCurrent","Delete","Operation","Pack","Extract","Download","preDownload","Upload To Cloud","Cut","isCurrent","cut","Copy","copy","_extends","notFile","func","unsetBind","icon","beforeClose","setBind","beforeShow","exec","with","beforeClick","Paste","paste","New","File","promptNewFile","Directory","promptNewDir","Upload","Upload From Cloud","uploadFromCloud","(Un)Select All","toggleAllSelectedFiles","logOut","yesFn","noFn","params","notShow","panel","document","elementFromPoint","elements","querySelectorAll","indexOf","isPath","load","currentName","path","getCurrentDirPath","RESTful","write","refresh","type","prefixUr","PREFIX_URL","date","Date","now","files","getActiveFiles","forEach","file","selected","isSelected","isDir","isCurrentIsDir","getCurrentPath","encodedPath","encodeURI","replace","id","getIdBySrc","src","getPackerExt","FS","element","async","className","_document","body","removeChild","toggleSelectedFile","download","current","rect","getBoundingClientRect","Math","round","left","width","top","listener","event","F9","ESC","key","keyCode","isBind","hide","preventDefault","ENABLED","showFunc","if","loadMenu","addKey"],"mappings":"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","file":"./modules/menu.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t12: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([40,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global CloudCmd, DOM */\n\n'use strict';\n\nCloudCmd.Menu = MenuProto;\n\nconst exec = require('execon');\nconst currify = require('currify/legacy');\nconst wrap = require('wraptile/legacy');\n\nconst {FS} = require('../../common/cloudfunc');\n\nconst load = require('../dom/load');\nconst RESTful = require('../dom/rest');\n\nfunction MenuProto(Position) {\n    const config = CloudCmd.config;\n    const Buffer = DOM.Buffer;\n    const Info = DOM.CurrentInfo;\n    \n    let Loading = true;\n    const Key = CloudCmd.Key;\n    const Events = DOM.Events;\n    const Dialog = DOM.Dialog;\n    const Images = DOM.Images;\n    const Menu = this;\n    const TITLE = 'Cloud Commander';\n    const alert = currify(Dialog.alert, TITLE);\n    const alertNoFiles = wrap(Dialog.alert.noFiles)(TITLE);\n    const uploadTo = wrap(_uploadTo);\n    \n    let MenuShowedName;\n    let MenuContext;\n    let MenuContextFile;\n    \n    this.ENABLED = false;\n    \n    function init() {\n        Loading  = true;\n        Menu.show();\n        \n        Events.addKey(listener);\n    }\n    \n    this.hide = () => {\n        MenuContext.hide();\n        MenuContextFile.hide();\n    };\n    \n    this.show = (position) => {\n        const showFunc = () => {\n            show(position);\n            Images.hide();\n        };\n        \n        exec.if(window.MenuIO, showFunc, () => {\n            DOM.loadMenu((error) => {\n                if (error)\n                    return alert(error);\n                \n                showFunc();\n            });\n        });\n    };\n    \n    function getPosition(position) {\n        if (position)\n            return {\n                x: position.x,\n                y: position.y,\n            };\n        \n        if (Position)\n            return {\n                x: Position.x,\n                y: Position.y,\n            };\n        if (position)\n            return {\n                x: position.x,\n                y: position.y,\n            };\n       \n        return getCurrentPosition();\n    }\n    \n    function getMenuNameByEl(el) {\n        if (!el)\n            return 'context';\n        \n        const name = DOM.getCurrentName(el);\n        \n        if (name === '..')\n            return 'context';\n        \n        return 'contextFile';\n    }\n    \n    function getMenuByName(name) {\n        if (name === 'context')\n            return MenuContext;\n        \n        return MenuContextFile;\n    }\n    \n    function show(position) {\n        const {x, y} = getPosition(position);\n        \n        if (!Loading) {\n            MenuContext.show(x, y);\n            MenuContextFile.show(x, y);\n            return;\n        }\n        \n        loadFileMenuData((isAuth, menuDataFile) => {\n            const NOT_FILE = true;\n            const fm = DOM.getFM();\n            const menuData = getMenuData(isAuth);\n            const options = getOptions(NOT_FILE);\n            const optionsFile = getOptions();\n            const MenuIO = window.MenuIO;\n            \n            MenuContext = new MenuIO(fm, options, menuData);\n            MenuContextFile = new MenuIO(fm, optionsFile, menuDataFile);\n            \n            const el = DOM.getCurrentByPosition({x, y});\n            const menuName = getMenuNameByEl(el);\n            const menu = getMenuByName(menuName);\n            \n            menu.show(x, y);\n            \n            Loading = false;\n            Position = null;\n        });\n    }\n    \n    function getOptions(notFile) {\n        let name, func;\n        \n        if (notFile) {\n            name    = 'context';\n            func    = Key.unsetBind;\n        } else {\n            name    = 'contextFile';\n        }\n        \n        const options = {\n            icon        : true,\n            beforeClose : Key.setBind,\n            beforeShow  : exec.with(beforeShow, func),\n            beforeClick,\n            name,\n        };\n        \n        return options;\n    }\n    \n    function getMenuData(isAuth) {\n        const menu = {\n            'Paste': Buffer.paste,\n            'New': {\n                'File': DOM.promptNewFile,\n                'Directory': DOM.promptNewDir\n            },\n            'Upload': () => {\n                CloudCmd.Upload.show();\n            },\n            'Upload From Cloud': uploadFromCloud,\n            '(Un)Select All': DOM.toggleAllSelectedFiles\n        };\n        \n        if (isAuth)\n            menu['Log Out'] = CloudCmd.logOut;\n        \n        return menu;\n    }\n    \n    function loadFileMenuData(callback) {\n        const is = CloudCmd.config('auth');\n        const show = wrap((name) => {\n            CloudCmd[name].show();\n        });\n        \n        const menuBottom = getMenuData(is);\n        \n        const menuTop = {\n            'View': show('View'),\n            'Edit': show('EditFile'),\n            'Rename': () => {\n                setTimeout(DOM.renameCurrent, 100);\n            },\n            'Delete': () => {\n                CloudCmd.Operation.show('delete');\n            },\n            'Pack': () => {\n                CloudCmd.Operation.show('pack');\n            },\n            'Extract': () => {\n                CloudCmd.Operation.show('extract');\n            },\n            'Download': preDownload,\n            'Upload To Cloud': uploadTo('Cloud'),\n            'Cut': () => {\n                isCurrent(Buffer.cut, alertNoFiles);\n            },\n            'Copy': () => {\n                isCurrent(Buffer.copy, alertNoFiles);\n            },\n        };\n        \n        const menu = Object.assign({}, menuTop, menuBottom);\n        \n        callback(is, menu);\n    }\n    \n    function isCurrent(yesFn, noFn) {\n        if (Info.name !== '..')\n            return yesFn();\n        \n        noFn();\n    }\n    \n    function isPath(x, y) {\n        const {panel} = Info;\n        const isEmptyRoot = !panel;\n        \n        if (isEmptyRoot)\n            return false;\n        \n        const el = document.elementFromPoint(x, y);\n        const elements = panel.querySelectorAll('[data-name=\"js-path\"] *');\n        const is = ~[].indexOf.call(elements, el);\n        \n        return is;\n    }\n    \n    function beforeShow(callback, params) {\n        const name = params.name;\n        let el = DOM.getCurrentByPosition({\n            x: params.x,\n            y: params.y\n        });\n        \n        const menuName = getMenuNameByEl(el);\n        let notShow = menuName === 'contextFile';\n        \n        if (params.name === 'contextFile') {\n            notShow = !notShow;\n        }\n        \n        if (!notShow)\n            MenuShowedName = name;\n        \n        exec(callback);\n        \n        if (!notShow)\n            notShow = isPath(params.x, params.y);\n        \n        return notShow;\n    }\n    \n    function beforeClick(name) {\n        return MenuShowedName !== name;\n    }\n    \n    function _uploadTo(nameModule) {\n        Info.getData((error, data) => {\n            if (error)\n                return;\n            \n            const name = Info.name;\n            const execFrom = CloudCmd.execFromModule;\n             \n            execFrom(nameModule, 'uploadFile', name, data);\n        });\n        \n        CloudCmd.log('Uploading to ' + name + '...');\n    }\n    \n    function uploadFromCloud() {\n        Images.show.load('top');\n        \n        CloudCmd.execFromModule('Cloud', 'saveFile', (currentName, data) => {\n            const path = DOM.getCurrentDirPath() + currentName;\n            \n            RESTful.write(path,  data, (error) => {\n                if (error)\n                    return;\n                 \n                CloudCmd.refresh({currentName});\n            });\n        });\n    }\n    \n    function preDownload() {\n        download(config('packer'));\n    }\n    \n    function download(type) {\n        const TIME = 30 * 1000;\n        const prefixUr = CloudCmd.PREFIX_URL;\n        const PACK = '/pack';\n        const date = Date.now();\n        const files = DOM.getActiveFiles();\n        \n        if (!files.length)\n            return alertNoFiles();\n            \n        files.forEach((file) => {\n            const selected = DOM.isSelected(file);\n            const isDir = DOM.isCurrentIsDir(file);\n            const path = DOM.getCurrentPath(file);\n            \n            CloudCmd.log('downloading file ' + path + '...');\n            /*\n              * if we send ajax request -\n              * no need in hash so we escape #\n              * and all other characters, like \"%\"\n              */\n            const encodedPath = encodeURI(path).replace(/#/g, '%23');\n            const id = load.getIdBySrc(path);\n            \n            let src;\n            \n            if (isDir)\n                src = prefixUr + PACK + encodedPath + DOM.getPackerExt(type);\n            else\n                src = prefixUr + FS + encodedPath + '?download';\n            \n            const element = load({\n                id          : id + '-' + date,\n                name        : 'iframe',\n                async       : false,\n                className   : 'hidden',\n                src,\n            });\n            \n            const {body} = document;\n            const removeChild = body.removeChild.bind(body, element);\n            \n            setTimeout(removeChild, TIME);\n            \n            if (selected)\n                DOM.toggleSelectedFile(file);\n        });\n    }\n    \n    function getCurrentPosition() {\n        const current = Info.element;\n        const rect = current.getBoundingClientRect();\n        \n        const position = {\n            x: Math.round(rect.left + rect.width / 3),\n            y: Math.round(rect.top)\n        };\n        \n        return position;\n    }\n    \n    function listener(event) {\n        const F9 = Key.F9;\n        const ESC = Key.ESC;\n        const key = event.keyCode;\n        const isBind = Key.isBind();\n        \n        if (!isBind)\n            return;\n        \n        if (key === ESC)\n            return Menu.hide();\n        \n        if (key === F9) {\n            const position = getCurrentPosition();\n            MenuContext.show(position.x, position.y);\n            \n            event.preventDefault();\n        }\n    }\n    \n    init();\n}\n"],"sourceRoot":""}

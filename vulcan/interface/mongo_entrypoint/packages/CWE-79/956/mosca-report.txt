<report_mosca>
 <Path>/src/dist/js/promise-polyfill.min.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 0 -  !function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(){}function t(e){if(!(this instanceof t))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],u(e,this)}function o(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,t._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(f){return void i(n.promise,f)}r(n.promise,o)}else(1===e._state?r:i)(n.promise,e._value)})):e._deferreds.push(n)}function r(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var o=n.then;if(n instanceof t)return e._state=3,e._value=n,void f(e);if("function"==typeof o)return void u(function(e,n){return function(){e.apply(n,arguments)}}(o,n),e)}e._state=1,e._value=n,f(e)}catch(r){i(e,r)}}function i(e,n){e._state=2,e._value=n,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&t._immediateFn(function(){e._handled||t._unhandledRejectionFn(e._value)});for(var n=0,r=e._deferreds.length;r>n;n++)o(e,e._deferreds[n]);e._deferreds=null}function u(e,n){var t=!1;try{e(function(e){t||(t=!0,r(n,e))},function(e){t||(t=!0,i(n,e))})}catch(o){if(t)return;t=!0,i(n,o)}}var c=setTimeout;t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(e,t,r)),r},t.prototype["finally"]=e,t.all=function(e){return new t(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.cal</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/d3.v4.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 1809 -      setTimeout(function() { selection.on("click.drag", null); }, 0);

 Line: 1945 -      touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!

 Line: 3031 -  var setFrame = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };

 Line: 3124 -      if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);

 Line: 3127 -      if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);

 Line: 4580 -          touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!

 Line: 16599 -      g.wheel = setTimeout(wheelidled, wheelDelay);

 Line: 16679 -        touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);

 Line: 16719 -      touchending = setTimeout(function() { touchending = null; }, touchDelay);

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/d3.v4.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible SQL injection</Title>
 <Description> notification possible SQL injection</Description>
 <Level> High</Level>
 <Reference> https://www.owasp.org/index.php/Testing_for_Stack_Overflow </Reference>
 <Match> query|YQL|WHERE|FROM|SELECT|UPDATE|DELETE|INSERT|UNION|getResults</Match>
 <Result> Line: 962 -    querySelector: function(selector) { return this._parent.querySelector(selector); },

 Line: 963 -    querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/sohoxi.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Logic fail</Title>
 <Description>Possible logic bug that could lead to security bugs. Assigning a static string to a variable in an if condition is not normal and is likely a mistake.</Description>
 <Level> Low</Level>
 <Reference> https://en.wikipedia.org/wiki/Logic_error</Reference>
 <Match> if\s?\(\s?\$.*\s?(?<!\!)=\s?('|").*('|")\s?\)</Match>
 <Result> Line: 11679 -            if ($li.hasClass('is-disabled') || a.getAttribute('disabled') === 'true' || a.getAttribute('disabled') === 'disabled') {

 Line: 14076 -        if ($(e.target).is('[class^="btn"]')) {

 Line: 42961 -        if ($('[data-editor="true"]').length === 1) {

 Line: 68347 -          if ($.trim(html) === '') {

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/sohoxi.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 835 -        timeout = setTimeout(delayed, threshold || 250);

 Line: 1413 -        setTimeout(scrollFrame, 0);

 Line: 1417 -      setTimeout(scrollFrame, 0);

 Line: 1433 -     * Uses 'requestAnimationFrame' or 'setTimeout' to defer a function.

 Line: 1436 -     * @returns {function} either `requestAnimationFrame` or `setTimeout`

 Line: 1439 -      var deferMethod = typeof window.requestAnimationFrame !== 'undefined' ? window.requestAnimationFrame : setTimeout;

 Line: 1814 -        interval = setInterval(function () {

 Line: 2107 -      setTimeout(function () {

 Line: 2291 -     * cases, will be deferred with `requestAnimationFrame` or `setTimeout`.

 Line: 2373 -     * Convert `setTimeout/Interval` delay values (CPU ticks) into frames-per-second

 Line: 2387 -     * Convert `setTimeout/Interval` delay values (CPU ticks) into frames-per-second

 Line: 4189 -      setTimeout(function () {

 Line: 9177 -          setTimeout(function () {

 Line: 11966 -        setTimeout(function () {

 Line: 12666 -            setTimeout(function () {

 Line: 12736 -        setTimeout(function () {

 Line: 12817 -          timeout = setTimeout(function () {

 Line: 12848 -          setTimeout(function () {

 Line: 13726 -        timeout = setTimeout(transitionEndCallback, settings.timing);

 Line: 13800 -        timeout = setTimeout(transitionEndCallback, settings.timing);

 Line: 14507 -        setTimeout(function () {

 Line: 14778 -          setTimeout(function () {

 Line: 15390 -            tooltipTimer = setTimeout(function () {

 Line: 15534 -    // Store setTimeout reference so promise-polyfill will be unaffected by

 Line: 15535 -    // other code modifying setTimeout (like sinon.useFakeTimers())

 Line: 15536 -    var setTimeoutFunc = setTimeout;

 Line: 15762 -        setTimeoutFunc(fn, 0);

 Line: 16562 -        setTimeout(function () {

 Line: 16612 -        this.loadingTimeout = setTimeout(function () {

 Line: 19506 -          this.timeout = setTimeout(isOpen, 300);

 Line: 19513 -        setTimeout(function () {

 Line: 19578 -        this.timeout = setTimeout(close, 300);

 Line: 19804 -        setTimeout(function () {

 Line: 19915 -          setTimeout(function () {

 Line: 20136 -          setTimeout(function () {

 Line: 20391 -        setTimeout(function () {

 Line: 20416 -          setTimeout(function () {

 Line: 20453 -        self.closeTimeout = setTimeout(function () {

 Line: 20540 -        setInterval(animate, 10);

 Line: 21739 -              tooltipInterval = setInterval(function () {

 Line: 22070 -            setTimeout(function () {

 Line: 22472 -              tooltipIntervalMedianRange = setInterval(function () {

 Line: 22534 -            tooltipIntervalDots = setInterval(function () {

 Line: 23207 -              tooltipInterval = setInterval(function () {

 Line: 24160 -            tooltipInterval = setInterval(function () {

 Line: 25030 -            tooltipInterval = setInterval(function () {

 Line: 25835 -          tooltipInterval = setTimeout(function () {

 Line: 26555 -          tooltipInterval = setTimeout(function () {

 Line: 29089 -          setTimeout(function () {

 Line: 29784 -          setTimeout(function () {

 Line: 29866 -          setTimeout(function () {

 Line: 29893 -          setTimeout(function () {

 Line: 30477 -        setTimeout(function () {

 Line: 31196 -        setTimeout(function () {

 Line: 32204 -          timer = setTimeout(function () {

 Line: 32213 -          timer = setTimeout(function () {

 Line: 32263 -          timer = setTimeout(function () {

 Line: 32607 -        setTimeout(function () {

 Line: 32824 -          setTimeout(function () {

 Line: 33242 -        this.inputTimeout = setTimeout(function () {

 Line: 34369 -        this.timer = setTimeout(function () {

 Line: 34620 -          setTimeout(function () {

 Line: 34667 -        // There would be several things to check with a setTimeout, so this is done with a CSS

 Line: 34669 -        setTimeout(function () {

 Line: 35864 -          setTimeout(function () {

 Line: 36140 -          setTimeout(function () {

 Line: 37822 -            setTimeout(function () {

 Line: 37862 -              setTimeout(function () {

 Line: 38711 -        setTimeout(function () {

 Line: 39314 -            setTimeout(function () {

 Line: 39569 -          setTimeout(function () {

 Line: 39791 -        setTimeout(function () {

 Line: 41453 -          setTimeout(function () {

 Line: 41657 -            setTimeout(function () {

 Line: 41680 -          selectionTimer = setTimeout(function () {

 Line: 42025 -                  setTimeout(function () {

 Line: 42219 -          setTimeout(function () {

 Line: 42705 -            setTimeout(function () {

 Line: 42715 -          setTimeout(function () {

 Line: 43036 -        window.setTimeout(function () {

 Line: 43958 -          setTimeout(function () {

 Line: 44127 -        setTimeout(function () {

 Line: 44827 -        setTimeout(function () {

 Line: 44963 -          setTimeout(function () {

 Line: 45009 -          setTimeout(function () {

 Line: 45019 -              setTimeout(function () {

 Line: 45042 -            setTimeout(function () {

 Line: 45064 -          setTimeout(function () {

 Line: 45100 -                    setTimeout(function () {

 Line: 45366 -        setTimeout(function () {

 Line: 49604 -        setTimeout(function () {

 Line: 49973 -            setTimeout(function () {

 Line: 50127 -        setTimeout(function () {

 Line: 50172 -        setTimeout(function () {

 Line: 50496 -          setTimeout(function () {

 Line: 50507 -          setTimeout(function () {

 Line: 50996 -        setTimeout(function () {

 Line: 51087 -        setTimeout(function () {

 Line: 51094 -        setTimeout(function () {

 Line: 51105 -        setTimeout(function () {

 Line: 51261 -        setTimeout(function () {

 Line: 51451 -            setTimeout(function () {

 Line: 52096 -        setTimeout(function () {

 Line: 52147 -        setTimeout(function () {

 Line: 52675 -          setTimeout(function () {

 Line: 53519 -          this.handles[0].data('animationTimeout', setTimeout(function () {

 Line: 53528 -            this.handles[1].data('animationTimeout', setTimeout(function () {

 Line: 53599 -        // NOTE: This is a bit hacky because it depends on the setTimeout() method for

 Line: 54017 -          self.noZoomTimeout = setTimeout(function () {

 Line: 54357 -        self.longPressInterval = setInterval(function () {

 Line: 54993 -        setTimeout(function () {

 Line: 55417 -        setTimeout(function () {

 Line: 57266 -            setTimeout(function () {

 Line: 57843 -          // setTimeout is used to bypass triggering of the keyboard when

 Line: 57845 -          setTimeout(function () {

 Line: 59376 -          setTimeout(function () {

 Line: 60402 -        this.animationTimeout = setTimeout(function () {

 Line: 65175 -        setTimeout(function () {

 Line: 65302 -        setTimeout(function () {

 Line: 66970 -        interval = setInterval(isReady, 10);

 Line: 67817 -        setTimeout(function () {

 Line: 68535 -          setTimeout(function () {

 Line: 68573 -          setTimeout(function () {

 Line: 68640 -          setTimeout(function () {

 Line: 68650 -          setTimeout(function () {

 Line: 68704 -          setTimeout(function () {

 Line: 68888 -              setTimeout(function () {

 Line: 68936 -            setTimeout(function () {

 Line: 68947 -          setTimeout(function () {

 Line: 69017 -              setTimeout(function () {

 Line: 69126 -            setTimeout(function () {

 Line: 69140 -          setTimeout(function () {

 Line: 69211 -            setTimeout(function () {

 Line: 69221 -          setTimeout(function () {

 Line: 69266 -          setTimeout(function () {

 Line: 69313 -          setTimeout(function () {

 Line: 69364 -          setTimeout(function () {

 Line: 70398 -        setTimeout(function () {

 Line: 71445 -            typingTimer = setTimeout(function () {

 Line: 73048 -        setTimeout(function () {

 Line: 74137 -          tooltipTimer = setTimeout(function () {

 Line: 74154 -          setTimeout(function () {

 Line: 75466 -            setTimeout(function () {

 Line: 75613 -            setTimeout(function () {

 Line: 78972 -            setTimeout(function () {

 Line: 80910 -          timeout = setTimeout(destroyBreadcrumb, 300);

 Line: 80951 -          timeout = setTimeout(destroyTabs, 300);

 Line: 80987 -          timeout = setTimeout(destroyWizard, 300);

 Line: 81374 -          setTimeout(function () {

 Line: 81491 -        setTimeout(function () {

 Line: 83538 -        setTimeout(function () {

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/sohoxi.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible SQL injection</Title>
 <Description> notification possible SQL injection</Description>
 <Level> High</Level>
 <Reference> https://www.owasp.org/index.php/Testing_for_Stack_Overflow </Reference>
 <Match> query|YQL|WHERE|FROM|SELECT|UPDATE|DELETE|INSERT|UNION|getResults</Match>
 <Result> Line: 6594 -          // trim query string off the end if it exists

 Line: 6596 -          var queryParamIndex = thisTheme.lastIndexOf('?');

 Line: 6598 -            thisTheme = thisTheme.slice(0, queryParamIndex);

 Line: 14066 -       * @param {jQuery[]} header The header query object

 Line: 15436 -    var EXCLUDED_FROM_CLOSE_CHILDREN = ['.expandable-area', '.accordion', ['soho-busyindicator'], '.busyindicator'];

 Line: 15437 -    var EXCLUDED_FROM_HANDLE_RESIZE = [];

 Line: 15508 -      return siftFor($(this), 'close', EXCLUDED_FROM_CLOSE_CHILDREN);

 Line: 15512 -      return siftFor($(this), 'handleResize', EXCLUDED_FROM_HANDLE_RESIZE);

 Line: 42645 -          // IE-11 queryCommandValue returns the as decimal

 Line: 46534 -    var FOCUSABLE_SELECTOR = ['.pager-first > a', '.pager-prev > a', '.pager-next > a', '.pager-last > a', '.pager-no > a', '.pager-count input', '.pager-pagesize button'].join(', ');

 Line: 46701 -        return utils.getArrayFromList(this.pagerBar[0].querySelectorAll(FOCUSABLE_SELECTOR));

 Line: 47280 -        var AVG_PAGESIZESELECTOR_WIDTH = 190;

 Line: 47283 -        var pageSizeButtonSize = this.settings.showPageSizeSelector ? AVG_PAGESIZESELECTOR_WIDTH : 0;

 Line: 51545 -    var MULTISELECT_DEFAULTS = {

 Line: 51571 -      this.settings = utils.mergeSettings(element, settings, MULTISELECT_DEFAULTS);

 Line: 58736 -       * @param {object} anchor in addition to the ref the anchor object may be passed to avoid extra querying.

 Line: 64130 -        // NOTE: Important that the toolbar items are picked up by the querySelector

 Line: 80309 -        var query = '.title > button';

 Line: 80311 -          query = '.toolbar-section:first-child > button';

 Line: 82490 -          var queryForElem = document.querySelector(this.settings[elementType]);

 Line: 82492 -            this.settings[elementType] = queryForElem;

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/promise-polyfill.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 25 -  // Store setTimeout reference so promise-polyfill will be unaffected by

 Line: 26 -  // other code modifying setTimeout (like sinon.useFakeTimers())

 Line: 27 -  var setTimeoutFunc = setTimeout;

 Line: 253 -      setTimeoutFunc(fn, 0);

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/jquery-3.4.0.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 3662 -  								window.setTimeout( process );

 Line: 3848 -  	window.setTimeout( function() {

 Line: 3921 -  	window.setTimeout( jQuery.ready );

 Line: 7031 -  			window.setTimeout( schedule, jQuery.fx.interval );

 Line: 7040 -  	window.setTimeout( function() {

 Line: 7703 -  		var timeout = window.setTimeout( next, time );

 Line: 9426 -  				timeoutTimer = window.setTimeout( function() {

 Line: 9821 -  							window.setTimeout( function() {

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/jquery-3.4.0.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible SQL injection</Title>
 <Description> notification possible SQL injection</Description>
 <Level> High</Level>
 <Reference> https://www.owasp.org/index.php/Testing_for_Stack_Overflow </Reference>
 <Match> query|YQL|WHERE|FROM|SELECT|UPDATE|DELETE|INSERT|UNION|getResults</Match>
 <Result> Line: 805 -  			// Take advantage of querySelectorAll

 Line: 6663 -  		// want to query the value if it is a CSS custom property

 Line: 8676 -  // key/values into a query string

</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/d3.v4.min.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 5 -  ar r=af.hasOwnProperty(t.type)?tt:nt;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function it(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function ot(t,n,e){var r=F(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ut(t,n){this._groups=t,this._parents=n}function at(){return new ut([[document.documentElement]],cf)}function ct(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],cf)}function st(){return new ft}function ft(){this._="@"+(++sf).toString(36)}function lt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function ht(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function pt(t){var n=lt();return n.changedTouches&&(n=n.changedTouches[0]),ht(t,n)}function dt(t,n,e){arguments.length<3&&(e=n,n=lt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ht(t,r);return null}function vt(){t.event.stopImmediatePropagation()}function gt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function _t(t){var n=t.document.documentElement,e=ct(t).on("dragstart.drag",gt,!0);"onselectstart"in n?e.on("selectstart.drag",gt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function yt(t,n){var e=t.document.documentElement,r=ct(t).on("dragstart.drag",null);n&&(r.on("click.drag",gt,!0),setTimeout(function(){r.on("click.drag",null Line: 10 -  ,u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function yn(t){return function n(e){function r(n,r){var i=t((n=$t(n)).h,(r=$t(r)).h),o=en(n.s,r.s),u=en(n.l,r.l),a=en(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function mn(){return pl||(gl(xn),pl=vl.now()+dl)}function xn(){pl=0}function bn(){this._call=this._time=this._next=null}function wn(t,n,e){var r=new bn;return r.restart(t,n,e),r}function Mn(){mn(),++cl;for(var t,n=Yf;n;)(t=pl-n._time)>=0&&n._call.call(null,t),n=n._next;--cl}function Tn(){pl=(hl=vl.now())+dl,cl=sl=0;try{Mn()}finally{cl=0,function(){var t,n,e=Yf,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yf=n);Bf=t,kn(r)}(),pl=0}}function Nn(){var t=vl.now(),n=t-hl;n>ll&&(dl-=n,hl=t)}function kn(t){if(!cl){sl&&(sl=clearTimeout(sl));t-pl>24?(t<1/0&&(sl=setTimeout(Tn,t-vl.now()-dl)),fl&&(fl=clearInterval(fl))):(fl||(hl=vl.now(),fl=setInterval(Nn,ll)),cl=1,gl(Tn))}}function Sn(t,n,e){var r=new bn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function En(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};(function(t,n,e){function r(c){var s,f,l,h;if(e.state!==xl)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===wl)return Sn(r);h.state===Ml?(h.state=Nl,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=Nl,h.timer.stop(),delete a[s])}if(Sn(function(){e.state===wl&&(e.state=Ml,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=bl,e.on.call("start",t,t.__data__,e.index,e.group),e.state===bl){for(e.state=wl,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Tl,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===Tl&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=Nl,e.timer.stop(),del Line: 13 -  d=p+_),k&&(y=Math.max(z-l,Math.min(R-v,y)),h=l+y,g=v+y);break;case nh:N<0?(_=Math.max(C-a,Math.min(P-a,_)),s=a+_,d=p):N>0&&(_=Math.max(C-p,Math.min(P-p,_)),s=a,d=p+_),k<0?(y=Math.max(z-l,Math.min(R-l,y)),h=l+y,g=v):k>0&&(y=Math.max(z-v,Math.min(R-v,y)),h=l,g=v+y);break;case eh:N&&(s=Math.max(C,Math.min(P,a-_*N)),d=Math.max(C,Math.min(P,p+_*N))),k&&(h=Math.max(z,Math.min(R,l-y*k)),g=Math.max(z,Math.min(R,v+y*k)))}d<s&&(N*=-1,t=a,a=p,p=t,t=s,s=d,d=t,M in ah&&F.attr("cursor",uh[M=ah[M]])),g<h&&(k*=-1,t=l,l=v,v=t,t=h,h=g,g=t,M in ch&&F.attr("cursor",uh[M=ch[M]])),S.selection&&(A=S.selection),x&&(s=A[0][0],d=A[1][0]),b&&(h=A[0][1],g=A[1][1]),A[0][0]===s&&A[0][1]===h&&A[1][0]===d&&A[1][1]===g||(S.selection=[[s,h],[d,g]],r.call(w),U.brush())}function u(){if(Vn(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(t.event.view,m),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),F.attr("cursor",uh.overlay),S.selection&&(A=S.selection),Jn(A)&&(S.selection=null,r.call(w)),U.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return $n()}else if(c)return;if(f.apply(this,arguments)){var a,s,l,h,p,d,v,g,_,y,m,x,b,w=this,M=t.event.target.__data__.type,T="selection"===(t.event.metaKey?M="overlay":M)?Kl:t.event.altKey?eh:nh,N=n===ih?null:sh[M],k=n===rh?null:fh[M],S=Qn(w),E=S.extent,A=S.selection,C=E[0][0],z=E[0][1],P=E[1][0],R=E[1][1],L=N&&k&&t.event.shiftKey,q=pt(w),D=q,U=i(w,arguments).beforestart();"overlay"===M?S.selection=A=[[a=n===ih?C:q[0],l=n===rh?z:q[1]],[p=n===ih?P:a,v=n===rh?R:l]]:(a=A[0][0],l=A[0][1],p=A[1][0],v=A[1][1]),s=a,h=l,d=p,g=v;var O=ct(w).attr("pointer-events","none"),F=O.selectAll(".overlay").attr("cursor",uh[M]);if(t.event.touches)O.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var I=ct(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:L=N&&k;break;case 18:T===nh&&(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh,o( Line: 55 -  ","g")),If.setAttribute("transform",t),(t=If.transform.baseVal.consolidate())?(t=t.matrix,hn(t.a,t.b,t.c,t.d,t.e,t.f)):Zf)},", ",")",")"),Jf=Math.SQRT2,Kf=2,tl=4,nl=1e-12,el=gn(tn),rl=gn(en),il=_n(tn),ol=_n(en),ul=yn(tn),al=yn(en),cl=0,sl=0,fl=0,ll=1e3,hl=0,pl=0,dl=0,vl="object"==typeof performance&&performance.now?performance:Date,gl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};bn.prototype=wn.prototype={constructor:bn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?mn():+e)+(null==n?0:+n),this._next||Bf===this||(Bf?Bf._next=this:Yf=this,Bf=this),this._call=t,this._time=e,kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,kn())}};var _l=N("start","end","interrupt"),yl=[],ml=0,xl=1,bl=2,wl=3,Ml=4,Tl=5,Nl=6,kl=at.prototype.constructor,Sl=0,El=at.prototype;qn.prototype=Dn.prototype={constructor:qn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=z(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,En(l[h],n,e,h,l,zn(a,e)));return new qn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=R(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=zn(c,e),v=0,g=p.length;v<g;++v)(h=p[v])&&En(h,n,e,v,p,d);o.push(p),u.push(c)}return new qn(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new qn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p Line: 85 -  on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var n=c("mouse",d.apply(this,arguments),pt,this,arguments);n&&(ct(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),_t(t.event.view),vt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if(gt(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}_.mouse("drag")}function i(){ct(t.event.view).on("mousemove.drag mouseup.drag",null),yt(t.event.view,l),gt(),_.mouse("end")}function o(){if(p.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,dt,this,arguments))&&(vt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=_[r[n].identifier])&&(gt(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=_[r[n].identifier])&&(vt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=y.copy();if(it(new xt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=v.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":_[e]=t,p=m++;break;case"end":delete _[e],--m;case"drag":f=i(r,e),p=m}it(new xt(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,p=bt,d=wt,v=Mt,g=Tt,_={},y=N("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(p="function"==typeof t?t:mt(!!t),n):p},n.container=function(t){return arguments.length?(d="function"==typeof t?t:mt(t),n):d},n.subject=function(t){return arguments.length?(v="function"==typeof t?t:mt(t),n):v},n.touchable=function(t){return arguments.length?(g="function"==typeof t?t:mt(!!t),n):g},n.on=function(){var t=y.on.apply(y,arguments);return t===y?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},t.dragDisable=_t,t.dragEnable=yt,t.dsvFormat=_e,t.csvParse=Eh,t.csvParseRow Line: 102 -  )},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:ts(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:ts(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",Rs).on("wheel.zoom",c).on("mousedown.zoom",s).on("dblclick.zoom",f).filter(x).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(b[0],Math.min(b[1],n)))===t.k?t:new Ss(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ss(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,n,e){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=u(this,t),o=_.apply(this,t),a=e||i(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=T(s.invert(a).concat(c/s.k),f.invert(a).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new Ss(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function u(t,n){for(var e,r=0,i=k.length;r<i;++r)if((e=k[r]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=_.apply(t,n)}function c(){if(g.apply(this,arguments)){var t=u(this,arguments),n=this.__zoom,i=Math.max(b[0],Math.min(b[1],n.k*Math.pow(2,m.apply(this,arguments)))),o=pt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[o,n.invert(o)],Pn(this),t.start()}Cs(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},A),t.zo Line: 103 -  (e(n,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function s(){if(!v&&g.apply(this,arguments)){var n=u(this,arguments),e=ct(t.event.view).on("mousemove.zoom",function(){if(Cs(),!n.moved){var e=t.event.clientX-o,i=t.event.clientY-a;n.moved=e*e+i*i>C}n.zoom("mouse",y(r(n.that.__zoom,n.mouse[0]=pt(n.that),n.mouse[1]),n.extent,w))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),yt(t.event.view,n.moved),Cs(),n.end()},!0),i=pt(this),o=t.event.clientX,a=t.event.clientY;_t(t.event.view),As(),n.mouse=[i,this.__zoom.invert(i)],Pn(this),n.start()}}function f(){if(g.apply(this,arguments)){var i=this.__zoom,u=pt(this),a=i.invert(u),c=i.k*(t.event.shiftKey?.5:2),s=y(r(e(i,c),u,a),_.apply(this,arguments),w);Cs(),M>0?ct(this).transition().duration(M).call(o,s,u):ct(this).call(n.transform,s)}}function l(){if(g.apply(this,arguments)){var n,e,r,i,o=u(this,arguments),a=t.event.changedTouches,c=a.length;for(As(),e=0;e<c;++e)i=[i=dt(this,a,(r=a[e]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(d&&(d=clearTimeout(d),!o.touch1))return o.end(),void((i=ct(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(d=setTimeout(function(){d=null},E),Pn(this),o.start())}}function h(){var n,i,o,a,c=u(this,arguments),s=t.event.changedTouches,f=s.length;for(Cs(),d&&(d=clearTimeout(d)),n=0;n<f;++n)o=dt(this,s,(i=s[n]).identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],p=c.touch1[0],v=c.touch1[1],g=(g=p[0]-l[0])*g+(g=p[1]-l[1])*g,_=(_=v[0]-h[0])*_+(_=v[1]-h[1])*_;i=e(i,Math.sqrt(g/_)),o=[(l[0]+p[0])/2,(l[1]+p[1])/2],a=[(h[0]+v[0])/2,(h[1]+v[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],a=c.touch0[1]}c.zoom("touch",y(r(i,o,a),c.extent,w))}function p(){var n,e,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(As(),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/sohoxi.min.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 1 -  Exp("\\b"+t+"\\b").test(e.className);var i=e.getAttribute("class");return!(!i||!i.length)&&i.indexOf(t)>-1},addClass:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];for(var a=0;a<i.length;a++)e.classList?e.classList.add(i[a]):n.hasClass(e,[a])||(e.className+=" "+i[a])},removeClass:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];for(var n=0;n<i.length;n++)if(e.classList)e.classList.remove(i[n]);else{for(var a="",r=e.className.split(" "),o=0;o<r.length;o++)r[o]!==i[o]&&(a+=r[n]+" ");this.className=a}},isElement:function(e){return!!(e instanceof HTMLElement||e instanceof SVGElement||e instanceof $&&e.length)},getDimensions:function(e){if(!n.isElement(e))return{};if(e instanceof $){if(!e.length)return{};e=e[0]}var t=e.getBoundingClientRect(),i={};for(var s in t)isNaN(t[s])||(i[s]=t[s]);return i},append:function(e,t,i){var s=e;e instanceof $&&e.length&&(s=s[0]),(s instanceof HTMLElement||s instanceof SVGElement)&&s.insertAdjacentHTML("beforeend",this.xssClean(t,i))},remove:function(e){var t=e;e instanceof $&&e.length&&(t=t[0]),(t instanceof HTMLElement||t instanceof SVGElement)&&e.parentNode&&e.parentNode.removeChild(e)},setAttribute:function(e,t,i){var s=e;e instanceof $&&e.length&&(s=s[0]),(s instanceof HTMLElement||s instanceof SVGElement)&&s.setAttribute("attribute",i)},xssClean:function(e,t){var i=e;return t&&"*"!==t&&(i=s.stripTags(e,t)),"*"===t&&(i=s.sanitizeHTML(e)),i},html:function(e,t,i){var s=e;e instanceof $&&e.length&&(s=s[0]),(s instanceof HTMLElement||s instanceof SVGElement)&&(s.innerHTML=this.xssClean(t,i))}},a={phone:320,slim:400,phablet:610,"phone-to-tablet":767,"wide-tablet":968,"tablet-to-desktop":1280,desktop:1024,"desktop-to-extralarge":1600};function r(e,t,i){var s=void 0;return function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];var o=this;s?clearTimeout(s):i&&e.apply(o,a),s=setTimeout(function(){i||e.apply(o,a),s=null},t||250)}}a.current=function(){var e=!!window.getComputedStyle&&window.getComputedStyle(document.body,":after");return e?(e.getPrope Line: 4 -  OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"UNIX",r:/UNIX/}];for(var h in c){var u=c[h];if(u.r.test(t)){d=u.s;break}}var p="-";switch(/Windows/.test(d)&&(p=/Windows (.*)/.exec(d)[1]),d){case"Mac OS X":p=/Mac OS X (10[\.\_\d]+)/.exec(t)[1].replace(/\_/g,".");break;case"Android":p=/Android ([\.\_\d]+)/.exec(t)[1];break;case"iOS":p=(p=/OS (\d+)_?(\d+)?/.exec(t))[1]+"."+p[2]+"."+(0|p[3])}this.devicespecs={currentBrowser:i,browserVersion:s,browserMajorVersion:n,isMobile:l,os:d,currentOSVersion:p}},addGlobalResize:function(){$(window).debouncedResize(function(){$("body").triggerHandler("resize",[window]),a.compare()}),$(window).on("orientationchange load",function(){return a.compare()})},addGlobalEvents:function(){var e=this,t=this;this.globalMouseActive=0,this.globalTouchActive=0,$("body").on("mousedown."+o,function(){++e.globalMouseActive}).on("mouseup."+o,function(){--e.globalMouseActive}).on("touchstart."+o,function(){++e.globalTouchActive}).on("touchend."+o,function(){--e.globalTouchActive}),$(window).on("scroll."+o,function(i){return"ios"!==t.os.name||-1===document.body.className.indexOf("no-scroll")||(!(!e.globalTouchActive&&!e.globalMouseActive)||(i.preventDefault(),document.body.scrollTop>0&&(document.body.scrollTop=0),!1))}),$("body").on("focusin."+o,"input, textarea",function(e){e.target.className.indexOf("dropdown-search")>-1||"ios"===t.os.name&&$("head").triggerHandler("disable-zoom")}).on("focusout."+o,"input, textarea",function(e){e.target.className.indexOf("dropdown-search")>-1||"ios"===t.os.name&&$("head").triggerHandler("enable-zoom")})},removeGlobalEvents:function(){$(window).off("scroll."+o),$("body").off(["focusin."+o,"focusout."+o].join(" "))}};function d(e){return this.init(e)}function c(e,t,i){var s=$.Deferred();if(!n.isElement(e))return s.reject();if(e instanceof $&&e.length&&(e=e[0]),null==t)return s.resolve();if(isNaN(i)&&(i=0),t=Math.round(t),(i=Math.round(i))<0)return s.fail();if(0===i)return e.scrollLeft+=t,s.resolve();var a=Date.now(),r=a+i,o=e.scrollLeft,l=t;var d=e.scrollLeft;return setTimeout(function t(){if(e.scrollLeft===d){ Line: 5 -  ow(),n=function(e,t,i){if(i<=e)return 0;if(i>=t)return 1;var s=(i-e)/(t-e);return s*s*(3-2*s)}(a,r,i),c=Math.round(o+l*n);e.scrollLeft=c,i>=r?s.resolve():e.scrollLeft!==d||e.scrollLeft===c?(d=e.scrollLeft,setTimeout(t,0)):s.resolve()}else s.reject()},0),s}function h(e,t){return(void 0!==window.requestAnimationFrame?window.requestAnimationFrame:setTimeout)(e,t)}l.browser.isIE11=function(){return"ie"===l.browser.name&&"11"===l.browser.version},l.browser.isIE10=function(){return"ie"===l.browser.name&&"10"===l.browser.version},l.set(),d.prototype={init:function(e){!this.element&&(e instanceof HTMLElement||e instanceof SVGElement)&&(this.element=e);var t=$(e),i=!1,s=!1,n=!1;if(t.is(".checkbox, .radio, .switch")){var a=t.next();a.is('[type="hidden"]')&&(a=a.next()),this.label=a[0],t.addClass("hide-focus").on("focusin.hide-focus",function(e){i||s||n||(t.removeClass("hide-focus"),t.triggerHandler("hidefocusremove",[e])),i=!1,s=!0,n=!1}).on("focusout.hide-focus",function(e){t.addClass("hide-focus"),n=a.is(n),i=!1,s=!1,t.triggerHandler("hidefocusadd",[e])}),a.on("mousedown.hide-focus",function(e){n=this,i=!0,t.addClass("hide-focus"),t.triggerHandler("hidefocusadd",[e])})}else{var r=function(e){i=!0,t.addClass("hide-focus"),t.triggerHandler("hidefocusadd",[e])};l.features.touch&&t.on("touchstart.hide-focus",function(e){r(e)}),t.addClass("hide-focus").on("mousedown.hide-focus",function(e){r(e)}).on("focusin.hide-focus",function(e){i||s||(t.removeClass("hide-focus"),t.triggerHandler("hidefocusremove",[e])),i=!1,s=!0}).on("focusout.hide-focus",function(e){t.addClass("hide-focus"),i=!1,s=!1,t.triggerHandler("hidefocusadd",[e])})}return this},updated:function(){return this.teardown().init()},teardown:function(){this.label&&$(this.label).off("mousedown.hide-focus");return $(this.element).off(["focusin.hide-focus","focusout.hide-focus","mousedown.hide-focus","touchstart.hide-focus"].join(" ")),this}},$.fn.hideFocus=function(){return this.each(function(){var e=$.data(this,"hidefocus");e?e.updated():(e=$.data(this,"hidefocus",new d(this))).destroy=function(){this.teardown(),$.removeData(this,"hide Line: 7 -  f HTMLElement)&&!(e instanceof $)||e instanceof $&&!e.length)return i;e instanceof $&&(e=e[0]),t=t||"data-options";var s,n,a=e.getAttribute(t);if(!a||"string"!=typeof a||-1===a.indexOf("{"))return i;function r(e){return e.replace(/'/g,'"')}try{i=JSON.parse(r(a))}catch(e){i=JSON.parse((n=/({|,)(?:\s*)(?:')?([A-Za-z_$\.][A-Za-z0-9_ \-\.$]*)(?:')?(?:\s*):/g,s=(s=a).replace(n,'$1"$2":'),n=/:(?:\s*)(?!(true|false|null|undefined))([A-Za-z_$\.#][A-Za-z0-9_ \-\.$]*)/g,s=r(s=s.replace(n,':"$2"'))))}return i},m.parseOptions=function(e,t){return m.parseSettings(e,t)},$.fn.parseOptions=function(e,t){var i=[],s=this;return e instanceof HTMLElement||e instanceof SVGElement||e instanceof $?s=$(e):(t=e,e=void 0),s.each(function(e,s){i.push({element:this,options:m.parseOptions(s,t)})}),1===i.length?i[0].options:i},m.coerceToBoolean=function(e){return!/^(false|0)$/i.test(e)&&!!e},m.coerceSettingsToBoolean=function(e,t){t&&Array.isArray(t)||Object.keys(e).forEach(function(e){t.push(e)});var i,s=void 0;for(s=0,i=t.length;s<i;s++)e[t[s]]=m.coerceToBoolean(e[t[s]]);return e},$.fn.timer=function(e,t){var i=$(this),s=10,n=void 0,a=0;function r(){n=setInterval(function(){a+=s,i.triggerHandler("update",[{counter:a}]),a>t&&(i.triggerHandler("timeout"),e.apply(arguments),clearInterval(n),a=0)},s)}return r(),{event:this,cancel:function(){i.triggerHandler("cancel"),clearInterval(n),a=0},pause:function(){i.triggerHandler("pause"),clearInterval(n)},resume:function(){i.triggerHandler("resume"),r()}}},$.copyToClipboard=function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(t)}}},$.fn.clearable=function(){var e=this;this.element=$(this);this.xButton=this.element.find(".icon.close").first(),this.xButton&&this.xButton.length||(this.xButton=$.createIconElement({classes:"close Line: 8 -  con:"close"}).icon()),this.clear=function(){e.element.val("").trigger("change").focus().trigger("cleared"),e.checkContents()},this.handleKeydown=function(t){var i=t.key;("Enter"===i||t.altKey&&("Delete"===i||"Backspace"===i))&&(t.preventDefault(),e.clear())},this.checkContents=function(){var t=e.element.val();t&&t.length?this.xButton.removeClass("is-empty"):this.xButton.addClass("is-empty"),this.element.trigger("contents-checked")},this.xButton.insertAfter(e.element),this.xButton[0].tabIndex=0,this.xButton[0].setAttribute("focusable",!0),this.xButton.off(["click.clearable","keydown.clearable"].join(" ")).on("click.clearable",this.clear).on("keydown.clearable",this.handleKeydown);var t=["blur.clearable","change.clearable","keyup.clearable"].join(" ");this.element.off(t).on(t,function(){e.checkContents()}),this.checkContents()},m.actualChar=function(e){var t=e.which,i={188:"44",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},s={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",37:"%",38:"&",39:'"',44:"<",46:">",47:"?"};return Object.prototype.hasOwnProperty.call(i,t)&&(t=i[t]),t>=96&&t<=105&&(t-=48),!e.shiftKey&&t>=65&&t<=90?String.fromCharCode(t+32):e.shiftKey&&Object.prototype.hasOwnProperty.call(s,t)?s[t]:String.fromCharCode(t)},$.actualChar=function(e){return m.actualChar(e)},m.equals=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},n.convertToHTMLElement=function(e){return e instanceof HTMLElement?e:e instanceof $?e=e.length?e[0]:void 0:void 0},m.extend=$.extend,m.fixSVGIcons=function e(t){if(("ie"===l.browser.name||"11"===l.browser.version)&&void 0!==t){var i="http://www.w3.org/1999/xlink";if(t instanceof $){if(!t.length)return;if(1!==t.length)return void t.each(function(t,i){e(i)});t=t[0]}t instanceof NodeList?Array.prototype.forEach.call(t,function(t){e(t)}):setTimeout(function(){for(var e=t.getElementsByTagName("use"),s=0;s<e.length;s++){var n=e[s].getAttributeNS(i,"href");e[s].setAttributeNS(i,"href","x"),e[s].setAttributeNS(i,"href",n)}},1 Line: 21 -  icon-rtl-rotate")})}};function k(e){if("function"!=typeof e){if("string"==typeof e)return e;throw new Error((void 0===e?"undefined":u(e))+" was provided where a function was expected.")}if("string"==typeof e.name)return e.name+"()";var t=/^function\s+([\w$]+)\s*\(/.exec(e.toString());return t?t[1]+"()":"(anonymous function)"}function T(e,t){var i=k(e),s=k(t);"object"===("undefined"==typeof console?"undefined":u(console))&&console.warn('IDS Enterprise: "'+s+'" is deprecated. Please use "'+i+'" instead.')}function S(e,t){var i=function(){T(e,t);for(var i=arguments.length,s=Array(i),n=0;n<i;n++)s[n]=arguments[n];e.apply(this,s)};return i.prototype=e.prototype,i}function A(e){return this.element=$(e),this}$(function(){setTimeout(function(){!C||C.cultureInHead()||C.currentLocale.name||C.set("en-US")},50)}),A.prototype={get url(){return window.location.href.replace(window.location.hash,"")},get href(){return this.element[0].getAttribute("href")},getCurrentURL:function(){return T("url","getCurrentURL"),this.url},getBaseURL:function(e){return this.element.length&&this.href&&"/"!==this.href?e?0===e.indexOf("/")?e:(e=(-1===e.indexOf("#")?"#":"")+e,this.url+e):this.url:e||""}};var I=new A($("base[href]"));$.getBaseURL=function(e){return I.getBaseURL(e)};var D={noAutoStart:!1},E={};function L(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}function P(e){if(this.id=e.id,this.duration=e.duration||-1,this.duration<1&&("string"!=typeof this.id||!this.id.length))throw new Error("cannot build a RenderLoopItem with no duration and no namespace");return this.updateDuration=e.updateDuration||1,this.setFuncs(e),this.paused=!1,this.elapsedTime=0,this.startTime=L(),this}function M(e){return this.items=[],this.element=$("body"),this.settings=m.mergeSettings(null,e,D),!0!==this.settings.noAutoStart&&this.start(),this}"object"===u(window.SohoConfig)&&"object"===u(window.SohoConfig.renderLoop)&&(E=m.extend({},D,window.SohoConfig.renderLoop)),P.prototype={setFuncs:function(e){if("function"!=typeof e.updateCallback&&"function"!=typeof e.timeoutCallback)thro Line: 55 -  t=n+"px",r[0].style.top=a+"px",i.prepend(r),!$.fn.cssPropSupport("animation")||e.isSafari&&!l.features.touch||e.isFirefox)r.removeClass("is-animation"),e.animateWithJS(r);else $("svg.ripple-effect",i).addClass("is-animation");setTimeout(function(){r.remove()},1e3)}})}},animateWithJS:function(e){var t=e[0].style,i=parseFloat(t.left)-100+"px",s=parseFloat(t.top)-100+"px";e[0].style.opacity="0.4",e.animate({opacity:0,left:i,top:s,width:200,height:200},1e3)},updated:function(e){return e&&(this.settings=m.extend({},this.settings,e)),this},destroy:function(){this.element.off("click.button touchstart.button focusin.hide-focus focusout.hide-focus mousedown.hide-focus touchstart.hide-focus");var e=this.element.data("tooltip");this.element.hasClass("btn-actions")&&e&&e.destroy(),$.removeData(this.element[0],"button")}},$.fn.button=function(e){return this.each(function(){var t=$.data(this,"button");t?t.updated(e):t=$.data(this,"button",new ee(this,e))})};var te={};function ie(e,t){return this.init(e,t)}ie.prototype={init:function(e,t){if(!this.element&&e instanceof HTMLElement&&(this.element=e),"object"===(void 0===t?"undefined":u(t))){var i=this.settings||te;this.settings=m.mergeSettings(this.element,t,i)}return this.focusBehavior||(this.focusBehavior=new d(this.element)),this},handleEvents:function(){return this},updated:function(e){return e&&(this.settings=m.mergeSettings(this.element,e,this.settings)),this.teardown().init()},teardown:function(){return this}},$.fn.hyperlink=function(e){return this.each(function(){var t=$.data(this,"hyperlink");t?t.updated(e):(t=$.data(this,"hyperlink",new ie(this,e))).destroy=function(){this.teardown(),$.removeData(this,"hyperlink")}})};var se={EMPTY_STRING:"",PLACEHOLDER_CHAR:"_",CARET_TRAP:"[]",NON_DIGITS_REGEX:/[^\u0660-\u06690-9\u0966-\u096F\u2E80-\u2FD5\u3190-\u319f\u3400-\u4DBF\u4E00-\u9FCC\uF900-\uFAAD]/g,DIGITS_REGEX:/[\u0660-\u06690-9\u0966-\u096F\u2E80-\u2FD5\u3190-\u319f\u3400-\u4DBF\u4E00-\u9FCC\uF900-\uFAAD]/,ALPHAS_REGEX:/[\u00C0-\u017Fa-zA-Z]/,ANY_REGEX:/[\u00C0-\u017Fa-zA-Z0-9]/,DEFAULT_API_OPTIONS:{locale:"en-US",pattern:void 0,pipe:v Line: 69 -  his,[e,t])}},handleEvents:function(){var e=this,t="rightClick"!==this.settings.trigger;function i(e){return e.stopPropagation(),e.preventDefault(),!1}function s(t,i){if(t.preventDefault(),e.keydownThenClick)delete e.keydownThenClick;else{var s=!0===i?0:2;if(!(t.button>s||e.element.is(":disabled"))){["android","ios"].indexOf(l.os.name)>-1&&(e.holdingDownClick=!0),function(t){if(e.element.hasClass("is-disabled"))return t.stopPropagation(),void t.preventDefault();var i="rightClick"===e.settings.trigger;if(t.stopPropagation(),t.preventDefault(),i&&e.menu.hasClass("is-open"))return e.close(),void e.open(t);e.menu.hasClass("is-open")?e.close():e.open(t)}(t)}}}if(!("immediate"===this.settings.trigger)&&(t&&this.element.on("click.popupmenu",function(e){s(e,!0)}),!t)){this.menu.parent().on("contextmenu.popupmenu",i);-1===["android","ios"].indexOf(l.os.name)?this.element.on("contextmenu.popupmenu",function(e){i(e),s(e)}):this.element.on("touchstart.popupmenu",function(e){"ios"===l.os.name&&e.preventDefault(),$(e.target).addClass("longpress-target")}).on("touchend.popupmenu",function(e){$(e.target).removeClass("longpress-target")}).on("longpress.popupmenu",function(t,i){e.openedWithTouch=!0,s(i)})}this.menu.off("dragstart.popupmenu").on("dragstart.popupmenu","a",function(){return!1}),this.element.not(".autocomplete, ul").on("keydown.popupmenu",function(t){switch(t.which){case 13:case 32:"click"===e.settings.trigger&&(e.keydownThenClick=!0,e.open(t));break;case 121:t.shiftKey&&e.open(t)}}).on("updated.popupmenu",function(t,i){t.stopPropagation(),e.updated(i)})},handleKeys:function(){var e=this;this.menu.on("click.popupmenu","li",function(t){var i=$(this).find("a");e.handleItemClick(t,i)});var t="li:not(.separator):not(.hidden):not(.heading):not(.group):not(.is-disabled):not(.is-placeholder)";this.settings.mouseFocus&&this.menu.on("mouseenter.popupmenu","li",function(){e.highlight($(this).children("a"))}),setTimeout(function(){$(document).off("keydown.popupmenu."+this.id).on("keydown.popupmenu."+this.id,function(i){var s=i.which;if(27===s)return i.stopPropagation(),i.stopImmediatePropagati Line: 74 -  ","true"),e.attr("disabled","disabled")):(t.removeClass("is-disabled"),e.removeAttr("aria-disabled"),e.removeAttr("disabled"))}),setTimeout(function(){$(document).on("touchend.popupmenu."+s.id+" click.popupmenu."+s.id,function(e){var t="colorpicker-menu"===s.settings.menu;2!==e.button&&(s.holdingDownClick?delete s.holdingDownClick:$(e.target).is(s.element)&&!t||(0===$(e.target).closest(".popupmenu").length&&s.close(!0,"rightClick"===s.settings.trigger),$(e.target).hasClass("colorpicker")&&s.close()))}),void 0===window.orientation&&$("body").on("resize.popupmenu",function(){s.handleCloseEvent()}),$(window).on("scroll.popupmenu",function(){s.close()}),$(".scrollable, .modal.is-visible .modal-body-wrapper").on("scroll.popupmenu",function(){s.close()}),s.element.triggerHandler("open",[s.menu])},300),$("iframe").each(function(){var e=$(this);e.ready(function(){try{e.contents().find("body").on("click.popupmenu",function(){s.close()})}catch(e){}})}),this.handleKeys();var o=0,d=void 0,c=void 0,h=void 0;s.menu.find(".popupmenu").removeClass("is-open"),s.menu.on("mouseenter.popupmenu touchstart.popupmenu",".submenu",function(e){var t=$(this);d=e.pageX,clearTimeout(h),h=setTimeout(function(){s.openSubmenu(t)},300),$(document).on("mousemove.popupmenu."+this.id,function(e){o=e.pageX})}).on("mouseleave.popupmenu",".submenu",function(){$(document).off("mousemove.popupmenu."+this.id);var e=((c=$(this).find("ul")).parent(".wrapper").length>0?parseInt(c.parent(".wrapper")[0].style.left,10):0)<0,t=o-d<3.5;e&&(t=o-d>=0),t&&(c.removeClass("is-open").removeAttr("style"),c.parent(".wrapper").removeAttr("style"),c.parent().parent().removeClass("is-submenu-open"),c=null),clearTimeout(h)}),s.settings.autoFocus&&setTimeout(function(){var e=":not(.separator):not(.hidden):not(.heading):not(.group):not(.is-disabled)",t=s.menu.children(e).find(".is-selected").children("a");t.length||(t=s.menu.children(e).first().children("a")),s.highlight(t),s.element.triggerHandler("afteropen",[s.menu])},1)}else setTimeout(function(){s.open(e,t,!0)},400)},handleCloseEvent:function(){this.holdingDownClick||this.close()},ope Line: 81 -  ar i=this,s=$(this),n="horizontal"===e.direction?"width":"height",a=n.charAt(0).toUpperCase()+n.slice(1),r=isNaN(e.distance)?"auto":parseInt(e.distance,10)+"px",o=void 0;function l(){o&&clearTimeout(o),s.data("ignore-animation-once")&&$.removeData(s[0],"ignore-animation-once"),s.data("is-animating")&&$.removeData(s[0],"is-animating"),s.off(t+".animateopen"),i.style.transition="",i.style[n]=r,s.trigger("animateopencomplete")}s.one("animateopenstart.animation",function(e){e.stopPropagation(),s.off(t+".animateopen")}),s.trigger("animateopenstart"),t&&s.one(t+".animateopen",l),s.data("is-animating",!0);var d=this.style[n];this.style[n]=r;var c=getComputedStyle(this)[n];this.style[n]=d,this["offset"+a],this.style.transition=n+" "+e.timing+"ms "+e.transition,o=setTimeout(l,e.timing),this.style[n]=c,(s.is(":hidden")||s.is(".no-transition")||s.data("ignore-animation-once"))&&l()})};var ve={direction:"vertical",timing:300,transition:"cubic-bezier(.17, .04, .03, .94)"};$.fn.animateClosed=function(e){var t=$.fn.transitionEndName();return e=m.mergeSettings(void 0,e,ve),this.each(function(){var i=this,s=$(this),n="horizontal"===e.direction?"width":"height",a=n.charAt(0).toUpperCase()+n.slice(1),r=void 0;function o(){r&&clearTimeout(r),s.data("ignore-animation-once")&&$.removeData(s[0],"ignore-animation-once"),s.data("is-animating")&&$.removeData(s[0],"is-animating"),s.off(t+".animatedclosed"),i.style.transition="",i.style[n]="0px",s.trigger("animateclosedcomplete")}s.one("animateclosedstart",function(e){e.stopPropagation(),s.off(t+".animatedclosed")}),s.trigger("animateclosedstart"),t&&s.one(t+".animatedclosed",o),s.data("is-animating",!0),this.style[n]=getComputedStyle(this)[n],this["offset"+a],this.style.transition=n+" "+e.timing+"ms "+e.transition,r=setTimeout(o,e.timing),this.style[n]="0px",(s.is(":hidden")||s.is(".no-transition")||s.data("ignore-animation-once"))&&o()})},$.fn.isAnimating=function(){return this.each(function(){return!0===$(this).data("is-animating")})};var be={allowOnePane:!0,displayChevron:!0,enableTooltips:!0,rerouteOnLinkClick:!0,source:null};function ye(e,t){this.e Line: 85 -  instanceof Element&&(e=$(e)),e&&e.length)return"true"===e.children("a").attr("aria-expanded")},toggle:function(e){var t=this;!e||!e.length||this.isDisabled(e)||this.isFiltered(e)||this.isAnimating||(this.isAnimating=!0,setTimeout(function(){t.isAnimating=!1},500),this.isExpanded(e)?this.collapse(e):this.expand(e))},expand:function(e,t){if(e&&e.length){var i=this,s=e.next(".accordion-pane"),n=e.children("a"),a=$.Deferred();return!1===this.element.triggerHandler("beforeexpand",[n])?a.reject():(this.callSource(n,r)||r.apply(this),a)}function r(){var r=e.children(".btn");r.length&&(r.children(".plus-minus, .chevron").addClass("active"),r.children(".audible").text(C.translate("Collapse")));var o=e.parentsUntil(i.element).filter(".accordion-pane").prev(".accordion-header").add(e),l=[];i.settings.allowOnePane&&!t&&i.headers.not(o).each(function(){var e=$(this);i.isExpanded(e)&&l.push(i.collapse(e))});var d=[];function c(t){var r;t&&t.stopPropagation(),e.children("a").attr("aria-expanded","true"),s.triggerHandler("afterexpand",[n]),i.element.trigger("afterexpand",[n]),(r=$).when.apply(r,d.concat(l)).done(function(){a.resolve()})}if(o.not(e).each(function(){var e=$(this);i.isExpanded(e)||d.push(i.expand(e))}),s.addClass("is-expanded"),i.element.trigger("expand",[n]),s.hasClass("no-transition")){for(var h=0;h<s.length;h++)s[h].style.display="block",s[h].style.height="auto";c()}else s.one("animateopencomplete",c).css("display","block").animateOpen()}},expandAll:function(){var e;if(!0!==this.settings.allowOnePane){var t=this,i=$.Deferred(),s=[];return this.headers.each(function(){var e=$(this);t.isExpanded(e)||s.push(t.expand(e))}),(e=$).when.apply(e,s).always(function(){i.resolve()}),i}},collapse:function(e){if(e&&e.length){var t=this,i=e.next(".accordion-pane"),s=e.children("a"),n=$.Deferred();if(!1===this.element.triggerHandler("beforecollapse",[s]))return n.reject();var a=e.children(".btn");return a.length&&(a.children(".plus-minus, .chevron").removeClass("active"),a.children(".audible").text(C.translate("Expand"))),i.removeClass("is-expanded").closeChildren(),s.attr("aria-expanded"," Line: 86 -  ment.trigger("collapse",[s]),i.hasClass("no-transition")?r():i.one("animateclosedcomplete",r).animateClosed(),n}function r(e){e&&e.stopPropagation(),i[0].style.display="none",i[0].style.height="0px",i.triggerHandler("aftercollapse",[s]),t.element.trigger("aftercollapse",[s]),n.resolve()}},collapseAll:function(){var e,t=this,i=$.Deferred(),s=[];return this.headers.each(function(){var e=$(this);t.isExpanded(e)&&s.push(t.collapse(e))}),(e=$).when.apply(e,s).always(function(){i.resolve()}),i},callSource:function(e,t){if(!this.settings.source||"function"!=typeof this.settings.source)return!1;var i=this,s=e.parent(),n={anchor:e,header:s,pane:s.next(".accordion-pane")};return this.settings.source(n,function(){i.updated(),setTimeout(function(){t.apply(i)},1)})},getElements:function(e){var t=$(e),i=void 0,s=void 0,n=void 0;return t.is(".accordion-header")&&(i=t,n=t.children('[class^="btn"]'),s=t.children("a")),t.is(".btn")&&(s=(i=(n=t).parent()).children("a")),t.is("a")&&(n=(i=(s=t).parent()).children(".btn")),{header:i,expander:n,anchor:s,pane:i.next(".accordion-pane")}},prevHeader:function(e,t){var i=this.getElements(e),n=i.header.parent().children(),a=n.index(i.header),r=$(n.get(s.ensureAlphaNumeric(a)-1));if(!n.length||0===a){if(i.header.parent(".accordion-pane").length)return this.ascend(i.header);r=n.last()}for(;r.is(".accordion-content")||this.isDisabled(r)||this.isFiltered(r);){if(r.is(":only-child")||r.is(":first-child"))return this.ascend(i.header);r=r.prev()}if(r.is(".accordion-pane")){var o=r.prev(".accordion-header");if(this.isExpanded(o))if(o.next(".accordion-pane").children(":not(.accordion-content)").length&&!t)return this.descend(o,-1);if(!(r=o).length){if(i.header.parent(".accordion-pane").length)return this.ascend(i.header);for(r=n.last();r.is(".accordion-content")||this.isDisabled(r)||this.isFiltered(r);)r=r.prev()}}this.focusOriginalType(r)},nextHeader:function(e,t){var i=this.getElements(e),n=i.header.parent().children(),a=n.index(i.header),r=$(n.get(s.ensureAlphaNumeric(a)+1));if(!n.length||a===n.length-1){if(i.header.parent(".accordion-pane").length)return this. Line: 89 -  ren().not(".application-menu, .modal-page-container, .page-container").closeChildren(),t["handle"+s+"Click"](e,i)}return s.on("click.accordion",function(e){return r(e,$(this))}).on("focusin.accordion",function(e){var i=$(e.target);t.originalSelection||(t.originalSelection=i),i.is(":not(.btn)")&&$(this).addClass("is-focused").removeClass("hide-focus")}).on("focusout.accordion",function(){$.contains(this,i)&&!$(this).is($(i))||$(this).removeClass("is-focused")}).on("keydown.accordion",function(e){t.handleKeys(e)}).on("mousedown.accordion",function(e){$(this).addClass("is-focused").removeClass("hide-focus"),i=e.target}).on("mouseup.accordion",function(){i=null}),a.on("click.accordion",function(e){return r(e,$(this))}),s.children('[class^="btn"]').on("click.accordion",function(e){return r(e,$(this))}).on("keydown.accordion",function(e){t.handleKeys(e)}),n&&this.element.on("selected.accordion",function(e){e.stopPropagation()}).on("updated.accordion",function(e,i){e.stopPropagation(),t.updated(i)}),this},hideTooltip:function(){var e=this,t=window;t.tooltip&&(this.removeTooltipData(t.tooltip),t.tooltip.classList.add("is-hidden"),t.tooltip.classList.remove("content-tooltip")),$("body, .scrollable").off("scroll.spantooltip",function(){e.hideTooltip()})},removeTooltipData:function(e){(e=e instanceof jQuery?e:$(e)).data("spantooltip")&&$.removeData(e[0],"spantooltip")},setupTooltips:function(){if(this.settings.enableTooltips){var e=this,t=".accordion-header a span",i=void 0;this.element.off("mouseenter.spantooltip",t).on("mouseenter.spantooltip",t,function(){var e;(e=this).offsetWidth>e.parentElement.offsetWidth-parseInt($(e).parent().css("padding-left"),10)&&(i=setTimeout(function(){$(e).tooltip({trigger:"immediate",content:""+e.innerText,extraClass:"tooltip-accordion-style"})},400))}).off("mouseleave.spantooltip click.spantooltip",t).on("mouseleave.spantooltip click.spantooltip",t,function(){var t;(t=this).offsetWidth>t.parentElement.offsetWidth-parseInt($(t).parent().css("padding-left"),10)&&(e.hideTooltip(),clearTimeout(i))})}}},$.fn.accordion=function(e){return this.each(function(){ Line: 90 -  this,"accordion");t?t.updated(e):t=$.data(this,"accordion",new ye(this,e))})};var we=[".expandable-area",".accordion",["soho-busyindicator"],".busyindicator"],xe=[];function Ce(e,t){return!!function(e){return e&&!(e instanceof jQuery)}(e)&&(e[t]&&"function"==typeof e[t])}function ke(e,t){var i=[];return $.each(e,function(e,s){$.each($(s).data(),function(e,n){(function(e,t){return!!Ce(e,t)&&(e[t](),!0)})(n,t)&&i.push({elem:$(s),control:n})})}),i}function $e(e,t,i){if(e&&t){var s=(e=$(e)).find("*").add(e);i&&(s=s.not(i.join(", ")));var n=ke(s,t);return e.trigger("sift-"+t+"-complete",[n]),e}}$.fn.destroy=function(){return $e($(this),"destroy")},$.fn.closeChildren=function(){return $e($(this),"close",we)},$.fn.handleResize=function(){return $e($(this),"handleResize",xe)};var Te=setTimeout;function Se(){}function Ae(e){if(!(this instanceof Ae))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Pe(e,this)}function Ie(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Ae._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var s;try{s=i(e._value)}catch(e){return void Ee(t.promise,e)}De(t.promise,s)}else(1===e._state?De:Ee)(t.promise,e._value)})):e._deferreds.push(t)}function De(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof Ae)return e._state=3,e._value=t,void Le(e);if("function"==typeof i)return void Pe((s=i,n=t,function(){s.apply(n,arguments)}),e)}e._state=1,e._value=t,Le(e)}catch(t){Ee(e,t)}var s,n}function Ee(e,t){e._state=2,e._value=t,Le(e)}function Le(e){2===e._state&&0===e._deferreds.length&&Ae._immediateFn(function(){e._handled||Ae._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)Ie(e,e._deferreds[t]);e._deferreds=null}function Pe(e,t){var i=!1;try{e(function(e){i||(i=!0,De(t,e))},function(e){i||(i=!0,Ee(t,e))})}catch(e){if(i)return;i=!0,Ee(t,e)}}Ae.prototy Line: 96 -  omSource().done(function(e,i){t.currentDataSet=i,t.openList(e,i)}),null)},checkActiveElement:function(){var e=this;setTimeout(function(){var t=document.activeElement;e.listIsOpen()&&$.contains(e.list[0],t)||e.element.is(t)||e.element.trigger("safe-blur")},0)},getDataFromSource:function(){var e=this;if(e.isLoading())return!1;var t=this.element,i=$.Deferred(),n=void 0;function a(t,n,a){return e.element.triggerHandler("complete"),e.element.trigger("requestend",[t,n]),!1===a?i.reject(t):i.resolve(s.stripTags(t),n)}return clearTimeout(this.loadingTimeout),this.loadingTimeout=setTimeout(function(){if(!e.isLoading())if(""!==(n=t.val())){var s=u(e.settings.source);if(e.element.triggerHandler("start"),e.element.trigger("requeststart",[n]),"function"===s)e.settings.source(n,a,e.settings.sourceArguments);else if("object"===s){var r=$.isArray(e.settings.source)?e.settings.source:[e.settings.source];a(n,r,!0)}else if(e.settings.source)if("keyword"===e.settings.filterMode){var o=[],l=function(e){if(0===o.length)o=e;else for(var t=0;t<e.length;t++){for(var i=e[t],s=!1,n=0;n<o.length;n++)for(var a=o[n],r=0;r<Object.getOwnPropertyNames(a).length;r++){if(i[Object.getOwnPropertyNames(i)[r]]===a[Object.getOwnPropertyNames(a)[r]]){s=!0;break}}s||o.push(i)}},d=function(e){l(e),a(n,o,!0)},c=n.split(" ");""===c[c.length-1]&&c.splice(-1,1);for(var h=0;h<c.length;h++){var p=c[h];if(p.length>0){var g=e.settings.source.toString(),f=$.getJSON(g+p);h<c.length-1?f.done(l).fail(l):f.done(d).fail(d)}}}else{var m=e.settings.source.toString();$.getJSON(m+n).done(function(e){a(n,e,!0)}).fail(function(){a(n,[],!1)})}else i.reject(n)}else e.element.data("popupmenu")&&e.element.data("popupmenu").close()},e.settings.delay),i},resetFilters:function(){this.openList("",this.currentDataSet)},handleAutocompleteFocus:function(){this.noSelect?this.noSelect=!1:this.element.select()},highlight:function(e,t){var i=e.text().trim();e.find(".display-value").length>0&&(i=e.find(".display-value").text().trim()),t&&t.length&&t.parent("li").removeClass("is-selected"),e.parent("li").addClass("is-selected"),this.noSelect=!0,this.eleme Line: 112 -  (".masthead").length>0){if(e.parents(".header, .masthead").parents(".page-container").length)return;e.find(".icon.app-header").removeClass("go-back").addClass("close"),e.trigger("icon-change")}}),i||(this.menu.off(n+".applicationmenu"),this.menu[0].style.display="",this.menu[0].offsetHeight,this.menu.addClass("is-open")),a.isBelow(this.settings.breakpoint)&&this.menu.addClass("show-shadow"),e&&!0===e||this.menu.find(".is-selected > a").focus(),"ios"===l.os.name)this.getAdjacentContainerElement().addClass("ios-click-target");i?r():(this.menu.one(n+".applicationmenu",r),this.timeout=setTimeout(r,300)),setTimeout(function(){$(document).on("click.applicationmenu",function(e){$(e.target).parents(".application-menu").length<1&&!s.isLargerThanBreakpoint()&&s.closeMenu(!0)})},0)}function r(){null!==s.timeout&&(clearTimeout(s.timeout),s.timeout=null),t&&(s.userOpened=!0,s.userClosed=void 0),i||(s.isAnimating=!1,s.element.trigger("applicationmenuopen"),$("body").triggerHandler("resize")),s.menu.removeClass("no-transition"),$(".page-container").removeClass("no-transition")}},closeMenu:function(e){if(!0!==this.isAnimating){var t=this,i=$.fn.transitionEndName();if(this.isAnimating=!0,this.triggers.each(function(){var e=$(this);(e.parents(".header").length>0||e.parents(".masthead").length>0)&&(e.find(".icon.app-header").removeClass("close"),e.trigger("icon-change"))}),"ios"===l.os.name)this.getAdjacentContainerElement().removeClass("ios-click-target");this.menu.one(i+".applicationmenu",s),this.timeout=setTimeout(s,300),this.menu.removeClass("is-open show-shadow").find("[tabindex]"),$(document).off("click.applicationmenu")}function s(){null!==t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.menu.off(i+".applicationmenu"),t.menu[0].style.display="none",t.isAnimating=!1,e&&(t.userOpened=void 0,t.userClosed=!0),t.element.trigger("applicationmenuclose"),$("body").triggerHandler("resize")}},hasTriggers:function(){return void 0!==this.triggers&&this.triggers instanceof $&&this.triggers.length},modifyTriggers:function(e,t,i){if(e&&e.length){var s=$();$.each(e,function(e,t){s=s.add($(t))}),thi Line: 114 -  nu",function(){e.closeMenu()}).on("selected.applicationmenu",function(t,i){var s=$(i).children("a");e.handleDismissOnClick(s)}).on("followlink.applicationmenu",function(t,i){e.handleDismissOnClick(i)}),$(document).on("open-applicationmenu",function(){e.openMenu(void 0,!0)}).on("close-applicationmenu",function(){e.closeMenu()}),$(window).on("scroll.applicationmenu",function(){e.adjustHeight()}),$("body").on("resize.applicationmenu",function(){e.testWidth()}),!0===this.settings.filterable&&this.searchfield&&this.searchfield.length&&this.searchfield.on("input.applicationmenu",function(t){e.handleSearchfieldInputEvent(t)}),this.settings.openOnLarge&&this.isLargerThanBreakpoint()&&(this.menu.addClass("no-transition"),$(".page-container").addClass("no-transition")),this.testWidth(),setTimeout(function(){e.menu.removeClass("no-transition"),$(".page-container").removeClass("no-transition")},800),this}},$.fn.applicationmenu=function(e){return this.each(function(){var t=$.data(this,"applicationmenu");return t?t.updated(e):t=$.data(this,"applicationmenu",new We(this,e)),t})};var je={dataset:[],selectable:!1,paging:!1,pagesize:25,pagesizes:[10,25,50,75]};function Ge(e,t){this.element=$(e),this.settings=m.mergeSettings(e,t,je),t.dataset&&(this.settings.dataset=t.dataset),this.init()}Ge.prototype={get pagerAPI(){return this.element.data("pager")},init:function(){return this.selectedRows=[],this.handlePaging(),this.build().handleEvents()},build:function(){return this.settings.paging&&this.element.empty(),this.render(),this},handleEvents:function(){var e=this,t=this;return this.element.on("click.blockgrid",".block",function(e){var i=$(e.currentTarget),s=$(e.target),n=s.is(".checkbox-label")||s.is(".checkbox");setTimeout(function(){t.selectBlock(i,n)},0),e.stopPropagation(),e.preventDefault()}),this.element.on("focus.blockgrid",".checkbox",function(e){$(e.currentTarget).parent().addClass("has-focus")}),this.element.on("blur.blockgrid",".checkbox",function(e){$(e.currentTarget).parent().removeClass("has-focus")}),this.element.on("keypress.blockgrid",".block",function(e){if(32===e.which){var i= Line: 116 -  .pagesize*a,o=n.pagesize*(a+1);if((i=i.slice(r,o)).length!==this.settings.dataset.length)for(var l=0;l<o-r+1&&!i[l].id;l++)i[l].id=r+l}}var d=[];this.selectedRows.forEach(function(e){d.push(e.idx)});for(var c=0;c<i.length;c++){var h=i[c],u="mixed"===this.settings.selectable?"0":"-1",p="",g="";d.indexOf(h.id)>-1&&(p=" is-selected",g=" checked"),t+='<div class="block is-selectable'+p+'" role="listitem" tabindex="0">\n        <input type="checkbox" aria-hidden="true" role="presentation" class="checkbox" id="checkbox'+c+'" tabindex="'+u+'" data-idx="'+h.id+'"'+g+'>\n        <label for="checkbox'+c+'" class="checkbox-label">\n          <span class="audible">'+s+'</span>\n        </label>\n        <img alt="Placeholder Image" src="'+(h.img||h.image)+'" class="image-round">\n        <p> '+(h.maintxt||h.title)+" <br> "+(h.subtxt||h.subtitle)+" </p>\n      </div>"}this.element.attr("role","list").append(t),this.previousFocusedElement&&setTimeout(function(){e.element.find(".block").first().focus(),delete e.previousFocusedElement},0)},renderBlock:function(){return S(this.render,this.renderBlock).apply(this)},updated:function(e){return this.settings=m.mergeSettings(this.element,e,this.settings),e&&e.dataset&&(this.settings.dataset=e.dataset),this.teardown(),this.init(),this},teardown:function(){return this.element.off("updated.blockgrid"),this.element.off("click.blockgrid"),this.element.empty(),this.selectedRows=[],this},destroy:function(){this.teardown(),$.removeData(this.element[0],"blockgrid")}},$.fn.blockgrid=function(e){return this.each(function(){var t=$.data(this,"blockgrid");t?t.updated(e):t=$.data(this,"blockgrid",new Ge(this,e))})};var Ue={blockUI:!0,text:null,displayDelay:1e3,timeToComplete:0,transparentOverlay:!1,overlayOnly:!1};function _e(e,t){this.settings=m.mergeSettings(e,t,Ue),this.element=$(e),this.init()}_e.prototype={init:function(){this.inlineLabel=this.element.closest("label"),this.inlineLabelText=this.inlineLabel.find(".label-text"),this.isInlineLabel=this.element.parent().is(".inline"),this.setup().handleEvents()},setup:function(){var e=this.element.attr("data-bl Line: 118 -  nt);else i=this.element.data("dropdown").pseudoElem,this.container.appendTo(i.parent());this.overlay&&this.overlay.insertAfter(this.container);for(var s=i.position(),n=i.outerHeight(),a=i.outerWidth(),r=this.container.add(this.overlay),o=function(e,t,i){e.style[t]=i+"px"},l=0,d=r.length;l<d;l++)o(r[l],"left",s.left),o(r[l],"top",s.top),o(r[l],"bottom",s.bottom),o(r[l],"right",s.right),o(r[l],"height",n),o(r[l],"width",a)}else this.container.appendTo(this.element);setTimeout(function(){e.container&&e.container.removeClass("is-hidden"),e.overlay&&e.overlay.removeClass("is-hidden"),e.blockUI&&e.addScrollParent()},e.delay),this.element.trigger("afterstart"),$.fn.cssPropSupport("animation")||(e.isAnimating=!0,e.animateWithJS()),this.completionTime>0&&setTimeout(function(){e.element.trigger("complete")},e.completionTime)}},close:function(e){var t=this;t.isActive()&&(this.removeScrollParent(),e&&(this.element.removeClass("is-loading"),this.element.removeClass("is-blocked")),this.container&&this.container.addClass("is-hidden"),this.overlay&&this.overlay.addClass("is-hidden"),t.closeTimeout=setTimeout(function(){clearTimeout(t.closeTimeout),t.container&&t.container.remove(),t.container=void 0,t.loader=void 0,t.label=void 0,t.overlay&&(t.overlay.remove(),t.element[0].style.position=t.originalPositionProp,t.originalPositionProp=void 0),t.overlay=void 0,t.element.trigger("aftercomplete.busyindicator"),t.element.off("complete.busyindicator")},600))},animateWithJS:function(){var e=this,t=this.container.find(".bar.one"),i=this.container.find(".bar.two"),s=this.container.find(".bar.three"),n=this.container.find(".bar.four"),a=this.container.find(".bar.five"),r=0,o=null;setInterval(function(){e.isAnimating?(1===(r+=1)&&t.addClass("half"),13===r&&(t.removeClass("half").addClass("full"),i.addClass("half")),26===r&&(t.removeClass("full").addClass("half"),i.removeClass("half").addClass("full"),s.addClass("half")),39===r&&(t.removeClass("half"),i.removeClass("full").addClass("half"),s.removeClass("half").addClass("full"),n.addClass("half")),51===r&&(i.removeClass("half"),s.removeClass("full").addC Line: 128 -   p=!0;i=setInterval(function(){p&&(p=!1,n(function(e){c=e,s[r]=e})),""!==c&&(clearInterval(i),h())},10)}else n="object"===(void 0===n?"undefined":u(n))?"":n,c=s[r]||n||c||"",h()}).on("mouseleave",function(){clearInterval(i),Ke.hideTooltip()}).merge(A).transition().duration(o).attr("width",S);var I=y.selectAll("rect.measure").data(f);I.enter().append("rect").attr("class",function(e,t){return"measure s"+t}).attr("width",0).attr("height",3).attr("x",function(e){return T(e<0?e:0)}).style("fill",function(e,i){return t.lineColors?t.lineColors[i]:""}).attr("y",8.5).merge(I).transition().duration(o).attr("width",S);var D=y.selectAll("line.marker").data(p);D.enter().append("line").attr("class",a?"hidden":"marker").attr("x1",0).attr("x2",0).style("stroke",function(e,i){return t.markerColors?t.markerColors[i]:""}).attr("y1",20/6).attr("y2",100/6).merge(D).transition().duration(o).attr("x1",T).attr("x2",T).attr("y1",20/6).attr("y2",100/6);var E=(p[0]>f[0]?"-":"+")+Math.abs(p[0]-f[0]);0!==Math.abs(p[0]-f[0])&&D.enter().append("text").attr("class","inverse").attr("text-anchor","middle").attr("y",14).attr("dx","20px").attr("x",0).text(E).merge(D).transition().duration(o).attr("x",function(){var e=0;return y.selectAll(".measure").each(function(t){var i=S(t),s=T(t);i>e&&(e=i),s>e&&(e=s)}),e}).style("opacity",1);var L=y.selectAll("g.tick").data(T.ticks(8)).enter().append("g").attr("class","tick").attr("transform","translate(0,0)").style("opacity",0);L.append("line").attr("y1",20).attr("y2",Math.round(140/4.7)),L.append("text").attr("text-anchor","middle").attr("dy","1.1em").attr("y",Math.round(140/4.7)).attr("class",function(e){return e<0?"negative-value":"positive-value"}).text(function(e){return e}),L.transition().duration(o).attr("transform",function(e){return"translate("+T(e)+",0)"}).style("opacity",1)},m=0;m<t.data.length;m++)f(m);return Ke.appendTooltip(),this.element.trigger("rendered"),this},handleEvents:function(){var e=this;return this.element.on("updated.bullet",function(){e.updated()}),this.settings.redrawOnResize&&($("body").on("resize.bullet",function(){e.handleResize()}),this.el Line: 132 -  </div>"),n.append(v.body,(v.remaining||"")+(v.completed||"")+(v.targetline||""),"<div><span><br>"),n.append(this.element,v.label+v.body.prop("outerHTML"),"<div><span><br>"),f={name:$(".name",e.element),info:{value:$(".info .value",e.element),text:$(".info .text",e.element)},completed:{bar:$(".completed.bar",e.element),value:$(".completed .value",e.element),text:$(".completed .text, .completed-label .text",e.element)},remaining:{bar:$(".remaining.bar",e.element),value:$(".remaining .value",e.element),text:$(".remaining .text",e.element)},targetline:{bar:$(".targetline",e.element),value:$(".targetline .value",e.element),text:$(".targetline .text",e.element)},total:{bar:$(".total.bar",e.element),value:$(".total.value",e.element)},percentText:$(".chart-percent-text",e.element)},function(e){e=e||i,f.name.data("jsonData",{name:e.name}),f.info.value.add(f.info.text).data("jsonData",{info:e.info}),f.completed.bar.add(f.completed.value).add(f.completed.text).data("jsonData",{completed:e.completed}),f.remaining.bar.add(f.remaining.value).add(f.remaining.text).data("jsonData",{remaining:e.remaining}),f.targetline.bar.add(f.targetline.value).add(f.targetline.text).data("jsonData",{targetline:e.targetline}),f.total.bar.add(f.total.value).data("jsonData",{total:e.total}),f.percentText.data("jsonData",{percentText:e.percentText})}(),function(e){var t=void 0;(e=e||i).completed&&(t=c(e.completed.value,e),h(f.completed.bar,t,e)),e.remaining&&(t=c(e.completed.value,e)+c(e.remaining.value,e),h(f.remaining.bar,t,e),s&&!a&&setTimeout(function(){var e=$(".remaining",p.element),t=$(".total",p.element),i=$(".completed .value",p.element)[0].getBoundingClientRect(),s=e.find(".value")[0].getBoundingClientRect();e.add(t)[i.right>s.left-20?"addClass":"removeClass"]("overlap")},500)),e.targetline&&(t=c(e.targetline.value,e),function(e,t){var i=t>100?100:t<0?0:t;e[0].style.left=i+"%"}(f.targetline.bar,t))}(),this},handleEvents:function(){var e=this;return this.element.on("updated.completion-chart",function(){e.updated()}),this},updated:function(e){var t=e.type||this.settings.type;return this.settings=e,this Line: 134 -  "";var l=!0;t=setInterval(function(){l&&(l=!1,a(function(e){n=e,s[d]=e})),""!==n&&(clearInterval(t),o())},10)}else a="object"===(void 0===a?"undefined":u(a))?"":a,n=s[d]||a||p[0].tooltip||n||"",o()}).on("mouseleave",function(){clearInterval(t),Ke.hideTooltip()})}for(d=0;d<p.length;d++){var A=p[d];y.append("g").append("path").attr("d",b(A.data)).attr("stroke",e.settings.isMinMax?"#999999":this.sparklineColors(d)).attr("class","team connected-line")}return o=d3.min(p[0].data),y.selectAll(".point").data(p[0].data).enter().append("circle").attr("r",function(t){return e.settings.isMinMax&&r===t||e.settings.isMinMax&&o===t?h+1:e.settings.isDots||e.settings.isPeakDot&&r===t?h:0}).attr("class",function(t){return e.settings.isPeakDot&&r===t&&!e.settings.isMinMax?"point peak":e.settings.isMinMax&&r===t?"point max":e.settings.isMinMax&&o===t?"point min":"point"}).style("fill",function(t){return e.settings.isPeakDot&&r===t&&!e.settings.isMinMax?"#ffffff":e.settings.isMinMax&&r===t?"#56932E":e.settings.isMinMax&&o===t?"#941E1E":e.sparklineColors(0)}).style("stroke",function(t){return e.settings.isPeakDot&&r===t&&!e.settings.isMinMax?e.sparklineColors(0):e.settings.isMinMax&&r===t?"none":e.settings.isMinMax&&o===t?"none":"#ffffff"}).style("cursor","pointer").attr("cx",function(e,t){return m(t)}).attr("cy",function(e){return v(e)}).on("mouseenter",function(t){var s=this.getBoundingClientRect(),l="<p>"+(p[0].name?p[0].name+"<br> "+(e.settings.isMinMax&&r===t?C.translate("Highest")+": ":e.settings.isMinMax&&o===t?C.translate("Lowest")+": ":e.settings.isPeakDot&&r===t?C.translate("Peak")+": ":""):"")+"<b>"+t+"</b></p>",c=function(){var e=Ke.tooltipSize(l),t=s.left-e.width/2+6,i=s.top-e.height-8;""!==l&&Ke.showTooltip(t,i,l,"top")};if(a&&"function"==typeof a&&!n[d]){l="";var g=!0;i=setInterval(function(){g&&(g=!1,a(function(e){l=e,n[d]=e})),""!==l&&(clearInterval(i),c())},10)}else a="object"===(void 0===a?"undefined":u(a))?"":a,l=n[d]||a||p[0].tooltip||l||"",c();d3.select(this).attr("r",e.settings.isMinMax&&r===t||e.settings.isMinMax&&o===t?h+2:h+1)}).on("mouseleave",function(t){clearInterval(i Line: 139 -  th").datum(s.data).attr("fill",function(){return Ke.chartColor(n,"line",s)}).style("opacity",".2").attr("class","area").attr("d",c)}var h=d.append("path").datum(s.data).attr("d",J(s.data)).attr("stroke",function(){return e.settings.isBubble||e.settings.isScatterPlot?"":Ke.chartColor(n,"line",s)}).attr("stroke-width",2).attr("fill","none").attr("class","line").on("click.chart",function(){Ke.selectElement(d3.select(this.parentNode),e.svg.selectAll(".line-group"),s,e.element)}),p=h.node().getTotalLength();h.attr("stroke-dasharray",p+" "+p).attr("stroke-dashoffset",p).transition().duration(e.settings.animate?600:0).ease(d3.easeCubic).attr("stroke-dashoffset",0);var g=function(n,d){var c,h=n.getBoundingClientRect(),p="<p><b>"+d.name+" </b> "+(c=d.value,t?d3.format(e.settings.formatterString)(c):c)+"</p>",g=function(){var t=Ke.tooltipSize(p),i=h.left-t.width/2+6,s=h.top-t.height-18;i=e.settings.isBubble||e.settings.isScatterPlot?h.left+h.width/2-t.width/2:i,""!==p&&Ke.showTooltip(i,s,p,"top")};if(e.settings.isBubble||e.settings.isScatterPlot){for(var f in p='<div class="chart-swatch line"><div class="swatch-caption"><span class="indicator-box"></span>\n            <b>'+d.name+"</b></div>",d)if(d.hasOwnProperty(f))if("object"!==u(d[f]))p+='<div class="swatch-row"><span>'+O[f]+"</span><b>"+s.name+"</b></div>";else{var m=d[f];for(var v in m)m.hasOwnProperty(v)&&(p+='<div class="swatch-row"><span class="text-capitalize">'+O[f][v]+"</span><b>"+R(B[v],m[v])+"</b></div>")}p+="</div>"}if(o&&"function"==typeof o&&!r[l]){p="";var b=!0;a=setInterval(function(){b&&(b=!1,o(function(e){p=e,r[l]=e})),""!==p&&(clearInterval(a),g())},10)}else{o="object"===(void 0===o?"undefined":u(o))?"":o,p=r[l]||o||d.tooltip||s.tooltip||p||"",g();for(var y=document.querySelectorAll("#svg-tooltip .swatch-caption span"),w=0;w<y.length;w++)y[w].style.backgroundColor=Ke.chartColor(w,"line",d)}d3.select(this).attr("r",function(t){return e.settings.isBubble?2+j(t.value.z):i.radiusOnHover})};x||(e.settings.isScatterPlot||d.selectAll("circle").data(s.data).enter().append("circle").attr("class",i.class).attr("cx",function Line: 147 -  =m[0].getBoundingClientRect().top-p.height-10}else{if(l)v='<div class="chart-swatch"><div class="swatch-caption"><b>'+t.name+'</b></div><div class="swatch-row"><div style="background-color:'+(S.target?"transparent":ee(T.target))+';">'+y(S.target,ee(T.target))+"</div><span>"+A.target+"</span><b>"+i(t.target)+'</b></div><div class="swatch-row"><div style="background-color:'+(t.value<0?S.negative?"transparent":ee(T.negative):S.positive?"transparent":ee(T.positive))+';">'+(t.value<0?y(S.negative,ee(T.negative)):y(S.positive,ee(T.positive)))+"</div><span>"+A[t.value<0?"negative":"positive"]+"</span><b>"+i(t.value)+"</b></div></div>";else if(1===a.length)v="<p><b>"+i(t.value)+"</b> "+t.name+"</p>";else{var C=d3.select(this.parentNode).datum().values;for(v='<div class="chart-swatch">',c=0,h=C.length;c<h;c++)u=Ke.chartColor(c,"bar",x[c]),v+='<div class="swatch-row"><div style="background-color:'+(x[c].pattern?"transparent":u)+';">'+y(x[c].pattern,u)+"</div><span>"+C[c].name+"</span><b>"+i(C[c].value)+"</b></div>";v+="</div>",g=C.length>6}p=Ke.tooltipSize(v),r=m[0].getBoundingClientRect().left-p.width/2+m.attr("width")/2,o=b-Ke.tooltip.outerHeight()-25,a.length>1&&(r=this.parentNode.getBoundingClientRect().left-p.width/2+this.parentNode.getBoundingClientRect().width/2,o=this.parentNode.getBoundingClientRect().top-Ke.tooltip.outerHeight()+25)}if(M&&"function"==typeof M&&!P[n]){v="";var k=!0;L=setInterval(function(){k&&(k=!1,M(function(e){v=e,P[n]=e})),""!==v&&(clearInterval(L),w())},10)}else{if(v=P[n]||M||v||"",t.tooltip){var I=t.tooltip.replace("{{value}}",i(t.value));v="<p>"+I+"</p>"}w(g)}}).on("mouseleave",function(){clearInterval(L),Ke.hideTooltip()}).on("click",function(t,i,s){var n=this&&d3.select(this).classed("target-bar"),a=this&&d3.select(this).classed("is-selected"),r=parseInt(d3.select(this.parentNode).attr("data-group-id"),10);if(n)for(var o=d3.selectAll(".bar").nodes(),l=o.length,d=0;d<l;d++){var h=o[d];if(d3.select(h).classed("is-selected")){a=!1;break}}Ke.setSelectedElement({task:a?"unselected":"selected",container:e.element,selector:this,isTrigger:!a,isTargetBar:n,trig Line: 153 -  swatch-row">\n                    <div class="swatch-color">'+b(r[a].pattern,l)+"</div>\n                  <span>"+u[a].name+"</span><b>"+s(u[a].value)+"</b>\n                </div>";h+="</div>"}d>0&&(h='<span class="chart-tooltip-total"><b>'+d+"</b> "+C.translate("Total")+"</span>"+h);var T=v.nodes()[0].getBoundingClientRect().top+$(window).scrollTop(),S=v.nodes()[0].getBoundingClientRect().left+$(window).scrollLeft(),A=!e.settings.isStacked&&u.length>6;if(f&&"function"==typeof f&&!g[n]){h="";var I=!0;p=setInterval(function(){I&&(I=!1,f(function(e){h=e,g[n]=e})),""!==h&&(clearInterval(p),y(S,T,A))},10)}else if(h=g[n]||f||t.tooltip||h||"",y(S,T,A),e.settings.isStacked)for(a=0,o=k.length;a<o;a++){l=Ke.chartColor(a,"bar",D[a]);var E=$("#svg-tooltip").find(".swatch-row").eq(a);D[a].pattern||E.find("div").css("background-color",l),E.find("rect").css("fill",l)}else for(a=0,o=u.length;a<o;a++){l=Ke.chartColor(a,"bar",r[a]);var L=$("#svg-tooltip").find(".swatch-row").eq(a);r[a].pattern||L.find("div").css("background-color",l),L.find("rect").css("fill",l)}}).on("mouseleave",function(){clearInterval(p),Ke.hideTooltip()}).on("click",function(t,i){var s=this&&d3.select(this).classed("is-selected");parseInt(d3.select(this.parentNode).attr("data-group-id"),10);Ke.setSelectedElement({task:s?"unselected":"selected",container:e.element,selector:this,isTrigger:!s,triggerGroup:e.settings.isGrouped,d:t,i:i,type:e.settings.type,dataset:k,isSingle:e.isSingular,isGrouped:e.settings.isGrouped,isStacked:e.settings.isStacked,svg:e.svg,clickedLegend:e.settings.clickedLegend}),s&&e.element.triggerHandler("selected",[d3.select(this).nodes(),{},i])}),e.svg.selectAll(".axis.y text").attr("x",function(){return t?15:-15}),e.svg.selectAll(".axis.x text").attr("class",function(e){return e<0?"negative-value":"positive-value"}),t&&(Ke.isIE||Ke.isIEEdge)&&(e.svg.selectAll("text").attr("transform","scale(-1, 1)"),e.svg.selectAll(".y.axis text").style("text-anchor","start")),v&&e.settings.useLogScale){var j=d3.selectAll(".x .tick text"),G=!1;j.attr("class",function(t,i){var s=Math.round(j.size()/2);i>=s&&!G&&t.toS Line: 158 -  Angle(e),r=a<=Math.PI/4&&a>=0||a>7*Math.PI/4,o=a<=3*Math.PI/4&&a>=Math.PI/4,l=a<=5*Math.PI/4&&a>=3*Math.PI/4,d=a<=7*Math.PI/4&&a>=5*Math.PI/4,c="",h=Ke.formatToSettings(e,t.settings.tooltip);-1===(c=(c=(c=(c=(c=e.data.tooltip||h).replace("{{percent}}",e.data.percentRound+"%")).replace("{{value}}",e.value)).replace("%percent%",e.data.percentRound+"%")).replace("%value%",e.value)).indexOf("<b>")&&(c=(c=c.replace("(","<b>")).replace(")","</b>")),null!=i&&clearTimeout(i),i=setTimeout(function(){!function(){if(""!==c){var e=Ke.tooltipSize(c),t=n.left,i=n.top;r&&(t-=e.width/2,i-=e.height-5,Ke.showTooltip(t,i,c,"top")),o&&(i-=e.height/2,Ke.showTooltip(t,i,c,"right")),l&&(t-=e.width/2,Ke.showTooltip(t,i,c,"bottom")),d&&(t-=e.width-5,i-=e.height/2,Ke.showTooltip(t,i,c,"left"))}}()},300)}}).on("mouseleave",function(){clearTimeout(i),Ke.hideTooltip()}).merge(n).transition().duration(t.settings.animationSpeed).attrTween("d",function(e){this.current=this.current||e;var i=d3.interpolate(this.current,e);return this.current=i(0),function(e){return t.arc(i(e))}}),n.exit().remove(),!s){var a=t.element.parent().width()<520,r=t.settings.showLines;if(!t.settings.showLinesMobile&&r&&(r=!a),t.settings.dotSize=r?2:0,r){var o=t.svg.select(".labels").selectAll("text").data(t.pie(e),t.key);o.enter().append("text").attr("dy",".35em").text(function(e){return Ke.formatToSettings(e,t.settings.lines)}).merge(o).transition().duration(t.settings.animationSpeed).attrTween("transform",function(e){this.current=this.current||e;var i=d3.interpolate(this.current,e);return this.current=i(0),function(e){var s=i(e),n=t.outerArc.centroid(s);return n[0]=t.dims.radius*(t.midAngle(s)<Math.PI?1:-1),n[0]-=t.midAngle(s)<Math.PI?20:-20,"translate("+n+")"}}).styleTween("text-anchor",function(e){this.current=this.current||e;var i=d3.interpolate(this.current,e);return this.current=i(0),function(e){var s=i(e);return t.isRTL?t.midAngle(s)>Math.PI?"start":"end":t.midAngle(s)<Math.PI?"start":"end"}}),o.exit().remove();var l=t.svg.select(".lines").selectAll("polyline").data(t.pie(e),t.key);l.enter().append("polyline").merge(l).transi Line: 163 -  }).attr("cy",function(e,t){return u(e.value)*Math.sin(c*t-Math.PI/2)}).style("fill","none").style("pointer-events","all").on("mouseenter",function(e){if(i.showTooltips){var s=$(this).offset(),a=Ke.formatToSettings(e,t.settings.tooltip);-1===a.indexOf("<b>")&&(a=(a=a.replace("(","<b>")).replace(")","</b>"));var r=Ke.tooltipSize(a),o=s.left,l=s.top;o-=r.width/2-6,l-=r.height+6,null!=n&&clearTimeout(n),n=setTimeout(function(){Ke.showTooltip(o,l,a,"top")},300)}}).on("mouseleave",function(){clearTimeout(n),Ke.hideTooltip()}),i.showTooltips&&Ke.appendTooltip("is-pie"),i.showLegend){i.legendPlacement&&this.element.addClass("has-"+i.legendPlacement+"-legend");var C=t.settings.dataset.map(function(e,i){return{name:e.name,display:"twocolumn",placement:t.settings.legendPlacement,color:a(i)}});this.settings.svg=t.svg,Ke.addLegend(C,"pie",this.settings,this.element)}}else t.element.emptymessage(t.settings.emptyMessage)},setInitialSelected:function(){},handleEvents:function(){var e=this;return this.element.on("updated.radar",function(){e.updated()}),this.settings.redrawOnResize&&($("body").on("resize.radar",function(){e.handleResize()}),this.element.on("resize.radar",function(){e.handleResize()})),this},getSelected:function(){return Ke.selected},setSelected:function(e,t){var i=void 0,s=void 0,n=0,a=this;this.svg.selectAll(".chart-radar-area").each(function(t,r){var o=a.settings.dataset[r];o&&o.data&&n<1&&(void 0!==e.fieldName&&void 0!==e.fieldValue&&e.fieldValue===o[e.fieldName]||void 0!==e.index&&e.index===r||e.elem&&$(this).is(e.elem))&&(n++,i=d3.select(this),s=r)}),n>0&&(t||!i.classed("is-selected"))&&i.on("click").call(i.node(),i.datum(),s)},toggleSelected:function(e){this.setSelected(e,!0)},handleResize:function(){this.width!==this.element.width()&&(this.width=this.element.width(),this.element.is(":visible")&&this.updated())},updated:function(e){return this.settings=m.mergeSettings(this.element,e,this.settings),e&&e.dataset?(this.element.find(".chart-legend").remove(),this.settings.dataset=e.dataset,this.updateData(this.settings.dataset),this):(this.element.empty(),this.build())},tear Line: 183 -  ndered.calendar").on("monthrendered.calendar",function(){e.isSwitchingMonth=!0,e.modalVisible()&&e.removeModal(),e.renderAllEvents(),setTimeout(function(){e.isSwitchingMonth=!1},500)}),this.element.off("change.calendar").on("change.calendar",".checkbox",function(){e.renderAllEvents(!0)}),$(this.monthViewContainer).off("selected.calendar").on("selected.calendar",function(){e.renderSelectedEventDetails()}),this.element.off("click.calendar").on("click.calendar",".calendar-upcoming-event",function(t){var i=t.currentTarget.getAttribute("data-key");e.monthView.selectDay(i)}),this.settings.menuId&&this.element.off("contextmenu.calendar").on("contextmenu.calendar",".calendar-event",function(i){i.preventDefault();var s=$(i.currentTarget);s.popupmenu({attachToBody:!0,menuId:e.settings.menuId,trigger:"immediate",offset:{y:5}}),s.off("selected.calendar").on("selected.calendar",function(e,i){var s=this.getAttribute("data-id");if(t.settings.menuSelected&&t.settings.menuSelected(e,i,s),"delete-event"===i.attr("data-action")&&t.deleteEvent({id:s}),"show-event"===i.attr("data-action")){var n=this.getAttribute("data-key");t.monthView.selectDay(n)}})});var i=function(t,i){e.showEventModal(t,function(t,s){for(var n=t.querySelectorAll("input, textarea, select"),a=0;a<n.length;a++)s[n[a].id]="checkbox"===n[a].getAttribute("type")?n[a].checked:n[a].value;i?e.addEvent(s):e.updateEvent(s)})};return this.element.off("click.calendar").on("click.calendar",".calendar-event",function(t){var s=t.currentTarget.getAttribute("data-id"),n=e.settings.events.filter(function(e){return e.id===s});n&&0!==n.length&&i(n[0],!1)}),this.element.off("dblclick.calendar").on("dblclick.calendar","td",function(t){if(!e.isSwitchingMonth&&!e.modalVisible()){var s=t.currentTarget.getAttribute("data-key"),n=new Date(s.substr(0,4),s.substr(4,2)-1,s.substr(6,2)),a=m.extend({},e.settings.newEventDefaults);a.startKey=s,a.endKey=s,a.starts=n,a.ends=n,e.cleanEventData(a,!1),i(a,!0)}}),this},callOnRenderMonth:function(){var e=this;this.settings.onRenderMonth(this.element,function(t,i){i&&i.length>0&&(e.settings.eventTypes=i,e.renderEve Line: 188 -  h",""),this.slides.length&&setTimeout(function(){t.createControls(),t.handleEvents(),t.initActiveSlide(),t.showCollapsedView()},0))},show:function(e){if(this.isActive){e=void 0!==e?e:this.activeIndex,this.activeIndex=e;var t=e>0?(C.isRTL()?"":"-")+100*e+"%":0;this.controlButtons.removeClass("is-active").eq(e).addClass("is-active"),this.container[0].style.left=t,this.isBulletsNav?(this.element.removeClass("is-bullets-nav-hidden"),this.controlButtons.find("span").addClass("audible")):(this.element.addClass("is-bullets-nav-hidden"),this.controlButtons.find("span").addClass("audible").end().eq(e).find("span").removeClass("audible")),this.isFocus&&this.isBulletsNav&&(this.isFocus=!1,this.controlButtons.eq(e).focus())}},first:function(){this.show(0)},last:function(){this.show(Math.round(this.slides.length/this.slidesToShow)-1)},prev:function(){var e=this,t=void 0;if(t=this.activeIndex>0?this.activeIndex-1:this.settings.loop?Math.round(this.slides.length/this.slidesToShow)-1:0,this.slides[t].isDisabled)return setTimeout(function(){e.prev()},0),this.activeIndex=t,!1;this.show(t)},next:function(){var e=this,t=void 0;if(t=this.activeIndex>=Math.round(this.slides.length/this.slidesToShow)-1?this.settings.loop?0:this.activeIndex:this.activeIndex+1,this.slides[t].isDisabled)return setTimeout(function(){e.next()},0),this.activeIndex=t,!1;this.show(t)},showCollapsedView:function(){if(this.isActive=!0,this.element.addClass("is-active"),this.container[0].style.width=100*this.slides.length+"%",this.settings.slidesToShow>1&&this.slidesJQ.eq(0).width()*this.slidesToShow>this.element.width())this.responsiveSlidesToShow(this.slidesToShow-1);else{for(var e=0,t=this.slidesJQ.length;e<t;e++)this.slidesJQ[e].style.width=100/this.slidesToShow/this.slides.length+"%";this.show()}},showExpandedView:function(){this.isActive=!1,this.element.removeClass("is-active"),this.element&&this.element[0]&&(this.element[0].style.width=""),this.container&&this.container[0]&&(this.container[0].style.width="",this.container[0].style.left="")},initActiveSlide:function(){if(this.slides[this.activeIndex].isDisabled)return t Line: 193 -  .element.css({width:e-2-this.swatch.width()})}},getHexValue:function(){return this.element.attr("value")},getLabelValue:function(){return this.settings.showLabel?this.element.val():this.getLabelFromHex(this.element.val())},addAria:function(){this.element.attr({role:"combobox","aria-autocomplete":"list"}),$('label[for="'+this.element.attr("id")+'"]').append('<span class="audible">'+C.translate("UseArrow")+"</span>")},toggleList:function(){var e=this,t=$("#colorpicker-menu");if(!(this.element.is(":disabled")||this.element.prop("readonly")&&this.settings.editable||t.length&&this.isPickerOpen)){t=this.updateColorMenu();var i={ariaListbox:!0,menuId:"colorpicker-menu",trigger:"immediate",attachToBody:!0,placementOpts:{containerOffsetX:10,containerOffsetY:10,parentXAlignment:C.isRTL()?"right":"left",strategies:["flip","nudge","shrink"]},offset:{x:0,y:10}};this.element.popupmenu(i).on("open.colorpicker",function(){e.element.parent().addClass("is-open"),e.isPickerOpen=!0}).on("close.colorpicker",function(){[].slice.call(e.menu[0].querySelectorAll("a")).forEach(function(e){var t=$(e).data("tooltip");t&&t.hide()}),t.on("destroy.colorpicker",function(){e.element.off("open.colorpicker selected.colorpicker close.colorpicker"),e.menu.off("destroy.colorpicker").remove()}),e.element.parent().removeClass("is-open"),e.isPickerOpen=!1,e.element.trigger("listclosed","select")}).on("selected.colorpicker",function(t,i){e.isEditor||e.setColor(i.data("value"),i.data("label")),e.element.focus(),e.element.trigger("change")}),this.menu=$("#colorpicker-menu"),setTimeout(function(){e.menu.find(".is-selected").focus()},1)}},setColor:function(e,t){e=e||"";var i=this.settings,s=e,n=t;"#"!==e.substr(0,1)&&""!==e&&(s="#"+s);var a=/(^#[0-9a-fA-F]{6}$)|(^#[0-9a-fA-F]{3}$)/i.test(s);if(i.showLabel&&t===i.clearableText)this.setValueOnField({hex:s,label:i.clearableText,isEmpty:!0});else{if(!a){if(!i.showLabel)return s="#"!==s?s:"",void this.setValueOnField({hex:s,invalid:!0});n=e.replace("#",""),s=this.getHexFromLabel(n)}n||(n=this.getLabelFromHex(s)),this.setValueOnField({hex:s,label:n})}},setValueOnField:function Line: 198 -  e"),e.element.triggerHandler("aftercollapse",[e.element]),e.content[0].style.display="none"}).animateClosed(),this.applyIE11Fix())},applyIE11Fix:function(){var e=this,t=$("html").hasClass("ie11");setTimeout(function(){t&&e.element.hasClass("is-expanded")?e.element.css("min-height",e.element.children(".expandable-pane").outerHeight(!0)+e.element.children(".expandable-footer").outerHeight(!0)):t&&!e.element.hasClass("is-expanded")&&e.element.css("min-height","auto")},300)},resize:function(){var e=this;$("body").on("resize.expandablearea",function(){e.applyIE11Fix()})},disable:function(){this.element.addClass("is-disabled")},enable:function(){this.element.removeClass("is-disabled")},destroy:function(){this.header.children("a").off(),this.header.off(),this.header.removeAttr("aria-controls").removeAttr("aria-expanded").removeAttr("id"),this.content.removeAttr("id").removeClass("no-transition"),$.removeData(this.element[0],"expandablearea")},updated:function(e){return this.settings=m.mergeSettings(this.element,e,this.settings),this},handleEvents:function(){var e=this;return this.expander.on("click.expandablearea",function(t){e.isDisabled()||(t.preventDefault(),e.toggleExpanded())}),this.header.on("keydown.expandablearea",function(t){e.handleKeys(t)}).on("focus.expandablearea",function(t){e.handleFocus(t)}).on("blur.expandablearea",function(t){e.handleBlur(t)}),this}},$.fn.expandablearea=function(e){return this.each(function(){var t=$.data(this,"expandablearea");t?t.updated(e):t=$.data(this,"expandablearea",new kt(this,e))})};var $t={breakpoint:"phone-to-tablet",trigger:null,expandedText:C.translate("ShowLess"),collapsedText:C.translate("ShowMore")};function Tt(e,t){this.settings=m.mergeSettings(e,t,$t),this.element=$(e),this.init()}Tt.prototype={init:function(){return this.build().handleEvents()},build:function(){var e=this.element[0].classList;e.contains("composite-form")||e.add("composite-form");var t=this.element.find(".expandable-area");return t.length?(this.hasSummary=!0,this.expandableArea=t,this.expandableAreaAPI=this.expandableArea.data("expandablearea"),this.expandableArea Line: 205 -  rent,parent:this.activeElement,placement:this.settings.placement,strategy:"flip"}),this.setTargetContainer()},handleEvents:function(){var e=this,t=400,i=void 0;function s(){clearTimeout(i),e.show()}function n(){clearTimeout(i),e.hide()}function a(){e.visible?s():n()}"hover"!==this.settings.trigger||this.settings.isError||(this.element.is(".dropdown, .multiselect, span.longpress-target")?this.activeElement:this.element).on("mouseenter.tooltip",function(){e.isTouch||(clearTimeout(i),i=setTimeout(function(){e.element.is(":visible")&&e.show()},t))}).on("mouseleave.tooltip",function(){clearTimeout(i),i=setTimeout(function(){e.hide()},t)}).on("click.tooltip",function(){e.isTouch||s()}).on("longpress.tooltip",function(){s()}).on("updated.tooltip",function(){e.updated()}),"click"===this.settings.trigger&&this.element.on("click.tooltip",function(){a()}),"immediate"===this.settings.trigger&&(i=setTimeout(function(){a()},1)),"focus"===this.settings.trigger&&this.element.on("focus.tooltip",function(){s()}).on("blur.tooltip",function(){e.settings.keepOpen||n()}),$(window).on("orientationchange.tooltip",function(){e.visible&&n()},!1)},setContent:function(e,t){var i=this,n=this.settings.content,a=null==e;function r(){!0!==t&&(i.addAria(),i.render())}if(a&&null==n)return!1;if("function"==typeof n&&(e=n),a&&(e=n),e===this.content)return r(),!0;if(e instanceof $&&e.length)return this.content=e.addClass("hidden"),r(),!0;if("string"==typeof e){if(!e.length)return!1;if(0===(e=C.translate(e,!0)||e).indexOf("#")){var o=$(""+e);return!!o.length&&(this.content=o,r(),!0)}}else{if("function"!=typeof e)return!1;var l=e.call(this.element);if(!l||"string"!=typeof l||!l.length)return!1;e=l}return this.content=s.sanitizeHTML(e),this.content="<p>"+this.content+"</p>",r(),!0},render:function(){return this.isPopover?this.renderPopover():this.renderTooltip()},renderTooltip:function(){var e=this.tooltip[0].querySelectorAll(".tooltip-title")[0],t=this.tooltip[0].querySelectorAll(".tooltip-content")[0],i=this.settings.extraClass,s=this.content,a="tooltip is-hidden";i&&(a+=" "+i),this.tooltip[0].setAttribute("class Line: 207 -  peof this.settings.beforeShow?void window[this.settings.beforeShow](s,this.element):void this.settings.beforeShow(s,this.element)}if(!1!==this.setContent(this.content)&&!1!==this.element.triggerHandler("beforeshow",[this.tooltip])){this.tooltip[0].removeAttribute("style"),this.tooltip[0].classList.add(this.settings.placement),(this.settings.isError||this.settings.isErrorColor)&&this.tooltip[0].classList.add("is-error"),this.position(),m.fixSVGIcons(this.tooltip),this.element.trigger("show",[this.tooltip]);var n=this.isTouch?"touchend":"mouseup";setTimeout(function(){$(document).on(n+".tooltip-"+i.uniqueId,function(e){var t=$(e.target);i.settings.isError||"focus"===i.settings.trigger||t.is(i.element)&&t.is("svg.icon")||$("#editor-popup").length&&$("#colorpicker-menu").length||(0===t.closest(".popover").length&&0===t.closest(".dropdown-list").length&&i.hide(),1===t.closest(".popover").length&&t.closest(".popover").not(".monthview-popup").length&&i.element.prev().is(".datepicker")&&i.hide(e))}).on("keydown.tooltip-"+i.uniqueId,function(e){(27===e.which||i.settings.isError)&&i.hide()}),i.settings.isError&&!i.element.is(":visible, .dropdown")&&i.element.is("[aria-describedby]")&&i.hide(),void 0===window.orientation&&$("body").on("resize.tooltip",function(){i.hide()}),$("body").on("scroll.tooltip",function(){i.hide()}),i.element.closest(".modal-body-wrapper").on("scroll.tooltip",function(){i.hide()}),i.element.closest(".scrollable").on("scroll.tooltip",function(){i.hide()}),i.element.closest(".datagrid-body").on("scroll.tooltip",function(){i.hide()}),i.settings.isError&&i.tooltip.on("click.tooltip",function(){i.hide()}),i.element.trigger("aftershow",[i.tooltip])},400)}}},setTargetContainer:function(){var e=$("body");this.scrollparent=this.element.closest(".page-container.scrollable"),this.scrollparent.length&&(e=this.scrollparent),this.settings.parentElement&&(e=this.settings.parentElement),e[0].appendChild(this.tooltip[0])},handleAfterPlace:function(e,t){this.tooltip.data("place").setArrowPosition(e,t,this.tooltip),this.tooltip.triggerHandler("tooltipafterplace",[t])},position:fun Line: 208 -  etTargetContainer(),this.tooltip[0].classList.remove("is-hidden");var e=this,t=this.isPopover?20:10,i=this.settings.placementOpts||{},s=$.extend({},{x:0,y:t,container:this.scrollparent,containerOffsetX:i.containerOffsetX||this.settings.offset.left,containerOffsetY:i.containerOffsetY||this.settings.offset.top,parent:i.parent||this.activeElement,placement:i.placement||this.settings.placement,strategies:["flip","nudge"]},i);return"left"!==s.placement&&"right"!==s.placement||(s.x=t,s.y=0),this.tooltip.one("afterplace.tooltip",function(t,i){e.handleAfterPlace(t,i)}),this.tooltip.data("place")?this.tooltip.data("place").place(s):(this.tooltip.place(s),this.tooltip.data("place").place(s)),this},close:function(){return this.hide()},hide:function(e){this.settings.keepOpen&&!e||!this.visible||(this.isInPopup?this.settings.content.addClass("hidden"):(this.tooltip[0].classList.add("is-hidden"),this.tooltip[0].style.left="",this.tooltip[0].style.top="",this.tooltip.find(".arrow").removeAttr("style"),this.detachOpenEvents(),0===$(".popover").not(".is-hidden").length&&($(document).off("mouseup.tooltip keydown.tooltip"),$("body").off("resize.tooltip")),this.element.triggerHandler("hide",[this.tooltip])))},updated:function(e){e&&(this.settings=m.mergeSettings(this.element,e,this.settings));var t=this;return"immediate"===t.settings.trigger?setTimeout(function(){t.show()},100):t.setContent(),this},detachOpenEvents:function(){this.tooltip.off("click.tooltip"),$(document).off(["keydown.tooltip-"+self.uniqueId,"mouseup.tooltip-"+self.uniqueId,"touchend.tooltip-"+self.uniqueId].join(" ")),$("body").off(["resize.tooltip","scroll.tooltip"].join(" ")),this.element.closest(".modal-body-wrapper").off("scroll.tooltip"),this.element.closest(".scrollable").off("scroll.tooltip"),this.element.closest(".datagrid-body").off("scroll.tooltip")},teardown:function(){return this.description.remove(),this.descriptionId=void 0,this.activeElement=void 0,this.element.removeAttr("aria-describedby").removeAttr("aria-haspopup"),this.tooltip.hasClass("is-hidden")||this.hide(),this.tooltip&&this.tooltip.data("place")&&this. Line: 211 -  =this.element.attr("data-close-on-select");b&&!this.settings.closeOnSelect&&(this.settings.closeOnSelect="true"===b);var y=this.element.attr("data-no-search");y&&!this.settings.noSearch&&(this.settings.noSearch="true"===y);for(var w=["-xs","-sm","-mm","-md","-lg"],x=this.element.attr("class"),C=null,k=0;k<w.length;k++)C=w[k],x.match(C)&&this.pseudoElem.addClass("dropdown"+C);return this.dataset=[],this.listfilter=new Re({filterMode:this.settings.filterMode}),this.setListIcon(),this.setDisplayedValues(),this.setInitial(),this.setWidth(),this.toggleTooltip(),this.element.triggerHandler("rendered"),this.handleEvents()},inputTimer:function(){if(this.inputTimeout)return!1;var e=this;return this.inputTimeout=setTimeout(function(){clearTimeout(e.inputTimeout),e.inputTimeout=null},100),!0},setWidth:function(){var e=this.element[0].style;e.width&&(this.pseudoElem[0].style.width=e.width),"absolute"===e.position&&(this.pseudoElem[0].style.position="absolute",this.pseudoElem[0].style.left=e.left,this.pseudoElem[0].style.top=e.top,this.pseudoElem[0].style.bottom=e.bottom,this.pseudoElem[0].style.right=e.right)},setItemIcon:function(e){if(!e.icon)return e.isIcon=!1,e.html="",void this.listIcon.items.push(e);"object"===u(e.icon)&&(e.obj=e.icon,e.icon=e.icon.icon,e.obj.color?0===e.obj.color.indexOf("#")?e.specColor=e.obj.color:e.classList=" "+e.obj.color:e.obj.class&&(0===e.obj.class.indexOf("#")?e.specColor=e.obj.class:e.classList=" "+e.obj.class),e.obj.colorOver?0===e.obj.colorOver.indexOf("#")?e.specColorOver=e.obj.colorOver:e.classListOver=" "+e.obj.colorOver:e.obj.classOver&&(0===e.obj.classOver.indexOf("#")?e.specColorOver=e.obj.classOver:e.classListOver=" "+e.obj.classOver)),e.isIcon=e.icon&&e.icon.length,e.classList&&e.classList.length&&(e.isClassList=!0),e.classListOver&&e.classListOver.length&&(e.isClassListOver=!0),e.html=$.createIcon({icon:e.isIcon?e.icon:"",class:"listoption-icon"+(e.isClassList?" "+e.classList:"")}),"swatch"===e.icon&&(e.isSwatch=!0,e.html='<span class="swatch '+(e.isClassList?e.classList:"")+'"></span>'),this.listIcon.items.push(e)},setListIcon:function(){var  Line: 218 -  this.selectBlank(),"Backspace"===i&&(e.stopPropagation(),e.preventDefault()),!0):s||"Tab"===i?!this.settings.noSearch||!this.isOpen()||this.handleKeyDown(t,e):(this.handleAutoComplete(e),!0)},handleAutoComplete:function(e){var t=this;if(!this.isLoading()){var i=this;this.timer&&clearTimeout(this.timer),"input"===e.type?this.filterTerm=this.searchInput.val():(this.filterTerm+=$.actualChar(e).toLowerCase(),e.key===this.filterTerm||e.key.toLowerCase()!==this.filterTerm||i.settings.noSearch||(this.filterTerm=e.key)),this.timer=setTimeout(function(){i.settings.noSearch?i.selectStartsWith(i.filterTerm):(t.searchKeyMode=!0,i.isOpen()?s():i.open(s))},i.settings.delay)}function s(){""===i.filterTerm?i.resetList():i.filterList(i.filterTerm.toLowerCase())}},isControl:function(e){return e>7&&e<48||e>90&&e<94||e>111&&e<146},activate:function(e){var t=this,i=this.pseudoElem;(e||t.isMobile())&&(i=this.searchInput),e&&(i.hasClass("is-readonly")||!0===i.prop("readonly"))||(t.isMobile()||t.filterTerm||(i[0].setSelectionRange?i[0].setSelectionRange(0,i[0].value.length):"INPUT"===i[0].tagName&&i[0].select()),i[0].focus())},getSearchRegex:function(e){var t=void 0;try{t=new RegExp("("+e+")","i")}catch(e){t=/[\s\S]*/i}return t},getOptionText:function(e){var t="";return e||(e=this.element.find("option:selected")),e.each(function(){t.length>0&&(t+=", "),t+=$(this).text().trim()}),t},open:function(e){var t=this;function i(){t.isMobile()&&$(".tooltip:not(.is-hidden)").hide(),t.updateList(),t.openList(),e&&"function"==typeof e&&e.call(this)}this.inputTimer()&&(this.element.is(":disabled")||this.pseudoElem.hasClass("is-disabled")||this.pseudoElem.hasClass("is-readonly")||t.callSource(i)||i())},openList:function(){var e=this.previousActiveDescendant?this.list.find('.dropdown-option[data-val="'+this.previousActiveDescendant.replace(/"/g,"/quot/")+'"]'):this.list.find(".is-selected"),t=this,i=10,s=!0,n=void 0;this.touchPrevented=!1,e.length>0&&(s=!0),"ios"===l.os.name&&$("head").triggerHandler("disable-zoom"),$("select").each(function(){var e=$(this).data();e.dropdown&&e.dropdown.closeList("cancel")}),$(".p Line: 219 -  en").filter(function(){return 0===$(this).parents(".popupmenu").length}).each(function(){var e=$(this).data("trigger");if(e&&e.length){var t=$(this).data("trigger").data("popupmenu");t&&"function"==typeof t.close&&t.close()}}),this.isOpen()||this.list.appendTo("body"),this.list.show();var a=1===this.element.closest(".field-short").length;if(this.list.addClass(a?"dropdown-short":""),this.pseudoElem.attr("aria-expanded","true").addClass("is-open"),this.searchInput.attr("aria-activedescendant",e.children("a").attr("id")),this.isInGrid=1===this.pseudoElem.closest(".datagrid-row").length,this.pseudoElem.parent().hasClass("is-inline")&&(this.isInGrid=!1),this.isInGrid){var r=this.pseudoElem.closest(".datagrid").attr("class").replace("datagrid","");this.list.addClass("datagrid-dropdown-list "+r)}1===this.pseudoElem.closest(".datagrid-filter-wrapper").length&&this.list.addClass("datagrid-filter-dropdown");var o=this.settings.cssClass;if(o&&"string"==typeof o&&this.list.addClass(o),this.position(),this.settings.maxWidth&&this.list.css("max-width",this.settings.maxWidth+"px"),this.filterTerm)this.searchInput.val(this.filterTerm);else{var d=this.pseudoElem.find("span:not(.audible)").contents().eq(1).text().trim();this.searchInput.val(d),this.element.attr("placeholder")&&this.pseudoElem.find("span").not(".audible").attr("data-selected-text","")}var c=this.settings.multiple;function h(e){return e.closest(".dropdown, .multiselect").length>0||e.closest(".dropdown-list").length>0||!0===t.touchmove}function u(e){var i=$(e.target);if(t.touchPrevented||h(i)&&!i.is(".icon"))return e.preventDefault(),void(t.touchPrevented=!1);t.closeList("cancel")}this.highlightOption(e,c),this.settings.multiple&&this.listUl.find(".is-selected").length>0&&(this.highlightOption(this.listUl.find(".dropdown-option").eq(0)),setTimeout(function(){t.listUl.scrollTop(0)},0)),this.settings.multiple||s||this.searchInput.val(e.find("a").text()),this.handleSearchEvents(),this.activate(!0),this.element.trigger("listopened"),this.isMobile()&&t.searchInput.on("keypress.dropdown",function(e){13===e.which&&t.closeList("select")} Line: 220 -  eClass("dropdown-tall").on("touchend.list click.list","li",function(e){if(!t.touchPrevented){var i=t.selectListItem($(this));e.preventDefault(),i&&e.stopPropagation()}}).on("mouseenter.list","li",function(){t.highlightOption($(this),!0)}),setTimeout(function(){t.list.addClass("is-closable")},100),$(document).on("touchstart.dropdown",function(e){t.touchPrevented=!1,n={x:e.originalEvent.touches[0].pageX,y:e.originalEvent.touches[0].pageY},$(document).on("touchmove.dropdown",function(e){var s=e.originalEvent.touches[0].pageX,a=e.originalEvent.touches[0].pageY;(s>=n.x+i||s<=n.x-i||a>=n.y+i||a<=n.y-i)&&(t.touchPrevented=!0)})}).on("touchend.dropdown touchcancel.dropdown",function(e){if($(document).off("touchmove.dropdown"),e.preventDefault(),t.touchPrevented)return e.stopPropagation(),!1;u(e)}).on("click.dropdown",u);var p=$(".modal.is-visible .modal-body-wrapper"),g=t.element.closest(".scrollable").length?t.element.closest(".scrollable"):$(document);g=t.element.closest(".scrollable-y").length?t.element.closest(".scrollable-y"):g,(g=p.length?p:g).on("scroll.dropdown",function(e){var i=$("*:focus");t.touchPrevented||h($(e.target))||i.is(".timepicker")?t.touchPrevented=!1:t.closeList("cancel")}),$("body").on("resize.dropdown",function(){t.position(),void 0===window.orientation&&t.closeList("cancel")}),void 0!==window.orientation&&$(window).on("orientationchange.dropdown",function(){t.closeList("cancel")}),"ios"===l.os.name&&$("head").triggerHandler("enable-zoom")},position:function(){var e=this,t={parentXAlignment:"left",placement:"bottom",strategies:["flip","shrink-y"]};this.list[0].removeAttribute("style"),this.listUl[0].removeAttribute("style");var i=this.pseudoElem;this.isInGrid&&(i=this.element.closest(".datagrid-cell-wrapper"));var s=window.getComputedStyle(i[0]),n=2*parseInt(s.borderLeftWidth,10),a=Math.round(parseInt(i[0].clientWidth,10)+n);this.searchInput[0].style.cssText="width: "+a+"px !important";var r=Math.round(this.list.width())<=a;this.searchInput[0].style.width="",t.parent=i,t.useParentWidth=r;var o=window.devicePixelRatio>1,d="chrome"===l.browser.name;t.y=-(parseI Line: 227 -  remove(),this.listfilter.destroy(),this.element.removeAttr("style");var e=document.body.querySelector("#dropdown-list");e&&this.isOpen()&&e.parentNode.removeChild(e)},handleEvents:function(){var e=this,t=this;this.pseudoElem.on("keydown.dropdown",function(t){return e.handlePseudoElemKeydown(t)}).on("click.dropdown",function(e){e.originalEvent.ctrlKey&&e.originalEvent.shiftKey||e.stopPropagation()}).on("mouseup.dropdown",function(e){2!==e.button&&t.toggle()}).on("touchend.dropdown touchcancel.dropdown",function(e){e.stopPropagation(),t.toggle(),e.preventDefault()}),t.element.on("activated.dropdown",function(){t.label.trigger("click")}).on("updated.dropdown",function(e){e.stopPropagation(),t.updated()}).on("openlist.dropdown",function(){t.toggle()}),t.element.closest("form").on("reset.dropdown",function(){setTimeout(function(){t.element.triggerHandler("updated")},1)}),this.label.on("click",function(){t.pseudoElem.focus()})}},$.fn.dropdown=function(e){return this.each(function(){var t=$.data(this,"dropdown");t?t.updated(e):t=$.data(this,"dropdown",new Pt(this,e))})};var Mt=["standard","range"],Bt=function(){return{locale:"",timeFormat:void 0,minuteInterval:5,secondInterval:5,mode:Mt[0],roundToInterval:!0,parentElement:null,returnFocus:!0}};function Rt(e,t){this.element=$(e),this.settings=m.mergeSettings(this.element[0],t,Bt),this.init()}Rt.prototype={init:function(){this.setLocale(),this.settings.locale||this.setCurrentCalendar().build()},setLocale:function(){var e=this;this.locale=C.currentLocale,this.settings.locale&&C.getLocale(this.settings.locale).done(function(t){e.locale=C.cultures[t],e.setCurrentCalendar()})},setCurrentCalendar:function(){return this.currentCalendar=C.calendar(this.locale.name,this.settings.calendarName),void 0===this.settings.timeFormat&&(this.settings.timeFormat=this.currentCalendar.timeFormat||"h:mm a"),this.isRTL="right-to-left"===this.locale.direction,this.build(),this},setup:function(){function e(e,t){(!t||["minute","second"].indexOf(t)<0)&&(t="minute");var i=Bt()[t+"Interval"];if(void 0===e||isNaN(e))return i;var s=parseInt(e,10);return s>0&&s<60? Line: 239 -  t").find(".icon-error")[t>i?"addClass":"removeClass"]("lower-opacity")}},calculateTextWidth:function(e,t){this.canvas=this.canvas||(this.canvas=document.createElement("canvas"));var i=this.canvas.getContext("2d");return i.font=t||"14px arial",i.measureText(e).width},attachEvents:function(){var e=this,t="[data-validate],[data-validation]";this.inputs.each(function(){var e=$(this),t=e.attr("data-validate")||e.attr("data-validation");t&&t.indexOf("required")>-1&&e.addClass("required")}),this.inputs.filter("input, textarea, div").filter(t).not("input[type=checkbox], input[type=file]").each(function(){var t=$(this),i=t.attr("data-validation-events"),s=e.extractEvents(i||"blur.validate change.validate keyup.validate");s.indexOf("enter.validate")>-1&&t.off("keypress.enter.validate").on("keypress.enter.validate",function(t){var i=$(this);13===t.which&&e.validate(i,!0,t)}),t.off(s).on(s,function(i){if("keyup"===i.type){if(9===i.keyCode)return;e.setErrorIconOpacity(t)}var s=$(this),n=s.data("handleEvent"+[i.type||""]);s.is("[readonly]")&&!s.parent().is(".field-fileupload")||n&&n.type===i.type&&"validate"===i.handleObj.namespace&&!s.closest(".modal:visible").length||(s.data("handleEvent"+[i.type||""],i.handleObj),setTimeout(function(){s.closest(".modal-engaged").length&&!s.closest(".modal-body").length||e.validate(t,!0,i)},300))})}),this.inputs.filter("input[type=checkbox]").filter(t).off("click.validate").on("click.validate",function(t){e.validate($(this),!0,t)}),this.inputs.filter(":radio").off("click.validate").on("click.validate",function(t){var i=$(this).parent().find(".radio").first();e.validate(i,!0,t)});var i=this.inputs.filter("select").filter(t);if(i.length&&(i.off("change.validate listopened.validate listclosed.validate").on("change.validate",function(t){e.validate($(this),!0,t)}).on("listopened.validate",function(){var e=$(this),t=e.data("tooltip");e.next(".dropdown-wrapper").next(".error-message").hide(),t&&document.activeElement===e.data("dropdown").searchInput[0]&&t.hide(),$("#validation-tooltip").hide()}).on("listclosed.validate",function(){var e=$(this),t=e.data("toolti Line: 240 -  dropdown");l.features.touch&&(i.pseudoElem.focus(),setTimeout(function(){i.pseudoElem.blur()},100)),i&&i.wrapper&&(t=i.wrapper.find(".icon-error").data("tooltip")),e.next(".dropdown-wrapper").next(".error-message").show(),t&&document.activeElement!==e.data("dropdown").searchInput[0]&&t.show()}),i.filter(function(){return void 0!==$(this).data("dropdown")}).each(function(){$(this).data("dropdown").pseudoElem.off("blur.validate").on("blur.validate",function(t){var i=$(this).closest(".field, .field-short").find("select");e.validate(i,!0,t)})})),this.element.is("form")&&this.element.attr("data-validate-on")){this.element.off("submit.validate").on("submit.validate",function t(i){i.stopPropagation(),i.preventDefault(),e.validateForm(function(i){e.element.off("submit.validate"),e.element.triggerHandler("validated",i),e.element.data("isValid",i),e.element.on("submit.validate",t)})})}},validateForm:function(e){var t,i=this,s=[];i.inputs=this.element.find(i.fields),i.inputs.each(function(e){var t=$(this);if(t.attr("data-validate")){if("true"===t.attr("data-disable-validation")||t.hasClass("disable-validation"))return;for(var n=i.validate(t,!1,e),a=0;a<n.length;a++)s.push(n[a])}}),(t=$).when.apply(t,s).then(function(){e(!0)},function(){e(!1)})},setModalPrimaryBtn:function(e,t){var i=e.closest(".modal").find("[data-validate]:visible, select[data-validate], :checkbox[data-validate]"),s=!0;i.length>0&&i.each(function(){var e=$(this);if(!(e.closest(".datagrid-filter-wrapper").length>0)){var t=null!==e[0].offsetParent;e.is(".required")&&(t&&e.is(".editor")&&!e.html()&&(s=!1),!t&&!e.is("select, :checkbox")||e.val()||e.is(".editor")||(s=!1)),!t&&!e.is("select, :checkbox")||e.isValid()||(s=!1)}}),s?t.removeAttr("disabled"):t.attr("disabled","disabled")},value:function(e){return e.is("input[type=checkbox]")?e.prop("checked"):e.is("div")?e[0].innerHTML:e.val()},getTypes:function(e,t){var i=this.filterValidations(e.attr("data-validation-events"),t.type),s=void 0;return s=e.is("input.dropdown")&&e.prev().prev("select").attr("data-validate")?e.prev().prev("select").attr("data-validate").split(" "):e Line: 245 -  "===t.type&&i&&(e.triggerHandler("valid",{field:e,message:""}),e.closest("form").triggerHandler("valid",{field:e,message:""})),o&&(e.removeClass(t.type+" custom-icon").data("isValid",!0),(e.hasClass("dropdown")||e.hasClass("multiselect"))&&(e.next().next().removeClass(t.type+" custom-icon"),e.next().find("div.dropdown").removeClass(t.type+" custom-icon")),e.is(":radio")&&this.toggleRadioMessage(e,"",t.type,"",!1),e.hasClass("spinbox")&&e.closest(".spinbox-wrapper").removeClass(t.type+" custom-icon"),e.hasClass("colorpicker")&&e.parent(".colorpicker-container").removeClass(t.type),e.closest(".field-fileupload").length>0&&e.closest(".field-fileupload").find("input."+t.type).removeClass(t.type),"tooltip"===e.attr("data-"+t.type+"-type"))){var l=e.closest(".field, .field-short").find(".icon-error").data("tooltip");l&&l.destroy(),this.inputs&&this.inputs.filter("input, textarea").off("focus.validate"),e.parent().find(".dropdown-wrapper > .icon-"+t.type).off("click.validate").remove(),e.parent().find(".icon-"+t.type).remove(),e.next(".icon-"+t.type).off("click.validate").remove(),e.parent(".field, .field-short").find(".icon-"+t.type).remove(),e.next(".inforCheckboxLabel").next(".icon-"+t.type).remove()}}},removePositive:function(e){$(".icon-success",e.parent(".field, .field-short")).remove()},resetForm:function(e){var t=e.find("input, select, textarea");t.removeClass("error"),e.find(".error").removeClass("error"),e.find(".icon-error").remove(),e.find(".icon-success").remove(),e.find(".error-message").remove(),t.removeClass("alert"),e.find(".alert").removeClass("alert"),e.find(".icon-alert").remove(),e.find(".alert-message").remove(),t.removeClass("info"),e.find(".info").removeClass("info"),e.find(".icon-info").remove(),e.find(".info-message").remove(),setTimeout(function(){$("#validation-errors").addClass("is-hidden")},300),t.data("isDirty",!1).removeClass("isDirty"),e.find(".isDirty").removeClass("isDirty"),e.is("form")&&e[0].reset();var i=$.fn.validation.ValidationTypes;Object.keys(i).forEach(function(e){t.removeData(e+"message")})},isFormValid:function(e){if($(e).find(".error-me Line: 248 -  .autoSize){var e=this.element[0];e.classList.add("input-auto"),e.style.width=w.textWidth(e.value,16)+45+"px"}},addAria:function(){this.label=$('label[for="'+this.element.attr("id")+'"]'),this.label.append('<span class="audible">'+C.translate("PressDown",this.locale.name)+"</span>")},handleKeys:function(e){var t=this,i=this.settings;if(e.is("#monthview-popup"))return e.off("keydown.datepicker").on("keydown.datepicker",".monthview-table",function(e){var i=!1,s=e.keyCode||e.charCode||0;return 9===s&&(t.containFocus(e),i=!0),27===s&&(t.closeCalendar(),t.element.focus(),e.stopImmediatePropagation(),i=!0),84===s&&(t.closeCalendar(),t.element.focus(),i=!0),!i||(e.stopPropagation(),e.preventDefault(),!1)}),void e.off("keydown.datepicker-tab").on("keydown.datepicker-tab","td, input, div.dropdown, button",function(e){return 9!==(e.keyCode||e.charCode||0)||(i.range.useRange&&$(e.target).is(".next")?t.calendarAPI.days.find("td:visible:last").attr("tabindex",0).focus():t.containFocus(e),e.stopPropagation(),e.preventDefault(),!1)});e.off("keydown.datepicker").on("keydown.datepicker",function(e){var i=!1,s=e.keyCode||e.charCode||0;return 40!==s||t.isOpen()||(i=!0,t.openCalendar(),setTimeout(function(){t.setFocusAfterOpen()},200)),84===s&&(i=!0,t.setToday()),!i||(e.stopPropagation(),e.preventDefault(),!1)})},containFocus:function(e){var t=e.shiftKey,i=this.popup.find(":focusable"),s=i.index($(":focus"));s=t?s-1<0?i.length:s-1:s+1>=i.length?0:s+1;var n=i.eq(s);n.focus(),n.is("td")&&(n.addClass("is-selected"+(this.settings.range.useRange?" range":"")),this.currentDate.setDate(n.text()),this.currentDate.setMonth(this.calendar.find(".month").attr("data-month")),this.insertDate(this.currentDate),n.focus())},setFormat:function(){var e=this.settings,t="object"===(void 0===C?"undefined":u(C))&&this.currentCalendar.dateFormat?this.currentCalendar.dateFormat:null,i="object"===(void 0===C?"undefined":u(C))&&this.currentCalendar.timeFormat?this.currentCalendar.timeFormat:null;"object"===(void 0===t?"undefined":u(t))&&void 0!==t.short&&(t=t.short),"locale"===e.dateFormat?this.pattern=t+(e.showTime?" "+(e Line: 250 -  ,this.locale.name)+"\n        </button>\n      </div>"),i.hideDays&&(this.footer=$('<div class="popup-footer">\n          <button type="button" class="select-month btn-tertiary">\n            '+C.translate("Select",this.locale.name)+"\n          </button>\n        </div>")),i.hideButtons&&(this.footer=$("")),i.showTime&&(void 0===i.timeFormat?s.timeFormat=this.pattern.slice(this.pattern.indexOf(" ")).trim():s.timeFormat=i.timeFormat,void 0!==i.minuteInterval&&(s.minuteInterval=i.minuteInterval),void 0!==i.secondInterval&&(s.secondInterval=i.minuteInterval),void 0!==i.mode&&(s.mode=i.mode),void 0!==i.roundToInterval&&(s.roundToInterval=i.roundToInterval)),this.calendarContainer=$('<div class="monthview-container"></div>'),this.setValueFromField(),this.settings.showTime&&(""===this.element.val()&&this.currentDate&&this.currentDate.getDate()&&!this.settings.useCurrentTime&&(this.currentDate.setHours(0),this.currentDate.setMinutes(0),this.currentDate.setSeconds(0)),s.parentElement=this.timepickerContainer,s.locale=this.settings.locale,this.time=this.getTimeString(this.currentDate,this.show24Hours),this.timepicker=this.timepickerContainer.timepicker(s).data("timepicker"),this.timepickerContainer.find(".dropdown").dropdown(),this.timepickerContainer.on("change.datepicker",function(){e.currentDate=e.setTime(e.currentDate),e.setValue(e.currentDate,!0,!0)}),setTimeout(function(){e.timepicker.initValues=e.timepicker.getTimeFromField(e.time),e.timepicker.afterShow(e.timepickerContainer)},1)),this.todayDate=new Date,this.todayMonth=this.todayDate.getMonth(),this.todayYear=this.todayDate.getFullYear(),this.todayDay=this.todayDate.getDate(),this.isIslamic&&(this.todayDateIslamic=this.conversions.fromGregorian(this.todayDate),this.todayYear=this.todayDateIslamic[0],this.todayMonth=this.todayDateIslamic[1],this.todayDay=this.todayDateIslamic[2]),this.settings.month=this.currentMonth,this.settings.year=this.currentYear,this.isIslamic&&(this.settings.activeDateIslamic=this.activeDate instanceof Date?this.conversions.fromGregorian(this.activeDate):this.activeDate),this.settings.onOpenCalendar?( Line: 252 -  his.popup.closest(".scrollable"),this.popup.attr("role","dialog"),this.originalDate=this.element.val(),this.calendarAPI.currentDate=this.currentDate,this.calendarAPI.currentIslamicDate=this.currentIslamicDate,this.calendarAPI.validatePrevNext(),this.calendarAPI.days.off("click.datepicker").on("click.datepicker","td",function(){var e=$(this);if(e.hasClass("is-disabled"))t.calendarAPI.activeTabindex(e,!0);else{i.range.useRange&&i.range.first||t.calendarAPI.days.find(".is-selected").removeClass("is-selected range").removeAttr("aria-selected");var s=$(this);s.addClass("is-selected"+(i.range.useRange?" range":"")).attr("aria-selected","true");var n=t.calendarAPI.getCellDate(s),a=n.day,r=n.month,o=n.year;t.currentDate=new Date(o,r,a),t.isIslamic&&(t.currentDateIslamic[0]=o,t.currentDateIslamic[1]=r,t.currentDateIslamic[2]=a,t.currentYear=o,t.currentMonth=r,t.currentDay=a,t.currentDate=t.conversions.toGregorian(o,r,a)),t.insertDate(t.isIslamic?t.currentDateIslamic:t.currentDate),i.range.useRange?t.isFocusAfterClose=!0:(t.closeCalendar(),t.element.focus())}}),this.footer.off("click.datepicker").on("click.datepicker","button",function(e){var s=$(this);if(s.hasClass("cancel")&&(t.element.val("").trigger("change").trigger("input"),t.currentDate=null,t.closeCalendar()),s.hasClass("select-month")){var n=parseInt(t.calendarAPI.header.find(".year select").val(),10),a=parseInt(t.calendarAPI.header.find(".month select").val(),10);t.currentDate=new Date(n,a,1),t.isIslamic&&(t.currentDateIslamic[0]=n,t.currentDateIslamic[1]=a,t.currentDateIslamic[2]=1,t.currentYear=n,t.currentMonth=a,t.currentDay=1,t.currentDate=t.conversions.toGregorian(n,a,1)),t.insertDate(t.isIslamic?t.currentDateIslamic:t.currentDate),i.range.useRange?t.isFocusAfterClose=!1:t.closeCalendar()}s.hasClass("is-today")&&(t.setToday(),i.range.useRange||t.closeCalendar()),t.element.focus(),e.preventDefault()}),setTimeout(function(){t.setFocusAfterOpen()},50)}},close:function(){return S(this.closeCalendar,this.close).apply(this)},closeCalendar:function(){var e=this.calendarAPI&&this.calendarAPI.days.length?this.calendarAPI.days.fin Line: 267 -  ViewSource","visual","visual-icon")},i=void 0;if("object"===(void 0===e?"undefined":u(e))&&(i=e),"object"===(void 0===i?"undefined":u(i)))for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);return t},activateButton:function(e){this.toolbar.find('[data-element="'+e+'"]').addClass("is-active")},bindButtons:function(){var e=this;return this.toolbar.on("touchstart.editor click.editor","button",function(t){var i=$(this),s=i.attr("data-action");if(!i.is(".btn-actions"))return t.preventDefault(),e.getCurrentElement().focus(),void 0===e.selection&&e.checkSelection(),e.sourceViewActive()||i.toggleClass("is-active"),s&&e.execAction(s,t),(e.isIe||e.isIeEdge)&&e.getCurrentElement().trigger("change"),!1}),this},bindModals:function(){var e=this;return this.modals={url:this.createURLModal(),image:this.createImageModal()},$('[name="em-target-'+this.id+'"]').dropdown(),$("#modal-url-"+this.id+", #modal-image-"+this.id).modal().on("beforeopen",function(){e.savedSelection=e.saveSelection(),$(this).attr("id")!=="modal-url-"+e.id||e.selectionRange}).off("open").on("open",function(){var t=l.features.touch,i=$(this).attr("id"),s=$("input:first",this),n=$(".modal-buttonset .btn-modal-primary",this);$('[name="em-url-'+e.id+'"]').val(e.settings.anchor.url),$('[name="em-class-'+e.id+'"]').val(e.settings.anchor.class),$('[name="em-target-'+e.id+'"]').val(e.settings.anchor.target).trigger("updated"),$('[name="em-isclickable-'+this.id+'"]').prop("checked",e.settings.anchor.isClickable),setTimeout(function(){t&&i==="modal-image-"+e.id?n.focus():s.focus().select()},10)}).off("close").on("close",function(t,i){if(e.restoreSelection(e.savedSelection),!i)if($(this).attr("id")==="modal-url-"+e.id){var s=$(e.findElementInSelection("a",e.element[0]));s.length?e.updateCurrentLink(s):e.createLink($('[name="em-url-'+e.id+'"]',this))}else e.insertImage($("#image-"+e.id).val())}),this},createURLModal:function(){var e=this,t=this.settings,i=$("#modal-url-"+this.id);if(i.length>0)return i;var s="",n=!0;return $.each(t.anchor.targets,function(t,i){s+='<option value="'+i+'">'+C.translate(t)+"</option>",e.settings.anchor.defaul Line: 270 -  .target&&$.trim(this.settings.anchor.target).length&&n.attr("target",this.settings.anchor.target),this.settings.anchor.isClickable?n.attr("contenteditable",!1):n.removeAttr("contenteditable"),this.sourceViewActive())this.insertTextAreaContent(e.val(),"anchor");else{var a=void 0,r=void 0,o=void 0,l=void 0,d=void 0;if(!this.selection.isCollapsed||this.isIe11){if(window.getSelection&&(a=window.getSelection()).getRangeAt&&a.rangeCount){""!==(l=""+(r=a.getRangeAt(0))).trim()&&n.html(l);for(var c=(o=r.commonAncestorContainer.children)?o.length:0,h=0;h<c;h++){var u=o[h];u instanceof HTMLImageElement&&(d=u)}d&&n.html(d.outerHTML),r.deleteContents();var p=document.createElement("div");p.innerHTML=n[0].outerHTML;for(var g=document.createDocumentFragment(),f=void 0,m=void 0;f=p.firstChild;)m=g.appendChild(f);r.insertNode(g),m&&((r=r.cloneRange()).setStartAfter(m),r.collapse(!0),a.removeAllRanges(),a.addRange(r))}}else document.execCommand("insertHtml",null,n[0].outerHTML),setTimeout(function(){t.getCurrentElement().focus()},1);this.bindAnchorPreview()}},fixLinkFormat:function(e){return e.match(/^https?:\/\//)?e:"http://"+e},bindSelect:function(){var e=this,t="";return this.selectionHandler=function(){clearTimeout(t),t=setTimeout(function(){e.checkSelection()},e.settings.delay)},this.getCurrentElement().off("mouseup.editor keyup.editor").on("mouseup.editor keyup.editor",this.selectionHandler),this},checkSelection:function(){var e=void 0;if(void 0===this.selection&&this.sourceViewActive())return e=this.textarea.val().substring(this.textarea[0].selectionStart,this.textarea[0].selectionEnd).toString().trim(),void this.hideToolbarActions();e=window.getSelection();var t=this.getSelectionElement();return t?this.checkSelectionElement(e,t):this.hideToolbarActions(),this},getSelectionElement:function(){var e=void 0,t=void 0,i=void 0,s=window.getSelection(),n=function(e){var t=e;try{for(;!t.getAttribute("data-editor");)t=t.parentNode}catch(e){return!1}return t};try{t=(e=s.getRangeAt(0).commonAncestorContainer).parentNode,i=e.getAttribute("data-editor")?e:n(t)}catch(e){i=n(t)}return i},checkSelecti Line: 273 -  ment(),l=void 0,d=void 0;l=r.firstChild;)d=o.appendChild(l);if(a.insertNode(o),d&&((a=a.cloneRange()).setStartAfter(d),a.collapse(!0),s.removeAllRanges(),s.addRange(a)),t.isIe11){for(var c=50,h=$.Deferred(),u=document.createDocumentFragment();t.element[0].childNodes.length>0;)u.appendChild(t.element[0].childNodes[0]);!function t(i,s){--c<0?h.reject():i.childNodes&&i.childNodes.length>0?(e=i.innerHTML,i.innerHTML="",i.appendChild(s),h.resolve()):setTimeout(function(){t(i,s)},5)}(t.element[0],u),$.when(h).done(function(){var s="",a=t.element.find(":contains(+ "+i+")").filter(function(){return this.textContent===i});a.length||(a=t.element.find(":contains(+ "+i+")").filter(function(){return this.textContent.indexOf(i)>-1&&"UL"!==this.tagName})),e=t.getCleanedHtml(e);var r="";/(^(\s+?)?<li)/gi.test(e)?/((\s+?)?<\/li>(\s+?)?$)/gi.test(e)?(a.is("li")||(e="<ul>"+e+"</ul>"),r=e):r=a.is("li")?e+"</li>":(s=e.match(/<\/ul|<\/ol/gi)||[]).length?e:e+"</li></ul>":/((\s+?)?<\/li>(\s+?)?$)/gi.test(e)&&(a.is("li")?r="<li>"+e:((s=e.match(/<ul|<ol/gi)||[]).length?e+=s[s.length-1].replace(/<(ul|ol)/gi,"<$1>"):e="<ul>"+e+"</ul>",r=e)),r&&n.html(a,r,"*"),(s=t.element[0].innerHTML).indexOf(i)>-1&&(s=s.replace(i,e)),t.element[0].innerHTML=t.getCleanedHtml(s)})}}}else document.selection&&"Control"!==document.selection.type&&document.selection.createRange().pasteHTML(e)},getCleanedHtml:function(e){var t=void 0,i=e||"",s=["start","xmlns","xmlns:o","xmlns:w","xmlns:x","xmlns:m","onmouseover","onmouseout","onmouseenter","onmouseleave","onmousemove","onload","onfocus","onblur","onclick","style"];this.isWordFormat(i)&&(i=this.cleanWordHtml(i));for(var n=0,a=s.length;n<a;n++)t=new RegExp(" "+s[n]+'="(.*?)"',"gi"),i=this.stripAttribute(i,s[n],t),t=new RegExp(" "+s[n]+"='(.*?)'","gi"),i=this.stripAttribute(i,s[n],t);return(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/\sng-[a-z-]+/,"")).replace(/<!--(.*?)-->/gm,"")).replace(/\s\s+/g," ").replace(/\s>+/g,">")).replace(/<(ul|ol)(.*?)>/gi,"<$1>")).replace(/<li><\/li>/gi,"")).replace(/<(ul|ol)><\/(ul|ol)>/gi,"")).replace(/<\/?(html|body)(.*?)>/gi,"")).replace(/<head\b[^>]* Line: 274 -  /gi,"")).replace(/<[^/>]+>[\s]*<\/[^>]+>/gi,"")).indexOf("")>-1&&(i=[(i=[(i=(i=(i=i.replace(/<\/p>/gi,"</li>")).replace(/<p><span><span><\/span><\/span>/gi,"<li>")).replace(/<\/li>\s<li>/gi,"</li><li>")).slice(0,i.indexOf("<li>")),"<ul>",i.slice(i.indexOf("<li>"))].join("")).slice(0,i.lastIndexOf("</li>")),"</ul>",i.slice(i.lastIndexOf("</li>"))].join("")),i},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},bindWindowActions:function(){var e=this,t=this.element.closest(".editor-container"),i=this.getCurrentElement(),s=this;this.element.on("mousedown.editor",function(){e.mousedown=!0}).on("focus.editor",function(){e.isFirefox&&!e.mousedown&&e.element===i&&e.setFocus()}).on("DOMNodeInserted",function(e){var t=$(e.target),i=$("<b>helper</b>");"IMG"===e.target.tagName?t.removeAttr("id style srcset"):"SPAN"===e.target.tagName&&(t.before(i),i.after(t.contents()),i.add(t).remove())}),t.on("focus.editor",".editor, .editor-source",function(){var e=$(this);t.addClass("is-active"),setTimeout(function(){e.hasClass("error")&&(t.parent().find(".editor-toolbar").addClass("error"),t.parent().find(".editor-source").addClass("error"))},100)}).on("blur.editor",".editor, .editor-source",function(){t.removeClass("is-active"),t.parent().find(".editor-toolbar").removeClass("error"),t.parent().find(".editor-source").removeClass("error")}),s.settings.onLinkClick&&t.on("click.editorlinks","a",function(t){s.settings.onLinkClick(t,{elem:e,url:t.currentTarget.getAttribute("data-url")}),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation()});for(var n=this.element.prevAll(".label"),a=0,r=n.length;a<r;a++)n[a].style.cursor="default";return n.on("click.editor",function(){i.focus()}),i.attr("aria-label",n.text()),this},restoreSelection:function(e){var t=window.getSelection();if(e||(e=this.savedSelection),e){t.removeAllRanges();for(var i=0,s=e.length;i<s;i+=1)t.addRange(e[i])}},saveSelection:function(){var e=void 0,t=window.getSelection();if(t.getRangeAt&&t.rangeCount){e=[];for(var i=0,s=t.rangeCount;i<s;i+=1)e. Line: 278 -  2");for(var o=t.getSelectionParentElement().parentNode.getElementsByTagName("font"),l=0,d=o.length;l<d;l++)o[l].hasAttribute("style")&&(o[l].style.backgroundColor="");setTimeout(function(){for(var e=0,t=o.length;e<t;e++)o[e].hasAttribute("size")&&(o[e].style.backgroundColor=r,o[e].removeAttribute("size"))},0)}setTimeout(function(){t.getCurrentElement().focus()},0)}),n.toggleList()},execFormatBlock:function(e){var t=this.getSelectionData(this.selection.anchorNode);if("blockquote"===e&&t.el&&"blockquote"===t.el.parentNode.tagName.toLowerCase())return document.execCommand("outdent",!1,null);if(t.tagName===e&&(e="p"),this.isIe){if("blockquote"===e)return document.execCommand("indent",!1,e);e="<"+e+">"}return document.execCommand("formatBlock",!1,e)},getSelectionData:function(e){var t=void 0;for(e&&e.tagName&&(t=e.tagName.toLowerCase());e&&-1===this.parentElements.indexOf(t);)(e=e.parentNode)&&e.tagName&&(t=e.tagName.toLowerCase());return{el:e,tagName:t}},isListItemChild:function(e){for(var t=e.parentNode,i=t.tagName.toLowerCase();-1===this.parentElements.indexOf(i)&&"div"!==i;){if("li"===i)return!0;if(!(t=t.parentNode)||!t.tagName)return!1;i=t.tagName.toLowerCase()}return!1},destroyToolbar:function(){var e=function(e){return e||$()};this.toolbar=e(this.toolbar),this.element=e(this.element),this.textarea=e(this.textarea);var t=this.toolbar.data("toolbar");t&&t.destroy();for(var i=this.toolbar.find("button"),s=0,n=i.length;s<n;s++){var a=$(i[s]).data("tooltip");a&&"function"==typeof a.destroy&&a.destroy()}for(var r=$('[data-action="foreColor"], [data-action="backColor"]',this.element),o=0,l=r.length;o<l;o++){var d=$(r[o]).data("colorpicker");d&&"function"==typeof d.destroy&&d.destroy()}this.toolbar.off("touchstart.editor click.editor click.editor mousedown.editor"),this.toolbar.remove(),this.toolbar=void 0,this.element.off("mouseup.editor keypress.editor input.editor keyup.editor keydown.editor focus.editor mousedown.editor DOMNodeInserted.editor updated.editor blur.editor paste.editor"),this.textarea.off("mouseup.editor click.editor keyup.editor input.editor focus.editor blur.edit Line: 280 -  his.sourceView&&(this.sourceView.off(".editor"),this.sourceView.remove(),this.sourceView=null),1===$('[data-editor="true"]').length&&$("#modal-url-"+this.id+", #modal-image-"+this.id).remove(),this},destroy:function(){this.teardown(),$.removeData(this.element[0],"editor")},disable:function(){this.destroyPreviewMode(),this.element.addClass("is-disabled").attr("contenteditable","false"),this.container.addClass("is-disabled")},enable:function(){this.destroyPreviewMode(),this.element.removeClass("is-disabled is-readonly").attr("contenteditable","true"),this.container.removeClass("is-disabled is-readonly")},readonly:function(){this.destroyPreviewMode(),this.element.removeClass("is-readonly").attr("contenteditable","false"),this.container.addClass("is-readonly")},editable:function(){this.enable()},preview:function(){this.container[0].classList.contains("is-preview")||this.setPreviewMode()},setFocus:function(){var e="<"===$.trim(this.element.html()).slice(0,1)?$(":first-child",this.element)[0]:this.element[0];window.setTimeout(function(){var t=void 0,i=void 0;window.getSelection&&document.createRange?((i=document.createRange()).selectNodeContents(e),i.collapse(!0),(t=window.getSelection()).removeAllRanges(),t.addRange(i)):document.body.createTextRange&&((i=document.body.createTextRange()).moveToElementText(e),i.collapse(!0),i.select())},1)},onPasteTriggered:function(){!this.isFirefox&&document.addEventListener&&document.addEventListener("paste",function(e){if(void 0!==e.clipboardData){var t=e.clipboardData.items[0];if(0===t.type.indexOf("image")){var i=t.getAsFile(),s=new FileReader;s.onload=function(e){var t=e.target.result;document.execCommand("insertImage",!1,t)},s.readAsDataURL(i)}}},!1)},isWordFormat:function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},cleanWordHtml:function(e){var t=e;t=(t=(t=(t=(t=(t=t.replace(/<!--[\s\S]+?-->/gi,"")).replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>] Line: 286 -  ar h=$('<div class="back"><button type="button" class="btn-icon hide-focus btn-back"><svg class="icon" focusable="false" aria-hidden="true" role="presentation"><use xlink:href="#icon-caret-left"></use></svg><span>Back</span></button></div>').appendTo(d);setTimeout(function(){return h.next($(".leaf")).addBack($(".back")).wrapAll('<div class="back-container"></div>')}),h.children("button").data(e),$(d).addClass("has-back")}if(e.isMultiRoot){var u='<div class="leaf multiRoot"><div><h2>'+e.multiRootText+"</h2></div></div>";u=s.sanitizeHTML(u),r.push(u),$(r[0]).addClass("root").appendTo(d)}else if(null!==e.ancestorPath&&void 0!==e.ancestorPath){e.ancestorPath.push(e.centeredNode);var p=""+e.ancestorPath.map(function(e){return" "+t.getTemplate(e)+" "}).join("");p=s.sanitizeHTML(p),r.push(p),$(r[0]).addClass("root ancestor").appendTo(d);var g=$(".leaf.root");g.each(function(i,s){t.updateState(s,!1,e.ancestorPath[i],"add"),i===g.length-1&&$(s).addClass("is-selected")})}else{var f=e.centeredNode,m=void 0;this.isStackedLayout()&&null!==f?m=this.getTemplate(f):this.isStackedLayout()||(m=this.getTemplate(e)),m&&(m=s.sanitizeHTML(m),r.push(m),$(r[0]).addClass("root is-selected").appendTo(d)),f&&null!==f?this.updateState($(".leaf.root"),!0,f,void 0):this.updateState($(".leaf.root"),!0,e,void 0)}function v(e,t,i){if(null!=t)for(var s=0,n=t.length;s<n;s++){x(e,t[s],i)}}if(a&&a.length>0)for(var b=0,y=a.length;b<y;b++){var w=e.children[b].children;if(this.isLeaf(a[b])&&!i.paging&&i.renderSubLevel?this.createLeaf(e.children[b],$(o.toplevel)):i.paging?this.createLeaf(e.children[b],$(o.toplevel)):this.createLeaf(e.children[b],$(o.sublevel)),null!=w){v(this,e.children[b].children,e)}}function x(e,t,i){Object.keys(t).forEach(function(s){if("children"===s){var n=t.id,a=t,r=t.children;return null!=r&&r.length>0&&e.add(n,a,r),v(e,r,i)}return!0})}var C=(this.element.find(".container").outerWidth()-$(window).width())/2;this.element.scrollLeft(C);var k=this.element.find(".top-level");0===this.element.find(".sub-level").length&&1===k.length&&k.addClass("no-sublevel")},isStackedLayout:function(){return thi Line: 287 -  out&&"stacked"===this.settings.layout},isSingleChildWithChildren:function(){if(this.isStackedLayout())return!1;var e=this.settings;if(e.dataset&&e.dataset[0]&&e.dataset[0].children){for(var t=e.dataset[0].children.length,i=0;t--;)e.dataset[0].children[t].isLeaf||i++;return 1===i}return!1},getTemplate:function(e){var t=Oe.compile("{{#dataset}}"+$("#"+s.stripTags(this.settings.templateId)).html()+"{{/dataset}}",{dataset:e});return setTimeout(function(){var t=$("#btn-"+s.stripTags(e.id));0!==t.length&&t.hideFocus().popupmenu()},1),$(t).prop("outerHTML")},createLegend:function(e){for(var t=this.settings,i=0,s=0,n=t.legend.length;s<n;s++){var a=t.legend[s].label,r=t.colorClass[s];s-1+1==4&&(e.append("<ul></ul>"),i++),e.children("ul").eq(i).append("<li>\n          <span>"+a+'</span>\n          <span class="key '+r+'"></span>\n        </li>')}},createLeaf:function(e,t){var i=this,n=i.settings.rootClass,a=$("."+n+" .chart",i.container),r=t.attr("class"),o=void 0!==r?$("."+r):t;function l(e){i.setColor(e);var n=i.getTemplate(e),a=1===o.length?o:t,r=e.isExpanded||void 0===e.isExpanded?"branch-expanded":"branch-collapsed";if(e.isLeaf&&(r=""),1!==$("#"+e.id).length&&(a.append("<li class="+r+">"+$(n)[0].outerHTML+"</li>"),e.children)){for(var l="",d=0,c=e.children.length;d<c;d++){i.setColor(e.children[d]);var h=i.getTemplate(e.children[d]);e.children.length,l+="<li>"+$(h)[0].outerHTML+"</li>"}(a=$("#"+s.stripTags(e.id)).parent()).append("<ul>"+l+"</ul>");for(var u=e.children.length;u--;){var p=$("#"+s.stripTags(e.children[u].id));i.updateState(p,!1,e.children[u],void 0)}}}if(o.length<1&&("top-level"===r?t.insertAfter(".root"):t.appendTo(a)),e.length)for(var d=0,c=e.length;d<c;d++){e.length;l(e[d]),i.updateState($("#"+s.stripTags(e[d].id)),!1,e[d],void 0)}else l(e),i.updateState($("#"+s.stripTags(e.id)),!1,e,void 0)},setColor:function(e){var t=this,i=this.settings;if(this.setRootColor(e),this.isStackedLayout()&&(e.ancestorPath&&null!==e.ancestorPath&&e.ancestorPath.forEach(function(e){t.setRootColor(e)}),e.centeredNode&&null!==e.centeredNode&&this.setRootColor(e.centeredNode)),e.children&& Line: 291 -  ==l.browser.name,this.field=this.element.closest(".field, .radio-group"),this.targetElem=this.element;var t=this.field.find("label");return t&&(this.label=t),this.element[0].className.match(/(dropdown|multiselect)/)&&(this.targetElem=this.element.data("dropdown").pseudoElem),this.element[0].className.match(/(fileupload)/)&&(this.targetElem=this.field.find('.fileupload[type="text"]')),this.field.addClass("is-fieldoptions"),this.fieldParent=this.element.closest(".field").parent(),this.trigger=this.field.find(".btn-actions"),this.isFirefox&&this.trigger.length&&(this.trigger[0].contentEditable=!0,this.trigger.on("keydown.fieldoptions",function(e){9!==(e.which||e.keyCode||e.charCode||0)&&(e.preventDefault(),e.stopPropagation())})),setTimeout(function(){e.popupmenuApi=e.trigger.data("popupmenu"),e.popupmenuApi&&(e.popupmenuApi.settings.returnFocus=!1,e.popupmenuApi.settings.offset.y=10)},100),this},handleEvents:function(){var e=this,t=this,i=this.element.data("datepicker"),s=this.element.data("timepicker"),n=this.element.data("dropdown"),a=this.element.data("lookup")||this.element.hasClass("lookup"),r=this.element.is(".checkbox"),o=this.element.is(".fileupload"),d=this.element.is(".searchfield"),c=this.element.is(".colorpicker"),h=this.element.closest(".radio-group").length>0,u=this.element.is(".data")&&this.element.closest(".summary-form").length>0,p=function(e){return $(":focus").is(e)},g=function(t){(t||e.element).addClass("is-focused")},f=function(t){(t||e.element).removeClass("is-focused")},m=function(){t.element.add(t.trigger).add(t.field).add(t.fieldParent).addClass("is-active")},v=function(){t.element.add(t.trigger).add(t.field).add(t.fieldParent).removeClass("is-active")},b=function(t){var r=!p(e.element);return r=!e.trigger.is(t.relatedTarget)&&r,r=!e.trigger.is(".is-open")&&r,r=(!i||!i.isOpen())&&r,r=(!s||!s.isOpen())&&r,r=!$(t.relatedTarget).prev().is(e.element)&&r,r=(!n||!n.isOpen())&&r,r=!(a&&a.modal&&a.modal.isOpen())&&r,r=(!c||!e.element.is(".is-open"))&&r},y=function(t){t.trigger&&t.trigger.off("show.fieldoptions").on("show.fieldoptions",function(){m()}).off("hide Line: 292 -  ).on("hide.fieldoptions",function(t){b(t)&&(v(),e.element.removeClass("is-open"))})},w=function(){e.trigger.css({top:function(){var t=e.element.height(),i=void 0;if(u){var s=parseInt(e.element.css("line-height"),10);t>s?(e.element.css({"margin-bottom":"","padding-bottom":""}),i=(t-s)/2*-1):(e.element.css({"margin-bottom":"8px","padding-bottom":"12px"}),i=6)}else h&&(i=(t-e.trigger.height())/2*-1);return i}()+"px"})};return l.features.touch?(this.field.addClass("visible"),this.trigger.on("beforeopen.fieldoptions",function(t){var a;(a=p(e.element),a=(!i||!i.isOpen())&&a,a=(!s||!s.isOpen())&&a,a=(!n||!n.isOpen())&&a)&&m()}).on("close.fieldoptions",function(e){b(e)&&v()})):(this.field.removeClass("visible"),this.field.on("mouseover.fieldoptions",function(){t.element.prop("disabled")||t.element.closest("is-disabled").length||t.field[0].className.indexOf("visible")<0&&t.field[0].classList.add("visible")}).on("mouseout.fieldoptions",function(){t.field[0].className.indexOf("visible")>-1&&t.field[0].classList.remove("visible")})),n&&setTimeout(function(){var t=e.trigger.data("popupmenu");t&&t.menu.closest(".popupmenu-wrapper").css({"z-index":"4502"})},0),(i||s)&&y(i||s),s&&(s.settings.returnFocus=!1),(a||c)&&(this.field.on("click.fieldoptions",".lookup-wrapper .trigger, .colorpicker-container .trigger",function(){m()}),c&&this.element.on("beforeopen.fieldoptions",function(){m()})),r&&this.trigger.addClass("is-checkbox"),o&&(this.element.on("change.fieldoptions",function(){e.targetElem.focus()}),this.field.on("click.fieldoptions",".trigger, .trigger-close",function(){m()})),d&&setTimeout(function(){e.trigger.add(e.trigger.next(".popupmenu")).appendTo(e.element.closest(".searchfield-wrapper"))},0),u&&(w(),this.targetElem.add(this.trigger).on("keydown.fieldoptions",function(e){13===(e.which||e.keyCode||e.charCode||0)&&setTimeout(function(){m()},0)}),this.targetElem.attr("tabindex",0).on("click.fieldoptions",function(){m()}),$(document).on("click.fieldoptions",function(t){$(t.target).is(e.element)||v()}),$("body").on("resize.fieldoptions",function(){w()})),h&&(w(),this.element.on("focusin Line: 293 -  ,".radio",function(){var t=e.isSafari?200:0;g(),setTimeout(function(){m()},t)}).on("focusout.fieldoptions",".radio",function(){f()}),$("body").on("resize.fieldoptions",function(){w()})),this.targetElem.on("focusin.fieldoptions",function(){m(),h&&e.isSafari&&g()}).on("focusout.fieldoptions",function(t){var i=e.isSafari?200:0;h&&e.isSafari&&f(),setTimeout(function(){b(t)&&v()},i)}),this.trigger.on("focusin.fieldoptions click.fieldoptions",function(){m()}).on("focusout.fieldoptions",function(e){b(e)&&v()}).on("selected.fieldoptions",function(){e.popupmenuApi.settings.returnFocus=!0}).on("close.fieldoptions",function(e){b(e)&&v()}),(this.isSafari||o)&&(h&&this.element.attr("tabindex",0),this.targetElem.on("keydown.fieldoptions",function(t){9!==(t.which||t.keyCode||t.charCode||0)||t.shiftKey||(h?(e.targetElem.find(":checked, .radio:first").not(":disabled").focus(),e.targetElem.find(".radio").off("keydown.fieldoptions").on("keydown.fieldoptions",function(i){9!==(i.which||i.keyCode||i.charCode||0)||t.shiftKey||setTimeout(function(){e.trigger.focus()},0)})):e.trigger.focus(),m(),t.preventDefault(),t.stopPropagation())})),this.element.on("listopened.fieldoptions",function(){m()}).on("listclosed.fieldoptions",function(){v()}),this},enable:function(){return this.trigger.prop("disabled",!1),this},disable:function(){return this.trigger.prop("disabled",!0),this},unbind:function(){return this.field.off(["click.fieldoptions","mouseover.fieldoptions","mouseout.fieldoptions"].join(" ")),this.element.off(["beforeopen.fieldoptions","change.fieldoptions","focusin.fieldoptions","focusout.fieldoptions","listclosed.fieldoptions","listopened.fieldoptions"].join(" ")),this.trigger.off(["beforeopen.fieldoptions","click.fieldoptions","focusin.fieldoptions","focusout.fieldoptions","selected.fieldoptions","close.fieldoptions"].join(" ")),this.targetElem.off(["click.fieldoptions","keydown.fieldoptions"].join(" ")),$("body").off(["resize.fieldoptions"].join(" ")),$(document).off(["click.fieldoptions"].join(" ")),this},updated:function(e){return void 0!==e&&(this.settings=m.mergeSettings(this.element,e,Xt)), Line: 295 -  &&this.textInput.prop("disabled",!0),i.hasClass("required")&&(o.addClass("required"),i.removeClass("required")),this.fileInput.attr("data-validate")&&(this.textInput.attr("data-validate",this.fileInput.attr("data-validate")),this.textInput.validate()),this.fileInput.attr("readonly")&&(this.textInput.prop("disabled",!1),this.textInput[0].classList.remove("fileupload-background-transparent"),this.fileInput.attr("disabled","disabled")),this.fileInput.on("change.fileupload",function(){this.files.length>0?(t.textInput.val(this.files[0].name).trigger("change"),t.svgClose.show().addClass("is-visible")):t.clearUploadFile()}),this.fileInput.on("click.fileupload",function(t){var i=e.fileInput.data("handleEvent"+[t.type||""]);i&&i.type===t.type&&"fileupload"===t.handleObj.namespace&&(e.fileInput.data("handleEvent"+[t.type||""],null),t.preventDefault())}),t.fileInput.css({position:"static",left:0}),setTimeout(function(){t.fileInput.css({position:"fixed",left:"-10000px"})},0)},clearUploadFile:function(){var e=this.fileInput.val();this.fileInput.add(this.textInput).val(""),this.svgClose.hide().removeClass("is-visible"),""!==e&&this.fileInput.triggerHandler("change")},unbind:function(){return this.svg.add(this.svgClose).off("click.fileupload"),this.fileInput.off("change.fileupload"),this.textInput.off("keydown.fileupload"),this.element.closest(".field-fileupload").removeClass("field-fileupload").find('>label:first, >[type="text"]:first, .trigger, .trigger-close, .icon-dirty, .msg-dirty').remove(),this},updated:function(e){return void 0!==e&&(this.settings=m.mergeSettings(this.element,e,Jt)),this},destroy:function(){this.unbind(),$.removeData(this.element[0],"fileupload")},disable:function(){this.textInput.prop("disabled",!0),this.fileInput.prop("disabled",!0)},enable:function(){this.textInput.prop("disabled",!1).prop("readonly",!1),this.fileInput.removeAttr("disabled")},readonly:function(){this.textInput.prop("readonly",!0),this.fileInput.prop("disabled",!0),this.textInput.prop("disabled",!1),this.textInput.removeClass("fileupload-background-transparent")}},$.fn.fileupload=function(e){retur Line: 321 -  ata-value="{{value}}"{{/value}}{{#selected}} selected="selected"{{/selected}}{{#disabled}} class="is-disabled"{{/disabled}}><span class="handle" focusable="false" aria-hidden="true" role="presentation">&#8286;</span><div class="item-content"><p>{{text}}</p></div></li>{{/text}}{{/dataset}}</ul>',templateNewItem:'<li data-value="{{text}}" role="option"><span class="handle" focusable="false" aria-hidden="true" role="presentation">&#8286;</span><div class="item-content"><p>{{text}}</p></div></li>',templateItemContent:"<p>{{text}}</p>"};function ci(e,t){this.element=$(e),this.settings=m.mergeSettings(this.element[0],t,di),t&&t.dataset&&(this.settings.dataset=t.dataset),this.init()}ci.prototype={init:function(){var e=this;this.loadListview().initDataset().setElements().handleEvents(),setTimeout(function(){e.setSelected()},0)},loadListview:function(){var e=this.settings,t=$(".listview",this.element);return!e.dataset.length&&t.length&&$("li",t).length?this.listApi=t.listview({selectable:"single"}).data("listview"):t.length&&(this.listApi=t.listview({dataset:e.dataset,template:e.template,selectable:"single"}).data("listview")),this},initDataset:function(){var e=this.settings,t=$(".listview li",this.element);this.dataset=[];for(var i=0,s=t.length;i<s;i++){var n=void 0,a=$(t[i]);e.dataset?(n=JSON.parse(JSON.stringify(e.dataset[i]))).node=a:n=this.extractNodeData(a),this.dataset.push(n)}return this},extractNodeData:function(e){var t={node:e,text:$.trim($(".item-content",e).text())},i=e.attr("data-value");return void 0!==i&&(t.value=i),t},setElements:function(){var e=this,t=this.settings,i=function(t){return e.isjQuery(t)?t:"string"==typeof t?$('[data-action="'+t+'"]',e.element):null};return t.btnAdd=i(t.btnAdd),t.btnGoUp=i(t.btnGoUp),t.btnGoDown=i(t.btnGoDown),t.btnEdit=i(t.btnEdit),t.btnDelete=i(t.btnDelete),this.topButtons=t.btnAdd.add(t.btnGoUp).add(t.btnGoDown).add(t.btnEdit).add(t.btnDelete),this.topButtons.tooltip(),this.ul=$(".listview ul",this.element),this.arrangeApi=this.ul.arrange({handle:t.handle,placeholder:t.templateNewItem}).data("arrange"),this},handleEvents:function(){va Line: 323 -  ;t.insertBefore(s),e.updateAttributes(),e.arrayIndexMove(e.dataset,i.index,i.index-1),i.indexBeforeMove=i.index,i.index--,e.element.triggerHandler("aftergoup",[i])})}},moveItemDown:function(){var e=this,t=e.listApi.selectedItems[0];if(t&&t.length>0){var i=e.getDataByNode(t);void 0!==i.index&&i.index<e.dataset.length-1&&$.when(e.element.triggerHandler("beforegodown",[i])).done(function(){var s=t.next();t.insertAfter(s),e.updateAttributes(),e.arrayIndexMove(e.dataset,i.index,i.index+1),i.indexBeforeMove=i.index,i.index++,e.element.triggerHandler("aftergodown",[i])})}},editItem:function(e){var t=this.listApi.selectedItems[0];t&&t.length>0&&(t.is(".is-editing")?this.commitEdit(t,e):this.makeEditable(t,e))},makeEditable:function(e,t){var i=this,n=i.getDataByNode(e),a=$(".item-content",e);void 0!==n.index&&n.index<i.dataset.length&&$.when(i.element.triggerHandler("beforeedit",[n])).done(function(){var r=s.escapeHTML((a.text().trim()||"").toString()),o=$('<input name="edit-input" class="edit-input" type="text" value="'+r+'" />');e.addClass("is-editing"),a.html(o),setTimeout(function(){o.focus().select()},0),o.on("click.listbuilder",function(){return!1}).on("blur.listbuilder",function(){return i.commitEdit(e,t)}).on("keypress.listbuilder",function(s){13===(s.keyCode||s.charCode||0)&&(i.commitEdit(e,t),e.focus())}),i.element.triggerHandler("entereditmode",[n])})},commitEdit:function(e,t){var i=this.settings,n=this.getDataByNode(e),a=$(".item-content",e),r=$(".edit-input",a);r.val(s.escapeHTML((r.val()||"").toString())),t&&(n.data.value=r.val()),n.data.text=r.val(),r.off("click.listbuilder blur.listbuilder keypress.listbuilder"),a.html(i.templateItemContent.replace(/{{text}}/g,r.val())),e.removeClass("is-editing"),this.element.triggerHandler("exiteditmode",[n])},deleteItem:function(){var e=this,t=e.listApi.selectedItems[0];if(t&&t.length>0){var i=e.getDataByNode(t);void 0!==i.index&&$.when(e.element.triggerHandler("beforedelete",[i])).done(function(){e.listApi.removeAllSelected(),e.updateAttributes(),e.dataset.splice(i.index,1),e.element.triggerHandler("afterdelete",[i])})}},getDataByN Line: 324 -  ){for(var t={},i=0,s=this.dataset.length;i<s;i++){var n=this.dataset[i];if($(n.node).is(e)){t={index:i,data:n};break}}return t},arrayIndexMove:function(e,t,i){e.splice(i,0,e.splice(t,1)[0])},isjQuery:function(e){return e&&(e instanceof jQuery||e.constructor.prototype.jquery)},moveCursorToEnd:function(e){setTimeout(function(){if("number"==typeof e.selectionStart)e.selectionEnd=e.value.length,e.selectionStart=e.value.length;else if(void 0!==e.createTextRange){var t=e.createTextRange();t.collapse(!1),t.select()}},100)},updateAttributes:function(){for(var e=$("li",this.ul),t=0,i=e.length;t<i;t++)$(e[t]).attr({"aria-posinset":t+1,"aria-setsize":i})},updateDataset:function(e){var t=this,i=$("li",this.ul),s=$(".listview",this.element).data("listview");s.deselectItemsBetweenIndexes([0,i.length-1]),this.settings.dataset=e,s.loadData(this.settings.dataset),this.initDataset().setElements().handleEvents(),setTimeout(function(){t.setSelected()},0)},setSelected:function(){for(var e=$("li[selected]",this.ul),t=0,i=e.length;t<i;t++){var s=$(e[t]);s.removeAttr("selected"),s.is(".is-selected")||s.trigger("click")}return this},select:function(e){var t=this.getListItem(e);t&&!t.is(".is-selected")&&t.trigger("click")},unselect:function(e){var t=this.getListItem(e);t&&t.is(".is-selected")&&t.trigger("click")},getListItem:function(e){var t=$();if(this.isElement(e)&&$.contains(this.ul,e))t=this.isjQuery(e)?e:$(e);else{var i=parseInt(e,10),s=$("li",this.ul);!isNaN(i)&&i>-1&&i<s.length?t=s.eq(i):"first"===(""+e).toLowerCase()?t=s.first():"last"===(""+e).toLowerCase()&&(t=s.last())}return t.length<1?null:t.length>1?t.eq(0):t},isElement:function(e){return this.isjQuery(e)&&e.get(0)instanceof Element||e instanceof Element},enable:function(){this.element.removeClass("is-disabled").find(".toolbar .buttonset button").removeAttr("disabled").end().find(".toolbar .buttonset button[data-original-disabled]").attr("disabled","disabled").removeAttr("data-original-disabled"),this.ul.find("li").removeClass("is-disabled").end().find("li[data-original-disabled]").addClass("is-disabled").removeAttr("data-original-disab Line: 326 -  return this.id=this.element.attr("id")||parseInt($(".modal").length,10)+1,this.trigger=$('[data-modal="'+this.element.attr("id")+'"]'),this.element.is("body")&&(this.trigger=this.element),this.overlay||(this.overlay=$('<div class="overlay"></div>')),this.oldActive=this.trigger,"click"!==this.settings.trigger||this.isAttachedToBody||this.trigger.on("click.modal",function(t){$(t.currentTarget).is(e.trigger)&&e.open()}),"immediate"===this.settings.trigger&&setTimeout(function(){e.open()},1),e.isCancelled=!1,this.settings.content?(this.settings.trigger=this.settings.content instanceof jQuery?this.settings.trigger:"immediate",this.appendContent(),void setTimeout(function(){e.open()},1)):this.settings.beforeShow?(this.settings.trigger=this.settings.content instanceof jQuery?this.settings.trigger:"immediate",this.appendContent(),void this.callSource()):(e.addButtons(this.settings.buttons),this.element.appendTo("body"),void(this.element[0].style.display="none"))},appendContent:function(){var e=this,t=!1;if(this.element=$('<div class="modal"><div class="modal-content" style="max-width: '+(this.settings.maxWidth?this.settings.maxWidth:"")+'px"><div class="modal-header"><h1 class="modal-title">'+this.settings.title+'</h1></div><div class="modal-body-wrapper"><div class="modal-body"></div></div></div></div>'),this.settings.showCloseBtn){var i=$('\n        <button type="button" class="btn-icon btn-close" title="'+C.translate("Close")+'" aria-hidden="true">\n          '+$.createIcon("close")+'\n          <span class="audible">'+C.translate("Close")+"</span>\n        </button>\n      ");this.element.find(".modal-content").append(i),i.on("click.modal",function(){return e.close()}).tooltip()}this.settings.id&&this.element.attr("id",this.settings.id),$(this.settings.content).is(".modal")?(this.element=$(this.settings.content),t=this.element.parent().hasClass("modal-wrapper")):this.settings.content&&this.settings.content.length>0&&(this.settings.content instanceof jQuery&&this.settings.content.parent().is(".modal-body")?(t=!0,this.element=this.settings.content.closest(".modal")):this.element.fi Line: 330 -  "id");o||(o=(this.element.attr("id")?this.element.attr("id"):"h1")+"-title",r.attr("id",o));var l=this.element.find(".modal-body"),d=(this.element.attr("id")?this.element.attr("id"):"message")+"-text";this.element.attr("aria-labelledby",o),this.element.find(".toolbar .title").length?(this.element.find(".toolbar .title").attr("id",d),this.element.attr("aria-describedby",d)):(l.attr("id",d),this.element.attr("aria-describedby",d))}this.mainContent=$("body").children(".scrollable-container"),this.mainContent.length||(this.mainContent=$("body")),this.removeNoScroll=!this.mainContent.hasClass("no-scroll"),this.mainContent.addClass("no-scroll"),$("body").on("resize.modal-"+this.id,function(){i.resize()}),this.root[0].style.display="",this.element[0].style.display="",setTimeout(function(){i.resize(),i.element.addClass("is-visible").attr("role",i.settings.isAlert?"alertdialog":"dialog"),i.root.removeAttr("aria-hidden"),i.overlay.attr("aria-hidden","true"),i.element.attr("aria-modal","true")},1),$("body").addClass("modal-engaged"),$(this.element).on("keypress.modal",function(e){var t=$(e.target);t.is(".editor, .searchfield, textarea, :button")||t.closest(".tab-list").length||$("#dropdown-list").length||13===e.which&&i.isOnTop&&!t.closest("form").find(":submit").length&&i.element.find(".btn-modal-primary:enabled").length&&(e.stopPropagation(),e.preventDefault(),(!t.hasClass("fileupload")&&!$(t).is(":input")||t.hasClass("colorpicker"))&&i.element.find(".btn-modal-primary:enabled").trigger("click"))}),$(".skip-link").on("focus.modal",function(e){e.preventDefault(),i.getTabbableElements().first.focus()}),this.element.find(".paginated").on("afterpaging",function(){i.resize()}),setTimeout(function(){i.disableSubmit()},10),this.element.find("[data-validate]").removeClass("disable-validation"),setTimeout(function(){!function(e){var t=e.element.find(":focusable").not(".modal-header .searchfield").first();if(e.keepFocus(),e.element.trigger("open",[e]),0===t.length&&(t=e.element.find(".btn-modal-primary")),1===t.length&&t.is(".btn-modal")&&(t=e.element.find(".btn-modal-primary")),1===t.length&&t Line: 331 -  &!t.is(":disabled")&&t.addClass("hide-focus"),e.settings.autoFocus){var i=void 0,s=void 0;if(t.is(".tab:not(.is-selected) a")&&(i=(s=t.closest(".tab-container")).find(".is-selected")).length)return t=i,void s.data("tabs").select(i.children("a").attr("href"));t.focus()}}(i)},200),setTimeout(function(){i.element.trigger("afteropen")},300)}},resize:function(){var e=.9*$(window).height()-this.settings.frameHeight,t=1*$(window).width()-this.settings.frameWidth,i=this.element.find(".modal-body-wrapper");if(i.length&&(i[0].style.maxHeight=e+"px",i[0].style.maxWidth=t+"px"),this.element.hasClass("lookup-modal")){var s=this.element.find(".datagrid-body"),n=this.element.find(".pager-toolbar"),a=s.closest(".datagrid-container");e=e-(a.prev().is(".toolbar")?130:60)-(a.next().is(".pager-toolbar")?35:0),s[0].style.maxHeight=e+(n.length?-15:0)+"px",s[0].style.maxWidth=t+"px"}var r=this.element.find(".toolbar");r.length&&r.triggerHandler("recalculate-buttons")},isOpen:function(){return T("visible","isOpen"),this.visible},getTabbableElements:function(){var e=$(this.element).find("a[href], area[href], input:not([disabled]),select:not([disabled]), textarea:not([disabled]),button:not([disabled]), iframe, object, embed, *[tabindex],*[contenteditable]").filter(":visible");return{first:e[0],last:e[e.length-1]}},keepFocus:function(){var e=this,t=void 0;$(document).off("keydown.modal-"+this.id).on("keydown.modal-"+this.id,function(t){if(27===(t.which||t.keyCode)){var i=$(".modal.is-visible");if(e.isCancelled=!0,i.length>1){i.not(":last").on("beforeclose.modal",function(){return!1}),i.on("afterclose.modal",function(){i.off("beforeclose.modal")});var s=i.last().data("modal");s&&s.close&&s.close()}else e.close()}}),$(e.element).off("keypress.modal keydown.modal").on("keypress.modal keydown.modal",function(i){9===(i.which||i.keyCode)&&(t=e.getTabbableElements(),i.target!==t.last||i.shiftKey?i.target===t.first&&i.shiftKey&&(i.preventDefault(),t.last.focus()):(i.preventDefault(),t.first.focus()),e.element.find("#message-title").removeAttr("tabindex"))})},close:function(e){if(!this.visible)return!0;var t=th Line: 332 -  ggerHandler("beforeclose"),i=this,s=this.element.find("[data-validate]");return this.root=this.element.closest(".modal-page-container"),s.addClass("disable-validation"),!1!==t&&(this.mainContent&&this.removeNoScroll&&this.mainContent.removeClass("no-scroll"),$("body").off("resize.modal-"+this.id),this.element.off("keypress.modal keydown.modal"),this.element.removeClass("is-visible"),this.overlay.attr("aria-hidden","true"),this.root&&this.root.attr("aria-hidden","true"),$(".modal-page-container").length<=1&&($("body").removeClass("modal-engaged"),$("body > *").not(this.element.closest(".modal-page-container")).removeAttr("aria-hidden"),$(".overlay").remove()),i.element.trigger("close",i.isCancelled),this.oldActive&&$(this.oldActive).is("a:visible, button:visible, input:visible, textarea:visible")?(this.oldActive.focus(),this.oldActive=null):this.trigger.parents(".toolbar, .formatter-toolbar").length<1&&this.trigger.focus(),$("#validation-errors, #tooltip, #validation-tooltip").addClass("is-hidden"),$(".skip-link").off("focus.modal"),setTimeout(function(){i.overlay.remove(),i.root[0].style.display="none",i.element.trigger("afterclose"),("immediate"===i.settings.trigger||e)&&(!i.isCAP||i.isCAP&&!i.capAPI)&&i.destroy()},300),!1)},updated:function(e){return e&&(this.settings=m.mergeSettings(this.element,e,this.settings)),"immediate"===this.settings.trigger&&this.open(),this},destroy:function(){var e=this;function t(){e.modalButtons&&e.element.find("button").off("click.modal"),1===e.element.find(".detailed-message").length&&$("body").off("resize.modal-"+this.id),e.isCAP&&e.capAPI&&e.capAPI.teardown(),e.trigger.off("click.modal"),e.root&&e.root.length?e.root.remove():e.element.closest(".modal-page-container").remove(),e.element[0].removeAttribute("data-modal"),$.removeData(e.element[0],"modal"),e.isCAP&&e.capAPI&&e.capAPI.destroy()}this.element.trigger("beforedestroy")&&(this.visible?(this.element.one("afterclose.modal",function(){t()}),this.close(!0)):t())}};var pi={title:"Message Title",status:"",message:"Message Summary",width:"auto",buttons:null,cssClass:null,returnFocus:null,al Line: 333 -  <b><br><br/><del><em><i><ins><mark><small><strong><sub><sup>",audibleLabel:""};function gi(e,t){this.element=$(e),this.settings=m.mergeSettings(e,t,pi),this.init()}gi.prototype={init:function(){var e=this,t=void 0,i=this.settings.allowedTags,n=!0;this.settings.allowedTags.length>0||(n=!1),this.message=$('<div class="modal message"></div>'),this.messageContent=$('<div class="modal-content"></div>'),this.title=$('<h1 class="modal-title" id="message-title">'+(n?s.stripTags(this.settings.title,i):s.stripHTML(this.settings.title))+"</h1>").appendTo(this.messageContent).wrap('<div class="modal-header"></div>'),this.content=$('<div class="modal-body"><p class="message" id="message-text">'+(n?s.stripTags(this.settings.message,i):s.stripHTML(this.settings.message))+"</p></div>").appendTo(this.messageContent),""!==this.settings.audibleLabel&&this.title.prepend('<span class="audible">'+C.translate(this.settings.audibleLabel)+"</span>"),this.element.is("body")||(t=this.element,this.content.empty().append(t.show())),this.message.append(this.messageContent).appendTo("body"),this.message.modal({trigger:"immediate",buttons:this.settings.buttons,resizable:this.settings.resizable,close:this.settings.close,isAlert:!0}),"auto"!==this.settings.width&&(this.content.closest(".modal")[0].style.maxWidth="none",this.content.closest(".modal")[0].style.width=this.settings.width+(/(px|%)/i.test(""+this.settings.width)?"":"px")),this.settings.cssClass&&this.message.addClass(this.settings.cssClass),this.message.on("beforeclose.message",function(){return e.element.triggerHandler("beforeclose")}).on("beforeopen.message",function(){return e.element.triggerHandler("beforeopen")}).on("open.message",function(){e.element.trigger("open")}).on("afterclose.message",function(){e.destroy(),e.settings.returnFocus&&e.settings.returnFocus.focus(),$(document).off("keypress.message keydown.message")}),$(document).on("keypress.message keydown.message",function(t){27===(t.which||t.keyCode)&&setTimeout(function(){var t=e.message.data("modal");void 0!==t&&t.close()},0)}),"error"===this.settings.status?this.title.addClass("has- Line: 337 -  n(){var e=this;return this.trigger.on("click.popdown",function(){e.toggle()}).on("updated.popdown",function(){e.updated()}),this},hasValidTriggerSetting:function(){return this.settings.trigger instanceof $||n.isElement(this.settings.trigger)},hasFocus:function(){var e=document.activeElement;return!!this.trigger.is(e)||!!$.contains(this.popdown[0],e)},isOpen:function(){return"true"===this.trigger.attr("aria-expanded")},open:function(){if(!this.isAnimating){var e=this,t=!1;this.isAnimating=!0,this.trigger.attr("aria-expanded","true"),this.position(),this.popdown.addClass("visible"),setTimeout(function(){$("body").on("resize.popdown",function(){e.hasFocus()||e.close()}),e.settings.keepOpen||($(document).on("click.popdown",function(){e.hasFocus()||e.close()}),t||(t=!0,$(document).on("focusin.popdown",function(){e.hasFocus()||e.close()}))),e.isAnimating=!1},400)}},close:function(){if(!this.isAnimating){var e=this;this.isAnimating=!0,this.trigger.attr("aria-expanded","false"),this.popdown.removeClass("visible"),this.popdown.off("focusin.popdown"),$("body").off("resize.popdown"),$(document).off("click.popdown focusin.popdown"),setTimeout(function(){e.popdown[0].style.display="none",e.isAnimating=!1},400)}},toggle:function(){this.isOpen()?this.close():this.open()},place:function(){this.scrollparent=$("body"),this.popdown.detach().appendTo(this.scrollparent)},position:function(){var e={offset:{left:0,top:0},scrollDistance:{left:0,top:0}},t=window.innerHeight+$(document).scrollTop(),i=window.innerWidth-2+$(document).scrollLeft();this.popdown.removeAttr("style"),this.arrow.removeAttr("style"),this.scrollparent.length&&(e.offset=this.scrollparent.offset(),e.scrollDistance.top=this.scrollparent.scrollTop(),e.scrollDistance.left=this.scrollparent.scrollLeft(),t-=e.offset.top+e.scrollDistance.top,i-=e.offset.left+e.scrollDistance.left);var s=!1,n=!1,a=this.trigger,r=a.offset(),o=0,l=0,d=void 0;this.popdown.addClass("bottom"),this.popdown[0].style.left=r.left+"px",this.popdown[0].style.top=r.top+a.outerHeight(!0)+11+"px",this.arrow[0].style.left=a.outerWidth(!0)/2+"px",this.arrow[0].style.to Line: 340 -  &!s.hasClass("error")?a.length||(n.append(t),$("body").toast({audibleOnly:!0,message:C.translate("CapsLockOn")})):a.remove()}).on("blur.signin change.signin",'[type="password"]',function(){var e=$(this),i=e.closest(".field"),s=$(".icon-capslock",i);setTimeout(function(){s&&s.length&&(e.hasClass("error")?s.remove():i.append(t))},150)})}},$.fn.signin=function(e){return this.each(function(){var t=$.data(this,"signin");t?t.updated(e):t=$.data(this,"signin",new Si(this,e))})};var Ai={value:[50],min:0,max:100,range:!1,step:void 0,ticks:[],tooltipContent:void 0,persistTooltip:!1};function Ii(e,t){this.element=$(e),this.settings=m.mergeSettings(this.element[0],t,Ai),this.init()}function Di(e){return e%1==0}function Ei(e,t){return t&&!isNaN(t)&&0!==t||(t=1),Math.round(e/t)*t}function Li(e,t){var i=e[0],s=e[1],n=t[0],a=t[1];return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))}Ii.prototype={init:function(){return this.buildSettings().addMarkup().bindEvents()},buildSettings:function(){var e=this;this.element.is(":disabled")&&this.element.closest(".field").addClass("is-disabled"),this.settings||(this.settings={}),this.settings.value=void 0!==this.element.attr("value")?this.element.attr("value"):this.settings.value,this.settings.min=void 0!==this.element.attr("min")?parseInt(this.element.attr("min"),10):this.settings.min,this.settings.max=void 0!==this.element.attr("max")?parseInt(this.element.attr("max"),10):this.settings.max,this.settings.range=void 0!==this.element.attr("data-range")?"true"===this.element.attr("data-range"):this.settings.range,this.settings.step=isNaN(this.element.attr("step"))?this.settings.step:Number(this.element.attr("step")),""===this.settings.value&&(this.settings.value=this.settings.min);var t=void 0;if(void 0!==this.element.attr("data-ticks")){try{t=JSON.parse(e.element.attr("data-ticks"))}catch(e){t=[]}$.isArray(t)&&(this.settings.ticks=t)}var i="true"===this.element.attr("data-tooltip-persist")||!0===this.element.attr("data-tooltip-persist");if(this.settings.persistTooltip=void 0!==this.element.attr("data-tooltip-persist")?i:this.settings.persistTooltip,this.sett Line: 345 -  ttings.max:n[1];l=(o=r+(a=Di(r)?a:isNaN(r%a)?0:a-r%a)<d?r+a:d)%a?o:Ei(o,a),this.value([l])}this.checkHandleDifference(t,r,l),this.updateRange(),this.updateTooltip(t)},decreaseValue:function(e,t,i,s){e.preventDefault(),clearTimeout(t.data("animationTimeout"));var n=this.value(),a=void 0!==s?s:void 0!==this.settings.step?this.settings.step:1,r=void 0,o=void 0,l=void 0;if(t.hasClass("higher")){r=void 0!==i?i:n[1];var d=void 0===n[0]?this.settings.min:n[0];l=(o=r-(a=Di(r)?a:isNaN(r%a)?0:a-r%a)>d?r-a:d)%a?o:Ei(o,a),this.value([void 0,l])}else l=(o=(r=void 0!==i?i:n[0])-(a=Di(r)?a:isNaN(r%a)?0:r%a)>this.settings.min?r-a:this.settings.min)%a?o:Ei(o,a),this.value([l]);this.checkHandleDifference(t,r,l),this.updateRange(),this.updateTooltip(t)},updateRange:function(){for(var e=this,t=this.value(),i=[],s=this.getColorClosestToValue(),n=e.wrapper.hasClass("vertical"),a=0;a<this.ticks.length;a++){(this.settings.range?t[0]<this.ticks[a].value&&this.ticks[a].value<=t[1]:this.ticks[a].value<=t[0])?(this.ticks[a].element.addClass("complete"),s&&(this.ticks[a].element[0].style.backgroundColor=s,this.ticks[a].element.addClass("inherit"))):(this.ticks[a].element.removeClass("complete"),s&&(this.ticks[a].element[0].style.backgroundColor="",this.ticks[a].element.removeClass("inherit")))}s&&(this.range[0].style.backgroundColor=s,$.each(this.handles,function(e,t){t[0].style.backgroundColor=s,t[0].style.borderColor=s})),$.each(e.ticks,function(t){e.ticks[t].label[0].style.color=""}),i[0]=this.convertValueToPercentage(t[0]),void 0!==t[1]&&(i[1]=this.convertValueToPercentage(t[1]));var r=n?["bottom","top"]:e.isRtlHorizontal?["right","left"]:["left","right"],o={};function l(e,t){var i=n?r[1]:r[0],s=n?100-t:t;e.css(i,"calc("+s+"% - "+e.outerWidth()/2+"px)")}this.handles[1]?(o[r[0]]=i[0]+"%",o[r[1]]=100-i[1]+"%"):(o[r[0]]="0%",o[r[1]]=100-i[0]+"%"),this.range.css(o),this.handles[0].hasClass("is-animated")&&this.handles[0].data("animationTimeout",setTimeout(function(){e.handles[0].removeClass("is-animated").trigger("slide-animation-end"),e.range.removeClass("is-animated")},201)),l(this.handles[0],i[0]),thi Line: 346 -  (this.handles[1].hasClass("is-animated")&&this.handles[1].data("animationTimeout",setTimeout(function(){e.handles[1].removeClass("is-animated").trigger("slide-animation-end"),e.range.removeClass("is-animated")},201)),l(this.handles[1],i[1]),this.handles[0].attr("aria-valuemax",t[1]),this.handles[1].attr("aria-valuemin",t[0]))},checkHandleDifference:function(e,t,i){if(!$("html").hasClass("ie9")){var s=this.convertValueToPercentage(t),n=this.convertValueToPercentage(i);Math.abs(s-n)>3&&(e.addClass("is-animated"),this.range.addClass("is-animated"))}},updateTooltip:function(e){if(this.settings.tooltip){if(!e){var t=this.handles[0].data("tooltip"),i=void 0;return this.handles[1]&&(i=this.handles[1].data("tooltip")),t.hide(),void(i&&i.hide())}var s=e.data("tooltip");e.hasClass("is-animated")?(s.hide(),e.one("slide-animation-end",function(){n()})):n()}function n(){s.position(),e.focus()}},getColorClosestToValue:function(){for(var e={light:{default:"#000000","very-poor":"#a13030",poor:"#d66221",adequate:"#f2bc41",good:"#9cce7c","very-good":"#76b051",superior:"#488421"},dark:{default:"#ffffff","very-poor":"#a13030",poor:"#d66221",adequate:"#f2bc41",good:"#9cce7c","very-good":"#76b051",superior:"#488421"},"high-contrast":{default:"#000000","very-poor":"#a13030",poor:"#d66221",adequate:"#e4882b",good:"#76b051","very-good":"#56932e",superior:"#397514"}}[R.currentTheme.id],t=this.value()[0],i=void 0,s=void 0,n=0;n<this.ticks.length;n++)(s=this.ticks[n].color)&&t>=this.ticks[n].value&&(i=s,i=s.indexOf("#")>-1?s:e[s]||e.default);return i},value:function(e,t){var i=this;return void 0===e&&void 0===t?i._value:(e&&$.isArray(e)&&(void 0!==e[1]&&(t=e[1]),e=e[0]),void 0===e&&$.isArray(i._value)&&void 0!==i._value[0]&&(e=i._value[0]),void 0===t&&$.isArray(i._value)&&void 0!==i._value[1]&&(t=i._value[1]),i._value=[e,t],i.element.val(void 0!==t?i._value:i._value[0]),$.each(i.handles,function(e,t){var s=i._value[e],n=i.getModifiedTextValue(s);$.each(i.ticks,function(e,t){t.value===s&&(n=t.description)}),t.attr({"aria-valuenow":i._value[e],"aria-valuetext":n})}),i.element.trigger("change"),i._value)}, Line: 348 -  unction(){e.deactivateHandle(i)}),e.enableHandleDrag(i)}),e.wrapper.on("click.slider touchend.slider touchcancel.slider",function(t){e.handleRangeClick(t)}),e.element.on("updated.slider",function(){e.updated()}),e}},$.fn.slider=function(e){return this.each(function(){var t=$.data(this,"slider");t?t.updated(e):t=$.data(this,"slider",new Ii(this,e))})};function Pi(e,t){this.element=$(e),this.settings=m.mergeSettings(e,t),this.init()}Pi.prototype={init:function(){return this.build().handleEvents()},build:function(){return this.viewport=this.element.find("meta[name=viewport]"),this.body=$("body"),this},handleEvents:function(){var e=this;return this.element.on("updated.zoom",function(){e.updated()}).on("enable-zoom",function(){e.enableZoom()}).on("disable-zoom",function(){e.disableZoom()}),"ios"!==l.os.name?this:(this.body.on("touchstart.zoomdisabler","input, label",function(){e.noZoomTimeout||e.disableZoom()}).on("touchend.zoomdisabler","input, label",function(){e.noZoomTimeout&&(clearTimeout(e.noZoomTimeout),e.noZoomTimeout=null),e.noZoomTimeout=setTimeout(function(){e.noZoomTimeout=null,e.enableZoom()},600)}),this)},enableZoom:function(){this.viewport[0].setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=1")},disableZoom:function(){this.viewport[0].setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=0")},updated:function(e){return e&&(this.settings=m.mergeSettings(this.element[0],e,this.settings)),this.teardown().init()},teardown:function(){return this.element.off("updated.zoom enable-zoom disable-zoom"),this.body.off("touchstart.zoomdisabler touchend.zoomdisabler"),this},destroy:function(){this.teardown(),$.removeData(this.element[0],"zoom")}},$.fn.zoom=function(e){return this.each(function(){var t=$.data(this,"zoom");t?t.updated(e):t=$.data(this,"zoom",new Pi(this,e))})};var Mi={autocorrectOnBlur:!1,min:-2147483647,max:2147483647,step:null,validateOnInput:!0};function Bi(e,t){this.element=$(e),this.settings=m.mergeSettings(this.element[0],t,Mi),this.init()}Bi.prototype={get isTouch(){return l.features.touch},init:function(){t Line: 350 -  t||i||s||(i="9999999"),(t||i)&&!s){var o="",l=t||"",d=i||"",c=l.length>d.length?l:d;for(r=0;r<=c.length;)o+="#",r++;-1===l.indexOf("-")&&-1===d.indexOf("-")||(o="-"+o.substring(0,o.length-1)),a["data-mask"]=o,s=o}var h=s.length;for(r=0;r<=h;)n+="9",r++;return-1===s.indexOf("-")?(a.min=t||0,a.max=i||n):(a.min=t||n,a.max=i||n.substring(0,n.length-1)),this.element.attr("data-mask-mode")&&"number"===this.element.attr("data-mask-mode")||(a["data-mask-mode"]="number"),this.element.data("mask")&&"object"===u(this.element.data("mask"))&&this.element.data("mask").destroy(),a["aria-valuemin"]=t||0,a["aria-valuemax"]=i||0,this.element.attr(a),this.updateAria(this.element.val()),this.element.mask(),this.isDisabled()&&this.disable(),this.element.attr("readonly")&&this.readonly(),this},enableLongPress:function(e,t){t.addButtonStyle(e),t.longPressInterval=setInterval(function(){$(e.currentTarget).is(":hover")&&t.handleClick(e)},140)},disableLongPress:function(e,t){t.removeButtonStyle(e),clearInterval(t.longPressInterval),t.longPressInterval=null},handleClick:function(e){(e.preventDefault(),this.isDisabled()||1!==e.which||this.isReadonly())||($(e.currentTarget).hasClass("up")?this.increaseValue():this.decreaseValue(),this.safeFocus())},handleKeyDown:function(e,t){var i=e.which;if(-1!==$.inArray(i,[35,36,37,38,39,40])&&!this.isReadonly())switch(i){case 35:t.element.attr("min")&&t.element.val(t.element.attr("min"));break;case 36:t.element.attr("max")&&t.element.val(t.element.attr("max"));break;case 38:t.addButtonStyle(t.buttons.up),t.increaseValue();break;case 40:t.addButtonStyle(t.buttons.down),t.decreaseValue()}},handleKeyPress:function(e,t){var i=e.which;if(!(i<48||i>57&&i<96||i>105))return this.handleInput(e,t)},handleInput:function(e,t){if(!t.isDisabled()&&!this.isReadonly()&&!this.settings.autocorrectOnBlur)return this.correctValue(e)},handleKeyup:function(e,t){if(!t.isDisabled()&&!this.isReadonly()){var i=e.which;switch(i){case 38:case 39:C.isRTL()&&39===i?t.removeButtonStyle(t.buttons.down):t.removeButtonStyle(t.buttons.up);break;case 37:case 40:C.isRTL()&&39===i?t.removeButtonStyle(t. Line: 353 -  ?s.parent():s,r=s.width(),o=void 0;if(setTimeout(function(){o=s.height()},0),this.docBody=$("body"),this.isSplitterRightSide=i.is(".splitter-right")||"x"===t.axis&&"right"===t.side,this.isSplitterHorizontal=i.is(".splitter-horizontal")||"y"===t.axis,t.uniqueId=m.uniqueId(this.element,"splitter"),this.isSplitterRightSide){var l=a.prev();if(l.is(".main")?(this.leftSide=l,r=a.parent().outerWidth()-r):(this.leftSide=a,i.addClass("splitter-right")),a.addClass("is-right-side").next().addClass("flex-grow-shrink is-right-side").parent().addClass("splitter-container"),t.collapseButton){var d=0;$('<button type="button" class="splitter-btn" id="splitter-collapse-btn"><svg class="icon" focusable="false" aria-hidden="true" role="presentation"><use xlink:href="#icon-double-chevron"></use></svg></button>').appendTo(i),i[0].offsetLeft>10&&$("#splitter-collapse-btn").addClass("rotate"),$("#splitter-collapse-btn").click(function(){d<=0?i[0].offsetLeft<=10?(e.splitTo(299,o),$(this).addClass("rotate")):(d=i[0].offsetLeft,e.splitTo(0,o),$(this).removeClass("rotate")):i[0].offsetLeft>10?(d=i[0].offsetLeft,e.splitTo(0,o),$(this).removeClass("rotate")):(e.splitTo(d,o),$(this).addClass("rotate"),d=0)})}}else this.isSplitterHorizontal?(this.topPanel=i.prev(),r=this.topPanel.height(),s.addClass("splitter-container is-horizontal"),i.next().addClass("flex-grow-shrink"),i.addClass("splitter-horizontal")):(this.rightSide=a,this.leftSide=a.prev().parent(),a.prev().addClass("flex-grow-shrink").parent().addClass("splitter-container"));return localStorage&&t.save&&!isNaN(parseInt(localStorage[t.uniqueId],10))&&(r=localStorage[t.uniqueId]),r=parseInt(r,10),this.isSplitterHorizontal?i[0].style.top=r+"px":i[0].style.top=0,this.splitTo(r,o),r<=10&&$("#splitter-collapse-btn").removeClass("rotate"),this.documentWidth=0,this.element.drag({axis:t.axis,containment:t.containment||"x"===t.axis?"document":"parent",containmentOffset:{left:20,top:0}}).on("dragstart.splitter",function(){var t=$("iframe");if(e.documentWidth=$(document).width(),t.length>0)for(var i=0,s=t.length;i<s;i++){var n=$(t[i]),a=parseInt(getComputedStyl Line: 355 -  itional:null,availableClass:".available",selectedClass:".selected",additionalClass:".full-access",availableBtn:".btn-moveto-selected",selectedBtnLeft:".btn-moveto-left",selectedBtnRight:".btn-moveto-right",additionalBtn:".btn-moveto-selected",draggable:{available:!0,selected:!0,additional:!0},template:'<ul data-swap-handle=".handle">{{#dataset}}{{#text}}<li data-id="{{id}}"{{#value}} data-value="{{value}}"{{/value}}{{#selected}} selected="selected"{{/selected}}{{#disabled}} class="is-disabled"{{/disabled}}><span class="handle" focusable="false" aria-hidden="true" role="presentation">&#8286;</span><div class="swaplist-item-content"><p>{{text}}</p></div></li>{{/text}}{{/dataset}}</ul>'};function Fi(e,t){this.settings=m.mergeSettings(e,t,Ni),this.element=$(e),this.init()}Fi.prototype={init:function(){var e=this,t=this.settings;t.draggable=$.extend(!0,Ni.draggable,t.draggable),this.isTouch=l.features.touch,this.isAdditional=$(t.additionalClass+" .listview",this.element).length>0,this.isTouch&&this.element.addClass("is-touch"),this.loadListview(),this.initDataset(),this.setElements(),this.isMultiSelectClass(),setTimeout(function(){e.makeDraggable(),e.handleEvents(),e.initSelected(t.availableClass),e.initSelected(t.additionalClass)},0)},loadListview:function(){for(var e=this.settings,t=[{dataset:e.available,class:e.availableClass,draggable:e.draggable.available},{dataset:e.selected,class:e.selectedClass,draggable:e.draggable.selected},{dataset:e.additional,class:e.additionalClass,draggable:e.draggable.additional}],i=0,s=t.length;i<s;i++){var n=t[i],a=$(n.class+" .listview",this.element),r=a.data("listview"),o={dataset:n.dataset||[],selectable:"multiple",showCheckboxes:!1};(!0===e.searchable||"true"===e.searchable)&&$(n.class+" .searchfield",this.element).length>0&&(o.searchable=!0),!n.dataset&&a.length&&$("li",a).length?a.listview(o):a.length&&(r&&r.destroy(),-1===e.template.indexOf('data-id="{{id}}"')&&(e.template=e.template.replace("<li",'<li data-id="{{id}}"')),o.template=e.template,o.dataset=n.dataset||[],o.dataset.forEach(function(e){/string|number/.test(u(e.id))&&""!==e.id||( Line: 368 -   0,a=e.attr("href");if("#"===a.substr(0,1)){if("#/"===a.substr(0,2)&&(a=a.replace("#/","#")),void 0!==a&&"#"!==a){if(n=$(a),i.is(":not(.has-popupmenu)")&&!n.length)return;e.data("panel-link",n),n.data("tab-link",e),t.panels=t.panels.add(n)}s&&s.menu.children("li").each(function(){var e=$(this),i=e.children("a"),s=i.attr("href"),n=$(s);if(i.data("panel-link",n),n.data("tab-link",i),t.panels=t.panels.add(n),t.anchors=t.anchors.add(i),e.hasClass("dismissible")){var a=e.children(".icon");a.length||(a=$.createIconElement({icon:"close",classes:"icon close"})),a.detach().appendTo(i)}}).on("click.popupmenu",".icon",function(e){var i=$(this),s=i.closest("li");s.is(".dismissible")&&i.is(".icon")&&(e.preventDefault(),e.stopPropagation(),t.closeDismissibleTab(s.children("a").attr("href")))})}}),t.panels.addClass("tab-panel").attr({role:"tabpanel"}).find("h3:first").attr("tabindex","0"),t.panels.appendTo(t.container);var l=":not(.separator):not(.is-disabled):not(.is-hidden)",d=this.tablist.children("li"+l),c=this.tablist.children("li.is-selected"+l),h=c.children("a"),u=void 0,p=void 0;return t.nestedTabControls=t.panels.find(".tab-container"),d.length&&(this.settings.changeTabOnHashChange&&(u=window.location.hash)&&u.length&&(p=d.find('a[href="'+u+'"]')).length&&(h=(c=p.first().parent()).children("a")),c.length||(h=(c=d.not(".add-tab-button, .application-menu-trigger").first()).children("a")),c.length&&this.activate(h.attr("href"),h)),this.isModuleTabs()&&this.element.children(".toolbar").length&&this.element.addClass("has-toolbar"),this.setOverflow(),this.positionFocusState(h),this.hasAnimatedBar()&&(this.animatedBar.addClass("no-transition"),this.focusBar(void 0,function(){setTimeout(function(){e.animatedBar.removeClass("no-transition")},0)})),this.tablistContainer&&(this.tablistContainer.on("scroll.tabs",function(){e.renderEdgeFading()}),this.renderEdgeFading()),this},renderHelperMarkup:function(){var e=this.tablistContainer||this.tablist;this.isModuleTabs()&&(e=this.tablist),this.focusState=this.element.find(".tab-focus-indicator"),this.focusState.length||(this.focusState=$('<div clas Line: 372 -  is.activate(s,i)||(this.changeHash(s),this.focusState.removeClass("is-visible"),i.focus(),this.isScrollableTabs()&&this.scrollTabList(t),this.focusBar(t),this.positionFocusState(i),!0!==this.settings.lazyLoad||!this.isURL(s))},handleMoreButtonClick:function(e){return this.element.is(".is-disabled")||this.moreButton.is(".is-disabled")?(e.preventDefault(),e.stopPropagation(),!1):(this.moreButton.data("focused-by-click",!0),this.hasMoreButton()||e.stopPropagation(),this.moreButton.hasClass("popup-is-open")?(this.popupmenu.close(),this.moreButton.removeClass("popup-is-open")):this.buildPopupMenu(),this.hideFocusState(),!0)},handleTabFocus:function(e,t){if(this.element.is(".is-disabled"))return e.preventDefault(),!1;var i=t.parent(),s=t.data("focused-by-click"),n=void 0===s||s&&!1===s;return $.removeData(t[0],"focused-by-click"),this.isTabOverflowed(i)?(this.buildPopupMenu(t.attr("href")),this.moreButton.addClass("is-focused"),this.positionFocusState(this.moreButton)):(i.addClass("is-focused"),this.positionFocusState(t,n)),!0},handleMoreButtonFocus:function(e){if(this.element.is(".is-disabled"))e.preventDefault();else{var t=this.moreButton.data("focused-by-click"),i=t&&!1===t;$.removeData(this.moreButton[0],"focused-by-click"),this.focusState.removeClass("is-visible"),this.positionFocusState(this.moreButton,i)}},handleTabKeyDown:function(e){if(this.element.is(".is-disabled"))return e.preventDefault(),!1;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey&&8!==e.which)return!0;var t=this,i=[8,13,32];function s(){return $.inArray(e.which,i)>-1}if(e.which<32&&!s()||e.which>46)return!0;if(s()&&!this.handleAppMenuTabKeydown(e))return!0;function n(i){e.preventDefault(),setTimeout(function(){t.buildPopupMenu(i)},0)}var a=":not(.separator):not(.is-disabled):not(:hidden)",r=$(e.currentTarget).parent(),o=r.children("a"),l=void 0,d=t.tablist.children("li"+a),c=C.isRTL();function h(){for(var e=d.index(r)-1;e>-1&&!l;){if(d.eq(e).is(a))return d.eq(e);e-=1}if(t.settings.addTabButton)return t.addTabButton;var i=t.tablist.children("li"+a).last();return t.hasMoreButton()&&t.isScrollableTabs()&&n(i.find(" Line: 380 -  pmenu")&&h&&(h.menu.children("li").each(function(){i.remove($(this).children("a").attr("href"))}),h.destroy());var u=s.closest(".dropdown-tab"),p=u.data("trigger");s.off("click.tabs"),n.off("click.tabs focus.tabs keydown.tabs"),s.remove(),r&&a.remove();var g,f=n.data("moremenu-link");f&&(f.parent().off().remove(),$.removeData(n[0],"moremenu-link")),(g=u).length&&0===g.children("li:not(.separator)").length&&(d=this.getPreviousTab(p),setTimeout(function(){i.remove(p)},1)),p&&p.length&&p.data("popupmenu").close(),this.isModuleTabs()&&this.adjustModuleTabs(),this.setOverflow(),this.element.trigger("close",[s]);for(var m=o-1;m>-1;)m=-1,d.is(l)&&(d=this.tablist.children("li").not(l)[0],m-=1);if(d.length||(d=this.tablist.children("li").not(l).first()),!d.length)return this.hideFocusState(),this.defocusBar(),this.element.trigger("afterclose",[s]),this;var v=d.children("a"),b=v;return this.positionFocusState(v),c&&(d.is(".has-popupmenu")&&d.data("popupmenu")&&(b=d.data("popupmenu").menu.children().first().children("a")),!this.activate(b.attr("href")))?this:(this.focusBar(d),v.focus(),this.element.trigger("afterclose",[s]),this)},createTabPanel:function(e,t,i){e=e.replace(/#/g,"");var a=$('<div id="'+s.stripTags(e)+'" class="tab-panel" role="tabpanel"></div>');return t instanceof $&&(t=t[0]),n.html(a[0],t||"","*"),!0===i&&this.container.append(a),this.panels=this.panels.add(a),a},checkPopupMenuItems:function(e){function t(e){if(!e||!e.menu)return $();var t=e.menu.children("li");return t.length?t:(e.destroy(),$())}if(e.is(".has-popupmenu"))return t(e.data("popupmenu"));var i=e.closest(".dropdown-tab");return i.length?t(i.data("popupmenu")):$()},getTab:function(e,t){var i,s=this,n=$();return t instanceof $&&t.length>0?t.is("a")?t.parent():t:e?(i=$(e.currentTarget)).is(".tab")?i:i.closest(".tab").length?i.closest(".tab").first():null:t?function(e){if(!e||""===e||"#"===e)return null;-1===e.indexOf("#")&&(e="#"+e);var t=s.anchors.filter('[href="'+e+'"]');return t.length?t.parent():null}(t):n},doGetTab:function(e,t){return(e||t)&&(!e||e instanceof $.Event||"string"==typeof e)?e?"string"!=typ Line: 385 -  .separator):not(.hidden):not(.is-disabled)"),t=e.first();if(this.isScrollableTabs())return e.last().find("a").focus();for(;!this.isTabOverflowed(t);)t=e.eq(e.index(t)+1);return e.eq(e.index(t)-1).find("a").focus()},focusFirstVisibleTab:function(){this.tablist.children("li:not(.separator):not(.hidden):not(.is-disabled)").eq(0).find("a").focus()},focusBar:function(e,t){if(this.hasAnimatedBar()&&e instanceof $&&e.length){var i=this,s=e,n=this.tablistContainer,a=C.isRTL(),r=void 0,o=void 0,l=void 0;if(this.animatedBar.removeClass("no-transition"),s&&void 0!==s&&s.length&&i.anchors.length){var d=window.getComputedStyle(s[0],null),c=parseInt(d.getPropertyValue("padding-right"),10)||0,h=parseInt(d.getPropertyValue("width"),10)||0;s.is(".tab")&&(l=window.getComputedStyle(s.children("a")[0]),c+=parseInt(l.getPropertyValue("padding-right"),10)||0);var u,p,g=a?c+s.position().left+s.outerWidth(!0):s.position().left;clearTimeout(i.animationTimeout),this.animatedBar.addClass("visible"),u=t,p=i.animatedBar[0].style,o=n[0].scrollLeft,r=n[0].scrollWidth,a?p.right=r+c-(g+o)+"px":p.left=g+o+"px",p.width=h+"px",u&&"function"==typeof u&&u()}else this.animatedBar.removeClass("visible")}},defocusBar:function(){if(this.hasAnimatedBar()){var e=this,t=C.isRTL()?0:e.animatedBar.position().left+e.animatedBar.outerWidth()/2;clearTimeout(e.animationTimeout),this.animatedBar[0].style.left=t+"px",this.animatedBar[0].style.width=0,this.animationTimeout=setTimeout(function(){e.animatedBar&&e.animatedBar.length&&e.animatedBar.removeClass("visible").removeAttr("style")},350)}},scrollTabList:function(e){if(this.tablistContainer&&e&&e instanceof $&&e.length){var t=n.getDimensions(e[0]),i=n.getDimensions(this.tablistContainer[0]),s=void 0,a=t.left,r=t.right;a<i.left+40&&(s=-1*Math.round(Math.abs(i.left-a))-40),r>i.right-40&&(s=Math.round(Math.abs(r-i.right))+40),0===s&&(s=void 0),this.tablistContainer.smoothScroll(s,250)}},hideFocusState:function(){this.focusState.removeClass("is-visible")},positionFocusState:function(e,t){if(void 0!==e?e=$(e):this.moreButton.hasClass("is-selected")?e=this.moreButton:this.tablist. Line: 412 -  ctNodeById:function(e){this.selectNodeByJquerySelector("#"+e)},selectNodeByJquerySelector:function(e){var t=this.isjQuery(e)?e:$(e);if(t.length&&!t.is(".is-disabled")){var i=t.parentsUntil(this.element,"ul[role=group]");this.expandAll(i),this.selectNode(t,!0)}},unSelectedNode:function(e,t){if(0!==e.length){var i=this;$("a",this.element).attr("tabindex","-1"),e.attr("tabindex","0"),$("a:not(.is-disabled)",e.parent()).attr("aria-selected","false").parent().removeClass("is-selected"),this.syncNode(e),this.setNodeStatus(e),t&&e.focus(),[].slice.call(this.element[0].querySelectorAll("li")).forEach(function(e){return e.classList.remove("is-active")}),e[0].parentNode.classList.add("is-active"),setTimeout(function(){var t=e.data("jsonData")||{};i.element.triggerHandler("unselected",{node:e,data:t})},0)}},selectNode:function(e,t){var i=this,s=this.settings;if(0!==e.length){var n=void 0;"function"==typeof s.onBeforeSelect?(n=s.onBeforeSelect(e))&&n.done&&"function"==typeof n.done?n.done(function(s){s&&i.selectNodeFinish(e,t)}):n&&i.selectNodeFinish(e,t):i.selectNodeFinish(e,t)}},selectNodeFinish:function(e,t,i){if(this.isMultiselect&&i)if("click"===i.type||"touch"===i.type){if(i.target.classList.contains("icon")&&e[0].parentNode.classList.contains("folder"))return}else if("keydown"===i.type){var s=i.charCode||i.keyCode;if(37===s||39===s)return}var n=this,a=[].slice.call(this.element[0].querySelectorAll("a"));if(a.forEach(function(e){return e.setAttribute("tabindex","-1")}),e[0].setAttribute("tabindex","0"),this.isMultiselect){[].slice.call(e[0].parentNode.querySelectorAll("a:not(.is-disabled)")).forEach(function(e){e.setAttribute("aria-selected","true"),e.classList.add("is-selected"),e.parentNode.classList.add("is-selected")})}else{if(e[0].classList.contains("is-selected"))return;a.forEach(function(e){var t=$(e),i=t.data("jsonData");i&&(delete i.selected,t.data("jsonData",i)),e.setAttribute("aria-selected","false"),e.classList.remove("is-selected"),e.parentNode.classList.remove("is-selected")}),e[0].setAttribute("aria-selected","true"),e[0].classList.add("is-selected"),e[0].parentNode. Line: 413 -  "is-selected")}this.syncNode(e),this.loading||this.setNodeStatus(e),t&&e.focus(),[].slice.call(this.element[0].querySelectorAll("li")).forEach(function(e){return e.classList.remove("is-active")}),e[0].parentNode.classList.add("is-active"),setTimeout(function(){var t=e.data("jsonData")||{};n.element.triggerHandler("selected",{node:e,data:t})},0)},setNodeStatus:function(e){var t=this,i=e.data("jsonData"),s=void 0;if(this.isMultiselect){var n=function(e,i){e.forEach(function(e){var s=$(e.querySelector("a")),n=t.getSelectedStatus(s,i);"mixed"===n?(e.classList.remove("is-selected","is-partial"),e.classList.add("is-partial")):n?(e.classList.remove("is-selected","is-partial"),e.classList.add("is-selected")):e.classList.remove("is-selected","is-partial"),t.syncNode(s)})},a=!1;n(s=[].slice.call(e[0].parentNode.querySelectorAll("li.folder")),a),a=!(!s.length&&i&&!i.selected),s=e.parentsUntil(this.element,"li.folder"),n(s=[].slice.call(s.toArray()),a)}else{var r=e[0],o=r.parentNode;i&&i.selected?(o.classList.add("is-selected"),r.classList.add("is-selected"),r.setAttribute("aria-selected",!0)):(o.classList.remove("is-selected","is-partial"),r.classList.remove("is-selected","is-partial"),r.setAttribute("aria-selected",!1))}},getSelectedStatus:function(e,t){var i=0,s=0,n=0,a=void 0;e.parent().find("a").each(function(e){t&&0===e||(i++,(a=$(this).data("jsonData"))&&a.selected?s++:n++)});return i===s||i!==n&&"mixed"},toggleNode:function(e,t){var i=e.next(),s=this,n=this.settings,a=void 0;if(i[0]&&"ul"===i[0].tagName.toLowerCase()&&"group"===i[0].getAttribute("role"))if(i[0].classList.contains("is-open"))"function"==typeof n.onCollapse?(a=n.onCollapse(e))&&a.done&&"function"==typeof a.done?a.done(function(i){i&&s.selectNodeFinish(e,focus,t)}):a&&s.selectNodeFinish(e,focus,t):s.selectNodeFinish(e,focus,t),s.setTreeIcon(e.closest(".folder").removeClass("is-open").end().find("svg.icon-tree"),n.folderIconClosed),s.hasIconClass(e.closest(".folder a"))&&s.setTreeIcon(e.closest(".folder a").find("svg.icon-tree"),e.closest(".folder a").attr("class").replace("open","closed").replace(/\s?is-selected/,"" Line: 423 -  lement.triggerHandler("menuselect",{node:s,item:i})}),t.element.triggerHandler("menuopen",{menu:$("#"+e),node:s}),!1})},createSortable:function(){if(this.settings.sortable){var e=this,t=void 0,i=void 0,s=void 0;if(e.targetArrow=e.element[0].previousElementSibling,e.linkSelector="a:not(.is-dragging-clone):not(.is-disabled)",!e.targetArrow||e.targetArrow&&!e.targetArrow.classList.contains("tree-drag-target-arrow")){var n=document.createElement("div");n.classList.add("tree-drag-target-arrow"),e.element[0].parentNode.insertBefore(n,e.element[0]),e.targetArrow=e.element[0].previousElementSibling}i=setInterval(function(){e.loading||(clearInterval(i),[].slice.call(e.element[0].querySelectorAll(e.linkSelector)).forEach(function(i){var n=$(i);n.data("drag")||n.on("mousedown.tree",function(e){e.preventDefault(),s=!(3===e.which||e.target.classList.contains("icon")&&i.parentNode.classList.contains("folder"))}).drag({clone:!0,cloneAppendTo:n.closest("li"),clonePosIsFixed:!0}).on("dragstart.tree",function(a,r,o){if(!o||!s)return i.classList.remove("is-dragging"),void(o&&o[0].parentNode.removeChild(o[0]));(t=o)[0].removeAttribute("id"),t[0].classList.add("is-dragging-clone"),[].slice.call(t[0].querySelectorAll(".tree-checkbox, .tree-badge")).forEach(function(e){return e.parentNode.removeChild(e)});var l=n.closest("ul");e.sortable={startIndex:$(e.linkSelector,e.element).index(n),startNode:n,startIcon:$("svg.icon-tree",n).getIconName(),startUl:l,startLi:n.closest("li"),startFolderNode:l.prev("a"),startWidth:n.outerWidth()},e.element.triggerHandler("sortstart",e.sortable),a.preventDefault(),a.stopImmediatePropagation()}).on("drag.tree",function(i,s){t&&(t[0].style.left=s.left+"px",t[0].style.top=s.top+"px",t[0].style.opacity="1",e.setDragOver(t,s))}).on("dragend.tree",function(i,s){if(e.targetArrow.style.display="none",[].slice.call(e.element[0].querySelectorAll(e.linkSelector)).forEach(function(e){return e.classList.remove("is-over")}),t&&e.sortable.overDirection){t[0].style.left=s.left+"px",t[0].style.top=s.top+"px";var n=e.sortable.startNode.parent(),a=e.sortable.overNode.parent();"over"=== Line: 429 -  (e.parent()[0]).width),t=C&&C.isRTL()?100-t:t),this.completedRange[0].style.width=t+"%",this},updated:function(e){return e&&(this.settings=m.mergeSettings(this.element[0],e,this.settings)),this.buildTicks().updateRange(),this},teardown:function(){return this.ticks.off("click.wizard"),this.element.off("updated.wizard"),this.ticks.remove(),this},select:function(e,t){return S(this.activate,this.select).apply(this,[e,t])},activate:function(e,t){if(void 0===e&&!t)return this;var i,s=this;if(i=void 0,void 0===e||null!=e&&e.type&&e.target||t||(t=e),t=void 0===t?(i=$(e.target)).is(".label")?i.parent():i:"number"==typeof t?s.ticks.eq(t):t,e&&(t.is("[disabled], .is-disabled")||!t.is("a")))return e.preventDefault(),e.stopPropagation(),this;if(!1===this.element.triggerHandler("beforeactivate",[t]))return this;var n=this.ticks.index(t);return this.ticks.removeClass("complete current").eq(n).addClass("current").prevAll(".tick").addClass("complete"),this.updateRange(),this.element.trigger("activated",[t]),setTimeout(function(){s.element.trigger("afteractivated",[t])},300),this},destroy:function(){this.teardown(),$.removeData(this.element[0],"wizard")},handleEvents:function(){var e=this;return this.element.on("updated",function(){e.updated()}),this.ticks.on("click.wizard",function(t){e.activate(t,$(this))}),this}},$.fn.wizard=function(e){return this.each(function(){var t=$.data(this,"wizard");t?t.updated(e):t=$.data(this,"wizard",new hs(this,e))})};var us={Text:function(e,t,i){return null==i||""===i?"":i.toString()},Input:function(e,t,i,s){return s.inlineEditor?'<label for="datagrid-inline-input-'+e+"-"+t+'" class="audible">'+s.name+'</label><input id="datagrid-inline-input-'+e+"-"+t+'" class="'+("right"===s.align?"is-number-mask":"")+'" value="'+i+'">':null==i||""===i?"":i.toString()},Placeholder:function(e,t,i,s,n){if(s.placeholder&&""===i){var a=s.placeholder;return"[object Function]"==={}.toString.call(a)?a=a(e,t,i,s,n):n&&a in n&&(a=n[a]),'<span class="is-placeholder">'+a+"</span>"}return null==i||""===i?"":i.toString()},Ellipsis:function(e,t,i,s){var n=null==i||""===i?"":i.toString();r Line: 436 -  l bar chart-completion-target chart-targeted-achievement">\n              <div class="target remaining bar" style="width: '+(o||0)+'%;"></div>\n              <div class="completed bar '+(s.ranges&&r.classes?r.classes:"primary")+'" style="width: '+n+'%;"></div>\n              '+(s.showPercentText?'<div class="chart-targeted-text l-center" '+(l?'style="color: white"':"")+">"+a+"</div>\n            </div>":"")}};function ps(e,t,i,s,n,a,r,o,l){if(a.align&&e.addClass("l-"+a.align+"-text"),a.maxLength&&e.attr("maxlength",a.maxLength),a.uppercase&&e.addClass("uppercase-text"),a.mask&&"function"==typeof a.mask){var d=a.mask(t,i,s,a,l);e.mask({pattern:d,mode:a.maskMode})}else if(a.maskOptions&&"function"==typeof a.maskOptions){var c=a.maskOptions(t,i,s,a,l);e.mask(c)}else a.mask&&e.mask({pattern:a.mask,mode:a.maskMode});var h={patternOptions:{allowNegative:!0,allowDecimal:!0,integerLimit:4,decimalLimit:2,symbols:{thousands:C.currentLocale.data.numbers?C.currentLocale.data.numbers.group:",",decimal:C.currentLocale.data.numbers?C.currentLocale.data.numbers.decimal:".",negative:C.currentLocale.data.numbers?C.currentLocale.data.numbers.minusSign:"-"}},process:"number"},u=!1;a.maskOptions&&(u=!0),a.numberFormat&&(u=!0,h={patternOptions:{decimalLimit:a.numberFormat.maximumFractionDigits}}),a.maskOptions&&"function"==typeof a.maskOptions&&(u=!1),u&&(a.maskOptions=m.extend(!0,{},h,a.maskOptions),e.mask(a.maskOptions)),a.align&&"right"===a.align||e.removeClass("is-number-mask")}var gs={Input:function(e,t,i,s,n,a,r,o){this.name="input",this.originalValue=i,this.useValue=!!n.inlineEditor,this.init=function(){n.inlineEditor?this.input=s.find("input"):this.input=$('<input type="'+(n.inputType||"text")+'"/>').appendTo(s),ps(this.input,e,t,i,0,n,0,0,o)},this.val=function(e){var t=void 0;return e&&this.input.val(e),n&&n.numberFormat&&"percent"===n.numberFormat.style?(t=this.input.val().trim().replace(/(\s%?|%)$/g,""),C.parseNumber(t)/100):this.input.val()},this.focus=function(){this.input.focus().select()},this.destroy=function(){var e=this;n.inlineEditor||setTimeout(function(){e.input.remove()},0)}, Line: 437 -  extarea:function(e,t,i,s,n){this.name="textarea",this.originalValue=i,this.init=function(){this.input=$('<textarea class="textarea"></textarea>').appendTo(s),n.maxLength&&this.input.attr("maxlength",n.maxLength),n.uppercase&&this.input.addClass("uppercase-text")},this.val=function(e){return e&&this.input.focus().val(e),this.input.val()},this.focus=function(){this.input.focus()},this.destroy=function(){var e=this;setTimeout(function(){e.input.remove()},0)},this.init()},Editor:function(e,t,i,n,a,r,o){this.name="editor",this.originalValue=i,this.init=function(){var e=this,t=$.extend({},{buttons:{editor:["bold","italic","underline","strikethrough","separator","foreColor"],source:[]},excludeButtons:{editor:[]}},a.editorOptions);this.editorWidth=o.setUnit(t.width||n.outerWidth()),delete t.width,n[0].innerHTML='<div class="editor-wrapper" style="width: '+this.editorWidth+';">\n          <div class="editor" data-init="false">'+s.unescapeHTML(i)+"</div>\n        </div>",this.td=n.closest("td"),this.input=$(".editor",n),this.input.popover({content:$(".editor-wrapper",n),placementOpts:{x:0,y:"-"+(parseInt(n[0].style.height,10)+35),parent:this.td,parentXAlignment:C.isRTL()?"right":"left",strategies:["flip","nudge","shrink"]},placement:"bottom",popover:!0,trigger:"immediate",tooltipElement:"#editor-popup",extraClass:"editor-popup"}).editor(t).on("hide.editor",function(){o.commitCellEdit(e.input)}).on("keydown.editor",function(t){var i=t.which||t.keyCode||t.charCode||0;if((t.ctrlKey||t.metaKey)&&(13===i||10===i)){var s=e.input.data("tooltip");s&&(s.hide(),o.setNextActiveCell(t))}}),m.fixSVGIcons($("#editor-popup"))},this.val=function(){return this.input.html()},this.focus=function(){var e=this;setTimeout(function(){e.input.focus()},0)},this.destroy=function(){var e=this;n.removeAttr("style"),o.quickEditMode=!1,e.input.off("hide.editor keydown.editor"),setTimeout(function(){e.input.remove()},0)},this.init()},Checkbox:function(e,t,i,s,n,a,r){this.name="checkbox",this.originalValue=i,this.useValue=!0,this.container=s,this.init=function(){this.input=$('<input type="checkbox" class="checkbox"/> Line: 438 -  ,this.input.after('<label class="checkbox-label"></label>'),n.align&&this.input.addClass("l-"+n.align+"-text")},this.val=function(e){var t=void 0;if(void 0===e)return this.input.prop("checked");t=n.isChecked?n.isChecked(e):e,"click"!==a.type&&("keydown"!==a.type||32!==a.keyCode)||$(a.target).is(".datagrid-checkbox-wrapper, .datagrid-cell-wrapper")||(t=!t,r.setNextActiveCell(a)),this.input.prop("checked",t)},this.focus=function(){this.input.trigger("focusout"),this.container.parent().focus()},this.destroy=function(){var e=this;setTimeout(function(){e.input.next(".checkbox-label").remove(),e.input.remove()},0)},this.init()},Colorpicker:function(e,t,i,n,a,r,o){this.name="colorpicker",this.originalValue=i,this.useValue=!0,i=s.stripTags(i),this.init=function(){this.input=$('<input id="colorpicker-'+t+'" name="colorpicker-'+t+'" class="colorpicker" value="'+i+'" type="text" />').appendTo(n),this.input.colorpicker(a.editorOptions)},this.val=function(e){return e?this.input.val(e):this.input.val()},this.focus=function(){var t=this;this.input.trigger("openlist"),o.rowNodes(e).removeClass("is-hover-row"),this.input.focus().select(),this.input.off("listclosed").on("listclosed",function(){o.commitCellEdit(t.input),n.parent("td").focus()})},this.destroy=function(){},this.init()},Dropdown:function(e,t,i,s,n,a,r,o){this.name="dropdown",this.originalValue=i,this.useValue=!0,this.cell=r.activeCell,this.init=function(){var l=this;if(n.inlineEditor)this.input=s.find("select");else{if(this.input=$('<select class="dropdown"></select>').appendTo(s),n.options){var d=void 0,c=void 0,h=void 0;i=r.fieldValue(o,n.field);for(var p=n.caseInsensitive&&"string"==typeof i?i.toLowerCase():i,g=0;g<n.options.length;g++)d=$("<option></option>"),c=n.options[g],h=n.caseInsensitive&&"string"==typeof c.value?c.value.toLowerCase():c.value,(c.selected||p===h)&&(d.attr("selected","true"),this.originalValue=h),d.attr("value",c.value).attr("id",c.id).attr("data-type",u(c.value)),d.text(c.label),this.input.append(d)}var f=n.editorOptions||{};f.cssClass&&/is-editing/g.test(f.cssClass)||(f.cssClass=f.cssClass||"",f.cssClass Line: 439 -  "),this.input.dropdown(f),this.input.on("requestend",function(){l.val(l.datasetValue)}),this.input.data("dropdown").settings.sourceArguments={column:n,container:s,grid:r,cell:t,event:a,row:e,rowData:o,value:i}}},this.val=function(e){if(this.datasetValue=e,void 0!==e){var t=n.caseInsensitive&&"string"==typeof e?e.toLowerCase():e;this.input.val(e),this.input.find("option").each(function(){var e=$(this),i=e.attr("value"),s=e.attr("data-type"),a=i;"number"===s?a=parseFloat(i):"boolean"===s?a="true"===i:"string"===s&&n.caseInsensitive&&(a=i.toLowerCase()),a===t&&e.attr("selected","true")})}var i=this.input.find(":selected"),s=i.attr("value"),a=i.attr("data-type");return"number"===a?s=parseFloat(s):"boolean"===a&&(s="true"===s),void 0===s&&(s=i.text()),s},this.focus=function(){var t=this;"click"===a.type?(this.input.trigger("openlist"),r.rowNodes(e).removeClass("is-hover-row"),$("#dropdown-list input").focus()):this.input[0].parentNode.querySelector("div.dropdown").focus();this.input.off("listclosed").on("listclosed",function(e,i){r.commitCellEdit(t.input),"select"!==i?"tab"===i&&setTimeout(function(){s.parent("td").focus()},100):s.parent("td").focus()})},this.destroy=function(){},this.init()},Date:function(e,t,i,s,n,a,r){this.name="date",this.originalValue=i,this.init=function(){this.input=$('<input class="datepicker"/>').appendTo(s),this.input.datepicker(n.editorOptions||{dateFormat:n.dateFormat})},this.val=function(i){return"0000"!==i&&"000000"!==i&&"00000000"!==i||(i=""),i&&this.input.val(i),us.Date(e,t,this.input.val(),n,!0)},this.focus=function(){var e=this;this.input.select().focus(),"click"===a.type&&$(a.target).is(".icon")&&(this.input.parent().find(".icon").trigger("click"),this.input.closest("td").addClass("is-focused")),this.input.on("listclosed",function(){e.input.closest("td").removeClass("is-focused"),setTimeout(function(){e.input.trigger("focusout"),s.parent().focus(),r.setNextActiveCell(a)},1)})},this.destroy=function(){var e=this;setTimeout(function(){r.quickEditMode=!1,e.input.remove()},0)},this.init()},Fileupload:function(e,t,i,n,a,r,o){var l=this,d=m.mergeSetti Line: 440 -  ditorOptions,{allowedTypes:"*"}),c=d.allowedTypes.split(/[\s|]+/g),h=m.uniqueId(this,"fileupload-"+e+"-"+t+"-"),u=d.useMultiple?" multiple":"",p=d.isDisabled?" disabled":"",g="";if(1===c.length)"*"!==c[0]&&(g="."+s.ensureAlphaNumeric(c[0]));else for(var f=0,v=c.length;f<v;f++)g+="."+s.ensureAlphaNumeric(c[f])+(f!==v-1?",":"");""!==g&&(g=' accept="'+g+'"'),this.name="fileupload",this.originalValue=i,this.status="init",this.useValue=!0,this.init=function(){h=s.ensureAlphaNumeric(h),u=s.ensureAlphaNumeric(u),p=s.ensureAlphaNumeric(p),this.input=$('<input id="'+h+'" name="'+h+'" class="fileupload" type="file" '+g+u+p+" />"),n.append("<label>"+this.input[0].outerHTML+"</label>"),this.api=this.input.fileupload(a.editorOptions).data("fileupload"),this.input.closest("td").addClass("is-fileupload").find("label:eq(1)").addClass("audible")},this.val=function(e){return e?(e=s.stripTags(e),this.input.attr("value",e),e):this.input.val()},this.focus=function(){var e=function(){""!==l.originalValue&&(l.status="clear"),o.commitCellEdit(l.input)},t=function(){l.api&&($("body").one("focusin.fileuploadeditor",function(){setTimeout(function(){"change"!==l.status&&(l.status="cancel",o.commitCellEdit(l.input))},100)}),l.api.fileInput.trigger("click"))};if(l.input.on("change.fileuploadeditor",function(){l.status="change",o.commitCellEdit(l.input)}),"keydown"===r.type){var i=r.which||r.keyCode||r.charCode||0;8===i||46===i?e():13===i||10===i?t():o.commitCellEdit(l.input)}if("click"===r.type){var s=$(r.target);s.is(".icon-close")?e():s.is(".icon-fileupload")?t():o.commitCellEdit(l.input)}},this.destroy=function(){l.input.off("change.fileuploadeditor"),o.quickEditMode=!1,l.api&&l.api.destroy()},this.init()},Time:function(e,t,i,s,n,a,r){this.name="time",this.originalValue=i,this.init=function(){this.input=$('<input class="timepicker"/>').appendTo(s),this.api=this.input.timepicker(n.editorOptions||"").data("timepicker")},this.val=function(e){return e&&this.input.val(e),this.input.val()},this.focus=function(){var e=this;this.input.select().focus(),"click"===a.type&&$(a.target).is(".icon")&&(this.input.pare Line: 441 -  on").trigger("click"),this.input.closest("td").addClass("is-focused")),this.api.trigger.on("hide.editortime",function(){e.input.closest("td").removeClass("is-focused"),setTimeout(function(){e.input.trigger("focusout"),s.parent().focus(),r.setNextActiveCell(a)},1)})},this.destroy=function(){var e=this;e.api&&e.api.trigger&&e.api.trigger.off("hide.editortime"),setTimeout(function(){r.quickEditMode=!1,e.input.remove()},0)},this.init()},Lookup:function(e,t,i,s,n,a,r,o){this.name="lookup",this.originalValue=i,this.init=function(){this.input=$('<input class="lookup '+("right"===n.align?"align-text-right":"")+'" data-init="false" />').appendTo(s),ps(this.input,e,t,i,0,n,0,0,o),this.input.lookup(n.editorOptions),this.input.data("lookup").settings.clickArguments={column:n,container:s,grid:r,cell:t,event:a,row:e,rowData:o,value:i}},this.val=function(e){var t=this.input.val();return t&&t.indexOf("|")>-1&&(t=t.substr(0,t.indexOf("|"))),e?this.input.val(e):t},this.focus=function(){var e=this.input.data("lookup"),t=this.input.closest("td");"keydown"===a.type&&(this.input.select().focus(),t.on("keydown.editorlookup",function(e){40===e.keyCode&&(e.preventDefault(),e.stopPropagation())})),"click"===a.type&&($(a.target).is("svg")?e.openDialog(a):(this.input.select().focus(),t.on("touchcancel.editorlookup touchend.editorlookup",".trigger",function(){e.openDialog()}))),this.input.on("change",function(){setTimeout(function(){s.parent().focus(),r.quickEditMode=!1},1)})},this.destroy=function(){var e=this,t=this.input.closest("td");setTimeout(function(){r.quickEditMode=!1,t.off("keydown.editorlookup").find(".trigger").off("touchcancel.editorlookup touchend.editorlookup"),e.input.remove()},0)},this.init()},Autocomplete:function(e,t,i,s,n,a,r){this.name="autocomplete",this.originalValue=i,this.init=function(){this.input=$('<input class="autocomplete datagrid-autocomplete" />').appendTo(s),n.editorOptions||(n.editorOptions={}),n.editorOptions.width=s.parent().width(),n.editorOptions.offset={left:-1,top:"medium"===r.settings.rowHeight?1:5},n.maxLength&&this.input.attr("maxlength",n.maxLength),n.upperca Line: 442 -  .addClass("uppercase-text"),this.input.autocomplete(n.editorOptions)},this.val=function(e){return e?this.input.val(e):this.input.val()},this.focus=function(){r.quickEditMode=!0,this.input.select().focus()},this.destroy=function(){var e=this;setTimeout(function(){r.quickEditMode=!1,e.input.remove()},0)},this.init()},Spinbox:function(e,t,i,s,a,r,o){this.name="spinbox",this.originalValue=i,this.useValue=!0,this.init=function(){if(a.inlineEditor)this.input=s.find("input");else{var e='<label for="spinbox-'+t+'" class="audible">Quantity</label>\n        <span class="spinbox-wrapper"><span class="spinbox-control down">-</span>\n        <input id="spinbox-'+t+'" name="spinbox-'+t+'" type="text" class="spinbox" value="\'+ '+i+' +\'">\n        <span class="spinbox-control up">+</span></span>';n.append(s,e,"<label><span><input>"),this.input=s.find("input"),a.editorOptions||(a.editorOptions={}),this.input.spinbox(a.editorOptions)}},this.val=function(e){return e?parseInt(this.input.val(e),10):parseInt(this.input.val(),10)},this.focus=function(){o.quickEditMode=!0,this.input.select().focus()},this.destroy=function(){var e=this;a.inlineEditor||setTimeout(function(){o.quickEditMode=!1,e.input.remove()},0)},this.init()},Favorite:function(e,t,i,s,n,a,r){this.name="favorite",this.useValue=!0,this.originalValue=i,this.init=function(){this.input=$('<span class="icon-favorite">'+$.createIcon({icon:i?"star-filled":"star-outlined"})+'<input type="checkbox"></span>').appendTo(s),this.input=this.input.find("input")},this.val=function(e){var t=void 0;if(void 0===e)return this.input.prop("checked");t=n.isChecked?n.isChecked(e):e,"click"!==a.type&&("keydown"!==a.type||32!==a.keyCode)||$(a.target).is(".datagrid-cell-wrapper")||(t=!t,r.setNextActiveCell(a)),this.input.prop("checked",t),this.input.find("use").attr("xlink:href",t?"#icon-star-filled":"#icon-star-outlined")},this.focus=function(){this.input.trigger("focusout").focus()},this.destroy=function(){var e=this;setTimeout(function(){e.input.parent().remove()},0)},this.init()}},fs={cleanExtra:function(e,t){var i=[];if(i=!t&&e?fs.datasetToHtml(e):fs.app Line: 449 -  mns.push(s)})}return e.each(function(){var e=$(this).find("td"),n={};e.each(function(e,s){var a=$(s),r="column"+e;t.settings.columns[e].formatter?n[r]=a.text():n[r]=a.html(),i&&(t.settings.columns[e].field=r)}),s.push(n)}),s},addRow:function(e,t){var i=this,s=!1,n=0,a=void 0,r=void 0;t&&"top"!==t||(t="top",s=!0),e.rowStatus={icon:"new",text:C.translate("New"),tooltip:C.translate("New")},"string"==typeof t?i.settings.dataset[s?"unshift":"push"](e):i.settings.dataset.splice(t,0,e),i.renderRows(),i.syncSelectedUI(),setTimeout(function(){n=s?n:i.settings.dataset.length-1,i.setActiveCell(n,0),r=i.tableBody.find('tr[aria-rowindex="'+(n+1)+'"]'),a={row:n,cell:0,target:r,value:e,oldValue:{}},i.pagerRefresh(t),i.element.triggerHandler("addrow",a)},100)},pagerRefresh:function(e){if(this.pagerAPI){var t={};"string"==typeof e?t.activePage="top"===e?1:this.pagerAPI._pageCount:"number"==typeof e&&(t.activePage=Math.floor(e/(this.pagerAPI.settings.pagesize+1))),this.settings.source||(t.total=this.settings.dataset.length,t.pagesize=this.settings.pagesize),this.renderPager(t,!0)}},removeRow:function(e,t){var i=this.tableBody.find('tr[aria-rowindex="'+(e+1)+'"]'),s=this.settings.dataset[e];this.unselectRow(e,t),this.settings.dataset.splice(e,1),this.renderRows(),this.element.trigger("rowremove",{row:e,cell:null,target:i,item:s,oldValue:s})},removeSelected:function(){this._selectedRows.sort(function(e,t){return e.idx<t.idx?-1:e.idx>t.idx?1:0});for(var e=this._selectedRows.length-1;e>=0;e--)this.removeRow(this._selectedRows[e].idx,!0);this.pagerRefresh(),this.syncSelectedUI()},updateDataset:function(e,t){if(this.settings.toolbar&&this.settings.toolbar.keywordFilter){var i=this.element.parent().find(".toolbar").find(".searchfield");i.val(""),i.parent().removeClass("has-text"),this.clearFilter()}this.loadData(e,t)},triggerSource:function(e,t,i){if(this.settings.source){var s=this,n={};this.pagerAPI&&(n=this.pagerAPI.state),"string"==typeof e?(n.type=e,n.trigger=i):e&&(n=m.extend({},n,e)),t&&"function"!=typeof t&&"string"==typeof t.type&&(n.type=t.type),!1!==this.element.triggerHandler("beforepagin Line: 457 -  der"]'),n=t.columnById(s.attr("data-column-id"))[0];if(n&&"date"===n.filterType){var a=s.find("input"),r=s.find(".btn-filter .icon-dropdown:first").getIconName().replace("filter-","");t.filterSetDatepicker(a,r,n.editorOptions)}t.applyFilter(null,"selected")}).off("close.datagrid-filter").on("close.datagrid-filter",function(){var e=$(this).data("popupmenu");e&&e.destroy()}),!1});var i=void 0;this.headerContainer.off("keydown.datagrid").on("keydown.datagrid",".datagrid-filter-wrapper input",function(e){return clearTimeout(i),e.stopPropagation(),13!==e.which||(t.applyFilter(null,"enter"),e.preventDefault(),e.stopPropagation(),!1)}),this.settings.filterWhenTyping&&this.headerContainer.off("keyup.datagrid").on("keyup.datagrid",".datagrid-filter-wrapper input",function(s){13!==s.which&&(e.activeCell&&e.activeCell.isFocused&&(e.activeCell.isFocused=!1),clearTimeout(i),i=setTimeout(function(){t.applyFilter(null,"keyup")},400))}),this.headerContainer.find("tr:last th").each(function(){var e=t.columnById($(this).attr("data-column-id"))[0],i=$(this);if(!e)return!0;i.find("select.dropdown").each(function(){var s=$(this);s.dropdown(e.editorOptions).on("selected.datagrid",function(){t.applyFilter(null,"selected")}).on("listopened.datagrid",function(){var e=s.data("dropdown");e&&(t.isInViewport(e.list[0])||t.adjustPosLeft(e.list[0]))}),s.data("dropdown").settings.sourceArguments={column:e,container:i,grid:t,cell:e,event:void 0,row:-1,rowData:{},value:void 0}}),i.find("select.multiselect").each(function(){var s=$(this);s.multiselect(e.editorOptions).on("selected.datagrid",function(){t.applyFilter(null,"selected")}),s.data("dropdown").settings.sourceArguments={column:e,container:i,grid:t,cell:e,event:void 0,row:-1,rowData:{},value:void 0}}),e.maskOptions&&i.find("input").mask(e.maskOptions),e.mask&&i.find("input").mask(e.mask);var s=i.find(".datepicker");s.length&&"function"==typeof $().datepicker&&s.datepicker(e.editorOptions||{dateFormat:e.dateFormat}).on("listclosed.datepicker",function(){t.applyFilter(null,"selected")});var n=i.find(".lookup");n.length&&"function"==typeof $().lookup&&(e.e Line: 469 -  activeCell.isFocused&&t.setActiveCell(t.activeCell.row,t.activeCell.cell),t.settings.paging&&t.settings.source&&!t.settings.allowSelectAcrossPages&&(t._selectedRows=[],t.syncSelectedUI()),t.settings.paging&&t.settings.source&&t.settings.allowSelectAcrossPages&&(t.syncSelectedRows(),t.syncSelectedUI()),t.settings.paging&&!t.settings.source&&null===t.settings.allowSelectAcrossPages&&(t.syncSelectedRows(),t.syncSelectedUI()),setTimeout(function(){if(t.element.trigger("afterrender",{body:t.bodyContainer,header:t.headerContainer,pager:t.pagerBar}),t.hasRightPane&&e.isWindows){var i=t.tableRight.width()+17;t.tableRight.parent().width(i),t.tableRight.parent().find(".datagrid-column-wrapper").eq(0).width(i),t.headerTableRight.width(i)}})},triggerDestroyCell:function(){var e=this,t=this;if(t.tableBody&&this.settings.onPostRenderCell&&this.settings.onDestroyCell){var i=t.tableBody.find("tr");if(0===i.length)return;for(var s=function(s){var n=e.settings.columns[s];n.component&&i.each(function(){var e=$(this),i=e.index(),s=t.columnIdxById(n.id),a={row:e.index(),cell:s,value:t.settings.dataset[i],col:n,api:t};t.settings.onDestroyCell(e.find("td").eq(s).find(".datagrid-cell-wrapper .content")[0],a)})},n=0;n<this.settings.columns.length;n++)s(n)}},cacheVirtualStats:function(){var e=this.element[0].offsetHeight,t=this.bodyWrapperCenter[0].scrollTop,i=e-("normal"===this.settings.rowHeight?40:"medium"===this.settings.rowHeight?30:25),s="normal"===this.settings.rowHeight?50:"medium"===this.settings.rowHeight?40:30;this.virtualRange={rowHeight:s,top:Math.max(t-(this.settings.virtualRowBuffer-1)*s,0),bottom:t+i+(this.settings.virtualRowBuffer-1)*s,totalHeight:s*this.settings.dataset.length,bodyHeight:i}},isRowVisible:function(e){if(!this.settings.virtualized)return!(this.settings.paging&&!this.settings.source&&e&&this.pagerAPI)||(this.pagerAPI.activePage-1)*this.settings.pagesize>=e&&this.pagerAPI.activePage*this.settings.pagesize<=e;0===e&&this.cacheVirtualStats();var t=e*this.virtualRange.rowHeight;return t>=this.virtualRange.top&&t<this.virtualRange.bottom},setVirtualHeight:function(){if(this. Line: 478 -  er+", "+n.rowstatus:n.header+", "+n.td+", "+n.icons;var a=function(e,t){t=void 0===t?400:t,s=setTimeout(function(){var t=m.hasClass(e,"datagrid-column-wrapper"),s=!!m.hasClass(e.parentNode,"datagrid-filter-wrapper")&&e.parentNode.querySelectorAll(".popupmenu.is-open").length>0,n=$(e).data("gridtooltip")||i.cacheTooltip(e),a=t?e.parentNode:e,r=i.getOuterWidth(a);n&&(n.forced||n.textwidth>r-35)&&!s&&i.showTooltip(n)},t)},r=function(e,t){t=void 0===t?400:t,clearTimeout(s),setTimeout(function(){i.hideTooltip(),m.hasClass(e.parentNode,"datagrid-filter-wrapper")&&i.removeTooltipData(e)},t)};this.element.off("mouseenter.gridtooltip",n.str).on("mouseenter.gridtooltip",n.str,function(){a(this)}).off("mouseleave.gridtooltip click.gridtooltip",n.str).on("mouseleave.gridtooltip click.gridtooltip",n.str,function(){r(this)}).off("longpress.gridtooltip",n.str).on("longpress.gridtooltip",n.str,function(){a(this,0)}).off("keydown.gridtooltip",n.str).on("keydown.gridtooltip",n.str,function(e){var t=e.which||e.keyCode||e.charCode||0,s=!1;return e.shiftKey&&112===t?a(this,0):27===t&&(s=i.isGridtooltip(),r(this,0)),s&&e.preventDefault(),!s})}},getOuterWidth:function(e){var t=getComputedStyle(e),i=e.offsetWidth;return i+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)},closest:function(e,t){return e&&(t(e)?e:this.closest(e.parentNode,t))},headerNodes:function(){return this.headerContainer?this.headerContainer.find("tr:not(.datagrid-header-groups) th"):$()},updateRow:function(e,t){var i=this.settings,s=t;s||(s=i.treeGrid?i.treeDepth[e].node:i.dataset[e]);for(var n=0;n<this.settings.columns.length;n++){var a=this.settings.columns[n];a.hidden||this.updateCellNode(e,n,this.fieldValue(s,a.field),!0)}},updateColumns:function(e,t){this.settings.columns=e,t&&(this.settings.columnGroups=t),this.rerender(),this.resetPager("updatecolumns"),this.element.trigger("columnchange",[{type:"updatecolumns",columns:this.settings.columns}]),this.saveUserSettings()},saveColumns:function(){T(this.saveUserSettings,this.saveColumns),this.settings.saveColumns&&this.canUseLocalStorage()&&(localStorage[this.uniqueId("col Line: 487 -  nd(".datagrid-selection-checkbox").length,l=!!t.settings.clickToSelect||o;r.is(".datagrid-drilldown")&&(l=!1),s&&((l=o)||(e.shiftKey&&t.activatedRow().length&&(t.selectRowsBetweenIndexes([t.activatedRow()[0].row,r.closest("tr").index()]),e.preventDefault()),t.toggleRowActivation(r.closest("tr")))),l&&i&&e.shiftKey?(t.selectRowsBetweenIndexes([t.lastSelectedRow,r.closest("tr").index()]),e.preventDefault()):l&&t.toggleRowSelection(r.closest("tr"));var d=t.makeCellEditable(t.activeCell.rowIndex,t.activeCell.cell,e),c=$(this).closest("td"),h=c.attr("aria-colindex")-1,u=t.columnSettings(h);if(u.click&&"function"==typeof u.click&&r.is("button, input[checkbox], a")||r.parent().is("button")){var p=$(this).closest("tr"),g=t.actualRowIndex(p);a=t.dataRowIndex(p);var f=t.settings.treeGrid?t.settings.treeDepth[g].node:t.settings.dataset[a];if(c.hasClass("is-focusable")&&!r.is(t.buttonSelector)&&!r.parent("button").is(t.buttonSelector))return;t.settings.groupable&&(p.is(".datagrid-rowgroup-header, .datagrid-rowgroup-footer")||(g=t.actualPagingRowIndex(t.actualRowIndex(p)),(f=t.settings.dataset[t.groupArray[g].group])&&f.values&&(f=f.values[t.groupArray[g].node]))),(!c.hasClass("is-cell-readonly")&&r.is("button, input[checkbox], a")||r.parent().is("button"))&&u.click(e,[{row:g,cell:t.activeCell.cell,item:f,originalEvent:e}])}if(u.menuId){var m=$(this).find("button");m.popupmenu({attachToBody:!0,autoFocus:!1,mouseFocus:!0,menuId:u.menuId,trigger:"immediate",offset:{y:5}}),u.selected&&m.on("selected.datagrid",u.selected)}d&&setTimeout(function(){$("textarea, input",c).length&&!$(".dropdown,[type=file],[type=image],[type=button],[type=submit],[type=reset],[type=checkbox],[type=radio]",c).length&&(t.quickEditMode=!0)},0)}}),"last"!==this.stretchColumn&&$(window).on("orientationchange.datagrid",function(){e.rerender()}),this.element.off("dblclick.datagrid").on("dblclick.datagrid","tbody tr",function(e){t.triggerRowEvent("dblclick",e,!0)}),this.element.off("contextmenu.datagrid").on("contextmenu.datagrid","tbody tr",function(e){if(t.isSubscribedTo(e,"contextmenu"))return t.triggerRowEvent("conte Line: 488 -  settings.menuId),e.preventDefault(),t.settings.menuId&&$("#"+t.settings.menuId).length>0&&$(e.currentTarget).popupmenu({menuId:t.settings.menuId,eventObj:e,beforeOpen:t.settings.menuBeforeOpen,attachToBody:!0,trigger:"immediate"}).off("selected").on("selected",function(e,i){t.settings.menuSelected&&t.settings.menuSelected(e,i)}).off("close").on("close",function(){var e=$(this);e.data("popupmenu")&&e.data("popupmenu").destroy()}),!1}),this.headerRow.off("mousemove.datagrid").on("mousemove.datagrid","th",function(e){if(!t.dragging&&(t.currentHeader=$(e.target).closest("th"),t.currentHeader.hasClass("is-resizable"))){var i=t.currentHeader.closest(".header-detail"),s=i.length?parseInt(i.css("margin-left"),10):0,n=parseInt(t.currentHeader.position().left,10)-(s||0)+t.element.scrollLeft(),a=n+t.currentHeader.outerWidth(),r=e.pageX-n>a-e.pageX,o=0;o=r?a-6:n-6,0!==t.currentHeader.index()||r||(o="-999"),r||(t.currentHeader=t.currentHeader.prevAll(":visible").not(".is-hidden").first()),t.currentHeader.hasClass("is-resizable")&&(t.createResizeHandle(),t.resizeHandle[0].style.left=o+"px",t.resizeHandle[0].style.cursor="")}}).off("contextmenu.datagrid").on("contextmenu.datagrid","th",function(e){return e.preventDefault(),t.settings.headerMenuId&&$(e.currentTarget).popupmenu({menuId:t.settings.headerMenuId,eventObj:e,attachToBody:!0,beforeOpen:t.settings.headerMenuBeforeOpen,trigger:"immediate"}).off("selected.gridpopup").on("selected.gridpopup",function(e,i){t.settings.headerMenuSelected(e,i)}),!1}),this.headerContainer.off("click.datagrid-header-select").on("click.datagrid-header-select","th .datagrid-checkbox",function(){var e=$(this);e.hasClass("is-checked")?(e.removeClass("is-checked").attr("aria-checked","true"),t.unSelectAllRows()):(e.addClass("is-checked").attr("aria-checked","true"),t.selectAllRows())}),this.element.off("focusout.datagrid").on("focusout.datagrid","tbody td input, tbody td textarea, tbody div.dropdown",function(i){var s=i.target;$(s).is("input.lookup, input.timepicker, input.datepicker, input.spinbox, input.colorpicker")?setTimeout(function(){var e=$("*:focus");if( Line: 510 -  eCell.node.parent())):this.activeCell=i,$("input, button:not(.btn-secondary, .row-btn, .datagrid-expand-btn, .datagrid-drilldown, .btn-icon)",this.activeCell.node).length||(this.activeCell.node.focus(),o&&(this.activeCell.groupNode=this.activeCell.node)),this.activeCell.node.hasClass("is-focusable")&&this.activeCell.node.find("button").focus(),void 0!==r&&(this.activeCell.dataRow=r),void 0!==a&&(this.activeCell.rowIndex=a);var l=+s.find("td[colspan]").attr("colspan");if(o&&this.activeCell.node&&i.node&&!(e instanceof jQuery&&e.is("td"))&&(t<l?(s.find("td[colspan]").attr("tabindex","0").focus(),this.activeCell.groupNode=s.find("td[colspan]")):t>=l?(s.find("td").eq(t-l+1).attr("tabindex","0").focus(),this.activeCell.groupNode=s.find("td").eq(t-l+1)):(s.find("td").eq(t).attr("tabindex","0").focus(),this.activeCell.groupNode=s.find("td").eq(t))),o&&e instanceof jQuery&&e.is("td")&&(this.activeCell.cell=l-1+t,e.is("[colspan]")&&(this.activeCell.cell=t)),this.settings.cellNavigation){var d=this.headerNodes(),c=0;this.hasColSpans&&(c=0,d.eq(t).prevAll("[colspan]").each(function(e,t){var i=$(t).attr("colspan")-1;c+=i}),t-=c),d.removeClass("is-active"),d.eq(t).addClass("is-active")}this.activeCell.isFocused=!0;var h=this.settings.columns[t];h&&h.expandOnActivate&&this.activeCell&&this.activeCell.node&&this.activeCell.node.addClass("is-active"),this.syncBodyScroll(this.activeCell.node),this.element.trigger("activecellchange",[{node:this.activeCell.node,row:this.activeCell.row,cell:this.activeCell.cell}])}},setNextActiveCell:function(e){var t=this;if("keydown"===e.type)if(this.settings.actionableMode){var i=13===e.keyCode?40:e.keyCode;setTimeout(function(){var e=$.Event("keydown.datagrid");e.keyCode=i,t.activeCell.node.trigger(e)},0)}else this.setActiveCell(this.activeCell.row,this.activeCell.cell)},addChildren:function(e,t){if(!(!t||t&&!t.length||e<0)){var i=this.settings.treeDepth[e].node;i.children=i.children||[];for(var s=0,n=(t=JSON.parse(JSON.stringify(t))).length;s<n;s++)i.children.push(t[s]);this.updateDataset(this.settings.dataset)}},setExpandedInDataset:function(e,t){this.sett Line: 524 -  n&&this.titleButton.length){this.toolbarAPI.teardown();var e=$("#application-menu").data("applicationmenu");e&&e.modifyTriggers([this.titleButton],!0,!0),this.titleButton.off("click.header").remove(),this.titleButton=$(),this.toolbarAPI.init()}},removeBackButton:function(){this.titleButton.length&&this.element.find(".go-back").removeClass("go-back")},removeBreadcrumb:function(){if(this.breadcrumb&&this.breadcrumb.length){var e=this,t=$.fn.transitionEndName(),i=void 0;e.element.removeClass("has-breadcrumb").removeClass("has-alternate-breadcrumb"),this.breadcrumb.is(":not(:hidden)")?(this.element.one(t+".breadcrumb-header",s),i=setTimeout(s,300)):s()}function s(){i&&(clearTimeout(i),i=null),e.element.off(t+".breadcrumb-header"),e.breadcrumb.off().remove(),e.breadcrumb=$()}},removeTabs:function(){if(this.tabsContainer&&this.tabsContainer.length){var e=this,t=$.fn.transitionEndName(),i=void 0;this.element.removeClass("has-tabs").removeClass("has-alternate-tabs"),this.tabsContainer.is(":not(:hidden)")?(this.element.one(t+".tabs-header",s),i=setTimeout(s,300)):s()}function s(){i&&(clearTimeout(i),i=null),e.element.off(t+".tabs-header"),e.tabsContainer.data("tabs").destroy(),e.tabsContainer.remove(),e.tabsContainer=null,$("#header-tabs-level-1").css("display","none"),$("#header-tabs-level-2").css("display","none")}},removeWizard:function(){if(this.wizard&&this.wizard.length){var e=this,t=$.fn.transitionEndName(),i=void 0;this.element.removeClass("has-wizard"),this.wizard.is(":not(:hidden)")?(this.element.one(t+".wizard-header",s),i=setTimeout(s,300)):s()}function s(){i&&(clearTimeout(i),i=null),e.element.off(t+".wizard-header"),e.wizard.data("wizard").destroy(),e.wizard.remove(),e.wizard=null}},removePopupmenu:function(){this.titlePopup&&this.titlePopup.length&&(this.toolbarAPI.teardown(),this.titlePopup.data("popupmenu").destroy(),this.titlePopup.data("button").destroy(),this.titlePopupMenu.remove(),this.titlePopup.children("h1").detach().insertBefore(this.titlePopup),this.titlePopup.remove(),this.titlePopup=void 0,this.titlePopupMenu=void 0,this.element.removeClass("has-popupmenu- Line: 526 -  ("readonly","true").addClass("is-not-editable"),this.element.parent(".lookup-wrapper").next().is(".btn-actions")&&(this.element.data("fieldoptions")&&this.element.data("fieldoptions").destroy(),this.element.fieldoptions()),this.addAria()},addAria:function(){this.label=this.isInlineLabel?this.inlineLabelText:$('label[for="'+this.element.attr("id")+'"]')},handleEvents:function(){var e=this;this.icon.on("click.lookup",function(t){e.openDialog(t)}),this.element.on("keyup.lookup",function(t){$("#autocomplete-list").length>0||40===t.which&&e.openDialog(t)})},openDialog:function(e){var t=this;if(!1!==t.element.triggerHandler("beforeopen")&&!(t.isDisabled()||t.isReadonly()&&!t.element.hasClass("is-not-editable")))if(t.settings.click)t.settings.click(e,this,t.settings.clickArguments);else{if(this.settings.beforeShow){return this.element.triggerHandler("start"),void this.settings.beforeShow(this,function(e){return e&&t.createGrid(e),("boolean"!=typeof e||!1!==e)&&(t.createModal(),t.element.triggerHandler("complete"),t.element.trigger("open",[t.modal,t.grid]),t.settings.validator&&t.settings.validator(t.element,t.modal,t.grid),!0)})}if(this.settings.options){t.createModal(),t.element.trigger("open",[t.modal,t.grid]),t.modal.element.find(".btn-actions").removeClass("is-selected"),t.grid&&t.grid.cellNode(0,0,!0).attr("tabindex","0");var i=t.modal.element.find(".toolbar .more > .btn-actions");i.length&&setTimeout(function(){m.fixSVGIcons(i)},600),t.element.trigger("afteropen",[t.modal,t.grid]),t.settings.validator&&t.settings.validator(t.element,t.modal,t.grid)}}},createModal:function(){var e=this,t='<div id="'+As+'"></div>',i=$('label[for="'+e.element.attr("id")+'"]');var s=e.isInlineLabel?e.inlineLabelText:i.length?i.clone().find("span").remove().end().text():e.settings.title?e.settings.title:"",n=this.settings.modalContent;n&&n instanceof jQuery&&(t=n,n.show()),!n||n instanceof jQuery||(t=n);var a=this.settings.buttons;(this.settings.options&&"multiple"===this.settings.options.selectable&&0===a.length||!e.settings.autoApply&&0===a.length)&&(a=[{text:C.translate("Cancel"),click:function( Line: 527 -  .focus(),i.close()}},{text:C.translate("Apply"),click:function(t,i){i.close(),e.insertRows(e.grid.selectedRows())},isDefault:!0}]),this.settings.options&&"single"===this.settings.options.selectable&&0===a.length&&e.settings.autoApply&&(a=[{text:C.translate("Cancel"),click:function(t,i){e.element.focus(),i.close()}}]);var r=this.settings.options&&this.settings.options.toolbar&&this.settings.options.toolbar.keywordFilter;$("body").modal({title:s,content:t,buttons:a,cssClass:"lookup-modal"+(r?"":" lookup-no-search")}).off("open.lookup").on("open.lookup",function(){e.createGrid()}).off("close.lookup").on("close.lookup",function(){e.element.focus(),e.element.triggerHandler("close",[e.modal,e.grid])}),e.modal=$("body").data("modal"),this.settings.title||e.modal.element.find(".modal-title").append(' <span class="datagrid-result-count"></span>'),e.modal.element.off("afterclose.lookup").on("afterclose.lookup",function(){e.closeTearDown()}),setTimeout(function(){$(".modal.is-visible .searchfield").on("keypress.lookup",function(e){return 13!==e.keyCode})},300)},closeTearDown:function(){var e=$(".modal.is-visible .searchfield").off("keypress.lookup");e.data()&&e.data("searchfield")&&e.data("searchfield").destroy(),e.data()&&e.data("searchfield")&&(e.data("searchfield").destroy(),e.removeData()),e=null,this.grid&&this.grid.destroy&&(this.grid.destroy(),this.grid=null)},createGrid:function(e){var t=this,i=void 0;e?(i=e,As=e.attr("id"),t.settings.options=e.data("datagrid").settings):i=t.modal.element.find("#"+As),this.settings.minWidth&&(i=this.applyMinWidth(i)),t.settings.options&&("single"===t.settings.options.selectable&&t.settings.autoApply&&(t.settings.options.cellNavigation=!1,i.find("tr").addClass("is-clickable")),t.settings.options.isList=!0,i.data("datagrid")||i.datagrid(t.settings.options)),t.grid=i.data("datagrid"),!this.settings.title&&t.modal&&t.modal.element.find(".title").not(".selection-count").remove();var s=this.settings.options&&this.settings.options.toolbar&&this.settings.options.toolbar.keywordFilter;!s&&t.modal&&t.modal.element.find(".toolbar").appendTo(t.modal.element Line: 537 -  tepLink+":last:visible"),e.setFocus(a))}}),this.stepListJq.on("keypress.stepprocess",t.stepLink,function(i){var s=i.charCode||i.keyCode,n=$(this);if(s>=37&&s<=40||32===s)return i.stopPropagation(),!1;0!==i.which&&n.closest(t.stepLi).nextAll().find(".js-step-link:visible").each(function(){var t=$(this);if(t.text().substr(0,1).toLowerCase()===String.fromCharCode(i.which).toLowerCase())return e.setFocus(t),!1})})},isFolder:function(e){return $(e).hasClass("folder")},isInFolder:function(e){return $(e).closest(this.settings.stepFolder,this.stepListJq).length},isOpen:function(e){return $(e).hasClass("is-open")},setFocus:function(e){e.focus()},setIcon:function(e,t){var i=t.replace(/icon-|hide-focus|\s?/gi,"");e.changeIcon(i)},selectStep:function(e,t){var i=this;void 0===t&&(t="none");var s=void 0;if("function"==typeof i.settings.beforeSelectStep){var n={stepLink:e,isStepping:t};(s=i.settings.beforeSelectStep(n)).done&&"function"==typeof s.done?s.done(function(s,n){s&&(n&&(e=n),i.selectStepFinish(e,t))}):s&&i.selectStepFinish(e,t)}else i.selectStepFinish(e,t)},selectStepFinish:function(e,t){var i=this,s=$(this.settings.stepLink,this.stepListJq),n=e.closest(this.settings.stepLi);if(this.isFolder(n)||(s.attr({tabindex:"-1","aria-selected":"false"}).parent().removeClass("is-selected"),e.attr({tabindex:"0","aria-selected":"true"}),n.addClass("is-selected")),this.isFolder(n))"none"===t?this.folderToggle(n):this.folderOpen(n);else{var a=n.closest(this.settings.stepFolder,this.stepListJq);a.length&&this.folderOpen(a.closest(this.settings.stepLi)),this.showStepPanel(e.attr("href"))}e.focus(),setTimeout(function(){i.element.triggerHandler("selected",e)},0)},unSelectedNode:function(e){var t=$(this.settings.stepLink,this.stepListJq),i=$(e),s=i.children(this.settings.stepLink);t.attr("tabindex","-1"),s.attr("tabindex","0"),i.removeClass("is-selected"),s.attr("aria-selected","false")},setupEvents:function(){var e=this,t=this,i=this.settings;this.stepListJq.on("updated.stepprocess",function(){e.initStepprocess()}).on("click.stepprocess",i.stepLink+":not(.is-clone)",function(e){if(e.preventDefault(</Result>
</report_mosca>

<report_mosca>
 <Path>/src/dist/js/jquery-3.4.0.min.js</Path>
 <Module>/app/Mosca/eggs/javascript_common_fail.egg</Module>
 <Title> Possible code injection</Title>
 <Description> Command injection is an attack in which the goal is execution of arbitrary commands on the host operating system via a vulnerable application.</Description>
 <Level> High</Level>
 <Reference> https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132 </Reference>
 <Match> eval\s?\(|setTimeout|setInterval</Match>
 <Result> Line: 15 -  e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return F.then(e)["catch"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t, Line: 28 -  elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[ Line: 31 -  .stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement("input"),at=E.createElement("select").appendChild(E.createElement("option")),ot.type="checkbox",y.checkOn=""!==ot.value,y.optSelected=at.selected,(ot=E.createElement("input")).value="t",ot.type="radio",y.radioValue="t"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.ea Line: 37 -  Modified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="noconte Line: 39 -  pe(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||</Result>
</report_mosca>


/src/dist/npm/tools/fontsize/editor-fontsize.component.js-120-        this.editor.toolbar.toggle(false);
/src/dist/npm/tools/fontsize/editor-fontsize.component.js:121:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/npm/tools/fontsize/editor-fontsize.component.js-122-        dialogContent.setData({
##############################################
/src/dist/npm/tools/format/editor-format.component.js-121-        this.editor.toolbar.toggle(false);
/src/dist/npm/tools/format/editor-format.component.js:122:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/npm/tools/format/editor-format.component.js-123-        dialogContent.setData({
##############################################
/src/dist/npm/tools/tables/editor-insert-table-button.component.js-88-        this.editor.toolbar.toggle(false);
/src/dist/npm/tools/tables/editor-insert-table-button.component.js:89:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/npm/tools/tables/editor-insert-table-button.component.js-90-        dialogContent.setData({
##############################################
/src/dist/npm/tools/tables/editor-insert-table-button.component.js-141-        var popupPosition = { horizontal: horizontalAlign, vertical: "top" };
/src/dist/npm/tools/tables/editor-insert-table-button.component.js:142:        this.popupRef = this.popupService.open({
/src/dist/npm/tools/tables/editor-insert-table-button.component.js-143-            anchor: this.element,
##############################################
/src/dist/npm/tools/colorpicker/editor-colorpicker.component.js-90-        this.editor.toolbar.toggle(false);
/src/dist/npm/tools/colorpicker/editor-colorpicker.component.js:91:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/npm/tools/colorpicker/editor-colorpicker.component.js-92-        dialogContent.setData({
##############################################
/src/dist/npm/tools/fontfamily/editor-fontfamily.component.js-125-        this.editor.toolbar.toggle(false);
/src/dist/npm/tools/fontfamily/editor-fontfamily.component.js:126:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/npm/tools/fontfamily/editor-fontfamily.component.js-127-        dialogContent.setData({
##############################################
/src/dist/npm/editor.component.js-324-        this.toolbar.toggle(false);
/src/dist/npm/editor.component.js:325:        var dialogContent = this.dialogService.open(dialog).content.instance;
/src/dist/npm/editor.component.js-326-        if (dialogName === 'createLink' || dialogName === 'insertFile') {
##############################################
/src/dist/es2015/tools/fontsize/editor-fontsize.component.js-101-        this.editor.toolbar.toggle(false);
/src/dist/es2015/tools/fontsize/editor-fontsize.component.js:102:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es2015/tools/fontsize/editor-fontsize.component.js-103-        dialogContent.setData({
##############################################
/src/dist/es2015/tools/format/editor-format.component.js-102-        this.editor.toolbar.toggle(false);
/src/dist/es2015/tools/format/editor-format.component.js:103:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es2015/tools/format/editor-format.component.js-104-        dialogContent.setData({
##############################################
/src/dist/es2015/tools/tables/editor-insert-table-button.component.js-74-        this.editor.toolbar.toggle(false);
/src/dist/es2015/tools/tables/editor-insert-table-button.component.js:75:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es2015/tools/tables/editor-insert-table-button.component.js-76-        dialogContent.setData({
##############################################
/src/dist/es2015/tools/tables/editor-insert-table-button.component.js-127-        const popupPosition = { horizontal: horizontalAlign, vertical: "top" };
/src/dist/es2015/tools/tables/editor-insert-table-button.component.js:128:        this.popupRef = this.popupService.open({
/src/dist/es2015/tools/tables/editor-insert-table-button.component.js-129-            anchor: this.element,
##############################################
/src/dist/es2015/tools/colorpicker/editor-colorpicker.component.js-75-        this.editor.toolbar.toggle(false);
/src/dist/es2015/tools/colorpicker/editor-colorpicker.component.js:76:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es2015/tools/colorpicker/editor-colorpicker.component.js-77-        dialogContent.setData({
##############################################
/src/dist/es2015/tools/fontfamily/editor-fontfamily.component.js-106-        this.editor.toolbar.toggle(false);
/src/dist/es2015/tools/fontfamily/editor-fontfamily.component.js:107:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es2015/tools/fontfamily/editor-fontfamily.component.js-108-        dialogContent.setData({
##############################################
/src/dist/es2015/editor.component.js-278-        this.toolbar.toggle(false);
/src/dist/es2015/editor.component.js:279:        const dialogContent = this.dialogService.open(dialog).content.instance;
/src/dist/es2015/editor.component.js-280-        if (dialogName === 'createLink' || dialogName === 'insertFile') {
##############################################
/src/dist/es/tools/fontsize/editor-fontsize.component.js-118-        this.editor.toolbar.toggle(false);
/src/dist/es/tools/fontsize/editor-fontsize.component.js:119:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es/tools/fontsize/editor-fontsize.component.js-120-        dialogContent.setData({
##############################################
/src/dist/es/tools/format/editor-format.component.js-119-        this.editor.toolbar.toggle(false);
/src/dist/es/tools/format/editor-format.component.js:120:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es/tools/format/editor-format.component.js-121-        dialogContent.setData({
##############################################
/src/dist/es/tools/tables/editor-insert-table-button.component.js-86-        this.editor.toolbar.toggle(false);
/src/dist/es/tools/tables/editor-insert-table-button.component.js:87:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es/tools/tables/editor-insert-table-button.component.js-88-        dialogContent.setData({
##############################################
/src/dist/es/tools/tables/editor-insert-table-button.component.js-139-        var popupPosition = { horizontal: horizontalAlign, vertical: "top" };
/src/dist/es/tools/tables/editor-insert-table-button.component.js:140:        this.popupRef = this.popupService.open({
/src/dist/es/tools/tables/editor-insert-table-button.component.js-141-            anchor: this.element,
##############################################
/src/dist/es/tools/colorpicker/editor-colorpicker.component.js-88-        this.editor.toolbar.toggle(false);
/src/dist/es/tools/colorpicker/editor-colorpicker.component.js:89:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es/tools/colorpicker/editor-colorpicker.component.js-90-        dialogContent.setData({
##############################################
/src/dist/es/tools/fontfamily/editor-fontfamily.component.js-123-        this.editor.toolbar.toggle(false);
/src/dist/es/tools/fontfamily/editor-fontfamily.component.js:124:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/es/tools/fontfamily/editor-fontfamily.component.js-125-        dialogContent.setData({
##############################################
/src/dist/es/editor.component.js-321-        this.toolbar.toggle(false);
/src/dist/es/editor.component.js:322:        var dialogContent = this.dialogService.open(dialog).content.instance;
/src/dist/es/editor.component.js-323-        if (dialogName === 'createLink' || dialogName === 'insertFile') {
##############################################
/src/dist/fesm5/index.js-1085-        this.toolbar.toggle(false);
/src/dist/fesm5/index.js:1086:        var dialogContent = this.dialogService.open(dialog).content.instance;
/src/dist/fesm5/index.js-1087-        if (dialogName === 'createLink' || dialogName === 'insertFile') {
##############################################
/src/dist/fesm5/index.js-1685-        this.editor.toolbar.toggle(false);
/src/dist/fesm5/index.js:1686:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm5/index.js-1687-        dialogContent.setData({
##############################################
/src/dist/fesm5/index.js-1938-        this.editor.toolbar.toggle(false);
/src/dist/fesm5/index.js:1939:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm5/index.js-1940-        dialogContent.setData({
##############################################
/src/dist/fesm5/index.js-2108-        this.editor.toolbar.toggle(false);
/src/dist/fesm5/index.js:2109:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm5/index.js-2110-        dialogContent.setData({
##############################################
/src/dist/fesm5/index.js-2243-        this.editor.toolbar.toggle(false);
/src/dist/fesm5/index.js:2244:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm5/index.js-2245-        dialogContent.setData({
##############################################
/src/dist/fesm5/index.js-2376-        this.editor.toolbar.toggle(false);
/src/dist/fesm5/index.js:2377:        var dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm5/index.js-2378-        dialogContent.setData({
##############################################
/src/dist/fesm5/index.js-2429-        var popupPosition = { horizontal: horizontalAlign, vertical: "top" };
/src/dist/fesm5/index.js:2430:        this.popupRef = this.popupService.open({
/src/dist/fesm5/index.js-2431-            anchor: this.element,
##############################################
/src/dist/systemjs/kendo-angular-editor.js-4-*-------------------------------------------------------------------------------------------*/
/src/dist/systemjs/kendo-angular-editor.js:5:System.register("@progress/kendo-angular-editor",["tslib","@angular/core","@angular/common","@angular/forms","@progress/kendo-angular-toolbar","@progress/kendo-angular-dropdowns","@progress/kendo-angular-dialog","@progress/kendo-angular-buttons","@progress/kendo-angular-inputs","rxjs","rxjs/operators","@progress/kendo-angular-common","@progress/kendo-editor-common","@progress/kendo-angular-l10n","@progress/kendo-angular-popup"],function(a){var r,d,l,s,c,u,p,m,f,g,_,h,b,v,y;function e(t){return t.__useDefault?t.default:t}return{setters:[function(t){r=e(t)},function(t){d=e(t)},function(t){l=e(t)},function(t){s=e(t)},function(t){c=e(t)},function(t){u=e(t)},function(t){p=e(t)},function(t){m=e(t)},function(t){f=e(t)},function(t){g=e(t)},function(t){_=e(t)},function(t){h=e(t)},function(t){b=e(t)},function(t){v=e(t)},function(t){y=e(t)}],execute:function(){function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var o,i;i={},n.m=o=[function(t,e){t.exports=r},function(t,e){t.exports=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(9),d=(n=r.LocalizationService,i.__extends(l,n),i.__decorate([i.__param(0,a.Inject(r.L10N_PREFIX)),i.__param(1,a.Optional()),i.__param(2,a.Optional()),i.__param(2,a.Inject(r.RTL)),i.__metadata("design:paramtypes",[String,r.MessageService,Boolean])],l));function l(t,e,o){return n.call(this,t,e,o)||this}e.EditorLocalizationService=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,l=o(0),a=o(1),i=o(15),s=o(32),c=o(31),r=o(4),d=o(6),u=o(14),p=o(8),m=o(13),f=o(79),g=o(78),_=o(7),h=o(30),b=o(29),v=o(28),y=o(9),k=o(2),C=o(77),w={convertMsLists:!1,removeAttributes:[],removeHtmlComments:!1,removeInvalidHTML:!1,removeMsClasses:!1,removeMsStyles:!1,stripTags:[""]},E=_.conditionallyExecute(p.removeComments),x=_.conditionallyExecute(p.sanitize),D=(n=B,Object.defineProperty(B.prototype,"value",{get:function(){var t=this.view?this.getSource():this._value;return"<p></p>"===t?this._value?"":this._value:t},set:function(t){this._value=t,this._previousValue=t,this.view&&this.exec("setHTML",this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t||!1,this._disabled||this._readonly?this.stateChange.next(g.disabledToolBarState):this.stateChange.next(this.view?g.getToolbarState(this.view.state):g.initialToolBarState)},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=t||!1,this._disabled||this._readonly?this.stateChange.next(g.disabledToolBarState):this.stateChange.next(this.view?g.getToolbarState(this.view.state):g.initialToolBarState)},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"isReadonly",{get:function(){return this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"isIE",{get:function(){return this.iframe&&_.detectIE()},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"ariaDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"toolbar",{get:function(){return this.defaultToolbarComponent||this.userToolBarComponent},enumerable:!0,configurable:!0}),B.prototype.ngOnInit=function(){var o=this;this.subs.add(this.localization.changes.subscribe(function(t){var e=t.rtl;o.direction=e?"rtl":"ltr"}))},B.prototype.ngAfterViewInit=function(){this.afterViewInit.next(),this.iframe||this.contentAreaLoaded.next()},B.prototype.setDisabledState=function(t){this.disabled=t},B.prototype.iframeOnLoad=function(){this.contentAreaLoaded.next()},B.prototype.exec=function(t,e){f.editorCommands[t](e)(this.view.state,this.view.dispatch,this.view)},B.prototype.openDialog=function(t){var e={createLink:{content:v.FileLinkDialogComponent},insertFile:{content:v.FileLinkDialogComponent},insertImage:{content:b.ImageDialogComponent},viewSource:{content:h.SourceDialogComponent,height:400,width:500}},o=Object.assign({appendTo:this.dialogContainer},e[t]);this.toolbar.toggle(!1);var n=this.dialogService.open(o).content.instance;"createLink"!==t&&"insertFile"!==t||(n.command=t),n.editor=this,n.setData(this.view.state)},B.prototype.focus=function(){this.view.focus()},B.prototype.blur=function(){this.view.dom.blur()},B.prototype.getSource=function(){return p.getHtml(this.view.state)},B.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},B.prototype.writeValue=function(t){this.value=null===t?void 0:t},B.prototype.registerOnChange=function(t){this.onChangeCallback=t},B.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},B.prototype.isEmpty=function(){return!1},B.prototype.initialize=function(){var o,t,e,n,i,a,r,d=this;u.isDocumentAvailable()&&(t=(o=this).container.element.nativeElement,e=p.parseContent((this.value||"").trim(),m.schema),this.iframe?((i=(n=t.contentDocument).createElement("meta")).setAttribute("charset","utf-8"),n.head.appendChild(i),[C.defaultStyle,C.tablesStyles,"rtl"===this.dir?C.rtlStyles:void 0].forEach(function(t){var e;t&&((e=n.createElement("style")).appendChild(n.createTextNode(t)),n.head.appendChild(e))}),a=n.createElement("div"),n.body.appendChild(a)):(a=document.createElement("div"),t.appendChild(a)),r=p.EditorState.create({schema:m.schema,doc:e,plugins:[p.history(),p.keymap(p.buildListKeymap(m.schema)),p.keymap(p.buildKeymap(m.schema)),p.keymap(p.baseKeymap)]}),this.iframe?this.viewMountElement=t.contentDocument.querySelector("div"):this.viewMountElement=t.querySelector("div"),this.ngZone.runOutsideAngular(function(){d.view=new p.EditorView({mount:d.viewMountElement},{state:r,dispatchTransaction:function(t){var e;o.disabled||o.readonly||(this.updateState(this.state.apply(t)),o.stateChange.next(g.getToolbarState(this.state)),e=o.value,p.hasSameMarkup(e,o._previousValue,this.state.schema)||(o._previousValue=e,o.ngZone.run(function(){return o.valueModified.next(e)})))},transformPastedHTML:function(t){var e=l.__assign({},w,d.pasteCleanupSettings),o=_.pipe(E(e.removeHtmlComments),x(e.removeInvalidHTML))(t),n=function(t){if("all"===t.removeAttributes)return{"*":p.removeAttribute};var e=_.removeEmptyEntries({style:t.removeMsStyles?p.sanitizeStyleAttr:void 0,class:t.removeMsClasses?p.sanitizeClassAttr:void 0});return t.removeAttributes.reduce(function(t,e){var o;return l.__assign({},t,((o={})[e]=p.removeAttribute,o))},e)}(e);return p.pasteCleanup(o,{convertMsLists:e.convertMsLists,stripTags:e.stripTags.join("|"),attributes:n})}})}),this.subs.add(s.merge(this.stateChange.pipe(c.filter(function(){return 0<d.updateInterval}),c.auditTime(this.updateInterval)),this.stateChange.pipe(c.filter(function(){return 0===d.updateInterval}))).subscribe(function(){d.userToolBarComponent?d.userToolBarComponent.cdr.detectChanges():d.cdr.detectChanges()})),this.subs.add(s.merge(this.valueModified.pipe(c.filter(function(){return 0<d.updateInterval}),c.auditTime(this.updateInterval)),this.valueModified.pipe(c.filter(function(){return 0===d.updateInterval}))).subscribe(function(t){o.onChangeCallback(t),d.valueChange.emit(t),d.cdr.markForCheck()})),this.subs.add(s.fromEvent(this.viewMountElement,"keyup").pipe(c.map(function(t){return t.keyCode}),c.filter(function(t){return 121===t}),c.map(function(){return d.userToolBarElement||d.defaultToolbar})).subscribe(function(t){return t.nativeElement.focus()})),this.subs.add(s.fromEvent(this.viewMountElement,"blur").pipe(c.filter(function(t){return!d.viewMountElement.contains(t.relatedTarget)})).subscribe(function(){return d.onTouchedCallback()})))},l.__decorate([a.Input(),l.__metadata("design:type",String),l.__metadata("design:paramtypes",[String])],B.prototype,"value",null),l.__decorate([a.Input(),l.__metadata("design:type",Boolean),l.__metadata("design:paramtypes",[Boolean])],B.prototype,"disabled",null),l.__decorate([a.Input(),l.__metadata("design:type",Boolean),l.__metadata("design:paramtypes",[Boolean])],B.prototype,"readonly",null),l.__decorate([a.Input(),l.__metadata("design:type",Boolean)],B.prototype,"iframe",void 0),l.__decorate([a.Input(),l.__metadata("design:type",Number)],B.prototype,"updateInterval",void 0),l.__decorate([a.Input(),l.__metadata("design:type",Object)],B.prototype,"pasteCleanupSettings",void 0),l.__decorate([a.Output(),l.__metadata("design:type",a.EventEmitter)],B.prototype,"valueChange",void 0),l.__decorate([a.HostBinding("class.k-widget"),a.HostBinding("class.k-editor"),l.__metadata("design:type",Boolean)],B.prototype,"hostClasses",void 0),l.__decorate([a.HostBinding("class.k-state-disabled"),l.__metadata("design:type",Boolean),l.__metadata("design:paramtypes",[])],B.prototype,"isDisabled",null),l.__decorate([a.HostBinding("class.k-readonly"),l.__metadata("design:type",Boolean),l.__metadata("design:paramtypes",[])],B.prototype,"isReadonly",null),l.__decorate([a.HostBinding("class.k-ie"),l.__metadata("design:type",Boolean),l.__metadata("design:paramtypes",[])],B.prototype,"isIE",null),l.__decorate([a.HostBinding("attr.dir"),l.__metadata("design:type",String),l.__metadata("design:paramtypes",[])],B.prototype,"dir",null),l.__decorate([a.HostBinding("attr.ariaDisabled"),l.__metadata("design:type",Boolean),l.__metadata("design:paramtypes",[])],B.prototype,"ariaDisabled",null),l.__decorate([a.ContentChild(r.ToolBarComponent),l.__metadata("design:type",r.ToolBarComponent)],B.prototype,"userToolBarComponent",void 0),l.__decorate([a.ContentChild(r.ToolBarComponent,{read:a.ElementRef}),l.__metadata("design:type",a.ElementRef)],B.prototype,"userToolBarElement",void 0),l.__decorate([a.ViewChild("dialogsContainer",{read:a.ViewContainerRef}),l.__metadata("design:type",a.ViewContainerRef)],B.prototype,"dialogContainer",void 0),l.__decorate([a.ViewChild("content",{read:a.ViewContainerRef}),l.__metadata("design:type",a.ViewContainerRef)],B.prototype,"container",void 0),l.__decorate([a.ViewChild("defaultToolbar",{read:a.ElementRef}),l.__metadata("design:type",a.ElementRef)],B.prototype,"defaultToolbar",void 0),l.__decorate([a.ViewChild("defaultToolbar",{read:r.ToolBarComponent}),l.__metadata("design:type",r.ToolBarComponent)],B.prototype,"defaultToolbarComponent",void 0),n=l.__decorate([a.Component({selector:"kendo-editor",providers:[k.EditorLocalizationService,{provide:y.LocalizationService,useExisting:k.EditorLocalizationService},{provide:y.L10N_PREFIX,useValue:"kendo.editor"},{provide:i.NG_VALUE_ACCESSOR,useExisting:a.forwardRef(function(){return n}),multi:!0},{provide:u.KendoInput,useExisting:a.forwardRef(function(){return n})}],template:'\n        <ng-container\n            kendoEditorLocalizedMessages\n            i18n-alignCenter="kendo.editor.alignCenter|The title of the tool that aligns text in the center."\n            alignCenter="Center text"\n            i18n-alignJustify="kendo.editor.alignJustify|The title of the tool that justifies text both left and right."\n            alignJustify="Justify"\n            i18n-alignLeft="kendo.editor.alignLeft|The title of the tool that aligns text on the left."\n            alignLeft="Align text left"\n            i18n-alignRight="kendo.editor.alignRight|The title of the tool that aligns text on the right."\n            alignRight="Align text right"\n            i18n-backColor="kendo.editor.backColor|The title of the tool that changes the text background color."\n            backColor="Background color"\n            i18n-bold="kendo.editor.bold|The title of the tool that makes text bold."\n            bold="Bold"\n            i18n-cleanFormatting="kendo.editor.cleanFormatting|The title of the Clean Formatting tool."\n            cleanFormatting="Clean formatting"\n            i18n-createLink="kendo.editor.createLink|The title of the tool that creates hyperlinks."\n            createLink="Insert link"\n            i18n-dialogApply="kendo.editor.dialogApply|The label of the **Apply** button in all editor dialogs."\n            dialogApply="Apply"\n            i18n-dialogCancel="kendo.editor.dialogCancel|The label of the **Cancel** button in all editor dialogs."\n            dialogCancel="Cancel"\n            i18n-dialogInsert="kendo.editor.dialogInsert|The label of the **Insert** button in all editor dialogs."\n            dialogInsert="Insert"\n            i18n-dialogUpdate="kendo.editor.dialogUpdate|The label of the **Update** button in all editor dialogs."\n            dialogUpdate="Update"\n            i18n-fileText="kendo.editor.fileText|The caption for the file text in the insertFile dialog."\n            fileText="Text"\n            i18n-fileTitle="kendo.editor.fileTitle|The caption for the file Title in the insertFile dialog."\n            fileTitle="Title"\n            i18n-fileWebAddress="kendo.editor.fileWebAddress|The caption for the file URL in the insertFile dialog."\n            fileWebAddress="Web address"\n            i18n-fontFamily="kendo.editor.fontFamily|The title of the tool that changes the text font."\n            fontFamily="Select font family"\n            i18n-fontSize="kendo.editor.fontSize|The title of the tool that changes the text size."\n            fontSize="Select font size"\n            i18n-foreColor="kendo.editor.foreColor|The title of the tool that changes the text color."\n            foreColor="Color"\n            i18n-format="kendo.editor.format|The title of the tool that lets users choose block formats."\n            format="Format"\n            i18n-imageAltText="kendo.editor.imageAltText|The caption for the image alternate text in the insertImage dialog."\n            imageAltText="Alternate text"\n            i18n-imageHeight="kendo.editor.imageHeight|The caption for the image height in the insertImage dialog."\n            imageHeight="Height (px)"\n            i18n-imageWebAddress="kendo.editor.imageWebAddress|The caption for the image URL in the insertImage dialog."\n            imageWebAddress="Web address"\n            i18n-imageWidth="kendo.editor.imageWidth|The caption for the image width in the insertImage dialog."\n            imageWidth="Width (px)"\n            i18n-indent="kendo.editor.indent|The title of the tool that indents the content."\n            indent="Indent"\n            i18n-insertFile="kendo.editor.insertFile|The title of the tool that inserts links to files."\n            insertFile="Insert file"\n            i18n-insertImage="kendo.editor.insertImage|The title of the tool that inserts images."\n            insertImage="Insert image"\n            i18n-insertOrderedList="kendo.editor.insertOrderedList|The title of the tool that inserts an ordered list."\n            insertOrderedList="Insert ordered list"\n            i18n-insertUnorderedList="kendo.editor.insertUnorderedList|The title of the tool that inserts an unordered list."\n            insertUnorderedList="Insert unordered list"\n            i18n-italic="kendo.editor.italic|The title of the tool that makes text italicized."\n            italic="Italic"\n            i18n-linkOpenInNewWindow="kendo.editor.linkOpenInNewWindow|The caption for the checkbox for opening the link in a new window in the createLink dialog."\n            linkOpenInNewWindow="Open link in new window"\n            i18n-linkText="kendo.editor.linkText|The caption for the link text in the createLink dialog."\n            linkText="Text"\n            i18n-linkTitle="kendo.editor.linkTitle|The caption for the link title in the createLink dialog."\n            linkTitle="Title"\n            i18n-linkWebAddress="kendo.editor.linkWebAddress|The caption for the URL in the createLink dialog."\n            linkWebAddress="Web address"\n            i18n-outdent="kendo.editor.outdent|The title of the tool that outdents the content."\n            outdent="Outdent"\n            i18n-redo="kendo.editor.redo|The title of the tool that undos the last action."\n            redo="Redo"\n            i18n-strikethrough="kendo.editor.strikethrough|The title of the tool that strikes through text."\n            strikethrough="Strikethrough"\n            i18n-subscript="kendo.editor.subscript|The title of the tool that makes text subscript."\n            subscript="Subscript"\n            i18n-superscript="kendo.editor.superscript|The title of the tool that makes text superscript."\n            superscript="Superscript"\n            i18n-underline="kendo.editor.underline|The title of the tool that underlines text."\n            underline="Underline"\n            i18n-unlink="kendo.editor.unlink|The title of the tool that removes hyperlinks."\n            unlink="Remove Link"\n            i18n-undo="kendo.editor.undo|The title of the tool that undos the last action."\n            undo="Undo"\n            i18n-viewSource="kendo.editor.viewSource|The title of the tool that shows the editor value as HTML."\n            viewSource="View source"\n            i18n-insertTable="kendo.editor.insertTable|The title of the tool that inserts table."\n            insertTable="Insert Table"\n            i18n-addColumnBefore="kendo.editor.addColumnBefore|The title of the tool that adds new column before currently selected column."\n            addColumnBefore="Add column before"\n            i18n-addColumnAfter="kendo.editor.addColumnAfter|The title of the tool that adds new column after currently selected column."\n            addColumnAfter="Add column after"\n            i18n-addRowBefore="kendo.editor.addRowBefore|The title of the tool that adds new row before currently selected row."\n            addRowBefore="Add row before"\n            i18n-addRowAfter="kendo.editor.addRowAfter|The title of the tool that adds new row after currently selected row."\n            addRowAfter="Add row after"\n            i18n-deleteColumn="kendo.editor.deleteColumn|The title of the tool that deletes a table column."\n            deleteColumn="Delete column"\n            i18n-deleteRow="kendo.editor.deleteRow|The title of the tool that deletes a table row."\n            deleteRow="Delete row"\n            i18n-deleteTable="kendo.editor.deleteTable|The title of the tool that deletes a table."\n            deleteTable="Delete table"\n        >\n        </ng-container>\n\n        <ng-content select="kendo-toolbar"></ng-content>\n        <kendo-toolbar [overflow]="true" *ngIf="!userToolBarElement" #defaultToolbar>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorBoldButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorItalicButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnderlineButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-dropdownlist kendoEditorFormat></kendo-toolbar-dropdownlist>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorAlignLeftButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignCenterButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignRightButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignJustifyButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorInsertUnorderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorInsertOrderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorIndentButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorOutdentButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorCreateLinkButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnlinkButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-button kendoEditorInsertImageButton></kendo-toolbar-button>\n        </kendo-toolbar>\n\n        <div *ngIf="!iframe" #content [attr.dir]="direction" class="k-editor-content"></div>\n\n        <div class="k-editor-content" *ngIf="iframe">\n            <iframe #content frameborder="0" class="k-iframe" (load)="iframeOnLoad()"></iframe>\n        </div>\n\n        <ng-container #dialogsContainer></ng-container>\n    ',styles:["\n            >>> .k-editor-content > .ProseMirror {\n                height: 100%;\n                width: 100%;\n                box-sizing: border-box;\n                outline: none;\n                overflow: auto;\n            }\n\n            .k-iframe {\n                width: 100%;\n                height: 100%;\n                display: block;\n            }\n        "]}),l.__metadata("design:paramtypes",[d.DialogService,y.LocalizationService,a.ChangeDetectorRef,a.NgZone])],B));function B(t,e,o,n){var i=this;this.dialogService=t,this.localization=e,this.cdr=o,this.ngZone=n,this.iframe=!0,this.updateInterval=100,this.valueChange=new a.EventEmitter,this.hostClasses=!0,this.stateChange=new s.BehaviorSubject(g.initialToolBarState),this.valueModified=new s.Subject,this.afterViewInit=new s.Subject,this.contentAreaLoaded=new s.Subject,this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this.direction=e.rtl?"rtl":"ltr",this.subs=s.zip(this.afterViewInit.asObservable(),this.contentAreaLoaded.asObservable()).subscribe(function(){return i.initialize()})}e.EditorComponent=D},function(t,e){t.exports=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=o(0),i=(a=o(22).EditorCommandBase,n.__extends(r,a),r.prototype.clickHandler=function(){this.editor.exec(this.command),this.editor.focus()},r.prototype.onStateChange=function(t){this.button.selected=t[this.command].selected,this.button.disabled=t[this.command].disabled},r);function r(t,e,o,n){var i=a.call(this,t,e,o,n)||this;return i.command=t,i.button=e,i.editor=o,i.localization=n,i}e.EditorCommandButton=i},function(t,e){t.exports=p},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(14);n.outerWidth=function(t){var e=t.offsetWidth,o=getComputedStyle(t);return e+(parseFloat(o.marginLeft)||0+parseFloat(o.marginRight)||0)},n.serializeDOMAttrs=function(t){return Array.from(t.attributes).reduce(function(t,e){var o;return Object.assign({},t,((o={})[e.name]=e.value,o))},{})},n.removeEntries=function(n,e){return Object.keys(n).filter(function(t){return e(t)}).reduce(function(t,e){var o;return Object.assign(t,((o={})[e]=n[e],o))},{})},n.removeEmptyEntries=function(e){return n.removeEntries(e,function(t){return null!==e[t]&&void 0!==e[t]&&""!==e[t]})},n.isEmpty=function(t){return 0===Object.keys(t).length},n.isNullOrUndefined=function(t){return null==t},n.isPresent=function(t){return!n.isNullOrUndefined(t)},n.detectIE=function(){if(!i.isDocumentAvailable())return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE "),o=t.indexOf("Trident/");return 0<e||0<o},n.safeString=function(t){return n.isNullOrUndefined(t)?"":t.toString()},n.first=function(t){return t[0]},n.last=function(t){return t[t.length-1]},n.unique=function(t){return Array.from(new Set(t))},n.split=function(e){return function(t){return t.split(e)}},n.trim=function(t){return t.trim()},n.filter=function(e){return function(t){return t.filter(e)}},n.toArray=function(t){return t instanceof Array?t:[t]},n.getUniqueStyleValues=function(t,e){if(t.hasNodesWithoutMarks)return"";var o=t.marks.filter(function(t){return"style"===t.type.name}).map(function(t){return t.attrs.style}).map(n.safeString).map(n.split(";")).map(n.filter(function(t){return t.includes(e)})).map(function(t){return 0!==t.length?t:[e+": INVALID"]}).map(n.first).map(n.split(":")).map(n.last).map(n.trim).reduce(function(t,e){return-1<t.indexOf(e)?t:t.concat([e])},[]);return-1<o.indexOf("INVALID")||1!==o.length?"":o[0]},n.conditionallyExecute=function(o){return function(e){return function(t){return e?o(t):t}}},n.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(t,e){return e(t)},t)}}},function(t,e){t.exports=b},function(t,e){t.exports=v},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=o(0),i=(a=o(22).EditorCommandBase,n.__extends(r,a),r.prototype.clickHandler=function(){this.editor.openDialog(this.dialog)},r.prototype.onStateChange=function(t){this.button.selected=t[this.command].selected,this.button.disabled=t[this.command].disabled},r);function r(t,e,o,n){var i=a.call(this,t,e,o,n)||this;return i.dialog=t,i.button=e,i.editor=o,i.localization=n,i}e.EditorCommandDialog=i},function(t,e){t.exports=f},function(t,e){t.exports=u},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(8),a=o(7),r=i.marks,d=Object.assign(i.nodes,{table:{attrs:n.__assign({},{class:{default:null},id:{default:null},style:{default:null}},{class:{default:"k-table"},cellspacing:{default:null},cellpadding:{default:null}}),content:"table_row+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{getAttrs:a.serializeDOMAttrs,tag:"table"}],toDOM:function(t){return["table",a.removeEmptyEntries(t.attrs),["tbody",0]]}},htmlBlock:{group:"block",attrs:{html:{}},parseDOM:[{tag:"*:not(p):not(blockquote):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(pre):not(img):not(ol):not(ul):not(li):not(table):not(tbody):not(td):not(th):not(tr):not(thead):not(tfoot):not(colgroup):not(col)",getAttrs:function(t){return{html:t.outerHTML}}}],toDOM:function(t){var e=document.createElement("div");return e.innerHTML=t.attrs.html,e.firstChild}}});e.schema=new i.Schema({marks:r,nodes:d})},function(t,e){t.exports=h},function(t,e){t.exports=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commandIcons={alignCenter:"align-center",alignJustify:"align-justify",alignLeft:"align-left",alignRight:"align-right",bold:"bold",cleanFormatting:"clear-css",createLink:"link-horizontal",indent:"indent-increase",insertFile:"file-add",insertImage:"image",insertOrderedList:"list-ordered",insertUnorderedList:"list-unordered",italic:"italic",outdent:"indent-decrease",redo:"redo",strikethrough:"strikethrough",subscript:"sub-script",superscript:"sup-script",underline:"underline",undo:"undo",unlink:"unlink-horizontal",viewSource:"html",foreColor:"foreground-color",backColor:"background",insertTable:"table-insert",addColumnBefore:"table-column-insert-left",addColumnAfter:"table-column-insert-right",addRowBefore:"table-row-insert-above",addRowAfter:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCells:"cells-merge",splitCell:"cell-split-horizontally",deleteTable:"table-delete"}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n,a=o(0),r=o(1),d=o(4),l=o(11),s=o(2),c=o(7),u=o(3),p=o(6),m=o(26),f=(i=d.ToolBarToolComponent,a.__extends(g,i),n=g,Object.defineProperty(g.prototype,"title",{get:function(){return this.localization.get(this.editorCommand)},enumerable:!0,configurable:!0}),g.prototype.ngOnInit=function(){var o=this;this.subs=this.editor.stateChange.subscribe(function(t){var e=t.style;o.disabled=e.disabled})},g.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},g.prototype.handleValueChange=function(t){this.editor.exec(this.editorCommand,t),this.editor.focus()},g.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.handleValueChange(t.color)},Object.defineProperty(g.prototype,"outerWidth",{get:function(){if(this.element)return c.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),g.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:m.ColorPickerDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,value:this.value,title:this.title,editorCommand:this.editorCommand,paletteSettings:this.paletteSettings,icon:this.icon})},g.prototype.canFocus=function(){return!this.disabled},g.prototype.focus=function(){this.tabindex=0,this.overflows?this.colorPickerButton.nativeElement.focus():this.colorPicker.focus()},g.prototype.handleKey=function(){return!(this.tabindex=-1)},a.__decorate([r.Input(),a.__metadata("design:type",String)],g.prototype,"value",void 0),a.__decorate([r.Input(),a.__metadata("design:type",String)],g.prototype,"icon",void 0),a.__decorate([r.Input(),a.__metadata("design:type",Object)],g.prototype,"paletteSettings",void 0),a.__decorate([r.Input(),a.__metadata("design:type",String)],g.prototype,"editorCommand",void 0),a.__decorate([r.Input(),a.__metadata("design:type",Boolean)],g.prototype,"disabled",void 0),a.__decorate([r.ViewChild("toolbarTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"toolbarTemplate",void 0),a.__decorate([r.ViewChild("popupTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"popupTemplate",void 0),a.__decorate([r.ViewChild("colorpicker",{read:r.ElementRef}),a.__metadata("design:type",r.ElementRef)],g.prototype,"element",void 0),a.__decorate([r.ViewChild("colorpicker",{read:l.ColorPickerComponent}),a.__metadata("design:type",l.ColorPickerComponent)],g.prototype,"colorPicker",void 0),a.__decorate([r.ViewChild("colorPickerButton",{read:r.ElementRef}),a.__metadata("design:type",r.ElementRef)],g.prototype,"colorPickerButton",void 0),n=a.__decorate([r.Component({providers:[{provide:d.ToolBarToolComponent,useExisting:r.forwardRef(function(){return n})}],selector:"kendo-toolbar-colorpicker",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-colorpicker\n                #colorpicker\n                [view]="\'palette\'"\n                [format]="\'hex\'"\n                [attr.title]="title"\n                [icon]="icon"\n                [value]="value"\n                [paletteSettings]="paletteSettings"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="handleValueChange($event)"\n                (activeColorClick)="handleActiveColorClick($event)"\n            >\n            </kendo-colorpicker>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #colorPickerButton\n                class="k-overflow-button"\n                [icon]="icon"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),a.__param(0,r.Host()),a.__metadata("design:paramtypes",[u.EditorComponent,s.EditorLocalizationService,p.DialogService])],g));function g(t,e,o){var n=i.call(this)||this;return n.editor=t,n.localization=e,n.dialogService=o,n.tabindex=-1,n.disabled=!1,n}e.EditorColorPickerComponent=f},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=o(12),r=(d.prototype.onValueChange=function(t){this.valueChange.emit(t)},d.prototype.focus=function(){this.dropDownList.focus()},n.__decorate([i.Input(),n.__metadata("design:type",Array)],d.prototype,"data",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],d.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],d.prototype,"defaultItem",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Function)],d.prototype,"itemDisabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],d.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],d.prototype,"disabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],d.prototype,"tabindex",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],d.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],d.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:a.DropDownListComponent}),n.__metadata("design:type",a.DropDownListComponent)],d.prototype,"dropDownList",void 0),n.__decorate([i.Component({selector:"kendo-editor-fontsize-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'size\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n        </kendo-dropdownlist>\n    '})],d));function d(){this.valueChange=new i.EventEmitter}e.FontSizeDropDownListComponent=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=o(12),r=(d.prototype.onValueChange=function(t){this.valueChange.emit(t)},d.prototype.focus=function(){this.dropDownList.focus()},n.__decorate([i.Input(),n.__metadata("design:type",Array)],d.prototype,"data",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],d.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],d.prototype,"defaultItem",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Function)],d.prototype,"itemDisabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],d.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],d.prototype,"disabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],d.prototype,"tabindex",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],d.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],d.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:a.DropDownListComponent}),n.__metadata("design:type",a.DropDownListComponent)],d.prototype,"dropDownList",void 0),n.__decorate([i.Component({selector:"kendo-editor-fontfamily-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'fontName\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <span [ngStyle]="{ \'font-family\': dataItem.fontName }">\n                    {{ dataItem.text }}\n                </span>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],d));function d(){this.valueChange=new i.EventEmitter}e.FontFamilyDropDownListComponent=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=o(12),r=(d.prototype.onValueChange=function(t){this.valueChange.emit(t)},d.prototype.focus=function(){this.dropDownList.focus()},n.__decorate([i.Input(),n.__metadata("design:type",Array)],d.prototype,"data",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],d.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],d.prototype,"defaultItem",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Function)],d.prototype,"itemDisabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],d.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],d.prototype,"disabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],d.prototype,"tabindex",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],d.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],d.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:a.DropDownListComponent}),n.__metadata("design:type",a.DropDownListComponent)],d.prototype,"dropDownList",void 0),n.__decorate([i.Component({selector:"kendo-editor-format-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'tag\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <ng-container [ngSwitch]="dataItem.tag">\n                    <span *ngSwitchCase="\'h1\'" style="display: block; font-size: 2em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h2\'" style="display: block; font-size: 1.5em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h3\'" style="display: block; font-size: 1.17em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h4\'" style="display: block; font-size: 1em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h5\'" style="display: block; font-size: .83em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h6\'" style="display: block; font-size: .67em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'p\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'blockquote\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchDefault>{{ dataItem.text }}</span>\n                </ng-container>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],d));function d(){this.valueChange=new i.EventEmitter}e.FormatDropDownListComponent=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=(n=o(9).ComponentMessages,i.__extends(d,n),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"alignCenter",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"alignJustify",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"alignLeft",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"alignRight",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"backColor",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"bold",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"cleanFormatting",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"createLink",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"fontFamily",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"fontSize",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"foreColor",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"format",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"indent",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"insertFile",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"insertImage",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"insertOrderedList",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"insertUnorderedList",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"italic",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"outdent",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"redo",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"strikethrough",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"subscript",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"superscript",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"underline",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"undo",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"unlink",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"viewSource",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"insertTable",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"addColumnBefore",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"addColumnAfter",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"addRowBefore",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"addRowAfter",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"deleteColumn",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"deleteRow",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"deleteTable",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"dialogApply",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"dialogCancel",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"dialogInsert",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"dialogUpdate",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"fileText",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"fileTitle",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"fileWebAddress",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"imageAltText",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"imageHeight",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"imageWebAddress",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"imageWidth",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"linkOpenInNewWindow",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"linkText",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"linkTitle",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],d.prototype,"linkWebAddress",void 0),d);function d(){return null!==n&&n.apply(this,arguments)||this}e.Messages=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(16),i=(a.prototype.ngOnInit=function(){var e=this;this.subs=this.editor.stateChange.subscribe(this.onStateChange.bind(this)),this.subs.add(this.button.click.subscribe(this.clickHandler.bind(this))),Promise.resolve(null).then(function(){var t=e.localization.get(e.command);t&&(e.button.showText="overflow",e.button.showIcon="both",e.button.text=t),e.button.icon||(e.button.icon=n.commandIcons[e.command]),e.button.title=t})},a.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},a.prototype.clickHandler=function(){},a.prototype.onStateChange=function(t){},a);function a(t,e,o,n){this.command=t,this.button=e,this.editor=o,this.localization=n}e.EditorCommandBase=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(6),d=o(2),l=o(3),s=o(18),c=(n=r.DialogContentBase,i.__extends(u,n),u.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.fontSizeDropDownList.dropDownList.focus()})},u.prototype.onCancelAction=function(){this.dialog.close()},u.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontSize",this.value),this.dialog.close()},u.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},u.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([a.Input(),i.__metadata("design:type",l.EditorComponent)],u.prototype,"editor",void 0),i.__decorate([a.ViewChild("fontSizeDropDownList",{read:s.FontSizeDropDownListComponent}),i.__metadata("design:type",s.FontSizeDropDownListComponent)],u.prototype,"fontSizeDropDownList",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'fontSize\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontsize-dropdownlist\n                        #fontSizeDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontsize-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,d.EditorLocalizationService])],u));function u(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o.data=[],o}e.FontSizeDialogComponent=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(6),d=o(2),l=o(3),s=(n=r.DialogContentBase,i.__extends(c,n),c.prototype.onCancelAction=function(){this.dialog.close(),this.editor.focus()},c.prototype.onCellClick=function(t){this.dialog.close(),this.editor.exec("insertTable",t),this.editor.focus()},c.prototype.setData=function(t){this.editor=t.editor},c.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([a.Input(),i.__metadata("design:type",l.EditorComponent)],c.prototype,"editor",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'insertTable\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-ct-popup k-window-content" style="text-align: center;">\n                    <kendo-popup-table-grid (cellClick)="onCellClick($event)"></kendo-popup-table-grid>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,d.EditorLocalizationService])],c));function c(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o}e.InsertTableDialogComponent=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(6),d=o(2),l=o(3),s=o(19),c=(n=r.DialogContentBase,i.__extends(u,n),u.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.fontFamilyDropDownList.dropDownList.focus()})},u.prototype.onCancelAction=function(){this.dialog.close()},u.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontFamily",this.value),this.dialog.close()},u.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},u.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([a.Input(),i.__metadata("design:type",l.EditorComponent)],u.prototype,"editor",void 0),i.__decorate([a.ViewChild("fontFamilyDropDownList",{read:s.FontFamilyDropDownListComponent}),i.__metadata("design:type",s.FontFamilyDropDownListComponent)],u.prototype,"fontFamilyDropDownList",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'fontFamily\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontfamily-dropdownlist\n                        #fontFamilyDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontfamily-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,d.EditorLocalizationService])],u));function u(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o.data=[],o}e.FontFamilyDialogComponent=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(6),d=o(2),l=o(3),s=o(11),c=(n=r.DialogContentBase,i.__extends(u,n),u.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.colorPicker.focus()})},u.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.value=t.color},u.prototype.onCancelAction=function(){this.dialog.close()},u.prototype.onConfirmAction=function(){this.value&&this.editor.exec(this.editorCommand,this.value),this.dialog.close()},u.prototype.setData=function(t){this.editor=t.editor,this.value=t.value,this.editorCommand=t.editorCommand,this.paletteSettings=t.paletteSettings,this.icon=t.icon},u.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([a.Input(),i.__metadata("design:type",l.EditorComponent)],u.prototype,"editor",void 0),i.__decorate([a.ViewChild("colorpicker",{read:s.ColorPickerComponent}),i.__metadata("design:type",s.ColorPickerComponent)],u.prototype,"colorPicker",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(editorCommand) }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-colorpicker\n                        #colorpicker\n                        [view]="\'palette\'"\n                        [format]="\'hex\'"\n                        [attr.title]="title"\n                        [icon]="icon"\n                        [(value)]="value"\n                        [paletteSettings]="paletteSettings"\n                        (activeColorClick)="handleActiveColorClick($event)"\n                    >\n                    </kendo-colorpicker>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,d.EditorLocalizationService])],u));function u(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o}e.ColorPickerDialogComponent=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(6),d=o(2),l=o(3),s=o(20),c=(n=r.DialogContentBase,i.__extends(u,n),u.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.formatDropDownList.dropDownList.focus()})},u.prototype.onCancelAction=function(){this.dialog.close()},u.prototype.onConfirmAction=function(){this.value&&this.editor.exec("format",{tag:this.value}),this.dialog.close()},u.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},u.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([a.Input(),i.__metadata("design:type",l.EditorComponent)],u.prototype,"editor",void 0),i.__decorate([a.ViewChild("formatDropDownList",{read:s.FormatDropDownListComponent}),i.__metadata("design:type",s.FormatDropDownListComponent)],u.prototype,"formatDropDownList",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'format\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-format-dropdownlist\n                        #formatDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-format-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,d.EditorLocalizationService])],u));function u(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o.data=[],o}e.FormatDialogComponent=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(15),d=o(6),l=o(8),s=o(13),c=o(7),u=o(2),p=(n=d.DialogContentBase,i.__extends(m,n),m.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.hrefInput.nativeElement.focus()})},m.prototype.onCancelAction=function(){this.dialog.close()},m.prototype.onConfirmAction=function(){var t=this.getData();this.editor.exec(this.command,t),this.dialog.close(),this.editor.focus()},Object.defineProperty(m.prototype,"titleText",{get:function(){return this.localization.get(this.command)},enumerable:!0,configurable:!0}),m.prototype.setData=function(t){"createLink"===this.command&&this.linkForm.addControl("target",new r.FormControl);var e=l.getMark(t,s.schema.marks.link);e?this.linkForm.reset({href:e.attrs.href,title:e.attrs.title,target:c.isPresent(e.attrs.target),text:this.setLinkText(t)}):t.selection.empty||this.linkForm.patchValue({text:l.getSelectionText(t)})},m.prototype.textForWithPrefix=function(t){var e="createLink"===this.command?"link":"file";return this.textFor(e+t)},m.prototype.textFor=function(t){return this.localization.get(t)},m.prototype.setLinkText=function(t){var e=t.selection;if(e.empty&&e.$cursor){var o=e.$cursor,n=o.index();return o.parent.child(n).text}return l.getSelectionText(t)},m.prototype.getData=function(){var t=this.linkForm.value;return c.isPresent(this.linkForm.controls.target)&&(t.target=t.target?"_blank":null),t},i.__decorate([a.Input(),i.__metadata("design:type",Object)],m.prototype,"editor",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],m.prototype,"command",void 0),i.__decorate([a.ViewChild("hrefInput",{read:a.ElementRef}),i.__metadata("design:type",a.ElementRef)],m.prototype,"hrefInput",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ titleText }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <form novalidate [formGroup]="linkForm">\n                        <div class="k-edit-label">\n                            <label (click)="hrefInput.focus()">{{ textForWithPrefix(\'WebAddress\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #hrefInput formControlName="href" type="text" class="k-textbox" />\n                        </div>\n\n                        <div class="k-edit-label">\n                            <label (click)="textInput.focus()">{{ textForWithPrefix(\'Text\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #textInput formControlName="text" type="text" class="k-textbox" />\n                        </div>\n\n                        <div class="k-edit-label">\n                            <label (click)="titleInput.focus()">{{ textForWithPrefix(\'Title\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #titleInput formControlName="title" type="text" class="k-textbox" />\n                        </div>\n                        <ng-container *ngIf="command === \'createLink\'">\n                            <div class="k-edit-label"></div>\n                            <div class="k-edit-field">\n                                <input type="checkbox" id="k-target-blank" class="k-checkbox" formControlName="target" />\n                                <label class="k-checkbox-label" for="k-target-blank">{{ textForWithPrefix(\'OpenInNewWindow\') }}</label>\n                            </div>\n                        </ng-container>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="linkForm.invalid" (click)="onConfirmAction()" [primary]="true">\n                {{ textFor(\'dialogInsert\') }}\n            </button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[d.DialogRef,u.EditorLocalizationService])],m));function m(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o.linkForm=new r.FormGroup({href:new r.FormControl("",r.Validators.required),text:new r.FormControl({value:"",disabled:!0},r.Validators.required),title:new r.FormControl("")}),o}e.FileLinkDialogComponent=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(15),d=o(6),l=o(8),s=o(7),c=o(2),u=o(14),p=(n=d.DialogContentBase,i.__extends(m,n),m.prototype.ngOnInit=function(){this.srcInputId="k-"+u.guid(),this.altTextInputId="k-"+u.guid(),this.widthInputId="k-"+u.guid(),this.heightInputId="k-"+u.guid()},m.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.srcInput.nativeElement.focus()})},m.prototype.onCancelAction=function(){this.dialog.close()},m.prototype.onConfirmAction=function(){this.src.value&&(this.editor.exec("insertImage",this.getData()),this.dialog.close(),this.editor.focus())},m.prototype.setData=function(t){var e=l.getNodeFromSelection(t);e&&(this.src.patchValue(e.attrs.src),this.alt.patchValue(e.attrs.alt),this.width.patchValue(e.attrs.width),this.height.patchValue(e.attrs.height))},m.prototype.textFor=function(t){return this.localization.get(t)},m.prototype.getData=function(){return{alt:this.alt.value,height:this.normalizeDimension(this.height.value),src:this.src.value,width:this.normalizeDimension(this.width.value)}},m.prototype.normalizeDimension=function(t){return Number.isNaN(parseInt(t,10))||parseInt(t,10)<=0?"":s.safeString(parseInt(t,10))},i.__decorate([a.Input(),i.__metadata("design:type",Object)],m.prototype,"editor",void 0),i.__decorate([a.ViewChild("srcInput",{read:a.ElementRef}),i.__metadata("design:type",a.ElementRef)],m.prototype,"srcInput",void 0),i.__decorate([a.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'insertImage\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <div class="k-edit-label">\n                        <label [for]="srcInputId">{{ textFor(\'imageWebAddress\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="srcInputId" #srcInput [formControl]="src" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="altTextInputId">{{ textFor(\'imageAltText\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="altTextInputId" [formControl]="alt" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="widthInputId">{{ textFor(\'imageWidth\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="widthInputId" [formControl]="width" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="heightInputId">{{ textFor(\'imageHeight\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="heightInputId" [formControl]="height" type="text" class="k-textbox" />\n                    </div>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="imageData.invalid"\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogInsert\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[d.DialogRef,c.EditorLocalizationService])],m));function m(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o.src=new r.FormControl("",r.Validators.required),o.alt=new r.FormControl(""),o.width=new r.FormControl("",r.Validators.min(1)),o.height=new r.FormControl("",r.Validators.min(1)),o.data={alt:"",height:"",src:"",width:""},o.imageData=new r.FormGroup({alt:o.alt,height:o.height,src:o.src,width:o.width}),o}e.ImageDialogComponent=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(6),d=o(2),l=(n=r.DialogContentBase,i.__extends(s,n),s.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then(function(){t.textarea.nativeElement.focus()})},s.prototype.onCancelAction=function(){this.dialog.close()},s.prototype.onConfirmAction=function(){this.editor.exec("setHTML",this.getData()),this.dialog.close(),this.editor.focus()},s.prototype.getData=function(){return this.textarea.nativeElement.value},s.prototype.setData=function(){this.data=this.indent(this.editor.getSource())},s.prototype.textFor=function(t){return this.localization.get(t)},s.prototype.indent=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},i.__decorate([a.Input(),i.__metadata("design:type",Object)],s.prototype,"editor",void 0),i.__decorate([a.ViewChild("textarea"),i.__metadata("design:type",a.ElementRef)],s.prototype,"textarea",void 0),i.__decorate([a.Component({styles:["\n            >>> .k-editor-textarea {\n                height: 100%;\n            }\n        "],template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'viewSource\') }}\n        </kendo-dialog-titlebar>\n        <textarea [value]="data" #textarea class="k-textarea k-editor-textarea"></textarea>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogUpdate\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,d.EditorLocalizationService])],s));function s(t,e){var o=n.call(this,t)||this;return o.dialog=t,o.localization=e,o.data="",o}e.SourceDialogComponent=l},function(t,e){t.exports=_},function(t,e){t.exports=g},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,a=o(0),r=o(1),d=o(9),l=o(21),s=(n=l.Messages,a.__extends(c,n),i=c,Object.defineProperty(c.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),i=a.__decorate([r.Component({providers:[{provide:l.Messages,useExisting:r.forwardRef(function(){return i})}],selector:"kendo-editor-messages",template:""}),a.__metadata("design:paramtypes",[d.LocalizationService])],c));function c(t){var e=n.call(this)||this;return e.service=t,e}e.CustomMessagesComponent=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,a=o(0),r=o(1),d=o(9),l=o(21),s=(n=l.Messages,a.__extends(c,n),i=c,i=a.__decorate([r.Directive({providers:[{provide:l.Messages,useExisting:r.forwardRef(function(){return i})}],selector:"[kendoEditorLocalizedMessages]"}),a.__metadata("design:paramtypes",[d.LocalizationService])],c));function c(t){var e=n.call(this)||this;return e.service=t,e}e.LocalizedMessagesDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorSplitCellButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"splitCell",t,e,o)||this}e.EditorSplitCellButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorMergeCellsButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"mergeCells",t,e,o)||this}e.EditorMergeCellsButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteTableButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"deleteTable",t,e,o)||this}e.EditorDeleteTableButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteRowButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"deleteRow",t,e,o)||this}e.EditorDeleteRowButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteColumnButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"deleteColumn",t,e,o)||this}e.EditorDeleteColumnButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowAfterButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"addRowAfter",t,e,o)||this}e.EditorAddRowAfterButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowBeforeButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"addRowBefore",t,e,o)||this}e.EditorAddRowBeforeButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnAfterButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"addColumnAfter",t,e,o)||this}e.EditorAddColumnAfterButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnBeforeButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"addColumnBefore",t,e,o)||this}e.EditorAddColumnBeforeButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorCleanFormattingButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"cleanFormatting",t,e,o)||this}e.EditorCleanFormattingButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=o(17),r=o(16),d=n.__decorate([i.Directive({selector:"[kendoEditorBackColor]"}),n.__metadata("design:paramtypes",[a.EditorColorPickerComponent])],function(t){this.colorPicker=t,this.colorPicker.icon=r.commandIcons.backColor,this.colorPicker.editorCommand="backColor"});e.EditorBackColorDirective=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=o(17),r=o(16),d=n.__decorate([i.Directive({selector:"[kendoEditorForeColor]"}),n.__metadata("design:paramtypes",[a.EditorColorPickerComponent])],function(t){this.colorPicker=t,this.colorPicker.icon=r.commandIcons.foreColor,this.colorPicker.editorCommand="foreColor"});e.EditorForeColorDirective=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(3),d=o(10),l=o(4),s=o(2),c=(n=d.EditorCommandDialog,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorInsertFileButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[l.ToolBarButtonComponent,r.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"insertFile",t,e,o)||this}e.EditorInsertFileButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorSuperscriptButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"superscript",t,e,o)||this}e.EditorSuperscriptButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorSubscriptButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"subscript",t,e,o)||this}e.EditorSubscriptButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorStrikethroughButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"strikethrough",t,e,o)||this}e.EditorStrikethroughButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorUnderlineButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"underline",t,e,o)||this}e.EditorUnderlineButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorItalicButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"italic",t,e,o)||this}e.EditorItalicButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorBoldButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"bold",t,e,o)||this}e.EditorBoldButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(10),s=o(2),c=(n=l.EditorCommandDialog,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorViewSourceButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"viewSource",t,e,o)||this}e.EditorViewSourceButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorInsertUnorderedListButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"insertUnorderedList",t,e,o)||this}e.EditorInsertUnorderedListButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorInsertOrderedListButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"insertOrderedList",t,e,o)||this}e.EditorInsertOrderedListButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorUnlinkButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"unlink",t,e,o)||this}e.EditorUnlinkButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(10),s=o(2),c=(n=l.EditorCommandDialog,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorCreateLinkButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"createLink",t,e,o)||this}e.EditorCreateLinkButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorOutdentButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"outdent",t,e,o)||this}e.EditorOutdentButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorIndentButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"indent",t,e,o)||this}e.EditorIndentButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(10),s=o(2),c=(n=l.EditorCommandDialog,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorInsertImageButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"insertImage",t,e,o)||this}e.EditorInsertImageButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorUndoButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"undo",t,e,o)||this}e.EditorUndoButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorRedoButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"redo",t,e,o)||this}e.EditorRedoButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAlignJustifyButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"alignJustify",t,e,o)||this}e.EditorAlignJustifyButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAlignRightButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"alignRight",t,e,o)||this}e.EditorAlignRightButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAlignCenterButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"alignCenter",t,e,o)||this}e.EditorAlignCenterButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(0),a=o(1),r=o(4),d=o(3),l=o(5),s=o(2),c=(n=l.EditorCommandButton,i.__extends(u,n),i.__decorate([a.Directive({selector:"kendo-toolbar-button[kendoEditorAlignLeftButton]"}),i.__param(1,a.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,d.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,o){return n.call(this,"alignLeft",t,e,o)||this}e.EditorAlignLeftButtonDirective=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=(Object.defineProperty(r.prototype,"message",{get:function(){var t=this.state,e=t.rows,o=t.cols;return"Create a "+(-1<e?e+1:"")+" "+(-1<o?"x":"")+" "+(-1<o?o+1:"")+" table"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cells",{get:function(){return Array.from(Array(this.rows*this.cols).keys())},enumerable:!0,configurable:!0}),r.prototype.selected=function(t){var e=this.state,o=e.rows,n=e.cols,i=Math.floor(t/this.cols),a=t%this.cols;return i<=o&&a<=n},r.prototype.setState=function(t){var e=Math.floor(t/this.cols),o=t%this.cols;this.state={rows:e,cols:o}},r.prototype.resetState=function(){this.state={rows:-1,cols:-1}},r.prototype.insertTable=function(){this.cellClick.emit(this.state)},r.prototype.openTableWizard=function(){this.tableWizardClick.emit()},n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],r.prototype,"cellClick",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],r.prototype,"tableWizardClick",void 0),n.__decorate([i.Component({selector:"kendo-popup-table-grid",template:'\n        <div style="border-color: inherit;" (mouseleave)="resetState()" (click)="insertTable()">\n            <span *ngFor="let i of cells"\n                class="k-ct-cell"\n                [class.k-state-selected]="selected(i)"\n                [class.k-state-disabled]="!selected(i)"\n                (mouseenter)="setState(i)">\n            </span>\n        </div>\n        <div class="k-status" unselectable="on">{{ message }}</div>\n        \x3c!-- uncomment when TableWizard is completed\n        <div class="k-editor-toolbar" unselectable="on">\n            <button type="button" kendoButton class="k-tool" [icon]="\'table-wizard\'" (click)="openTableWizard()" title="Table Wizard">Table Wizard</button>\n        </div>\n        --\x3e\n    '})],r));function r(){this.cellClick=new i.EventEmitter,this.tableWizardClick=new i.EventEmitter,this.state={rows:-1,cols:-1},this.rows=6,this.cols=8}e.PopupTableGridComponent=a},function(t,e){t.exports=y},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n,i=o(0),r=o(1),d=o(32),l=o(31),s=o(4),c=o(69),u=o(7),p=o(3),m=o(2),f=o(6),g=o(24),_=o(14),h=(a=s.ToolBarToolComponent,i.__extends(b,a),(n=b).prototype.ngOnDestroy=function(){this.destroyPopup(),this.subs.unsubscribe()},Object.defineProperty(b.prototype,"outerWidth",{get:function(){if(this.element)return u.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"title",{get:function(){return this.localization.get("insertTable")},enumerable:!0,configurable:!0}),b.prototype.toggle=function(t){this.open=void 0===t?!this.open:t,this.destroyPopup(),this.open&&this.createPopup()},b.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:g.InsertTableDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor})},b.prototype.onBlur=function(){this.buttonBlurred.emit()},b.prototype.onCellClick=function(t){this.cellClicked.emit(),this.toggle(!1),this.editor.exec("insertTable",t)},b.prototype.canFocus=function(){return!this.disabled},b.prototype.focus=function(){this.getButton().focus(),this.getButton().tabIndex=0},b.prototype.handleKey=function(t){return t.keyCode===_.Keys.Space||t.keyCode===_.Keys.Enter||!(this.getButton().tabIndex=-1)},b.prototype.onTableWizardClick=function(){},b.prototype.createPopup=function(){var t="rtl"===this.editor.direction?"right":"left",e={horizontal:t,vertical:"bottom"},o={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.element,anchorAlign:e,animate:!0,content:this.popupGridTemplate,popupAlign:o,popupClass:"k-ct-popup k-group k-reset k-state-border-up",positionMode:"absolute"});var n=this.popupRef.popupElement;n.style.width="190px",n.style.height="164px",n.setAttribute("dir",this.editor.direction)},b.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)},b.prototype.getButton=function(){return(this.overflows?this.overflowElement:this.element).nativeElement},i.__decorate([r.ViewChild("toolbarTemplate",{static:!0}),i.__metadata("design:type",r.TemplateRef)],b.prototype,"toolbarTemplate",void 0),i.__decorate([r.ViewChild("popupTemplate",{static:!0}),i.__metadata("design:type",r.TemplateRef)],b.prototype,"popupTemplate",void 0),i.__decorate([r.ViewChild("element"),i.__metadata("design:type",r.ElementRef)],b.prototype,"element",void 0),i.__decorate([r.ViewChild("overflowElement"),i.__metadata("design:type",r.ElementRef)],b.prototype,"overflowElement",void 0),i.__decorate([r.ViewChild("popupGridTemplate",{static:!0}),i.__metadata("design:type",r.TemplateRef)],b.prototype,"popupGridTemplate",void 0),n=i.__decorate([r.Component({providers:[{provide:s.ToolBarToolComponent,useExisting:r.forwardRef(function(){return n})}],selector:"kendo-editor-insert-table-button",template:'\n        <ng-template #toolbarTemplate>\n            <button type="button" kendoButton #element [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="toggle()" (blur)="onBlur()"></button>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button kendoButton #overflowElement [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="openDialog()">{{ title }}</button>\n        </ng-template>\n        <ng-template #popupGridTemplate>\n            <kendo-popup-table-grid (cellClick)="onCellClick($event)" (tableWizardClick)="onTableWizardClick()"></kendo-popup-table-grid>\n        </ng-template>\n    '}),i.__param(0,r.Host()),i.__metadata("design:paramtypes",[p.EditorComponent,m.EditorLocalizationService,c.PopupService,f.DialogService])],b));function b(t,e,o,n){var i=a.call(this)||this;return i.editor=t,i.localization=e,i.popupService=o,i.dialogService=n,i.open=!1,i.buttonBlurred=new r.EventEmitter,i.cellClicked=new r.EventEmitter,i.subs=i.editor.stateChange.subscribe(function(t){var e=t.insertTable;i.disabled=e.disabled}),i.subs=i.buttonBlurred.pipe(l.concatMap(function(){return d.interval(200).pipe(l.take(1),l.takeUntil(i.cellClicked))})).subscribe(function(){i.toggle(!1)}),i}e.EditorInsertTableButtonComponent=h},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n,a=o(0),r=o(1),d=o(4),l=o(7),s=o(3),c=o(2),u=o(6),p=o(25),m=o(19),f=(i=d.ToolBarToolComponent,a.__extends(g,i),n=g,Object.defineProperty(g.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),g.prototype.ngOnInit=function(){var o=this;this.itemDisabled=function(t){return!(o.overflows||!o.fontFamilyDropDownList||o.fontFamilyDropDownList.dropDownList.isOpen)||null===t.dataItem.fontName},setTimeout(function(){return o.defaultItem={text:o.title,fontName:null}}),this.subs=this.editor.stateChange.subscribe(function(t){var e=t.style;o.value=l.getUniqueStyleValues(e.selected,"font-family")||null,o.disabled=e.disabled})},g.prototype.onValueChange=function(e){l.isPresent(e)&&(this.editor.exec("fontFamily",e),this.editor.focus(),this.valueChange.emit(this.data.find(function(t){return t.fontName===e})))},g.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(g.prototype,"outerWidth",{get:function(){if(this.element)return l.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"title",{get:function(){return this.localization.get("fontFamily")},enumerable:!0,configurable:!0}),g.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:p.FontFamilyDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},g.prototype.canFocus=function(){return!this.disabled},g.prototype.focus=function(){this.tabindex=0,this.overflows?this.fontFamilyButton.nativeElement.focus():this.fontFamilyDropDownList.focus()},g.prototype.handleKey=function(){return!(this.tabindex=-1)},a.__decorate([r.Input(),a.__metadata("design:type",Array),a.__metadata("design:paramtypes",[Array])],g.prototype,"data",null),a.__decorate([r.Output(),a.__metadata("design:type",r.EventEmitter)],g.prototype,"valueChange",void 0),a.__decorate([r.ViewChild("toolbarTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"toolbarTemplate",void 0),a.__decorate([r.ViewChild("popupTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"popupTemplate",void 0),a.__decorate([r.ViewChild("element"),a.__metadata("design:type",r.ElementRef)],g.prototype,"element",void 0),a.__decorate([r.ViewChild("element",{read:m.FontFamilyDropDownListComponent}),a.__metadata("design:type",m.FontFamilyDropDownListComponent)],g.prototype,"fontFamilyDropDownList",void 0),a.__decorate([r.ViewChild("fontFamilyButton"),a.__metadata("design:type",r.ElementRef)],g.prototype,"fontFamilyButton",void 0),n=a.__decorate([r.Component({providers:[{provide:d.ToolBarToolComponent,useExisting:r.forwardRef(function(){return n})}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontFamily]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontfamily-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontfamily-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #fontFamilyButton\n                class="k-overflow-button"\n                [icon]="\'font-family\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),a.__param(0,r.Host()),a.__metadata("design:paramtypes",[s.EditorComponent,u.DialogService,c.EditorLocalizationService])],g));function g(t,e,o){var n=i.call(this)||this;return n.editor=t,n.dialogService=e,n.localization=o,n.disabled=!1,n.tabindex=-1,n.valueChange=new r.EventEmitter,n._data=[{text:"Arial",fontName:'Arial,"Helvetica Neue",Helvetica,sans-serif'},{text:"Courier New",fontName:'"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace'},{text:"Georgia",fontName:'Georgia,Times,"Times New Roman",serif'},{fontName:'Impact,Haettenschweiler,"Franklin Gothic Bold",Charcoal,"Helvetica Inserat","Bitstream Vera Sans Bold","Arial Black","sans serif"',text:"Impact"},{text:"Lucida Console",fontName:'"Lucida Console","Lucida Sans Typewriter",monaco,"Bitstream Vera Sans Mono",monospace'},{text:"Tahoma",fontName:"Tahoma,Verdana,Segoe,sans-serif"},{text:"Times New Roman",fontName:'TimesNewRoman,"Times New Roman",Times,Baskerville,Georgia,serif'},{text:"Trebuchet MS",fontName:'"Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif'},{text:"Verdana",fontName:"Verdana,Geneva,sans-serif"}],n}e.EditorFontFamilyComponent=f},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n,a=o(0),r=o(1),d=o(4),l=o(7),s=o(3),c=o(2),u=o(6),p=o(23),m=o(18),f=(i=d.ToolBarToolComponent,a.__extends(g,i),n=g,Object.defineProperty(g.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),g.prototype.ngOnInit=function(){var o=this;this.itemDisabled=function(t){return!(o.overflows||!o.fontSizeDropDownList||o.fontSizeDropDownList.dropDownList.isOpen)||null===t.dataItem.size},setTimeout(function(){return o.defaultItem={text:o.title,size:null}}),this.subs=this.editor.stateChange.subscribe(function(t){var e=t.style;o.value=(l.getUniqueStyleValues(e.selected,"font-size").match(/\d+/g)||[null])[0],o.disabled=e.disabled})},g.prototype.onValueChange=function(e){l.isPresent(e)&&(this.editor.exec("fontSize",e),this.editor.focus(),this.valueChange.emit(this.data.find(function(t){return t.size===parseInt(e,10)})))},g.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(g.prototype,"outerWidth",{get:function(){if(this.element)return l.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"title",{get:function(){return this.localization.get("fontSize")},enumerable:!0,configurable:!0}),g.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:p.FontSizeDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},g.prototype.canFocus=function(){return!this.disabled},g.prototype.focus=function(){this.tabindex=0,this.overflows?this.fontSizeButton.nativeElement.focus():this.fontSizeDropDownList.focus()},g.prototype.handleKey=function(){return!(this.tabindex=-1)},a.__decorate([r.Input(),a.__metadata("design:type",Array),a.__metadata("design:paramtypes",[Array])],g.prototype,"data",null),a.__decorate([r.Output(),a.__metadata("design:type",r.EventEmitter)],g.prototype,"valueChange",void 0),a.__decorate([r.ViewChild("toolbarTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"toolbarTemplate",void 0),a.__decorate([r.ViewChild("popupTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"popupTemplate",void 0),a.__decorate([r.ViewChild("element"),a.__metadata("design:type",r.ElementRef)],g.prototype,"element",void 0),a.__decorate([r.ViewChild("element",{read:m.FontSizeDropDownListComponent}),a.__metadata("design:type",m.FontSizeDropDownListComponent)],g.prototype,"fontSizeDropDownList",void 0),a.__decorate([r.ViewChild("fontSizeButton"),a.__metadata("design:type",r.ElementRef)],g.prototype,"fontSizeButton",void 0),n=a.__decorate([r.Component({providers:[{provide:d.ToolBarToolComponent,useExisting:r.forwardRef(function(){return n})}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontSize]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontsize-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontsize-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #fontSizeButton\n                class="k-overflow-button"\n                [icon]="\'font-size\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),a.__param(0,r.Host()),a.__metadata("design:paramtypes",[s.EditorComponent,u.DialogService,c.EditorLocalizationService])],g));function g(t,e,o){var n=i.call(this)||this;return n.editor=t,n.dialogService=e,n.localization=o,n.disabled=!1,n.tabindex=-1,n.valueChange=new r.EventEmitter,n._data=[{text:"8px",size:8},{text:"10px",size:10},{text:"12px",size:12},{text:"14px",size:14},{text:"18px",size:18},{text:"24px",size:24},{text:"36px",size:36}],n}e.EditorFontSizeComponent=f},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n,a=o(0),r=o(1),d=o(4),l=o(6),s=o(7),c=o(3),u=o(2),p=o(27),m=o(20),f=(i=d.ToolBarToolComponent,a.__extends(g,i),n=g,Object.defineProperty(g.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),g.prototype.ngOnInit=function(){var n=this;this.itemDisabled=function(t){return!(n.overflows||!n.formatDropDownList||n.formatDropDownList.dropDownList.isOpen)||null===t.dataItem.tag},setTimeout(function(){return n.defaultItem={text:n.title,tag:null}}),this.subs=this.editor.stateChange.subscribe(function(t){var e=t.format,o=n.data.findIndex(function(t){return t.tag===e.selected.tag});n.value=-1!==o?e.selected.tag:null,n.disabled=e.disabled})},g.prototype.onValueChange=function(e){s.isPresent(e)&&(this.editor.exec("format",{tag:e}),this.editor.focus(),this.valueChange.emit(this.data.find(function(t){return t.tag===e})))},g.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(g.prototype,"outerWidth",{get:function(){var t=this.formatDropDownList.element;if(t)return s.outerWidth(t.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"title",{get:function(){return this.localization.get("format")},enumerable:!0,configurable:!0}),g.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:p.FormatDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},g.prototype.canFocus=function(){return!this.disabled},g.prototype.focus=function(){this.tabindex=0,this.overflows?this.formatButton.nativeElement.focus():this.formatDropDownList.focus()},g.prototype.handleKey=function(){return!(this.tabindex=-1)},a.__decorate([r.Input(),a.__metadata("design:type",Array),a.__metadata("design:paramtypes",[Array])],g.prototype,"data",null),a.__decorate([r.Output(),a.__metadata("design:type",r.EventEmitter)],g.prototype,"valueChange",void 0),a.__decorate([r.ViewChild("toolbarTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"toolbarTemplate",void 0),a.__decorate([r.ViewChild("popupTemplate",{static:!0}),a.__metadata("design:type",r.TemplateRef)],g.prototype,"popupTemplate",void 0),a.__decorate([r.ViewChild("formatDropDownList"),a.__metadata("design:type",m.FormatDropDownListComponent)],g.prototype,"formatDropDownList",void 0),a.__decorate([r.ViewChild("formatButton"),a.__metadata("design:type",r.ElementRef)],g.prototype,"formatButton",void 0),n=a.__decorate([r.Component({providers:[{provide:d.ToolBarToolComponent,useExisting:r.forwardRef(function(){return n})}],selector:"kendo-toolbar-dropdownlist[kendoEditorFormat]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-format-dropdownlist\n                #formatDropDownList\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-format-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                #formatButton\n                [tabindex]="tabindex"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="\'apply-format\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),a.__param(0,r.Host()),a.__metadata("design:paramtypes",[c.EditorComponent,l.DialogService,u.EditorLocalizationService])],g));function g(t,e,o){var n=i.call(this)||this;return n.editor=t,n.dialogService=e,n.localization=o,n.disabled=!1,n.tabindex=-1,n.valueChange=new r.EventEmitter,n._data=[{text:"Paragraph",tag:"p"},{text:"Quotation",tag:"blockquote"},{text:"Heading 1",tag:"h1"},{text:"Heading 2",tag:"h2"},{text:"Heading 3",tag:"h3"},{text:"Heading 4",tag:"h4"},{text:"Heading 5",tag:"h5"},{text:"Heading 6",tag:"h6"}],n}e.EditorFormatComponent=f},function(t,e){t.exports=m},function(t,e){t.exports=l},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),a=o(75),r=o(15),d=o(4),l=o(12),s=o(6),c=o(74),u=o(11),p=o(11),m=o(3),f=o(29),g=o(30),_=o(28),h=o(27),b=o(26),v=o(25),y=o(24),k=o(73),C=o(72),w=o(71),E=o(17),x=o(70),D=o(68),B=o(67),I=o(66),T=o(65),S=o(64),L=o(63),A=o(62),F=o(61),O=o(60),z=o(59),M=o(58),P=o(57),R=o(56),j=o(55),V=o(54),H=o(53),W=o(52),N=o(51),U=o(50),J=o(49),G=o(48),$=o(47),q=o(46),K=o(45),Z=o(44),X=o(43),Q=o(42),Y=o(41),tt=o(40),et=o(39),ot=o(38),nt=o(37),it=o(36),at=o(35),rt=o(34),dt=o(33),lt=o(20),st=o(19),ct=o(18),ut=o(23),pt=[B.EditorAlignLeftButtonDirective,I.EditorAlignCenterButtonDirective,T.EditorAlignRightButtonDirective,S.EditorAlignJustifyButtonDirective,$.EditorInsertFileButtonDirective,L.EditorRedoButtonDirective,A.EditorUndoButtonDirective,F.EditorInsertImageButtonDirective,O.EditorIndentButtonDirective,z.EditorOutdentButtonDirective,M.EditorCreateLinkButtonDirective,P.EditorUnlinkButtonDirective,R.EditorInsertOrderedListButtonDirective,j.EditorInsertUnorderedListButtonDirective,V.EditorViewSourceButtonDirective,H.EditorBoldButtonDirective,W.EditorItalicButtonDirective,N.EditorUnderlineButtonDirective,U.EditorStrikethroughButtonDirective,J.EditorSubscriptButtonDirective,G.EditorSuperscriptButtonDirective,q.EditorForeColorDirective,K.EditorBackColorDirective,Z.EditorCleanFormattingButtonDirective,X.EditorAddColumnBeforeButtonDirective,Q.EditorAddColumnAfterButtonDirective,Y.EditorAddRowBeforeButtonDirective,tt.EditorAddRowAfterButtonDirective,et.EditorDeleteColumnButtonDirective,ot.EditorDeleteRowButtonDirective,nt.EditorDeleteTableButtonDirective,it.EditorMergeCellsButtonDirective,at.EditorSplitCellButtonDirective,dt.CustomMessagesComponent,rt.LocalizedMessagesDirective],mt=[C.EditorFontSizeComponent,w.EditorFontFamilyComponent,k.EditorFormatComponent,E.EditorColorPickerComponent,x.EditorInsertTableButtonComponent],ft=[_.FileLinkDialogComponent,f.ImageDialogComponent,g.SourceDialogComponent,h.FormatDialogComponent,b.ColorPickerDialogComponent,v.FontFamilyDialogComponent,ut.FontSizeDialogComponent,y.InsertTableDialogComponent],gt=[D.PopupTableGridComponent,lt.FormatDropDownListComponent,st.FontFamilyDropDownListComponent,ct.FontSizeDropDownListComponent],_t=n.__decorate([i.NgModule({declarations:[m.EditorComponent,pt,mt,ft,gt],entryComponents:[ft],exports:[m.EditorComponent,pt,mt,d.ToolBarModule,c.ButtonModule,r.FormsModule,r.ReactiveFormsModule,gt],imports:[a.CommonModule,r.FormsModule,r.ReactiveFormsModule,c.ButtonModule,u.ColorPickerModule,s.DialogModule,l.DropDownsModule,p.NumericTextBoxModule,d.ToolBarModule,p.TextBoxModule]})],function(){});e.EditorModule=_t},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  position: relative;\n  min-height: 100%;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror li {\n  position: relative;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',e.tablesStyles='\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n',e.rtlStyles="body { direction: rtl }"},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(8),i=o(13);e.getToolbarState=function(t){return{alignCenter:{selected:n.isAligned(t,n.alignCenterRules),disabled:!1},alignJustify:{selected:n.isAligned(t,n.alignJustifyRules),disabled:!1},alignLeft:{selected:n.isAligned(t,n.alignLeftRules),disabled:!1},alignRight:{selected:n.isAligned(t,n.alignRightRules),disabled:!1},bold:{selected:n.hasMark(t,n.bold),disabled:!1},cleanFormatting:{selected:!1,disabled:t.selection.empty},format:{selected:n.activeNode(t),disabled:!1},indent:{selected:!1,disabled:!(n.canIndentAsListItem(t,i.schema.nodes.list_item)||n.canBeIndented(t,n.indentRules))},insertOrderedList:{selected:n.hasNode(t,i.schema.nodes.ordered_list),disabled:!1},insertUnorderedList:{selected:n.hasNode(t,i.schema.nodes.bullet_list),disabled:!1},italic:{selected:n.hasMark(t,n.italic),disabled:!1},unlink:{selected:!1,disabled:!n.hasMark(t,n.link)},outdent:{selected:!1,disabled:!(n.canOutdentAsListItem(t,n.outdentRules)||n.canBeIndented(t,n.outdentRules))},redo:{selected:!1,disabled:!n.redo(t)},strikethrough:{selected:n.hasMark(t,n.strikethrough),disabled:!1},style:{selected:n.getActiveMarks(t,i.schema.marks.style),disabled:!1},subscript:{selected:n.hasMark(t,n.subscript),disabled:!1},superscript:{selected:n.hasMark(t,n.superscript),disabled:!1},underline:{selected:n.hasMark(t,n.underline),disabled:!1},undo:{selected:!1,disabled:!n.undo(t)},createLink:{selected:!1,disabled:t.selection.empty},insertFile:{selected:!1,disabled:t.selection.empty},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!n.addColumnBefore(t)},addColumnAfter:{selected:!1,disabled:!n.addColumnAfter(t)},addRowBefore:{selected:!1,disabled:!n.addRowBefore(t)},addRowAfter:{selected:!1,disabled:!n.addRowAfter(t)},deleteRow:{selected:!1,disabled:!n.deleteRow(t)},deleteColumn:{selected:!1,disabled:!n.deleteColumn(t)},mergeCells:{selected:!1,disabled:!n.mergeCells(t)},splitCell:{selected:!1,disabled:!n.splitCell(t)},deleteTable:{selected:!1,disabled:!n.deleteTable(t)}}},e.initialToolBarState={alignCenter:{selected:!1,disabled:!1},alignJustify:{selected:!1,disabled:!1},alignLeft:{selected:!1,disabled:!1},alignRight:{selected:!1,disabled:!1},bold:{selected:!1,disabled:!1},italic:{selected:!1,disabled:!1},underline:{selected:!1,disabled:!1},strikethrough:{selected:!1,disabled:!1},subscript:{selected:!1,disabled:!1},superscript:{selected:!1,disabled:!1},format:{selected:{text:"Format",tag:null},disabled:!1},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!1},cleanFormatting:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!1},outdent:{selected:!1,disabled:!1},insertOrderedList:{selected:!1,disabled:!1},insertUnorderedList:{selected:!1,disabled:!1},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0}},e.disabledToolBarState={alignCenter:{selected:!1,disabled:!0},alignJustify:{selected:!1,disabled:!0},alignLeft:{selected:!1,disabled:!0},alignRight:{selected:!1,disabled:!0},bold:{selected:!1,disabled:!0},italic:{selected:!1,disabled:!0},underline:{selected:!1,disabled:!0},strikethrough:{selected:!1,disabled:!0},subscript:{selected:!1,disabled:!0},superscript:{selected:!1,disabled:!0},format:{selected:{text:"Format",tag:null},disabled:!0},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!0},cleanFormatting:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!0},outdent:{selected:!1,disabled:!0},insertOrderedList:{selected:!1,disabled:!0},insertUnorderedList:{selected:!1,disabled:!0},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!0},viewSource:{selected:!1,disabled:!0},insertTable:{selected:!1,disabled:!0},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){return a.alignBlocks(a.alignRemoveRules)(t,e)}var i=o(13),a=o(8),r={bold:function(){return a.toggleInlineFormat(a.bold)},cleanFormatting:function(){return a.removeAllMarks({except:i.schema.marks.link})},createLink:function(t){return a.applyLink({mark:"link",attrs:t})},fontFamily:function(t){return a.applyInlineStyle({style:"font-family",value:t})},fontSize:function(t){return a.applyInlineStyle({style:"font-size",value:t+"px"})},insertFile:function(t){return a.applyLink({mark:"link",attrs:t})},insertText:function(t){return a.insertText(t)},italic:function(){return a.toggleInlineFormat(a.italic)},strikethrough:function(){return a.toggleInlineFormat(a.strikethrough)},subscript:function(){return a.toggleInlineFormat(a.subscript)},superscript:function(){return a.toggleInlineFormat(a.superscript)},underline:function(){return a.toggleInlineFormat(a.underline)},unlink:function(){return a.removeLink(a.link)},foreColor:function(t){return a.applyInlineStyle({style:"color",value:t})},backColor:function(t){return a.applyInlineStyle({style:"background-color",value:t})}},d={alignCenter:function(){return function(t,e){return(a.isAligned(t,a.alignCenterRules)?n:a.alignBlocks(a.alignCenterRules))(t,e)}},alignJustify:function(){return function(t,e){return(a.isAligned(t,a.alignJustifyRules)?n:a.alignBlocks(a.alignJustifyRules))(t,e)}},alignLeft:function(){return function(t,e){return(a.isAligned(t,a.alignLeftRules)?n:a.alignBlocks(a.alignLeftRules))(t,e)}},alignRight:function(){return function(t,e){return(a.isAligned(t,a.alignRightRules)?n:a.alignBlocks(a.alignRightRules))(t,e)}},format:function(t){return a.formatBlockElements(t.tag)},getHTML:function(){return a.getHtml},indent:function(){return a.indent},insertImage:function(t){return a.insertImage(t)},insertOrderedList:function(){return a.toggleOrderedList},insertUnorderedList:function(){return a.toggleUnorderedList},outdent:function(){return a.outdent},redo:function(){return a.redo},setHTML:function(t){return a.setHtml(t)},undo:function(){return a.undo}};e.insertTable=function(n){return function(t,e){var o=a.createTable(t.schema.nodes,n.rows,n.cols);o&&a.insertNode(o,!0)(t,e)}};var l={insertTable:function(t){return e.insertTable(t)},addColumnBefore:function(){return a.addColumnBefore},addColumnAfter:function(){return a.addColumnAfter},addRowBefore:function(){return a.addRowBefore},addRowAfter:function(){return a.addRowAfter},deleteRow:function(){return a.deleteRow},deleteColumn:function(){return a.deleteColumn},mergeCells:function(){return a.mergeCells},splitCell:function(){return a.splitCell},deleteTable:function(){return a.deleteTable}};e.editorCommands=Object.assign({},r,d,l)},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(3);e.EditorComponent=n.EditorComponent;var i=o(76);e.EditorModule=i.EditorModule,function(t){for(var e in t)a(e,t[e])}(e)}],n.c=i,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=80)}}});
##############################################
/src/dist/fesm2015/index.js-1247-        this.toolbar.toggle(false);
/src/dist/fesm2015/index.js:1248:        const dialogContent = this.dialogService.open(dialog).content.instance;
/src/dist/fesm2015/index.js-1249-        if (dialogName === 'createLink' || dialogName === 'insertFile') {
##############################################
/src/dist/fesm2015/index.js-2126-        this.editor.toolbar.toggle(false);
/src/dist/fesm2015/index.js:2127:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm2015/index.js-2128-        dialogContent.setData({
##############################################
/src/dist/fesm2015/index.js-2427-        this.editor.toolbar.toggle(false);
/src/dist/fesm2015/index.js:2428:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm2015/index.js-2429-        dialogContent.setData({
##############################################
/src/dist/fesm2015/index.js-2611-        this.editor.toolbar.toggle(false);
/src/dist/fesm2015/index.js:2612:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm2015/index.js-2613-        dialogContent.setData({
##############################################
/src/dist/fesm2015/index.js-2764-        this.editor.toolbar.toggle(false);
/src/dist/fesm2015/index.js:2765:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm2015/index.js-2766-        dialogContent.setData({
##############################################
/src/dist/fesm2015/index.js-2918-        this.editor.toolbar.toggle(false);
/src/dist/fesm2015/index.js:2919:        const dialogContent = this.dialogService.open(dialogSettings).content.instance;
/src/dist/fesm2015/index.js-2920-        dialogContent.setData({
##############################################
/src/dist/fesm2015/index.js-2971-        const popupPosition = { horizontal: horizontalAlign, vertical: "top" };
/src/dist/fesm2015/index.js:2972:        this.popupRef = this.popupService.open({
/src/dist/fesm2015/index.js-2973-            anchor: this.element,
##############################################
/src/dist/cdn/main.js-4-*-------------------------------------------------------------------------------------------*/
/src/dist/cdn/main.js:5:!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("tslib"),require("@angular/core"),require("@progress/kendo-angular-toolbar"),require("@progress/kendo-angular-dialog"),require("@progress/kendo-editor-common"),require("@progress/kendo-angular-l10n"),require("@angular/forms"),require("@progress/kendo-angular-common"),require("@progress/kendo-angular-dropdowns"),require("@progress/kendo-angular-inputs"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@progress/kendo-angular-buttons"),require("@progress/kendo-angular-popup")):"function"==typeof define&&define.amd?define(["tslib","@angular/core","@progress/kendo-angular-toolbar","@progress/kendo-angular-dialog","@progress/kendo-editor-common","@progress/kendo-angular-l10n","@angular/forms","@progress/kendo-angular-common","@progress/kendo-angular-dropdowns","@progress/kendo-angular-inputs","rxjs","rxjs/operators","@angular/common","@progress/kendo-angular-buttons","@progress/kendo-angular-popup"],e):"object"==typeof exports?exports.KendoAngularEditor=e(require("tslib"),require("@angular/core"),require("@progress/kendo-angular-toolbar"),require("@progress/kendo-angular-dialog"),require("@progress/kendo-editor-common"),require("@progress/kendo-angular-l10n"),require("@angular/forms"),require("@progress/kendo-angular-common"),require("@progress/kendo-angular-dropdowns"),require("@progress/kendo-angular-inputs"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@progress/kendo-angular-buttons"),require("@progress/kendo-angular-popup")):t.KendoAngularEditor=e(t.tslib,t["@angular/core"],t["@progress/kendo-angular-toolbar"],t["@progress/kendo-angular-dialog"],t["@progress/kendo-editor-common"],t["@progress/kendo-angular-l10n"],t["@angular/forms"],t["@progress/kendo-angular-common"],t["@progress/kendo-angular-dropdowns"],t["@progress/kendo-angular-inputs"],t.rxjs,t["rxjs/operators"],t["@angular/common"],t["@progress/kendo-angular-buttons"],t["@progress/kendo-angular-popup"])}(window,(function(t,e,o,n,i,r,a,d,l,s,u,c,p,m,f){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=33)}([function(e,o){e.exports=t},function(t,o){t.exports=e},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(9),a=function(t){function e(e,o,n){return t.call(this,e,o,n)||this}return n.__extends(e,t),e=n.__decorate([n.__param(0,i.Inject(r.L10N_PREFIX)),n.__param(1,i.Optional()),n.__param(2,i.Optional()),n.__param(2,i.Inject(r.RTL)),n.__metadata("design:paramtypes",[String,r.MessageService,Boolean])],e)}(r.LocalizationService);e.EditorLocalizationService=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(10),a=o(21),d=o(22),l=o(4),s=o(6),u=o(11),c=o(8),p=o(12),m=o(34),f=o(35),g=o(7),_=o(23),h=o(24),b=o(25),v=o(9),y=o(2),k=o(36),C={convertMsLists:!1,removeAttributes:[],removeHtmlComments:!1,removeInvalidHTML:!1,removeMsClasses:!1,removeMsStyles:!1,stripTags:[""]},w=g.conditionallyExecute(c.removeComments),x=g.conditionallyExecute(c.sanitize),E=function(){function t(t,e,o,n){var r=this;this.dialogService=t,this.localization=e,this.cdr=o,this.ngZone=n,this.iframe=!0,this.updateInterval=100,this.valueChange=new i.EventEmitter,this.hostClasses=!0,this.stateChange=new a.BehaviorSubject(f.initialToolBarState),this.valueModified=new a.Subject,this.afterViewInit=new a.Subject,this.contentAreaLoaded=new a.Subject,this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this.direction=e.rtl?"rtl":"ltr",this.subs=a.zip(this.afterViewInit.asObservable(),this.contentAreaLoaded.asObservable()).subscribe((function(){return r.initialize()}))}var e;return e=t,Object.defineProperty(t.prototype,"value",{get:function(){var t=this.view?this.getSource():this._value;return"<p></p>"===t?this._value?"":this._value:t},set:function(t){this._value=t,this._previousValue=t,this.view&&this.exec("setHTML",this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t||!1,this._disabled||this._readonly?this.stateChange.next(f.disabledToolBarState):this.stateChange.next(this.view?f.getToolbarState(this.view.state):f.initialToolBarState)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=t||!1,this._disabled||this._readonly?this.stateChange.next(f.disabledToolBarState):this.stateChange.next(this.view?f.getToolbarState(this.view.state):f.initialToolBarState)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadonly",{get:function(){return this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isIE",{get:function(){return this.iframe&&g.detectIE()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.defaultToolbarComponent||this.userToolBarComponent},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.subs.add(this.localization.changes.subscribe((function(e){var o=e.rtl;t.direction=o?"rtl":"ltr"})))},t.prototype.ngAfterViewInit=function(){this.afterViewInit.next(),this.iframe||this.contentAreaLoaded.next()},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.iframeOnLoad=function(){this.contentAreaLoaded.next()},t.prototype.exec=function(t,e){m.editorCommands[t](e)(this.view.state,this.view.dispatch,this.view)},t.prototype.openDialog=function(t){var e={createLink:{content:b.FileLinkDialogComponent},insertFile:{content:b.FileLinkDialogComponent},insertImage:{content:h.ImageDialogComponent},viewSource:{content:_.SourceDialogComponent,height:400,width:500}},o=Object.assign({appendTo:this.dialogContainer},e[t]);this.toolbar.toggle(!1);var n=this.dialogService.open(o).content.instance;"createLink"!==t&&"insertFile"!==t||(n.command=t),n.editor=this,n.setData(this.view.state)},t.prototype.focus=function(){this.view.focus()},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.getSource=function(){return c.getHtml(this.view.state)},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t.prototype.writeValue=function(t){this.value=null===t?void 0:t},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.isEmpty=function(){return!1},t.prototype.initialize=function(){var t=this;if(u.isDocumentAvailable()){var e=this,o=this.container.element.nativeElement,i=c.parseContent((this.value||"").trim(),p.schema);if(this.iframe){var r=o.contentDocument,l=r.createElement("meta");l.setAttribute("charset","utf-8"),r.head.appendChild(l),[k.defaultStyle,k.tablesStyles,"rtl"===this.dir?k.rtlStyles:void 0].forEach((function(t){if(t){var e=r.createElement("style");e.appendChild(r.createTextNode(t)),r.head.appendChild(e)}}));var s=r.createElement("div");r.body.appendChild(s)}else{s=document.createElement("div");o.appendChild(s)}var m=c.EditorState.create({schema:p.schema,doc:i,plugins:[c.history(),c.keymap(c.buildListKeymap(p.schema)),c.keymap(c.buildKeymap(p.schema)),c.keymap(c.baseKeymap)]});this.iframe?this.viewMountElement=o.contentDocument.querySelector("div"):this.viewMountElement=o.querySelector("div"),this.ngZone.runOutsideAngular((function(){t.view=new c.EditorView({mount:t.viewMountElement},{state:m,dispatchTransaction:function(t){if(!e.disabled&&!e.readonly){this.updateState(this.state.apply(t)),e.stateChange.next(f.getToolbarState(this.state));var o=e.value;c.hasSameMarkup(o,e._previousValue,this.state.schema)||(e._previousValue=o,e.ngZone.run((function(){return e.valueModified.next(o)})))}},transformPastedHTML:function(e){var o=n.__assign({},C,t.pasteCleanupSettings),i=g.pipe(w(o.removeHtmlComments),x(o.removeInvalidHTML))(e),r=function(t){if("all"===t.removeAttributes)return{"*":c.removeAttribute};var e=g.removeEmptyEntries({style:t.removeMsStyles?c.sanitizeStyleAttr:void 0,class:t.removeMsClasses?c.sanitizeClassAttr:void 0});return t.removeAttributes.reduce((function(t,e){var o;return n.__assign({},t,((o={})[e]=c.removeAttribute,o))}),e)}(o);return c.pasteCleanup(i,{convertMsLists:o.convertMsLists,stripTags:o.stripTags.join("|"),attributes:r})}})})),this.subs.add(a.merge(this.stateChange.pipe(d.filter((function(){return t.updateInterval>0})),d.auditTime(this.updateInterval)),this.stateChange.pipe(d.filter((function(){return 0===t.updateInterval})))).subscribe((function(){t.userToolBarComponent?t.userToolBarComponent.cdr.detectChanges():t.cdr.detectChanges()}))),this.subs.add(a.merge(this.valueModified.pipe(d.filter((function(){return t.updateInterval>0})),d.auditTime(this.updateInterval)),this.valueModified.pipe(d.filter((function(){return 0===t.updateInterval})))).subscribe((function(o){e.onChangeCallback(o),t.valueChange.emit(o),t.cdr.markForCheck()}))),this.subs.add(a.fromEvent(this.viewMountElement,"keyup").pipe(d.map((function(t){return t.keyCode})),d.filter((function(t){return 121===t})),d.map((function(){return t.userToolBarElement||t.defaultToolbar}))).subscribe((function(t){return t.nativeElement.focus()}))),this.subs.add(a.fromEvent(this.viewMountElement,"blur").pipe(d.filter((function(e){return!t.viewMountElement.contains(e.relatedTarget)}))).subscribe((function(){return t.onTouchedCallback()})))}},n.__decorate([i.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],t.prototype,"value",null),n.__decorate([i.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],t.prototype,"disabled",null),n.__decorate([i.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],t.prototype,"readonly",null),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],t.prototype,"iframe",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],t.prototype,"updateInterval",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],t.prototype,"pasteCleanupSettings",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"valueChange",void 0),n.__decorate([i.HostBinding("class.k-widget"),i.HostBinding("class.k-editor"),n.__metadata("design:type",Boolean)],t.prototype,"hostClasses",void 0),n.__decorate([i.HostBinding("class.k-state-disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],t.prototype,"isDisabled",null),n.__decorate([i.HostBinding("class.k-readonly"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],t.prototype,"isReadonly",null),n.__decorate([i.HostBinding("class.k-ie"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],t.prototype,"isIE",null),n.__decorate([i.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],t.prototype,"dir",null),n.__decorate([i.HostBinding("attr.ariaDisabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],t.prototype,"ariaDisabled",null),n.__decorate([i.ContentChild(l.ToolBarComponent),n.__metadata("design:type",l.ToolBarComponent)],t.prototype,"userToolBarComponent",void 0),n.__decorate([i.ContentChild(l.ToolBarComponent,{read:i.ElementRef}),n.__metadata("design:type",i.ElementRef)],t.prototype,"userToolBarElement",void 0),n.__decorate([i.ViewChild("dialogsContainer",{read:i.ViewContainerRef}),n.__metadata("design:type",i.ViewContainerRef)],t.prototype,"dialogContainer",void 0),n.__decorate([i.ViewChild("content",{read:i.ViewContainerRef}),n.__metadata("design:type",i.ViewContainerRef)],t.prototype,"container",void 0),n.__decorate([i.ViewChild("defaultToolbar",{read:i.ElementRef}),n.__metadata("design:type",i.ElementRef)],t.prototype,"defaultToolbar",void 0),n.__decorate([i.ViewChild("defaultToolbar",{read:l.ToolBarComponent}),n.__metadata("design:type",l.ToolBarComponent)],t.prototype,"defaultToolbarComponent",void 0),t=e=n.__decorate([i.Component({selector:"kendo-editor",providers:[y.EditorLocalizationService,{provide:v.LocalizationService,useExisting:y.EditorLocalizationService},{provide:v.L10N_PREFIX,useValue:"kendo.editor"},{provide:r.NG_VALUE_ACCESSOR,useExisting:i.forwardRef((function(){return e})),multi:!0},{provide:u.KendoInput,useExisting:i.forwardRef((function(){return e}))}],template:'\n        <ng-container\n            kendoEditorLocalizedMessages\n            i18n-alignCenter="kendo.editor.alignCenter|The title of the tool that aligns text in the center."\n            alignCenter="Center text"\n            i18n-alignJustify="kendo.editor.alignJustify|The title of the tool that justifies text both left and right."\n            alignJustify="Justify"\n            i18n-alignLeft="kendo.editor.alignLeft|The title of the tool that aligns text on the left."\n            alignLeft="Align text left"\n            i18n-alignRight="kendo.editor.alignRight|The title of the tool that aligns text on the right."\n            alignRight="Align text right"\n            i18n-backColor="kendo.editor.backColor|The title of the tool that changes the text background color."\n            backColor="Background color"\n            i18n-bold="kendo.editor.bold|The title of the tool that makes text bold."\n            bold="Bold"\n            i18n-cleanFormatting="kendo.editor.cleanFormatting|The title of the Clean Formatting tool."\n            cleanFormatting="Clean formatting"\n            i18n-createLink="kendo.editor.createLink|The title of the tool that creates hyperlinks."\n            createLink="Insert link"\n            i18n-dialogApply="kendo.editor.dialogApply|The label of the **Apply** button in all editor dialogs."\n            dialogApply="Apply"\n            i18n-dialogCancel="kendo.editor.dialogCancel|The label of the **Cancel** button in all editor dialogs."\n            dialogCancel="Cancel"\n            i18n-dialogInsert="kendo.editor.dialogInsert|The label of the **Insert** button in all editor dialogs."\n            dialogInsert="Insert"\n            i18n-dialogUpdate="kendo.editor.dialogUpdate|The label of the **Update** button in all editor dialogs."\n            dialogUpdate="Update"\n            i18n-fileText="kendo.editor.fileText|The caption for the file text in the insertFile dialog."\n            fileText="Text"\n            i18n-fileTitle="kendo.editor.fileTitle|The caption for the file Title in the insertFile dialog."\n            fileTitle="Title"\n            i18n-fileWebAddress="kendo.editor.fileWebAddress|The caption for the file URL in the insertFile dialog."\n            fileWebAddress="Web address"\n            i18n-fontFamily="kendo.editor.fontFamily|The title of the tool that changes the text font."\n            fontFamily="Select font family"\n            i18n-fontSize="kendo.editor.fontSize|The title of the tool that changes the text size."\n            fontSize="Select font size"\n            i18n-foreColor="kendo.editor.foreColor|The title of the tool that changes the text color."\n            foreColor="Color"\n            i18n-format="kendo.editor.format|The title of the tool that lets users choose block formats."\n            format="Format"\n            i18n-imageAltText="kendo.editor.imageAltText|The caption for the image alternate text in the insertImage dialog."\n            imageAltText="Alternate text"\n            i18n-imageHeight="kendo.editor.imageHeight|The caption for the image height in the insertImage dialog."\n            imageHeight="Height (px)"\n            i18n-imageWebAddress="kendo.editor.imageWebAddress|The caption for the image URL in the insertImage dialog."\n            imageWebAddress="Web address"\n            i18n-imageWidth="kendo.editor.imageWidth|The caption for the image width in the insertImage dialog."\n            imageWidth="Width (px)"\n            i18n-indent="kendo.editor.indent|The title of the tool that indents the content."\n            indent="Indent"\n            i18n-insertFile="kendo.editor.insertFile|The title of the tool that inserts links to files."\n            insertFile="Insert file"\n            i18n-insertImage="kendo.editor.insertImage|The title of the tool that inserts images."\n            insertImage="Insert image"\n            i18n-insertOrderedList="kendo.editor.insertOrderedList|The title of the tool that inserts an ordered list."\n            insertOrderedList="Insert ordered list"\n            i18n-insertUnorderedList="kendo.editor.insertUnorderedList|The title of the tool that inserts an unordered list."\n            insertUnorderedList="Insert unordered list"\n            i18n-italic="kendo.editor.italic|The title of the tool that makes text italicized."\n            italic="Italic"\n            i18n-linkOpenInNewWindow="kendo.editor.linkOpenInNewWindow|The caption for the checkbox for opening the link in a new window in the createLink dialog."\n            linkOpenInNewWindow="Open link in new window"\n            i18n-linkText="kendo.editor.linkText|The caption for the link text in the createLink dialog."\n            linkText="Text"\n            i18n-linkTitle="kendo.editor.linkTitle|The caption for the link title in the createLink dialog."\n            linkTitle="Title"\n            i18n-linkWebAddress="kendo.editor.linkWebAddress|The caption for the URL in the createLink dialog."\n            linkWebAddress="Web address"\n            i18n-outdent="kendo.editor.outdent|The title of the tool that outdents the content."\n            outdent="Outdent"\n            i18n-redo="kendo.editor.redo|The title of the tool that undos the last action."\n            redo="Redo"\n            i18n-strikethrough="kendo.editor.strikethrough|The title of the tool that strikes through text."\n            strikethrough="Strikethrough"\n            i18n-subscript="kendo.editor.subscript|The title of the tool that makes text subscript."\n            subscript="Subscript"\n            i18n-superscript="kendo.editor.superscript|The title of the tool that makes text superscript."\n            superscript="Superscript"\n            i18n-underline="kendo.editor.underline|The title of the tool that underlines text."\n            underline="Underline"\n            i18n-unlink="kendo.editor.unlink|The title of the tool that removes hyperlinks."\n            unlink="Remove Link"\n            i18n-undo="kendo.editor.undo|The title of the tool that undos the last action."\n            undo="Undo"\n            i18n-viewSource="kendo.editor.viewSource|The title of the tool that shows the editor value as HTML."\n            viewSource="View source"\n            i18n-insertTable="kendo.editor.insertTable|The title of the tool that inserts table."\n            insertTable="Insert Table"\n            i18n-addColumnBefore="kendo.editor.addColumnBefore|The title of the tool that adds new column before currently selected column."\n            addColumnBefore="Add column before"\n            i18n-addColumnAfter="kendo.editor.addColumnAfter|The title of the tool that adds new column after currently selected column."\n            addColumnAfter="Add column after"\n            i18n-addRowBefore="kendo.editor.addRowBefore|The title of the tool that adds new row before currently selected row."\n            addRowBefore="Add row before"\n            i18n-addRowAfter="kendo.editor.addRowAfter|The title of the tool that adds new row after currently selected row."\n            addRowAfter="Add row after"\n            i18n-deleteColumn="kendo.editor.deleteColumn|The title of the tool that deletes a table column."\n            deleteColumn="Delete column"\n            i18n-deleteRow="kendo.editor.deleteRow|The title of the tool that deletes a table row."\n            deleteRow="Delete row"\n            i18n-deleteTable="kendo.editor.deleteTable|The title of the tool that deletes a table."\n            deleteTable="Delete table"\n        >\n        </ng-container>\n\n        <ng-content select="kendo-toolbar"></ng-content>\n        <kendo-toolbar [overflow]="true" *ngIf="!userToolBarElement" #defaultToolbar>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorBoldButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorItalicButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnderlineButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-dropdownlist kendoEditorFormat></kendo-toolbar-dropdownlist>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorAlignLeftButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignCenterButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignRightButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignJustifyButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorInsertUnorderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorInsertOrderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorIndentButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorOutdentButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorCreateLinkButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnlinkButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-button kendoEditorInsertImageButton></kendo-toolbar-button>\n        </kendo-toolbar>\n\n        <div *ngIf="!iframe" #content [attr.dir]="direction" class="k-editor-content"></div>\n\n        <div class="k-editor-content" *ngIf="iframe">\n            <iframe #content frameborder="0" class="k-iframe" (load)="iframeOnLoad()"></iframe>\n        </div>\n\n        <ng-container #dialogsContainer></ng-container>\n    ',styles:["\n            >>> .k-editor-content > .ProseMirror {\n                height: 100%;\n                width: 100%;\n                box-sizing: border-box;\n                outline: none;\n                overflow: auto;\n            }\n\n            .k-iframe {\n                width: 100%;\n                height: 100%;\n                display: block;\n            }\n        "]}),n.__metadata("design:paramtypes",[s.DialogService,v.LocalizationService,i.ChangeDetectorRef,i.NgZone])],t)}();e.EditorComponent=E},function(t,e){t.exports=o},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=function(t){function e(e,o,n,i){var r=t.call(this,e,o,n,i)||this;return r.command=e,r.button=o,r.editor=n,r.localization=i,r}return n.__extends(e,t),e.prototype.clickHandler=function(){this.editor.exec(this.command),this.editor.focus()},e.prototype.onStateChange=function(t){this.button.selected=t[this.command].selected,this.button.disabled=t[this.command].disabled},e}(o(31).EditorCommandBase);e.EditorCommandButton=i},function(t,e){t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(11);e.outerWidth=function(t){var e=t.offsetWidth,o=getComputedStyle(t);return e+=parseFloat(o.marginLeft)||0+parseFloat(o.marginRight)||0},e.serializeDOMAttrs=function(t){return Array.from(t.attributes).reduce((function(t,e){var o;return Object.assign({},t,((o={})[e.name]=e.value,o))}),{})},e.removeEntries=function(t,e){return Object.keys(t).filter((function(t){return e(t)})).reduce((function(e,o){var n;return Object.assign(e,((n={})[o]=t[o],n))}),{})},e.removeEmptyEntries=function(t){return e.removeEntries(t,(function(e){return null!==t[e]&&void 0!==t[e]&&""!==t[e]}))},e.isEmpty=function(t){return 0===Object.keys(t).length},e.isNullOrUndefined=function(t){return null==t},e.isPresent=function(t){return!e.isNullOrUndefined(t)},e.detectIE=function(){if(!n.isDocumentAvailable())return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE "),o=t.indexOf("Trident/");return e>0||o>0},e.safeString=function(t){return e.isNullOrUndefined(t)?"":t.toString()},e.first=function(t){return t[0]},e.last=function(t){return t[t.length-1]},e.unique=function(t){return Array.from(new Set(t))},e.split=function(t){return function(e){return e.split(t)}},e.trim=function(t){return t.trim()},e.filter=function(t){return function(e){return e.filter(t)}},e.toArray=function(t){return t instanceof Array?t:[t]},e.getUniqueStyleValues=function(t,o){if(t.hasNodesWithoutMarks)return"";var n=t.marks.filter((function(t){return"style"===t.type.name})).map((function(t){return t.attrs.style})).map(e.safeString).map(e.split(";")).map(e.filter((function(t){return t.includes(o)}))).map((function(t){return 0!==t.length?t:[o+": INVALID"]})).map(e.first).map(e.split(":")).map(e.last).map(e.trim).reduce((function(t,e){return t.indexOf(e)>-1?t:t.concat([e])}),[]);return n.indexOf("INVALID")>-1||1!==n.length?"":n[0]},e.conditionallyExecute=function(t){return function(e){return function(o){return e?t(o):o}}},e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}},function(t,e){t.exports=i},function(t,e){t.exports=r},function(t,e){t.exports=a},function(t,e){t.exports=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(8),r=o(7),a=i.marks,d=Object.assign(i.nodes,{table:{attrs:n.__assign({},{class:{default:null},id:{default:null},style:{default:null}},{class:{default:"k-table"},cellspacing:{default:null},cellpadding:{default:null}}),content:"table_row+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{getAttrs:r.serializeDOMAttrs,tag:"table"}],toDOM:function(t){return["table",r.removeEmptyEntries(t.attrs),["tbody",0]]}},htmlBlock:{group:"block",attrs:{html:{}},parseDOM:[{tag:"*:not(p):not(blockquote):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(pre):not(img):not(ol):not(ul):not(li):not(table):not(tbody):not(td):not(th):not(tr):not(thead):not(tfoot):not(colgroup):not(col)",getAttrs:function(t){return{html:t.outerHTML}}}],toDOM:function(t){var e=document.createElement("div");return e.innerHTML=t.attrs.html,e.firstChild}}});e.schema=new i.Schema({marks:a,nodes:d})},function(t,e){t.exports=l},function(t,e){t.exports=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=function(t){function e(e,o,n,i){var r=t.call(this,e,o,n,i)||this;return r.dialog=e,r.button=o,r.editor=n,r.localization=i,r}return n.__extends(e,t),e.prototype.clickHandler=function(){this.editor.openDialog(this.dialog)},e.prototype.onStateChange=function(t){this.button.selected=t[this.command].selected,this.button.disabled=t[this.command].disabled},e}(o(31).EditorCommandBase);e.EditorCommandDialog=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(13),a=function(){function t(){this.valueChange=new i.EventEmitter}return t.prototype.onValueChange=function(t){this.valueChange.emit(t)},t.prototype.focus=function(){this.dropDownList.focus()},n.__decorate([i.Input(),n.__metadata("design:type",Array)],t.prototype,"data",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],t.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],t.prototype,"defaultItem",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Function)],t.prototype,"itemDisabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],t.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],t.prototype,"tabindex",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],t.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:r.DropDownListComponent}),n.__metadata("design:type",r.DropDownListComponent)],t.prototype,"dropDownList",void 0),t=n.__decorate([i.Component({selector:"kendo-editor-format-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'tag\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <ng-container [ngSwitch]="dataItem.tag">\n                    <span *ngSwitchCase="\'h1\'" style="display: block; font-size: 2em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h2\'" style="display: block; font-size: 1.5em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h3\'" style="display: block; font-size: 1.17em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h4\'" style="display: block; font-size: 1em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h5\'" style="display: block; font-size: .83em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h6\'" style="display: block; font-size: .67em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'p\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'blockquote\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchDefault>{{ dataItem.text }}</span>\n                </ng-container>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],t)}();e.FormatDropDownListComponent=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(13),a=function(){function t(){this.valueChange=new i.EventEmitter}return t.prototype.onValueChange=function(t){this.valueChange.emit(t)},t.prototype.focus=function(){this.dropDownList.focus()},n.__decorate([i.Input(),n.__metadata("design:type",Array)],t.prototype,"data",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],t.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],t.prototype,"defaultItem",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Function)],t.prototype,"itemDisabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],t.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],t.prototype,"tabindex",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],t.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:r.DropDownListComponent}),n.__metadata("design:type",r.DropDownListComponent)],t.prototype,"dropDownList",void 0),t=n.__decorate([i.Component({selector:"kendo-editor-fontfamily-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'fontName\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <span [ngStyle]="{ \'font-family\': dataItem.fontName }">\n                    {{ dataItem.text }}\n                </span>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],t)}();e.FontFamilyDropDownListComponent=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(13),a=function(){function t(){this.valueChange=new i.EventEmitter}return t.prototype.onValueChange=function(t){this.valueChange.emit(t)},t.prototype.focus=function(){this.dropDownList.focus()},n.__decorate([i.Input(),n.__metadata("design:type",Array)],t.prototype,"data",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],t.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],t.prototype,"defaultItem",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Function)],t.prototype,"itemDisabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],t.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Number)],t.prototype,"tabindex",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],t.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:r.DropDownListComponent}),n.__metadata("design:type",r.DropDownListComponent)],t.prototype,"dropDownList",void 0),t=n.__decorate([i.Component({selector:"kendo-editor-fontsize-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'size\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n        </kendo-dropdownlist>\n    '})],t)}();e.FontSizeDropDownListComponent=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(14),d=o(2),l=o(7),s=o(3),u=o(6),c=o(27),p=function(t){function e(e,o,n){var i=t.call(this)||this;return i.editor=e,i.localization=o,i.dialogService=n,i.tabindex=-1,i.disabled=!1,i}var o;return n.__extends(e,t),o=e,Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get(this.editorCommand)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.subs=this.editor.stateChange.subscribe((function(e){var o=e.style;t.disabled=o.disabled}))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},e.prototype.handleValueChange=function(t){this.editor.exec(this.editorCommand,t),this.editor.focus()},e.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.handleValueChange(t.color)},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return l.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:c.ColorPickerDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,value:this.value,title:this.title,editorCommand:this.editorCommand,paletteSettings:this.paletteSettings,icon:this.icon})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.colorPickerButton.nativeElement.focus():this.colorPicker.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"value",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"icon",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"paletteSettings",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"editorCommand",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([i.ViewChild("toolbarTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"toolbarTemplate",void 0),n.__decorate([i.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([i.ViewChild("colorpicker",{read:i.ElementRef}),n.__metadata("design:type",i.ElementRef)],e.prototype,"element",void 0),n.__decorate([i.ViewChild("colorpicker",{read:a.ColorPickerComponent}),n.__metadata("design:type",a.ColorPickerComponent)],e.prototype,"colorPicker",void 0),n.__decorate([i.ViewChild("colorPickerButton",{read:i.ElementRef}),n.__metadata("design:type",i.ElementRef)],e.prototype,"colorPickerButton",void 0),e=o=n.__decorate([i.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:i.forwardRef((function(){return o}))}],selector:"kendo-toolbar-colorpicker",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-colorpicker\n                #colorpicker\n                [view]="\'palette\'"\n                [format]="\'hex\'"\n                [attr.title]="title"\n                [icon]="icon"\n                [value]="value"\n                [paletteSettings]="paletteSettings"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="handleValueChange($event)"\n                (activeColorClick)="handleActiveColorClick($event)"\n            >\n            </kendo-colorpicker>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #colorPickerButton\n                class="k-overflow-button"\n                [icon]="icon"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),n.__param(0,i.Host()),n.__metadata("design:paramtypes",[s.EditorComponent,d.EditorLocalizationService,u.DialogService])],e)}(r.ToolBarToolComponent);e.EditorColorPickerComponent=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commandIcons={alignCenter:"align-center",alignJustify:"align-justify",alignLeft:"align-left",alignRight:"align-right",bold:"bold",cleanFormatting:"clear-css",createLink:"link-horizontal",indent:"indent-increase",insertFile:"file-add",insertImage:"image",insertOrderedList:"list-ordered",insertUnorderedList:"list-unordered",italic:"italic",outdent:"indent-decrease",redo:"redo",strikethrough:"strikethrough",subscript:"sub-script",superscript:"sup-script",underline:"underline",undo:"undo",unlink:"unlink-horizontal",viewSource:"html",foreColor:"foreground-color",backColor:"background",insertTable:"table-insert",addColumnBefore:"table-column-insert-left",addColumnAfter:"table-column-insert-right",addRowBefore:"table-row-insert-above",addRowAfter:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCells:"cells-merge",splitCell:"cell-split-horizontally",deleteTable:"table-delete"}},function(t,e){t.exports=u},function(t,e){t.exports=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(6),a=o(2),d=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n.data="",n}return n.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.textarea.nativeElement.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.editor.exec("setHTML",this.getData()),this.dialog.close(),this.editor.focus()},e.prototype.getData=function(){return this.textarea.nativeElement.value},e.prototype.setData=function(){this.data=this.indent(this.editor.getSource())},e.prototype.textFor=function(t){return this.localization.get(t)},e.prototype.indent=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"editor",void 0),n.__decorate([i.ViewChild("textarea"),n.__metadata("design:type",i.ElementRef)],e.prototype,"textarea",void 0),e=n.__decorate([i.Component({styles:["\n            >>> .k-editor-textarea {\n                height: 100%;\n            }\n        "],template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'viewSource\') }}\n        </kendo-dialog-titlebar>\n        <textarea [value]="data" #textarea class="k-textarea k-editor-textarea"></textarea>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogUpdate\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[r.DialogRef,a.EditorLocalizationService])],e)}(r.DialogContentBase);e.SourceDialogComponent=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(10),a=o(6),d=o(8),l=o(7),s=o(2),u=o(11),c=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n.src=new r.FormControl("",r.Validators.required),n.alt=new r.FormControl(""),n.width=new r.FormControl("",r.Validators.min(1)),n.height=new r.FormControl("",r.Validators.min(1)),n.data={alt:"",height:"",src:"",width:""},n.imageData=new r.FormGroup({alt:n.alt,height:n.height,src:n.src,width:n.width}),n}return n.__extends(e,t),e.prototype.ngOnInit=function(){this.srcInputId="k-"+u.guid(),this.altTextInputId="k-"+u.guid(),this.widthInputId="k-"+u.guid(),this.heightInputId="k-"+u.guid()},e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.srcInput.nativeElement.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.src.value&&(this.editor.exec("insertImage",this.getData()),this.dialog.close(),this.editor.focus())},e.prototype.setData=function(t){var e=d.getNodeFromSelection(t);e&&(this.src.patchValue(e.attrs.src),this.alt.patchValue(e.attrs.alt),this.width.patchValue(e.attrs.width),this.height.patchValue(e.attrs.height))},e.prototype.textFor=function(t){return this.localization.get(t)},e.prototype.getData=function(){return{alt:this.alt.value,height:this.normalizeDimension(this.height.value),src:this.src.value,width:this.normalizeDimension(this.width.value)}},e.prototype.normalizeDimension=function(t){return Number.isNaN(parseInt(t,10))||parseInt(t,10)<=0?"":l.safeString(parseInt(t,10))},n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"editor",void 0),n.__decorate([i.ViewChild("srcInput",{read:i.ElementRef}),n.__metadata("design:type",i.ElementRef)],e.prototype,"srcInput",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'insertImage\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <div class="k-edit-label">\n                        <label [for]="srcInputId">{{ textFor(\'imageWebAddress\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="srcInputId" #srcInput [formControl]="src" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="altTextInputId">{{ textFor(\'imageAltText\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="altTextInputId" [formControl]="alt" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="widthInputId">{{ textFor(\'imageWidth\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="widthInputId" [formControl]="width" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="heightInputId">{{ textFor(\'imageHeight\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="heightInputId" [formControl]="height" type="text" class="k-textbox" />\n                    </div>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="imageData.invalid"\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogInsert\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[a.DialogRef,s.EditorLocalizationService])],e)}(a.DialogContentBase);e.ImageDialogComponent=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(10),a=o(6),d=o(8),l=o(12),s=o(7),u=o(2),c=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n.linkForm=new r.FormGroup({href:new r.FormControl("",r.Validators.required),text:new r.FormControl({value:"",disabled:!0},r.Validators.required),title:new r.FormControl("")}),n}return n.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.hrefInput.nativeElement.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){var t=this.getData();this.editor.exec(this.command,t),this.dialog.close(),this.editor.focus()},Object.defineProperty(e.prototype,"titleText",{get:function(){return this.localization.get(this.command)},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){"createLink"===this.command&&this.linkForm.addControl("target",new r.FormControl);var e=d.getMark(t,l.schema.marks.link);e?this.linkForm.reset({href:e.attrs.href,title:e.attrs.title,target:s.isPresent(e.attrs.target),text:this.setLinkText(t)}):t.selection.empty||this.linkForm.patchValue({text:d.getSelectionText(t)})},e.prototype.textForWithPrefix=function(t){var e="createLink"===this.command?"link":"file";return this.textFor(e+t)},e.prototype.textFor=function(t){return this.localization.get(t)},e.prototype.setLinkText=function(t){var e=t.selection;if(e.empty&&e.$cursor){var o=e.$cursor,n=o.index();return o.parent.child(n).text}return d.getSelectionText(t)},e.prototype.getData=function(){var t=this.linkForm.value;return s.isPresent(this.linkForm.controls.target)&&(t.target=t.target?"_blank":null),t},n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"editor",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"command",void 0),n.__decorate([i.ViewChild("hrefInput",{read:i.ElementRef}),n.__metadata("design:type",i.ElementRef)],e.prototype,"hrefInput",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ titleText }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <form novalidate [formGroup]="linkForm">\n                        <div class="k-edit-label">\n                            <label (click)="hrefInput.focus()">{{ textForWithPrefix(\'WebAddress\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #hrefInput formControlName="href" type="text" class="k-textbox" />\n                        </div>\n\n                        <div class="k-edit-label">\n                            <label (click)="textInput.focus()">{{ textForWithPrefix(\'Text\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #textInput formControlName="text" type="text" class="k-textbox" />\n                        </div>\n\n                        <div class="k-edit-label">\n                            <label (click)="titleInput.focus()">{{ textForWithPrefix(\'Title\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #titleInput formControlName="title" type="text" class="k-textbox" />\n                        </div>\n                        <ng-container *ngIf="command === \'createLink\'">\n                            <div class="k-edit-label"></div>\n                            <div class="k-edit-field">\n                                <input type="checkbox" id="k-target-blank" class="k-checkbox" formControlName="target" />\n                                <label class="k-checkbox-label" for="k-target-blank">{{ textForWithPrefix(\'OpenInNewWindow\') }}</label>\n                            </div>\n                        </ng-container>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="linkForm.invalid" (click)="onConfirmAction()" [primary]="true">\n                {{ textFor(\'dialogInsert\') }}\n            </button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[a.DialogRef,u.EditorLocalizationService])],e)}(a.DialogContentBase);e.FileLinkDialogComponent=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(6),a=o(2),d=o(3),l=o(16),s=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n.data=[],n}return n.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.formatDropDownList.dropDownList.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec("format",{tag:this.value}),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},e.prototype.textFor=function(t){return this.localization.get(t)},n.__decorate([i.Input(),n.__metadata("design:type",d.EditorComponent)],e.prototype,"editor",void 0),n.__decorate([i.ViewChild("formatDropDownList",{read:l.FormatDropDownListComponent}),n.__metadata("design:type",l.FormatDropDownListComponent)],e.prototype,"formatDropDownList",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'format\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-format-dropdownlist\n                        #formatDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-format-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[r.DialogRef,a.EditorLocalizationService])],e)}(r.DialogContentBase);e.FormatDialogComponent=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(6),a=o(2),d=o(3),l=o(14),s=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n}return n.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.colorPicker.focus()}))},e.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.value=t.color},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec(this.editorCommand,this.value),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.value=t.value,this.editorCommand=t.editorCommand,this.paletteSettings=t.paletteSettings,this.icon=t.icon},e.prototype.textFor=function(t){return this.localization.get(t)},n.__decorate([i.Input(),n.__metadata("design:type",d.EditorComponent)],e.prototype,"editor",void 0),n.__decorate([i.ViewChild("colorpicker",{read:l.ColorPickerComponent}),n.__metadata("design:type",l.ColorPickerComponent)],e.prototype,"colorPicker",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(editorCommand) }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-colorpicker\n                        #colorpicker\n                        [view]="\'palette\'"\n                        [format]="\'hex\'"\n                        [attr.title]="title"\n                        [icon]="icon"\n                        [(value)]="value"\n                        [paletteSettings]="paletteSettings"\n                        (activeColorClick)="handleActiveColorClick($event)"\n                    >\n                    </kendo-colorpicker>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[r.DialogRef,a.EditorLocalizationService])],e)}(r.DialogContentBase);e.ColorPickerDialogComponent=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(6),a=o(2),d=o(3),l=o(17),s=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n.data=[],n}return n.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.fontFamilyDropDownList.dropDownList.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontFamily",this.value),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},e.prototype.textFor=function(t){return this.localization.get(t)},n.__decorate([i.Input(),n.__metadata("design:type",d.EditorComponent)],e.prototype,"editor",void 0),n.__decorate([i.ViewChild("fontFamilyDropDownList",{read:l.FontFamilyDropDownListComponent}),n.__metadata("design:type",l.FontFamilyDropDownListComponent)],e.prototype,"fontFamilyDropDownList",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'fontFamily\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontfamily-dropdownlist\n                        #fontFamilyDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontfamily-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[r.DialogRef,a.EditorLocalizationService])],e)}(r.DialogContentBase);e.FontFamilyDialogComponent=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(6),a=o(2),d=o(3),l=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n}return n.__extends(e,t),e.prototype.onCancelAction=function(){this.dialog.close(),this.editor.focus()},e.prototype.onCellClick=function(t){this.dialog.close(),this.editor.exec("insertTable",t),this.editor.focus()},e.prototype.setData=function(t){this.editor=t.editor},e.prototype.textFor=function(t){return this.localization.get(t)},n.__decorate([i.Input(),n.__metadata("design:type",d.EditorComponent)],e.prototype,"editor",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'insertTable\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-ct-popup k-window-content" style="text-align: center;">\n                    <kendo-popup-table-grid (cellClick)="onCellClick($event)"></kendo-popup-table-grid>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[r.DialogRef,a.EditorLocalizationService])],e)}(r.DialogContentBase);e.InsertTableDialogComponent=l},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(6),a=o(2),d=o(3),l=o(18),s=function(t){function e(e,o){var n=t.call(this,e)||this;return n.dialog=e,n.localization=o,n.data=[],n}return n.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.fontSizeDropDownList.dropDownList.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontSize",this.value),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},e.prototype.textFor=function(t){return this.localization.get(t)},n.__decorate([i.Input(),n.__metadata("design:type",d.EditorComponent)],e.prototype,"editor",void 0),n.__decorate([i.ViewChild("fontSizeDropDownList",{read:l.FontSizeDropDownListComponent}),n.__metadata("design:type",l.FontSizeDropDownListComponent)],e.prototype,"fontSizeDropDownList",void 0),e=n.__decorate([i.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'fontSize\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontsize-dropdownlist\n                        #fontSizeDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontsize-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),n.__metadata("design:paramtypes",[r.DialogRef,a.EditorLocalizationService])],e)}(r.DialogContentBase);e.FontSizeDialogComponent=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(20),i=function(){function t(t,e,o,n){this.command=t,this.button=e,this.editor=o,this.localization=n}return t.prototype.ngOnInit=function(){var t=this;this.subs=this.editor.stateChange.subscribe(this.onStateChange.bind(this)),this.subs.add(this.button.click.subscribe(this.clickHandler.bind(this))),Promise.resolve(null).then((function(){var e=t.localization.get(t.command);e&&(t.button.showText="overflow",t.button.showIcon="both",t.button.text=e),t.button.icon||(t.button.icon=n.commandIcons[t.command]),t.button.title=e}))},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t.prototype.clickHandler=function(){},t.prototype.onStateChange=function(t){},t}();e.EditorCommandBase=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"alignCenter",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"alignJustify",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"alignLeft",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"alignRight",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"backColor",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"bold",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"cleanFormatting",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"createLink",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"fontFamily",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"fontSize",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"foreColor",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"format",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"indent",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"insertFile",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"insertImage",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"insertOrderedList",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"insertUnorderedList",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"italic",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"outdent",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"redo",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"strikethrough",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"subscript",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"superscript",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"underline",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"undo",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"unlink",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"viewSource",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"insertTable",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"addColumnBefore",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"addColumnAfter",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"addRowBefore",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"addRowAfter",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"deleteColumn",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"deleteRow",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"deleteTable",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"dialogApply",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"dialogCancel",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"dialogInsert",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"dialogUpdate",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"fileText",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"fileTitle",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"fileWebAddress",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"imageAltText",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"imageHeight",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"imageWebAddress",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"imageWidth",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"linkOpenInNewWindow",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"linkText",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"linkTitle",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"linkWebAddress",void 0),e}(o(9).ComponentMessages);e.Messages=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(3);e.EditorComponent=n.EditorComponent;var i=o(37);e.EditorModule=i.EditorModule},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(12),i=o(8),r=function(t,e){return i.alignBlocks(i.alignRemoveRules)(t,e)},a={bold:function(){return i.toggleInlineFormat(i.bold)},cleanFormatting:function(){return i.removeAllMarks({except:n.schema.marks.link})},createLink:function(t){return i.applyLink({mark:"link",attrs:t})},fontFamily:function(t){return i.applyInlineStyle({style:"font-family",value:t})},fontSize:function(t){return i.applyInlineStyle({style:"font-size",value:t+"px"})},insertFile:function(t){return i.applyLink({mark:"link",attrs:t})},insertText:function(t){return i.insertText(t)},italic:function(){return i.toggleInlineFormat(i.italic)},strikethrough:function(){return i.toggleInlineFormat(i.strikethrough)},subscript:function(){return i.toggleInlineFormat(i.subscript)},superscript:function(){return i.toggleInlineFormat(i.superscript)},underline:function(){return i.toggleInlineFormat(i.underline)},unlink:function(){return i.removeLink(i.link)},foreColor:function(t){return i.applyInlineStyle({style:"color",value:t})},backColor:function(t){return i.applyInlineStyle({style:"background-color",value:t})}},d={alignCenter:function(){return function(t,e){return i.isAligned(t,i.alignCenterRules)?r(t,e):i.alignBlocks(i.alignCenterRules)(t,e)}},alignJustify:function(){return function(t,e){return i.isAligned(t,i.alignJustifyRules)?r(t,e):i.alignBlocks(i.alignJustifyRules)(t,e)}},alignLeft:function(){return function(t,e){return i.isAligned(t,i.alignLeftRules)?r(t,e):i.alignBlocks(i.alignLeftRules)(t,e)}},alignRight:function(){return function(t,e){return i.isAligned(t,i.alignRightRules)?r(t,e):i.alignBlocks(i.alignRightRules)(t,e)}},format:function(t){return i.formatBlockElements(t.tag)},getHTML:function(){return i.getHtml},indent:function(){return i.indent},insertImage:function(t){return i.insertImage(t)},insertOrderedList:function(){return i.toggleOrderedList},insertUnorderedList:function(){return i.toggleUnorderedList},outdent:function(){return i.outdent},redo:function(){return i.redo},setHTML:function(t){return i.setHtml(t)},undo:function(){return i.undo}};e.insertTable=function(t){return function(e,o){var n=i.createTable(e.schema.nodes,t.rows,t.cols);n&&i.insertNode(n,!0)(e,o)}};var l={insertTable:function(t){return e.insertTable(t)},addColumnBefore:function(){return i.addColumnBefore},addColumnAfter:function(){return i.addColumnAfter},addRowBefore:function(){return i.addRowBefore},addRowAfter:function(){return i.addRowAfter},deleteRow:function(){return i.deleteRow},deleteColumn:function(){return i.deleteColumn},mergeCells:function(){return i.mergeCells},splitCell:function(){return i.splitCell},deleteTable:function(){return i.deleteTable}};e.editorCommands=Object.assign({},a,d,l)},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(8),i=o(12);e.getToolbarState=function(t){return{alignCenter:{selected:n.isAligned(t,n.alignCenterRules),disabled:!1},alignJustify:{selected:n.isAligned(t,n.alignJustifyRules),disabled:!1},alignLeft:{selected:n.isAligned(t,n.alignLeftRules),disabled:!1},alignRight:{selected:n.isAligned(t,n.alignRightRules),disabled:!1},bold:{selected:n.hasMark(t,n.bold),disabled:!1},cleanFormatting:{selected:!1,disabled:t.selection.empty},format:{selected:n.activeNode(t),disabled:!1},indent:{selected:!1,disabled:!(n.canIndentAsListItem(t,i.schema.nodes.list_item)||n.canBeIndented(t,n.indentRules))},insertOrderedList:{selected:n.hasNode(t,i.schema.nodes.ordered_list),disabled:!1},insertUnorderedList:{selected:n.hasNode(t,i.schema.nodes.bullet_list),disabled:!1},italic:{selected:n.hasMark(t,n.italic),disabled:!1},unlink:{selected:!1,disabled:!n.hasMark(t,n.link)},outdent:{selected:!1,disabled:!(n.canOutdentAsListItem(t,n.outdentRules)||n.canBeIndented(t,n.outdentRules))},redo:{selected:!1,disabled:!n.redo(t)},strikethrough:{selected:n.hasMark(t,n.strikethrough),disabled:!1},style:{selected:n.getActiveMarks(t,i.schema.marks.style),disabled:!1},subscript:{selected:n.hasMark(t,n.subscript),disabled:!1},superscript:{selected:n.hasMark(t,n.superscript),disabled:!1},underline:{selected:n.hasMark(t,n.underline),disabled:!1},undo:{selected:!1,disabled:!n.undo(t)},createLink:{selected:!1,disabled:t.selection.empty},insertFile:{selected:!1,disabled:t.selection.empty},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!n.addColumnBefore(t)},addColumnAfter:{selected:!1,disabled:!n.addColumnAfter(t)},addRowBefore:{selected:!1,disabled:!n.addRowBefore(t)},addRowAfter:{selected:!1,disabled:!n.addRowAfter(t)},deleteRow:{selected:!1,disabled:!n.deleteRow(t)},deleteColumn:{selected:!1,disabled:!n.deleteColumn(t)},mergeCells:{selected:!1,disabled:!n.mergeCells(t)},splitCell:{selected:!1,disabled:!n.splitCell(t)},deleteTable:{selected:!1,disabled:!n.deleteTable(t)}}},e.initialToolBarState={alignCenter:{selected:!1,disabled:!1},alignJustify:{selected:!1,disabled:!1},alignLeft:{selected:!1,disabled:!1},alignRight:{selected:!1,disabled:!1},bold:{selected:!1,disabled:!1},italic:{selected:!1,disabled:!1},underline:{selected:!1,disabled:!1},strikethrough:{selected:!1,disabled:!1},subscript:{selected:!1,disabled:!1},superscript:{selected:!1,disabled:!1},format:{selected:{text:"Format",tag:null},disabled:!1},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!1},cleanFormatting:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!1},outdent:{selected:!1,disabled:!1},insertOrderedList:{selected:!1,disabled:!1},insertUnorderedList:{selected:!1,disabled:!1},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0}},e.disabledToolBarState={alignCenter:{selected:!1,disabled:!0},alignJustify:{selected:!1,disabled:!0},alignLeft:{selected:!1,disabled:!0},alignRight:{selected:!1,disabled:!0},bold:{selected:!1,disabled:!0},italic:{selected:!1,disabled:!0},underline:{selected:!1,disabled:!0},strikethrough:{selected:!1,disabled:!0},subscript:{selected:!1,disabled:!0},superscript:{selected:!1,disabled:!0},format:{selected:{text:"Format",tag:null},disabled:!0},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!0},cleanFormatting:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!0},outdent:{selected:!1,disabled:!0},insertOrderedList:{selected:!1,disabled:!0},insertUnorderedList:{selected:!1,disabled:!0},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!0},viewSource:{selected:!1,disabled:!0},insertTable:{selected:!1,disabled:!0},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  position: relative;\n  min-height: 100%;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror li {\n  position: relative;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',e.tablesStyles='\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n',e.rtlStyles="body { direction: rtl }"},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(38),a=o(10),d=o(4),l=o(13),s=o(6),u=o(39),c=o(14),p=o(14),m=o(3),f=o(24),g=o(23),_=o(25),h=o(26),b=o(27),v=o(28),y=o(29),k=o(40),C=o(41),w=o(42),x=o(19),E=o(43),D=o(45),B=o(46),I=o(47),T=o(48),S=o(49),L=o(50),A=o(51),F=o(52),O=o(53),z=o(54),M=o(55),P=o(56),R=o(57),j=o(58),V=o(59),H=o(60),W=o(61),N=o(62),U=o(63),q=o(64),J=o(65),G=o(66),$=o(67),K=o(68),Z=o(69),X=o(70),Q=o(71),Y=o(72),tt=o(73),et=o(74),ot=o(75),nt=o(76),it=o(77),rt=o(78),at=o(79),dt=o(80),lt=o(16),st=o(17),ut=o(18),ct=o(30),pt=[B.EditorAlignLeftButtonDirective,I.EditorAlignCenterButtonDirective,T.EditorAlignRightButtonDirective,S.EditorAlignJustifyButtonDirective,G.EditorInsertFileButtonDirective,L.EditorRedoButtonDirective,A.EditorUndoButtonDirective,F.EditorInsertImageButtonDirective,O.EditorIndentButtonDirective,z.EditorOutdentButtonDirective,M.EditorCreateLinkButtonDirective,P.EditorUnlinkButtonDirective,R.EditorInsertOrderedListButtonDirective,j.EditorInsertUnorderedListButtonDirective,V.EditorViewSourceButtonDirective,H.EditorBoldButtonDirective,W.EditorItalicButtonDirective,N.EditorUnderlineButtonDirective,U.EditorStrikethroughButtonDirective,q.EditorSubscriptButtonDirective,J.EditorSuperscriptButtonDirective,$.EditorForeColorDirective,K.EditorBackColorDirective,Z.EditorCleanFormattingButtonDirective,X.EditorAddColumnBeforeButtonDirective,Q.EditorAddColumnAfterButtonDirective,Y.EditorAddRowBeforeButtonDirective,tt.EditorAddRowAfterButtonDirective,et.EditorDeleteColumnButtonDirective,ot.EditorDeleteRowButtonDirective,nt.EditorDeleteTableButtonDirective,it.EditorMergeCellsButtonDirective,rt.EditorSplitCellButtonDirective,dt.CustomMessagesComponent,at.LocalizedMessagesDirective],mt=[C.EditorFontSizeComponent,w.EditorFontFamilyComponent,k.EditorFormatComponent,x.EditorColorPickerComponent,E.EditorInsertTableButtonComponent],ft=[_.FileLinkDialogComponent,f.ImageDialogComponent,g.SourceDialogComponent,h.FormatDialogComponent,b.ColorPickerDialogComponent,v.FontFamilyDialogComponent,ct.FontSizeDialogComponent,y.InsertTableDialogComponent],gt=[D.PopupTableGridComponent,lt.FormatDropDownListComponent,st.FontFamilyDropDownListComponent,ut.FontSizeDropDownListComponent],_t=function(){function t(){}return t=n.__decorate([i.NgModule({declarations:[m.EditorComponent,pt,mt,ft,gt],entryComponents:[ft],exports:[m.EditorComponent,pt,mt,d.ToolBarModule,u.ButtonModule,a.FormsModule,a.ReactiveFormsModule,gt],imports:[r.CommonModule,a.FormsModule,a.ReactiveFormsModule,u.ButtonModule,c.ColorPickerModule,s.DialogModule,l.DropDownsModule,p.NumericTextBoxModule,d.ToolBarModule,p.TextBoxModule]})],t)}();e.EditorModule=_t},function(t,e){t.exports=p},function(t,e){t.exports=m},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(6),d=o(7),l=o(3),s=o(2),u=o(26),c=o(16),p=function(t){function e(e,o,n){var r=t.call(this)||this;return r.editor=e,r.dialogService=o,r.localization=n,r.disabled=!1,r.tabindex=-1,r.valueChange=new i.EventEmitter,r._data=[{text:"Paragraph",tag:"p"},{text:"Quotation",tag:"blockquote"},{text:"Heading 1",tag:"h1"},{text:"Heading 2",tag:"h2"},{text:"Heading 3",tag:"h3"},{text:"Heading 4",tag:"h4"},{text:"Heading 5",tag:"h5"},{text:"Heading 6",tag:"h6"}],r}var o;return n.__extends(e,t),o=e,Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.itemDisabled=function(e){return!(t.overflows||!t.formatDropDownList||t.formatDropDownList.dropDownList.isOpen)||null===e.dataItem.tag},setTimeout((function(){return t.defaultItem={text:t.title,tag:null}})),this.subs=this.editor.stateChange.subscribe((function(e){var o=e.format,n=t.data.findIndex((function(t){return t.tag===o.selected.tag}));t.value=-1!==n?o.selected.tag:null,t.disabled=o.disabled}))},e.prototype.onValueChange=function(t){d.isPresent(t)&&(this.editor.exec("format",{tag:t}),this.editor.focus(),this.valueChange.emit(this.data.find((function(e){return e.tag===t}))))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){var t=this.formatDropDownList.element;if(t)return d.outerWidth(t.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("format")},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:u.FormatDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.formatButton.nativeElement.focus():this.formatDropDownList.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},n.__decorate([i.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("toolbarTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"toolbarTemplate",void 0),n.__decorate([i.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([i.ViewChild("formatDropDownList"),n.__metadata("design:type",c.FormatDropDownListComponent)],e.prototype,"formatDropDownList",void 0),n.__decorate([i.ViewChild("formatButton"),n.__metadata("design:type",i.ElementRef)],e.prototype,"formatButton",void 0),e=o=n.__decorate([i.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:i.forwardRef((function(){return o}))}],selector:"kendo-toolbar-dropdownlist[kendoEditorFormat]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-format-dropdownlist\n                #formatDropDownList\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-format-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                #formatButton\n                [tabindex]="tabindex"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="\'apply-format\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),n.__param(0,i.Host()),n.__metadata("design:paramtypes",[l.EditorComponent,a.DialogService,s.EditorLocalizationService])],e)}(r.ToolBarToolComponent);e.EditorFormatComponent=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(7),d=o(3),l=o(2),s=o(6),u=o(30),c=o(18),p=function(t){function e(e,o,n){var r=t.call(this)||this;return r.editor=e,r.dialogService=o,r.localization=n,r.disabled=!1,r.tabindex=-1,r.valueChange=new i.EventEmitter,r._data=[{text:"8px",size:8},{text:"10px",size:10},{text:"12px",size:12},{text:"14px",size:14},{text:"18px",size:18},{text:"24px",size:24},{text:"36px",size:36}],r}var o;return n.__extends(e,t),o=e,Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.itemDisabled=function(e){return!(t.overflows||!t.fontSizeDropDownList||t.fontSizeDropDownList.dropDownList.isOpen)||null===e.dataItem.size},setTimeout((function(){return t.defaultItem={text:t.title,size:null}})),this.subs=this.editor.stateChange.subscribe((function(e){var o=e.style;t.value=(a.getUniqueStyleValues(o.selected,"font-size").match(/\d+/g)||[null])[0],t.disabled=o.disabled}))},e.prototype.onValueChange=function(t){a.isPresent(t)&&(this.editor.exec("fontSize",t),this.editor.focus(),this.valueChange.emit(this.data.find((function(e){return e.size===parseInt(t,10)}))))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return a.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("fontSize")},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:u.FontSizeDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.fontSizeButton.nativeElement.focus():this.fontSizeDropDownList.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},n.__decorate([i.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("toolbarTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"toolbarTemplate",void 0),n.__decorate([i.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],e.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:c.FontSizeDropDownListComponent}),n.__metadata("design:type",c.FontSizeDropDownListComponent)],e.prototype,"fontSizeDropDownList",void 0),n.__decorate([i.ViewChild("fontSizeButton"),n.__metadata("design:type",i.ElementRef)],e.prototype,"fontSizeButton",void 0),e=o=n.__decorate([i.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:i.forwardRef((function(){return o}))}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontSize]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontsize-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontsize-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #fontSizeButton\n                class="k-overflow-button"\n                [icon]="\'font-size\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),n.__param(0,i.Host()),n.__metadata("design:paramtypes",[d.EditorComponent,s.DialogService,l.EditorLocalizationService])],e)}(r.ToolBarToolComponent);e.EditorFontSizeComponent=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(7),d=o(3),l=o(2),s=o(6),u=o(28),c=o(17),p=function(t){function e(e,o,n){var r=t.call(this)||this;return r.editor=e,r.dialogService=o,r.localization=n,r.disabled=!1,r.tabindex=-1,r.valueChange=new i.EventEmitter,r._data=[{text:"Arial",fontName:'Arial,"Helvetica Neue",Helvetica,sans-serif'},{text:"Courier New",fontName:'"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace'},{text:"Georgia",fontName:'Georgia,Times,"Times New Roman",serif'},{fontName:'Impact,Haettenschweiler,"Franklin Gothic Bold",Charcoal,"Helvetica Inserat","Bitstream Vera Sans Bold","Arial Black","sans serif"',text:"Impact"},{text:"Lucida Console",fontName:'"Lucida Console","Lucida Sans Typewriter",monaco,"Bitstream Vera Sans Mono",monospace'},{text:"Tahoma",fontName:"Tahoma,Verdana,Segoe,sans-serif"},{text:"Times New Roman",fontName:'TimesNewRoman,"Times New Roman",Times,Baskerville,Georgia,serif'},{text:"Trebuchet MS",fontName:'"Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif'},{text:"Verdana",fontName:"Verdana,Geneva,sans-serif"}],r}var o;return n.__extends(e,t),o=e,Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.itemDisabled=function(e){return!(t.overflows||!t.fontFamilyDropDownList||t.fontFamilyDropDownList.dropDownList.isOpen)||null===e.dataItem.fontName},setTimeout((function(){return t.defaultItem={text:t.title,fontName:null}})),this.subs=this.editor.stateChange.subscribe((function(e){var o=e.style;t.value=a.getUniqueStyleValues(o.selected,"font-family")||null,t.disabled=o.disabled}))},e.prototype.onValueChange=function(t){a.isPresent(t)&&(this.editor.exec("fontFamily",t),this.editor.focus(),this.valueChange.emit(this.data.find((function(e){return e.fontName===t}))))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return a.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("fontFamily")},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:u.FontFamilyDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.fontFamilyButton.nativeElement.focus():this.fontFamilyDropDownList.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},n.__decorate([i.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([i.ViewChild("toolbarTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"toolbarTemplate",void 0),n.__decorate([i.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],e.prototype,"element",void 0),n.__decorate([i.ViewChild("element",{read:c.FontFamilyDropDownListComponent}),n.__metadata("design:type",c.FontFamilyDropDownListComponent)],e.prototype,"fontFamilyDropDownList",void 0),n.__decorate([i.ViewChild("fontFamilyButton"),n.__metadata("design:type",i.ElementRef)],e.prototype,"fontFamilyButton",void 0),e=o=n.__decorate([i.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:i.forwardRef((function(){return o}))}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontFamily]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontfamily-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontfamily-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #fontFamilyButton\n                class="k-overflow-button"\n                [icon]="\'font-family\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),n.__param(0,i.Host()),n.__metadata("design:paramtypes",[d.EditorComponent,s.DialogService,l.EditorLocalizationService])],e)}(r.ToolBarToolComponent);e.EditorFontFamilyComponent=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(21),a=o(22),d=o(4),l=o(44),s=o(7),u=o(3),c=o(2),p=o(6),m=o(29),f=o(11),g=function(t){function e(e,o,n,d){var l=t.call(this)||this;return l.editor=e,l.localization=o,l.popupService=n,l.dialogService=d,l.open=!1,l.buttonBlurred=new i.EventEmitter,l.cellClicked=new i.EventEmitter,l.subs=l.editor.stateChange.subscribe((function(t){var e=t.insertTable;l.disabled=e.disabled})),l.subs=l.buttonBlurred.pipe(a.concatMap((function(){return r.interval(200).pipe(a.take(1),a.takeUntil(l.cellClicked))}))).subscribe((function(){l.toggle(!1)})),l}var o;return n.__extends(e,t),o=e,e.prototype.ngOnDestroy=function(){this.destroyPopup(),this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return s.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("insertTable")},enumerable:!0,configurable:!0}),e.prototype.toggle=function(t){this.open=void 0===t?!this.open:t,this.destroyPopup(),this.open&&this.createPopup()},e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:m.InsertTableDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor})},e.prototype.onBlur=function(){this.buttonBlurred.emit()},e.prototype.onCellClick=function(t){this.cellClicked.emit(),this.toggle(!1),this.editor.exec("insertTable",t)},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.getButton().focus(),this.getButton().tabIndex=0},e.prototype.handleKey=function(t){return t.keyCode===f.Keys.Space||t.keyCode===f.Keys.Enter||(this.getButton().tabIndex=-1,!1)},e.prototype.onTableWizardClick=function(){},e.prototype.createPopup=function(){var t="rtl"===this.editor.direction?"right":"left",e={horizontal:t,vertical:"bottom"},o={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.element,anchorAlign:e,animate:!0,content:this.popupGridTemplate,popupAlign:o,popupClass:"k-ct-popup k-group k-reset k-state-border-up",positionMode:"absolute"});var n=this.popupRef.popupElement;n.style.width="190px",n.style.height="164px",n.setAttribute("dir",this.editor.direction)},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)},e.prototype.getButton=function(){return(this.overflows?this.overflowElement:this.element).nativeElement},n.__decorate([i.ViewChild("toolbarTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"toolbarTemplate",void 0),n.__decorate([i.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([i.ViewChild("element"),n.__metadata("design:type",i.ElementRef)],e.prototype,"element",void 0),n.__decorate([i.ViewChild("overflowElement"),n.__metadata("design:type",i.ElementRef)],e.prototype,"overflowElement",void 0),n.__decorate([i.ViewChild("popupGridTemplate",{static:!0}),n.__metadata("design:type",i.TemplateRef)],e.prototype,"popupGridTemplate",void 0),e=o=n.__decorate([i.Component({providers:[{provide:d.ToolBarToolComponent,useExisting:i.forwardRef((function(){return o}))}],selector:"kendo-editor-insert-table-button",template:'\n        <ng-template #toolbarTemplate>\n            <button type="button" kendoButton #element [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="toggle()" (blur)="onBlur()"></button>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button kendoButton #overflowElement [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="openDialog()">{{ title }}</button>\n        </ng-template>\n        <ng-template #popupGridTemplate>\n            <kendo-popup-table-grid (cellClick)="onCellClick($event)" (tableWizardClick)="onTableWizardClick()"></kendo-popup-table-grid>\n        </ng-template>\n    '}),n.__param(0,i.Host()),n.__metadata("design:paramtypes",[u.EditorComponent,c.EditorLocalizationService,l.PopupService,p.DialogService])],e)}(d.ToolBarToolComponent);e.EditorInsertTableButtonComponent=g},function(t,e){t.exports=f},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=function(){function t(){this.cellClick=new i.EventEmitter,this.tableWizardClick=new i.EventEmitter,this.state={rows:-1,cols:-1},this.rows=6,this.cols=8}return Object.defineProperty(t.prototype,"message",{get:function(){var t=this.state,e=t.rows,o=t.cols;return"Create a "+(e>-1?e+1:"")+" "+(o>-1?"x":"")+" "+(o>-1?o+1:"")+" table"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return Array.from(Array(this.rows*this.cols).keys())},enumerable:!0,configurable:!0}),t.prototype.selected=function(t){var e=this.state,o=e.rows,n=e.cols,i=Math.floor(t/this.cols),r=t%this.cols;return i<=o&&r<=n},t.prototype.setState=function(t){var e=Math.floor(t/this.cols),o=t%this.cols;this.state={rows:e,cols:o}},t.prototype.resetState=function(){this.state={rows:-1,cols:-1}},t.prototype.insertTable=function(){this.cellClick.emit(this.state)},t.prototype.openTableWizard=function(){this.tableWizardClick.emit()},n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"cellClick",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"tableWizardClick",void 0),t=n.__decorate([i.Component({selector:"kendo-popup-table-grid",template:'\n        <div style="border-color: inherit;" (mouseleave)="resetState()" (click)="insertTable()">\n            <span *ngFor="let i of cells"\n                class="k-ct-cell"\n                [class.k-state-selected]="selected(i)"\n                [class.k-state-disabled]="!selected(i)"\n                (mouseenter)="setState(i)">\n            </span>\n        </div>\n        <div class="k-status" unselectable="on">{{ message }}</div>\n        \x3c!-- uncomment when TableWizard is completed\n        <div class="k-editor-toolbar" unselectable="on">\n            <button type="button" kendoButton class="k-tool" [icon]="\'table-wizard\'" (click)="openTableWizard()" title="Table Wizard">Table Wizard</button>\n        </div>\n        --\x3e\n    '})],t)}();e.PopupTableGridComponent=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"alignLeft",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAlignLeftButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAlignLeftButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"alignCenter",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAlignCenterButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAlignCenterButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"alignRight",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAlignRightButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAlignRightButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"alignJustify",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAlignJustifyButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAlignJustifyButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"redo",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorRedoButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorRedoButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"undo",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorUndoButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorUndoButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(15),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"insertImage",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorInsertImageButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandDialog);e.EditorInsertImageButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"indent",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorIndentButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorIndentButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"outdent",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorOutdentButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorOutdentButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(15),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"createLink",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorCreateLinkButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandDialog);e.EditorCreateLinkButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"unlink",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorUnlinkButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorUnlinkButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"insertOrderedList",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorInsertOrderedListButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorInsertOrderedListButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"insertUnorderedList",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorInsertUnorderedListButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorInsertUnorderedListButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(15),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"viewSource",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorViewSourceButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandDialog);e.EditorViewSourceButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"bold",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorBoldButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorBoldButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"italic",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorItalicButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorItalicButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"underline",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorUnderlineButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorUnderlineButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"strikethrough",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorStrikethroughButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorStrikethroughButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"subscript",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorSubscriptButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorSubscriptButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"superscript",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorSuperscriptButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorSuperscriptButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(3),a=o(15),d=o(4),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"insertFile",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorInsertFileButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[d.ToolBarButtonComponent,r.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandDialog);e.EditorInsertFileButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(19),a=o(20),d=function(){function t(t){this.colorPicker=t,this.colorPicker.icon=a.commandIcons.foreColor,this.colorPicker.editorCommand="foreColor"}return t=n.__decorate([i.Directive({selector:"[kendoEditorForeColor]"}),n.__metadata("design:paramtypes",[r.EditorColorPickerComponent])],t)}();e.EditorForeColorDirective=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(19),a=o(20),d=function(){function t(t){this.colorPicker=t,this.colorPicker.icon=a.commandIcons.backColor,this.colorPicker.editorCommand="backColor"}return t=n.__decorate([i.Directive({selector:"[kendoEditorBackColor]"}),n.__metadata("design:paramtypes",[r.EditorColorPickerComponent])],t)}();e.EditorBackColorDirective=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"cleanFormatting",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorCleanFormattingButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorCleanFormattingButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"addColumnBefore",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnBeforeButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAddColumnBeforeButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"addColumnAfter",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnAfterButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAddColumnAfterButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"addRowBefore",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowBeforeButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAddRowBeforeButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"addRowAfter",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowAfterButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorAddRowAfterButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"deleteColumn",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteColumnButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorDeleteColumnButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"deleteRow",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteRowButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorDeleteRowButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"deleteTable",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteTableButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorDeleteTableButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"mergeCells",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorMergeCellsButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorMergeCellsButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(4),a=o(3),d=o(5),l=o(2),s=function(t){function e(e,o,n){return t.call(this,"splitCell",e,o,n)||this}return n.__extends(e,t),e=n.__decorate([i.Directive({selector:"kendo-toolbar-button[kendoEditorSplitCellButton]"}),n.__param(1,i.Host()),n.__metadata("design:paramtypes",[r.ToolBarButtonComponent,a.EditorComponent,l.EditorLocalizationService])],e)}(d.EditorCommandButton);e.EditorSplitCellButtonDirective=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(9),a=o(32),d=function(t){function e(e){var o=t.call(this)||this;return o.service=e,o}var o;return n.__extends(e,t),o=e,e=o=n.__decorate([i.Directive({providers:[{provide:a.Messages,useExisting:i.forwardRef((function(){return o}))}],selector:"[kendoEditorLocalizedMessages]"}),n.__metadata("design:paramtypes",[r.LocalizationService])],e)}(a.Messages);e.LocalizedMessagesDirective=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),i=o(1),r=o(9),a=o(32),d=function(t){function e(e){var o=t.call(this)||this;return o.service=e,o}var o;return n.__extends(e,t),o=e,Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e=o=n.__decorate([i.Component({providers:[{provide:a.Messages,useExisting:i.forwardRef((function(){return o}))}],selector:"kendo-editor-messages",template:""}),n.__metadata("design:paramtypes",[r.LocalizationService])],e)}(a.Messages);e.CustomMessagesComponent=d}])}));
##############################################
/src/dist/cdn/js/kendo-angular-editor.js-19-***************************************************************************** */
/src/dist/cdn/js/kendo-angular-editor.js:20:var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function a(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function p(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function h(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),r=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){o[t]&&(i[t]=function(e){return new Promise((function(n,i){r.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(r[0][2],n)}catch(t){u(r[0][3],t)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),r.shift(),r.length&&a(r[0][0],r[0][1])}}function w(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,o){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:o?o(e):e}:o}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,o){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,o,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(3),s=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i.__extends(e,t),e=i.__decorate([i.__param(0,o.Inject(r.L10N_PREFIX)),i.__param(1,o.Optional()),i.__param(2,o.Optional()),i.__param(2,o.Inject(r.RTL)),i.__metadata("design:paramtypes",[String,r.MessageService,Boolean])],e)}(r.LocalizationService);e.EditorLocalizationService=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(9),s=n(5),a=n(4),l=n(8),c=n(15),u=n(1),p=n(19),d=n(20),h=n(41),f=n(42),m=n(17),g=n(29),v=n(30),y=n(31),b=n(3),w=n(6),k=n(43),C={convertMsLists:!1,removeAttributes:[],removeHtmlComments:!1,removeInvalidHTML:!1,removeMsClasses:!1,removeMsStyles:!1,stripTags:[""]},S=m.conditionallyExecute(p.removeComments),x=m.conditionallyExecute(p.sanitize),O=function(){function t(t,e,n,i){var r=this;this.dialogService=t,this.localization=e,this.cdr=n,this.ngZone=i,this.iframe=!0,this.updateInterval=100,this.valueChange=new o.EventEmitter,this.hostClasses=!0,this.stateChange=new s.BehaviorSubject(f.initialToolBarState),this.valueModified=new s.Subject,this.afterViewInit=new s.Subject,this.contentAreaLoaded=new s.Subject,this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this.direction=e.rtl?"rtl":"ltr",this.subs=s.zip(this.afterViewInit.asObservable(),this.contentAreaLoaded.asObservable()).subscribe((function(){return r.initialize()}))}var e;return e=t,Object.defineProperty(t.prototype,"value",{get:function(){var t=this.view?this.getSource():this._value;return"<p></p>"===t?this._value?"":this._value:t},set:function(t){this._value=t,this._previousValue=t,this.view&&this.exec("setHTML",this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t||!1,this._disabled||this._readonly?this.stateChange.next(f.disabledToolBarState):this.stateChange.next(this.view?f.getToolbarState(this.view.state):f.initialToolBarState)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=t||!1,this._disabled||this._readonly?this.stateChange.next(f.disabledToolBarState):this.stateChange.next(this.view?f.getToolbarState(this.view.state):f.initialToolBarState)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadonly",{get:function(){return this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isIE",{get:function(){return this.iframe&&m.detectIE()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.defaultToolbarComponent||this.userToolBarComponent},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.subs.add(this.localization.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr"})))},t.prototype.ngAfterViewInit=function(){this.afterViewInit.next(),this.iframe||this.contentAreaLoaded.next()},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.iframeOnLoad=function(){this.contentAreaLoaded.next()},t.prototype.exec=function(t,e){h.editorCommands[t](e)(this.view.state,this.view.dispatch,this.view)},t.prototype.openDialog=function(t){var e={createLink:{content:y.FileLinkDialogComponent},insertFile:{content:y.FileLinkDialogComponent},insertImage:{content:v.ImageDialogComponent},viewSource:{content:g.SourceDialogComponent,height:400,width:500}},n=Object.assign({appendTo:this.dialogContainer},e[t]);this.toolbar.toggle(!1);var i=this.dialogService.open(n).content.instance;"createLink"!==t&&"insertFile"!==t||(i.command=t),i.editor=this,i.setData(this.view.state)},t.prototype.focus=function(){this.view.focus()},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.getSource=function(){return p.getHtml(this.view.state)},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t.prototype.writeValue=function(t){this.value=null===t?void 0:t},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.isEmpty=function(){return!1},t.prototype.initialize=function(){var t=this;if(u.isDocumentAvailable()){var e=this,n=this.container.element.nativeElement,o=p.parseContent((this.value||"").trim(),d.schema);if(this.iframe){var r=n.contentDocument,l=r.createElement("meta");l.setAttribute("charset","utf-8"),r.head.appendChild(l),[k.defaultStyle,k.tablesStyles,"rtl"===this.dir?k.rtlStyles:void 0].forEach((function(t){if(t){var e=r.createElement("style");e.appendChild(r.createTextNode(t)),r.head.appendChild(e)}}));var c=r.createElement("div");r.body.appendChild(c)}else{c=document.createElement("div");n.appendChild(c)}var h=p.EditorState.create({schema:d.schema,doc:o,plugins:[p.history(),p.keymap(p.buildListKeymap(d.schema)),p.keymap(p.buildKeymap(d.schema)),p.keymap(p.baseKeymap)]});this.iframe?this.viewMountElement=n.contentDocument.querySelector("div"):this.viewMountElement=n.querySelector("div"),this.ngZone.runOutsideAngular((function(){t.view=new p.EditorView({mount:t.viewMountElement},{state:h,dispatchTransaction:function(t){if(!e.disabled&&!e.readonly){this.updateState(this.state.apply(t)),e.stateChange.next(f.getToolbarState(this.state));var n=e.value;p.hasSameMarkup(n,e._previousValue,this.state.schema)||(e._previousValue=n,e.ngZone.run((function(){return e.valueModified.next(n)})))}},transformPastedHTML:function(e){var n=i.__assign({},C,t.pasteCleanupSettings),o=m.pipe(S(n.removeHtmlComments),x(n.removeInvalidHTML))(e),r=function(t){if("all"===t.removeAttributes)return{"*":p.removeAttribute};var e=m.removeEmptyEntries({style:t.removeMsStyles?p.sanitizeStyleAttr:void 0,class:t.removeMsClasses?p.sanitizeClassAttr:void 0});return t.removeAttributes.reduce((function(t,e){var n;return i.__assign({},t,((n={})[e]=p.removeAttribute,n))}),e)}(n);return p.pasteCleanup(o,{convertMsLists:n.convertMsLists,stripTags:n.stripTags.join("|"),attributes:r})}})})),this.subs.add(s.merge(this.stateChange.pipe(a.filter((function(){return t.updateInterval>0})),a.auditTime(this.updateInterval)),this.stateChange.pipe(a.filter((function(){return 0===t.updateInterval})))).subscribe((function(){t.userToolBarComponent?t.userToolBarComponent.cdr.detectChanges():t.cdr.detectChanges()}))),this.subs.add(s.merge(this.valueModified.pipe(a.filter((function(){return t.updateInterval>0})),a.auditTime(this.updateInterval)),this.valueModified.pipe(a.filter((function(){return 0===t.updateInterval})))).subscribe((function(n){e.onChangeCallback(n),t.valueChange.emit(n),t.cdr.markForCheck()}))),this.subs.add(s.fromEvent(this.viewMountElement,"keyup").pipe(a.map((function(t){return t.keyCode})),a.filter((function(t){return 121===t})),a.map((function(){return t.userToolBarElement||t.defaultToolbar}))).subscribe((function(t){return t.nativeElement.focus()}))),this.subs.add(s.fromEvent(this.viewMountElement,"blur").pipe(a.filter((function(e){return!t.viewMountElement.contains(e.relatedTarget)}))).subscribe((function(){return t.onTouchedCallback()})))}},i.__decorate([o.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],t.prototype,"value",null),i.__decorate([o.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],t.prototype,"disabled",null),i.__decorate([o.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],t.prototype,"readonly",null),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"iframe",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],t.prototype,"updateInterval",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],t.prototype,"pasteCleanupSettings",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],t.prototype,"valueChange",void 0),i.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-editor"),i.__metadata("design:type",Boolean)],t.prototype,"hostClasses",void 0),i.__decorate([o.HostBinding("class.k-state-disabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],t.prototype,"isDisabled",null),i.__decorate([o.HostBinding("class.k-readonly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],t.prototype,"isReadonly",null),i.__decorate([o.HostBinding("class.k-ie"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],t.prototype,"isIE",null),i.__decorate([o.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],t.prototype,"dir",null),i.__decorate([o.HostBinding("attr.ariaDisabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],t.prototype,"ariaDisabled",null),i.__decorate([o.ContentChild(l.ToolBarComponent),i.__metadata("design:type",l.ToolBarComponent)],t.prototype,"userToolBarComponent",void 0),i.__decorate([o.ContentChild(l.ToolBarComponent,{read:o.ElementRef}),i.__metadata("design:type",o.ElementRef)],t.prototype,"userToolBarElement",void 0),i.__decorate([o.ViewChild("dialogsContainer",{read:o.ViewContainerRef}),i.__metadata("design:type",o.ViewContainerRef)],t.prototype,"dialogContainer",void 0),i.__decorate([o.ViewChild("content",{read:o.ViewContainerRef}),i.__metadata("design:type",o.ViewContainerRef)],t.prototype,"container",void 0),i.__decorate([o.ViewChild("defaultToolbar",{read:o.ElementRef}),i.__metadata("design:type",o.ElementRef)],t.prototype,"defaultToolbar",void 0),i.__decorate([o.ViewChild("defaultToolbar",{read:l.ToolBarComponent}),i.__metadata("design:type",l.ToolBarComponent)],t.prototype,"defaultToolbarComponent",void 0),t=e=i.__decorate([o.Component({selector:"kendo-editor",providers:[w.EditorLocalizationService,{provide:b.LocalizationService,useExisting:w.EditorLocalizationService},{provide:b.L10N_PREFIX,useValue:"kendo.editor"},{provide:r.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return e})),multi:!0},{provide:u.KendoInput,useExisting:o.forwardRef((function(){return e}))}],template:'\n        <ng-container\n            kendoEditorLocalizedMessages\n            i18n-alignCenter="kendo.editor.alignCenter|The title of the tool that aligns text in the center."\n            alignCenter="Center text"\n            i18n-alignJustify="kendo.editor.alignJustify|The title of the tool that justifies text both left and right."\n            alignJustify="Justify"\n            i18n-alignLeft="kendo.editor.alignLeft|The title of the tool that aligns text on the left."\n            alignLeft="Align text left"\n            i18n-alignRight="kendo.editor.alignRight|The title of the tool that aligns text on the right."\n            alignRight="Align text right"\n            i18n-backColor="kendo.editor.backColor|The title of the tool that changes the text background color."\n            backColor="Background color"\n            i18n-bold="kendo.editor.bold|The title of the tool that makes text bold."\n            bold="Bold"\n            i18n-cleanFormatting="kendo.editor.cleanFormatting|The title of the Clean Formatting tool."\n            cleanFormatting="Clean formatting"\n            i18n-createLink="kendo.editor.createLink|The title of the tool that creates hyperlinks."\n            createLink="Insert link"\n            i18n-dialogApply="kendo.editor.dialogApply|The label of the **Apply** button in all editor dialogs."\n            dialogApply="Apply"\n            i18n-dialogCancel="kendo.editor.dialogCancel|The label of the **Cancel** button in all editor dialogs."\n            dialogCancel="Cancel"\n            i18n-dialogInsert="kendo.editor.dialogInsert|The label of the **Insert** button in all editor dialogs."\n            dialogInsert="Insert"\n            i18n-dialogUpdate="kendo.editor.dialogUpdate|The label of the **Update** button in all editor dialogs."\n            dialogUpdate="Update"\n            i18n-fileText="kendo.editor.fileText|The caption for the file text in the insertFile dialog."\n            fileText="Text"\n            i18n-fileTitle="kendo.editor.fileTitle|The caption for the file Title in the insertFile dialog."\n            fileTitle="Title"\n            i18n-fileWebAddress="kendo.editor.fileWebAddress|The caption for the file URL in the insertFile dialog."\n            fileWebAddress="Web address"\n            i18n-fontFamily="kendo.editor.fontFamily|The title of the tool that changes the text font."\n            fontFamily="Select font family"\n            i18n-fontSize="kendo.editor.fontSize|The title of the tool that changes the text size."\n            fontSize="Select font size"\n            i18n-foreColor="kendo.editor.foreColor|The title of the tool that changes the text color."\n            foreColor="Color"\n            i18n-format="kendo.editor.format|The title of the tool that lets users choose block formats."\n            format="Format"\n            i18n-imageAltText="kendo.editor.imageAltText|The caption for the image alternate text in the insertImage dialog."\n            imageAltText="Alternate text"\n            i18n-imageHeight="kendo.editor.imageHeight|The caption for the image height in the insertImage dialog."\n            imageHeight="Height (px)"\n            i18n-imageWebAddress="kendo.editor.imageWebAddress|The caption for the image URL in the insertImage dialog."\n            imageWebAddress="Web address"\n            i18n-imageWidth="kendo.editor.imageWidth|The caption for the image width in the insertImage dialog."\n            imageWidth="Width (px)"\n            i18n-indent="kendo.editor.indent|The title of the tool that indents the content."\n            indent="Indent"\n            i18n-insertFile="kendo.editor.insertFile|The title of the tool that inserts links to files."\n            insertFile="Insert file"\n            i18n-insertImage="kendo.editor.insertImage|The title of the tool that inserts images."\n            insertImage="Insert image"\n            i18n-insertOrderedList="kendo.editor.insertOrderedList|The title of the tool that inserts an ordered list."\n            insertOrderedList="Insert ordered list"\n            i18n-insertUnorderedList="kendo.editor.insertUnorderedList|The title of the tool that inserts an unordered list."\n            insertUnorderedList="Insert unordered list"\n            i18n-italic="kendo.editor.italic|The title of the tool that makes text italicized."\n            italic="Italic"\n            i18n-linkOpenInNewWindow="kendo.editor.linkOpenInNewWindow|The caption for the checkbox for opening the link in a new window in the createLink dialog."\n            linkOpenInNewWindow="Open link in new window"\n            i18n-linkText="kendo.editor.linkText|The caption for the link text in the createLink dialog."\n            linkText="Text"\n            i18n-linkTitle="kendo.editor.linkTitle|The caption for the link title in the createLink dialog."\n            linkTitle="Title"\n            i18n-linkWebAddress="kendo.editor.linkWebAddress|The caption for the URL in the createLink dialog."\n            linkWebAddress="Web address"\n            i18n-outdent="kendo.editor.outdent|The title of the tool that outdents the content."\n            outdent="Outdent"\n            i18n-redo="kendo.editor.redo|The title of the tool that undos the last action."\n            redo="Redo"\n            i18n-strikethrough="kendo.editor.strikethrough|The title of the tool that strikes through text."\n            strikethrough="Strikethrough"\n            i18n-subscript="kendo.editor.subscript|The title of the tool that makes text subscript."\n            subscript="Subscript"\n            i18n-superscript="kendo.editor.superscript|The title of the tool that makes text superscript."\n            superscript="Superscript"\n            i18n-underline="kendo.editor.underline|The title of the tool that underlines text."\n            underline="Underline"\n            i18n-unlink="kendo.editor.unlink|The title of the tool that removes hyperlinks."\n            unlink="Remove Link"\n            i18n-undo="kendo.editor.undo|The title of the tool that undos the last action."\n            undo="Undo"\n            i18n-viewSource="kendo.editor.viewSource|The title of the tool that shows the editor value as HTML."\n            viewSource="View source"\n            i18n-insertTable="kendo.editor.insertTable|The title of the tool that inserts table."\n            insertTable="Insert Table"\n            i18n-addColumnBefore="kendo.editor.addColumnBefore|The title of the tool that adds new column before currently selected column."\n            addColumnBefore="Add column before"\n            i18n-addColumnAfter="kendo.editor.addColumnAfter|The title of the tool that adds new column after currently selected column."\n            addColumnAfter="Add column after"\n            i18n-addRowBefore="kendo.editor.addRowBefore|The title of the tool that adds new row before currently selected row."\n            addRowBefore="Add row before"\n            i18n-addRowAfter="kendo.editor.addRowAfter|The title of the tool that adds new row after currently selected row."\n            addRowAfter="Add row after"\n            i18n-deleteColumn="kendo.editor.deleteColumn|The title of the tool that deletes a table column."\n            deleteColumn="Delete column"\n            i18n-deleteRow="kendo.editor.deleteRow|The title of the tool that deletes a table row."\n            deleteRow="Delete row"\n            i18n-deleteTable="kendo.editor.deleteTable|The title of the tool that deletes a table."\n            deleteTable="Delete table"\n        >\n        </ng-container>\n\n        <ng-content select="kendo-toolbar"></ng-content>\n        <kendo-toolbar [overflow]="true" *ngIf="!userToolBarElement" #defaultToolbar>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorBoldButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorItalicButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnderlineButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-dropdownlist kendoEditorFormat></kendo-toolbar-dropdownlist>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorAlignLeftButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignCenterButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignRightButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignJustifyButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorInsertUnorderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorInsertOrderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorIndentButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorOutdentButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorCreateLinkButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnlinkButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-button kendoEditorInsertImageButton></kendo-toolbar-button>\n        </kendo-toolbar>\n\n        <div *ngIf="!iframe" #content [attr.dir]="direction" class="k-editor-content"></div>\n\n        <div class="k-editor-content" *ngIf="iframe">\n            <iframe #content frameborder="0" class="k-iframe" (load)="iframeOnLoad()"></iframe>\n        </div>\n\n        <ng-container #dialogsContainer></ng-container>\n    ',styles:["\n            >>> .k-editor-content > .ProseMirror {\n                height: 100%;\n                width: 100%;\n                box-sizing: border-box;\n                outline: none;\n                overflow: auto;\n            }\n\n            .k-iframe {\n                width: 100%;\n                height: 100%;\n                display: block;\n            }\n        "]}),i.__metadata("design:paramtypes",[c.DialogService,b.LocalizationService,o.ChangeDetectorRef,o.NgZone])],t)}();e.EditorComponent=O},function(t,e,n){"use strict";n.r(e),n.d(e,"NavigationService",(function(){return I})),n.d(e,"RefreshService",(function(){return d})),n.d(e,"ToolBarRendererComponent",(function(){return F})),n.d(e,"RendererService",(function(){return z})),n.d(e,"ToolBarButtonListComponent",(function(){return A})),n.d(e,"ToolBarComponent",(function(){return D})),n.d(e,"ToolBarToolComponent",(function(){return _})),n.d(e,"ToolBarButtonComponent",(function(){return P})),n.d(e,"ToolBarButtonGroupComponent",(function(){return B})),n.d(e,"ToolBarDropDownButtonComponent",(function(){return M})),n.d(e,"ToolBarSplitButtonComponent",(function(){return R})),n.d(e,"ToolBarSeparatorComponent",(function(){return j})),n.d(e,"ToolBarModule",(function(){return V}));var i=n(0),o=n(13),r=n(1),s=n(3),a=n(5),l=n(4),c=n(2),u=n(18),p=n(10),d=function(){function t(){this.onRefresh=new i.EventEmitter}return t.prototype.refresh=function(t){this.onRefresh.emit(t)},t.decorators=[{type:i.Injectable}],t}(),h=/^(?:a|input|select|textarea|button|object)$/i;function f(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.marginLeft)||0+parseFloat(n.marginRight)||0}var m=function(t,e,n){if(void 0===n&&(n=!0),t){if(n&&e(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var i=m(t,e);if(i)return i}t=t.nextSibling}}},g=function(t,e){if(void 0===e&&(e=!0),t.tagName){var n=t.tagName.toLowerCase(),i=null!==t.getAttribute("tabIndex");return h.test(n)&&(i=!t.disabled),i&&(!e||function(t){var e=t.getBoundingClientRect(),n=e.width>0&&e.height>0,i=0!==e.x&&0!==e.y;return(n||i)&&"hidden"!==window.getComputedStyle(t).visibility}(t))}return!1},v=function(t,e,n){void 0===e&&(e=!0);for(var i=n?t.prevSibling:t.nextSibling;i;){if(1===i.nodeType){var o=m(i,(function(t){return g(t,e)}));if(o)return o}i=n?i.prevSibling:i.nextSibling}},y=function(t){return null!=t},b=function(t){return function(e){return y(t[e])}},w=function(t,e,n){return function(i){switch(i.type){case"keydown":if(i.keyCode===t)return n.length-1;if(i.keyCode===e)return 0;break;case"click":return n.findIndex((function(t){return t===i.target||t.contains(i.target)}));case"focus":default:return 0}}},k=function(t,e,n){return function(i,o){switch(o.keyCode){case t:return n(i-1)?i-1:i;case e:return n(i+1)?i+1:i;default:return i}}},C=function(t){return function(e){return t===e}},S=function(t){return void 0===t&&(t=!1),function(e){return void 0===e&&(e=!0),e?r.Keys.ArrowDown:t?r.Keys.ArrowLeft:r.Keys.ArrowRight}},x=function(t){return void 0===t&&(t=!1),function(e){return void 0===e&&(e=!0),e?r.Keys.ArrowUp:t?r.Keys.ArrowRight:r.Keys.ArrowLeft}},O=function(t,e,n){switch(e){case"toolbar":return n?void 0:t;case"overflow":return n?t:void 0;default:return t}},I=function(){function t(){this.focused={renderedTool:null,index:-1},this.renderedTools=[],this.isPopupFocused=!1,this.isOverflowButtonFocused=!1}return t.prototype.setRenderedTools=function(t){this.renderedTools=t.slice()},t.prototype.click=function(t){var e=t.context,n=t.event;this.focused.renderedTool!==e&&n&&this.focus(e,n)},t.prototype.moveFocusToToolBar=function(){this.isPopupFocused=!1,this.focusOverflowButton()},t.prototype.moveFocusToPopup=function(){this.isPopupFocused=!0,this.blurOverflowButton(),this.focus()},t.prototype.focusNext=function(t){if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(t)){var e=this.getFocusableTools().slice(this.focused.index+1)[0];e?this.focus(e,t):this.isOverflowButtonVisible()&&!this.isPopupFocused&&this.focusOverflowButton()}},t.prototype.focusPrev=function(t){if(this.isOverflowButtonFocused){var e=this.getFocusableTools().reverse()[0];this.focus(e,t)}else if(this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(t)){var n=this.getFocusableTools().slice(0,this.focused.index).reverse()[0];n&&this.focus(n,t)}},t.prototype.resetNavigation=function(){this.blurOverflowButton(),this.focused.renderedTool=null,this.focused.index=-1},t.prototype.focusFirst=function(t){var e=this.getFocusableTools()[0];e&&(this.focused.renderedTool=e,this.focused.index=this.getFocusableTools().findIndex((function(t){return t===e})),this.focus(e,t))},t.prototype.getFocusableTools=function(){var t=this;return this.renderedTools.filter((function(e){return e.tool.overflows===t.isPopupFocused&&e.tool.canFocus()}))},t.prototype.focus=function(t,e){var n=this;if(t)t.tool.canFocus&&t.tool.canFocus()&&(this.focused.renderedTool=t,this.focused.index=this.getFocusableTools().findIndex((function(e){return e===t})),t.tool.focus(e),this.blurOverflowButton());else{var i=this.getFocusableTools(),o=i.find((function(t){return t===n.focused.renderedTool}))||i[0];o&&(this.focused.renderedTool=o,this.focused.index=this.getFocusableTools().findIndex((function(t){return t===o})),o.tool.focus(e))}},t.prototype.blurOverflowButton=function(){this.overflowButton&&(this.isOverflowButtonFocused=!1,this.overflowButton.nativeElement.tabIndex=-1)},t.prototype.focusOverflowButton=function(){this.isOverflowButtonFocused=!0,this.overflowButton.nativeElement.tabIndex=0,this.overflowButton.nativeElement.focus()},t.prototype.isOverflowButtonVisible=function(){return y(this.overflowButton)&&"visible"===window.getComputedStyle(this.overflowButton.nativeElement).getPropertyValue("visibility")},t.decorators=[{type:i.Injectable}],t}(),_=function(){function t(){this.tabIndex=-1,this.overflows=!0,this.responsive=!0}return Object.defineProperty(t.prototype,"toolbarDisplay",{get:function(){return this.overflows?"none":"inline-block"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overflowDisplay",{get:function(){return this.overflows?"block":"none"},enumerable:!0,configurable:!0}),t.prototype.canFocus=function(){return!1},t.prototype.focus=function(t){},t.prototype.handleKey=function(t){return!1},t.decorators=[{type:i.Component,args:[{selector:"toolbar-tool",template:""}]}],t.propDecorators={responsive:[{type:i.Input}]},t}(),E=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}(),T=function(t){return{animate:!0,anchorAlign:{horizontal:t?"left":"right",vertical:"bottom"},popupAlign:{horizontal:t?"left":"right",vertical:"top"}}},D=function(){function t(t,e,n,o,r,s,l,c){this.localization=t,this.popupService=e,this.refreshService=n,this.navigationService=o,this.element=r,this.cdr=s,this.zone=l,this.renderer=c,this.overflow=!1,this.tabindex=0,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.hostClasses=!0,this.cancelRenderedToolsSubscription$=new a.Subject,this.direction=t.rtl?"rtl":"ltr"}return Object.defineProperty(t.prototype,"resizable",{get:function(){return this.overflow},set:function(t){this.overflow=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupSettings",{get:function(){return this._popupSettings||T(this.localization.rtl)},set:function(t){this._popupSettings=Object.assign({},T(this.localization.rtl),t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupOpen",{get:function(){return this._open},set:function(t){if(this.popupOpen!==t){var e=new E;t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()||this.toggle(t)}},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(t){this.navigationService.resetNavigation(),this.navigationService.focusFirst(t),this.tabIndex=-1},t.prototype.onFocusOut=function(){this.tabIndex=0},Object.defineProperty(t.prototype,"getTabIndex",{get:function(){return this.tabindex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getRole",{get:function(){return"toolbar"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getDir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizableClass",{get:function(){return this.overflow},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.zone.runOutsideAngular((function(){t.toolbarKeydownListener=t.renderer.listen(t.element.nativeElement,"keydown",(function(e){switch(e.keyCode){case r.Keys.ArrowLeft:t.zone.run((function(){e.preventDefault(),"ltr"===t.direction?t.navigationService.focusPrev(e):t.navigationService.focusNext(e),t.tabIndex=-1}));break;case r.Keys.ArrowRight:t.zone.run((function(){e.preventDefault(),"ltr"===t.direction?t.navigationService.focusNext(e):t.navigationService.focusPrev(e),t.tabIndex=-1}));break;case r.Keys.Tab:t.zone.run((function(){return t.navigationService.resetNavigation()}));break;case r.Keys.Escape:t.zone.run((function(){return t.toggle(!1)}))}}))})),this.overflow&&(this.resizeSubscription=this.resizeSensor.resize.pipe(Object(l.filter)((function(){return t.overflow}))).subscribe((function(){t.onResize()})),this.zone.runOutsideAngular((function(){return setTimeout((function(){return t.onResize()}))})),this.navigationService.overflowButton=this.overflowButton),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.renderedTools.changes.pipe(Object(l.takeUntil)(this.cancelRenderedToolsSubscription$)).subscribe((function(e){return t.navigationService.setRenderedTools(e.toArray())}))},t.prototype.ngOnInit=function(){var t=this;this.localizationChangesSubscription=this.localization.changes.subscribe((function(e){var n=e.rtl;return t.direction=n?"rtl":"ltr"})),Object(r.isDocumentAvailable)()&&this.zone.runOutsideAngular((function(){return t.closeOverflowSubscription=Object(a.fromEvent)(document,"click").pipe(Object(l.filter)((function(){return!!t.popupRef})),Object(l.filter)((function(e){return!t.popupRef.popup.instance.container.nativeElement.contains(e.target)})),Object(l.filter)((function(e){return!t.overflowButton.nativeElement.contains(e.target)}))).subscribe((function(){t.zone.run((function(){t.popupOpen=!1}))}))}))},t.prototype.ngOnDestroy=function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe(),this.closeOverflowSubscription&&this.closeOverflowSubscription.unsubscribe(),this.popupRef&&this.popupRef.close(),this.toolbarKeydownListener&&this.toolbarKeydownListener(),this.cancelRenderedToolsSubscription$.next()},t.prototype.onRendererClick=function(t){this.navigationService.click(t),this.tabIndex=-1},t.prototype.showPopup=function(){this.popupOpen=!this.popupOpen,this.navigationService.click({context:void 0,event:void 0})},t.prototype.toggle=function(t){this._open=void 0!==t?t:!this.popupOpen,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.popupOpen&&(this.popupRef=this.popupService.open({anchor:this.overflowButton,anchorAlign:this.popupSettings.anchorAlign,popupAlign:this.popupSettings.popupAlign,content:this.popupTemplate,appendTo:this.appendTo,animate:this.popupSettings.animate,popupClass:this.popupSettings.popupClass,positionMode:"absolute"}),this.setPopupContentDimensions(),this.popupRef.popupOpen.subscribe(this.onPopupOpen.bind(this)),this.popupRef.popupClose.subscribe(this.onPopupClose.bind(this)))},t.prototype.onResize=function(){if(Object(r.isDocumentAvailable)()){var t=(e=this.element.nativeElement,n=e.offsetWidth,i=getComputedStyle(e),n-=parseFloat(i.paddingLeft)||0+parseFloat(i.borderLeftWidth)||0,(n-=parseFloat(i.paddingRight)||0+parseFloat(i.borderRightWidth)||0)-this.overflowAnchorWidth);this.shrink(t,this.childrenWidth),this.stretch(t,this.childrenWidth)}var e,n,i;this.cdr.detectChanges(),this.resizeSensor.acceptSize()},t.prototype.onPopupOpen=function(){var t=this;this.zone.runOutsideAngular((function(){t.overflowKeydownListener=t.renderer.listen(t.popupRef.popupElement,"keydown",(function(e){switch(e.keyCode){case r.Keys.ArrowUp:t.zone.run((function(){e.preventDefault(),t.navigationService.focusPrev(e)}));break;case r.Keys.ArrowDown:t.zone.run((function(){e.preventDefault(),t.navigationService.focusNext(e)}));break;case r.Keys.Escape:t.zone.run((function(){return t.toggle(!1)}));break;case r.Keys.Tab:t.zone.run((function(){t.toggle(!1),t.navigationService.resetNavigation()}))}}))})),this.cancelRenderedToolsSubscription$.next(),this.navigationService.moveFocusToPopup(),this.navigationService.setRenderedTools(this.overflowRenderedTools.toArray()),this.overflowRenderedTools.changes.pipe(Object(l.takeUntil)(this.cancelRenderedToolsSubscription$)).subscribe((function(e){return t.navigationService.setRenderedTools(e.toArray())}))},t.prototype.onPopupClose=function(){var t=this;this.cancelRenderedToolsSubscription$.next(),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.renderedTools.changes.pipe(Object(l.takeUntil)(this.cancelRenderedToolsSubscription$)).subscribe((function(e){return t.navigationService.setRenderedTools(e.toArray())})),this.navigationService.moveFocusToToolBar(),this.overflowKeydownListener&&this.overflowKeydownListener()},Object.defineProperty(t.prototype,"displayAnchor",{get:function(){return this.allTools.filter((function(t){return t.overflows&&t.responsive})).length>0?"visible":"hidden"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupWidth",{get:function(){return this.popupSettings&&this.popupSettings.width?isNaN(this.popupSettings.width)?this.popupSettings.width:this.popupSettings.width+"px":"150px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupHeight",{get:function(){if(this.popupSettings&&this.popupSettings.height)return isNaN(this.popupSettings.height)?this.popupSettings.height:this.popupSettings.height+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overflowAnchorWidth",{get:function(){return this.overflow?(this.cachedOverflowAnchorWidth||(this.cachedOverflowAnchorWidth=f(this.overflowButton.nativeElement)),this.cachedOverflowAnchorWidth):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childrenWidth",{get:function(){var t=this.renderedTools.reduce((function(t,e){return e.width+t}),0);return Math.ceil(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleTools",{get:function(){return this.allTools.filter((function(t){return!1===t.overflows}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overflowTools",{get:function(){return this.allTools.filter((function(t){return!0===t.overflows}))},enumerable:!0,configurable:!0}),t.prototype.shrink=function(t,e){if(t<e)for(var n=this.visibleTools.length-1;n>=0&&!(t>e);n--)e-=this.hideLastVisibleTool()},t.prototype.stretch=function(t,e){var n;if(t>e)for(var i=this.overflowTools.length-1;i>=0&&(n=this.showFirstHiddenTool(t,e));i--)e+=n},t.prototype.hideLastVisibleTool=function(){var t=this.visibleTools[this.visibleTools.length-1],e=this.renderedTools.find((function(e){return e.tool===t})).width;return t.overflows=!0,this.refreshService.refresh(t),e},t.prototype.showFirstHiddenTool=function(t,e){var n=this.overflowTools[0],i=this.renderedTools.find((function(t){return t.tool===n}));return n.overflows=!1,n.visibility="hidden",this.refreshService.refresh(n),t>e+i.width?(n.visibility="visible",this.refreshService.refresh(n)):(n.overflows=!0,this.refreshService.refresh(n)),i.width},t.prototype.setPopupContentDimensions=function(){var t=this.popupRef.popup.instance.contentContainer.nativeElement;t.style.width=this.popupWidth,t.style.height=this.popupHeight,t.style.overflow="auto"},t.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBar",providers:[d,I,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.toolbar"}],selector:"kendo-toolbar",template:'\n        <ng-container *ngFor="let tool of allTools; let index = index">\n            <kendo-toolbar-renderer\n                #toolbarRenderer\n                (rendererClick)="onRendererClick($event)"\n                [location]="\'toolbar\'"\n                [resizable]="overflow"\n                [tool]="tool"\n            ></kendo-toolbar-renderer>\n        </ng-container>\n        <button\n            #overflowButton\n            type="button"\n            tabindex="-1"\n            *ngIf="overflow"\n            [style.visibility]="displayAnchor"\n            class="k-overflow-anchor k-button"\n            (click)="showPopup()"\n        >\n            <span class="k-icon k-i-more-vertical"></span>\n        </button>\n        <ng-template #popupTemplate>\n            <ul class="k-overflow-container k-list-container k-reset">\n                <ng-container *ngFor="let tool of allTools; let index = index">\n                    <li class="k-item">\n                        <kendo-toolbar-renderer\n                            #overflowRenderer\n                            (rendererClick)="onRendererClick($event)"\n                            [location]="\'overflow\'"\n                            [resizable]="overflow"\n                            [tool]="tool"\n                        ></kendo-toolbar-renderer>\n                    </li>\n                </ng-container>\n            </ul>\n        </ng-template>\n        <ng-container #container></ng-container>\n        <kendo-resize-sensor *ngIf="overflow" [rateLimit]="1000" #resizeSensor></kendo-resize-sensor>\n    '}]}],t.ctorParameters=function(){return[{type:s.LocalizationService},{type:o.PopupService},{type:d},{type:I},{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:i.NgZone},{type:i.Renderer2}]},t.propDecorators={overflow:[{type:i.Input}],resizable:[{type:i.Input}],popupSettings:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input,args:["tabIndex"]}],open:[{type:i.Output}],close:[{type:i.Output}],allTools:[{type:i.ContentChildren,args:[_]}],overflowButton:[{type:i.ViewChild,args:["overflowButton"]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],resizeSensor:[{type:i.ViewChild,args:["resizeSensor"]}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],renderedTools:[{type:i.ViewChildren,args:["toolbarRenderer"]}],overflowRenderedTools:[{type:i.ViewChildren,args:["overflowRenderer"]}],hostClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-toolbar"]}],onFocus:[{type:i.HostListener,args:["focus",["$event"]]}],onFocusOut:[{type:i.HostListener,args:["focusout"]}],getTabIndex:[{type:i.HostBinding,args:["attr.tabindex"]}],getRole:[{type:i.HostBinding,args:["attr.role"]}],getDir:[{type:i.HostBinding,args:["attr.dir"]}],resizableClass:[{type:i.HostBinding,args:["class.k-toolbar-resizable"]}]},t}(),P=function(t){function e(){var e=t.call(this)||this;return e.showText="both",e.showIcon="both",e.toggleable=!1,e.primary=!1,e.look="default",e.selected=!1,e.click=new i.EventEmitter,e.selectedChange=new i.EventEmitter,e.toolbarOptions={text:"",icon:"",iconClass:"",imageUrl:""},e.overflowOptions={text:"",icon:"",iconClass:"",imageUrl:""},e}return Object(c.__extends)(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this.toolbarOptions.text=O(t,this.showText,!1),this.overflowOptions.text=O(t,this.showText,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"togglable",{get:function(){return this.toggleable},set:function(t){this.toggleable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{set:function(t){this.toolbarOptions.icon=O(t,this.showIcon,!1),this.overflowOptions.icon=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{set:function(t){this.toolbarOptions.iconClass=O(t,this.showIcon,!1),this.overflowOptions.iconClass=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageUrl",{set:function(t){this.toolbarOptions.imageUrl=O(t,this.showIcon,!1),this.overflowOptions.imageUrl=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),e.prototype.onBlur=function(){this.getButton().tabIndex=-1},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(t){t&&"focus"!==t.type&&"keydown"!==t.type||this.getButton().focus(),this.getButton().tabIndex=0},e.prototype.handleKey=function(){return this.getButton().tabIndex=-1,!1},e.prototype.getButton=function(){return(this.overflows?this.overflowButtonElement:this.toolbarButtonElement).nativeElement},e.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBarButton",providers:[{provide:_,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-toolbar-button",template:'\n        <ng-template #toolbarTemplate>\n            <button\n                #toolbarButton\n                [tabindex]="tabIndex"\n                type="button"\n                kendoButton\n                [ngStyle]="style"\n                [ngClass]="className"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [toggleable]="toggleable"\n                [primary]="primary"\n                [selected]="selected"\n                [icon]="toolbarOptions.icon"\n                [iconClass]="toolbarOptions.iconClass"\n                [imageUrl]="toolbarOptions.imageUrl"\n                [look]="look"\n                (click)="click.emit($event)"\n                (selectedChange)="selectedChange.emit($event)"\n                (blur)="onBlur()"\n            >\n                {{ toolbarOptions.text }}\n            </button>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                #overflowButton\n                tabindex="-1"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [ngStyle]="style"\n                [ngClass]="className"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [toggleable]="toggleable"\n                [primary]="primary"\n                [selected]="selected"\n                [icon]="overflowOptions.icon"\n                [iconClass]="overflowOptions.iconClass"\n                [imageUrl]="overflowOptions.imageUrl"\n                [look]="look"\n                (click)="click.emit($event)"\n                (selectedChange)="selectedChange.emit($event)"\n            >\n                {{ overflowOptions.text }}\n            </button>\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[]},e.propDecorators={showText:[{type:i.Input}],showIcon:[{type:i.Input}],text:[{type:i.Input}],style:[{type:i.Input}],className:[{type:i.Input}],title:[{type:i.Input}],disabled:[{type:i.Input}],toggleable:[{type:i.Input}],togglable:[{type:i.Input}],primary:[{type:i.Input}],look:[{type:i.Input}],selected:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],imageUrl:[{type:i.Input}],click:[{type:i.Output}],selectedChange:[{type:i.Output}],toolbarTemplate:[{type:i.ViewChild,args:["toolbarTemplate",{static:!0}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],toolbarButtonElement:[{type:i.ViewChild,args:["toolbarButton",{read:i.ElementRef}]}],overflowButtonElement:[{type:i.ViewChild,args:["overflowButton",{read:i.ElementRef}]}]},e}(_),B=function(t){function e(e){var n=t.call(this)||this;return n.localization=e,n.selection="multiple",n.look="default",n.focusedIndex=-1,n.getNextKey=S(n.localization.rtl),n.getPrevKey=x(n.localization.rtl),n}return Object(c.__extends)(e,t),Object.defineProperty(e.prototype,"buttonElements",{get:function(){return this.getButtonGroup().buttons.filter((function(t){return!t.isDisabled})).map((function(t){return t.element}))},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.focusedIndex=0},e.prototype.onNavigate=function(t){t.preventDefault()},e.prototype.selectedChangeHandler=function(t,e){e.selected=t,e.selectedChange.emit(t)},e.prototype.onButtonClick=function(t){this.focusedIndex=this.buttonElements.findIndex((function(e){return e===t.target||e.contains(t.target)})),this.focusButton(this.focusedIndex,t)},e.prototype.canFocus=function(){return!(this.disabled||0===this.buttonElements.length)},e.prototype.focus=function(t){void 0===t&&(t={});var e=this.getNextKey(this.overflows),n=this.getPrevKey(this.overflows);this.focusedIndex=w(n,e,this.buttonElements)(t),this.focusButton(this.focusedIndex,t)},e.prototype.handleKey=function(t){var e=this.getNextKey(this.overflows),n=this.getPrevKey(this.overflows),i=b(this.buttonElements),o=C(this.focusedIndex);return this.focusedIndex=k(n,e,i)(this.focusedIndex,t),this.focusButton(this.focusedIndex,t),!o(this.focusedIndex)},e.prototype.getButtonGroup=function(){return this.overflows?this.overflowButtonGroup:this.toolbarButtonGroup},e.prototype.focusButton=function(t,e){e.type&&"focus"!==e.type&&"keydown"!==e.type||this.buttonElements[t].focus()},e.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBarButtonGroup",providers:[s.LocalizationService,{provide:_,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-toolbar-buttongroup",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-buttongroup\n                #toolbarButtonGroup\n                [tabIndex]="-1"\n                [selection]="selection"\n                [disabled]="disabled"\n                [look]="look"\n                [width]="width"\n                (navigate)="onNavigate($event)"\n                (focus)="onFocus()"\n            >\n                <span\n                    kendoButton\n                    *ngFor="let button of buttonComponents"\n                    [ngStyle]="button.style"\n                    [ngClass]="button.className"\n                    [attr.title]="button.title"\n                    [disabled]="button.disabled"\n                    [togglable]="button.togglable"\n                    [primary]="button.primary"\n                    [selected]="button.selected"\n                    [icon]="button.toolbarOptions.icon"\n                    [iconClass]="button.toolbarOptions.iconClass"\n                    [imageUrl]="button.toolbarOptions.imageUrl"\n                    (click)="button.click.emit($event); onButtonClick($event)"\n                    (selectedChange)="selectedChangeHandler($event, button)"\n                >\n                    {{ button.toolbarOptions.text }}\n                </span>\n            </kendo-buttongroup>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <kendo-buttongroup\n                #overflowButtonGroup\n                class="k-overflow-button"\n                [tabIndex]="-1"\n                [selection]="selection"\n                [disabled]="disabled"\n                [look]="look"\n                [width]="width"\n            >\n                <span\n                    kendoButton\n                    class="k-overflow-button"\n                    *ngFor="let button of buttonComponents"\n                    [ngStyle]="button.style"\n                    [ngClass]="button.className"\n                    [attr.title]="button.title"\n                    [disabled]="button.disabled"\n                    [togglable]="button.togglable"\n                    [primary]="button.primary"\n                    [selected]="button.selected"\n                    [icon]="button.overflowOptions.icon"\n                    [iconClass]="button.overflowOptions.iconClass"\n                    [imageUrl]="button.overflowOptions.imageUrl"\n                    (click)="button.click.emit($event); onButtonClick($event)"\n                    (selectedChange)="selectedChangeHandler($event, button)"\n                >\n                    {{ button.overflowOptions.text }}\n                </span>\n            </kendo-buttongroup>\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[{type:s.LocalizationService}]},e.propDecorators={disabled:[{type:i.Input}],selection:[{type:i.Input}],width:[{type:i.Input}],look:[{type:i.Input}],toolbarTemplate:[{type:i.ViewChild,args:["toolbarTemplate",{static:!0}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],buttonComponents:[{type:i.ContentChildren,args:[Object(i.forwardRef)((function(){return P}))]}],toolbarButtonGroup:[{type:i.ViewChild,args:["toolbarButtonGroup"]}],overflowButtonGroup:[{type:i.ViewChild,args:["overflowButtonGroup"]}]},e}(_),A=function(){function t(){this.disabled=!1,this.look="default",this.itemClick=new i.EventEmitter}return t.prototype.getText=function(t){if(t)return this.textField?t[this.textField]:t.text||t},t.prototype.onClick=function(t,e){var n=this.data[e];t.click&&t.click(n),this.itemClick.emit(n)},t.decorators=[{type:i.Component,args:[{selector:"kendo-toolbar-buttonlist",template:'\n        <button\n            #button\n            type="button"\n            tabindex="-1"\n            kendoButton\n            style="padding-left: 16px"\n            class="k-overflow-button"\n            *ngFor="let item of data; let i = index"\n            [disabled]="disabled || item.disabled"\n            [icon]="item.icon"\n            [iconClass]="item.iconClass"\n            [imageUrl]="item.imageUrl"\n            [look]="look"\n            (click)="onClick(item, i)"\n        >\n            {{ getText(item) }}\n        </button>\n    '}]}],t.propDecorators={data:[{type:i.Input}],textField:[{type:i.Input}],disabled:[{type:i.Input}],look:[{type:i.Input}],itemClick:[{type:i.Output}],buttons:[{type:i.ViewChildren,args:["button"]}]},t}(),M=function(t){function e(){var e=t.call(this)||this;return e.showText="both",e.showIcon="both",e.look="default",e.primary=!1,e.itemClick=new i.EventEmitter,e.open=new i.EventEmitter,e.close=new i.EventEmitter,e.toolbarOptions={text:"",icon:"",iconClass:"",imageUrl:""},e.overflowOptions={text:"",icon:"",iconClass:"",imageUrl:""},e._popupSettings={animate:!0,popupClass:""},e.focusedIndex=-1,e.getNextKey=S(),e.getPrevKey=x(),e}return Object(c.__extends)(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this.toolbarOptions.text=O(t,this.showText,!1),this.overflowOptions.text=O(t,this.showText,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{set:function(t){this.toolbarOptions.icon=O(t,this.showIcon,!1),this.overflowOptions.icon=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{set:function(t){this.toolbarOptions.iconClass=O(t,this.showIcon,!1),this.overflowOptions.iconClass=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageUrl",{set:function(t){this.toolbarOptions.imageUrl=O(t,this.showIcon,!1),this.overflowOptions.imageUrl=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0,popupClass:""},t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data||(this.data=[]),this._data},set:function(t){this._data=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowButtons",{get:function(){return this.overflowDropDownButtonButtonList.buttons.toArray().filter((function(t){return!t.nativeElement.disabled})).slice()},enumerable:!0,configurable:!0}),e.prototype.onButtonListClick=function(t){this.focusedIndex=this.overflowDropDownButtonButtonList.buttons.toArray().findIndex((function(e){return e.nativeElement.contains(t.target)}))},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(t){void 0===t&&(t={}),this.overflows?this.overflowButtons.length>0&&(this.focusedIndex=w(this.getPrevKey(),this.getNextKey(),this.overflowButtons.map((function(t){return t.nativeElement})))(t),this.focusButton(this.focusedIndex,t)):"focus"!==t.type&&"keydown"!==t.type||this.toolbarDropDownButton.focus()},e.prototype.handleKey=function(t){if(!this.overflows&&(t.keyCode===this.getPrevKey(this.overflows)||t.keyCode===this.getNextKey(this.overflows)))return!1;if(this.overflows){var e=b(this.overflowButtons),n=C(this.focusedIndex);return this.focusedIndex=k(this.getPrevKey(),this.getNextKey(),e)(this.focusedIndex,t),this.focusButton(this.focusedIndex,t),!n(this.focusedIndex)}},e.prototype.focusButton=function(t,e){e.type&&"focus"!==e.type&&"keydown"!==e.type||this.overflowButtons[t].nativeElement.focus()},e.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBarDropDownButton",providers:[{provide:_,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-toolbar-dropdownbutton",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-dropdownbutton\n                #toolbarDropDownButton\n                [icon]="toolbarOptions.icon"\n                [iconClass]="toolbarOptions.iconClass"\n                [imageUrl]="toolbarOptions.imageUrl"\n                [buttonClass]="buttonClass"\n                [disabled]="disabled"\n                [tabIndex]="-1"\n                [data]="data"\n                [textField]="textField"\n                [popupSettings]="popupSettings"\n                [look]="look"\n                [primary]="primary"\n                (open)="open.emit($event)"\n                (close)="close.emit($event)"\n                (itemClick)="itemClick.emit($event)"\n            >\n                {{ toolbarOptions.text }}\n            </kendo-dropdownbutton>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                type="button"\n                tabindex="-1"\n                kendoButton\n                class="k-overflow-button"\n                [disabled]="true"\n                [icon]="overflowOptions.icon"\n                [iconClass]="overflowOptions.iconClass"\n                [imageUrl]="overflowOptions.imageUrl"\n                [ngClass]="buttonClass"\n                (click)="itemClick.emit($event)"\n            >\n                {{ overflowOptions.text }}\n            </button>\n            <kendo-toolbar-buttonlist\n                #overflowDropDownButtonButtonList\n                [data]="data"\n                [disabled]="disabled"\n                [textField]="textField"\n                (itemClick)="itemClick.emit($event)"\n                (click)="onButtonListClick($event)"\n            >\n            </kendo-toolbar-buttonlist>\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[]},e.propDecorators={showText:[{type:i.Input}],showIcon:[{type:i.Input}],text:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],imageUrl:[{type:i.Input}],popupSettings:[{type:i.Input}],buttonClass:[{type:i.Input}],textField:[{type:i.Input}],disabled:[{type:i.Input}],look:[{type:i.Input}],data:[{type:i.Input}],primary:[{type:i.Input}],itemClick:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],toolbarTemplate:[{type:i.ViewChild,args:["toolbarTemplate",{static:!0}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],dropdownButton:[{type:i.ViewChild,args:["dropdownButton",{read:i.ElementRef,static:!0}]}],dropDownButtonComponent:[{type:i.ViewChild,args:[u.DropDownButtonComponent,{static:!1}]}],toolbarDropDownButton:[{type:i.ViewChild,args:["toolbarDropDownButton"]}],overflowDropDownButtonButtonList:[{type:i.ViewChild,args:["overflowDropDownButtonButtonList"]}]},e}(_),R=function(t){function e(){var e=t.call(this)||this;return e.showText="both",e.showIcon="both",e.look="default",e.arrowButtonIcon="arrow-s",e.textField="text",e.buttonClick=new i.EventEmitter,e.itemClick=new i.EventEmitter,e.open=new i.EventEmitter,e.close=new i.EventEmitter,e.toolbarOptions={text:"",icon:"",iconClass:"",imageUrl:""},e.overflowOptions={text:"",icon:"",iconClass:"",imageUrl:""},e._popupSettings={animate:!0,popupClass:""},e.focusedIndex=-1,e.getNextKey=S(),e.getPrevKey=x(),e}return Object(c.__extends)(e,t),Object.defineProperty(e.prototype,"text",{set:function(t){this.toolbarOptions.text=O(t,this.showText,!1),this.overflowOptions.text=O(t,this.showText,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{set:function(t){this.toolbarOptions.icon=O(t,this.showIcon,!1),this.overflowOptions.icon=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{set:function(t){this.toolbarOptions.iconClass=O(t,this.showIcon,!1),this.overflowOptions.iconClass=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageUrl",{set:function(t){this.toolbarOptions.imageUrl=O(t,this.showIcon,!1),this.overflowOptions.imageUrl=O(t,this.showIcon,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings||(this._popupSettings={animate:!0,popupClass:""}),this._popupSettings},set:function(t){this._popupSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data||(this.data=[]),this._data},set:function(t){this._data=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowButtons",{get:function(){return[this.overflowSplitButton].concat(this.overflowSplitButtonButtonList.buttons.toArray().filter((function(t){return!t.nativeElement.disabled})))},enumerable:!0,configurable:!0}),e.prototype.onButtonListClick=function(t){this.focusedIndex=this.overflowButtons.findIndex((function(e){return e.nativeElement.contains(t.target)}))},e.prototype.onMainButtonClick=function(t){this.buttonClick.emit(t),this.focusedIndex=0},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(t){void 0===t&&(t={}),this.overflows?this.overflowButtons.length>0&&(this.focusedIndex=w(this.getPrevKey(),this.getNextKey(),this.overflowButtons.map((function(t){return t.nativeElement})))(t),this.focusButton(this.focusedIndex,t)):"focus"!==t.type&&"keydown"!==t.type||this.toolbarSplitButton.focus()},e.prototype.handleKey=function(t){if(!this.overflows&&(t.keyCode===this.getPrevKey(this.overflows)||t.keyCode===this.getNextKey(this.overflows)))return!1;if(this.overflows){var e=b(this.overflowButtons),n=C(this.focusedIndex);return this.focusedIndex=k(this.getPrevKey(),this.getNextKey(),e)(this.focusedIndex,t),this.focusButton(this.focusedIndex,t),!n(this.focusedIndex)}},e.prototype.focusButton=function(t,e){e.type&&"focus"!==e.type&&"keydown"!==e.type&&"click"!==e.type||this.overflowButtons[t].nativeElement.focus()},e.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBarSplitButton",providers:[{provide:_,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-toolbar-splitbutton",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-splitbutton\n                #toolbarSplitButton\n                [data]="data"\n                [text]="toolbarOptions.text"\n                [icon]="toolbarOptions.icon"\n                [iconClass]="toolbarOptions.iconClass"\n                [imageUrl]="toolbarOptions.imageUrl"\n                [buttonClass]="buttonClass"\n                [arrowButtonClass]="arrowButtonClass"\n                [arrowButtonIcon]="arrowButtonIcon"\n                [disabled]="disabled"\n                [tabIndex]="-1"\n                [textField]="textField"\n                [popupSettings]="popupSettings"\n                [look]="look"\n                (buttonClick)="buttonClick.emit($event)"\n                (open)="open.emit($event)"\n                (close)="close.emit($event)"\n                (itemClick)="itemClick.emit($event)"\n            >\n            </kendo-splitbutton>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                #overflowSplitButton\n                type="button"\n                tabindex="-1"\n                kendoButton\n                class="k-overflow-button"\n                [disabled]="disabled"\n                [icon]="overflowOptions.icon"\n                [iconClass]="overflowOptions.iconClass"\n                [imageUrl]="overflowOptions.imageUrl"\n                [look]="look"\n                [ngClass]="buttonClass"\n                (click)="buttonClick.emit($event)"\n                (click)="onMainButtonClick($event)"\n            >\n                {{ overflowOptions.text }}\n            </button>\n            <kendo-toolbar-buttonlist\n                #overflowSplitButtonButtonList\n                [look]="look"\n                [data]="data"\n                [disabled]="disabled"\n                [textField]="textField"\n                (itemClick)="itemClick.emit($event)"\n                (click)="onButtonListClick($event)"\n            >\n            </kendo-toolbar-buttonlist>\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[]},e.propDecorators={showText:[{type:i.Input}],showIcon:[{type:i.Input}],text:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],imageUrl:[{type:i.Input}],disabled:[{type:i.Input}],look:[{type:i.Input}],popupSettings:[{type:i.Input}],buttonClass:[{type:i.Input}],arrowButtonClass:[{type:i.Input}],arrowButtonIcon:[{type:i.Input}],textField:[{type:i.Input}],data:[{type:i.Input}],buttonClick:[{type:i.Output}],itemClick:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],toolbarTemplate:[{type:i.ViewChild,args:["toolbarTemplate",{static:!0}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],toolbarSplitButton:[{type:i.ViewChild,args:["toolbarSplitButton"]}],overflowSplitButton:[{type:i.ViewChild,args:["overflowSplitButton",{read:i.ElementRef}]}],overflowSplitButtonButtonList:[{type:i.ViewChild,args:["overflowSplitButtonButtonList"]}]},e}(_),j=function(t){function e(){return t.call(this)||this}return Object(c.__extends)(e,t),e.prototype.canFocus=function(){return!1},e.prototype.focus=function(){},e.prototype.handleKey=function(){return!1},e.prototype.ngAfterViewInit=function(){this.popupTemplate||(this.popupTemplate=this.toolbarTemplate)},e.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBarSeparator",providers:[{provide:_,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-toolbar-separator",template:'\n        <ng-template #toolbarTemplate>\n            <div class="k-separator"></div>\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[]},e.propDecorators={toolbarTemplate:[{type:i.ViewChild,args:["toolbarTemplate",{static:!0}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],separator:[{type:i.ViewChild,args:["separator"]}]},e}(_),z=function(){function t(){}return t.prototype.getElement=function(){return this.element.nativeElement},t.prototype.querySelector=function(t){return this.element.nativeElement.querySelector(t)},t.prototype.querySelectorAll=function(t){return this.element.nativeElement.querySelectorAll(t)},t.prototype.findFocusable=function(){return t=this.element.nativeElement,void 0===(e=!1)&&(e=!0),m(t,(function(t){return g(t,e)}));var t,e},t.prototype.findFocusableChild=function(t){return t||(t=this.findFocusable()),function(t,e){return void 0===e&&(e=!0),m(t,(function(t){return g(t,e)}),!1)}(t,!1)},t.prototype.findNextFocusableSibling=function(t){return t||(t=this.findFocusable()),v(t,!1)},t.prototype.findPrevFocusableSibling=function(t){return t||(t=this.findFocusable()),v(t,!1,!0)},t.prototype.setAttribute=function(t,e,n){this.renderer.setAttribute(t,e,n)},t.decorators=[{type:i.Injectable}],t}(),F=function(){function t(t,e,n,o){var r=this;this.element=t,this.renderer=e,this.rendererService=n,this.refreshService=o,this.rendererClick=new i.EventEmitter,this.rendererService.element=t,this.rendererService.renderer=this,this.refreshSubscription=this.refreshService.onRefresh.subscribe((function(t){r.tool===t&&r.refresh()}))}return t.prototype.onClick=function(t){this.rendererClick.emit({context:this,event:t})},t.prototype.ngOnInit=function(){this.resizable?"toolbar"===this.location?(this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.template=this.tool.popupTemplate,this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.tool.overflows=!1,this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","display"),this.renderer.setStyle(this.element.nativeElement,"display","inline-block"))},t.prototype.ngOnDestroy=function(){this.refreshSubscription.unsubscribe()},t.prototype.ngAfterViewInit=function(){this.resizable&&this.refresh()},Object.defineProperty(t.prototype,"width",{get:function(){return this.tool.overflows?0:f(this.element.nativeElement)},enumerable:!0,configurable:!0}),t.prototype.isDisplayed=function(){return"none"!==this.element.nativeElement.style.display},t.prototype.refresh=function(){this.resizable&&("toolbar"===this.location?(this.renderer.setStyle(this.element.nativeElement,"visibility",this.tool.visibility),this.renderer.setStyle(this.element.nativeElement,"display",this.tool.toolbarDisplay)):this.renderer.setStyle(this.element.nativeElement,"display",this.tool.overflowDisplay))},t.prototype.setAttribute=function(t,e,n){this.renderer.setAttribute(t,e,n)},t.decorators=[{type:i.Component,args:[{exportAs:"kendoToolBarRenderer",providers:[z],selector:"kendo-toolbar-renderer",template:'\n        <ng-container *ngIf="location === \'toolbar\'">\n            <ng-template [ngTemplateOutlet]="template"></ng-template>\n        </ng-container>\n        <ng-container *ngIf="location === \'overflow\' && tool.responsive">\n            <ng-template [ngTemplateOutlet]="template"></ng-template>\n        </ng-container>\n    '}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:z},{type:d}]},t.propDecorators={tool:[{type:i.Input}],location:[{type:i.Input}],resizable:[{type:i.Input}],rendererClick:[{type:i.Output}],onClick:[{type:i.HostListener,args:["click",["$event"]]}]},t}(),N=[_,P,B,M,R,j],L=[F,A],V=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[D,N,L],exports:[D,N],imports:[p.CommonModule,u.ButtonsModule,o.PopupModule,r.ResizeSensorModule]}]}],t}()},function(t,e){t.exports=o},function(t,e){t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.command=e,r.button=n,r.editor=i,r.localization=o,r}return i.__extends(e,t),e.prototype.clickHandler=function(){this.editor.exec(this.command),this.editor.focus()},e.prototype.onStateChange=function(t){this.button.selected=t[this.command].selected,this.button.disabled=t[this.command].disabled},e}(n(37).EditorCommandBase);e.EditorCommandButton=o},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return I})),n.d(e,"j",(function(){return P})),n.d(e,"k",(function(){return k})),n.d(e,"l",(function(){return A})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return g}));var i="bottom",o="center",r="middle",s="left",a="right",l="top",c=function(t){var e=t.anchorRect,n=t.anchorAlign,s=t.elementRect,l=t.elementAlign,c=t.margin;void 0===c&&(c={});var u=n.horizontal,p=n.vertical,d=l.horizontal,h=l.vertical,f=c.horizontal||0,m=c.vertical||0,g=e.top,v=e.left;return p===i&&(g+=e.height),p!==o&&p!==r||(g+=Math.round(e.height/2)),h===i&&(g-=s.height,m*=-1),h!==o&&h!==r||(g-=Math.round(s.height/2),m*=-1),u===a&&(v+=e.width),u!==o&&u!==r||(v+=Math.round(e.width/2)),d===a&&(v-=s.width,f*=-1),d!==o&&d!==r||(v-=Math.round(s.width/2),f*=-1),{top:g+m,left:v+f}};function u(t,e){return{top:t.top+e.y,left:t.left+e.x,height:t.height,width:t.width}}function p(t){return t.ownerDocument||t.document||t}var d=function(t){return p(t).defaultView},h=function(t){return p(t).documentElement},f=0;function m(){if(!f&&"undefined"!=typeof document){var t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),f=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return f}function g(t){var e=d(t),n=h(t),i={height:e.innerHeight,width:e.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=m()),i}var v=function(t){if(!t.getBoundingClientRect){var e=g(t);return{bottom:e.height,left:0,right:e.width,top:0}}var n=t.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}},y=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||h(t)},b=function(t){var e=t.getBoundingClientRect(),n=e.left,i=e.top;return e.height||e.width||(e=function(t){var e=t.style,n=e.display,i=e.left,o=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var r=t.getBoundingClientRect();return t.style.display=n,t.style.left=i,t.style.position=o,r}(t)),{top:i,left:n,height:e.height,width:e.width}},w=function(t,e){for(var n=[],i=t.parentNode;i&&(n.push(i),i!==e);)i=i.parentNode;return n};function k(t){var e=h(t),n=d(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}}var C=function(t){return t===(t.ownerDocument||{}).body?k(t):{x:t.scrollLeft,y:t.scrollTop}};var S=function(t,e){var n=d(t),i=n.getComputedStyle(t),o=b(t),r=e||y(t),s=t.ownerDocument,a=r!==s.body&&r!==s.documentElement,l={top:0,left:0};if("fixed"!==i.position&&a){var c=n.getComputedStyle(r);(l=b(r)).top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:o.top-l.top,left:o.left-l.left,height:o.height,width:o.width}},x=function(t,e){return t?C(t):function(t){var e=y(t);return e?C(e):{x:0,y:0}}(e)},O=function(t,e,n){void 0===n&&(n=1);var i=e?y(e):null,o=S(t,i),r=o.top,s=o.left,a=o.height,l=o.width,c=x(i,t),u=c.x,p=c.y,d=t.ownerDocument,h=i===d.body||i===d.documentElement?1:n;return{top:r+p*h,left:s+u*h,height:a,width:l}};function I(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}}var _="fit",E="flip",T=function(t,e,n){var i=0;return t+e>n&&(i=n-(t+e)),t<0&&(i=-t),i},D=function(t){var e=t.offset,n=t.size,i=t.anchorSize,a=t.viewPortSize,c=t.anchorAlignPoint,u=t.elementAlignPoint,p=0,d=2*t.margin;if(u!==c&&!(u===o||u===r)&&!(c===o||c===r)){var h=c===l||c===s;e<0&&h?e+(p=n+i+d)+n>a&&(p=0):e>=0&&!h&&(e+n>a&&(p+=-(i+n+d)),e+p<0&&(p=0))}return p},P=function(t){var e=t.anchorRect,n=t.anchorAlign,i=t.elementRect,o=t.elementAlign,r=t.collisions,s=t.viewPort,a=t.margin;void 0===a&&(a={});var l=i.top,c=i.left,u=i.height,p=i.width,d=s.height,h=s.width,f=a.horizontal||0,m=a.vertical||0,g=0,v=0,y=r.horizontal===E,b=r.vertical===E;r.vertical===_&&(v+=T(l,u,d)),r.horizontal===_&&(g+=T(c,p,h)),b&&(v+=D({margin:m,offset:l,size:u,anchorSize:e.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:o.vertical})),y&&(g+=D({margin:f,offset:c,size:p,anchorSize:e.width,viewPortSize:h,anchorAlignPoint:n.horizontal,elementAlignPoint:o.horizontal}));var w=y&&0!==g,k=b&&0!==v;return{flipped:w||k,flip:{horizontal:w,vertical:k},offset:{left:g,top:v}}},B=function(t){for(var e=[],n=t.parentNode.firstElementChild;n;)n!==t&&e.push(n),n=n.nextElementSibling;return e},A=function(t,e){for(var n,i,o=w(t),r=e;r&&(n=B(r),!(i=o.reduce((function(t,e){return t.concat(n.filter((function(t){return t===e})))}),[])[0]));)r=r.parentElement;return i}},function(t,e,n){"use strict";n.r(e),n.d(e,"AlignService",(function(){return C})),n.d(e,"AnimationService",(function(){return _})),n.d(e,"DOMService",(function(){return w})),n.d(e,"PositionService",(function(){return S})),n.d(e,"ResizeService",(function(){return x})),n.d(e,"ScrollableService",(function(){return O})),n.d(e,"PopupService",(function(){return P})),n.d(e,"POPUP_CONTAINER",(function(){return D})),n.d(e,"PopupComponent",(function(){return T})),n.d(e,"PopupModule",(function(){return A})),n.d(e,"SCALE",(function(){return k}));var i=n(0),o=n(12),r=n(1),s=n(5),a=n(4),l=n(14),c=n(10),u=function(t,e){return t||{height:0,left:e.left,top:e.top,width:0}},p=function(){return"undefined"!=typeof window},d=/auto|scroll/,h=function(t){return function(t){return""+t.style.overflow+t.style.overflowX+t.style.overflowY}(t)||function(t){var e=window.getComputedStyle(t);return""+e.overflow+e.overflowX+e.overflowY}(t)};var f,m,g,v=(f=function(){if(!Object(r.isDocumentAvailable)()&&null!==document.body)return!1;var t=document.createElement("div");t.style.transform="matrix(10, 0, 0, 10, 0, 0)",t.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(t);var e=10!==t.children[0].getBoundingClientRect().top;return document.body.removeChild(t),e},g=!1,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g||(m=f.apply(void 0,t),g=!0),m}),y=function(t,e){return t&&1!==e?{height:t.height/e,left:t.left/e,top:t.top/e,width:t.width/e}:t},b=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],w=function(){function t(){}return t.prototype.addOffset=function(t,e){return{left:t.left+e.left,top:t.top+e.top}},t.prototype.addScroll=function(t,e){return Object(o.a)(t,e)},t.prototype.align=function(t){return Object(o.b)(t)},t.prototype.boundingOffset=function(t){return Object(o.c)(this.nativeElement(t))},t.prototype.getFontStyles=function(t){var e=this.getWindow();if(!e||!t)return[];var n=e.getComputedStyle(this.nativeElement(t));return b.map((function(t){return{key:t,value:n[t]}}))},t.prototype.getWindow=function(){return p()?window:null},t.prototype.hasOffsetParent=function(t){return!!t&&!!this.nativeElement(t).offsetParent},t.prototype.offset=function(t){return t?Object(o.f)(this.nativeElement(t)):null},t.prototype.offsetAtPoint=function(t,e){if(!t)return null;var n=this.nativeElement(t),i=n.style,r=i.left,s=i.top,a=i.transition;n.style.transition="none",n.style.left=e.left+"px",n.style.top=e.top+"px";var l=Object(o.f)(n);return n.style.left=r,n.style.top=s,n.offsetHeight,n.style.transition=a,l},t.prototype.nativeElement=function(t){return t?t.nativeElement||t:null},t.prototype.position=function(t,e,n){return void 0===n&&(n=1),t&&e?Object(o.h)(this.nativeElement(t),this.nativeElement(e),n):null},t.prototype.removeScroll=function(t,e){return Object(o.i)(t,e)},t.prototype.restrictToView=function(t){return Object(o.j)(t)},t.prototype.scrollPosition=function(t){return Object(o.k)(this.nativeElement(t))},t.prototype.scrollableParents=function(t){return function(t){var e=[];if(!Object(r.isDocumentAvailable)()||!p())return e;for(var n=t.parentElement;n;)(d.test(h(n))||n.hasAttribute("data-scrollable"))&&e.push(n),n=n.parentElement;return e.push(window),e}(this.nativeElement(t))},t.prototype.stackingElementOffset=function(t){var e=this.getRelativeContextElement(t);return e?Object(o.f)(e):null},t.prototype.stackingElementScroll=function(t){var e=this.getRelativeContextElement(t);return e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0}},t.prototype.getRelativeContextElement=function(t){if(!t||!v())return null;for(var e=this.nativeElement(t).parentElement;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}return null},t.prototype.useRelativePosition=function(t){return!!this.getRelativeContextElement(t)},t.prototype.windowViewPort=function(t){return Object(o.e)(this.nativeElement(t))},t.prototype.zIndex=function(t,e){return function(t,e){if(!t||!Object(r.isDocumentAvailable)()||!p())return null;var n=Object(o.l)(t,e);if(!n)return null;var i=[t].concat(Object(o.g)(t,n)).reduce((function(t,e){var n=e.style.zIndex||window.getComputedStyle(e).zIndex,i=parseInt(n,10);return i>t?i:t}),0);return i?i+1:null}(this.nativeElement(t),this.nativeElement(e))},t.prototype.zoomLevel=function(){return Object(r.isDocumentAvailable)()&&p()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1},t.prototype.isZoomed=function(){return this.zoomLevel()>1},t.decorators=[{type:i.Injectable}],t}(),k=new i.InjectionToken("Popup Document Scale"),C=function(){function t(t,e){void 0===e&&(e=1),this._dom=t,this.scale=e}return t.prototype.alignElement=function(t){var e=t.anchor,n=t.element,i=t.anchorAlign,o=t.elementAlign,r=t.margin,s=t.offset,a=t.positionMode,l=this.scale||1,c="fixed"===a||!this._dom.hasOffsetParent(n)?this.absoluteRect(e,n,s,l):this.relativeRect(e,n,s,l),u=y(this._dom.offset(n),l);return this._dom.align({anchorAlign:i,anchorRect:c,elementAlign:o,elementRect:u,margin:r})},t.prototype.absoluteRect=function(t,e,n,i){var o=this.elementScrollPosition(t,e),r=u(this._dom.offset(t),n),s=2*i,a=this._dom.stackingElementScroll(e);1!==i&&a&&(a.x/=s,a.y/=s);var l=this._dom.stackingElementOffset(e);return 1!==i&&l&&(l.left/=s,l.top/=s),this._dom.removeScroll(this._dom.addScroll(function(t,e){return e?{height:t.height,left:t.left-e.left,top:t.top-e.top,width:t.width}:t}(y(r,i),l),a),o)},t.prototype.elementScrollPosition=function(t,e){return t?{x:0,y:0}:this._dom.scrollPosition(e)},t.prototype.relativeRect=function(t,e,n,i){var o=u(this._dom.position(t,e,i),n);return y(o,i)},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:w},{type:Number,decorators:[{type:i.Inject,args:[k]},{type:i.Optional}]}]},t}(),S=function(){function t(t,e){void 0===e&&(e=1),this._dom=t,this.scale=e}return t.prototype.positionElement=function(t){var e=t.anchor,n=t.currentLocation,i=t.element,o=t.anchorAlign,r=t.elementAlign,s=t.collisions,a=t.margin,l=this._dom,c=this.scale||1,p=l.offsetAtPoint(i,n),d=y(p,c),h=y(l.offset(e),c),f=u(h,n),m=t.viewPort||l.windowViewPort(i);m.width=m.width/c,m.height=m.height/c;var g=l.restrictToView({anchorAlign:o,anchorRect:f,collisions:s,elementAlign:r,elementRect:d,margin:a,viewPort:m}),v=l.addOffset(n,g.offset);return{flip:g.flip,flipped:g.flipped,offset:v}},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:w},{type:Number,decorators:[{type:i.Inject,args:[k]},{type:i.Optional}]}]},t}(),x=function(){function t(t,e){this._dom=t,this._zone=e}return t.prototype.subscribe=function(t){var e=this;Object(r.isDocumentAvailable)()&&this._zone.runOutsideAngular((function(){e.subscription=Object(s.fromEvent)(e._dom.getWindow(),"resize").pipe(Object(a.auditTime)(1e3/60)).subscribe((function(){return t()}))}))},t.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.isUnsubscribed=function(){return this.subscription&&this.subscription.closed},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:w},{type:i.NgZone}]},t}(),O=function(){function t(t,e){this._dom=t,this._zone=e}return t.prototype.forElement=function(t){return this.unsubscribe(),this.element=t,this},t.prototype.subscribe=function(t){var e=this;if(t&&Object(r.isDocumentAvailable)()&&this.element){var n=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular((function(){var o=i.map((function(t){return Object(s.fromEvent)(t,"scroll").pipe(Object(a.auditTime)(1e3/60))}));e.subscription=s.merge.apply(void 0,o).subscribe((function(o){var r=o.target,s=i.filter((function(t){return t===r})).length>0,a=r===document,l=r===window;(s||a||l)&&t(e.isVisible(n,r))}))}))}},t.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.isVisible=function(t,e){var n=this._dom.boundingOffset(t),i=this._dom.boundingOffset(e);return!(1<i.top-n.bottom)&&(!(1<n.top-i.bottom)&&(!(1<n.left-i.right)&&!(1<i.left-n.right)))},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:w},{type:i.NgZone}]},t}(),I={expand:function(t){var e="up"===t||"down"===t?"scaleY":"scaleX";return{start:{transform:e+"(0)",transformOrigin:"down"===t?"top":"left"===t?"right":"right"===t?"left":"bottom"},end:{transform:e+"(1)"}}},slide:function(t){var e="left"===t||"right"===t?"translateX":"translateY";return{start:{transform:e+"("+("right"===t||"down"===t?-100:100)+"%)"},end:{transform:e+"(0%)"}}},fade:function(){return{start:{opacity:0},end:{opacity:1}}},zoom:function(){return{start:{transform:"scale(0)"},end:{transform:"scale(1)"}}}},_=function(){function t(t){this.animationBuilder=t,this.start=new i.EventEmitter,this.end=new i.EventEmitter}return t.prototype.play=function(t,e,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;var o=e.type||"slide",r=I[o];if(r){var s=r(this.getDirection(n,e));this.playStates(t,s,e)}else if(Object(i.isDevMode)())throw new Error('Unsupported animation type: "'+o+'". The supported types are slide, expand, fade and zoom.')}},t.prototype.ngOnDestroy=function(){this.stopPlayer()},t.prototype.playStates=function(t,e,n){var i=this;this.stopPlayer();var o=n.duration||100,r=this.animationBuilder.build([Object(l.style)(e.start),Object(l.animate)(o+"ms ease-in",Object(l.style)(e.end))]),s=this.player=r.create(t);s.onDone((function(){i.end.emit(),i.stopPlayer()})),this.start.emit(),s.play()},t.prototype.getDirection=function(t,e){var n=e.direction||"down";return t.horizontal&&("left"===n?n="right":"right"===n&&(n="left")),t.vertical&&("down"===n?n="up":"up"===n&&(n="down")),n},t.prototype.stopPlayer=function(){this.player&&(this.player.destroy(),this.player=null)},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:l.AnimationBuilder}]},t}(),E={left:-1e4,top:0},T=function(){function t(t,e,n,o,r,s,a,l,c){this.container=t,this._alignService=e,this.domService=n,this._positionService=o,this._resizeService=r,this._scrollableService=s,this.animationService=a,this._renderer=l,this._zone=c,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=E,this.anchorViewportLeave=new i.EventEmitter,this.close=new i.EventEmitter,this.open=new i.EventEmitter,this.positionChange=new i.EventEmitter,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}return t.prototype.ngOnInit=function(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=E,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()},t.prototype.ngOnChanges=function(t){t.copyAnchorStyles&&this.copyFontStyles(),t.positionMode&&this.updateFixedClass()},t.prototype.ngAfterViewInit=function(){var t=this;this.reposition(),this.animate||this.resolvedPromise.then((function(){t.onAnimationEnd()}))},t.prototype.ngAfterViewChecked=function(){var t=this;this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular((function(){t.unsubscribeReposition(),t.repositionSubscription=Object(s.from)(t.resolvedPromise).subscribe(t.reposition)}))},t.prototype.ngOnDestroy=function(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()},t.prototype.onResize=function(){this.reposition()},t.prototype.onAnimationStart=function(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")},t.prototype.onAnimationEnd=function(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()},Object.defineProperty(t.prototype,"currentOffset",{get:function(){return this._currentOffset},set:function(t){this.setContainerStyle("left",t.left+"px"),this.setContainerStyle("top",t.top+"px"),this._currentOffset=t},enumerable:!0,configurable:!0}),t.prototype.setZIndex=function(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))},t.prototype.reposition=function(){var t=this;if(Object(r.isDocumentAvailable)()){var e,n,i,o,s,a,l=this.position(),c=l.flip,u=l.offset;(!this.currentOffset||(e=this.currentOffset,n=u,i=e.left,o=e.top,s=n.left,a=n.top,Math.abs(i-s)>=1||Math.abs(o-a)>=1))&&(this.currentOffset=u,Object(r.hasObservers)(this.positionChange)&&this._zone.run((function(){return t.positionChange.emit({offset:u,flip:c})}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,c),this.resizeSensor.acceptSize()}},t.prototype.position=function(){var t=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign,margin:this.margin})},t.prototype.onScroll=function(t){var e=this,n=Object(r.hasObservers)(this.anchorViewportLeave);t||!n?this.reposition():n&&this._zone.run((function(){e.anchorViewportLeave.emit()}))},t.prototype.copyFontStyles=function(){var t=this;this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach((function(e){return t.setContainerStyle(e.key,e.value)}))},t.prototype.updateFixedClass=function(){var t="fixed"===this.positionMode?"addClass":"removeClass";this._renderer[t](this.container.nativeElement,"k-animation-container-fixed")},t.prototype.setContainerStyle=function(t,e){this._renderer.setStyle(this.container.nativeElement,t,e)},t.prototype.unsubscribeReposition=function(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()},t.decorators=[{type:i.Component,args:[{exportAs:"kendo-popup",providers:[C,_,w,S,x,O],selector:"kendo-popup",template:'\n        <div class="k-popup" [ngClass]="popupClass" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]="content" [ngIf]="content"></ng-template>\n            <kendo-resize-sensor [rateLimit]="100" (resize)="onResize()">\n            </kendo-resize-sensor>\n        </div>\n     '}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:C},{type:w},{type:S},{type:x},{type:O},{type:_},{type:i.Renderer2},{type:i.NgZone}]},t.propDecorators={animate:[{type:i.Input}],anchor:[{type:i.Input}],anchorAlign:[{type:i.Input}],collision:[{type:i.Input}],popupAlign:[{type:i.Input}],copyAnchorStyles:[{type:i.Input}],popupClass:[{type:i.Input}],positionMode:[{type:i.Input}],offset:[{type:i.Input}],margin:[{type:i.Input}],anchorViewportLeave:[{type:i.Output}],close:[{type:i.Output}],open:[{type:i.Output}],positionChange:[{type:i.Output}],contentContainer:[{type:i.ViewChild,args:["container"]}],resizeSensor:[{type:i.ViewChild,args:[r.ResizeSensorComponent]}]},t}(),D=new i.InjectionToken("Popup Container"),P=function(){function t(t,e,n,i){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n,this.container=i}return Object.defineProperty(t.prototype,"rootViewContainer",{get:function(){var t=this.applicationRef.components||[];if(t[0])return t[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootViewContainerNode",{get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)},enumerable:!0,configurable:!0}),t.prototype.open=function(t){void 0===t&&(t={});var e=this.contentFrom(t.content),n=e.component,i=e.nodes,o=this.appendPopup(i,t.appendTo),r=o.instance;this.projectComponentInputs(o,t),o.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();var s=this.getComponentRootNode(o);return{close:function(){var t;n&&n.destroy(),o.destroy(),(t=s)&&t.parentNode&&t.parentNode.removeChild(t)},content:n,popup:o,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:s,popupOpen:r.open,popupPositionChange:r.positionChange}},t.prototype.appendPopup=function(t,e){var n=this.createComponent(T,t,e);return e||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n},t.prototype.getComponentRootNode=function(t){return t.location.nativeElement},t.prototype.getComponentFactory=function(t){return this.componentFactoryResolver.resolveComponentFactory(t)},t.prototype.createComponent=function(t,e,n){var i=this.getComponentFactory(t);if(n)return n.createComponent(i,void 0,this.injector,e);var o=i.create(this.injector,e);return this.applicationRef.attachView(o.hostView),o},t.prototype.projectComponentInputs=function(t,e){return Object.getOwnPropertyNames(e).filter((function(t){return"content"!==t||e.content instanceof i.TemplateRef})).map((function(n){t.instance[n]=e[n]})),t},t.prototype.contentFrom=function(t){if(!t||t instanceof i.TemplateRef)return{component:null,nodes:[[]]};var e=this.createComponent(t);return{component:e,nodes:[e?[e.location.nativeElement]:[]]}},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:i.ApplicationRef},{type:i.ComponentFactoryResolver},{type:i.Injector},{type:i.ElementRef,decorators:[{type:i.Inject,args:[D]},{type:i.Optional}]}]},t}(),B=[T],A=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[B],entryComponents:[B],exports:[B],imports:[c.CommonModule,r.ResizeSensorModule],providers:[P]}]}],t}()},function(t,e){t.exports=s},function(t,e,n){"use strict";n.r(e),n.d(e,"DIALOG_DIRECTIVES",(function(){return ct})),n.d(e,"DialogContainerDirective",(function(){return it})),n.d(e,"DialogContainerService",(function(){return R})),n.d(e,"CustomMessagesComponent",(function(){return st})),n.d(e,"DIALOG_LOCALIZATION_SERVICE",(function(){return m})),n.d(e,"LocalizedMessagesDirective",(function(){return rt})),n.d(e,"Messages",(function(){return ot})),n.d(e,"TitleBarLocalizationService",(function(){return g})),n.d(e,"SHARED_DIRECTIVES",(function(){return at})),n.d(e,"SharedModule",(function(){return lt})),n.d(e,"DragResizeService",(function(){return H})),n.d(e,"NavigationService",(function(){return K})),n.d(e,"WindowContainerDirective",(function(){return pt})),n.d(e,"WindowContainerService",(function(){return tt})),n.d(e,"ResizeHandleDirective",(function(){return $})),n.d(e,"DialogComponent",(function(){return A})),n.d(e,"DialogTitleBarComponent",(function(){return y})),n.d(e,"DialogContentBase",(function(){return M})),n.d(e,"DialogActionsComponent",(function(){return f})),n.d(e,"DialogService",(function(){return F})),n.d(e,"DialogCloseResult",(function(){return D})),n.d(e,"DialogRef",(function(){return B})),n.d(e,"DialogSettings",(function(){return P})),n.d(e,"DialogAction",(function(){return T})),n.d(e,"WindowComponent",(function(){return U})),n.d(e,"WindowTitleBarComponent",(function(){return W})),n.d(e,"WindowMaximizeActionDirective",(function(){return q})),n.d(e,"WindowMinimizeActionDirective",(function(){return G})),n.d(e,"WindowCloseActionDirective",(function(){return J})),n.d(e,"WindowRestoreActionDirective",(function(){return Z})),n.d(e,"WindowSettings",(function(){return X})),n.d(e,"WindowRef",(function(){return Q})),n.d(e,"WindowCloseResult",(function(){return Y})),n.d(e,"WindowService",(function(){return nt})),n.d(e,"DialogModule",(function(){return ut})),n.d(e,"WindowModule",(function(){return mt})),n.d(e,"DialogsModule",(function(){return gt}));var i,o=n(0),r=n(14),s=n(3),a=n(2),l=n(5),c=n(4),u=n(1),p=n(12),d=n(18),h=n(10),f=function(){function t(t){this.el=t,this.layout="stretched",this.action=new o.EventEmitter,this.buttonGroupClassName=!0}return Object.defineProperty(t.prototype,"className",{get:function(){return"stretched"===this.layout},enumerable:!0,configurable:!0}),t.prototype.actionTemplate=function(){return this.actions instanceof o.TemplateRef},t.prototype.onButtonClick=function(t,e){this.action.emit(t)},t.prototype.buttonClass=function(t){var e=["k-button"];return t.primary&&e.push("k-primary"),e.join(" ")},t.decorators=[{type:o.Component,args:[{selector:"kendo-dialog-actions",template:'\n        <ng-content *ngIf="!actions"></ng-content>\n        <ng-container *ngIf="!actionTemplate()">\n            <button type="button" [ngClass]="buttonClass(action)" (click)="onButtonClick(action, $event)" *ngFor="let action of actions">\n                {{ action.text }}\n            </button>\n        </ng-container>\n        <ng-template [ngTemplateOutlet]="actions" *ngIf="actionTemplate()"></ng-template>\n    '}]}],t.ctorParameters=function(){return[{type:o.ElementRef}]},t.propDecorators={actions:[{type:o.Input}],layout:[{type:o.Input}],action:[{type:o.Output}],buttonGroupClassName:[{type:o.HostBinding,args:["class.k-dialog-buttongroup"]}],className:[{type:o.HostBinding,args:["class.k-dialog-button-layout-stretched"]}]},t}(),m=new o.InjectionToken("Dialog LocalizationService"),g=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i)||this;return r.dialogLocalization=o,r}return Object(a.__extends)(e,t),e.prototype.get=function(e){return this.dialogLocalization?this.dialogLocalization.get(e):t.prototype.get.call(this,e)},e.ctorParameters=function(){return[{type:String,decorators:[{type:o.Inject,args:[s.L10N_PREFIX]}]},{type:s.MessageService,decorators:[{type:o.Optional}]},{type:Boolean,decorators:[{type:o.Optional},{type:o.Inject,args:[s.RTL]}]},{type:s.LocalizationService,decorators:[{type:o.Optional},{type:o.Inject,args:[m]}]}]},e}(s.LocalizationService),v=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}(),y=function(){function t(t,e){this.hostElement=t,this.localizationService=e,this.close=new o.EventEmitter}return Object.defineProperty(t.prototype,"className",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeButtonTitle",{get:function(){return this.closeTitle||this.localizationService.get("closeTitle")},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewChecked=function(){this.hostElement.nativeElement.setAttribute("id",this.id)},t.prototype.onCloseClick=function(t){t.preventDefault();var e=new v;this.close.emit(e)},t.decorators=[{type:o.Component,args:[{selector:"kendo-dialog-titlebar",providers:[g,{provide:s.LocalizationService,useExisting:g},{provide:s.L10N_PREFIX,useValue:"kendo.dialog"}],template:'\n        <ng-container\n            kendoDialogTitleBarLocalizedMessages\n            i18n-closeTitle="kendo.dialog.closeTitle|The title of the close button"\n            closeTitle="Close"\n        >\n            <ng-container>\n                <div class="k-window-title k-dialog-title">\n                    <ng-content></ng-content>\n                </div>\n\n                <div class="k-window-actions k-dialog-actions">\n                    <a\n                        href="#"\n                        role="button"\n                        [attr.title]="closeButtonTitle"\n                        [attr.aria-label]="closeButtonTitle"\n                        class="k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close"\n                        (click)="onCloseClick($event)"\n                    >\n                        <span class="k-icon k-i-x"></span>\n                    </a>\n                </div> </ng-container\n        ></ng-container>\n    '}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:s.LocalizationService,decorators:[{type:o.Optional}]}]},t.propDecorators={close:[{type:o.Output}],id:[{type:o.Input}],closeTitle:[{type:o.Input}],className:[{type:o.HostBinding,args:["class.k-window-titlebar"]},{type:o.HostBinding,args:["class.k-dialog-titlebar"]}]},t}(),b=function(t){return null!=t},w=function(t){return String(t).trim().split(" ")},k=/^(?:a|input|select|textarea|button|object)$/i;!function(t){t[t.esc=27]="esc",t[t.tab=9]="tab",t[t.enter=13]="enter",t[t.space=32]="space",t[t.ctrl=17]="ctrl",t[t.shift=16]="shift",t[t.left=37]="left",t[t.up=38]="up",t[t.right=39]="right",t[t.down=40]="down"}(i||(i={}));var C=function(t,e){var n=w(e);return Boolean(w(t.className).find((function(t){return n.indexOf(t)>=0})))},S=function(t,e){if(void 0===e&&(e=!0),t.tagName){var n=t.tagName.toLowerCase(),i=t.getAttribute("tabIndex"),o=null!==i&&!isNaN(i)&&i>-1;return(k.test(n)?!t.disabled:o)&&(!e||function(t){var e=t.getBoundingClientRect();return!(!e.width||!e.height)&&"hidden"!==window.getComputedStyle(t).visibility}(t))}return!1},x=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(","),O=function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault()},I=["n","e","s","w","se","sw","ne","nw"],_=["top","left","width","height"],E=function(t){return t+(function(t){return"number"==typeof t&&isFinite(t)}(t)?"px":"")},T=function(){},D=function(){},P=function(){},B=function(){},A=function(){function t(t,e,n){var i=this;this._elRef=t,this._renderer=e,this.actionsLayout="stretched",this.titleId=null,this.action=new o.EventEmitter,this.close=new o.EventEmitter,this.tabIndex=0,this.subscriptions=[],this.direction=n.rtl?"rtl":"ltr",this.subscriptions.push(n.changes.subscribe((function(t){var e=t.rtl;return i.direction=e?"rtl":"ltr"}))),this.titleId=this.generateTitleId()}return Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.onComponentKeydown=function(t){var e=t.target,n=e.parentElement;(C(e,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action")||C(n,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action"))&&t.keyCode===i.esc&&this.close.emit(new D),C(e,"k-button")&&C(n,"k-dialog-buttongroup")&&(t.keyCode===i.left||t.keyCode===i.right)&&this.handleActionButtonFocus(n,t.keyCode),t.keyCode===i.tab&&this.keepFocusWithinComponent(e,t)},t.prototype.ngAfterContentInit=function(){this.bubble("close",this.titlebarContent),this.titlebarContent&&(this.titlebarContent.id=this.titleId)},t.prototype.ngAfterViewInit=function(){this.handleInitialFocus(),this.bubble("close",this.titlebarView),this.bubble("action",this.actionsView),(this.titlebarView||this.titlebarContent)&&this._renderer.setAttribute(this._elRef.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)},t.prototype.ngOnInit=function(){this._renderer.removeAttribute(this._elRef.nativeElement,"title")},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions=[]},t.prototype.focus=function(){var t=this._elRef.nativeElement;b(t)&&t.focus()},t.prototype.handleInitialFocus=function(){var t=this._elRef.nativeElement,e=t.querySelector(".k-primary");if(this.autoFocusedElement){var n=t.querySelector(this.autoFocusedElement);n&&n.focus()}else this.shouldFocusPrimary(e)?e.focus():t.focus()},t.prototype.handleActionButtonFocus=function(t,e){for(var n=this.getAllFocusableChildren(t),o=0;o<n.length;o++){if(n[o]===document.activeElement){if(e===i.left&&o>0){n[o-1].focus();break}if(e===i.right&&o<n.length-1){n[o+1].focus();break}}}},t.prototype.keepFocusWithinComponent=function(t,e){var n=this._elRef.nativeElement,i=this.getLastFocusableElement(n),o=t===n&&e.shiftKey,r=!e.shiftKey&&b(i)&&t===i,s=!b(i)&&!e.shiftKey;(o||s)&&(e.preventDefault(),n.focus()),r&&(e.preventDefault(),i.focus())},t.prototype.shouldFocusPrimary=function(t){return b(t)&&S(t)},t.prototype.getAllFocusableChildren=function(t){return t.querySelectorAll(x)},t.prototype.getLastFocusableElement=function(t){var e=this.getAllFocusableChildren(t);return e.length>0?e[e.length-1]:null},t.prototype.generateTitleId=function(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()},Object.defineProperty(t.prototype,"wrapperClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){var t={};return this.width&&(t.width=E(this.width)),this.height&&(t.height=E(this.height)),this.minWidth&&(t.minWidth=E(this.minWidth)),this.maxWidth&&(t.maxWidth=E(this.maxWidth)),this.minHeight&&(t.minHeight=E(this.minHeight)),this.maxHeight&&(t.maxHeight=E(this.maxHeight)),t},enumerable:!0,configurable:!0}),t.prototype.bubble=function(t,e){var n=this;if(e){var i=e[t].subscribe((function(e){return n[t].emit(e)}));this.subscriptions.push(i)}},t.decorators=[{type:o.Component,args:[{animations:[Object(r.trigger)("overlayAppear",[Object(r.state)("in",Object(r.style)({opacity:1})),Object(r.transition)("void => *",[Object(r.style)({opacity:.1}),Object(r.animate)(".3s cubic-bezier(.2, .6, .4, 1)")])]),Object(r.trigger)("dialogSlideInAppear",[Object(r.state)("in",Object(r.style)({transform:"translate(0, 0)"})),Object(r.transition)("void => *",[Object(r.style)({transform:"translate(0, -10%)"}),Object(r.animate)(".3s cubic-bezier(.2, 1, .2, 1)")])])],exportAs:"kendoDialog",providers:[s.LocalizationService,{provide:m,useExisting:s.LocalizationService},{provide:s.L10N_PREFIX,useValue:"kendo.dialog"}],selector:"kendo-dialog",template:'\n        <div class="k-overlay" @overlayAppear></div>\n\n        <div class="k-widget k-window k-dialog" role="dialog" [ngStyle]="styles" @dialogSlideInAppear>\n            <kendo-dialog-titlebar *ngIf="title" [closeTitle]="closeTitle" [id]="titleId">{{ title }}</kendo-dialog-titlebar>\n            <ng-content select="kendo-dialog-titlebar" *ngIf="!title"></ng-content>\n\n            <div class="k-content k-window-content k-dialog-content">\n                <ng-content *ngIf="!contentTemplate"></ng-content>\n                <ng-template [ngTemplateOutlet]="contentTemplate" *ngIf="contentTemplate"></ng-template>\n            </div>\n\n            <ng-content select="kendo-dialog-actions" *ngIf="!actions"></ng-content>\n            <kendo-dialog-actions *ngIf="actions" [actions]="actions" [layout]="actionsLayout"> </kendo-dialog-actions>\n        </div>\n    '}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:s.LocalizationService}]},t.propDecorators={actions:[{type:o.Input}],actionsLayout:[{type:o.Input}],autoFocusedElement:[{type:o.Input}],title:[{type:o.Input}],width:[{type:o.Input}],minWidth:[{type:o.Input}],maxWidth:[{type:o.Input}],height:[{type:o.Input}],minHeight:[{type:o.Input}],maxHeight:[{type:o.Input}],action:[{type:o.Output}],close:[{type:o.Output}],dir:[{type:o.HostBinding,args:["attr.dir"]}],tabIndex:[{type:o.HostBinding,args:["attr.tabIndex"]}],titlebarContent:[{type:o.ContentChild,args:[y]}],titlebarView:[{type:o.ViewChild,args:[y]}],actionsView:[{type:o.ViewChild,args:[f]}],onComponentKeydown:[{type:o.HostListener,args:["keydown",["$event"]]}],wrapperClass:[{type:o.HostBinding,args:["class.k-dialog-wrapper"]}]},t}(),M=function(){function t(t){this.dialog=t}return t.prototype.ngAfterViewInit=function(){var t=this;this.dialogTitleBar&&this.dialogTitleBar.close.pipe(Object(c.filter)((function(t){return!t.isDefaultPrevented()}))).subscribe((function(){t.dialog.close()})),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe((function(e){return t.dialog.dialog.instance.action.emit(e)}))},t.propDecorators={dialogTitleBar:[{type:o.ViewChild,args:[y]}],dialogActions:[{type:o.ViewChild,args:[f]}]},t}(),R=function(){function t(){}return Object.defineProperty(t.prototype,"container",{get:function(){return t.container},set:function(e){t.container=e},enumerable:!0,configurable:!0}),t.container=null,t.decorators=[{type:o.Injectable}],t}(),j=function(t){return(e=t)instanceof String||"string"==typeof e||t instanceof o.TemplateRef;var e},z=function(){function t(t,e){this.getDialogRef=t,this.parentInjector=e}return t.prototype.get=function(t,e){return t===B?this.getDialogRef():this.parentInjector.get(t,e)},t}(),F=function(){function t(t,e){this.resolver=t,this.containerService=e}return t.prototype.open=function(t){var e=this.resolver.resolveComponentFactory(A),n=t.appendTo||this.containerService.container;if(!n)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(t.content,e,n,{close:function(){},content:null,dialog:null,result:null},t)},t.prototype.initializeDialog=function(t,e,n,i,r){var s=this.contentFrom(t,n,i),a=n.createComponent(e,void 0,void 0,s.nodes);i.dialog=a,a.changeDetectorRef.markForCheck(),this.applyOptions(a.instance,r);var u=new l.Subject,p=function(t){t instanceof v&&(t=new D),u.next(t||new D),s.componentRef&&s.componentRef.destroy(),a.destroy()},d=Object(l.merge)(u,Object(l.merge)(a.instance.close,a.instance.action).pipe(Object(c.map)((function(t){return t instanceof v?new D:t})),Object(c.filter)((function(e){if(r.preventAction){var n=j(t)?void 0:i;return!r.preventAction(e,n)}return!0})))).pipe(Object(c.take)(1),Object(c.share)());if(d.subscribe(p),i.close=p,i.result=d,t&&Object(o.isDevMode)()){var h=s.nodes[0]&&s.nodes[0].length>0,f=s.nodes[2]&&s.nodes[2].length>0,m=r.title&&h,g=r.actions&&f;t.prototype instanceof M?(m||g)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'"):(h||f)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'")}return i},t.prototype.applyOptions=function(t,e){t.title=e.title,t.actions=e.actions,t.actionsLayout=e.actionsLayout||"stretched",t.width=e.width,t.minWidth=e.minWidth,t.maxWidth=e.maxWidth,t.height=e.height,t.minHeight=e.minHeight,t.maxHeight=e.maxHeight,t.autoFocusedElement=e.autoFocusedElement,t.closeTitle=e.closeTitle,e.content instanceof o.TemplateRef&&(t.contentTemplate=e.content)},t.prototype.contentFrom=function(t,e,n){var i=e.injector.get(o.Renderer2),r=[],s=[],a=[],l=null;if("string"==typeof t)r=[i.createText(t)];else if(t&&!(t instanceof o.TemplateRef)){var c=new z((function(){return n}),e.injector),u=this.resolver.resolveComponentFactory(t);l=e.createComponent(u,void 0,c),s=Array.from(l.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),r=[l.location.nativeElement],a=Array.from(l.location.nativeElement.querySelectorAll("kendo-dialog-actions")),n.content=l}return{componentRef:l,nodes:[s,r,a]}},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:R,decorators:[{type:o.Inject,args:[R]}]}]},t}(),N=10002,L={draggable:!0,height:null,left:null,minHeight:100,minWidth:120,position:"absolute",resizable:!0,state:"default",top:null,width:null},V=function(t,e){return function(n){return t.kendoDrag.pipe(Object(c.takeUntil)(t.kendoRelease.pipe(Object(c.tap)((function(){e.emit()})))),Object(c.map)((function(t){var e=t.pageX,i=t.pageY;return{originalX:n.pageX,originalY:n.pageY,pageX:e,pageY:i}})))}},H=function(){function t(t){this.ngZone=t,this.close=new o.EventEmitter,this.focus=new o.EventEmitter,this.change=new o.EventEmitter,this.stateChange=new o.EventEmitter,this.dragStart=new o.EventEmitter,this.dragEnd=new o.EventEmitter,this.resizeStart=new o.EventEmitter,this.resizeEnd=new o.EventEmitter,this.options=Object.assign({},L),this.lastAction=null,this.subscriptions=new l.Subscription,this.dragSubscription=new l.Subscription}return t.prototype.ngOnDestroy=function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dragSubscription&&this.dragSubscription.unsubscribe()},t.prototype.init=function(t){var e=this.options.state,n=this.options;this.window=t,"default"!==e&&(this.restoreOptions=Object.assign({},n)),"minimized"===e&&(n.height=0,n.minHeight=0),"maximized"===e&&(n.position="fixed")},t.prototype.onDrag=function(t){var e=this;this.subscriptions.add(this.ngZone.runOutsideAngular((function(){var n,i;e.dragSubscription=t.kendoPress.pipe(Object(c.tap)((function(t){t.isTouch||O(t),e.focus.emit(),n=e.currentPosition(),i=!1})),Object(c.switchMap)(V(t,e.dragEnd))).subscribe((function(t){var o=t.pageX,r=t.pageY,s=t.originalX,a=t.originalY;i||(e.ensureWidth(),e.dragStart.emit(),i=!0),e.handleDrag({originalX:s,originalY:a,pageX:o,pageY:r,startPosition:n})}))})))},t.prototype.handleDrag=function(t){var e=t.originalX,n=t.originalY,i=t.pageX,o=t.pageY,r=t.startPosition;this.options.left=r.x+i-e,this.options.top=r.y+o-n,"minimized"===this.options.state&&b(this.restoreOptions)&&(this.restoreOptions.left=this.options.left,this.restoreOptions.top=this.options.top),this.change.emit({left:r.x+i-e,top:r.y+o-n})},t.prototype.onResize=function(t,e){var n=this;this.subscriptions.add(this.ngZone.runOutsideAngular((function(){var i,o=!1;t.kendoPress.pipe(Object(c.tap)((function(t){O(t),n.focus.emit(),i=n.currentOffsetAndPosition(),o=!1})),Object(c.switchMap)(V(t,n.resizeEnd))).subscribe((function(t){var r=t.pageX,s=t.pageY,a=t.originalX,l=t.originalY;o||(n.resizeStart.emit(e),o=!0);var c=r-a,u=s-l;n.handleResize(i,e,c,u)}))})))},t.prototype.handleResize=function(t,e,n,i){var o=this,r=this.options,s={};e.indexOf("e")>=0&&((c=t.width+n)!==r.width&&c>=r.minWidth&&(s.width=c));if(e.indexOf("n")>=0){var a=t.height-i,l=t.y+i;a!==r.height&&a>=r.minHeight&&l!==r.top&&(s.height=a,s.top=l)}e.indexOf("s")>=0&&((a=t.height+i)!==r.height&&a>=r.minHeight&&(s.height=a));if(e.indexOf("w")>=0){var c,u=t.x+n;(c=t.width-n)!==r.width&&c>=r.minWidth&&u!==r.left&&(s.width=c,s.left=u)}(b(s.width)||b(s.height))&&(_.forEach((function(t){b(s[t])&&(o.options[t]=s[t])})),this.change.emit(s))},t.prototype.restoreAction=function(){this.lastAction="restore",this.defaultState()},t.prototype.defaultState=function(){b(this.restoreOptions)&&(this.options=Object.assign({},this.restoreOptions)),this.options.state="default",this.stateChange.emit("default")},t.prototype.storeOptions=function(){this.restoreOptions=Object.assign({},this.options)},t.prototype.maximizeAction=function(){this.lastAction="maximize",this.maximizeState()},t.prototype.maximizeState=function(){this.storeOptions();var t=this.windowViewPort;this.options=Object.assign({},this.options,{height:t.height,left:0,position:"fixed",state:"maximized",top:0,width:t.width}),this.stateChange.emit("maximized")},t.prototype.minimizeAction=function(){this.lastAction="minimize",this.minimizeState()},t.prototype.minimizeState=function(){this.storeOptions(),this.options=Object.assign({},this.options,{height:null,minHeight:0,state:"minimized"}),this.stateChange.emit("minimized")},t.prototype.applyManualState=function(){switch(this.options.state){case"default":this.clearHeight(),this.defaultState();break;case"maximized":this.clearHeight(),this.maximizeState();break;case"minimized":this.minimizeState()}},t.prototype.closeAction=function(){this.close.emit()},t.prototype.ensureWidth=function(){var t=Object(p.f)(this.window.nativeElement);b(this.options.width)||(this.options.width=t.width,this.change.emit({width:t.width}))},t.prototype.clearHeight=function(){0===this.options.height&&delete this.options.height,0===this.options.minHeight&&delete this.options.minHeight},t.prototype.center=function(){if("maximized"!==this.options.state){var t=Object(p.k)(this.window.nativeElement),e=this.windowViewPort,n=Object(p.f)(this.window.nativeElement),i={};b(this.options.left)||(this.options.left=t.x+Math.max(0,(e.width-n.width)/2),i.left=this.options.left),b(this.options.top)||(this.options.top=t.y+Math.max(0,(e.height-n.height)/2),i.top=this.options.top),this.change.emit(i)}},t.prototype.currentOffsetAndPosition=function(){var t=this.options,e=Object(p.f)(this.window.nativeElement);return Object.assign({},this.currentPosition(),{height:t.height?t.height:e.height,width:t.width?t.width:e.width})},t.prototype.currentPosition=function(){var t=this.options;return t.top&&t.left||this.setPosition(),{x:this.options.left,y:this.options.top}},t.prototype.setPosition=function(){var t=Object(p.h)(this.window.nativeElement,Object(p.d)(this.window.nativeElement));this.options.left=t.left,this.options.top=t.top},t.prototype.setRestoreOption=function(t,e){b(this.restoreOptions)&&(this.restoreOptions[t]=e)},Object.defineProperty(t.prototype,"nextPossibleZIndex",{get:function(){return N},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextZIndex",{get:function(){return N++},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowViewPort",{get:function(){return Object(p.e)(this.window.nativeElement)},enumerable:!0,configurable:!0}),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.NgZone}]},t}(),$=function(){function t(t,e,n,i){this.draggable=t,this.el=e,this.renderer=n,this.service=i,this.subscriptions=new l.Subscription}return Object.defineProperty(t.prototype,"hostClass",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.setDisplay(),this.renderer.addClass(this.el.nativeElement,"k-resize-"+this.direction),this.subscriptions.add(Object(l.of)(this.draggable).subscribe((function(e){t.service.onResize(e,t.direction)}))),this.subscriptions.add(this.service.resizeStart.subscribe((function(e){e!==t.direction&&t.setDisplay("none")}))),this.subscriptions.add(this.service.dragStart.subscribe((function(){t.setDisplay("none")}))),this.subscriptions.add(Object(l.merge)(this.service.resizeEnd,this.service.dragEnd).subscribe((function(){t.setDisplay("block")}))),this.subscriptions.add(this.service.stateChange.subscribe((function(e){t.setDisplay("default"===e?"block":"none")})))},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},t.prototype.setDisplay=function(t){void 0===t&&(t="block"),this.renderer.setStyle(this.el.nativeElement,"display","default"===this.service.options.state?t:"none")},t.decorators=[{type:o.Directive,args:[{selector:"[kendoWindowResizeHandle]"}]}],t.ctorParameters=function(){return[{type:u.DraggableDirective,decorators:[{type:o.Host}]},{type:o.ElementRef},{type:o.Renderer2},{type:H}]},t.propDecorators={direction:[{type:o.Input}],hostClass:[{type:o.HostBinding,args:["class.k-resize-handle"]}]},t}(),W=function(){function t(t,e,n){this.el=t,this.ngZone=n,this.service=e}return t.prototype.ngOnInit=function(){this.dragDirective=new u.DraggableDirective(this.el,this.ngZone),this.dragDirective.ngOnInit(),this.isDraggable&&this.subscribeDrag(),this.subscribeStateChange()},t.prototype.ngOnDestroy=function(){this.dragDirective.ngOnDestroy(),this.unsubscribeDrag(),this.unsubscribeState()},t.prototype.subscribeDrag=function(){var t=this;this.unsubscribeDrag(),this.dragSubscription=Object(l.of)(this.dragDirective).subscribe((function(e){t.service.onDrag(e)}))},t.prototype.subscribeStateChange=function(){var t=this;this.stateSubscription=this.service.stateChange.subscribe((function(e){t.service.options.draggable&&("maximized"===e?t.unsubscribeDrag():t.subscribeDrag())}))},t.prototype.unsubscribeDrag=function(){this.dragSubscription&&(this.service.dragSubscription.unsubscribe(),this.dragSubscription.unsubscribe(),this.dragSubscription=null)},t.prototype.unsubscribeState=function(){this.stateSubscription&&(this.stateSubscription.unsubscribe(),this.stateSubscription=null)},Object.defineProperty(t.prototype,"className",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touchAction",{get:function(){if(this.isDraggable)return"none"},enumerable:!0,configurable:!0}),t.prototype.handle=function(t){var e=t.target,n=this.service.options.state;C(e,"k-icon")||S(e,!1)||!this.service.options.resizable||("default"===n?this.service.maximizeAction():"maximized"===n&&this.service.restoreAction())},Object.defineProperty(t.prototype,"isDraggable",{get:function(){var t=this.service.options;return t.draggable&&"maximized"!==t.state},enumerable:!0,configurable:!0}),t.decorators=[{type:o.Component,args:[{selector:"kendo-window-titlebar",template:'\n    <ng-content *ngIf="!template"></ng-content>\n    <ng-template\n      [ngTemplateOutlet]="template"\n      [ngTemplateOutletContext]="{\'$implicit\': service}" *ngIf="template">\n    </ng-template>\n  '}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:H},{type:o.NgZone}]},t.propDecorators={template:[{type:o.Input}],className:[{type:o.HostBinding,args:["class.k-window-titlebar"]},{type:o.HostBinding,args:["class.k-dialog-titlebar"]}],touchAction:[{type:o.HostBinding,args:["style.touch-action"]}],handle:[{type:o.HostListener,args:["dblclick",["$event"]]}]},t}(),K=function(){function t(t){this.window=t}return t.prototype.process=function(t){var e=t.keyCode;switch(e){case i.up:case i.down:case i.left:case i.right:t.preventDefault(),this.handleArrow(e,t);break;case i.esc:this.handleEscape()}},t.prototype.handleArrow=function(t,e){var n=this.window.options;e.altKey?this.handleStateChange(t,n.state):(e.ctrlKey||e.metaKey)&&"default"===n.state?this.handleResize(t):this.handleDrag(t)},t.prototype.handleEscape=function(){this.window.closeAction()},t.prototype.handleDrag=function(t){var e=this.window.options;if(e.draggable){var n=this.window.currentOffsetAndPosition(),o=this.window.restoreOptions,r={},s=10;switch(t!==i.left&&t!==i.up||(s*=-1),t){case i.left:case i.right:r.left=n.x+s,e.left=r.left;break;case i.up:case i.down:r.top=n.y+s,e.top=r.top}"minimized"===e.state&&b(o)&&(o.left=e.left,o.top=e.top),this.window.change.emit(r)}},t.prototype.handleResize=function(t){var e=this,n=this.window.options;if(n.resizable){var o,r,s=this.window.currentOffsetAndPosition(),a={},l=10;switch(t!==i.left&&t!==i.up||(l*=-1),t){case i.left:case i.right:(o=s.width+l)!==n.width&&o>=n.minWidth&&(a.width=o);break;case i.up:case i.down:(r=s.height+l)!==n.height&&r>=n.minHeight&&(a.height=r)}(b(a.width)||b(a.height))&&(_.forEach((function(t){b(a[t])&&(e.window.options[t]=a[t])})),this.window.change.emit(a))}},t.prototype.handleStateChange=function(t,e){"minimized"===e&&t===i.up||"maximized"===e&&t===i.down?this.window.restoreAction():"default"===e&&(t===i.up?this.window.maximizeAction():t===i.down&&this.window.minimizeAction())},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:H}]},t}(),U=function(){function t(t,e,n,i,r,s){var a=this;this.el=t,this.renderer=e,this.service=n,this.navigation=i,this.ngZone=r,this.localization=s,this.keepContent=!1,this.dragStart=new o.EventEmitter,this.dragEnd=new o.EventEmitter,this.resizeStart=new o.EventEmitter,this.resizeEnd=new o.EventEmitter,this.close=new o.EventEmitter,this.widthChange=new o.EventEmitter,this.heightChange=new o.EventEmitter,this.topChange=new o.EventEmitter,this.leftChange=new o.EventEmitter,this.stateChange=new o.EventEmitter,this.tabIndex=0,this.draged=!1,this.resized=!1,this.windowSubscription=new l.Subscription,this.direction=this.localization.rtl?"rtl":"ltr",this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var e=t.rtl;return a.direction=e?"rtl":"ltr"})),this.resizeDirections=I,this.subscribeEvents()}return Object.defineProperty(t.prototype,"draggable",{get:function(){return this.options.draggable},set:function(t){this.options.draggable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.options.resizable},set:function(t){this.options.resizable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.options.state},set:function(t){this.options.state=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.options.minWidth},set:function(t){this.setOption("minWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.options.minHeight},set:function(t){this.setOption("minHeight",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.options.width},set:function(t){this.setOption("width",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.options.height},set:function(t){this.setOption("height",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.options.top},set:function(t){this.setOption("top",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.options.left},set:function(t){this.setOption("left",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeButtonTitle",{get:function(){return this.messages&&this.messages.closeTitle?this.messages.closeTitle:this.localization.get("closeTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"restoreButtonTitle",{get:function(){return this.messages&&this.messages.restoreTitle?this.messages.restoreTitle:this.localization.get("restoreTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximizeButtonTitle",{get:function(){return this.messages&&this.messages.maximizeTitle?this.messages.maximizeTitle:this.localization.get("maximizeTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimizeButtonTitle",{get:function(){return this.messages&&this.messages.minimizeTitle?this.messages.minimizeTitle:this.localization.get("minimizeTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostClasses",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.setNextZIndex(),this.handleInitialFocus(),this.ngZone.runOutsideAngular((function(){return Promise.resolve(null).then((function(){return t.setInitialOffset()}))}))},t.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.el.nativeElement,"title"),this.service.init(this.el)},t.prototype.ngOnChanges=function(t){var e=this;if(_.forEach((function(n){Object(u.isChanged)(n,t)&&e.setStyle(n,e.options[n])})),Object(u.isChanged)("draggable",t)){var n=b(this.titleBarContent)?this.titleBarContent:this.titleBarView;t.draggable.currentValue?n.subscribeDrag():n.unsubscribeDrag()}Object(u.isChanged)("state",t)&&(b(this.service.lastAction)?this.service.lastAction=null:(this.service.applyManualState(),this.updateAllOffset()))},t.prototype.ngOnDestroy=function(){this.windowSubscription&&this.windowSubscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()},t.prototype.focus=function(){var t=this.el.nativeElement;b(t)&&t.focus()},t.prototype.bringToFront=function(){this.setNextZIndex()},t.prototype.setDimension=function(t,e){this.setOption(t,e),this.setStyle(t,e)},t.prototype.setOffset=function(t,e){this.setOption(t,e),this.setStyle(t,e)},Object.defineProperty(t.prototype,"showDefaultTitleBar",{get:function(){return!b(this.titleBarContent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleMinWidth",{get:function(){return this.minWidth+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleMinHeight",{get:function(){return this.minHeight+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stylePosition",{get:function(){return this.options.position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperMaximizedClass",{get:function(){return"maximized"===this.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperMinimizedClass",{get:function(){return"minimized"===this.state},enumerable:!0,configurable:!0}),t.prototype.onComponentKeydown=function(t){C(t.target,"k-window")&&this.navigation.process(t)},t.prototype.onComponentFocus=function(){this.renderer.addClass(this.el.nativeElement,"k-state-focused"),this.setNextZIndex()},t.prototype.onComponentBlur=function(){this.renderer.removeClass(this.el.nativeElement,"k-state-focused")},t.prototype.subscribeEvents=function(){var t=this;Object(u.isDocumentAvailable)()&&(this.windowSubscription.add(this.service.focus.subscribe((function(){t.el.nativeElement.focus()}))),this.windowSubscription.add(this.service.dragStart.subscribe((function(){t.draged=!0,t.ngZone.run((function(){t.dragStart.emit()}))}))),this.windowSubscription.add(this.service.dragEnd.subscribe((function(){t.draged&&(t.draged=!1,t.ngZone.run((function(){t.dragEnd.emit()})))}))),this.windowSubscription.add(this.service.close.subscribe((function(){t.close.emit()}))),this.windowSubscription.add(this.service.resizeStart.subscribe((function(){t.resized=!0,t.ngZone.run((function(){t.resizeStart.emit()}))}))),this.windowSubscription.add(this.service.resizeEnd.subscribe((function(){t.resized&&(t.resized=!1,t.ngZone.run((function(){t.resizeEnd.emit()})))}))),this.windowSubscription.add(this.service.change.subscribe((function(e){_.forEach((function(n){if(b(e[n])&&(t.setStyle(n,e[n]),"maximized"!==t.state)){var i=t[n+"Change"];i.observers.length&&t.ngZone.run((function(){i.emit(e[n])}))}}))}))),this.windowSubscription.add(this.service.stateChange.subscribe((function(e){b(t.service.lastAction)&&(t.updateAllOffset(),t.stateChange.emit(e))}))))},t.prototype.setNextZIndex=function(){var t=this.el.nativeElement.style["z-index"],e=this.service.nextPossibleZIndex;(!t||e-t>1)&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.service.nextZIndex)},t.prototype.setInitialOffset=function(){if("maximized"!==this.state)this.updateAllOffset(),b(this.left)&&b(this.top)||this.service.center();else{var t=this.service.windowViewPort;this.setStyle("width",t.width),this.setStyle("height",t.height),this.setStyle("top",0),this.setStyle("left",0)}},t.prototype.updateAllOffset=function(){var t=this;_.forEach((function(e){b(t[e])?t.setStyle(e,t[e]):t.removeStyle(e)}))},t.prototype.setStyle=function(t,e){this.renderer.setStyle(this.el.nativeElement,t,e+"px")},t.prototype.removeStyle=function(t){this.renderer.removeStyle(this.el.nativeElement,t)},Object.defineProperty(t.prototype,"options",{get:function(){return this.service.options},enumerable:!0,configurable:!0}),t.prototype.setOption=function(t,e){if("number"==typeof e||"string"==typeof e){var n="number"==typeof e?e:parseInt(e,10);this.options[t]=n,this.service.setRestoreOption(t,n)}},t.prototype.handleInitialFocus=function(){var t=this.el.nativeElement;if(this.autoFocusedElement){var e=t.querySelector(this.autoFocusedElement);e&&e.focus()}else this.focus()},t.decorators=[{type:o.Component,args:[{exportAs:"kendoWindow",providers:[H,K,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.window"}],selector:"kendo-window",template:'\n        <ng-container kendoWindowLocalizedMessages\n            i18n-closeTitle="kendo.window.closeTitle|The title of the close button"\n            closeTitle="Close"\n\n            i18n-restoreTitle="kendo.window.restoreTitle|The title of the restore button"\n            restoreTitle="Restore"\n\n            i18n-maximizeTitle="kendo.window.maximizeTitle|The title of the maximize button"\n            maximizeTitle="Maximize"\n\n            i18n-minimizeTitle="kendo.window.minimizeTitle|The title of the minimize button"\n            minimizeTitle="Minimize"\n        >\n        <ng-container>\n\n        <kendo-window-titlebar *ngIf="showDefaultTitleBar" [template]="titleBarTemplate">\n            <div class="k-window-title">{{ title }}</div>\n            <div class="k-window-actions">\n                <button kendoWindowMinimizeAction  [attr.title]="minimizeButtonTitle" [attr.aria-label]="minimizeButtonTitle"></button>\n                <button kendoWindowMaximizeAction [attr.title]="maximizeButtonTitle" [attr.aria-label]="maximizeButtonTitle"></button>\n                <button kendoWindowRestoreAction [attr.title]="restoreButtonTitle" [attr.aria-label]="restoreButtonTitle"></button>\n                <button kendoWindowCloseAction [attr.title]="closeButtonTitle" [attr.aria-label]="closeButtonTitle"></button>\n            </div>\n        </kendo-window-titlebar>\n        <ng-content select="kendo-window-titlebar" *ngIf="!showDefaultTitleBar"></ng-content>\n\n        <div *ngIf="state !== \'minimized\' || keepContent"\n            [hidden]="state === \'minimized\' && keepContent"\n            class="k-content k-window-content"\n        >\n            <ng-content *ngIf="!contentTemplate"></ng-content>\n            <ng-template [ngTemplateOutlet]="contentTemplate" *ngIf="contentTemplate"></ng-template>\n        </div>\n\n        <ng-template [ngIf]=\'resizable\'>\n            <div *ngFor=\'let dir of resizeDirections\'\n                [direction]="dir"\n                kendoWindowResizeHandle\n                kendoDraggable>\n            </div>\n        </ng-template>\n    '}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:H},{type:K},{type:o.NgZone},{type:s.LocalizationService}]},t.propDecorators={autoFocusedElement:[{type:o.Input}],title:[{type:o.Input}],draggable:[{type:o.Input}],resizable:[{type:o.Input}],keepContent:[{type:o.Input}],state:[{type:o.Input}],minWidth:[{type:o.Input}],minHeight:[{type:o.Input}],width:[{type:o.Input}],height:[{type:o.Input}],top:[{type:o.Input}],left:[{type:o.Input}],dragStart:[{type:o.Output}],dragEnd:[{type:o.Output}],resizeStart:[{type:o.Output}],resizeEnd:[{type:o.Output}],close:[{type:o.Output}],widthChange:[{type:o.Output}],heightChange:[{type:o.Output}],topChange:[{type:o.Output}],leftChange:[{type:o.Output}],stateChange:[{type:o.Output}],tabIndex:[{type:o.HostBinding,args:["attr.tabIndex"]}],hostClasses:[{type:o.HostBinding,args:["class.k-widget"]},{type:o.HostBinding,args:["class.k-window"]}],dir:[{type:o.HostBinding,args:["attr.dir"]}],titleBarView:[{type:o.ViewChild,args:[W]}],titleBarContent:[{type:o.ContentChild,args:[W]}],resizeHandles:[{type:o.ViewChildren,args:[$]}],styleMinWidth:[{type:o.HostBinding,args:["style.minWidth"]}],styleMinHeight:[{type:o.HostBinding,args:["style.minHeight"]}],stylePosition:[{type:o.HostBinding,args:["style.position"]}],wrapperMaximizedClass:[{type:o.HostBinding,args:["class.k-window-maximized"]}],wrapperMinimizedClass:[{type:o.HostBinding,args:["class.k-window-minimized"]}],onComponentKeydown:[{type:o.HostListener,args:["keydown",["$event"]]}],onComponentFocus:[{type:o.HostListener,args:["focus"]}],onComponentBlur:[{type:o.HostListener,args:["blur"]}]},t}(),q=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,null,o,r)||this;return s.buttonType="button",s.window=i,s.look="bare",s.icon="window-maximize",s}return Object(a.__extends)(e,t),e.prototype.onClick=function(){this.isDisabled||this.window.maximizeAction()},Object.defineProperty(e.prototype,"visible",{get:function(){return"default"===this.window.options.state?"inline-flex":"none"},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Directive,args:[{exportAs:"kendoWindowMaximizeAction",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.button"}],selector:"button[kendoWindowMaximizeAction]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:H,decorators:[{type:o.Optional}]},{type:s.LocalizationService},{type:o.NgZone}]},e.propDecorators={window:[{type:o.Input}],buttonType:[{type:o.HostBinding,args:["attr.type"]}],onClick:[{type:o.HostListener,args:["click"]}],visible:[{type:o.HostBinding,args:["style.display"]}]},e}(d.Button),G=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,null,o,r)||this;return s.buttonType="button",s.window=i,s.look="bare",s.icon="window-minimize",s}return Object(a.__extends)(e,t),e.prototype.onClick=function(){this.isDisabled||this.window.minimizeAction()},Object.defineProperty(e.prototype,"visible",{get:function(){return"default"===this.window.options.state?"inline-flex":"none"},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Directive,args:[{exportAs:"kendoWindowMinimizeAction",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.button"}],selector:"button[kendoWindowMinimizeAction]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:H,decorators:[{type:o.Optional}]},{type:s.LocalizationService},{type:o.NgZone}]},e.propDecorators={window:[{type:o.Input}],buttonType:[{type:o.HostBinding,args:["attr.type"]}],onClick:[{type:o.HostListener,args:["click"]}],visible:[{type:o.HostBinding,args:["style.display"]}]},e}(d.Button),J=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,null,o,r)||this;return s.buttonType="button",s.window=i,s.look="bare",s.icon="close",s}return Object(a.__extends)(e,t),e.prototype.onClick=function(){this.isDisabled||this.window.closeAction()},e.decorators=[{type:o.Directive,args:[{exportAs:"kendoWindowCloseAction",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.button"}],selector:"button[kendoWindowCloseAction]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:H,decorators:[{type:o.Optional}]},{type:s.LocalizationService},{type:o.NgZone}]},e.propDecorators={window:[{type:o.Input}],buttonType:[{type:o.HostBinding,args:["attr.type"]}],onClick:[{type:o.HostListener,args:["click"]}]},e}(d.Button),Z=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,null,o,r)||this;return s.buttonType="button",s.window=i,s.look="bare",s.icon="window-restore",s}return Object(a.__extends)(e,t),e.prototype.onClick=function(){this.isDisabled||this.window.restoreAction()},Object.defineProperty(e.prototype,"visible",{get:function(){return"default"===this.window.options.state?"none":"inline-flex"},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Directive,args:[{exportAs:"kendoWindowRestoreAction",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.button"}],selector:"button[kendoWindowRestoreAction]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:H,decorators:[{type:o.Optional}]},{type:s.LocalizationService},{type:o.NgZone}]},e.propDecorators={window:[{type:o.Input}],buttonType:[{type:o.HostBinding,args:["attr.type"]}],onClick:[{type:o.HostListener,args:["click"]}],visible:[{type:o.HostBinding,args:["style.display"]}]},e}(d.Button),X=function(){},Y=function(){},Q=function(){},tt=function(){function t(){}return Object.defineProperty(t.prototype,"container",{get:function(){return t.container},set:function(e){t.container=e},enumerable:!0,configurable:!0}),t.container=null,t.decorators=[{type:o.Injectable}],t}(),et=function(){function t(t,e){this.getWindowRef=t,this.parentInjector=e}return t.prototype.get=function(t,e){return t===Q?this.getWindowRef():this.parentInjector.get(t,e)},t}(),nt=function(){function t(t,e){this.resolver=t,this.containerService=e}return t.prototype.open=function(t){var e=this.resolver.resolveComponentFactory(U),n=t.appendTo||this.containerService.container;if(!n)throw new Error("Cannot attach window to the page.\n                Add an element that uses the kendoWindowContainer directive, or set the 'appendTo' property.\n                See https://www.telerik.com/kendo-angular-ui/components/dialogs/window/service/\n            ");var i={close:function(){},content:null,result:null,window:null},o=this.contentFrom(t.content,n,i),r=n.createComponent(e,void 0,void 0,o.nodes);i.window=r,this.applyOptions(r.instance,t);var s=new l.Subject,a=function(t){s.next(t||new Y),o.componentRef&&o.componentRef.destroy(),r.destroy()},u=Object(l.merge)(s,r.instance.close).pipe(Object(c.take)(1));return u.subscribe(a),i.close=a,i.result=u,r.changeDetectorRef.markForCheck(),i},t.prototype.applyOptions=function(t,e){b(e.title)&&(t.title=e.title),b(e.keepContent)&&(t.keepContent=e.keepContent),b(e.width)&&(t.width=e.width),b(e.minWidth)&&(t.minWidth=e.minWidth),b(e.height)&&(t.height=e.height),b(e.minHeight)&&(t.minHeight=e.minHeight),b(e.left)&&(t.left=e.left),b(e.top)&&(t.top=e.top),b(e.draggable)&&(t.draggable=e.draggable),b(e.resizable)&&(t.resizable=e.resizable),b(e.messages&&e.messages.closeTitle)&&(t.messages.closeTitle=e.messages.closeTitle),b(e.messages&&e.messages.restoreTitle)&&(t.messages.restoreTitle=e.messages.restoreTitle),b(e.messages&&e.messages.maximizeTitle)&&(t.messages.maximizeTitle=e.messages.maximizeTitle),b(e.messages&&e.messages.minimizeTitle)&&(t.messages.minimizeTitle=e.messages.minimizeTitle),b(e.autoFocusedElement)&&(t.autoFocusedElement=e.autoFocusedElement),b(e.state)&&(t.state=e.state,"minimized"===e.state&&(t.keepContent=!0)),e.content instanceof o.TemplateRef&&(t.contentTemplate=e.content),e.titleBarContent instanceof o.TemplateRef&&(t.titleBarTemplate=e.titleBarContent)},t.prototype.contentFrom=function(t,e,n){var i=e.injector.get(o.Renderer2),r=[],s=null;if("string"==typeof t)r=[i.createText(t)];else if(t&&!(t instanceof o.TemplateRef)){var a=new et((function(){return n}),e.injector),l=this.resolver.resolveComponentFactory(t);r=[(s=e.createComponent(l,void 0,a)).location.nativeElement],n.content=s}return{componentRef:s,nodes:[[],r]}},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:tt,decorators:[{type:o.Inject,args:[tt]}]}]},t}(),it=function(){function t(t,e){e.container=t}return t.decorators=[{type:o.Directive,args:[{selector:"[kendoDialogContainer]"}]}],t.ctorParameters=function(){return[{type:o.ViewContainerRef},{type:R}]},t}(),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.propDecorators={closeTitle:[{type:o.Input}],restoreTitle:[{type:o.Input}],maximizeTitle:[{type:o.Input}],minimizeTitle:[{type:o.Input}]},e}(s.ComponentMessages),rt=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(a.__extends)(e,t),e.decorators=[{type:o.Directive,args:[{providers:[{provide:ot,useExisting:Object(o.forwardRef)((function(){return e}))}],selector:"\n    [kendoDialogTitleBarLocalizedMessages],\n    [kendoWindowLocalizedMessages]\n  "}]}],e.ctorParameters=function(){return[{type:s.LocalizationService}]},e}(ot),st=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Component,args:[{providers:[{provide:ot,useExisting:Object(o.forwardRef)((function(){return e}))}],selector:"kendo-dialog-messages, kendo-window-messages",template:""}]}],e.ctorParameters=function(){return[{type:s.LocalizationService}]},e}(ot),at=[f,st,rt],lt=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{declarations:[at],exports:[at,h.CommonModule],imports:[h.CommonModule]}]}],t}(),ct=[A,y],ut=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{declarations:[ct,it],entryComponents:[ct],exports:[ct,at,it],imports:[lt],providers:[R,F]}]}],t}(),pt=function(){function t(t,e){e.container=t}return t.decorators=[{type:o.Directive,args:[{selector:"[kendoWindowContainer]"}]}],t.ctorParameters=function(){return[{type:o.ViewContainerRef},{type:tt}]},t}(),dt=[$,U,W,J,G,q,Z],ht=[U,W],ft=[U,J,G,q,Z,W],mt=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{declarations:[dt,pt],entryComponents:[ht],exports:[ft,at,pt],imports:[lt,u.DraggableModule],providers:[tt,nt]}]}],t}(),gt=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{exports:[ut,mt]}]}],t}()},function(t,e){t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e.outerWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.marginLeft)||0+parseFloat(n.marginRight)||0},e.serializeDOMAttrs=function(t){return Array.from(t.attributes).reduce((function(t,e){var n;return Object.assign({},t,((n={})[e.name]=e.value,n))}),{})},e.removeEntries=function(t,e){return Object.keys(t).filter((function(t){return e(t)})).reduce((function(e,n){var i;return Object.assign(e,((i={})[n]=t[n],i))}),{})},e.removeEmptyEntries=function(t){return e.removeEntries(t,(function(e){return null!==t[e]&&void 0!==t[e]&&""!==t[e]}))},e.isEmpty=function(t){return 0===Object.keys(t).length},e.isNullOrUndefined=function(t){return null==t},e.isPresent=function(t){return!e.isNullOrUndefined(t)},e.detectIE=function(){if(!i.isDocumentAvailable())return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE "),n=t.indexOf("Trident/");return e>0||n>0},e.safeString=function(t){return e.isNullOrUndefined(t)?"":t.toString()},e.first=function(t){return t[0]},e.last=function(t){return t[t.length-1]},e.unique=function(t){return Array.from(new Set(t))},e.split=function(t){return function(e){return e.split(t)}},e.trim=function(t){return t.trim()},e.filter=function(t){return function(e){return e.filter(t)}},e.toArray=function(t){return t instanceof Array?t:[t]},e.getUniqueStyleValues=function(t,n){if(t.hasNodesWithoutMarks)return"";var i=t.marks.filter((function(t){return"style"===t.type.name})).map((function(t){return t.attrs.style})).map(e.safeString).map(e.split(";")).map(e.filter((function(t){return t.includes(n)}))).map((function(t){return 0!==t.length?t:[n+": INVALID"]})).map(e.first).map(e.split(":")).map(e.last).map(e.trim).reduce((function(t,e){return t.indexOf(e)>-1?t:t.concat([e])}),[]);return i.indexOf("INVALID")>-1||1!==i.length?"":i[0]},e.conditionallyExecute=function(t){return function(e){return function(n){return e?t(n):n}}},e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"KendoButtonService",(function(){return p})),n.d(e,"FocusService",(function(){return O})),n.d(e,"FocusableDirective",(function(){return I})),n.d(e,"ButtonItemTemplateDirective",(function(){return S})),n.d(e,"ListButton",(function(){return D})),n.d(e,"ListComponent",(function(){return x})),n.d(e,"ListModule",(function(){return T})),n.d(e,"TemplateContextDirective",(function(){return _})),n.d(e,"NAVIGATION_CONFIG",(function(){return P})),n.d(e,"NavigationService",(function(){return B})),n.d(e,"ButtonDirective",(function(){return d})),n.d(e,"Button",(function(){return d})),n.d(e,"ButtonGroupComponent",(function(){return w})),n.d(e,"ButtonGroup",(function(){return w})),n.d(e,"ButtonGroupModule",(function(){return C})),n.d(e,"ButtonModule",(function(){return k})),n.d(e,"ButtonsModule",(function(){return W})),n.d(e,"SplitButtonComponent",(function(){return M})),n.d(e,"SplitButton",(function(){return M})),n.d(e,"SplitButtonModule",(function(){return R})),n.d(e,"DropDownButtonComponent",(function(){return z})),n.d(e,"DropDownButton",(function(){return z})),n.d(e,"DropDownButtonModule",(function(){return F})),n.d(e,"ChipComponent",(function(){return N})),n.d(e,"ChipListComponent",(function(){return L})),n.d(e,"ChipModule",(function(){return $}));var i=n(0),o=n(5),r=n(1),s=n(3),a=n(4),l=n(10),c=n(13),u=n(2),p=function(){function t(){this.buttonLookChange=new o.BehaviorSubject("default"),this.buttonClicked=new o.Subject,this.buttonClicked$=this.buttonClicked.asObservable()}return t.prototype.click=function(t){this.buttonClicked.next(t)},t.prototype.setButtonLook=function(t){this.buttonLookChange.next(t)},t.decorators=[{type:i.Injectable}],t}(),d=function(){function t(t,e,n,o,r){var s=this;this.service=n,this.ngZone=r,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new i.EventEmitter,this.click=new i.EventEmitter,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=o.rtl?"rtl":"ltr",this.localizationChangeSubscription=o.changes.subscribe((function(t){var e=t.rtl;return s.direction=e?"rtl":"ltr"})),this.element=t.nativeElement,this.renderer=e}return Object.defineProperty(t.prototype,"togglable",{get:function(){return this.toggleable},set:function(t){this.toggleable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected||!1},set:function(t){this._selected=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.element.tabIndex},set:function(t){this.element.tabIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(t){var e=this;t?this.iconSetter(t,(function(){e.isIcon=!0;var n="k-icon k-i-"+t;e.addIcon(n)})):(this.isIcon=!1,this.updateIconNode())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{set:function(t){var e=this;t?this.iconSetter(t,(function(){e.isIconClass=!0,e.addIcon(t)})):(this.isIconClass=!1,this.updateIconNode())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageUrl",{set:function(t){t?this.iconSetter(t,this.addImgIcon.bind(this)):this.removeImageNode()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.isDisabled},set:function(t){this.isDisabled=t,this.renderer.setProperty(this.element,"disabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._focused},set:function(t){this.toggleClass("k-state-focused",t),this._focused=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classButton",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrimary",{get:function(){return this.primary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFlat",{get:function(){return"flat"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBare",{get:function(){return"bare"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOutline",{get:function(){return"outline"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roleSetter",{get:function(){return this.role},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classDisabled",{get:function(){return this.isDisabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classActive",{get:function(){return this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getDirection",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(){this.isFocused=!0},t.prototype.onBlur=function(){this.isFocused=!1},t.prototype.ngOnInit=function(){var t=this,e="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(Object(a.filter)((function(t){return"default"!==t}))).subscribe((function(e){return t.look=e}))),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaPressed(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular((function(){t.domEvents.push(t.renderer.listen(t.element,"click",t._onButtonClick.bind(t))),t.domEvents.push(t.renderer.listen(t.element,"keydown",(function(n){!e||n.keyCode!==r.Keys.Space&&n.keyCode!==r.Keys.Enter||(t.click.emit(n),t._onButtonClick())})))}))},t.prototype.ngOnChanges=function(t){(Object(r.isChanged)("togglable",t)||Object(r.isChanged)("toggleable",t))&&this.toggleAriaPressed(this.toggleable)},t.prototype.ngAfterViewChecked=function(){this.setIconTextClasses()},t.prototype.ngOnDestroy=function(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach((function(t){return t()}))},t.prototype.focus=function(){Object(r.isDocumentAvailable)()&&(this.element.focus(),this.isFocused=!0)},t.prototype.blur=function(){Object(r.isDocumentAvailable)()&&(this.element.blur(),this.isFocused=!1)},t.prototype.setAttribute=function(t,e){this.renderer.setAttribute(this.element,t,e)},t.prototype.removeAttribute=function(t){this.renderer.removeAttribute(this.element,t)},t.prototype.setSelected=function(t){var e=this,n=this.selected!==t;this.selected=t,this.setAttribute("aria-pressed",this.selected.toString()),this.toggleClass("k-state-active",this.selected),n&&Object(r.hasObservers)(this.selectedChange)&&this.ngZone.run((function(){e.selectedChange.emit(t)}))},t.prototype.toggleAriaPressed=function(t){Object(r.isDocumentAvailable)()&&(t?this.setAttribute("aria-pressed",this.selected.toString()):this.removeAttribute("aria-pressed"))},t.prototype.hasText=function(){return!!Object(r.isDocumentAvailable)()&&String(this.element.textContent).trim().length>0},t.prototype.addImgIcon=function(t){var e=this.renderer;this.imageNode?e.setProperty(this.imageNode,"src",t):Object(r.isDocumentAvailable)()&&(this.imageNode=e.createElement("img"),e.setProperty(this.imageNode,"src",t),e.setProperty(this.imageNode,"className","k-image"),e.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))},t.prototype.addIcon=function(t){var e=this.renderer;this.iconNode?e.setProperty(this.iconNode,"className",t):Object(r.isDocumentAvailable)()&&(this.iconNode=e.createElement("span"),e.setProperty(this.iconNode,"className",t),e.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))},t.prototype.prependChild=function(t){var e=this;this.defer((function(){e.renderer&&t!==e.element.firstChild&&e.renderer.insertBefore(e.element,t,e.element.firstChild)}))},t.prototype.defer=function(t){var e=this;this.ngZone.runOutsideAngular((function(){e.deferTimeout=setTimeout(t,0)}))},t.prototype.iconSetter=function(t,e){t&&e(t),this.setIconTextClasses()},t.prototype.removeImageNode=function(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)},t.prototype.removeIconNode=function(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)},t.prototype.updateIconNode=function(){this.isIcon||this.isIconClass||this.removeIconNode()},t.prototype.setIconTextClasses=function(){var t=this.isIcon||this.isIconClass||this.imageNode,e=this.hasText();this.toggleClass("k-button-icon",t&&!e),this.toggleClass("k-button-icontext",t&&e)},t.prototype.toggleClass=function(t,e){e?this.renderer.addClass(this.element,t):this.renderer.removeClass(this.element,t)},t.prototype._onButtonClick=function(){var t=this;!this.disabled&&this.service&&this.ngZone.run((function(){t.service.click(t)})),this.togglable&&!this.service&&this.setSelected(!this.selected)},t.decorators=[{type:i.Directive,args:[{exportAs:"kendoButton",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.button"}],selector:"button[kendoButton], span[kendoButton]"}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:p,decorators:[{type:i.Optional}]},{type:s.LocalizationService},{type:i.NgZone}]},t.propDecorators={toggleable:[{type:i.Input}],togglable:[{type:i.Input}],primary:[{type:i.Input}],look:[{type:i.Input}],selected:[{type:i.Input}],tabIndex:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],imageUrl:[{type:i.Input}],disabled:[{type:i.Input}],role:[{type:i.Input}],selectedChange:[{type:i.Output}],click:[{type:i.Output}],classButton:[{type:i.HostBinding,args:["class.k-button"]}],classPrimary:[{type:i.HostBinding,args:["class.k-primary"]}],isFlat:[{type:i.HostBinding,args:["class.k-flat"]}],isBare:[{type:i.HostBinding,args:["class.k-bare"]}],isOutline:[{type:i.HostBinding,args:["class.k-outline"]}],roleSetter:[{type:i.HostBinding,args:["attr.role"]}],classDisabled:[{type:i.HostBinding,args:["attr.aria-disabled"]},{type:i.HostBinding,args:["class.k-state-disabled"]}],classActive:[{type:i.HostBinding,args:["class.k-state-active"]}],getDirection:[{type:i.HostBinding,args:["attr.dir"]}],onFocus:[{type:i.HostListener,args:["focus"]}],onBlur:[{type:i.HostListener,args:["blur"]}]},t}(),h=Promise.resolve(null),f=function(t){return null!=t},m=function(t){return h.then(t)};function g(t,e){if(t.closest)return t.closest(e);for(var n=Element.prototype.matches?function(t,e){return t.matches(e)}:function(t,e){return t.msMatchesSelector(e)},i=t;i&&9!==i.nodeType;){if(n(i,e))return i;i=i.parentNode}}var v,y,b=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}(),w=function(){function t(t,e,n){var o=this;this.service=t,this.element=n,this.selection="multiple",this.look="default",this.navigate=new i.EventEmitter,this._tabIndex=0,this.currentTabIndex=0,this.localizationChangeSubscription=e.changes.subscribe((function(t){var e=t.rtl;return o.direction=e?"rtl":"ltr"}))}return Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this._tabIndex},set:function(t){this._tabIndex=t,this.currentTabIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stretchedClass",{get:function(){return!!this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFlat",{get:function(){return"flat"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBare",{get:function(){return"bare"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOutline",{get:function(){return"outline"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getRole",{get:function(){return this.isSelectionSingle()?"radiogroup":"group"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperWidth",{get:function(){return this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperTabIndex",{get:function(){return this.disabled?void 0:this.currentTabIndex},enumerable:!0,configurable:!0}),t.prototype.keydown=function(t){this.disabled||this.navigateFocus(t)},t.prototype.onFocus=function(){this.currentTabIndex=-1;var t=this.buttons.toArray().findIndex((function(t){return-1!==t.element.tabIndex})),e=-1===t?0:t;this.focus(this.buttons.filter((function(t,n){return n===e})))},t.prototype.focusout=function(t){t.relatedTarget&&t.relatedTarget.parentNode!==this.element.nativeElement&&(this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex)},t.prototype.ngOnInit=function(){var t=this;this.service.setButtonLook(this.look),this.subscription=this.service.buttonClicked$.subscribe((function(e){var n;t.isSelectionSingle()?(n=!0,t.deactivate(t.buttons.filter((function(t){return t!==e})))):(t.defocus(t.buttons.toArray()),n=!e.selected),e.togglable&&e.setSelected(n),e.setAttribute("tabindex","0")}))},t.prototype.ngOnChanges=function(t){var e=this;Object(r.isChanged)("disabled",t)&&this.buttons.forEach((function(t){f(e.disabled)&&(t.disabled=e.disabled)}))},t.prototype.ngAfterContentInit=function(){this.buttons.forEach((function(t){t.selected?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1")}))},t.prototype.ngAfterViewChecked=function(){this.buttons.length&&(this.buttons.first.renderer.addClass(this.buttons.first.element,"k-group-start"),this.buttons.last.renderer.addClass(this.buttons.last.element,"k-group-end"))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()},t.prototype.ngAfterContentChecked=function(){this.verifySettings()},t.prototype.navigateFocus=function(t){var e=this.buttons.toArray().findIndex((function(t){return-1!==t.element.tabIndex})),n=this.buttons.length-1,i=new b;t.keyCode===r.Keys.ArrowRight&&e<n&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((function(t,n){return n===e+1}))))),t.keyCode===r.Keys.ArrowLeft&&e>0&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((function(t,n){return n===e-1})))))},t.prototype.deactivate=function(t){t.forEach((function(t){t.setSelected(!1),t.setAttribute("tabindex","-1")}))},t.prototype.activate=function(t){t.forEach((function(t){t.setSelected(!0),t.setAttribute("tabindex","0"),t.focus()}))},t.prototype.defocus=function(t){t.forEach((function(t){t.setAttribute("tabindex","-1")}))},t.prototype.focus=function(t){t.forEach((function(t){t.setAttribute("tabindex","0"),t.focus()}))},t.prototype.verifySettings=function(){if(Object(i.isDevMode)()&&this.isSelectionSingle()&&this.buttons.filter((function(t){return t.selected})).length>1)throw new Error("Having multiple selected buttons with single selection mode is not supported")},t.prototype.isSelectionSingle=function(){return"single"===this.selection},t.decorators=[{type:i.Component,args:[{exportAs:"kendoButtonGroup",providers:[p,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.buttongroup"}],selector:"kendo-buttongroup",template:'\n        <ng-content select="[kendoButton]"></ng-content>\n    '}]}],t.ctorParameters=function(){return[{type:p},{type:s.LocalizationService},{type:i.ElementRef}]},t.propDecorators={disabled:[{type:i.Input,args:["disabled"]}],selection:[{type:i.Input,args:["selection"]}],width:[{type:i.Input,args:["width"]}],look:[{type:i.Input}],tabIndex:[{type:i.Input}],navigate:[{type:i.Output}],buttons:[{type:i.ContentChildren,args:[d]}],wrapperClass:[{type:i.HostBinding,args:["class.k-button-group"]}],disabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}],stretchedClass:[{type:i.HostBinding,args:["class.k-button-group-stretched"]}],isFlat:[{type:i.HostBinding,args:["class.k-button-group-flat"]}],isBare:[{type:i.HostBinding,args:["class.k-button-group-bare"]}],isOutline:[{type:i.HostBinding,args:["class.k-button-group-outline"]}],getRole:[{type:i.HostBinding,args:["attr.role"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}],ariaDisabled:[{type:i.HostBinding,args:["attr.aria-disalbed"]}],wrapperWidth:[{type:i.HostBinding,args:["style.width"]}],wrapperTabIndex:[{type:i.HostBinding,args:["attr.tabindex"]}],keydown:[{type:i.HostListener,args:["keydown",["$event"]]}],onFocus:[{type:i.HostListener,args:["focus"]}],focusout:[{type:i.HostListener,args:["focusout",["$event"]]}]},t}(),k=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[d],exports:[d]}]}],t}(),C=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[w],exports:[w],imports:[l.CommonModule,k]}]}],t}(),S=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownButtonItemTemplate],[kendoSplitButtonItemTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),x=function(){function t(){this.onItemClick=new i.EventEmitter,this.onItemBlur=new i.EventEmitter}return t.prototype.getText=function(t){if(t)return this.textField?t[this.textField]:t.text||t},t.prototype.getIconClasses=function(t){var e={};return e[(t.icon?"k-icon k-i-"+t.icon:void 0)||t.iconClass]=!0,e},t.prototype.onClick=function(t){this.onItemClick.emit(t)},t.prototype.onBlur=function(){this.onItemBlur.emit()},t.decorators=[{type:i.Component,args:[{selector:"kendo-button-list",template:'\n        <ul class="k-list k-reset" unselectable="on">\n            <li role="menuitem" unselectable="on" tabindex="-1"\n                kendoButtonFocusable\n                *ngFor="let dataItem of data; let index = index;"\n                [index]="index"\n                [ngClass]="{\'k-item\': true, \'k-state-disabled\': dataItem.disabled}"\n                (click)="onClick(index)"\n                (blur)="onBlur()"\n                [attr.aria-disabled]="dataItem.disabled ? true : false">\n                <ng-template *ngIf="itemTemplate?.templateRef"\n                    [templateContext]="{\n                        templateRef: itemTemplate?.templateRef,\n                        $implicit: dataItem\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!itemTemplate?.templateRef">\n                    <span\n                        *ngIf="dataItem.icon || dataItem.iconClass"\n                        [ngClass]="getIconClasses(dataItem)"\n                    ></span>\n                    <img\n                        *ngIf="dataItem.imageUrl"\n                        class="k-image"\n                        [src]="dataItem.imageUrl"\n                        alt=""\n                    >\n                    {{ getText(dataItem) }}\n                </ng-template>\n            </li>\n        </ul>\n      '}]}],t.propDecorators={data:[{type:i.Input}],textField:[{type:i.Input}],itemTemplate:[{type:i.Input}],onItemClick:[{type:i.Output}],onItemBlur:[{type:i.Output}]},t}(),O=function(){function t(){this.onFocus=new i.EventEmitter}return t.prototype.isFocused=function(t){return t===this.focused},t.prototype.focus=function(t){this.isFocused(t)||(this.focused=t,this.onFocus.emit(t))},t.prototype.resetFocus=function(){this.focused=-1},Object.defineProperty(t.prototype,"focused",{get:function(){return this.focusedIndex},set:function(t){this.focusedIndex=t,this.onFocus.emit(t)},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Injectable}],t}(),I=function(){function t(t,e){this.focusService=t,this.element=e.nativeElement,this.subscribeEvents()}return Object.defineProperty(t.prototype,"focusedClassName",{get:function(){return this.focusService.isFocused(this.index)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.unsubscribeEvents()},t.prototype.subscribeEvents=function(){var t=this;Object(r.isDocumentAvailable)()&&(this.focusSubscription=this.focusService.onFocus.subscribe((function(e){t.index===e&&t.element.focus()})))},t.prototype.unsubscribeEvents=function(){Object(r.isDocumentAvailable)()&&this.focusSubscription&&this.focusSubscription.unsubscribe()},t.decorators=[{type:i.Directive,args:[{selector:"[kendoButtonFocusable]"}]}],t.ctorParameters=function(){return[{type:O},{type:i.ElementRef}]},t.propDecorators={index:[{type:i.Input}],focusedClassName:[{type:i.HostBinding,args:["class.k-state-focused"]}]},t}(),_=function(){function t(t){this.viewContainerRef=t}return Object.defineProperty(t.prototype,"templateContext",{set:function(t){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),t.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(t.templateRef,t))},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Directive,args:[{selector:"[templateContext]"}]}],t.ctorParameters=function(){return[{type:i.ViewContainerRef}]},t.propDecorators={templateContext:[{type:i.Input}]},t}(),E=[x,I,S,_],T=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[E],exports:[E],imports:[l.CommonModule]}]}],t}();!function(t){t[t.keydown=0]="keydown",t[t.keypress=1]="keypress",t[t.keyup=2]="keyup"}(v||(v={})),function(t){t[t.Undefined=0]="Undefined",t[t.Open=1]="Open",t[t.Close=2]="Close",t[t.Enter=3]="Enter",t[t.EnterPress=4]="EnterPress",t[t.EnterUp=5]="EnterUp",t[t.Tab=6]="Tab",t[t.Esc=7]="Esc",t[t.Navigate=8]="Navigate"}(y||(y={}));var D=function(){function t(t,e,n,i,o,s){var a=this;this.focusService=t,this.navigationService=e,this.wrapperRef=n,this._zone=i,this.cdr=s,this._open=!1,this._disabled=!1,this._active=!1,this._popupSettings={animate:!0,popupClass:""},this.listId=Object(r.guid)(),this._isFocused=!1,this.focusService=t,this.navigationService=e,this.wrapper=n.nativeElement,this.localizationChangeSubscription=o.changes.subscribe((function(t){var e=t.rtl;return a.direction=e?"rtl":"ltr"})),this.subscribeEvents()}return Object.defineProperty(t.prototype,"popupClasses",{get:function(){var t=["k-list-container","k-reset","k-group"];return this._popupSettings.popupClass&&t.push(this._popupSettings.popupClass),t.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openState",{get:function(){return this._open},set:function(t){this._open=t},enumerable:!0,configurable:!0}),t.prototype.togglePopupVisibility=function(){this._disabled||(this.openState=!this.openState,this.openState||this.focusService.focus(-1))},t.prototype.onItemClick=function(t){var e=this;this.emitItemClickHandler(t),setTimeout((function(){return e.focusWrapper()}),1)},t.prototype.ngOnDestroy=function(){this.openState=!1,this.unsubscribeEvents(),clearTimeout(this.focusFirstTimeout),clearTimeout(this.blurTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){Object(r.isDocumentAvailable)()&&(this.subscribeListItemFocusEvent(),this.subscribeComponentBlurredEvent(),this.subscribeNavigationEvents())},t.prototype.subscribeListItemFocusEvent=function(){var t=this;this.focusSubscription=this.focusService.onFocus.subscribe((function(){t._isFocused=!0}))},t.prototype.subscribeComponentBlurredEvent=function(){var t=this;this._zone.runOutsideAngular((function(){t.tabSubscription=t.navigationService.tab.pipe(Object(a.filter)((function(){return t._isFocused}))).subscribe(t.handleTab.bind(t)),t.componentBlurredSubscription=Object(o.fromEvent)(document,"click").pipe(Object(a.filter)((function(e){return!t.wrapperContains(e.target)})),Object(a.filter)((function(){return t._isFocused}))).subscribe((function(){return t._zone.run((function(){return t.blurWrapper()}))}))}))},t.prototype.subscribeNavigationEvents=function(){var t=this;this.navigationSubscription=this.navigationService.navigate.subscribe(this.focusService.focus.bind(this.focusService)),this.enterPressSubscription=this.navigationService.enterpress.subscribe((function(){t._disabled||t._open||(t._active=!0)})),this.enterUpSubscription=this.navigationService.enterup.subscribe((function(){t._open||(t._active=!1),t.enterHandler(),t.focusWrapper()})),this.openSubscription=this.navigationService.open.subscribe((function(){t._open?t.focusWrapper():(t.togglePopupVisibility(),t.focusFirstItem())})),this.closeSubscription=Object(o.merge)(this.navigationService.close,this.navigationService.esc).subscribe((function(){return t.focusWrapper()}))},t.prototype.enterHandler=function(){},t.prototype.unsubscribeEvents=function(){Object(r.isDocumentAvailable)()&&(this.unsubscribe(this.componentBlurredSubscription),this.unsubscribe(this.focusSubscription),this.unsubscribe(this.navigationSubscription),this.unsubscribe(this.enterPressSubscription),this.unsubscribe(this.enterUpSubscription),this.unsubscribe(this.openSubscription),this.unsubscribe(this.closeSubscription),this.unsubscribe(this.tabSubscription))},t.prototype.unsubscribe=function(t){t&&t.unsubscribe()},t.prototype.keyDownHandler=function(t){this.keyHandler(t)},t.prototype.keyPressHandler=function(t){this.keyHandler(t,v.keypress)},t.prototype.keyUpHandler=function(t){this.keyHandler(t,v.keyup)},t.prototype.keyHandler=function(t,e){if(!this._disabled){var n=this.focusService.focused||0,i=t,o=this.navigationService.process({altKey:i.altKey,current:n,keyCode:i.keyCode,keyEvent:e,max:this._data?this._data.length-1:0,min:0});o!==y.Undefined&&o!==y.Tab&&(o!==y.Enter||o===y.Enter&&this._open)&&i.preventDefault()}},t.prototype.emitItemClickHandler=function(t){var e=this._data[t];this._itemClick&&this._itemClick.emit(e),e&&e.click&&!e.disabled&&e.click(e)},t.prototype.focusFirstItem=function(){var t=this;this._data&&f(this._data[0])&&(this.focusFirstTimeout=setTimeout((function(){return t.focusService.focus(0)}),1))},t.prototype.focusWrapper=function(){this._open&&(this.togglePopupVisibility(),this.focusButton())},t.prototype.wrapperContains=function(t){return this.wrapper===t||this.wrapper.contains(t)},t.prototype.blurWrapper=function(t){void 0===t&&(t=!0),this._open&&this.togglePopupVisibility(),this._isFocused=!1,t&&(this._blur.emit(),this.cdr.markForCheck())},t.prototype.focusButton=function(){this.button&&this.button.nativeElement.focus()},t.prototype.handleTab=function(){this.focusButton(),this.blurWrapper(!1)},t}(),P=new i.InjectionToken("navigation.config"),B=function(){function t(t){this.navigate=new i.EventEmitter,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.enter=new i.EventEmitter,this.enterpress=new i.EventEmitter,this.enterup=new i.EventEmitter,this.tab=new i.EventEmitter,this.esc=new i.EventEmitter,this.useLeftRightArrows=t.useLeftRightArrows}return t.prototype.process=function(t){var e,n=t.keyCode,i=t.keyEvent,o=y.Undefined;return i===v.keypress?this.isEnter(n)&&(o=y.EnterPress):i===v.keyup?this.isEnter(n)&&(o=y.EnterUp):t.altKey&&n===r.Keys.ArrowDown?o=y.Open:t.altKey&&n===r.Keys.ArrowUp?o=y.Close:this.isEnter(n)?o=y.Enter:n===r.Keys.Escape?o=y.Esc:n===r.Keys.Tab?o=y.Tab:n===r.Keys.ArrowUp||this.useLeftRightArrows&&n===r.Keys.ArrowLeft?(e=this.next({current:t.current,start:t.max,end:t.min,step:-1}),o=y.Navigate):(n===r.Keys.ArrowDown||this.useLeftRightArrows&&n===r.Keys.ArrowRight)&&(e=this.next({current:t.current,start:t.min,end:t.max,step:1}),o=y.Navigate),o!==y.Undefined&&this[y[o].toLowerCase()].emit(e),o},t.prototype.isEnter=function(t){return t===r.Keys.Enter||t===r.Keys.Space},t.prototype.next=function(t){return f(t.current)?t.current!==t.end?t.current+t.step:t.end:t.start},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[P]}]}]},t}(),A={provide:P,useValue:{useLeftRightArrows:!0}},M=function(t){function e(e,n,o,s,a,l,c,u){var p=t.call(this,e,n,o,s,c,u)||this;return p.popupService=a,p.elRef=l,p.text="",p.icon="",p.iconClass="",p.imageUrl="",p.look="default",p.tabIndex=0,p.arrowButtonIcon="arrow-s",p.buttonClick=new i.EventEmitter,p.itemClick=new i.EventEmitter,p.onFocus=new i.EventEmitter,p.onBlur=new i.EventEmitter,p.open=new i.EventEmitter,p.close=new i.EventEmitter,p.listId=Object(r.guid)(),p.buttonText="",p.lockFocus=!1,p._itemClick=p.itemClick,p._blur=p.onBlur,p}return Object(u.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0,popupClass:""},t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data||(this.data=[]),this._data},set:function(t){this._data=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openState",{get:function(){return this._open},set:function(t){if(!this.disabled){var e=new b;t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()||this._toggle(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTabIndex",{get:function(){return this.disabled?-1:this.tabIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused&&!this._disabled},set:function(t){this._isFocused=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetClasses",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaLabel",{get:function(){return this.buttonText+" splitbutton"},enumerable:!0,configurable:!0}),e.prototype.onButtonFocus=function(){this.isFocused||(this._isFocused=!0,this.onFocus.emit())},e.prototype.onArrowButtonClick=function(){this.lockFocus=!0,this.togglePopupVisibility()},e.prototype.onButtonClick=function(){this.lockFocus=!0,this.buttonClick.emit()},e.prototype.onButtonBlur=function(){this.isOpen||this.lockFocus||this.blurWrapper(),this.lockFocus=!1},e.prototype.keydown=function(t){this.keyDownHandler(t)},e.prototype.keypress=function(t){this.keyPressHandler(t)},e.prototype.keyup=function(t){this.keyUpHandler(t)},e.prototype.ngAfterViewInit=function(){this.updateButtonText()},e.prototype.ngOnChanges=function(t){t.hasOwnProperty("text")&&this.updateButtonText()},e.prototype.togglePopupVisibility=function(){t.prototype.togglePopupVisibility.call(this),Object(r.isDocumentAvailable)()&&this.lockFocus&&this.button.nativeElement.focus()},e.prototype.wrapperContains=function(t){return this.wrapper===t||this.wrapper.contains(t)||this.popupRef&&this.popupRef.popupElement.contains(t)},Object.defineProperty(e.prototype,"anchorAlign",{get:function(){var t={horizontal:this.popupSettings.align||"left",vertical:"bottom"};return"rtl"!==this.direction||f(this.popupSettings.align)||(t.horizontal="right"),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupAlign",{get:function(){var t={horizontal:this.popupSettings.align||"left",vertical:"top"};return"rtl"!==this.direction||f(this.popupSettings.align)||(t.horizontal="right"),t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){Object(r.isDocumentAvailable)()&&this.button.nativeElement.focus()},e.prototype.blur=function(){Object(r.isDocumentAvailable)()&&(this.button.nativeElement.blur(),this.blurWrapper())},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.destroyPopup()},e.prototype.toggle=function(t){var e=this;this.disabled||m((function(){return e._toggle(void 0===t?!e._open:t)}))},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.openState},enumerable:!0,configurable:!0}),e.prototype.enterHandler=function(){if(!this.disabled)if(this.openState){var t=this.focusService.focused;f(t)&&-1!==t&&this.emitItemClickHandler(t)}else this.buttonClick.emit()},e.prototype.updateButtonText=function(){var t=this;if(Object(r.isDocumentAvailable)()){var e=this.wrapper.innerText.split("\n").join("").trim();setTimeout((function(){return t.buttonText=e}),0)}},Object.defineProperty(e.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.containerRef:t},enumerable:!0,configurable:!0}),e.prototype._toggle=function(t){this._open=t,this.destroyPopup(),this._open&&this.createPopup()},e.prototype.createPopup=function(){var t=this;this.popupRef=this.popupService.open({anchor:this.elRef,anchorAlign:this.anchorAlign,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:this.popupAlign,popupClass:this.popupClasses}),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.openState=!1})),this.popupRef.popupOpen.subscribe(this.focusFirstItem.bind(this))},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)},e.decorators=[{type:i.Component,args:[{exportAs:"kendoSplitButton",providers:[O,B,A,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.splitbutton"}],selector:"kendo-splitbutton",template:'\n        <button\n            kendoButton\n            #button\n            role="listbox"\n            type="button"\n            [look]="look"\n            [tabindex]="componentTabIndex"\n            [disabled]="disabled"\n            [icon]="icon"\n            [class.k-state-active]="active"\n            [iconClass]="iconClass"\n            [imageUrl]="imageUrl"\n            [ngClass]="buttonClass"\n            (focus)="onButtonFocus()"\n            (click)="onButtonClick()"\n            (blur)="onButtonBlur()"\n            [attr.aria-disabled]="disabled"\n            [attr.aria-expanded]="openState"\n            [attr.aria-haspopup]="true"\n            [attr.aria-owns]="listId"\n            [attr.aria-label]="ariaLabel"\n        >\n            {{ text }}<ng-content></ng-content>\n        </button>\n        <button\n            kendoButton\n            #arrowButton\n            type="button"\n            [disabled]="disabled"\n            [icon]="arrowButtonIcon"\n            [look]="look"\n            [tabindex]="-1"\n            [ngClass]="arrowButtonClass"\n            (click)="onArrowButtonClick()"\n        ></button>\n        <ng-template #popupTemplate>\n            <kendo-button-list\n                [id]="listId"\n                [data]="data"\n                [textField]="textField"\n                [itemTemplate]="itemTemplate"\n                (onItemClick)="onItemClick($event)"\n                (keydown)="keyDownHandler($event)"\n                (keypress)="keyPressHandler($event)"\n                (keyup)="keyUpHandler($event)"\n            >\n            </kendo-button-list>\n        </ng-template>\n        <ng-container #container></ng-container>\n    '}]}],e.ctorParameters=function(){return[{type:O},{type:B},{type:i.ElementRef},{type:i.NgZone},{type:c.PopupService},{type:i.ElementRef},{type:s.LocalizationService},{type:i.ChangeDetectorRef}]},e.propDecorators={text:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],imageUrl:[{type:i.Input}],look:[{type:i.Input}],disabled:[{type:i.Input}],popupSettings:[{type:i.Input}],tabIndex:[{type:i.Input}],textField:[{type:i.Input}],data:[{type:i.Input}],buttonClass:[{type:i.Input}],arrowButtonClass:[{type:i.Input}],arrowButtonIcon:[{type:i.Input}],buttonClick:[{type:i.Output}],itemClick:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],open:[{type:i.Output}],close:[{type:i.Output}],itemTemplate:[{type:i.ContentChild,args:[S]}],button:[{type:i.ViewChild,args:["button",{static:!0}]}],arrowButton:[{type:i.ViewChild,args:["arrowButton",{static:!0,read:i.ElementRef}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],containerRef:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef,static:!0}]}],isFocused:[{type:i.HostBinding,args:["class.k-state-focused"]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-split-button"]},{type:i.HostBinding,args:["class.k-button-group"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}],keydown:[{type:i.HostListener,args:["keydown",["$event"]]}],keypress:[{type:i.HostListener,args:["keypress",["$event"]]}],keyup:[{type:i.HostListener,args:["keyup",["$event"]]}]},e}(D),R=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[M],exports:[M,T],imports:[l.CommonModule,c.PopupModule,k,T]}]}],t}(),j={provide:P,useValue:{useLeftRightArrows:!0}},z=function(t){function e(e,n,o,s,a,l,c,u){var p=t.call(this,e,n,o,s,c,u)||this;return p.popupService=a,p.elRef=l,p.icon="",p.iconClass="",p.imageUrl="",p.primary=!1,p.look="default",p.tabIndex=0,p.itemClick=new i.EventEmitter,p.open=new i.EventEmitter,p.close=new i.EventEmitter,p.onFocus=new i.EventEmitter,p.onBlur=new i.EventEmitter,p.listId=Object(r.guid)(),p._itemClick=p.itemClick,p._blur=p.onBlur,p}return Object(u.__extends)(e,t),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0,popupClass:""},t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t&&this.openState&&(this.openState=!1),this._disabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openState",{get:function(){return this._open},set:function(t){if(!this.disabled){var e=new b;t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()||this._toggle(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTabIndex",{get:function(){return this.disabled?-1:this.tabIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return this._isFocused&&!this._disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetClasses",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),e.prototype.keydown=function(t){this.keyDownHandler(t)},e.prototype.keypress=function(t){this.keyPressHandler(t)},e.prototype.keyup=function(t){this.keyUpHandler(t)},e.prototype.mousedown=function(t){this._disabled&&t.preventDefault()},e.prototype.openPopup=function(){this.togglePopupVisibility()},e.prototype.onButtonBlur=function(){this.isOpen||this.blurWrapper()},Object.defineProperty(e.prototype,"anchorAlign",{get:function(){var t={horizontal:this.popupSettings.align||"left",vertical:"bottom"};return"rtl"!==this.direction||f(this.popupSettings.align)||(t.horizontal="right"),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupAlign",{get:function(){var t={horizontal:this.popupSettings.align||"left",vertical:"top"};return"rtl"!==this.direction||f(this.popupSettings.align)||(t.horizontal="right"),t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){Object(r.isDocumentAvailable)()&&this.button.nativeElement.focus()},e.prototype.blur=function(){Object(r.isDocumentAvailable)()&&(this.button.nativeElement.blur(),this.blurWrapper())},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.destroyPopup()},e.prototype.toggle=function(t){var e=this;this.disabled||m((function(){return e._toggle(void 0===t?!e._open:t)}))},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.openState},enumerable:!0,configurable:!0}),e.prototype.handleFocus=function(){this._disabled||this._isFocused||(this._isFocused=!0,this.onFocus.emit())},e.prototype.wrapperContains=function(t){return this.wrapper===t||this.wrapper.contains(t)||this.popupRef&&this.popupRef.popupElement.contains(t)},e.prototype.subscribeNavigationEvents=function(){this.navigationSubscription=this.navigationService.navigate.subscribe(this.onArrowKeyNavigate.bind(this)),this.enterPressSubscription=this.navigationService.enterpress.subscribe(this.onNavigationEnterPress.bind(this)),this.enterUpSubscription=this.navigationService.enterup.subscribe(this.onNavigationEnterUp.bind(this)),this.openSubscription=this.navigationService.open.subscribe(this.onNavigationOpen.bind(this)),this.closeSubscription=Object(o.merge)(this.navigationService.close,this.navigationService.esc).subscribe(this.onNavigationClose.bind(this))},e.prototype.onNavigationEnterPress=function(){this._disabled||this.openState||(this._active=!0)},e.prototype.onNavigationEnterUp=function(){if(this._disabled||this.openState||(this._active=!1),this.openState){var t=this.focusService.focused;f(t)&&-1!==t&&this.emitItemClickHandler(t)}this.togglePopupVisibility(),!this.openState&&Object(r.isDocumentAvailable)()&&this.button.nativeElement.focus()},e.prototype.onNavigationOpen=function(){this._disabled||this.openState||this.togglePopupVisibility()},e.prototype.onNavigationClose=function(){this.openState&&(this.togglePopupVisibility(),Object(r.isDocumentAvailable)()&&this.button.nativeElement.focus())},e.prototype.onArrowKeyNavigate=function(t){this.focusService.focus(t)},e.prototype._toggle=function(t){this._open!==t&&(this._open=t,this.destroyPopup(),this._open&&this.createPopup())},e.prototype.createPopup=function(){var t=this;this.popupRef=this.popupService.open({anchor:this.elRef,anchorAlign:this.anchorAlign,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:this.popupAlign,popupClass:this.popupClasses}),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.openState=!1})),this.popupRef.popupOpen.subscribe(this.focusFirstItem.bind(this))},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)},e.decorators=[{type:i.Component,args:[{exportAs:"kendoDropDownButton",providers:[O,B,j,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.dropdownbutton"}],selector:"kendo-dropdownbutton",template:'\n        <button kendoButton #button\n            role="menu"\n            type="button"\n            [tabindex]="componentTabIndex"\n            [class.k-state-active]="active"\n            [disabled]="disabled"\n            [icon]="icon"\n            [iconClass]="iconClass"\n            [imageUrl]="imageUrl"\n            [ngClass]="buttonClass"\n            (click)="openPopup()"\n            (focus)="handleFocus()"\n            (blur)="onButtonBlur()"\n            [attr.aria-disabled]="disabled"\n            [attr.aria-expanded]="openState"\n            [attr.aria-haspopup]="true"\n            [attr.aria-owns]="listId"\n            [look]="look"\n            [primary]="primary"\n            >\n            <ng-content></ng-content>\n        </button>\n        <ng-template #popupTemplate>\n            <kendo-button-list\n                #buttonList\n                [id]="listId"\n                [data]="data"\n                [textField]="textField"\n                [itemTemplate]="itemTemplate"\n                (onItemClick)="onItemClick($event)"\n                (keydown)="keyDownHandler($event)"\n                (keypress)="keyPressHandler($event)"\n                (keyup)="keyUpHandler($event)"\n            >\n            </kendo-button-list>\n        </ng-template>\n        <ng-container #container></ng-container>\n    '}]}],e.ctorParameters=function(){return[{type:O},{type:B},{type:i.ElementRef},{type:i.NgZone},{type:c.PopupService},{type:i.ElementRef},{type:s.LocalizationService},{type:i.ChangeDetectorRef}]},e.propDecorators={icon:[{type:i.Input}],iconClass:[{type:i.Input}],imageUrl:[{type:i.Input}],popupSettings:[{type:i.Input}],textField:[{type:i.Input}],disabled:[{type:i.Input}],data:[{type:i.Input}],primary:[{type:i.Input}],look:[{type:i.Input}],buttonClass:[{type:i.Input}],tabIndex:[{type:i.Input}],itemClick:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],focused:[{type:i.HostBinding,args:["class.k-state-focused"]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-dropdown-button"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}],itemTemplate:[{type:i.ContentChild,args:[S]}],button:[{type:i.ViewChild,args:["button",{static:!0}]}],buttonList:[{type:i.ViewChild,args:["buttonList",{static:!0}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate",{static:!0}]}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef,static:!0}]}],keydown:[{type:i.HostListener,args:["keydown",["$event"]]}],keypress:[{type:i.HostListener,args:["keypress",["$event"]]}],keyup:[{type:i.HostListener,args:["keyup",["$event"]]}],mousedown:[{type:i.HostListener,args:["mousedown",["$event"]]}]},e}(D),F=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[z],exports:[z,T],imports:[l.CommonModule,c.PopupModule,T,k]}]}],t}(),N=function(){function t(t,e,n,o){this.element=t,this.renderer=e,this.ngZone=n,this.localizationService=o,this.look="filled",this.selected=!1,this.removable=!1,this.type="none",this.disabled=!1,this.remove=new i.EventEmitter,this.tabIndex=0,this.hostClass=!0,this.focused=!1,this.direction=o.rtl?"rtl":"ltr"}return Object.defineProperty(t.prototype,"outlineClass",{get:function(){return"outlined"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filledClass",{get:function(){return"filled"===this.look},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasIconClass",{get:function(){return!(!this.icon&&!this.iconClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedClass",{get:function(){return this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusedClass",{get:function(){return this.focused},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.dynamicRTLSubscription=this.localizationService.changes.subscribe((function(e){var n=e.rtl;return t.direction=n?"rtl":"ltr"}))},t.prototype.ngOnDestroy=function(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.detachDomEvents&&this.detachDomEvents()},t.prototype.ngAfterViewInit=function(){var t=this.element.nativeElement,e=this.typeClass();"none"!==this.type&&this.renderer.addClass(t,e),this.attachElementEventHandlers(t)},Object.defineProperty(t.prototype,"iconClasses",{get:function(){return this.icon?"k-icon k-i-"+this.icon:this.iconClass?""+this.iconClass:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIconClasses",{get:function(){return this.selectedIcon?""+this.selectedIcon:"k-icon k-i-check"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeIconClasses",{get:function(){return this.removeIcon?""+this.removeIcon:"k-icon k-i-close-circle"},enumerable:!0,configurable:!0}),t.prototype.typeClass=function(){return{none:"",success:"k-chip-success",warning:"k-chip-warning",error:"k-chip-error",info:"k-chip-info"}[this.type]},t.prototype.focus=function(){Object(r.isDocumentAvailable)()&&this.element.nativeElement.focus()},t.prototype.blur=function(){Object(r.isDocumentAvailable)()&&this.element.nativeElement.blur()},t.prototype.onRemoveClick=function(t){this.removable&&this.remove.emit({sender:this,originalEvent:t})},t.prototype.attachElementEventHandlers=function(t){var e=this;this.ngZone.runOutsideAngular((function(){var n=e.renderer.listen(t,"focus",(function(){e.renderer.addClass(t,"k-chip-focused")})),i=e.renderer.listen(t,"blur",(function(){e.renderer.removeClass(t,"k-chip-focused")}));e.detachDomEvents=function(){n(),i()}}))},t.decorators=[{type:i.Component,args:[{selector:"kendo-chip",template:'\n        <span class="k-selected-icon-wrapper">\n            <span *ngIf="selected"\n                class="k-selected-icon"\n                [ngClass]="selectedIconClasses"\n            >\n            </span>\n        </span>\n\n        <span *ngIf="icon || iconClass"\n            class="k-chip-icon"\n            [ngClass]="iconClasses"\n        >\n        </span>\n\n        <span class="k-chip-content">\n            <span class="k-chip-label" *ngIf="label">\n                {{ label }}\n            </span>\n            <ng-content *ngIf="!label"></ng-content>\n        </span>\n\n        <span *ngIf="removable"\n            class="k-remove-icon"\n            (click)="onRemoveClick($event)"\n        >\n            <span [ngClass]="removeIconClasses"></span>\n        </span>\n    ',providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.chip"}]}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.NgZone},{type:s.LocalizationService}]},t.propDecorators={look:[{type:i.Input}],label:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],selected:[{type:i.Input}],selectedIcon:[{type:i.Input}],removable:[{type:i.Input}],removeIcon:[{type:i.Input}],type:[{type:i.Input}],disabled:[{type:i.Input}],remove:[{type:i.Output}],tabIndex:[{type:i.HostBinding,args:["attr.tabindex"]}],hostClass:[{type:i.HostBinding,args:["class.k-chip"]}],outlineClass:[{type:i.HostBinding,args:["class.k-chip-outline"]}],filledClass:[{type:i.HostBinding,args:["class.k-chip-filled"]}],hasIconClass:[{type:i.HostBinding,args:["class.k-chip-has-icon"]}],disabledClass:[{type:i.HostBinding,args:["class.k-chip-disabled"]}],selectedClass:[{type:i.HostBinding,args:["class.k-chip-selected"]}],focusedClass:[{type:i.HostBinding,args:["class.k-chip-focused"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}]},t}(),L=function(){function t(t){this.localizationService=t,this.hostClass=!0,this.selection="none",this.selectedChange=new i.EventEmitter,this.remove=new i.EventEmitter,this.direction=t.rtl?"rtl":"ltr"}return Object.defineProperty(t.prototype,"single",{get:function(){return"single"===this.selection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return"multiple"===this.selection},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){var e=t.target,n=g(e,".k-remove-icon"),i=g(e,".k-chip"),o=this.chips.find((function(t){return i===t.element.nativeElement}));if(n&&i){var r={sender:this,originalEvent:t,removedChip:o};this.remove.emit(r)}"none"!==this.selection&&i&&!n&&this.setSelection(o)},t.prototype.ngOnInit=function(){var t=this;this.dynamicRTLSubscription=this.localizationService.changes.subscribe((function(e){var n=e.rtl;return t.direction=n?"rtl":"ltr"}))},t.prototype.ngOnDestroy=function(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()},t.prototype.selectedChips=function(){return this.chips.reduce((function(t,e,n){return e.selected?t.concat(n):t}),[])},t.prototype.setSelection=function(t){"single"===this.selection&&this.clearSelection(t),t.selected=!t.selected,this.selectedChange.emit(this.selectedChips())},t.prototype.clearSelection=function(t){this.chips.forEach((function(e){t!==e&&(e.selected=!1)}))},t.decorators=[{type:i.Component,args:[{selector:"kendo-chip-list",template:"\n        <ng-content></ng-content>\n    ",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.chip-list"}]}]}],t.ctorParameters=function(){return[{type:s.LocalizationService}]},t.propDecorators={hostClass:[{type:i.HostBinding,args:["class.k-chip-list"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],selection:[{type:i.Input}],selectedChange:[{type:i.Output}],remove:[{type:i.Output}],chips:[{type:i.ContentChildren,args:[N]}],single:[{type:i.HostBinding,args:["class.k-selection-single"]}],multiple:[{type:i.HostBinding,args:["class.k-selection-multiple"]}],onClick:[{type:i.HostListener,args:["click",["$event"]]}]},t}(),V=[N,L],H=V.slice(),$=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[H],exports:[V],imports:[l.CommonModule]}]}],t}(),W=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{exports:[C,k,R,F,$]}]}],t}()},function(t,e,n){"use strict";function i(t){this.content=t}n.r(e),n.d(e,"getHtml",(function(){return xe})),n.d(e,"setHtml",(function(){return Oe})),n.d(e,"parseContent",(function(){return Se})),n.d(e,"applyInlineStyle",(function(){return tn})),n.d(e,"getInlineStyles",(function(){return Xe})),n.d(e,"toggleInlineFormat",(function(){return Qe})),n.d(e,"applyLink",(function(){return nn})),n.d(e,"removeLink",(function(){return en})),n.d(e,"insertText",(function(){return on})),n.d(e,"insertImage",(function(){return rn})),n.d(e,"alignBlocks",(function(){return mn})),n.d(e,"isAligned",(function(){return gn})),n.d(e,"hasNode",(function(){return pn})),n.d(e,"activeNode",(function(){return fn})),n.d(e,"formatBlockElements",(function(){return ln})),n.d(e,"getBlockFormats",(function(){return cn})),n.d(e,"hasMark",(function(){return Pe})),n.d(e,"getMark",(function(){return Be})),n.d(e,"getActiveMarks",(function(){return Ae})),n.d(e,"removeAllMarks",(function(){return De})),n.d(e,"indent",(function(){return Nn})),n.d(e,"canIndentAsListItem",(function(){return jn})),n.d(e,"outdent",(function(){return Ln})),n.d(e,"canOutdentAsListItem",(function(){return zn})),n.d(e,"isIndented",(function(){return Rn})),n.d(e,"canBeIndented",(function(){return Fn})),n.d(e,"indentBlocks",(function(){return Mn})),n.d(e,"toggleOrderedList",(function(){return xi})),n.d(e,"toggleUnorderedList",(function(){return Si})),n.d(e,"toggleList",(function(){return wi})),n.d(e,"hasSameMarkup",(function(){return Ne})),n.d(e,"getUniqueStyleValues",(function(){return We})),n.d(e,"getSelectionText",(function(){return Ke})),n.d(e,"getNodeFromSelection",(function(){return Ue})),n.d(e,"canInsert",(function(){return Re})),n.d(e,"insertNode",(function(){return Fe})),n.d(e,"indentHtml",(function(){return qe})),n.d(e,"alignLeftRules",(function(){return Ii})),n.d(e,"alignCenterRules",(function(){return Ei})),n.d(e,"alignRightRules",(function(){return _i})),n.d(e,"alignJustifyRules",(function(){return Ti})),n.d(e,"alignRemoveRules",(function(){return Di})),n.d(e,"indentRules",(function(){return Bn})),n.d(e,"outdentRules",(function(){return An})),n.d(e,"nodes",(function(){return ml})),n.d(e,"marks",(function(){return fl})),n.d(e,"buildKeymap",(function(){return Yl})),n.d(e,"buildListKeymap",(function(){return Ql})),n.d(e,"bold",(function(){return tc})),n.d(e,"italic",(function(){return ec})),n.d(e,"underline",(function(){return nc})),n.d(e,"strikethrough",(function(){return ic})),n.d(e,"subscript",(function(){return oc})),n.d(e,"superscript",(function(){return rc})),n.d(e,"link",(function(){return sc})),n.d(e,"sanitize",(function(){return gc})),n.d(e,"removeComments",(function(){return vc})),n.d(e,"removeTag",(function(){return yc})),n.d(e,"pasteCleanup",(function(){return xc})),n.d(e,"sanitizeClassAttr",(function(){return wc})),n.d(e,"sanitizeStyleAttr",(function(){return Sc})),n.d(e,"removeAttribute",(function(){return bc})),n.d(e,"convertMsLists",(function(){return mc})),n.d(e,"createTable",(function(){return Oc})),n.d(e,"autoJoin",(function(){return pi})),n.d(e,"baseKeymap",(function(){return yi})),n.d(e,"chainCommands",(function(){return di})),n.d(e,"createParagraphNear",(function(){return ei})),n.d(e,"deleteSelection",(function(){return Vn})),n.d(e,"exitCode",(function(){return ti})),n.d(e,"joinBackward",(function(){return Hn})),n.d(e,"joinDown",(function(){return Zn})),n.d(e,"joinForward",(function(){return Un})),n.d(e,"joinUp",(function(){return Jn})),n.d(e,"lift",(function(){return Xn})),n.d(e,"liftEmptyBlock",(function(){return ni})),n.d(e,"macBaseKeymap",(function(){return gi})),n.d(e,"newlineInCode",(function(){return Yn})),n.d(e,"pcBaseKeymap",(function(){return mi})),n.d(e,"selectAll",(function(){return si})),n.d(e,"selectNodeBackward",(function(){return Wn})),n.d(e,"selectNodeForward",(function(){return qn})),n.d(e,"selectParentNode",(function(){return ri})),n.d(e,"setBlockType",(function(){return ci})),n.d(e,"splitBlock",(function(){return ii})),n.d(e,"splitBlockKeepMarks",(function(){return oi})),n.d(e,"toggleMark",(function(){return ui})),n.d(e,"wrapIn",(function(){return li})),n.d(e,"dropCursor",(function(){return Ic})),n.d(e,"GapCursor",(function(){return Ec})),n.d(e,"gapCursor",(function(){return Dc})),n.d(e,"HistoryState",(function(){return Cl})),n.d(e,"closeHistory",(function(){return Dl})),n.d(e,"history",(function(){return Al})),n.d(e,"redo",(function(){return Rl})),n.d(e,"redoDepth",(function(){return zl})),n.d(e,"undo",(function(){return Ml})),n.d(e,"undoDepth",(function(){return jl})),n.d(e,"InputRule",(function(){return Fl})),n.d(e,"closeDoubleQuote",(function(){return Kl})),n.d(e,"closeSingleQuote",(function(){return ql})),n.d(e,"ellipsis",(function(){return $l})),n.d(e,"emDash",(function(){return Hl})),n.d(e,"inputRules",(function(){return Nl})),n.d(e,"openDoubleQuote",(function(){return Wl})),n.d(e,"openSingleQuote",(function(){return Ul})),n.d(e,"smartQuotes",(function(){return Gl})),n.d(e,"textblockTypeInputRule",(function(){return Zl})),n.d(e,"undoInputRule",(function(){return Vl})),n.d(e,"wrappingInputRule",(function(){return Jl})),n.d(e,"keydownHandler",(function(){return Ki})),n.d(e,"keymap",(function(){return Wi})),n.d(e,"ContentMatch",(function(){return A})),n.d(e,"DOMParser",(function(){return tt})),n.d(e,"DOMSerializer",(function(){return pt})),n.d(e,"Fragment",(function(){return r})),n.d(e,"Mark",(function(){return u})),n.d(e,"MarkType",(function(){return X})),n.d(e,"Node",(function(){return T})),n.d(e,"NodeRange",(function(){return I})),n.d(e,"NodeType",(function(){return q})),n.d(e,"ReplaceError",(function(){return p})),n.d(e,"ResolvedPos",(function(){return k})),n.d(e,"Schema",(function(){return Y})),n.d(e,"Slice",(function(){return d})),n.d(e,"addListNodes",(function(){return xn})),n.d(e,"bulletList",(function(){return kn})),n.d(e,"liftListItem",(function(){return _n})),n.d(e,"listItem",(function(){return Cn})),n.d(e,"orderedList",(function(){return wn})),n.d(e,"sinkListItem",(function(){return En})),n.d(e,"splitListItem",(function(){return In})),n.d(e,"wrapInList",(function(){return On})),n.d(e,"AllSelection",(function(){return ae})),n.d(e,"EditorState",(function(){return ge})),n.d(e,"NodeSelection",(function(){return re})),n.d(e,"Plugin",(function(){return be})),n.d(e,"PluginKey",(function(){return Ce})),n.d(e,"Selection",(function(){return te})),n.d(e,"SelectionRange",(function(){return ne})),n.d(e,"TextSelection",(function(){return ie})),n.d(e,"Transaction",(function(){return pe})),n.d(e,"CellSelection",(function(){return na})),n.d(e,"TableMap",(function(){return js})),n.d(e,"TableView",(function(){return Ga})),n.d(e,"__clipCells",(function(){return aa})),n.d(e,"__insertCells",(function(){return ua})),n.d(e,"__pastedCells",(function(){return ra})),n.d(e,"addColSpan",(function(){return ta})),n.d(e,"addColumn",(function(){return Oa})),n.d(e,"addColumnAfter",(function(){return _a})),n.d(e,"addColumnBefore",(function(){return Ia})),n.d(e,"addRow",(function(){return Pa})),n.d(e,"addRowAfter",(function(){return Aa})),n.d(e,"addRowBefore",(function(){return Ba})),n.d(e,"cellAround",(function(){return $s})),n.d(e,"colCount",(function(){return Zs})),n.d(e,"columnIsHeader",(function(){return ea})),n.d(e,"columnResizing",(function(){return Xa})),n.d(e,"columnResizingPluginKey",(function(){return Za})),n.d(e,"deleteColumn",(function(){return Ta})),n.d(e,"deleteRow",(function(){return Ra})),n.d(e,"deleteTable",(function(){return qa})),n.d(e,"findCell",(function(){return Js})),n.d(e,"fixTables",(function(){return Sa})),n.d(e,"fixTablesKey",(function(){return Ca})),n.d(e,"goToNextCell",(function(){return Ua})),n.d(e,"handlePaste",(function(){return va})),n.d(e,"inSameTable",(function(){return Gs})),n.d(e,"isInTable",(function(){return Ws})),n.d(e,"mergeCells",(function(){return za})),n.d(e,"moveCellForward",(function(){return qs})),n.d(e,"nextCell",(function(){return Xs})),n.d(e,"pointsAtCell",(function(){return Us})),n.d(e,"removeColSpan",(function(){return Qs})),n.d(e,"removeColumn",(function(){return Ea})),n.d(e,"removeRow",(function(){return Ma})),n.d(e,"rowIsHeader",(function(){return Da})),n.d(e,"selectedRect",(function(){return xa})),n.d(e,"selectionCell",(function(){return Ks})),n.d(e,"setAttr",(function(){return Ys})),n.d(e,"setCellAttr",(function(){return La})),n.d(e,"splitCell",(function(){return Fa})),n.d(e,"splitCellWithType",(function(){return Na})),n.d(e,"tableEditing",(function(){return il})),n.d(e,"tableEditingKey",(function(){return Hs})),n.d(e,"tableNodeTypes",(function(){return Vs})),n.d(e,"tableNodes",(function(){return Ls})),n.d(e,"toggleHeader",(function(){return Ha})),n.d(e,"toggleHeaderCell",(function(){return Ka})),n.d(e,"toggleHeaderColumn",(function(){return Wa})),n.d(e,"toggleHeaderRow",(function(){return $a})),n.d(e,"updateColumnsOnResize",(function(){return Ja})),n.d(e,"AddMarkStep",(function(){return Lt})),n.d(e,"MapResult",(function(){return gt})),n.d(e,"Mapping",(function(){return yt})),n.d(e,"RemoveMarkStep",(function(){return Vt})),n.d(e,"ReplaceAroundStep",(function(){return _t})),n.d(e,"ReplaceStep",(function(){return It})),n.d(e,"Step",(function(){return xt})),n.d(e,"StepMap",(function(){return vt})),n.d(e,"StepResult",(function(){return Ot})),n.d(e,"Transform",(function(){return wt})),n.d(e,"TransformError",(function(){return bt})),n.d(e,"canJoin",(function(){return Mt})),n.d(e,"canSplit",(function(){return At})),n.d(e,"dropPoint",(function(){return Ft})),n.d(e,"findWrapping",(function(){return Pt})),n.d(e,"insertPoint",(function(){return zt})),n.d(e,"joinPoint",(function(){return jt})),n.d(e,"liftTarget",(function(){return Dt})),n.d(e,"replaceStep",(function(){return Ht})),n.d(e,"Decoration",(function(){return cs})),n.d(e,"DecorationSet",(function(){return hs})),n.d(e,"EditorView",(function(){return Is})),n.d(e,"__endComposition",(function(){return Yr})),n.d(e,"__parseFromClipboard",(function(){return xr})),n.d(e,"__serializeForClipboard",(function(){return Sr})),i.prototype={constructor:i,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,r=o.find(t),s=o.content.slice();return-1==r?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new i(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new i(n)},addToStart:function(t,e){return new i([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new i(n)},addBefore:function(t,e,n){var o=this.remove(e),r=o.content.slice(),s=o.find(t);return r.splice(-1==s?r.length:s,0,e,n),new i(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=i.from(t)).size?new i(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=i.from(t)).size?new i(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=i.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},i.from=function(t){if(t instanceof i)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new i(e)};var o=i;var r=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},s={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};r.prototype.nodesBetween=function(t,e,n,i,o){void 0===i&&(i=0);for(var r=0,s=0;s<e;r++){var a=this.content[r],l=s+a.nodeSize;if(l>t&&!1!==n(a,i+s,o,r)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,i+c)}s=l}},r.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},r.prototype.textBetween=function(t,e,n,i){var o="",r=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),r=!n):s.isLeaf&&i?(o+=i,r=!n):!r&&s.isBlock&&(o+=n,r=!0)}),0),o},r.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(i[i.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new r(i,this.size+t.size)},r.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],i=0;if(e>t)for(var o=0,s=0;s<e;o++){var a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>e)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),i+=a.nodeSize),s=l}return new r(n,i)},r.prototype.cutByIndex=function(t,e){return t==e?r.empty:0==t&&e==this.content.length?this:new r(this.content.slice(t,e))},r.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var i=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return i[t]=e,new r(i,o)},r.prototype.addToStart=function(t){return new r([t].concat(this.content),this.size+t.nodeSize)},r.prototype.addToEnd=function(t){return new r(this.content.concat(t),this.size+t.nodeSize)},r.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},s.firstChild.get=function(){return this.content.length?this.content[0]:null},s.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},s.childCount.get=function(){return this.content.length},r.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},r.prototype.maybeChild=function(t){return this.content[t]},r.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var i=this.content[e];t(i,n,e),n+=i.nodeSize}},r.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,i){for(var o=0;;o++){if(o==e.childCount||o==n.childCount)return e.childCount==n.childCount?null:i;var r=e.child(o),s=n.child(o);if(r!=s){if(!r.sameMarkup(s))return i;if(r.isText&&r.text!=s.text){for(var a=0;r.text[a]==s.text[a];a++)i++;return i}if(r.content.size||s.content.size){var l=t(r.content,s.content,i+1);if(null!=l)return l}i+=r.nodeSize}else i+=r.nodeSize}}(this,t,e)},r.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,i,o){for(var r=e.childCount,s=n.childCount;;){if(0==r||0==s)return r==s?null:{a:i,b:o};var a=e.child(--r),l=n.child(--s),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:i,b:o};if(a.isText&&a.text!=l.text){for(var u=0,p=Math.min(a.text.length,l.text.length);u<p&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,i--,o--;return{a:i,b:o}}if(a.content.size||l.content.size){var d=t(a.content,l.content,i-1,o-1);if(d)return d}i-=c,o-=c}else i-=c,o-=c}}(this,t,e,n)},r.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return l(0,t);if(t==this.size)return l(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var o=i+this.child(n).nodeSize;if(o>=t)return o==t||e>0?l(n+1,o):l(n,i);i=o}},r.prototype.toString=function(){return"<"+this.toStringInner()+">"},r.prototype.toStringInner=function(){return this.content.join(", ")},r.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},r.fromJSON=function(t,e){if(!e)return r.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new r(e.map(t.nodeFromJSON))},r.fromArray=function(t){if(!t.length)return r.empty;for(var e,n=0,i=0;i<t.length;i++){var o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(e||(e=t.slice(0,i)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new r(e||t,n)},r.from=function(t){if(!t)return r.empty;if(t instanceof r)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new r([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(r.prototype,s);var a={index:0,offset:0};function l(t,e){return a.index=t,a.offset=e,a}function c(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(!c(t[i],e[i]))return!1}else{for(var o in t)if(!(o in e)||!c(t[o],e[o]))return!1;for(var r in e)if(!(r in t))return!1}return!0}r.empty=new r([],0);var u=function(t,e){this.type=t,this.attrs=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}u.prototype.addToSet=function(t){for(var e,n=!1,i=0;i<t.length;i++){var o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,i)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},u.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},u.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},u.prototype.eq=function(t){return this==t||this.type==t.type&&c(this.attrs,t.attrs)},u.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},u.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},u.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},u.setFrom=function(t){if(!t||0==t.length)return u.none;if(t instanceof u)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},u.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var d=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},h={size:{configurable:!0}};function f(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return function t(e,n,i,o){var s=e.index(o),a=e.node(o);if(s==n.index(o)&&o<e.depth-i.openStart){var l=t(e,n,i,o+1);return a.copy(a.content.replaceChild(s,l))}if(i.content.size){if(i.openStart||i.openEnd||e.depth!=o||n.depth!=o){var c=function(t,e){for(var n=e.depth-t.openStart,i=e.node(n).copy(t.content),o=n-1;o>=0;o--)i=e.node(o).copy(r.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}(i,e),u=c.start,p=c.end;return b(a,function t(e,n,i,o,s){var a=e.depth>s&&g(e,n,s+1),l=o.depth>s&&g(i,o,s+1),c=[];y(null,e,s,c),a&&l&&n.index(s)==i.index(s)?(m(a,l),v(b(a,t(e,n,i,o,s+1)),c)):(a&&v(b(a,w(e,n,s+1)),c),y(n,i,s,c),l&&v(b(l,w(i,o,s+1)),c));return y(o,null,s,c),new r(c)}(e,u,p,n,o))}var d=e.parent,h=d.content;return b(d,h.cut(0,e.parentOffset).append(i.content).append(h.cut(n.parentOffset)))}return b(a,w(e,n,o))}(t,e,n,0)}function m(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function g(t,e,n){var i=t.node(n);return m(i,e.node(n)),i}function v(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y(t,e,n,i){var o=(e||t).node(n),r=0,s=e?e.index(n):o.childCount;t&&(r=t.index(n),t.depth>n?r++:t.textOffset&&(v(t.nodeAfter,i),r++));for(var a=r;a<s;a++)v(o.child(a),i);e&&e.depth==n&&e.textOffset&&v(e.nodeBefore,i)}function b(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function w(t,e,n){var i=[];(y(null,t,n,i),t.depth>n)&&v(b(g(t,e,n+1),w(t,e,n+1)),i);return y(e,null,n,i),new r(i)}h.size.get=function(){return this.content.size-this.openStart-this.openEnd},d.prototype.insertAt=function(t,e){var n=function t(e,n,i,o){var r=e.findIndex(n),s=r.index,a=r.offset,l=e.maybeChild(s);if(a==n||l.isText)return o&&!o.canReplace(s,s,i)?null:e.cut(0,n).append(i).append(e.cut(n));var c=t(l.content,n-a-1,i);return c&&e.replaceChild(s,l.copy(c))}(this.content,t+this.openStart,e,null);return n&&new d(n,this.openStart,this.openEnd)},d.prototype.removeBetween=function(t,e){return new d(function t(e,n,i){var o=e.findIndex(n),r=o.index,s=o.offset,a=e.maybeChild(r),l=e.findIndex(i),c=l.index,u=l.offset;if(s==n||a.isText){if(u!=i&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(i))}if(r!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(t(a.content,n-s-1,i-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},d.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},d.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},d.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},d.fromJSON=function(t,e){if(!e)return d.empty;var n=e.openStart||0,i=e.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new d(r.fromJSON(t,e.content),n,i)},d.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,i=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)i++;return new d(t,n,i)},Object.defineProperties(d.prototype,h),d.empty=new d(r.empty,0,0);var k=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},C={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};k.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},C.parent.get=function(){return this.node(this.depth)},C.doc.get=function(){return this.node(0)},k.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},k.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},k.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},k.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},k.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},k.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},k.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},C.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},C.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=t.child(e);return n?t.child(e).cut(n):i},C.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},k.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],i=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)i+=n.child(o).nodeSize;return i},k.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return u.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),i=t.maybeChild(e);if(!n){var o=n;n=i,i=o}for(var r=n.marks,s=0;s<r.length;s++)!1!==r[s].type.spec.inclusive||i&&r[s].isInSet(i.marks)||(r=r[s--].removeFromSet(r));return r},k.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,i=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||i&&n[o].isInSet(i.marks)||(n=n[o--].removeFromSet(n));return n},k.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},k.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new I(this,t,n)},k.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},k.prototype.max=function(t){return t.pos>this.pos?t:this},k.prototype.min=function(t){return t.pos<this.pos?t:this},k.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},k.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],i=0,o=e,r=t;;){var s=r.content.findIndex(o),a=s.index,l=s.offset,c=o-l;if(n.push(r,a,i+l),!c)break;if((r=r.child(a)).isText)break;o=c-1,i+=l+1}return new k(e,n,o)},k.resolveCached=function(t,e){for(var n=0;n<S.length;n++){var i=S[n];if(i.pos==e&&i.doc==t)return i}var o=S[x]=k.resolve(t,e);return x=(x+1)%O,o},Object.defineProperties(k.prototype,C);var S=[],x=0,O=12,I=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},_={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};_.start.get=function(){return this.$from.before(this.depth+1)},_.end.get=function(){return this.$to.after(this.depth+1)},_.parent.get=function(){return this.$from.node(this.depth)},_.startIndex.get=function(){return this.$from.index(this.depth)},_.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(I.prototype,_);var E=Object.create(null),T=function(t,e,n,i){this.type=t,this.attrs=e,this.content=n||r.empty,this.marks=i||u.none},D={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};D.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},D.childCount.get=function(){return this.content.childCount},T.prototype.child=function(t){return this.content.child(t)},T.prototype.maybeChild=function(t){return this.content.maybeChild(t)},T.prototype.forEach=function(t){this.content.forEach(t)},T.prototype.nodesBetween=function(t,e,n,i){void 0===i&&(i=0),this.content.nodesBetween(t,e,n,i,this)},T.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},D.textContent.get=function(){return this.textBetween(0,this.content.size,"")},T.prototype.textBetween=function(t,e,n,i){return this.content.textBetween(t,e,n,i)},D.firstChild.get=function(){return this.content.firstChild},D.lastChild.get=function(){return this.content.lastChild},T.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},T.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},T.prototype.hasMarkup=function(t,e,n){return this.type==t&&c(this.attrs,e||t.defaultAttrs||E)&&u.sameSet(this.marks,n||u.none)},T.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},T.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},T.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},T.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return d.empty;var i=this.resolve(t),o=this.resolve(e),r=n?0:i.sharedDepth(e),s=i.start(r),a=i.node(r).content.cut(i.pos-s,o.pos-s);return new d(a,i.depth-r,o.depth-r)},T.prototype.replace=function(t,e,n){return f(this.resolve(t),this.resolve(e),n)},T.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),i=n.index,o=n.offset;if(!(e=e.maybeChild(i)))return null;if(o==t||e.isText)return e;t-=o+1}},T.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,i=e.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},T.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,i=e.offset;if(i<t)return{node:this.content.child(n),index:n,offset:i};var o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}},T.prototype.resolve=function(t){return k.resolveCached(this,t)},T.prototype.resolveNoCache=function(t){return k.resolve(this,t)},T.prototype.rangeHasMark=function(t,e,n){var i=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(i=!0),!i})),i},D.isBlock.get=function(){return this.type.isBlock},D.isTextblock.get=function(){return this.type.isTextblock},D.inlineContent.get=function(){return this.type.inlineContent},D.isInline.get=function(){return this.type.isInline},D.isText.get=function(){return this.type.isText},D.isLeaf.get=function(){return this.type.isLeaf},D.isAtom.get=function(){return this.type.isAtom},T.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),B(this.marks,t)},T.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},T.prototype.canReplace=function(t,e,n,i,o){void 0===n&&(n=r.empty),void 0===i&&(i=0),void 0===o&&(o=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,i,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},T.prototype.canReplaceWith=function(t,e,n,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(t).matchType(n),r=o&&o.matchFragment(this.content,e);return!!r&&r.validEnd},T.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},T.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},T.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},T.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var i=r.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,i,n)},Object.defineProperties(T.prototype,D);var P=function(t){function e(e,n,i,o){if(t.call(this,e,n,null,o),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):B(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(T);function B(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var A=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},M={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};A.parse=function(t,e){var n=new R(t,e);if(null==n.next)return A.empty;var i=z(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(i){var o=[];i.forEach((function(e){t[e].forEach((function(e){var n=e.term,i=e.to;if(n){var r=o.indexOf(n),s=r>-1&&o[r+1];$(t,i).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var r=e[i.join(",")]=new A(i.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(H);r.next.push(o[s],e[a.join(",")]||n(a))}return r}($(t,0))}(function(t){var e=[[]];return o(function t(e,r){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,r))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],r);if(s==e.exprs.length-1)return a;o(a,r=n())}else{if("star"==e.type){var l=n();return i(r,l),o(t(e.expr,l),l),[i(l)]}if("plus"==e.type){var c=n();return o(t(e.expr,r),c),o(t(e.expr,c),c),[i(c)]}if("opt"==e.type)return[i(r)].concat(t(e.expr,r));if("range"==e.type){for(var u=r,p=0;p<e.min;p++){var d=n();o(t(e.expr,u),d),u=d}if(-1==e.max)o(t(e.expr,u),u);else for(var h=e.min;h<e.max;h++){var f=n();i(u,f),o(t(e.expr,u),f),u=f}return[i(u)]}if("name"==e.type)return[i(r,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function i(t,n,i){var o={term:i,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(i));return function(t,e){for(var n=0,i=[t];n<i.length;n++){for(var o=i[n],r=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var l=o.next[a],c=o.next[a+1];s.push(l.name),!r||l.isText||l.hasRequiredAttrs()||(r=!1),-1==i.indexOf(c)&&i.push(c)}r&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},A.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},A.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var i=this,o=e;i&&o<n;o++)i=i.matchType(t.child(o).type);return i},M.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},M.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},A.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},A.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var i=[this];return function o(s,a){var l=s.matchFragment(t,n);if(l&&(!e||l.validEnd))return r.from(a.map((function(t){return t.createAndFill()})));for(var c=0;c<s.next.length;c+=2){var u=s.next[c],p=s.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(p)){i.push(p);var d=o(p,a.concat(u));if(d)return d}}}(this,[])},A.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},A.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),o=i.match;if(o.matchType(t)){for(var r=[],s=i;s.type;s=s.via)r.push(s.type);return r.reverse()}for(var a=0;a<o.next.length;a+=2){var l=o.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||i.type&&!o.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:i}),e[l.name]=!0)}}},M.edgeCount.get=function(){return this.next.length>>1},A.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},A.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var i=1;i<n.next.length;i+=2)-1==t.indexOf(n.next[i])&&e(n.next[i])}(this),t.map((function(e,n){for(var i=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)i+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return i})).join("\n")},Object.defineProperties(A.prototype,M),A.empty=new A(!0);var R=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},j={next:{configurable:!0}};function z(t){var e=[];do{e.push(F(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function F(t){var e=[];do{e.push(N(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function N(t){for(var e=function(t){if(t.eat("(")){var e=z(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,i=n[e];if(i)return[i];var o=[];for(var r in n){var s=n[r];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=V(t,e)}return e}function L(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function V(t,e){var n=L(t),i=n;return t.eat(",")&&(i="}"!=t.next?L(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function H(t,e){return e-t}function $(t,e){var n=[];return function e(i){var o=t[i];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(i);for(var r=0;r<o.length;r++){var s=o[r],a=s.term,l=s.to;a||-1!=n.indexOf(l)||e(l)}}(e),n.sort(H)}function W(t){var e=Object.create(null);for(var n in t){var i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function K(t,e){var n=Object.create(null);for(var i in t){var o=e&&e[i];if(void 0===o){var r=t[i];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+i);o=r.default}n[i]=o}return n}function U(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new J(t[n]);return e}j.next.get=function(){return this.tokens[this.pos]},R.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},R.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(R.prototype,j);var q=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=U(n.attrs),this.defaultAttrs=W(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},G={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};G.isInline.get=function(){return!this.isBlock},G.isTextblock.get=function(){return this.isBlock&&this.inlineContent},G.isLeaf.get=function(){return this.contentMatch==A.empty},G.isAtom.get=function(){return this.isLeaf||this.spec.atom},q.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},q.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},q.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:K(this.attrs,t)},q.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new T(this,this.computeAttrs(t),r.from(e),u.setFrom(n))},q.prototype.createChecked=function(t,e,n){if(e=r.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new T(this,this.computeAttrs(t),e,u.setFrom(n))},q.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=r.from(e)).size){var i=this.contentMatch.fillBefore(e);if(!i)return null;e=i.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(r.empty,!0);return o?new T(this,t,e.append(o),u.setFrom(n)):null},q.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},q.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},q.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},q.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:u.empty:t},q.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,i){return n[t]=new q(t,e,i)}));var i=e.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(q.prototype,G);var J=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Z={isRequired:{configurable:!0}};Z.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(J.prototype,Z);var X=function(t,e,n,i){this.name=t,this.schema=n,this.spec=i,this.attrs=U(i.attrs),this.rank=e,this.excluded=null;var o=W(this.attrs);this.instance=o&&new u(this,o)};X.prototype.create=function(t){return!t&&this.instance?this.instance:new u(this,K(this.attrs,t))},X.compile=function(t,e){var n=Object.create(null),i=0;return t.forEach((function(t,o){return n[t]=new X(t,i++,e,o)})),n},X.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},X.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},X.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var Y=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=q.compile(this.spec.nodes,this),this.marks=X.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var r=this.nodes[i],s=r.spec.content||"",a=r.spec.marks;r.contentMatch=n[s]||(n[s]=A.parse(s,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==a?null:a?Q(this,a.split(" ")):""!=a&&r.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:Q(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(t,e){for(var n=[],i=0;i<e.length;i++){var o=e[i],r=t.marks[o],s=r;if(r)n.push(r);else for(var a in t.marks){var l=t.marks[a];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}Y.prototype.node=function(t,e,n,i){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof q))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,i)},Y.prototype.text=function(t,e){var n=this.nodes.text;return new P(n,n.defaultAttrs,t,u.setFrom(e))},Y.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},Y.prototype.nodeFromJSON=function(t){return T.fromJSON(this,t)},Y.prototype.markFromJSON=function(t){return u.fromJSON(this,t)},Y.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var tt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};tt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new st(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},tt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new st(this,e,!0);return n.addAll(t,null,e.from,e.to),d.maxOpen(n.finish())},tt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var i=this.tags[n];if(lt(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o}return i}}},tt.prototype.matchStyle=function(t,e,n){for(var i=0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var r=o.getAttrs(e);if(!1===r)continue;o.attrs=r}return o}}},tt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,i=0;i<e.length;i++){var o=e[i];if((null==o.priority?50:o.priority)<n)break}e.splice(i,0,t)}var i=function(e){var i=t.marks[e].spec.parseDOM;i&&i.forEach((function(t){n(t=ct(t)),t.mark=e}))};for(var o in t.marks)i(o);var r;for(var s in t.nodes)r=void 0,(r=t.nodes[s].spec.parseDOM)&&r.forEach((function(t){n(t=ct(t)),t.node=s}));return e},tt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new tt(t,tt.schemaRules(t)))};var et={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},it={ol:!0,ul:!0};function ot(t){return(t?1:0)|("full"===t?2:0)}var rt=function(t,e,n,i,o,r,s){this.type=t,this.attrs=e,this.solid=o,this.match=r||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=u.none,this.pendingMarks=i};rt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(r.from(t));if(!e){var n,i=this.type.contentMatch;return(n=i.findWrapping(t.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},rt.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var i=r.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(r.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},rt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var i=n[e];(this.type?this.type.allowsMarkType(i.type):ut(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};var st=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var i,o=e.topNode,r=ot(e.preserveWhitespace)|(n?4:0);i=o?new rt(o.type,o.attrs,u.none,u.none,!0,e.topMatch||o.type.contentMatch,r):new rt(n?null:t.schema.topNodeType,null,u.none,u.none,!0,null,r),this.nodes=[i],this.open=0,this.find=e.findPositions,this.needsBlock=!1},at={top:{configurable:!0},currentPos:{configurable:!0}};function lt(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ct(t){var e={};for(var n in t)e[n]=t[n];return e}function ut(t,e){var n=e.schema.nodes,i=function(i){var o=n[i];if(o.allowsMarkType(t)){var r=[],s=function(t){r.push(t);for(var n=0;n<t.edgeCount;n++){var i=t.edge(n),o=i.type,a=i.next;if(o==e)return!0;if(r.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var r=i(o);if(r)return r.v}}at.top.get=function(){return this.nodes[this.open]},st.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];for(;e=n.exec(t);)i.push(e[1],e[2].trim());return i}(e)):null,i=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var r=0;r<n.length;r++)this.removePendingMark(n[r],i)}},st.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)2&n.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],o=t.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},st.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();it.hasOwnProperty(e)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var i=1==e.nodeType?e.nodeName.toLowerCase():null;i&&it.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):"li"==i?n=e:i&&(n=null)}}(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:nt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(t=n.skip);var i,o=this.top,r=this.needsBlock;if(et.hasOwnProperty(e))i=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(o),this.needsBlock=r}else this.addElementByRule(t,n)},st.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},st.prototype.readStyles=function(t){for(var e=u.none,n=0;n<t.length;n+=2){var i=this.parser.matchStyle(t[n],t[n+1],this);if(i){if(i.ignore)return null;e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e)}}return e},st.prototype.addElementByRule=function(t,e){var n,i,o,r=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):n=this.enter(i,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return r.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,n)}n&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},st.prototype.addAll=function(t,e,n,i){for(var o=n||0,r=n?t.childNodes[n]:t.firstChild,s=null==i?null:t.childNodes[i];r!=s;r=r.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(r),e&&et.hasOwnProperty(r.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},st.prototype.findPlace=function(t){for(var e,n,i=this.open;i>=0;i--){var o=this.nodes[i],r=o.findWrapping(t);if(r&&(!e||e.length>r.length)&&(e=r,n=o,!r.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},st.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var i=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(i=t.marks[o].addToSet(i));return n.content.push(t.mark(i)),!0}return!1},st.prototype.enter=function(t,e,n){var i=this.findPlace(t.create(e));return i&&this.enterInner(t,e,!0,n),i},st.prototype.enterInner=function(t,e,n,i){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var r=null==i?-5&o.options:ot(i);4&o.options&&0==o.content.length&&(r|=4),this.nodes.push(new rt(t,e,o.activeMarks,o.pendingMarks,n,null,r)),this.open++},st.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},st.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},st.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},at.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,i=n.length-1;i>=0;i--)t+=n[i].nodeSize;e&&t++}return t},st.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},st.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},st.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var i=0;i<this.find.length;i++){if(null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node))e.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}},st.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},st.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),i=this.options.context,o=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),r=-(i?i.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;a>=r;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&o?e.nodes[a].type:i&&a>=r?i.node(a-r).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)},st.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}},st.prototype.addPendingMark=function(t){this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},st.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var i=this.nodes[n];if(i.pendingMarks.lastIndexOf(t)>-1?i.pendingMarks=t.removeFromSet(i.pendingMarks):i.activeMarks=t.removeFromSet(i.activeMarks),i==e)break}},Object.defineProperties(st.prototype,at);var pt=function(t,e){this.nodes=t||{},this.marks=e||{}};function dt(t){var e={};for(var n in t){var i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function ht(t){return t.document||window.document}pt.prototype.serializeFragment=function(t,e,n){var i=this;void 0===e&&(e={}),n||(n=ht(e).createDocumentFragment());var o=n,r=null;return t.forEach((function(t){if(r||t.marks.length){r||(r=[]);for(var n=0,s=0;n<r.length&&s<t.marks.length;){var a=t.marks[s];if(i.marks[a.type.name]){if(!a.eq(r[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<r.length;)o=r.pop(),r.pop();for(;s<t.marks.length;){var l=t.marks[s++],c=i.serializeMark(l,t.isInline,e);c&&(r.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(i.serializeNode(t,e))})),n},pt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=pt.renderSpec(ht(e),this.nodes[t.type.name](t)),i=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return i},pt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),i=t.marks.length-1;i>=0;i--){var o=this.serializeMark(t.marks[i],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},pt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var i=this.marks[t.type.name];return i&&pt.renderSpec(ht(n),i(t,e))},pt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));var r=null,s=n?t.createElementNS(n,i):t.createElement(i),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c])}for(var p=l;p<e.length;p++){var d=e[p];if(0===d){if(p<e.length-1||p>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var h=pt.renderSpec(t,d,n),f=h.dom,m=h.contentDOM;if(s.appendChild(f),m){if(r)throw new RangeError("Multiple content holes");r=m}}return{dom:s,contentDOM:r}},pt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new pt(this.nodesFromSchema(t),this.marksFromSchema(t)))},pt.nodesFromSchema=function(t){var e=dt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},pt.marksFromSchema=function(t){return dt(t.marks)};var ft=Math.pow(2,16);function mt(t){return 65535&t}var gt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},vt=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};vt.prototype.recover=function(t){var e=0,n=mt(t);if(!this.inverted)for(var i=0;i<n;i++)e+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/ft}(t)},vt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},vt.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},vt.prototype._map=function(t,e,n){for(var i=0,o=this.inverted?2:1,r=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?i:0);if(a>t)break;var l=this.ranges[s+o],c=this.ranges[s+r],u=a+l;if(t<=u){var p=a+i+((l?t==a?-1:t==u?1:e:e)<0?0:c);if(n)return p;var d=t==(e<0?a:u)?null:s/3+(t-a)*ft;return new gt(p,e<0?t!=a:t!=u,d)}i+=c-l}return n?t+i:new gt(t+i)},vt.prototype.touches=function(t,e){for(var n=0,i=mt(e),o=this.inverted?2:1,r=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var l=this.ranges[s+o];if(t<=a+l&&s==3*i)return!0;n+=this.ranges[s+r]-l}return!1},vt.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var r=this.ranges[i],s=r-(this.inverted?o:0),a=r+(this.inverted?0:o),l=this.ranges[i+e],c=this.ranges[i+n];t(s,s+l,a,a+c),o+=c-l}},vt.prototype.invert=function(){return new vt(this.ranges,!this.inverted)},vt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},vt.offset=function(t){return 0==t?vt.empty:new vt(t<0?[0,-t,0]:[0,0,t])},vt.empty=new vt([]);var yt=function(t,e,n,i){this.maps=t||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=e};function bt(t){var e=Error.call(this,t);return e.__proto__=bt.prototype,e}yt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new yt(this.maps,this.mirror,t,e)},yt.prototype.copy=function(){return new yt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},yt.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},yt.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var i=t.getMirror(e);this.appendMap(t.maps[e],null!=i&&i<e?n+i:null)}},yt.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},yt.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},yt.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var i=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=i&&i>e?n-i-1:null)}},yt.prototype.invert=function(){var t=new yt;return t.appendMappingInverted(this),t},yt.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},yt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},yt.prototype._map=function(t,e,n){for(var i=!1,o=this.from;o<this.to;o++){var r=this.maps[o].mapResult(t,e);if(null!=r.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(r.recover);continue}}r.deleted&&(i=!0),t=r.pos}return n?t:new gt(t,i)},bt.prototype=Object.create(Error.prototype),bt.prototype.constructor=bt,bt.prototype.name="TransformError";var wt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new yt},kt={before:{configurable:!0},docChanged:{configurable:!0}};function Ct(){throw new Error("Override me")}kt.before.get=function(){return this.docs.length?this.docs[0]:this.doc},wt.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new bt(e.failed);return this},wt.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},kt.docChanged.get=function(){return this.steps.length>0},wt.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(wt.prototype,kt);var St=Object.create(null),xt=function(){};xt.prototype.apply=function(t){return Ct()},xt.prototype.getMap=function(){return vt.empty},xt.prototype.invert=function(t){return Ct()},xt.prototype.map=function(t){return Ct()},xt.prototype.merge=function(t){return null},xt.prototype.toJSON=function(){return Ct()},xt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=St[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},xt.jsonID=function(t,e){if(t in St)throw new RangeError("Duplicate use of step JSON ID "+t);return St[t]=e,e.prototype.jsonID=t,e};var Ot=function(t,e){this.doc=t,this.failed=e};Ot.ok=function(t){return new Ot(t,null)},Ot.fail=function(t){return new Ot(null,t)},Ot.fromReplace=function(t,e,n,i){try{return Ot.ok(t.replace(e,n,i))}catch(t){if(t instanceof p)return Ot.fail(t.message);throw t}};var It=function(t){function e(e,n,i,o){t.call(this),this.from=e,this.to=n,this.slice=i,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Et(t,this.from,this.to)?Ot.fail("Structure replace would overwrite content"):Ot.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new vt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new e(n.pos,Math.max(n.pos,i.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?d.empty:new d(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var i=this.slice.size+t.slice.size==0?d.empty:new d(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),i,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,d.fromJSON(t,n.slice),!!n.structure)},e}(xt);xt.jsonID("replace",It);var _t=function(t){function e(e,n,i,o,r,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=r,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Et(t,this.from,this.gapFrom)||Et(t,this.gapTo,this.to)))return Ot.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Ot.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Ot.fromReplace(t,this.from,this.to,n):Ot.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new vt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),r=t.map(this.gapTo,1);return n.deleted&&i.deleted||o<n.pos||r>i.pos?null:new e(n.pos,i.pos,o,r,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,d.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(xt);function Et(t,e,n){for(var i=t.resolve(e),o=n-e,r=i.depth;o>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,o--;if(o>0)for(var s=i.node(r).maybeChild(i.indexAfter(r));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function Tt(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Dt(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var i=t.$from.node(n),o=t.$from.index(n),r=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(o,r,e))return n;if(0==n||i.type.spec.isolating||!Tt(i,o,r))break}}function Pt(t,e,n,i){void 0===i&&(i=t);var o=function(t,e){var n=t.parent,i=t.startIndex,o=t.endIndex,r=n.contentMatchAt(i).findWrapping(e);if(!r)return null;var s=r.length?r[0]:e;return n.canReplaceWith(i,o,s)?r:null}(t,e),r=o&&function(t,e){var n=t.parent,i=t.startIndex,o=t.endIndex,r=n.child(i),s=e.contentMatch.findWrapping(r.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,l=i;a&&l<o;l++)a=a.matchType(n.child(l).type);if(!a||!a.validEnd)return null;return s}(i,e);return r?o.map(Bt).concat({type:e,attrs:n}).concat(r.map(Bt)):null}function Bt(t){return{type:t,attrs:null}}function At(t,e,n,i){void 0===n&&(n=1);var o=t.resolve(e),r=o.depth-n,s=i&&i[i.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>r;a--,l--){var c=o.node(a),u=o.index(a);if(c.type.spec.isolating)return!1;var p=c.content.cutByIndex(u,c.childCount),d=i&&i[l]||c;if(d!=c&&(p=p.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(u+1,c.childCount)||!d.type.validContent(p))return!1}var h=o.indexAfter(r),f=i&&i[0];return o.node(r).canReplaceWith(h,h,f?f.type:o.node(r+1).type)}function Mt(t,e){var n=t.resolve(e),i=n.index();return Rt(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Rt(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function jt(t,e,n){void 0===n&&(n=-1);for(var i=t.resolve(e),o=i.depth;;o--){var r=void 0,s=void 0,a=i.index(o);if(o==i.depth?(r=i.nodeBefore,s=i.nodeAfter):n>0?(r=i.node(o+1),a++,s=i.node(o).maybeChild(a)):(r=i.node(o).maybeChild(a-1),s=i.node(o+1)),r&&!r.isTextblock&&Rt(r,s)&&i.node(o).canReplace(a,a+1))return e;if(0==o)break;e=n<0?i.before(o):i.after(o)}}function zt(t,e,n){var i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(0==i.parentOffset)for(var o=i.depth-1;o>=0;o--){var r=i.index(o);if(i.node(o).canReplaceWith(r,r,n))return i.before(o+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(var s=i.depth-1;s>=0;s--){var a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}}function Ft(t,e,n){var i=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,r=0;r<n.openStart;r++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=i.depth;a>=0;a--){var l=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,c=i.index(a)+(l>0?1:0);if(1==s?i.node(a).canReplace(c,c,o):i.node(a).contentMatchAt(c).findWrapping(o.firstChild.type))return 0==l?i.pos:l<0?i.before(a+1):i.after(a+1)}return null}function Nt(t,e,n){for(var i=[],o=0;o<t.childCount;o++){var s=t.child(o);s.content.size&&(s=s.copy(Nt(s.content,e,s))),s.isInline&&(s=e(s,n,o)),i.push(s)}return r.fromArray(i)}xt.jsonID("replaceAround",_t),wt.prototype.lift=function(t,e){for(var n=t.$from,i=t.$to,o=t.depth,s=n.before(o+1),a=i.after(o+1),l=s,c=a,u=r.empty,p=0,h=o,f=!1;h>e;h--)f||n.index(h)>0?(f=!0,u=r.from(n.node(h).copy(u)),p++):l--;for(var m=r.empty,g=0,v=o,y=!1;v>e;v--)y||i.after(v+1)<i.end(v)?(y=!0,m=r.from(i.node(v).copy(m)),g++):c++;return this.step(new _t(l,c,s,a,new d(u.append(m),p,g),u.size-p,!0))},wt.prototype.wrap=function(t,e){for(var n=r.empty,i=e.length-1;i>=0;i--)n=r.from(e[i].type.create(e[i].attrs,n));var o=t.start,s=t.end;return this.step(new _t(o,s,o,s,new d(n,0,0),e.length,!0))},wt.prototype.setBlockType=function(t,e,n,i){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,i)&&function(t,e,n){var i=t.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(s).map(e),n)){o.clearIncompatible(o.mapping.slice(s).map(e,1),n);var a=o.mapping.slice(s),l=a.map(e,1),c=a.map(e+t.nodeSize,1);return o.step(new _t(l,c,l+1,c-1,new d(r.from(n.create(i,null,t.marks)),0,0),1,!0)),!1}})),this},wt.prototype.setNodeMarkup=function(t,e,n,i){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var s=e.create(n,null,i||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new _t(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new d(r.from(s),0,0),1,!0))},wt.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var i=this.doc.resolve(t),o=r.empty,s=r.empty,a=i.depth,l=i.depth-e,c=e-1;a>l;a--,c--){o=r.from(i.node(a).copy(o));var u=n&&n[c];s=r.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}return this.step(new It(t,t,new d(o.append(s),e,e),!0))},wt.prototype.join=function(t,e){void 0===e&&(e=1);var n=new It(t-e,t+e,d.empty,!0);return this.step(n)};var Lt=function(t){function e(e,n,i){t.call(this),this.from=e,this.to=n,this.mark=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=t.resolve(this.from),o=i.node(i.sharedDepth(this.to)),r=new d(Nt(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return Ot.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new Vt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new e(n.pos,i.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(xt);xt.jsonID("addMark",Lt);var Vt=function(t){function e(e,n,i){t.call(this),this.from=e,this.to=n,this.mark=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=new d(Nt(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Ot.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new Lt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new e(n.pos,i.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(xt);function Ht(t,e,n,i){if(void 0===n&&(n=e),void 0===i&&(i=d.empty),e==n&&!i.size)return null;var o=t.resolve(e),r=t.resolve(n);return $t(o,r,i)?new It(e,n,i):new Wt(o,r,i).fit()}function $t(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}xt.jsonID("removeMark",Vt),wt.prototype.addMark=function(t,e,n){var i=this,o=[],r=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(i,l,c){if(i.isInline){var u=i.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,t),d=Math.min(l+i.nodeSize,e),h=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(h)||(s&&s.to==p&&s.mark.eq(u[f])?s.to=d:o.push(s=new Vt(p,d,u[f])));a&&a.to==p?a.to=d:r.push(a=new Lt(p,d,n))}}})),o.forEach((function(t){return i.step(t)})),r.forEach((function(t){return i.step(t)})),this},wt.prototype.removeMark=function(t,e,n){var i=this;void 0===n&&(n=null);var o=[],r=0;return this.doc.nodesBetween(t,e,(function(i,s){if(i.isInline){r++;var a=null;if(n instanceof X){var l=n.isInSet(i.marks);l&&(a=[l])}else n?n.isInSet(i.marks)&&(a=[n]):a=i.marks;if(a&&a.length)for(var c=Math.min(s+i.nodeSize,e),u=0;u<a.length;u++){for(var p=a[u],d=void 0,h=0;h<o.length;h++){var f=o[h];f.step==r-1&&p.eq(o[h].style)&&(d=f)}d?(d.to=c,d.step=r):o.push({style:p,from:Math.max(s,t),to:c,step:r})}}})),o.forEach((function(t){return i.step(new Vt(t.from,t.to,t.style))})),this},wt.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var i=this.doc.nodeAt(t),o=[],s=t+1,a=0;a<i.childCount;a++){var l=i.child(a),c=s+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var p=0;p<l.marks.length;p++)e.allowsMarkType(l.marks[p].type)||this.step(new Vt(s,c,l.marks[p]))}else o.push(new It(s,c,d.empty));s=c}if(!n.validEnd){var h=n.fillBefore(r.empty,!0);this.replace(s,s,new d(h,0,0))}for(var f=o.length-1;f>=0;f--)this.step(o[f]);return this},wt.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=d.empty);var i=Ht(this.doc,t,e,n);return i&&this.step(i),this},wt.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new d(r.from(n),0,0))},wt.prototype.delete=function(t,e){return this.replace(t,e,d.empty)},wt.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var Wt=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}this.placed=r.empty;for(var s=t.depth;s>0;s--)this.placed=r.from(t.node(s).copy(this.placed))},Kt={depth:{configurable:!0}};function Ut(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(Ut(t.firstChild.content,e-1,n)))}function qt(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(qt(t.lastChild.content,e-1,n)))}function Gt(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function Jt(t,e,n){if(e<=0)return t;var i=t.content;return e>1&&(i=i.replaceChild(0,Jt(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.empty,!0)))),t.copy(i)}function Zt(t,e,n,i,o){var r=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==r.childCount&&!n.compatibleContent(r.type))return null;var a=i.fillBefore(r.content,!0,s);return a&&!function(t,e,n){for(var i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}(n,r.content,s)?a:null}function Xt(t,e,n,i,o){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(Xt(s.content,e+1,n,i,s)))}if(e>i){var a=o.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(r.empty,!0))}return t}function Yt(t,e){for(var n=[],i=Math.min(t.depth,e.depth);i>=0;i--){var o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;o==e.start(i)&&n.push(i)}return n}Kt.depth.get=function(){return this.frontier.length-1},Wt.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(e<0?this.$to:i.doc.resolve(e));if(!o)return null;for(var r=this.placed,s=i.depth,a=o.depth;s&&a&&1==r.childCount;)r=r.firstChild.content,s--,a--;var l=new d(r,s,a);return e>-1?new _t(i.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new It(i.pos,o.pos,l):void 0},Wt.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,i=(e?(n=Gt(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var s=this.frontier[o],a=s.type,l=s.match,c=void 0,u=void 0;if(1==t&&(i?l.matchType(i.type)||(u=l.fillBefore(r.from(i),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:u};if(2==t&&i&&(c=l.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:c};if(n&&l.matchType(n.type))break}},Wt.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=Gt(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new d(e,n+1,Math.max(i,o.size+n>=e.size-i?n+1:0)),!0)},Wt.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=Gt(e,n);if(o.childCount<=1&&n>0){var r=e.size-n<=n+o.size;this.unplaced=new d(Ut(e,n-1,1),n-1,r?n-1:i)}else this.unplaced=new d(Ut(e,n,1),n,i)},Wt.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,i=t.parent,o=t.inject,s=t.wrap;this.depth>n;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,c=i?i.content:l.content,u=l.openStart-e,p=0,h=[],f=this.frontier[n],m=f.match,g=f.type;if(o){for(var v=0;v<o.childCount;v++)h.push(o.child(v));m=m.matchFragment(o)}for(var y=c.size+e-(l.content.size-l.openEnd);p<c.childCount;){var b=c.child(p),w=m.matchType(b.type);if(!w)break;(++p>1||0==u||b.content.size)&&(m=w,h.push(Jt(b.mark(g.allowedMarks(b.marks)),1==p?u:0,p==c.childCount?y:-1)))}var k=p==c.childCount;k||(y=-1),this.placed=qt(this.placed,n,r.from(h)),this.frontier[n].match=m,k&&y<0&&i&&i.type==this.frontier[this.depth].type&&this.closeFrontierNode();for(var C=0,S=c;C<y;C++){var x=S.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),S=x.content}this.unplaced=k?0==e?d.empty:new d(Ut(l.content,e-1,1),e-1,y<0?l.openEnd:e-1):new d(Ut(l.content,e,p),l.openStart,l.openEnd)},Wt.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!Zt(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,i=this.$to.after(n);n>1&&i==this.$to.end(--n);)++i;return i},Wt.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],i=n.match,o=n.type,r=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=Zt(t,e,o,i,r);if(s){for(var a=e-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=Zt(t,a,l.type,c,!0);if(!u||u.childCount)continue t}return{depth:e,fit:s,move:r?t.doc.resolve(t.after(e+1)):t}}}},Wt.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=qt(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var i=t.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(n));this.openFrontierNode(i.type,i.attrs,o)}return t},Wt.prototype.openFrontierNode=function(t,e,n){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=qt(this.placed,this.depth,r.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},Wt.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(r.empty,!0);t.childCount&&(this.placed=qt(this.placed,this.frontier.length,t))},Object.defineProperties(Wt.prototype,Kt),wt.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var i=this.doc.resolve(t),o=this.doc.resolve(e);if($t(i,o,n))return this.step(new It(t,e,n));var r=Yt(i,this.doc.resolve(e));0==r[r.length-1]&&r.pop();var s=-(i.depth+1);r.unshift(s);for(var a=i.depth,l=i.pos-1;a>0;a--,l--){var c=i.node(a).type.spec;if(c.defining||c.isolating)break;r.indexOf(a)>-1?s=a:i.before(a)==l&&r.splice(1,0,-a)}for(var u=r.indexOf(s),p=[],h=n.openStart,f=n.content,m=0;;m++){var g=f.firstChild;if(p.push(g),m==n.openStart)break;f=g.content}h>0&&p[h-1].type.spec.defining&&i.node(u).type!=p[h-1].type?h-=1:h>=2&&p[h-1].isTextblock&&p[h-2].type.spec.defining&&i.node(u).type!=p[h-2].type&&(h-=2);for(var v=n.openStart;v>=0;v--){var y=(v+h+1)%(n.openStart+1),b=p[y];if(b)for(var w=0;w<r.length;w++){var k=r[(w+u)%r.length],C=!0;k<0&&(C=!1,k=-k);var S=i.node(k-1),x=i.index(k-1);if(S.canReplaceWith(x,x,b.type,b.marks))return this.replace(i.before(k),C?o.after(k):e,new d(Xt(n.content,0,n.openStart,y),y,n.openEnd))}}for(var O=this.steps.length,I=r.length-1;I>=0&&(this.replace(t,e,n),!(this.steps.length>O));I--){var _=r[I];I<0||(t=i.before(_),e=o.after(_))}return this},wt.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var i=zt(this.doc,t,n.type);null!=i&&(t=e=i)}return this.replaceRange(t,e,new d(r.from(n),0,0))},wt.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),i=this.doc.resolve(e),o=Yt(n,i),r=0;r<o.length;r++){var s=o[r],a=r==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),i.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return this.delete(n.before(s),i.after(s))}for(var l=1;l<=n.depth&&l<=i.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&i.end(l)-e!=i.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)};var Qt=Object.create(null),te=function(t,e,n){this.ranges=n||[new ne(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},ee={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};ee.anchor.get=function(){return this.$anchor.pos},ee.head.get=function(){return this.$head.pos},ee.from.get=function(){return this.$from.pos},ee.to.get=function(){return this.$to.pos},ee.$from.get=function(){return this.ranges[0].$from},ee.$to.get=function(){return this.ranges[0].$to},ee.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},te.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},te.prototype.replace=function(t,e){void 0===e&&(e=d.empty);for(var n=e.content.lastChild,i=null,o=0;o<e.openEnd;o++)i=n,n=n.lastChild;for(var r=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var l=s[a],c=l.$from,u=l.$to,p=t.mapping.slice(r);t.replaceRange(p.map(c.pos),p.map(u.pos),a?d.empty:e),0==a&&ue(t,r,(n?n.isInline:i&&i.isTextblock)?-1:1)}},te.prototype.replaceWith=function(t,e){for(var n=t.steps.length,i=this.ranges,o=0;o<i.length;o++){var r=i[o],s=r.$from,a=r.$to,l=t.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),ue(t,n,e.isInline?-1:1))}},te.findFrom=function(t,e,n){var i=t.parent.inlineContent?new ie(t):ce(t.node(0),t.parent,t.pos,t.index(),e,n);if(i)return i;for(var o=t.depth-1;o>=0;o--){var r=e<0?ce(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):ce(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(r)return r}},te.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new ae(t.node(0))},te.atStart=function(t){return ce(t,t,0,0,1)||new ae(t)},te.atEnd=function(t){return ce(t,t,t.content.size,t.childCount,-1)||new ae(t)},te.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Qt[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},te.jsonID=function(t,e){if(t in Qt)throw new RangeError("Duplicate use of selection JSON ID "+t);return Qt[t]=e,e.prototype.jsonID=t,e},te.prototype.getBookmark=function(){return ie.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(te.prototype,ee),te.prototype.visible=!0;var ne=function(t,e){this.$from=t,this.$to=e},ie=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));if(!o.parent.inlineContent)return t.near(o);var r=n.resolve(i.map(this.anchor));return new e(r.parent.inlineContent?r:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=d.empty),t.prototype.replace.call(this,e,n),n==d.empty){var i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new oe(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var i=t.resolve(e);return new this(i,n==e?i:t.resolve(n))},e.between=function(n,i,o){var r=n.pos-i.pos;if(o&&!r||(o=r>=0?1:-1),!i.parent.inlineContent){var s=t.findFrom(i,o,!0)||t.findFrom(i,-o,!0);if(!s)return t.near(i,o);i=s.$head}return n.parent.inlineContent||(0==r||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<i.pos!=r<0)&&(n=i),new e(n,i)},Object.defineProperties(e.prototype,n),e}(te);te.jsonID("text",ie);var oe=function(t,e){this.anchor=t,this.head=e};oe.prototype.map=function(t){return new oe(t.map(this.anchor),t.map(this.head))},oe.prototype.resolve=function(t){return ie.between(t.resolve(this.anchor),t.resolve(this.head))};var re=function(t){function e(e){var n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,i),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=i.mapResult(this.anchor),r=o.deleted,s=o.pos,a=n.resolve(s);return r?t.near(a):new e(a)},e.prototype.content=function(){return new d(r.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new se(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(te);re.prototype.visible=!1,te.jsonID("node",re);var se=function(t){this.anchor=t};se.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,i=e.pos;return n?new oe(i,i):new se(i)},se.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&re.isSelectable(n)?new re(e):te.near(e)};var ae=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=d.empty),n==d.empty){e.delete(0,e.doc.content.size);var i=t.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return le},e}(te);te.jsonID("all",ae);var le={map:function(){return this},resolve:function(t){return new ae(t)}};function ce(t,e,n,i,o,r){if(e.inlineContent)return ie.create(t,n);for(var s=i-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!r&&re.isSelectable(a))return re.create(t,n-(o<0?a.nodeSize:0))}else{var l=ce(t,a,n+o,o<0?a.childCount:0,o,r);if(l)return l}n+=a.nodeSize*o}}function ue(t,e,n){var i=t.steps.length-1;if(!(i<e)){var o,r=t.steps[i];if(r instanceof It||r instanceof _t)t.mapping.maps[i].forEach((function(t,e,n,i){null==o&&(o=i)})),t.setSelection(te.near(t.doc.resolve(o),n))}}var pe=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return u.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||u.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var i=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var r=this.doc.resolve(e);o=n==e?r.marks():r.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,i.text(t,o)),this.selection.empty||this.setSelection(te.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(wt);function de(t,e){return e&&t?t.bind(e):t}var he=function(t,e,n){this.name=t,this.init=de(e.init,n),this.apply=de(e.apply,n)},fe=[new he("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new he("selection",{init:function(t,e){return t.selection||te.atStart(e.doc)},apply:function(t){return t.selection}}),new he("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new he("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],me=function(t,e){var n=this;this.schema=t,this.fields=fe.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new he(t.key,t.spec.state,t))}))},ge=function(t){this.config=t},ve={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};ve.schema.get=function(){return this.config.schema},ve.plugins.get=function(){return this.config.plugins},ge.prototype.apply=function(t){return this.applyTransaction(t).state},ge.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0},ge.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),i=null;;){for(var o=!1,r=0;r<this.config.plugins.length;r++){var s=this.config.plugins[r];if(s.spec.appendTransaction){var a=i?i[r].n:0,l=i?i[r].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(c&&n.filterTransaction(c,r)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(var u=0;u<this.config.plugins.length;u++)i.push(u<r?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}i&&(i[r]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},ge.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new ge(this.config),n=this.config.fields,i=0;i<n.length;i++){var o=n[i];e[o.name]=o.apply(t,this[o.name],this,e)}for(var r=0;r<ye.length;r++)ye[r](this,t,e);return e},ve.tr.get=function(){return new pe(this)},ge.create=function(t){for(var e=new me(t.schema||t.doc.type.schema,t.plugins),n=new ge(e),i=0;i<e.fields.length;i++)n[e.fields[i].name]=e.fields[i].init(t,n);return n},ge.prototype.reconfigure=function(t){for(var e=new me(t.schema||this.schema,t.plugins),n=e.fields,i=new ge(e),o=0;o<n.length;o++){var r=n[o].name;i[r]=this.hasOwnProperty(r)?this[r]:n[o].init(t,i)}return i},ge.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=t[n],o=i.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(i,this[i.key]))}return e},ge.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new me(t.schema,t.plugins),o=new ge(i);return i.fields.forEach((function(i){if("doc"==i.name)o.doc=T.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=te.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var r in n){var s=n[r],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(o[i.name]=a.fromJSON.call(s,t,e[r],o))}o[i.name]=i.init(t,o)}})),o},ge.addApplyListener=function(t){ye.push(t)},ge.removeApplyListener=function(t){var e=ye.indexOf(t);e>-1&&ye.splice(e,1)},Object.defineProperties(ge.prototype,ve);var ye=[];var be=function(t){this.props={},t.props&&function t(e,n,i){for(var o in e){var r=e[o];r instanceof Function?r=r.bind(n):"handleDOMEvents"==o&&(r=t(r,n,{})),i[o]=r}return i}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:ke("plugin")};be.prototype.getState=function(t){return t[this.key]};var we=Object.create(null);function ke(t){return t in we?t+"$"+ ++we[t]:(we[t]=0,t+"$")}var Ce=function(t){void 0===t&&(t="key"),this.key=ke(t)};Ce.prototype.get=function(t){return t.config.pluginsByKey[this.key]},Ce.prototype.getState=function(t){return t[this.key]};var Se=function(t,e,n){var i,o=t||"",r=document.createElement("template");"content"in r?(r.innerHTML=o,i=r.content):i=(new DOMParser).parseFromString(o,"text/html").body;return tt.fromSchema(e).parse(i,n)},xe=function(t){var e=pt.fromSchema(t.schema).serializeFragment(t.doc.content),n=document.createElement("div");return n.appendChild(e),n.innerHTML},Oe=function(t,e,n){return void 0===e&&(e="setHTML"),void 0===n&&(n={preserveWhitespace:"full"}),function(i,o){return o(i.tr.setSelection(new ae(i.doc)).replaceSelectionWith(Se(t,i.schema,n)).setMeta("commandName",e))}},Ie=n(2),_e=function(t,e,n){for(var i=function(i){var o=e[i],r=o.$from,s=o.$to,a=0===r.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(r.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<e.length;o++){var r=i(o);if(r)return r.v}return!1},Ee=function(t,e,n){return function(i,o){var r=i.selection,s=r.empty,a=r.$cursor,l=r.ranges;if(s&&!a||!_e(i.doc,l,t))return!1;if(o)if(a)t.isInSet(i.storedMarks||a.marks())?o(n.removeStoredMark(t)):o(n.addStoredMark(t.create(e)));else{for(var c=!1,u=0;!c&&u<l.length;u++){var p=l[u],d=p.$from,h=p.$to;c=i.doc.rangeHasMark(d.pos,h.pos,t)}for(u=0;u<l.length;u++){var f=l[u];d=f.$from,h=f.$to;c?n.removeMark(d.pos,h.pos,t):n.addMark(d.pos,h.pos,t.create(e))}o(n.scrollIntoView())}return!0}},Te=function(t,e,n,i){void 0===i&&(i=null);var o=[],r=0;return t.doc.nodesBetween(e,n,(function(t,s){if(t.isInline){r++;var a=null;if(i instanceof X){var l=i.isInSet(t.marks);l&&(a=[l])}else i?i.isInSet(t.marks)&&(a=[i]):a=t.marks;if(a&&a.length)for(var c=Math.min(s+t.nodeSize,n),u=0;u<a.length;u++){for(var p=a[u],d=void 0,h=0;h<o.length;h++){var f=o[h];f.step===r-1&&p.eq(f.style)&&(d=f)}d?(d.to=c,d.step=r):o.push({style:p,from:Math.max(s,e),to:c,step:r})}}})),o.forEach((function(e){return t.step(new Vt(e.from,e.to,e.style))})),t},De=function(t){var e=(void 0===t?{}:t).except,n=void 0===e?[]:e;return function(t,e){var i,o=t.schema,r=t.selection,s=r.empty,a=r.ranges,l=t.tr,c=(i=n,i instanceof Array?i:[i]).map((function(t){return t.name}));if(!s){var u=Object.keys(o.marks).map((function(t){return o.marks[t]})).filter((function(t){return-1===c.indexOf(t.name)}));a.forEach((function(t){var e=t.$from,n=t.$to;u.forEach((function(t){return l.removeMark(e.pos,n.pos,t)}))})),e(l)}}},Pe=function(t,e){var n,i=t.schema.marks,o=(e.altMarks||[]).filter((function(t){return i[t]})),r=e.altStyle,s=t.selection,a=s.from,l=s.$from,c=s.to,u=s.empty,p=i[e.mark],d=t.doc,h=!1;return u?(n=t.storedMarks||l.marks(),h=p&&p.isInSet(n)||o.some((function(t){return i[t].isInSet(n)}))):h=p&&d.rangeHasMark(a,c,p)||o.some((function(t){return d.rangeHasMark(a,c,i[t])})),!h&&r?Ze(t,r):Boolean(h)},Be=function(t,e){var n,i=t.selection,o=i.from,r=i.$from,s=i.to,a=i.empty,l=t.doc;if(a)n=e.isInSet(t.storedMarks||r.marks());else{var c=[];l.nodesBetween(o,s,(function(t){t.isInline&&c.push(e.isInSet(t.marks))})),c.some((function(t){return!t}))||(n=c[c.length-1])}return n},Ae=function(t,e){var n=t.selection,i=!1;if(n instanceof ie&&n.$cursor)return{hasNodesWithoutMarks:i,marks:n.$cursor.marks().filter((function(t){return!e||t.type.name===e.name}))};var o=[];return n.content().content.descendants((function(t){if("text"===t.type.name){var n=e?function(t,e){return e.marks.filter((function(e){return e.type.name===t.name}))}(e,t):t.marks;t.marks.length>0&&n.length>0?o.push.apply(o,n):i=!0}})),{hasNodesWithoutMarks:i,marks:o}},Me=function(t,e){var n=e.style,i=e.value,o=e.newValue,r=[];if(t){var s=t.split(/\s*;\s*/).filter((function(t){return t})),a=s.filter((function(t){if(!t.toLowerCase().trim().startsWith(n))return!0;var e=t.split(":")[1].trim();return!i.test(e)||(r.push(e),!1)}));return o&&a.push(n+": "+o),{style:a.join("; ")+(a.length?";":""),changed:!!o||a.length!==s.length,styleMatches:r}}return{changed:!1,styleMatches:r,style:null}},Re=function(t,e){for(var n=t.selection.$from,i=n.depth;i>=0;i--){var o=n.index(i);if(n.node(i).canReplaceWith(o,o,e))return!0}return!1},je=function(t){return t instanceof T?t.type.name:t.name},ze=function(t,e){return void 0===e&&(e=1),function(n){return function(t,e){return void 0===e&&(e=1),function(n){for(var i=n.$from,o=i.depth;o>0;o--){var r=i.node(o);if(t(r)&&0===(e-=1))return{depth:o,node:r}}}}((function(e){return je(e)===je(t)}),e)(n)}},Fe=function(t,e){return function(n,i){var o=n.tr.replaceSelectionWith(t);e&&o.scrollIntoView(),i(o)}},Ne=function(t,e,n,i){var o=r.from(Se(t,n,i)),s=r.from(Se(e,n,i));return o.eq(s)},Le=function(t){return t[0]},Ve=function(t){return t[t.length-1]},He=function(t){return function(e){return e.split(t)}},$e=function(t){return t.trim()},We=function(t,e){if(t.hasNodesWithoutMarks)return"";var n,i=t.marks.filter((function(t){return"style"===t.type.name})).map((function(t){return t.attrs.style})).map(He(";")).map((n=function(t){return t.includes(e)},function(t){return t.filter(n)})).map((function(t){return 0!==t.length?t:[e+": INVALID"]})).map(Le).map(He(":")).map(Ve).map($e).reduce((function(t,e){return t.indexOf(e)>-1?t:t.concat([e])}),[]);return i.indexOf("INVALID")>-1||1!==i.length?"":i[0]},Ke=function(t){var e=t.selection;if(e instanceof ie||e instanceof ae){var n=e.content().content;return n.textBetween(0,n.size)}return""},Ue=function(t){if(t.selection instanceof re)return t.selection.node},qe=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},Ge=function(t,e){var n=t.find((function(t){return"style"===t.type.name})),i=n&&n.attrs.style;return Me(i,e)},Je=function(t,e,n,i,o){var r=o.create({style:i.style}),s=[],a=[],l=null,c=null;return t.doc.nodesBetween(e,n,(function(t,u,p){if(t.isInline){var d=t.marks;if(!r.isInSet(d)&&p.type.allowsMarkType(r.type)){var h=Math.max(u,e),f=Math.min(u+t.nodeSize,n),m=Ge(d,i);if(m.changed||i.newValue){for(var g=m.changed?{style:m.style||null}:{style:[i.style]+": "+i.newValue+";"},v=o.isInSet(d)?d.find((function(t){return"style"===t.type.name})):null,y=v?Ie.__assign({},v.attrs,g):g,b=o.create(y),w=b.addToSet(d),k=0;k<d.length;k++)d[k].isInSet(w)||(l&&l.to===h&&l.mark.eq(d[k])?l.to=f:(l=new Vt(h,f,d[k]),s.push(l)));var C=c&&c.to===h,S=C&&b.attrs.style===c.mark.attrs.style;C&&S?c.to=f:Object.keys(y).some((function(t){return null!==y[t]}))&&(c=new Lt(h,f,b),a.push(c))}}}})),s.forEach((function(e){return t.step(e)})),a.forEach((function(e){return t.step(e)})),s.length+a.length>0},Ze=function(t,e){var n=t.selection,i=n.from,o=n.$from,r=n.to,s=n.empty,a=!1,l={style:e.name,value:e.value};return s?a=Ge(t.storedMarks||o.marks(),l).changed:t.doc.nodesBetween(i,r,(function(t,e,n){!a&&t.isInline&&(a=Ge(t.marks,l).changed)})),a},Xe=function(t,e){var n,i=t.selection,o=i.from,r=i.$from,s=i.to,a=i.empty,l=[],c={style:e.name,value:e.value};return a?(n=Ge(t.storedMarks||r.marks(),c)).changed&&(l=n.styleMatches):t.doc.nodesBetween(o,s,(function(t,e,i){t.isInline&&((n=Ge(t.marks,c)).changed?l.push.apply(l,n.styleMatches):l.push(null))})),l.filter((function(t){return null!==t}))},Ye=function(t,e){return function(n,i,o){var r=n.selection,s=r.empty,a=r.$cursor,l=r.ranges;if(s&&!a||!_e(n.doc,l,t))return!1;var c=!1;if(i)if(o=o||n.tr,a){var u=n.storedMarks||a.marks();if(t.isInSet(u)){var p=Ge(u,e),d=u.find((function(t){return"style"===t.type.name})),h=Ie.__assign({},d?d.attrs:{},{style:p.style||null});i(o.removeStoredMark(t)),Object.keys(h).some((function(t){return null!==h[t]}))&&i(o.addStoredMark(t.create(h))),c=!0}}else{for(var f=0;f<l.length;f++){var m=l[f],g=m.$from,v=m.$to;c=Je(o,g.pos,v.pos,e,t)}c&&(o.scrollIntoView(),i(o))}return c}},Qe=function(t,e,n){return function(i,o){var r=i.schema.marks,s=t.altStyle,a=t.altMarks,l=void 0===a?[]:a,c=t.mark;e=e||i.tr;var u=!1,p=!1,d=function(){return p=!0};if(s&&r.style){var h=r.style;u=Ye(h,{style:s.name,value:s.value})(i,d,e)}var f=[c].concat(l).filter((function(t){return r[t]})).map((function(t){return Pe(i,{mark:t})&&r[t]})).filter((function(t){return t}));return f.length?function(t,e,n,i){var o=e.selection,r=o.$cursor,s=o.ranges;if(i=i||e.tr,r)t.forEach((function(t){t.isInSet(e.storedMarks||r.marks())&&n(i.removeStoredMark(t))}));else{for(var a=function(e){var n=s[e],o=n.$from,r=n.$to;t.forEach((function(t){Te(i,o.pos,r.pos,t)}))},l=0;l<s.length;l++)a(l);n(i.scrollIntoView())}}(f,i,d,e):u||Ee(r[c],n,e)(i,d),p&&o(e),p}},tn=function(t,e){return function(n,i){var o=n.schema.marks.style,r={style:t.style,value:/^.+$/,newValue:t.value},s=n.tr;e&&s.setMeta("commandName",e),s.setMeta("args",t);var a=n.selection,l=a.empty,c=a.$cursor,u=a.ranges;if(l&&!c||!_e(n.doc,u,o))return!1;if(c){var p=n.storedMarks||c.marks(),d=o.isInSet(p)?p.find((function(t){return"style"===t.type.name})):null,h={style:null};if(d&&d.attrs.style){var f=Me(d.attrs.style,r);f.changed&&f.style&&(h.style=f.style)}else r.newValue&&(h.style=[r.style]+": "+r.newValue+";");var m=d?Ie.__assign({},d.attrs,h):h;return Object.keys(m).some((function(t){return null!==m[t]}))?i(s.addStoredMark(o.create(m))):i(s.removeStoredMark(o)),!0}return Ye(o,r)(n,i,s)}},en=function(t,e){return function(n,i){var o=n.selection.$cursor;if(o){var r=o.parent,s=o.index(),a=n.schema.marks[t.mark],l=r.child(s).marks.find((function(t){return t.type===a})),c=r.childCount,u=o.pos-o.textOffset,p=r.child(s).nodeSize,d=void 0,h=void 0;for(d=s-1;d>=0&&l.isInSet(r.child(d).marks);)p+=h=r.child(d).nodeSize,u-=h,d-=1;for(d=s+1;d<c&&l.isInSet(r.child(d).marks);)p+=r.child(d).nodeSize,d+=1;i(Te(e||n.tr,u,u+p,l))}else Qe(t,e)(n,i)}},nn=function(t,e){var n=t.mark,i=t.attrs;return void 0===e&&(e="link"),function(t,o){var r=t.schema.marks,s=t.tr;e&&(s.setMeta("commandName",e),s.setMeta("args",i));var a=!1,l=function(){return a=!0};if(function(t,e){var n=t.selection,i=n.from,o=n.$from,r=n.to,s=n.empty,a=t.doc;if(s)return e.isInSet(t.storedMarks||o.marks())||null;var l=[];return a.nodesBetween(i,r,(function(t){t.isInline&&l.push(e.isInSet(t.marks))})),1===l.length&&l[0]?l[0]:null}(t,r[n]))!function(t,e){return function(n,i){var o=n.selection,r=o.$cursor,s=o.from,a=o.to,l=n.schema.marks[t.mark];if(r){var c=r.parent,u=r.index(),p=c.child(u).marks.find((function(t){return t.type===l})),d=c.childCount,h=r.pos-r.textOffset,f=c.child(u).nodeSize,m=void 0,g=void 0;for(m=u-1;m>=0&&p.isInSet(c.child(m).marks);)f+=g=c.child(m).nodeSize,h-=g,m-=1;for(m=u+1;m<d&&p.isInSet(c.child(m).marks);)f+=c.child(m).nodeSize,m+=1;e.removeMark(h,h+f,l),e.addMark(h,h+f,l.create(t.attrs)),i(e)}else e.doc.nodesBetween(s,a,(function(n,o){n.isInline&&l.isInSet(n.marks)&&(e.removeMark(o,o+n.nodeSize,l),e.addMark(o,o+n.nodeSize,l.create(t.attrs)),i(e))}))}}({mark:n,attrs:i},s)(t,l);else{var c=t;Pe(t,{mark:n})&&(en({mark:n,attrs:i},s)(t,l),c=ge.create({doc:s.doc,selection:s.selection})),a?Ee(r[n],i,s)(c,l):Qe({mark:n},s,i)(c,l)}return a&&o(s),a}},on=function(t){return function(e,n){n(e.tr.insertText(t.text,t.from,t.to))}},rn=function(t){return function(e,n){var i=e.schema.nodes.image,o=i.createAndFill(t);Fe(o)(e,(function(e){return n(e.setMeta("commandName","insertImage").setMeta("args",t))}))}},sn=function(t,e,n,i,o,s){var a=t.selection,l=a.from,c=a.to,u=!1;if(t.doc.nodesBetween(l,c,(function(e,n){if(u)return!1;if(e.isTextblock&&!e.hasMarkup(o,s))if(e.type===o)u=!0;else{var i=t.doc.resolve(n),r=i.index();u=i.parent.canReplaceWith(r,r+1,o)}})),!u)return!1;if(e){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var p=n.steps.length;n.doc.nodesBetween(l,c,(function(t,e){if(t.eq(i)&&t.isTextblock&&!t.hasMarkup(o,s)&&function(t,e,n){var i=t.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}(n.doc,n.mapping.slice(p).map(e),o)){n.clearIncompatible(n.mapping.slice(p).map(e,1),o);var a=n.mapping.slice(p),l=a.map(e,1),c=a.map(e+t.nodeSize,1),u=new d(r.from(o.create(s,null,t.marks)),0,0);return n.step(new _t(l,c,l+1,c-1,u,1,!0)),!1}}))}return!0},an=function(t){var e=t.selection,n=e.from,i=e.to,o=e.$from,r=[];return e.node?e.node.isBlock?r.push(e.node):o.parent&&o.parent.isBlock&&r.push(o.parent):t.doc.nodesBetween(n,i,(function(t){t.isBlock&&r.push(t)})),r},ln=function(t,e){return function(n,i){var o=an(n),r=n.schema.nodes,s=!1,a=n.tr;return a.setMeta("commandName",e),a.setMeta("args",{value:t}),o.forEach((function(e){if(e.type.isTextblock)if("p"===t){var o=e.attrs,l=o.level,c=Ie.__rest(o,["level"]);s=sn(n,i,a,e,r.paragraph,c)||s}else if(/^h[1-6]$/i.test(t)){l=parseInt(t.substr(1),10);s=sn(n,i,a,e,r.heading,Ie.__assign({},e.attrs,{level:l}))||s}else if("blockquote"===t){var u=e.attrs;l=u.level,c=Ie.__rest(u,["level"]);s=sn(n,i,a,e,r.blockquote,c)||s}})),s&&i(a.scrollIntoView()),s}},cn=function(t){var e=an(t),n=t.schema.nodes,i=[];return e.forEach((function(t){if(t.type===n.paragraph)i.push("p");else if(t.type===n.heading)for(var e=1;e<=6;e++)if(t.attrs.level===e){i.push("h"+e);break}})),i},un=function(t,e){var n=t.attrs.style,i=null,o=null;n&&e.forEach((function(t){o={style:t.name,value:/^.+$/,newValue:t.value},i=Me(n,o),n=i.changed?i.style:n}));return n=n||e.reduce((function(t,e){return(t&&e.value?t+" ":"")+e.value?e.name+": "+e.value+";":""}),""),Object.assign({},t.attrs,{style:n||null})},pn=function(t,e){var n=t.selection,i=n.from,o=n.to,r=!1;return t.doc.nodesBetween(i,o,(function(t){return!(r=r||t.type===e)})),r},dn=function(t){return function(t,e){return Object.keys(t).filter((function(t){return e(t)})).reduce((function(e,n){var i;return Object.assign(e,((i={})[n]=t[n],i))}),{})}(t,(function(e){return null!==t[e]&&void 0!==t[e]&&""!==t[e]}))},hn=function(t,e){var n,i=t.type.spec.parseDOM||[],o=t.attrs;return(n=1===i.length?i[0]:i.find((function(n){var i=pt.fromSchema(e).serializeNode(t);return JSON.stringify(n.getAttrs(i))===JSON.stringify(dn(o))})))?n.tag.toLowerCase().replace(/ *\[[^\]]*]/,""):""},fn=function(t){var e,n=t.schema.nodes.doc;if(t.selection instanceof ae)e=t.doc;else if(t.selection instanceof ie){var i=t.selection.$anchor,o=i.node(i.blockRange().depth);e=je(o)===je(n)?i.node():o}else t.selection instanceof re&&(e=t.selection.node);return{name:je(e),tag:hn(e,t.schema)}},mn=function(t,e){return function(n,i){var o=an(n),r=n.tr;r.setMeta("commandName",e);var s=!1;return o.forEach((function(e){if(e.type.isTextblock){var o={},a=t.find((function(t){return t.node===e.type.name}));a&&(o=un(e,a.style)),s=sn(n,i,r,e,e.type,o)||s}})),s&&i(r.scrollIntoView()),s}},gn=function(t,e){var n=an(t),i=!1;return n.forEach((function(t){if(!i&&t.type.isTextblock&&t.attrs.style){var n=e.find((function(e){return e.node===t.type.name}));n&&(i=n.style.every((function(e){return!!e.value&&new RegExp(e.name+":\\s?"+e.value,"i").test(t.attrs.style)})))}})),i},vn=["ol",0],yn=["ul",0],bn=["li",0],wn={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?vn:["ol",{start:t.attrs.order},0]}},kn={parseDOM:[{tag:"ul"}],toDOM:function(){return yn}},Cn={parseDOM:[{tag:"li"}],toDOM:function(){return bn},defining:!0};function Sn(t,e){var n={};for(var i in t)n[i]=t[i];for(var o in e)n[o]=e[o];return n}function xn(t,e,n){return t.append({ordered_list:Sn(wn,{content:"list_item+",group:n}),bullet_list:Sn(kn,{content:"list_item+",group:n}),list_item:Sn(Cn,{content:e})})}function On(t,e){return function(n,i){var o=n.selection,s=o.$from,a=o.$to,l=s.blockRange(a),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(t)&&0==l.startIndex){if(0==s.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);u=new I(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new I(s,n.doc.resolve(a.end(l.depth)),l.depth)),c=!0}var h=Pt(u,t,e,l);return!!h&&(i&&i(function(t,e,n,i,o){for(var s=r.empty,a=n.length-1;a>=0;a--)s=r.from(n[a].type.create(n[a].attrs,s));t.step(new _t(e.start-(i?2:0),e.end,e.start,e.end,new d(s,0,0),n.length,!0));for(var l=0,c=0;c<n.length;c++)n[c].type==o&&(l=c+1);for(var u=n.length-l,p=e.start+n.length-(i?2:0),h=e.parent,f=e.startIndex,m=e.endIndex,g=!0;f<m;f++,g=!1)!g&&At(t.doc,p,u)&&(t.split(p,u),p+=2*u),p+=h.child(f).nodeSize;return t}(n.tr,l,h,c,t).scrollIntoView()),!0)}}function In(t){return function(e,n){var i=e.selection,o=i.$from,s=i.$to,a=i.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(s))return!1;var l=o.node(-1);if(l.type!=t)return!1;if(0==o.parent.content.size){if(2==o.depth||o.node(-3).type!=t||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var c=r.empty,u=o.index(-1)>0,p=o.depth-(u?1:2);p>=o.depth-3;p--)c=r.from(o.node(p).copy(c));c=c.append(r.from(t.createAndFill()));var h=e.tr.replace(o.before(u?null:-1),o.after(-3),new d(c,u?3:2,2));h.setSelection(e.selection.constructor.near(h.doc.resolve(o.pos+(u?3:2)))),n(h.scrollIntoView())}return!0}var f=s.pos==o.end()?l.contentMatchAt(0).defaultType:null,m=e.tr.delete(o.pos,s.pos),g=f&&[null,{type:f}];return!!At(m.doc,o.pos,2,g)&&(n&&n(m.split(o.pos,2,g).scrollIntoView()),!0)}}function _n(t){return function(e,n){var i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(o.node(a.depth-1).type==t?function(t,e,n,i){var o=t.tr,s=i.end,a=i.$to.end(i.depth);s<a&&(o.step(new _t(s-1,a,s,a,new d(r.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new I(o.doc.resolve(i.$from.pos),o.doc.resolve(a),i.depth));return e(o.lift(i,Dt(i)).scrollIntoView()),!0}(e,n,t,a):function(t,e,n){for(var i=t.tr,o=n.parent,s=n.end,a=n.endIndex-1,l=n.startIndex;a>l;a--)s-=o.child(a).nodeSize,i.delete(s-1,s+1);var c=i.doc.resolve(n.start),u=c.nodeAfter,p=0==n.startIndex,h=n.endIndex==o.childCount,f=c.node(-1),m=c.index(-1);if(!f.canReplace(m+(p?0:1),m+1,u.content.append(h?r.empty:r.from(o))))return!1;var g=c.pos,v=g+u.nodeSize;return i.step(new _t(g-(p?1:0),v+(h?1:0),g+1,v-1,new d((p?r.empty:r.from(o.copy(r.empty))).append(h?r.empty:r.from(o.copy(r.empty))),p?0:1,h?0:1),p?0:1)),e(i.scrollIntoView()),!0}(e,n,a)))}}function En(t){return function(e,n){var i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));if(!a)return!1;var l=a.startIndex;if(0==l)return!1;var c=a.parent,u=c.child(l-1);if(u.type!=t)return!1;if(n){var p=u.lastChild&&u.lastChild.type==c.type,h=r.from(p?t.create():null),f=new d(r.from(t.create(null,r.from(c.type.create(null,h)))),p?3:1,0),m=a.start,g=a.end;n(e.tr.step(new _t(m-(p?3:1),g,m,g,f,1,!0)).scrollIntoView())}return!0}}var Tn={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},Dn={listType:Tn.orderedList,types:Ie.__assign({},Tn)},Pn={listType:Tn.bulletList,types:Ie.__assign({},Tn)},Bn={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:Ie.__assign({},Tn)},An={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:Ie.__assign({},Tn)},Mn=function(t,e,n){return function(i,o){var r=an(i),s=i.tr,a=!1;return s.setMeta("commandName",e),r.forEach((function(e){if(e.type.isTextblock){var r=void 0,l=t.find((function(t){return t.node===e.type.name}));if(l){var c="rtl"===n?l.rtlStyle:l.style,u={name:c,value:l.step>0?""+l.step+l.unit:""};if(e.attrs.style){var p=new RegExp(c+":\\s?(\\d+)"+l.unit,"i"),d=e.attrs.style.match(p);if(d){var h=parseFloat(d[1])+l.step;h=h<=0?"":h,u.value=""+h+(h?l.unit:"")}}r=un(e,[u])}r&&(a=sn(i,o,s,e,e.type,r)||a)}})),a&&o(s.scrollIntoView()),a}},Rn=function(t,e,n){var i=an(t),o=!1;return i.forEach((function(t){if(!o&&t.type.isTextblock&&t.attrs.style){var i=e.find((function(e){return e.node===t.type.name}));if(i){var r="rtl"===n?i.rtlStyle:i.style,s=new RegExp(r+":\\s?\\d+"+i.unit,"i");o=s.test(t.attrs.style)}}})),o},jn=function(t,e){return En(e)(t)},zn=function(t,e){var n=t.schema.nodes[e.listsTypes.listItem],i=t.schema.nodes[e.listsTypes.orderedList],o=t.schema.nodes[e.listsTypes.bulletList],r=!!ze(i,2)(t.selection),s=!!ze(o,2)(t.selection);return(r||s)&&_n(n)(t)},Fn=function(t,e){var n=t.schema.nodes,i=n[Bn.listsTypes.listItem];return(Rn(t,e.nodes)||Bn.nodes.some((function(e){return n[e.node]&&pn(t,n[e.node])})))&&!pn(t,i)},Nn=function(t,e){var n=t.schema.nodes[Bn.listsTypes.listItem],i=Fn(t,Bn);jn(t,n)?En(n)(t,e):i&&Mn(Bn.nodes)(t,e)},Ln=function(t,e){var n=t.schema.nodes[An.listsTypes.listItem],i=Fn(t,An);zn(t,An)?_n(n)(t,e):i&&Mn(An.nodes)(t,e)};function Vn(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function Hn(t,e,n){var i=t.selection.$cursor;if(!i||(n?!n.endOfTextblock("backward",t):i.parentOffset>0))return!1;var o=Kn(i);if(!o){var r=i.blockRange(),s=r&&Dt(r);return null!=s&&(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&ai(t,o,e))return!0;if(0==i.parent.content.size&&($n(a,"end")||re.isSelectable(a))){if(e){var l=t.tr.deleteRange(i.before(),i.after());l.setSelection($n(a,"end")?te.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):re.create(l.doc,o.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}function $n(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function Wn(t,e,n){var i=t.selection,o=i.$head,r=o;if(!i.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;r=Kn(o)}var s=r&&r.nodeBefore;return!(!s||!re.isSelectable(s))&&(e&&e(t.tr.setSelection(re.create(t.doc,r.pos-s.nodeSize)).scrollIntoView()),!0)}function Kn(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Un(t,e,n){var i=t.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size))return!1;var o=Gn(i);if(!o)return!1;var r=o.nodeAfter;if(ai(t,o,e))return!0;if(0==i.parent.content.size&&($n(r,"start")||re.isSelectable(r))){if(e){var s=t.tr.deleteRange(i.before(),i.after());s.setSelection($n(r,"start")?te.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):re.create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!r.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+r.nodeSize).scrollIntoView()),!0)}function qn(t,e,n){var i=t.selection,o=i.$head,r=o;if(!i.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;r=Gn(o)}var s=r&&r.nodeAfter;return!(!s||!re.isSelectable(s))&&(e&&e(t.tr.setSelection(re.create(t.doc,r.pos)).scrollIntoView()),!0)}function Gn(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function Jn(t,e){var n,i=t.selection,o=i instanceof re;if(o){if(i.node.isTextblock||!Mt(t.doc,i.from))return!1;n=i.from}else if(null==(n=jt(t.doc,i.from,-1)))return!1;if(e){var r=t.tr.join(n);o&&r.setSelection(re.create(r.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0}function Zn(t,e){var n,i=t.selection;if(i instanceof re){if(i.node.isTextblock||!Mt(t.doc,i.to))return!1;n=i.to}else if(null==(n=jt(t.doc,i.to,1)))return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0}function Xn(t,e){var n=t.selection,i=n.$from,o=n.$to,r=i.blockRange(o),s=r&&Dt(r);return null!=s&&(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)}function Yn(t,e){var n=t.selection,i=n.$head,o=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function Qn(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ti(t,e){var n=t.selection,i=n.$head,o=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(o))return!1;var r=i.node(-1),s=i.indexAfter(-1),a=Qn(r.contentMatchAt(s));if(!r.canReplaceWith(s,s,a))return!1;if(e){var l=i.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(te.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function ei(t,e){var n=t.selection,i=n.$from,o=n.$to;if(i.parent.inlineContent||o.parent.inlineContent)return!1;var r=Qn(i.parent.contentMatchAt(o.indexAfter()));if(!r||!r.isTextblock)return!1;if(e){var s=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,a=t.tr.insert(s,r.createAndFill());a.setSelection(ie.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function ni(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(At(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}var o=n.blockRange(),r=o&&Dt(o);return null!=r&&(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)}function ii(t,e){var n=t.selection,i=n.$from,o=n.$to;if(t.selection instanceof re&&t.selection.node.isBlock)return!(!i.parentOffset||!At(t.doc,i.pos))&&(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(e){var s=o.parentOffset==o.parent.content.size,a=t.tr;t.selection instanceof ie&&a.deleteSelection();var l=0==i.depth?null:Qn(i.node(-1).contentMatchAt(i.indexAfter(-1))),c=s&&l?[{type:l}]:null,u=At(a.doc,a.mapping.map(i.pos),1,c);c||u||!At(a.doc,a.mapping.map(i.pos),1,l&&[{type:l}])||(c=[{type:l}],u=!0),u&&(a.split(a.mapping.map(i.pos),1,c),s||i.parentOffset||i.parent.type==l||!i.node(-1).canReplace(i.index(-1),i.indexAfter(-1),r.from(l.create(),i.parent))||a.setNodeMarkup(a.mapping.map(i.before()),l)),e(a.scrollIntoView())}return!0}function oi(t,e){return ii(t,e&&function(n){var i=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();i&&n.ensureMarks(i),e(n)})}function ri(t,e){var n,i=t.selection,o=i.$from,r=i.to,s=o.sharedDepth(r);return 0!=s&&(n=o.before(s),e&&e(t.tr.setSelection(re.create(t.doc,n))),!0)}function si(t,e){return e&&e(t.tr.setSelection(new ae(t.doc))),!0}function ai(t,e,n){var i,o,s=e.nodeBefore,a=e.nodeAfter;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(function(t,e,n){var i=e.nodeBefore,o=e.nodeAfter,r=e.index();return!!(i&&o&&i.type.compatibleContent(o.type))&&(!i.content.size&&e.parent.canReplace(r-1,r)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(r,r+1)||!o.isTextblock&&!Mt(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(i=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(n){for(var l=e.pos+a.nodeSize,c=r.empty,u=i.length-1;u>=0;u--)c=r.from(i[u].create(null,c));c=r.from(s.copy(c));var p=t.tr.step(new _t(e.pos-1,l,e.pos,l,new d(c,1,0),i.length,!0)),h=l+2*i.length;Mt(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}var f=te.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),g=m&&Dt(m);return null!=g&&g>=e.depth&&(n&&n(t.tr.lift(m,g).scrollIntoView()),!0)}function li(t,e){return function(n,i){var o=n.selection,r=o.$from,s=o.$to,a=r.blockRange(s),l=a&&Pt(a,t,e);return!!l&&(i&&i(n.tr.wrap(a,l).scrollIntoView()),!0)}}function ci(t,e){return function(n,i){var o=n.selection,r=o.from,s=o.to,a=!1;return n.doc.nodesBetween(r,s,(function(i,o){if(a)return!1;if(i.isTextblock&&!i.hasMarkup(t,e))if(i.type==t)a=!0;else{var r=n.doc.resolve(o),s=r.index();a=r.parent.canReplaceWith(s,s+1,t)}})),!!a&&(i&&i(n.tr.setBlockType(r,s,t,e).scrollIntoView()),!0)}}function ui(t,e){return function(n,i){var o=n.selection,r=o.empty,s=o.$cursor,a=o.ranges;if(r&&!s||!function(t,e,n){for(var i=function(i){var o=e[i],r=o.$from,s=o.$to,a=0==r.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(r.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<e.length;o++){var r=i(o);if(r)return r.v}return!1}(n.doc,a,t))return!1;if(i)if(s)t.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{for(var l=!1,c=n.tr,u=0;!l&&u<a.length;u++){var p=a[u],d=p.$from,h=p.$to;l=n.doc.rangeHasMark(d.pos,h.pos,t)}for(var f=0;f<a.length;f++){var m=a[f],g=m.$from,v=m.$to;l?c.removeMark(g.pos,v.pos,t):c.addMark(g.pos,v.pos,t.create(e))}i(c.scrollIntoView())}return!0}}function pi(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,i){return t(n,i&&function(t,e){return function(n){if(!n.isGeneric)return t(n);for(var i=[],o=0;o<n.mapping.maps.length;o++){for(var r=n.mapping.maps[o],s=0;s<i.length;s++)i[s]=r.map(i[s]);r.forEach((function(t,e,n,o){return i.push(n,o)}))}for(var a=[],l=0;l<i.length;l+=2)for(var c=i[l],u=i[l+1],p=n.doc.resolve(c),d=p.sharedDepth(u),h=p.node(d),f=p.indexAfter(d),m=p.after(d+1);m<=u;++f){var g=h.maybeChild(f);if(!g)break;if(f&&-1==a.indexOf(m)){var v=h.child(f-1);v.type==g.type&&e(v,g)&&a.push(m)}m+=g.nodeSize}a.sort((function(t,e){return t-e}));for(var y=a.length-1;y>=0;y--)Mt(n.doc,a[y])&&n.join(a[y]);t(n)}}(i,e))}}function di(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,i){for(var o=0;o<t.length;o++)if(t[o](e,n,i))return!0;return!1}}var hi=di(Vn,Hn,Wn),fi=di(Vn,Un,qn),mi={Enter:di(Yn,ei,ni,ii),"Mod-Enter":ti,Backspace:hi,"Mod-Backspace":hi,Delete:fi,"Mod-Delete":fi,"Mod-a":si},gi={"Ctrl-h":mi.Backspace,"Alt-Backspace":mi["Mod-Backspace"],"Ctrl-d":mi.Delete,"Ctrl-Alt-Backspace":mi["Mod-Delete"],"Alt-Delete":mi["Mod-Delete"],"Alt-d":mi["Mod-Delete"]};for(var vi in mi)gi[vi]=mi[vi];var yi=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?gi:mi,bi=function(t,e,n){for(var i=e.depth,o=t.nodes[n.bulletList],r=t.nodes[n.orderedList],s=t.nodes[n.listItem],a=e.depth;a>0;a--){var l=e.node(a);if(l.type!==o&&l.type!==r||(i=a),l.type!==o&&l.type!==r&&l.type!==s)break}return i-1};var wi=function(t,e,n,i,o){var r=i.listType,s=t.selection,a=s.$from.node(s.$from.depth-2),l=s.$to.node(s.$to.depth-2);if(a&&a.type.name===r&&l&&l.type.name===r){var c=n.state.schema.nodes,u={bulletList:c[i.bulletList],orderedList:c[i.orderedList],listItem:c[i.listItem]},p=function(t,e){for(var n,i=e.bulletList,o=e.orderedList,r=e.listItem,s=t.depth-1;s>0;s--){var a=t.node(s);if(a.type!==i&&a.type!==o||(n=s),a.type!==i&&a.type!==o&&a.type!==r)break}return n}(s.$to,u),d=function(t,e,n,i,o,r){r||(r=t.schema.nodes.listItem);var s=!1;return o.doc.nodesBetween(e,n,(function(n,a){if(!s&&n.type===r&&a>e){s=!0;for(var l=i+3;l>i+2;){var c=o.doc.resolve(o.mapping.map(a));l=c.depth;var u=o.doc.resolve(o.mapping.map(a+n.textContent.length)),p=new ie(c,u);o=ki(t,p,o,r)}}})),o}(t,s.$to.pos,s.$to.end(p),p,n.state.tr,u.listItem);return(d=function(t,e,n){var i=t.selection,o=i.from,r=i.to,s=t.schema.nodes,a=s.paragraph,l=s.heading,c=[];e.doc.nodesBetween(o,r,(function(t,e){t.type!==a&&t.type!==l||c.push({node:t,pos:e})}));for(var u=c.length-1;u>=0;u--){var p=c[u],d=e.doc.resolve(e.mapping.map(p.pos));if(d.depth>0){var h=void 0;h=p.node.textContent&&p.node.textContent.length>0?e.doc.resolve(e.mapping.map(p.pos+p.node.textContent.length)):e.doc.resolve(e.mapping.map(p.pos+1));var f=d.blockRange(h);f&&e.lift(f,bi(t.schema,d,n))}}return e}(t,d,i)).setMeta("commandName",o),e(d),!0}return function(t){return function(e,n,i){if(!i)return!1;var o,r=(e=i.state).schema.nodes[t.listType],s=e.selection,a=s.$from,l=s.$to,c=a.node(-2),u=a.node(-3),p=function(t,e,n,i){return 0===function(t,e,n){var i=Array(),o=function(t,e){var n=["blockquote","bulletList","orderedList"];if(1===e.depth)return e;var i=e.node(e.depth),o=e;for(;e.depth>=1;)e=t.resolve(e.before(e.depth)),(i=e.node(e.depth))&&-1!==n.indexOf(i.type.name)&&(o=e);return o}(t,e).depth,r=t.resolve(e.start(o));for(;r.pos<=n.start(n.depth);){var s=Math.min(r.depth,o),a=r.node(s);if(a&&i.push(a),0===s)break;var l=t.resolve(r.after(s));if(l.start(s)>=t.nodeSize-2)break;l.depth!==r.depth&&(l=t.resolve(l.pos+2)),r=l.depth?t.resolve(l.start(l.depth)):t.resolve(l.end(l.depth))}return i}(t,e,n).filter((function(t){return t.type!==i})).length}(e.doc,a,l,r);return(c&&c.type===r||u&&u.type===r)&&p?Ci(t)(e,n):(p||(Ci(t)(e,n),e=i.state),pi(On(o=r),(function(t,e){return t.type===e.type&&t.type===o}))(e,n))}}(i)(t,e,n)};function ki(t,e,n,i){i||(i=t.schema.nodes.listItem);var o=e.$from,s=e.$to,a=o.blockRange(s,(function(t){return t.childCount&&t.firstChild.type===i}));if(!a||a.depth<2||o.node(a.depth-1).type!==i)return n;var l=a.end,c=s.end(a.depth);return l<c&&(n.step(new _t(l-1,c,l,c,new d(r.from(i.create(void 0,a.parent.copy())),1,0),1,!0)),a=new I(n.doc.resolve(o.pos),n.doc.resolve(c),a.depth)),n.lift(a,Dt(a)).scrollIntoView()}function Ci(t){return function(e,n){var i=e.tr,o=e.selection,r=o.$from,s=o.$to;return i.doc.nodesBetween(r.pos,s.pos,(function(n,o){if(n.isTextblock||"blockquote"===n.type.name||"div"===n.type.name){var r=new re(i.doc.resolve(i.mapping.map(o))),s=r.$from.blockRange(r.$to);if(!s||r.$from.parent.type!==e.schema.nodes[t.listItem])return!1;var a=s&&Dt(s);if(null==a)return!1;i.lift(s,a)}})),n&&n(i),!0}}function Si(t,e,n){return wi(t,e,n,Ie.__assign({listType:Pn.listType},Pn.types))}function xi(t,e,n){return wi(t,e,n,Ie.__assign({listType:Dn.listType},Dn.types))}for(var Oi=function(t,e){return{name:t,value:e}},Ii=[{node:"paragraph",style:[Oi("text-align","left")]},{node:"heading",style:[Oi("text-align","left")]},{node:"listItem",style:[Oi("text-align","left"),Oi("list-style-position","inside")]}],_i=[{node:"paragraph",style:[Oi("text-align","right")]},{node:"heading",style:[Oi("text-align","right")]},{node:"listItem",style:[Oi("text-align","right"),Oi("list-style-position","inside")]}],Ei=[{node:"paragraph",style:[Oi("text-align","center")]},{node:"heading",style:[Oi("text-align","center")]},{node:"listItem",style:[Oi("text-align","center"),Oi("list-style-position","inside")]}],Ti=[{node:"paragraph",style:[Oi("text-align","justify")]},{node:"heading",style:[Oi("text-align","justify")]},{node:"listItem",style:[Oi("text-align","justify"),Oi("list-style-position","justify")]}],Di=[{node:"paragraph",style:[Oi("text-align","")]},{node:"heading",style:[Oi("text-align","")]},{node:"listItem",style:[Oi("text-align",""),Oi("list-style-position","")]}],Pi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Bi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Ai="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Mi="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Ri="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ji="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),zi="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Fi=Ai&&(ji||+Ai[1]<57)||Ri&&ji,Ni=0;Ni<10;Ni++)Pi[48+Ni]=Pi[96+Ni]=String(Ni);for(Ni=1;Ni<=24;Ni++)Pi[Ni+111]="F"+Ni;for(Ni=65;Ni<=90;Ni++)Pi[Ni]=String.fromCharCode(Ni+32),Bi[Ni]=String.fromCharCode(Ni);for(var Li in Pi)Bi.hasOwnProperty(Li)||(Bi[Li]=Pi[Li]);var Vi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function Hi(t){var e,n,i,o,r=t.split(/-(?!$)/),s=r[r.length-1];"Space"==s&&(s=" ");for(var a=0;a<r.length-1;a++){var l=r[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);Vi?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function $i(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function Wi(t){return new be({props:{handleKeyDown:Ki(t)}})}function Ki(t){var e=function(t){var e=Object.create(null);for(var n in t)e[Hi(n)]=t[n];return e}(t);return function(t,n){var i,o=function(t){var e=!(Fi&&(t.ctrlKey||t.altKey||t.metaKey)||(Mi||zi)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Bi:Pi)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),r=1==o.length&&" "!=o,s=e[$i(o,n,!r)];if(s&&s(t.state,t.dispatch,t))return!0;if(r&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=Pi[n.keyCode])&&i!=o){var a=e[$i(i,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(r&&n.shiftKey){var l=e[$i(o,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}var Ui={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var qi=/Edge\/(\d+)/.exec(navigator.userAgent),Gi=/MSIE \d/.test(navigator.userAgent),Ji=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Ui.mac=/Mac/.test(navigator.platform);var Zi=Ui.ie=!!(Gi||Ji||qi);Ui.ie_version=Gi?document.documentMode||6:Ji?+Ji[1]:qi?+qi[1]:null,Ui.gecko=!Zi&&/gecko\/(\d+)/i.test(navigator.userAgent),Ui.gecko_version=Ui.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Xi=!Zi&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ui.chrome=!!Xi,Ui.chrome_version=Xi&&+Xi[1],Ui.ios=!Zi&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ui.android=/Android \d/.test(navigator.userAgent),Ui.webkit="webkitFontSmoothing"in document.documentElement.style,Ui.safari=/Apple Computer/.test(navigator.vendor),Ui.webkit_version=Ui.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Yi=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},Qi=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},to=function(t,e,n){var i=document.createRange();return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,e||0),i},eo=function(t,e,n,i){return n&&(io(t,e,n,i,-1)||io(t,e,n,i,1))},no=/^(img|br|input|textarea|hr)$/i;function io(t,e,n,i,o){for(;;){if(t==n&&e==i)return!0;if(e==(o<0?0:oo(t))){var r=t.parentNode;if(1!=r.nodeType||ro(t)||no.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Yi(t)+(o<0?0:1),t=r}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?oo(t):0}}}function oo(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function ro(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var so=function(t){var e=t.isCollapsed;return e&&Ui.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function ao(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function lo(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function co(t,e){return"number"==typeof t?t:t[e]}function uo(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth,top:e.top,bottom:e.top+t.clientHeight}}function po(t,e,n){for(var i=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,r=t.dom.ownerDocument,s=n||t.dom;s;s=Qi(s))if(1==s.nodeType){var a=s==r.body||1!=s.nodeType,l=a?lo(r):uo(s),c=0,u=0;if(e.top<l.top+co(i,"top")?u=-(l.top-e.top+co(o,"top")):e.bottom>l.bottom-co(i,"bottom")&&(u=e.bottom-l.bottom+co(o,"bottom")),e.left<l.left+co(i,"left")?c=-(l.left-e.left+co(o,"left")):e.right>l.right-co(i,"right")&&(c=e.right-l.right+co(o,"right")),c||u)if(a)r.defaultView.scrollBy(c,u);else{var p=s.scrollLeft,d=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var h=s.scrollLeft-p,f=s.scrollTop-d;e={left:e.left-h,top:e.top-f,right:e.right-h,bottom:e.bottom-f}}if(a)break}}function ho(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=Qi(t));return e}function fo(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=i.dom,r=i.top,s=i.left;o.scrollTop!=r+e&&(o.scrollTop=r+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var mo=null;function go(t,e){for(var n,i,o=2e8,r=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=to(l).getClientRects()}for(var p=0;p<u.length;p++){var d=u[p];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);var h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<o){n=l,o=h,i=h&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==l.nodeType&&h&&(r=c+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(r=c+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,i=document.createRange(),o=0;o<n;o++){i.setEnd(t,o+1),i.setStart(t,o);var r=bo(i,1);if(r.top!=r.bottom&&vo(e,r))return{node:t,offset:o+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}(n,i):!n||o&&1==n.nodeType?{node:t,offset:r}:go(n,i)}function vo(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function yo(t,e){var n,i,o,r,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(n=a).offsetNode,r=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(e.left,e.top);l&&(o=(i=l).startContainer,r=i.startOffset)}var c,u=s.elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=t.dom.getBoundingClientRect();if(!vo(e,p))return null;if(!(u=function t(e,n,i){var o=e.childNodes.length;if(o&&i.top<i.bottom)for(var r=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-i.top)/(i.bottom-i.top))-2)),s=r;;){var a=e.childNodes[s];if(1==a.nodeType)for(var l=a.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(vo(n,u))return t(a,n,u)}if((s=(s+1)%o)==r)break}return e}(t.dom,e,p)))return null}if(Ui.safari&&u.draggable&&(o=r=null),u=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(u,e),o){if(Ui.gecko&&1==o.nodeType&&(r=Math.min(r,o.childNodes.length))<o.childNodes.length){var d,h=o.childNodes[r];"IMG"==h.nodeName&&(d=h.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}o==t.dom&&r==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=r&&1==o.nodeType&&"BR"==o.childNodes[r-1].nodeName||(c=function(t,e,n,i){for(var o=-1,r=e;r!=t.dom;){var s=t.docView.nearestDesc(r,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>i.left||a.top>i.top)o=s.posBefore;else{if(!(a.right<i.left||a.bottom<i.top))break;o=s.posAfter}}r=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,r,e))}null==c&&(c=function(t,e,n){var i=go(e,n),o=i.node,r=i.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,r,s)}(t,u,e));var f=t.docView.nearestDesc(u,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function bo(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function wo(t,e){var n=t.docView.domFromPos(e),i=n.node,o=n.offset;if(3==i.nodeType&&(Ui.webkit||Ui.gecko)){var r=bo(to(i,o,o),0);if(Ui.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var s=bo(to(i,o-1,o-1),-1);if(s.top==r.top){var a=bo(to(i,o,o+1),-1);if(a.top!=r.top)return ko(a,a.left<s.left)}}return r}if(1==i.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var l,c=!0;if(o<i.childNodes.length){var u=i.childNodes[o];1==u.nodeType&&(l=u.getBoundingClientRect())}if(!l&&o){var p=i.childNodes[o-1];1==p.nodeType&&(l=p.getBoundingClientRect(),c=!1)}return function(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}(l||i.getBoundingClientRect(),c)}for(var d=-1;d<2;d+=2)if(d<0&&o){var h=void 0,f=3==i.nodeType?to(i,o-1,o):3==(h=i.childNodes[o-1]).nodeType?to(h):1==h.nodeType&&"BR"!=h.nodeName?h:null;if(f){var m=bo(f,1);if(m.top<m.bottom)return ko(m,!1)}}else if(d>0&&o<oo(i)){var g=void 0,v=3==i.nodeType?to(i,o,o+1):3==(g=i.childNodes[o]).nodeType?to(g):1==g.nodeType?g:null;if(v){var y=bo(v,-1);if(y.top<y.bottom)return ko(y,!0)}}return ko(bo(3==i.nodeType?to(i):i,0),!1)}function ko(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Co(t,e,n){var i=t.state,o=t.root.activeElement;i!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),o!=t.dom&&o&&o.focus()}}var So=/[\u0590-\u08ac]/;var xo=null,Oo=null,Io=!1;function _o(t,e,n){return xo==e&&Oo==n?Io:(xo=e,Oo=n,Io="up"==n||"down"==n?function(t,e,n){var i=e.selection,o="up"==n?i.$anchor.min(i.$head):i.$anchor.max(i.$head);return Co(t,e,(function(){for(var e=t.docView.domFromPos(o.pos).node;;){var i=t.docView.nearestDesc(e,!0);if(!i)break;if(i.node.isBlock){e=i.dom;break}e=i.dom.parentNode}for(var r=wo(t,o.pos),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=to(s,0,s.nodeValue.length).getClientRects()}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top&&("up"==n?c.bottom<r.top+1:c.top>r.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var i=e.selection.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,r=!o,s=o==i.parent.content.size,a=getSelection();return So.test(i.parent.textContent)&&a.modify?Co(t,e,(function(){var e=a.getRangeAt(0),o=a.focusNode,r=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var l=!(i.depth?t.docView.domAfterPos(i.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&r==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?r:s}(t,e,n))}var Eo=function(t,e,n,i){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=0},To={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};Eo.prototype.matchesWidget=function(){return!1},Eo.prototype.matchesMark=function(){return!1},Eo.prototype.matchesNode=function(){return!1},Eo.prototype.matchesHack=function(){return!1},To.beforePosition.get=function(){return!1},Eo.prototype.parseRule=function(){return null},Eo.prototype.stopEvent=function(){return!1},To.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},To.border.get=function(){return 0},Eo.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},Eo.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var i=this.children[e];if(i==t)return n;n+=i.size}},To.posBefore.get=function(){return this.parent.posBeforeChild(this)},To.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},To.posAfter.get=function(){return this.posBefore+this.size},To.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Eo.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var i,o;if(t==this.contentDOM)i=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&(!(o=i.pmViewDesc)||o.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}var r,s;if(t==this.contentDOM)r=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.nextSibling}for(;r&&(!(s=r.pmViewDesc)||s.parent!=this);)r=r.nextSibling;return r?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},Eo.prototype.nearestDesc=function(t,e){for(var n=!0,i=t;i;i=i.parentNode){var o=this.getDesc(i);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},Eo.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},Eo.prototype.posFromDOM=function(t,e,n){for(var i=t;i;i=i.parentNode){var o=this.getDesc(i);if(o)return o.localPosFromDOM(t,e,n)}return-1},Eo.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var i=this.children[e],o=n+i.size;if(n==t&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-n-i.border);n=o}},Eo.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:Yi(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var i=this.children[n],o=e+i.size;if(t<o)return i.domFromPos(t-e-i.border);e=o}},Eo.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,o=-1,r=n,s=0;;s++){var a=this.children[s],l=r+a.size;if(-1==i&&t<=l){var c=r+a.border;if(t>=c&&e<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=r;for(var u=s;u>0;u--){var p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Yi(p.dom)+1;break}t-=p.size}-1==i&&(i=0)}if(i>-1&&(l>e||s==this.children.length-1)){e=l;for(var d=s+1;d<this.children.length;d++){var h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=Yi(h.dom);break}e+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}r=l}return{node:this.contentDOM,from:t,to:e,fromOffset:i,toOffset:o}},Eo.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},Eo.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,i=e.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]},Eo.prototype.setSelection=function(t,e,n,i){for(var o=Math.min(t,e),r=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(o>a&&r<c)return l.setSelection(t-a-l.border,e-a-l.border,n,i);a=c}var u=this.domFromPos(t),p=this.domFromPos(e),d=n.getSelection();if(i||!eo(u.node,u.offset,d.anchorNode,d.anchorOffset)||!eo(p.node,p.offset,d.focusNode,d.focusOffset)){var h=!1;if(d.extend||t==e){d.collapse(u.node,u.offset);try{t!=e&&d.extend(p.node,p.offset),h=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!h){if(t>e){var f=u;u=p,p=f}var m=document.createRange();m.setEnd(p.node,p.offset),m.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(m)}}},Eo.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},To.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Eo.prototype.markDirty=function(t,e){for(var n=0,i=0;i<this.children.length;i++){var o=this.children[i],r=n+o.size;if(n==r?t<=r&&e>=n:t<r&&e>n){var s=n+o.border,a=r-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==r?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=3}n=r}this.dirty=2},Eo.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},Object.defineProperties(Eo.prototype,To);var Do=[],Po=function(t){function e(e,n,i,o){var r,s=n.type.toDOM;if("function"==typeof s&&(s=s(i,(function(){return r?r.parent?r.parent.posBeforeChild(r):void 0:o}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,Do,s,null),this.widget=n,r=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(Eo),Bo=function(t){function e(e,n,i,o){t.call(this,e,Do,n,null),this.textDOM=i,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(Eo),Ao=function(t){function e(e,n,i,o){t.call(this,e,[],i,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,i,o){var r=o.nodeViews[n.type.name],s=r&&r(n,o,i);return s&&s.dom||(s=pt.renderSpec(document,n.type.spec.toDOM(n,i))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,i){var o=e.create(this.parent,this.mark,!0,i),r=this.children,s=this.size;n<s&&(r=Jo(r,n,s,i)),t>0&&(r=Jo(r,0,t,i));for(var a=0;a<r.length;a++)r[a].parent=o;return o.children=r,o},e}(Eo),Mo=function(t){function e(e,n,i,o,r,s,a,l,c){t.call(this,e,n.isLeaf?Do:[],r,s),this.nodeDOM=a,this.node=n,this.outerDeco=i,this.innerDeco=o,s&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,i,o,r,s){var a,l,c=r.nodeViews[n.type.name],u=c&&c(n,r,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),i),p=u&&u.dom,d=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(a=pt.renderSpec(document,n.type.spec.toDOM(n))).dom,d=a.contentDOM);d||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var h=p;return p=Wo(p,i,n),u?l=new Fo(t,n,i,o,p,d,h,u,r,s+1):n.isText?new jo(t,n,i,o,p,h,r):new e(t,n,i,o,p,d,h,r,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?r.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Ko(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,i=this.node.inlineContent,o=e,r=i&&t.composing&&this.localCompositionNode(t,e),s=new qo(this,r&&r.node);!function(t,e,n,i){var o=e.locals(t),r=0;if(0==o.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);i(a,o,e.forChild(r,a),s),r+=a.nodeSize}return}for(var l=0,c=[],u=null,p=0;;){if(l<o.length&&o[l].to==r){for(var d=o[l++],h=void 0;l<o.length&&o[l].to==r;)(h||(h=[d])).push(o[l++]);if(h){h.sort(Go);for(var f=0;f<h.length;f++)n(h[f],p,!!u)}else n(d,p,!!u)}var m=void 0,g=void 0;if(u)g=-1,m=u,u=null;else{if(!(p<t.childCount))break;g=p,m=t.child(p++)}for(var v=0;v<c.length;v++)c[v].to<=r&&c.splice(v--,1);for(;l<o.length&&o[l].from<=r&&o[l].to>r;)c.push(o[l++]);var y=r+m.nodeSize;if(m.isText){var b=y;l<o.length&&o[l].from<b&&(b=o[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<y&&(u=m.cut(b-r),m=m.cut(0,b-r),y=b,g=-1)}i(m,c.length?c.slice():Do,e.forChild(r,m),g),r=y}}(this.node,this.innerDeco,(function(e,r,a){e.spec.marks?s.syncToMarks(e.spec.marks,i,t):e.type.side>=0&&!a&&s.syncToMarks(r==n.node.childCount?u.none:n.node.child(r).marks,i,t),s.placeWidget(e,t,o)}),(function(e,n,r,a){s.syncToMarks(e.marks,i,t),s.findNodeMatch(e,n,r,a)||s.updateNextNode(e,n,r,t,a)||s.addNode(e,n,r,t,o),o+=e.nodeSize})),s.syncToMarks(Do,i,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(r&&this.protectLocalComposition(t,r),function t(e,n,i){for(var o=e.firstChild,r=!1,s=0;s<n.length;s++){var a=n[s],l=a.dom;if(l.parentNode==e){for(;l!=o;)o=Uo(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(l,o);if(a instanceof Ao){var c=o?o.previousSibling:e.lastChild;t(a.contentDOM,a.children,i),o=c?c.nextSibling:e.firstChild}}for(;o;)o=Uo(o),r=!0;r&&i.trackWrites==e&&(i.trackWrites=null)}(this.contentDOM,this.children,t),Ui.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,i=n.from,o=n.to;if(!(!(t.state.selection instanceof ie)||i<e||o>e+this.node.content.size)){var r=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=oo(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(r.focusNode,r.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,l=function(t,e,n,i){for(var o=0,r=0;o<t.childCount&&r<=i;){var s=t.child(o++),a=r;if(r+=s.nodeSize,s.isText){for(var l=s.text;o<t.childCount;){var c=t.child(o++);if(r+=c.nodeSize,!c.isText)break;l+=c.text}if(r>=n){var u=l.lastIndexOf(e,i-a);if(u>=0&&u+e.length+a>=n)return a+u}}}return-1}(this.node.content,a,i-e,o-e);return l<0?null:{node:s,pos:l,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,i=e.pos,o=e.text;if(!this.getDesc(n)){for(var r=n;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=null)}var s=new Bo(this,r,n,o);t.compositionNodes.push(s),this.children=Jo(this.children,i,i+o.length,t,s)}},e.prototype.update=function(t,e,n,i){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,i),!0)},e.prototype.updateInner=function(t,e,n,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!Ko(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Ho(this.dom,this.nodeDOM,Vo(this.outerDeco,this.node,e),Vo(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(e.prototype,n),e}(Eo);function Ro(t,e,n,i,o){return Wo(i,e,t),new Mo(null,t,e,n,i,i,i,o,0)}var jo=function(t){function e(e,n,i,o,r,s,a){t.call(this,e,n,i,o,r,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,i)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,i){var o=this.node.cut(t,n),r=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,r,r,i)},e}(Mo),zo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(Eo),Fo=function(t){function e(e,n,i,o,r,s,a,l,c,u){t.call(this,e,n,i,o,r,s,a,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,i,o){if(3==this.dirty)return!1;if(this.spec.update){var r=this.spec.update(e,n);return r&&this.updateInner(e,n,i,o),r}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,i,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,i,o){this.spec.setSelection?this.spec.setSelection(e,n,i):t.prototype.setSelection.call(this,e,n,i,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(Mo);function No(t){t&&(this.nodeName=t)}No.prototype=Object.create(null);var Lo=[new No];function Vo(t,e,n){if(0==t.length)return Lo;for(var i=n?Lo[0]:new No,o=[i],r=0;r<t.length;r++){var s=t[r].type.attrs,a=i;if(s)for(var l in s.nodeName&&o.push(a=new No(s.nodeName)),s){var c=s[l];null!=c&&(n&&1==o.length&&o.push(a=i=new No(e.isInline?"span":"div")),"class"==l?a.class=(a.class?a.class+" ":"")+c:"style"==l?a.style=(a.style?a.style+";":"")+c:"nodeName"!=l&&(a[l]=c))}}return o}function Ho(t,e,n,i){if(n==Lo&&i==Lo)return e;for(var o=e,r=0;r<i.length;r++){var s=i[r],a=n[r];if(r){var l=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(o),a=Lo[0]),o=l}$o(o,a||Lo[0],s)}return o}function $o(t,e,n){for(var i in e)"class"==i||"style"==i||"nodeName"==i||i in n||t.removeAttribute(i);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var r=e.class?e.class.split(" "):Do,s=n.class?n.class.split(" "):Do,a=0;a<r.length;a++)-1==s.indexOf(r[a])&&t.classList.remove(r[a]);for(var l=0;l<s.length;l++)-1==r.indexOf(s[l])&&t.classList.add(s[l])}if(e.style!=n.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function Wo(t,e,n){return Ho(t,t,Lo,Vo(e,n,1!=t.nodeType))}function Ko(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Uo(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var qo=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=function(t,e){for(var n=[],i=t.childCount,o=e.length-1;i>0&&o>=0;o--){var r=e[o],s=r.node;if(s){if(s!=t.child(i-1))break;n.push(r),--i}}return{nodes:n.reverse(),offset:i}}(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function Go(t,e){return t.type.side-e.type.side}function Jo(t,e,n,i,o){for(var r=[],s=0,a=0;s<t.length;s++){var l=t[s],c=a,u=a+=l.size;c>=n||u<=e?r.push(l):(c<e&&r.push(l.slice(0,e-c,i)),o&&(r.push(o),o=null),u>n&&r.push(l.slice(n-c,l.size,i)))}return r}function Zo(t,e){var n=t.selection,i=n.$anchor,o=n.$head,r=e>0?i.max(o):i.min(o),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&te.findFrom(s,e)}function Xo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Yo(t,e,n){var i=t.state.selection;if(!(i instanceof ie)){if(i instanceof re&&i.node.isInline)return Xo(t,new ie(e>0?i.$to:i.$from));var o=Zo(t.state,e);return!!o&&Xo(t,o)}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var r=Zo(t.state,e);return!!(r&&r instanceof re)&&Xo(t,r)}if(!(Ui.mac&&n.indexOf("m")>-1)){var s,a=i.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=e<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(re.isSelectable(l)?Xo(t,new re(e<0?t.state.doc.resolve(a.pos-l.nodeSize):a)):!!Ui.webkit&&Xo(t,new ie(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function Qo(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function tr(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function er(t){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n){var o,r,s=!1;for(Ui.gecko&&1==n.nodeType&&i<Qo(n)&&tr(n.childNodes[i])&&(s=!0);;)if(i>0){if(1!=n.nodeType)break;var a=n.childNodes[i-1];if(tr(a))o=n,r=--i;else{if(3!=a.nodeType)break;i=(n=a).nodeValue.length}}else{if(ir(n))break;for(var l=n.previousSibling;l&&tr(l);)o=n.parentNode,r=Yi(l),l=l.previousSibling;if(l)i=Qo(n=l);else{if((n=n.parentNode)==t.dom)break;i=0}}s?or(t,e,n,i):o&&or(t,e,o,r)}}function nr(t){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n){for(var o,r,s=Qo(n);;)if(i<s){if(1!=n.nodeType)break;if(!tr(n.childNodes[i]))break;o=n,r=++i}else{if(ir(n))break;for(var a=n.nextSibling;a&&tr(a);)o=a.parentNode,r=Yi(a)+1,a=a.nextSibling;if(a)i=0,s=Qo(n=a);else{if((n=n.parentNode)==t.dom)break;i=s=0}}o&&or(t,e,o,r)}}function ir(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function or(t,e,n,i){if(so(e)){var o=document.createRange();o.setEnd(n,i),o.setStart(n,i),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,i);t.domObserver.setCurSelection()}function rr(t,e,n){var i=t.state.selection;if(i instanceof ie&&!i.empty||n.indexOf("s")>-1)return!1;if(Ui.mac&&n.indexOf("m")>-1)return!1;var o=i.$from,r=i.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=Zo(t.state,e);if(s&&s instanceof re)return Xo(t,s)}if(!o.parent.inlineContent){var a=te.findFrom(e<0?o:r,e);return!a||Xo(t,a)}return!1}function sr(t,e){if(!(t.state.selection instanceof ie))return!0;var n=t.state.selection,i=n.$head,o=n.$anchor,r=n.empty;if(!i.sameParent(o))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(i.pos-s.nodeSize,i.pos):a.delete(i.pos,i.pos+s.nodeSize),t.dispatch(a),!0}return!1}function ar(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function lr(t,e){var n=e.keyCode,i=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||Ui.mac&&72==n&&"c"==i?sr(t,-1)||er(t):46==n||Ui.mac&&68==n&&"c"==i?sr(t,1)||nr(t):13==n||27==n||(37==n?Yo(t,-1,i)||er(t):39==n?Yo(t,1,i)||nr(t):38==n?rr(t,-1,i)||er(t):40==n?function(t){if(Ui.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;ar(t,o,!0),setTimeout((function(){return ar(t,o,!1)}),20)}}}(t)||rr(t,1,i)||nr(t):i==(Ui.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function cr(t,e){var n=t.root.getSelection(),i=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),r=o&&0==o.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,l,c=i.resolve(s);if(so(n)){for(a=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&re.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(t,e,n){for(var i=0==e,o=e==oo(t);i||o;){if(t==n)return!0;var r=Yi(t);if(!(t=t.parentNode))return!1;i=i&&0==r,o=o&&r==oo(t)}}(n.focusNode,n.focusOffset,o.dom))){var u=o.posBefore;l=new re(s==u?c:i.resolve(u))}}else{var p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;a=i.resolve(p)}l||(l=vr(t,a,c,"pointer"==e||t.state.selection.head<c.pos&&!r?1:-1));return l}function ur(t,e){var n=t.state.selection;if(mr(t,n),t.editable?t.hasFocus():yr(t)&&document.activeElement&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),i=t.cursorWrapper.dom,o="IMG"==i.nodeName;o?n.setEnd(i.parentNode,Yi(i)+1):n.setEnd(i,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Ui.ie&&Ui.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}(t);else{var i,o,r=n.anchor,s=n.head;!pr||n instanceof ie||(n.$from.parent.inlineContent||(i=dr(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=dr(t,n.to))),t.docView.setSelection(r,s,t.root,e),pr&&(i&&fr(i),o&&fr(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),i=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}qo.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},qo.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},qo.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},qo.prototype.syncToMarks=function(t,e,n){for(var i=0,o=this.stack.length>>1,r=Math.min(o,t.length);i<r&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=Ao.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},qo.prototype.findNodeMatch=function(t,e,n,i){var o=-1,r=i<0?void 0:this.getPreMatch(i),s=this.top.children;if(r&&r.matchesNode(t,e,n))o=s.indexOf(r);else for(var a=this.index,l=Math.min(s.length,a+5);a<l;a++){var c=s[a];if(c.matchesNode(t,e,n)&&this.preMatched.indexOf(c)<0){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},qo.prototype.updateNextNode=function(t,e,n,i,o){for(var r=this.index;r<this.top.children.length;r++){var s=this.top.children[r];if(s instanceof Mo){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=o)return!1;var l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&Ko(e,s.outerDeco)))&&s.update(t,e,n,i))return this.destroyBetween(this.index,r),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},qo.prototype.addNode=function(t,e,n,i,o){this.top.children.splice(this.index++,0,Mo.create(this.top,t,e,n,i,o)),this.changed=!0},qo.prototype.placeWidget=function(t,e,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(t)||t!=i.widget&&i.widget.type.toDOM.parentNode){var o=new Po(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},qo.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof Ao;)t=t.children[t.children.length-1];if(!t||!(t instanceof jo)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new zo(this.top,Do,e,null)),this.changed=!0}};var pr=Ui.safari||Ui.chrome&&Ui.chrome_version<63;function dr(t,e){var n=t.docView.domFromPos(e),i=n.node,o=n.offset,r=o<i.childNodes.length?i.childNodes[o]:null,s=o?i.childNodes[o-1]:null;if(Ui.safari&&r&&"false"==r.contentEditable)return hr(r);if(!(r&&"false"!=r.contentEditable||s&&"false"!=s.contentEditable)){if(r)return hr(r);if(s)return hr(s)}}function hr(t){return t.contentEditable="true",Ui.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function fr(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function mr(t,e){if(e instanceof re){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(gr(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else gr(t)}function gr(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function vr(t,e,n,i){return t.someProp("createSelectionBetween",(function(i){return i(t,e,n)}))||ie.between(e,n,i)}function yr(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function br(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Ui.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||Ui.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function wr(t,e,n,i,o){if(e<0){var s=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,a=cr(t,s);if(a&&!t.state.selection.eq(a)){var l=t.state.tr.setSelection(a);"pointer"==s?l.setMeta("pointer",!0):"key"==s&&l.scrollIntoView(),t.dispatch(l)}}else{var c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);var p,d,h=t.state.selection,f=function(t,e,n){var i=t.docView.parseRange(e,n),o=i.node,r=i.fromOffset,s=i.toOffset,a=i.from,l=i.to,c=t.root.getSelection(),u=null,p=c.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(u=[{node:p,offset:c.anchorOffset}],so(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Ui.chrome&&8===t.lastKeyCode)for(var d=s;d>r;d--){var h=o.childNodes[d-1],f=h.pmViewDesc;if("BR"==h.nodeType&&!f){s=d;break}if(!f||f.size)break}var m=t.state.doc,g=t.someProp("domParser")||tt.fromSchema(t.state.schema),v=m.resolve(a),y=null,b=g.parse(o,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:r,to:s,preserveWhitespace:!v.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:br,context:v});if(u&&null!=u[0].pos){var w=u[0].pos,k=u[1]&&u[1].pos;null==k&&(k=w),y={anchor:w+a,head:k+a}}return{doc:b,sel:y,from:a,to:l}}(t,e,n),m=t.state.doc,g=m.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(p=t.state.selection.to,d="end"):(p=t.state.selection.from,d="start"),t.lastKeyCode=null;var v=function(t,e,n,i,o){var r=t.findDiffStart(e,n);if(null==r)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,l=s.b;if("end"==o){var c=Math.max(0,r-Math.min(a,l));i-=a+c-r}if(a<r&&t.size<e.size){l=(r-=i<=r&&i>=a?r-i:0)+(l-a),a=r}else if(l<r){a=(r-=i<=r&&i>=l?r-i:0)+(a-l),l=r}return{start:r,endA:a,endB:l}}(g.content,f.doc.content,f.from,p,d);if(!v){if(!(i&&h instanceof ie&&!h.empty&&h.$head.sameParent(h.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){var y=kr(t,t.state.doc,f.sel);y&&!y.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(y))}return}v={start:h.from,endA:h.to,endB:h.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof ie&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),Ui.ie&&Ui.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&" "==f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)&&(v.start--,v.endA--,v.endB--);var b,w=f.doc.resolveNoCache(v.start-f.from),k=f.doc.resolveNoCache(v.endB-f.from),C=w.sameParent(k)&&w.parent.inlineContent;if((Ui.ios&&t.lastIOSEnter>Date.now()-225&&(!C||o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!C&&w.pos<f.doc.content.size&&(b=te.findFrom(f.doc.resolve(w.pos+1),1,!0))&&b.head==k.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,ao(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>v.start&&function(t,e,n,i,o){if(!i.parent.isTextblock||n-e<=o.pos-i.pos||Cr(i,!0,!1)<o.pos)return!1;var r=t.resolve(e);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;var s=t.resolve(Cr(r,!0,!0));if(!s.parent.isTextblock||s.pos>n||Cr(s,!0,!1)<n)return!1;return i.parent.content.cut(i.parentOffset).eq(s.parent.content)}(m,v.start,v.endA,w,k)&&t.someProp("handleKeyDown",(function(e){return e(t,ao(8,"Backspace"))})))Ui.android&&Ui.chrome&&t.domObserver.suppressSelectionUpdates();else{Ui.android&&!C&&w.start()!=k.start()&&0==k.parentOffset&&w.depth==k.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==v.endA&&(v.endB-=2,k=f.doc.resolveNoCache(v.endB-f.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,ao(13,"Enter"))}))}),20));var S,x,O,I,_=v.start,E=v.endA;if(C)if(w.pos==k.pos)Ui.ie&&Ui.ie_version<=11&&0==w.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ur(t)}),20)),S=t.state.tr.delete(_,E),x=m.resolve(v.start).marksAcross(m.resolve(v.endA));else if(v.endA==v.endB&&(I=m.resolve(v.start))&&(O=function(t,e){for(var n,i,o,s=t.firstChild.marks,a=e.firstChild.marks,l=s,c=a,u=0;u<a.length;u++)l=a[u].removeFromSet(l);for(var p=0;p<s.length;p++)c=s[p].removeFromSet(c);if(1==l.length&&0==c.length)i=l[0],n="add",o=function(t){return t.mark(i.addToSet(t.marks))};else{if(0!=l.length||1!=c.length)return null;i=c[0],n="remove",o=function(t){return t.mark(i.removeFromSet(t.marks))}}for(var d=[],h=0;h<e.childCount;h++)d.push(o(e.child(h)));if(r.from(d).eq(t))return{mark:i,type:n}}(w.parent.content.cut(w.parentOffset,k.parentOffset),I.parent.content.cut(I.parentOffset,v.endA-I.start()))))S=t.state.tr,"add"==O.type?S.addMark(_,E,O.mark):S.removeMark(_,E,O.mark);else if(w.parent.child(w.index()).isText&&w.index()==k.index()-(k.textOffset?0:1)){var T=w.parent.textBetween(w.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,_,E,T)})))return;S=t.state.tr.insertText(T,_,E)}if(S||(S=t.state.tr.replace(_,E,f.doc.slice(v.start-f.from,v.endB-f.from))),f.sel){var D=kr(t,S.doc,f.sel);D&&!(Ui.chrome&&Ui.android&&t.composing&&D.empty&&(D.head==_||D.head==S.mapping.map(E)-1)||Ui.ie&&D.empty&&D.head==_)&&S.setSelection(D)}x&&S.ensureMarks(x),t.dispatch(S.scrollIntoView())}}}function kr(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:vr(t,e.resolve(n.anchor),e.resolve(n.head))}function Cr(t,e,n){for(var i=t.depth,o=e?t.end():t.pos;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,o++,e=!1;if(n)for(var r=t.node(i).maybeChild(t.indexAfter(i));r&&!r.isLeaf;)r=r.firstChild,o++;return o}function Sr(t,e){for(var n=[],i=e.content,o=e.openStart,r=e.openEnd;o>1&&r>1&&1==i.childCount&&1==i.firstChild.childCount;){o--,r--;var s=i.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),i=s.content}var a=t.someProp("clipboardSerializer")||pt.fromSchema(t.state.schema),l=Tr(),c=l.createElement("div");c.appendChild(a.serializeFragment(i,{document:l}));for(var u,p=c.firstChild;p&&1==p.nodeType&&(u=_r[p.nodeName.toLowerCase()]);){for(var d=u.length-1;d>=0;d--){for(var h=l.createElement(u[d]);c.firstChild;)h.appendChild(c.firstChild);c.appendChild(h)}p=c.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+r+" "+JSON.stringify(n)),{dom:c,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function xr(t,e,n,i,o){var s,a,l=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(i||l||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e,l||i)})),l)return new d(r.from(t.state.schema.text(e)),0,0);var u=t.someProp("clipboardTextParser",(function(t){return t(e,o,i)}));u?a=u:(s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){s.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),s=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,i=Tr().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),r=0;(n=o&&_r[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),r=n.length);i.innerHTML=t;for(var s=0;s<r;s++)i=i.firstChild;return i}(n);var p=s&&s.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!a){var f=t.someProp("clipboardParser")||t.someProp("domParser")||tt.fromSchema(t.state.schema);a=f.parseSlice(s,{preserveWhitespace:!(!c&&!h),context:o})}return a=h?function(t,e){if(!t.size)return t;var n,i=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,s=t.openStart,a=t.openEnd,l=n.length-2;l>=0;l-=2){var c=i.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;o=r.from(c.create(n[l+1],o)),s++,a++}return new d(o,s,a)}(function(t,e,n){e<t.openStart&&(t=new d(Ir(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new d(Ir(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(a,+h[1],+h[2]),h[3]):d.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var i=e.node(n).contentMatchAt(e.index(n)),o=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=i.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&o.length&&function t(e,n,i,o,s){if(s<e.length&&s<n.length&&e[s]==n[s]){var a=t(e,n,i,o.lastChild,s+1);if(a)return o.copy(o.content.replaceChild(o.childCount-1,a));if(o.contentMatchAt(o.childCount).matchType(s==e.length-1?i.type:e[s+1]))return o.copy(o.content.append(r.from(Or(i,e,s+1))))}}(n,o,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=function t(e,n){if(0==n)return e;var i=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(r.empty,!0);return e.copy(i.append(o))}(s[s.length-1],o.length));var a=Or(t,n);s.push(a),i=i.matchType(a.type,a.attrs),o=n}}})),s)return{v:r.from(s)}},i=e.depth;i>=0;i--){var o=n(i);if(o)return o.v}return t}(a.content,o),!1),t.someProp("transformPasted",(function(t){a=t(a)})),a}function Or(t,e,n){void 0===n&&(n=0);for(var i=e.length-1;i>=n;i--)t=e[i].create(null,r.from(t));return t}function Ir(t,e,n,i,o,s){var a=e<0?t.firstChild:t.lastChild,l=a.content;return o<i-1&&(l=Ir(l,e,n,i,o+1,s)),o>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,t.childCount>1||s<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(r.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}var _r={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Er=null;function Tr(){return Er||(Er=document.implementation.createHTMLDocument("title"))}var Dr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Pr=Ui.ie&&Ui.ie_version<=11,Br=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Br.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Br.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Ar=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);Ui.ie&&Ui.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Br,Pr&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Ar.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},Ar.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Ar.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Dr),Pr&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Ar.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Pr&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Ar.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Ar.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Ar.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Ar.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&yr(t)){var t;if(this.suppressingSelectionUpdates)return ur(this.view);if(Ui.ie&&Ui.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&eo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Ar.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Ar.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Ar.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&yr(this.view)&&!this.ignoreSelectionChange(e),i=-1,o=-1,r=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var l=this.registerMutation(t[a],s);l&&(i=i<0?l.from:Math.min(l.from,i),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(r=!0))}if(Ui.gecko&&s.length>1){var c=s.filter((function(t){return"BR"==t.nodeName}));if(2==c.length){var u=c[0],p=c[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,o),function(t){if(Mr)return;Mr=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(i,o,r,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||ur(this.view))}},Ar.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var i=t.previousSibling,o=t.nextSibling;if(Ui.ie&&Ui.ie_version<=11&&t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++){var s=t.addedNodes[r],a=s.previousSibling,l=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(i=a),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(o=l)}for(var c=i&&i.parentNode==t.target?Yi(i)+1:0,u=n.localPosFromDOM(t.target,c,-1),p=o&&o.parentNode==t.target?Yi(o):t.target.childNodes.length,d=0;d<t.addedNodes.length;d++)e.push(t.addedNodes[d]);return{from:u,to:n.localPosFromDOM(t.target,p,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Mr=!1;var Rr={},jr={};function zr(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Fr(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Nr(t,e)})}))}function Nr(t,e){return t.someProp("handleDOMEvents",(function(n){var i=n[e.type];return!!i&&(i(t,e)||e.defaultPrevented)}))}function Lr(t){return{left:t.clientX,top:t.clientY}}function Vr(t,e,n,i,o){if(-1==i)return!1;for(var r=t.state.doc.resolve(i),s=function(i){if(t.someProp(e,(function(e){return i>r.depth?e(t,n,r.nodeAfter,r.before(i),o,!0):e(t,n,r.node(i),r.before(i),o,!1)})))return{v:!0}},a=r.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Hr(t,e,n){t.focused||t.focus();var i=t.state.tr.setSelection(e);"pointer"==n&&i.setMeta("pointer",!0),t.dispatch(i)}function $r(t,e,n,i,o){return Vr(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(function(n){return n(t,e,i)}))||(o?function(t,e){if(-1==e)return!1;var n,i,o=t.state.selection;o instanceof re&&(n=o.node);for(var r=t.state.doc.resolve(e),s=r.depth+1;s>0;s--){var a=s>r.depth?r.nodeAfter:r.node(s);if(re.isSelectable(a)){i=n&&o.$from.depth>0&&s>=o.$from.depth&&r.before(o.$from.depth+1)==o.$from.pos?r.before(o.$from.depth):r.before(s);break}}return null!=i&&(Hr(t,re.create(t.state.doc,i),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&re.isSelectable(i))&&(Hr(t,new re(n),"pointer"),!0)}(t,n))}function Wr(t,e,n,i){return Vr(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",(function(n){return n(t,e,i)}))}function Kr(t,e,n,i){return Vr(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(function(n){return n(t,e,i)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Hr(t,ie.create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(e),o=i.depth+1;o>0;o--){var r=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(r.inlineContent)Hr(t,ie.create(n,s+1,s+1+r.content.size),"pointer");else{if(!re.isSelectable(r))continue;Hr(t,re.create(n,s),"pointer")}return!0}}(t,n)}function Ur(t){return Yr(t)}jr.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!Jr(t,e))if(t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Ui.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||lr(t,e)?e.preventDefault():zr(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,ao(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},jr.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},jr.keypress=function(t,e){if(!(Jr(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Ui.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof ie&&n.$from.sameParent(n.$to))){var i=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,i)}))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};var qr=Ui.mac?"metaKey":"ctrlKey";Rr.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Ur(t),i=Date.now(),o="singleClick";i-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}(e,t.lastClick)&&!e[qr]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:i,x:e.clientX,y:e.clientY,type:o};var r=t.posAtCoords(Lr(e));r&&("singleClick"==o?t.mouseDown=new Gr(t,r,e,n):("doubleClick"==o?Wr:Kr)(t,r.pos,r.inside,e)?e.preventDefault():zr(t,"pointer"))};var Gr=function(t,e,n,i){var o,r,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=i,this.selectNode=n[qr],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),r=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,r=a.depth?a.before():0}this.mightDrag=null;var l=i?null:n.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||t.state.selection instanceof re&&r==t.state.selection.from)&&(this.mightDrag={node:o,pos:r,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ui.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),zr(t,"pointer")};function Jr(t,e){return!!t.composing||!!(Ui.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Gr.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Gr.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Lr(t))),this.allowDefault||!e?zr(this.view,"pointer"):$r(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():this.flushed||Ui.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ui.chrome&&!(this.view.state.selection instanceof ie)&&(e.pos==this.view.state.selection.from||e.pos==this.view.state.selection.to)?(Hr(this.view,te.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):zr(this.view,"pointer")}},Gr.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),zr(this.view,"pointer")},Rr.touchdown=function(t){Ur(t),zr(t,"pointer")},Rr.contextmenu=function(t){return Ur(t)};var Zr=Ui.android?5e3:-1;function Xr(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return Yr(t)}),e))}function Yr(t,e){for(t.domObserver.forceFlush(),t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty();if(e||t.docView.dirty){var n=cr(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}jr.compositionstart=jr.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),Yr(t,!0),t.markCursor=null;else if(Yr(t),Ui.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=t.root.getSelection(),o=i.focusNode,r=i.focusOffset;o&&1==o.nodeType&&0!=r;){var s=r<0?o.lastChild:o.childNodes[r-1];if(!s)break;if(3==s.nodeType){i.collapse(s,s.nodeValue.length);break}o=s,r=-1}t.composing=!0}Xr(t,Zr)},jr.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,Xr(t,20))};var Qr=Ui.ie&&Ui.ie_version<15||Ui.ios&&Ui.webkit_version<604;function ts(t,e,n,i){var o=xr(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,i,o||d.empty)}))&&o){var r=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=r?t.state.tr.replaceSelectionWith(r,t.shiftKey):t.state.tr.replaceSelection(o);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Rr.copy=jr.cut=function(t,e){var n=t.state.selection,i="cut"==e.type;if(!n.empty){var o=Qr?null:e.clipboardData,r=Sr(t,n.content()),s=r.dom,a=r.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},jr.paste=function(t,e){var n=Qr?null:e.clipboardData,i=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(i||o||n.files.length)?(ts(t,o,i,e),e.preventDefault()):function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?ts(t,i.value,null,e):ts(t,i.textContent,i.innerHTML,e)}),50)}}(t,e)};var es=function(t,e){this.slice=t,this.move=e},ns=Ui.mac?"altKey":"ctrlKey";for(var is in Rr.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var i=t.state.selection,o=i.empty?null:t.posAtCoords(Lr(e));if(o&&o.pos>=i.from&&o.pos<=(i instanceof re?i.to-1:i.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(re.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var r=t.docView.nearestDesc(e.target,!0);if(!r||!r.node.type.spec.draggable||r==t.docView)return;t.dispatch(t.state.tr.setSelection(re.create(t.state.doc,r.posBefore)))}var s=t.state.selection.content(),a=Sr(t,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Qr?"Text":"text/html",l.innerHTML),Qr||e.dataTransfer.setData("text/plain",c),t.dragging=new es(s,!e[ns])}},Rr.dragend=function(t){window.setTimeout((function(){return t.dragging=null}),50)},jr.dragover=jr.dragenter=function(t,e){return e.preventDefault()},jr.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var i=t.posAtCoords(Lr(e));if(i){var o=t.state.doc.resolve(i.pos);if(o){var r=n&&n.slice||xr(t,e.dataTransfer.getData(Qr?"Text":"text/plain"),Qr?null:e.dataTransfer.getData("text/html"),!1,o);if(t.someProp("handleDrop",(function(i){return i(t,e,r||d.empty,n&&n.move)})))e.preventDefault();else if(r){e.preventDefault();var s=r?Ft(t.state.doc,o.pos,r):o.pos;null==s&&(s=o.pos);var a=t.state.tr;n&&n.move&&a.deleteSelection();var l=a.mapping.map(s),c=0==r.openStart&&0==r.openEnd&&1==r.content.childCount,u=a.doc;if(c?a.replaceRangeWith(l,l,r.content.firstChild):a.replaceRange(l,l,r),!a.doc.eq(u)){var p=a.doc.resolve(l);c&&re.isSelectable(r.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(r.content.firstChild)?a.setSelection(new re(p)):a.setSelection(vr(t,p,a.doc.resolve(a.mapping.map(s)))),t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))}}}}}},Rr.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&ur(t)}),20))},Rr.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},Rr.beforeinput=function(t,e){if(Ui.chrome&&Ui.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,ao(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},jr)Rr[is]=jr[is];function rs(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var i in e)if(!(i in t))return!1;return!0}var ss=function(t,e){this.spec=e||ds,this.side=this.spec.side||0,this.toDOM=t};ss.prototype.map=function(t,e,n,i){var o=t.mapResult(e.from+i,this.side<0?-1:1),r=o.pos;return o.deleted?null:new cs(r-n,r-n,this)},ss.prototype.valid=function(){return!0},ss.prototype.eq=function(t){return this==t||t instanceof ss&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&rs(this.spec,t.spec))};var as=function(t,e){this.spec=e||ds,this.attrs=t};as.prototype.map=function(t,e,n,i){var o=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-n,r=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=r?null:new cs(o,r,this)},as.prototype.valid=function(t,e){return e.from<e.to},as.prototype.eq=function(t){return this==t||t instanceof as&&rs(this.attrs,t.attrs)&&rs(this.spec,t.spec)},as.is=function(t){return t.type instanceof as};var ls=function(t,e){this.spec=e||ds,this.attrs=t};ls.prototype.map=function(t,e,n,i){var o=t.mapResult(e.from+i,1);if(o.deleted)return null;var r=t.mapResult(e.to+i,-1);return r.deleted||r.pos<=o.pos?null:new cs(o.pos-n,r.pos-n,this)},ls.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),i=n.index,o=n.offset;return o==e.from&&o+t.child(i).nodeSize==e.to},ls.prototype.eq=function(t){return this==t||t instanceof ls&&rs(this.attrs,t.attrs)&&rs(this.spec,t.spec)};var cs=function(t,e,n){this.from=t,this.to=e,this.type=n},us={spec:{configurable:!0}};cs.prototype.copy=function(t,e){return new cs(t,e,this.type)},cs.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},cs.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},cs.widget=function(t,e,n){return new cs(t,t,new ss(e,n))},cs.inline=function(t,e,n,i){return new cs(t,e,new as(n,i))},cs.node=function(t,e,n,i){return new cs(t,e,new ls(n,i))},us.spec.get=function(){return this.type.spec},Object.defineProperties(cs.prototype,us);var ps=[],ds={},hs=function(t,e){this.local=t&&t.length?t:ps,this.children=e&&e.length?e:ps};hs.create=function(t,e){return e.length?bs(e,t,0,ds):fs},hs.prototype.find=function(t,e,n){var i=[];return this.findInner(null==t?0:t,null==e?1e9:e,i,0,n),i},hs.prototype.findInner=function(t,e,n,i,o){for(var r=0;r<this.local.length;r++){var s=this.local[r];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var l=this.children[a]+1;this.children[a+2].findInner(t-l,e-l,n,i+l,o)}},hs.prototype.map=function(t,e,n){return this==fs||0==t.maps.length?this:this.mapInner(t,e,0,0,n||ds)},hs.prototype.mapInner=function(t,e,n,i,o){for(var r,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,i);a&&a.type.valid(e,a)?(r||(r=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,i,o,r,s){for(var a=t.slice(),l=function(t,e,n,i){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||t>l+r||(e>=a[s]+r?a[s+1]=-1:n>=o&&(c=i-n-(e-t))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,p=0;p<a.length;p+=3)if(-1==a[p+1]){var d=n.map(a[p]+r),h=d-o;if(h<0||h>=i.content.size){u=!0;continue}var f=n.map(t[p+1]+r,-1)-o,m=i.content.findIndex(h),g=m.index,v=m.offset,y=i.maybeChild(g);if(y&&v==h&&v+y.nodeSize==f){var b=a[p+2].mapInner(n,y,d+1,a[p]+r+1,s);b!=fs?(a[p]=h,a[p+1]=f,a[p+2]=b):(a[p+1]=-2,u=!0)}else u=!0}if(u){var w=bs(function(t,e,n,i,o,r,s){function a(t,e){for(var r=0;r<t.local.length;r++){var l=t.local[r].map(i,o,e);l?n.push(l):s.onRemove&&s.onRemove(t.local[r].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+r+1);return n}(a,t,e||[],n,o,r,s),i,0,s);e=w.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var C=0,S=0;C<w.children.length;C+=3){for(var x=w.children[C];S<a.length&&a[S]<x;)S+=3;a.splice(S,0,w.children[C],w.children[C+1],w.children[C+2])}}return new hs(e&&e.sort(ws),a)}(this.children,r,t,e,n,i,o):r?new hs(r.sort(ws)):fs},hs.prototype.add=function(t,e){return e.length?this==fs?hs.create(t,e):this.addInner(t,e,0):this},hs.prototype.addInner=function(t,e,n){var i,o=this,r=0;t.forEach((function(t,s){var a,l=s+n;if(a=vs(e,t,l)){for(i||(i=o.children.slice());r<i.length&&i[r]<s;)r+=3;i[r]==s?i[r+2]=i[r+2].addInner(t,a,l+1):i.splice(r,0,s,s+t.nodeSize,bs(a,t,l+1,ds)),r+=3}}));var s=gs(r?ys(e):e,-n);return new hs(s.length?this.local.concat(s).sort(ws):this.local,i||this.children)},hs.prototype.remove=function(t){return 0==t.length||this==fs?this:this.removeInner(t,0)},hs.prototype.removeInner=function(t,e){for(var n=this.children,i=this.local,o=0;o<n.length;o+=3){for(var r=void 0,s=n[o]+e,a=n[o+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>s&&c.to<a&&(t[l]=null,(r||(r=[])).push(c));if(r){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(r,s+1);u!=fs?n[o+2]=u:(n.splice(o,3),o-=3)}}if(i.length)for(var p=0,d=void 0;p<t.length;p++)if(d=t[p])for(var h=0;h<i.length;h++)i[h].eq(d,e)&&(i==this.local&&(i=this.local.slice()),i.splice(h--,1));return n==this.children&&i==this.local?this:i.length||n.length?new hs(i,n):fs},hs.prototype.forChild=function(t,e){if(this==fs)return this;if(e.isLeaf)return hs.empty;for(var n,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var r=t+1,s=r+e.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>r&&l.type instanceof as){var c=Math.max(r,l.from)-r,u=Math.min(s,l.to)-r;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){var p=new hs(i.sort(ws));return n?new ms([p,n]):p}return n||fs},hs.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof hs)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},hs.prototype.locals=function(t){return ks(this.localsInner(t))},hs.prototype.localsInner=function(t){if(this==fs)return ps;if(t.inlineContent||!this.local.some(as.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof as||e.push(this.local[n]);return e};var fs=new hs;hs.empty=fs,hs.removeOverlap=ks;var ms=function(t){this.members=t};function gs(t,e){if(!e||!t.length)return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(new cs(o.from+e,o.to+e,o.type))}return n}function vs(t,e,n){if(e.isLeaf)return null;for(var i=n+e.nodeSize,o=null,r=0,s=void 0;r<t.length;r++)(s=t[r])&&s.from>n&&s.to<i&&((o||(o=[])).push(s),t[r]=null);return o}function ys(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function bs(t,e,n,i){var o=[],r=!1;e.forEach((function(e,s){var a=vs(t,e,s+n);if(a){r=!0;var l=bs(a,e,n+s+1,i);l!=fs&&o.push(s,s+e.nodeSize,l)}}));for(var s=gs(r?ys(t):t,-n).sort(ws),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new hs(s,o):fs}function ws(t,e){return t.from-e.from||t.to-e.to}function ks(t){for(var e=t,n=0;n<e.length-1;n++){var i=e[n];if(i.from!=i.to)for(var o=n+1;o<e.length;o++){var r=e[o];if(r.from!=i.from){r.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,r.from),Cs(e,o,i.copy(r.from,i.to)));break}r.to!=i.to&&(e==t&&(e=t.slice()),e[o]=r.copy(r.from,i.to),Cs(e,o+1,r.copy(i.to,r.to)))}}return e}function Cs(t,e,n){for(;e<t.length&&ws(n,t[e])>0;)e++;t.splice(e,0,n)}function Ss(t){var e=[];return t.someProp("decorations",(function(n){var i=n(t.state);i&&i!=fs&&e.push(i)})),t.cursorWrapper&&e.push(hs.create(t.state.doc,[t.cursorWrapper.deco])),ms.from(e)}ms.prototype.forChild=function(t,e){if(e.isLeaf)return hs.empty;for(var n=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(t,e);o!=fs&&(o instanceof ms?n=n.concat(o.members):n.push(o))}return ms.from(n)},ms.prototype.eq=function(t){if(!(t instanceof ms)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},ms.prototype.locals=function(t){for(var e,n=!0,i=0;i<this.members.length;i++){var o=this.members[i].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var r=0;r<o.length;r++)e.push(o[r])}else e=o}return e?ks(n?e:e.sort(ws)):ps},ms.from=function(t){switch(t.length){case 0:return fs;case 1:return t[0];default:return new ms(t)}};var xs,Os,Is=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Ds(this),this.markCursor=null,this.cursorWrapper=null,Ts(this),this.nodeViews=Ps(this),this.docView=Ro(this.state.doc,Es(this),Ss(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Ar(t,(function(e,n,i,o){return wr(t,e,n,i,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Rr[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Nr(t,e)||!t.editable&&e.type in jr||n(t,e)})};for(var n in Rr)e(n);Ui.safari&&t.dom.addEventListener("input",(function(){return null})),Fr(t)}(this),this.pluginViews=[],this.updatePluginViews()},_s={props:{configurable:!0},root:{configurable:!0}};function Es(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var i in n)"class"==i?e.class+=" "+n[i]:e[i]||"contenteditable"==i||"nodeName"==i||(e[i]=String(n[i]))})),[cs.node(0,t.state.doc.content.size,e)]}function Ts(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:cs.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ds(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Ps(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}if(_s.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Is.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Fr(this),this._props=t,this.updateStateInner(t.state,!0)},Is.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var i in e.state=this.state,t)e[i]=t[i];this.update(e)},Is.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Is.prototype.updateStateInner=function(t,e){var n=this,i=this.state,o=!1;if(this.state=t,e){var r=Ps(this);(function(t,e){var n=0,i=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var r in e)i++;return n!=i})(r,this.nodeViews)&&(this.nodeViews=r,o=!0),Fr(this)}this.editable=Ds(this),Ts(this);var s,a,l,c,u,p,d,h,f,m,g,v=Ss(this),y=Es(this),b=e?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",w=o||!this.docView.matchesNode(t.doc,y,v),k=w||!t.selection.eq(i.selection),C="preserve"==b&&k&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,i=t.dom.getBoundingClientRect(),o=Math.max(0,i.top),r=(i.left+i.right)/2,s=o+1;s<Math.min(innerHeight,i.bottom);s+=5){var a=t.root.elementFromPoint(r,s);if(a!=t.dom&&t.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=o-20){e=a,n=l.top;break}}}return{refDOM:e,refTop:n,stack:ho(t.dom)}}(this);if(k){this.domObserver.stop();var S=w&&(Ui.ie||Ui.chrome)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&(c=i.selection,u=t.selection,p=Math.min(c.$anchor.sharedDepth(c.head),u.$anchor.sharedDepth(u.head)),c.$anchor.start(p)!=u.$anchor.start(p));if(w){var x=Ui.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,y,v,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ro(t.doc,y,v,this.dom,this)),x&&!this.trackWrites&&(S=!0)}S||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(s=this,a=s.docView.domFromPos(s.state.selection.anchor),l=s.root.getSelection(),eo(a.node,a.offset,l.anchorNode,l.anchorOffset)))?ur(this,S):(mr(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==b)this.dom.scrollTop=0;else if("to selection"==b){var O=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof re?po(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),O):po(this,this.coordsAtPos(t.selection.head),O))}else C&&(h=(d=C).refDOM,f=d.refTop,m=d.stack,g=h?h.getBoundingClientRect().top:0,fo(m,0==g?0:g-f))},Is.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Is.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var i=0;i<this.state.plugins.length;i++){var o=this.state.plugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Is.prototype.someProp=function(t,e){var n,i=this._props&&this._props[t];if(null!=i&&(n=e?e(i):i))return n;var o=this.state.plugins;if(o)for(var r=0;r<o.length;r++){var s=o[r].props[t];if(null!=s&&(n=e?e(s):s))return n}},Is.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Is.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(mo)return t.focus(mo);var e=ho(t);t.focus(null==mo?{get preventScroll(){return mo={preventScroll:!0},!0}}:void 0),mo||(mo=!1,fo(e,0))}(this.dom),ur(this),this.domObserver.start()},_s.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Is.prototype.posAtCoords=function(t){return yo(this,t)},Is.prototype.coordsAtPos=function(t){return wo(this,t)},Is.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},Is.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Is.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(t,e,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},Is.prototype.endOfTextblock=function(t,e){return _o(this,e||this.state,t)},Is.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ss(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Is.prototype.dispatchEvent=function(t){return function(t,e){Nr(t,e)||!Rr[e.type]||!t.editable&&e.type in jr||Rr[e.type](t,e)}(this,t)},Is.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Is.prototype,_s),"undefined"!=typeof WeakMap){var Bs=new WeakMap;xs=function(t){return Bs.get(t)},Os=function(t,e){return Bs.set(t,e),e}}else{var As=[],Ms=0;xs=function(t){for(var e=0;e<As.length;e+=2)if(As[e]==t)return As[e+1]},Os=function(t,e){return 10==Ms&&(Ms=0),As[Ms++]=t,As[Ms++]=e}}var Rs=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i},js=function(t,e,n,i){this.width=t,this.height=e,this.map=n,this.problems=i};function zs(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function Fs(t,e){var n=t.getAttribute("data-colwidth"),i=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(t){return Number(t)})):null,o=Number(t.getAttribute("colspan")||1),r={colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:i&&i.length==o?i:null};for(var s in e){var a=e[s].getFromDOM,l=a&&a(t);null!=l&&(r[s]=l)}return r}function Ns(t,e){var n={};for(var i in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var o=e[i].setDOMAttr;o&&o(t.attrs[i],n)}return n}function Ls(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in e)n[i]={default:e[i].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return Fs(t,e)}}],toDOM:function(t){return["td",Ns(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return Fs(t,e)}}],toDOM:function(t){return["th",Ns(t,e),0]}}}}function Vs(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var i=t.nodes[n],o=i.spec.tableRole;o&&(e[o]=i)}return e}js.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var i=e%this.width,o=e/this.width|0,r=i+1,s=o+1,a=1;r<this.width&&this.map[e+a]==n;a++)r++;for(var l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return new Rs(i,o,r,s)}}throw new RangeError("No cell with offset "+t+" found")},js.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},js.prototype.nextCell=function(t,e,n){var i=this.findCell(t),o=i.left,r=i.right,s=i.top,a=i.bottom;return"horiz"==e?(n<0?0==o:r==this.width)?null:this.map[s*this.width+(n<0?o-1:r)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},js.prototype.rectBetween=function(t,e){var n=this.findCell(t),i=n.left,o=n.right,r=n.top,s=n.bottom,a=this.findCell(e),l=a.left,c=a.right,u=a.top,p=a.bottom;return new Rs(Math.min(i,l),Math.min(r,u),Math.max(o,c),Math.max(s,p))},js.prototype.cellsInRect=function(t){for(var e=[],n={},i=t.top;i<t.bottom;i++)for(var o=t.left;o<t.right;o++){var r=i*this.width+o,s=this.map[r];n[s]||(n[s]=!0,o==t.left&&o&&this.map[r-1]==s||i==t.top&&i&&this.map[r-this.width]==s||e.push(s))}return e},js.prototype.positionAt=function(t,e,n){for(var i=0,o=0;;i++){var r=o+n.child(i).nodeSize;if(i==t){for(var s=e+t*this.width,a=(t+1)*this.width;s<a&&this.map[s]<o;)s++;return s==a?r-1:this.map[s]}o=r}},js.get=function(t){return xs(t)||Os(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=function(t){for(var e=-1,n=!1,i=0;i<t.childCount;i++){var o=t.child(i),r=0;if(n)for(var s=0;s<i;s++)for(var a=t.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>i&&(r+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var p=o.child(u);r+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}-1==e?e=r:e!=r&&(e=Math.max(e,r))}return e}(t),n=t.childCount,i=[],o=0,r=null,s=[],a=0,l=e*n;a<l;a++)i[a]=0;for(var c=0,u=0;c<n;c++){var p=t.child(c);u++;for(var d=0;;d++){for(;o<i.length&&0!=i[o];)o++;if(d==p.childCount)break;for(var h=p.child(d),f=h.attrs,m=f.colspan,g=f.rowspan,v=f.colwidth,y=0;y<g;y++){if(y+c>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:u,n:g-y});break}for(var b=o+y*e,w=0;w<m;w++){0==i[b+w]?i[b+w]=u:(r||(r=[])).push({type:"collision",row:c,pos:u,n:m-w});var k=v&&v[w];if(k){var C=(b+w)%e*2,S=s[C];null==S||S!=k&&1==s[C+1]?(s[C]=k,s[C+1]=1):S==k&&s[C+1]++}}}o+=m,u+=h.nodeSize}for(var x=(c+1)*e,O=0;o<x;)0==i[o++]&&O++;O&&(r||(r=[])).push({type:"missing",row:c,n:O}),u++}for(var I=new js(e,n,i,r),_=!1,E=0;!_&&E<s.length;E+=2)null!=s[E]&&s[E+1]<n&&(_=!0);_&&function(t,e,n){t.problems||(t.problems=[]);for(var i=0,o={};i<t.map.length;i++){var r=t.map[i];if(!o[r]){o[r]=!0;for(var s=n.nodeAt(r),a=null,l=0;l<s.attrs.colspan;l++){var c=(i+l)%t.width,u=e[2*c];null==u||s.attrs.colwidth&&s.attrs.colwidth[l]==u||((a||(a=zs(s.attrs)))[l]=u)}a&&t.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:a})}}}(I,s,t);return I}(t))};var Hs=new Ce("selectingCells");function $s(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function Ws(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function Ks(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:$s(e.$head)||function(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var i=e.type.spec.tableRole;if("cell"==i||"header_cell"==i)return t.doc.resolve(n)}for(var o=t.nodeBefore,r=t.pos;o;o=o.lastChild,r--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(r-o.nodeSize)}}(e.$head)}function Us(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function qs(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Gs(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Js(t){return js.get(t.node(-1)).findCell(t.pos-t.start(-1))}function Zs(t){return js.get(t.node(-1)).colCount(t.pos-t.start(-1))}function Xs(t,e,n){var i=t.start(-1),o=js.get(t.node(-1)).nextCell(t.pos-i,e,n);return null==o?null:t.node(0).resolve(i+o)}function Ys(t,e,n){var i={};for(var o in t)i[o]=t[o];return i[e]=n,i}function Qs(t,e,n){void 0===n&&(n=1);var i=Ys(t,"colspan",t.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,n),i.colwidth.some((function(t){return t>0}))||(i.colwidth=null)),i}function ta(t,e,n){void 0===n&&(n=1);var i=Ys(t,"colspan",t.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(var o=0;o<n;o++)i.colwidth.splice(e,0,0)}return i}function ea(t,e,n){for(var i=Vs(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=i)return!1;return!0}var na=function(t){function e(e,n){void 0===n&&(n=e);var i=e.node(-1),o=js.get(i),r=e.start(-1),s=o.rectBetween(e.pos-r,n.pos-r),a=e.node(0),l=o.cellsInRect(s).filter((function(t){return t!=n.pos-r}));l.unshift(n.pos-r);var c=l.map((function(t){var e=i.nodeAt(t),n=t+r+1;return new ne(a.resolve(n),a.resolve(n+e.content.size))}));t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var i=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(Us(i)&&Us(o)&&Gs(i,o)){var r=this.$anchorCell.node(-1)!=i.node(-1);return r&&this.isRowSelection()?e.rowSelection(i,o):r&&this.isColSelection()?e.colSelection(i,o):new e(i,o)}return ie.between(i,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=js.get(t),n=this.$anchorCell.start(-1),i=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},s=[],a=i.top;a<i.bottom;a++){for(var l=[],c=a*e.width+i.left,u=i.left;u<i.right;u++,c++){var p=e.map[c];if(!o[p]){o[p]=!0;var h=e.findCell(p),f=t.nodeAt(p),m=i.left-h.left,g=h.right-i.right;if(m>0||g>0){var v=f.attrs;m>0&&(v=Qs(v,0,m)),g>0&&(v=Qs(v,v.colspan-g,g)),f=h.left<i.left?f.type.createAndFill(v):f.type.create(v,f.content)}if(h.top<i.top||h.bottom>i.bottom){var y=Ys(f.attrs,"rowspan",Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top));f=h.top<i.top?f.type.createAndFill(y):f.type.create(y,f.content)}l.push(f)}}s.push(t.child(a).copy(r.from(l)))}var b=this.isColSelection()&&this.isRowSelection()?t:s;return new d(r.from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=d.empty);for(var i=e.steps.length,o=this.ranges,r=0;r<o.length;r++){var s=o[r],a=s.$from,l=s.$to,c=e.mapping.slice(i);e.replace(c.map(a.pos),c.map(l.pos),r?d.empty:n)}var u=t.findFrom(e.doc.resolve(e.mapping.slice(i).map(this.to)),-1);u&&e.setSelection(u)},e.prototype.replaceWith=function(t,e){this.replace(t,new d(r.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=js.get(e),i=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),r=0;r<o.length;r++)t(e.nodeAt(o[r]),i+o[r])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var i=js.get(t.node(-1)),o=t.start(-1),r=i.findCell(t.pos-o),s=i.findCell(n.pos-o),a=t.node(0);return r.top<=s.top?(r.top>0&&(t=a.resolve(o+i.map[r.left])),s.bottom<i.height&&(n=a.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+i.map[s.left])),r.bottom<i.height&&(t=a.resolve(o+i.map[i.width*(i.height-1)+r.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=js.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),i=t.colCount(this.$headCell.pos-e);if(Math.min(n,i)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,r=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,r)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var i=js.get(t.node(-1)),o=t.start(-1),r=i.findCell(t.pos-o),s=i.findCell(n.pos-o),a=t.node(0);return r.left<=s.left?(r.left>0&&(t=a.resolve(o+i.map[r.top*i.width])),s.right<i.width&&(n=a.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+i.map[s.top*i.width])),r.right<i.width&&(t=a.resolve(o+i.map[i.width*(r.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,i){return void 0===i&&(i=n),new e(t.resolve(n),t.resolve(i))},e.prototype.getBookmark=function(){return new ia(this.$anchorCell.pos,this.$headCell.pos)},e}(te);na.prototype.visible=!1,te.jsonID("cell",na);var ia=function(t,e){this.anchor=t,this.head=e};function oa(t){if(!(t.selection instanceof na))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(cs.node(n,n+t.nodeSize,{class:"selectedCell"}))})),hs.create(t.doc,e)}function ra(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,i=t.openEnd;1==e.childCount&&(n>0&&i>0||"table"==e.firstChild.type.spec.tableRole);)n--,i--,e=e.firstChild.content;var o=e.firstChild,s=o.type.spec.tableRole,a=o.type.schema,l=[];if("row"==s)for(var c=0;c<e.childCount;c++){var u=e.child(c).content,p=c?0:Math.max(0,n-1),h=c<e.childCount-1?0:Math.max(0,i-1);(p||h)&&(u=sa(Vs(a).row,new d(u,p,h)).content),l.push(u)}else{if("cell"!=s&&"header_cell"!=s)return null;l.push(n||i?sa(Vs(a).row,new d(e,n,i)).content:e)}return function(t,e){for(var n=[],i=0;i<e.length;i++)for(var o=e[i],s=o.childCount-1;s>=0;s--)for(var a=o.child(s).attrs,l=a.rowspan,c=a.colspan,u=i;u<i+l;u++)n[u]=(n[u]||0)+c;for(var p=0,d=0;d<n.length;d++)p=Math.max(p,n[d]);for(var h=0;h<n.length;h++)if(h>=e.length&&e.push(r.empty),n[h]<p){for(var f=Vs(t).cell.createAndFill(),m=[],g=n[h];g<p;g++)m.push(f);e[h]=e[h].append(r.from(m))}return{height:e.length,width:p,rows:e}}(a,l)}function sa(t,e){var n=t.createAndFill();return new wt(n).replace(0,n.content.size,e).doc}function aa(t,e,n){var i=t.width,o=t.height,s=t.rows;if(i!=e){for(var a=[],l=[],c=0;c<s.length;c++){for(var u=s[c],p=[],d=a[c]||0,h=0;d<e;h++){var f=u.child(h%u.childCount);d+f.attrs.colspan>e&&(f=f.type.create(Qs(f.attrs,f.attrs.colspan,d+f.attrs.colspan-e),f.content)),p.push(f),d+=f.attrs.colspan;for(var m=1;m<f.attrs.rowspan;m++)a[c+m]=(a[c+m]||0)+f.attrs.colspan}l.push(r.from(p))}s=l,i=e}if(o!=n){for(var g=[],v=0,y=0;v<n;v++,y++){for(var b=[],w=s[y%o],k=0;k<w.childCount;k++){var C=w.child(k);v+C.attrs.rowspan>n&&(C=C.type.create(Ys(C.attrs,"rowspan",n-C.attrs.rowspan),C.content)),b.push(C)}g.push(r.from(b))}s=g,o=n}return{width:i,height:o,rows:s}}function la(t,e,n,i,o,r,s,a){if(0==s||s==e.height)return!1;for(var l=!1,c=o;c<r;c++){var u=s*e.width+c,p=e.map[u];if(e.map[u-e.width]==p){l=!0;var d=n.nodeAt(p),h=e.findCell(p),f=h.top,m=h.left;t.setNodeMarkup(t.mapping.slice(a).map(p+i),null,Ys(d.attrs,"rowspan",s-f)),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),d.type.createAndFill(Ys(d.attrs,"rowspan",f+d.attrs.rowspan-s))),c+=d.attrs.colspan-1}}return l}function ca(t,e,n,i,o,r,s,a){if(0==s||s==e.width)return!1;for(var l=!1,c=o;c<r;c++){var u=c*e.width+s,p=e.map[u];if(e.map[u-1]==p){l=!0;var d=n.nodeAt(p),h=e.colCount(p),f=t.mapping.slice(a).map(p+i);t.setNodeMarkup(f,null,Qs(d.attrs,s-h,d.attrs.colspan-(s-h))),t.insert(f+d.nodeSize,d.type.createAndFill(Qs(d.attrs,0,s-h))),c+=d.attrs.rowspan-1}}return l}function ua(t,e,n,i,o){var s=n?t.doc.nodeAt(n-1):t.doc,a=js.get(s),l=i.top,c=i.left,u=c+o.width,p=l+o.height,h=t.tr,f=0;function m(){s=n?h.doc.nodeAt(n-1):h.doc,a=js.get(s),f=h.mapping.maps.length}(function(t,e,n,i,o,s,a){var l,c,u=Vs(t.doc.type.schema);if(o>e.width)for(var p=0,d=0;p<e.height;p++){var h=n.child(p);d+=h.nodeSize;var f=[],m=void 0;m=null==h.lastChild||h.lastChild.type==u.cell?l||(l=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(var g=e.width;g<o;g++)f.push(m);t.insert(t.mapping.slice(a).map(d-1+i),f)}if(s>e.height){for(var v=[],y=0,b=(e.height-1)*e.width;y<Math.max(e.width,o);y++){var w=!(y>=e.width)&&n.nodeAt(e.map[b+y]).type==u.header_cell;v.push(w?c||(c=u.header_cell.createAndFill()):l||(l=u.cell.createAndFill()))}for(var k=u.row.create(null,r.from(v)),C=[],S=e.height;S<s;S++)C.push(k);t.insert(t.mapping.slice(a).map(i+n.nodeSize-2),C)}return!(!l&&!c)})(h,a,s,n,u,p,f)&&m(),la(h,a,s,n,c,u,l,f)&&m(),la(h,a,s,n,c,u,p,f)&&m(),ca(h,a,s,n,l,p,c,f)&&m(),ca(h,a,s,n,l,p,u,f)&&m();for(var g=l;g<p;g++){var v=a.positionAt(g,c,s),y=a.positionAt(g,u,s);h.replace(h.mapping.slice(f).map(v+n),h.mapping.slice(f).map(y+n),new d(o.rows[g-l],0,0))}m(),h.setSelection(new na(h.doc.resolve(n+a.positionAt(l,c,s)),h.doc.resolve(n+a.positionAt(p-1,u-1,s)))),e(h)}ia.prototype.map=function(t){return new ia(t.map(this.anchor),t.map(this.head))},ia.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&Gs(e,n)?new na(e,n):te.near(n,1)};var pa=Ki({ArrowLeft:ha("horiz",-1),ArrowRight:ha("horiz",1),ArrowUp:ha("vert",-1),ArrowDown:ha("vert",1),"Shift-ArrowLeft":fa("horiz",-1),"Shift-ArrowRight":fa("horiz",1),"Shift-ArrowUp":fa("vert",-1),"Shift-ArrowDown":fa("vert",1),Backspace:ma,"Mod-Backspace":ma,Delete:ma,"Mod-Delete":ma});function da(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function ha(t,e){return function(n,i,o){var r=n.selection;if(r instanceof na)return da(n,i,te.near(r.$headCell,e));if("horiz"!=t&&!r.empty)return!1;var s=ba(o,t,e);if(null==s)return!1;if("horiz"==t)return da(n,i,te.near(n.doc.resolve(r.head+e),e));var a,l=n.doc.resolve(s),c=Xs(l,t,e);return a=c?te.near(c,1):e<0?te.near(n.doc.resolve(l.before(-1)),-1):te.near(n.doc.resolve(l.after(-1)),1),da(n,i,a)}}function fa(t,e){return function(n,i,o){var r=n.selection;if(!(r instanceof na)){var s=ba(o,t,e);if(null==s)return!1;r=new na(n.doc.resolve(s))}var a=Xs(r.$headCell,t,e);return!!a&&da(n,i,new na(r.$anchorCell,a))}}function ma(t,e){var n=t.selection;if(!(n instanceof na))return!1;if(e){var i=t.tr,o=Vs(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(o)||i.replace(i.mapping.map(e+1),i.mapping.map(e+t.nodeSize-1),new d(o,0,0))})),i.docChanged&&e(i)}return!0}function ga(t,e){var n=$s(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new na(n))),!0)}function va(t,e,n){if(!Ws(t.state))return!1;var i=ra(n),o=t.state.selection;if(o instanceof na){i||(i={width:1,height:1,rows:[r.from(sa(Vs(t.state.schema).cell,n))]});var s=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),l=js.get(s).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return i=aa(i,l.right-l.left,l.bottom-l.top),ua(t.state,t.dispatch,a,l,i),!0}if(i){var c=Ks(t.state),u=c.start(-1);return ua(t.state,t.dispatch,u,js.get(c.node(-1)).findCell(c.pos-u),i),!0}return!1}function ya(t,e){if(!e.ctrlKey&&!e.metaKey){var n,i=wa(t,e.target);if(e.shiftKey&&t.state.selection instanceof na)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&null!=(n=$s(t.state.selection.$anchor))&&ka(t,e).pos!=n.pos)o(n,e),e.preventDefault();else if(!i)return;t.root.addEventListener("mouseup",r),t.root.addEventListener("dragstart",r),t.root.addEventListener("mousemove",s)}function o(e,n){var i=ka(t,n),o=null==Hs.getState(t.state);if(!i||!Gs(e,i)){if(!o)return;i=e}var r=new na(e,i);if(o||!t.state.selection.eq(r)){var s=t.state.tr.setSelection(r);o&&s.setMeta(Hs,e.pos),t.dispatch(s)}}function r(){t.root.removeEventListener("mouseup",r),t.root.removeEventListener("dragstart",r),t.root.removeEventListener("mousemove",s),null!=Hs.getState(t.state)&&t.dispatch(t.state.tr.setMeta(Hs,-1))}function s(n){var s,a=Hs.getState(t.state);if(null!=a)s=t.state.doc.resolve(a);else if(wa(t,n.target)!=i&&!(s=ka(t,e)))return r();s&&o(s,n)}}function ba(t,e,n){if(!(t.state.selection instanceof ie))return null;for(var i=t.state.selection.$head,o=i.depth-1;o>=0;o--){var r=i.node(o);if((n<0?i.index(o):i.indexAfter(o))!=(n<0?0:r.childCount))return null;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){var s=i.before(o),a="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?s:null}}return null}function wa(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function ka(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?$s(t.state.doc.resolve(n.pos)):null}var Ca=new Ce("fix-tables");function Sa(t,e){var n,i=function(e,i){"table"==e.type.spec.tableRole&&(n=function(t,e,n,i){var o=js.get(e);if(!o.problems)return i;i||(i=t.tr);for(var r,s,a=[],l=0;l<o.height;l++)a.push(0);for(var c=0;c<o.problems.length;c++){var u=o.problems[c];if("collision"==u.type){for(var p=e.nodeAt(u.pos),d=0;d<p.attrs.rowspan;d++)a[u.row+d]+=u.n;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,Qs(p.attrs,p.attrs.colspan-u.n,u.n))}else if("missing"==u.type)a[u.row]+=u.n;else if("overlong_rowspan"==u.type){var h=e.nodeAt(u.pos);i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,Ys(h.attrs,"rowspan",h.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var f=e.nodeAt(u.pos);i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,Ys(f.attrs,"colwidth",u.colwidth))}}for(var m=0;m<a.length;m++)a[m]&&(null==r&&(r=m),s=m);for(var g=0,v=n+1;g<o.height;g++){var y=e.child(g),b=v+y.nodeSize,w=a[g];if(w>0){var k="cell";y.firstChild&&(k=y.firstChild.type.spec.tableRole);for(var C=[],S=0;S<w;S++)C.push(Vs(t.schema)[k].createAndFill());var x=0!=g&&r!=g-1||s!=g?b-1:v+1;i.insert(i.mapping.map(x),C)}v=b}return i.setMeta(Ca,{fixTables:!0})}(t,e,i,n))};return e?e.doc!=t.doc&&function t(e,n,i,o){var r=e.childCount,s=n.childCount;t:for(var a=0,l=0;a<s;a++){for(var c=n.child(a),u=l,p=Math.min(r,a+3);u<p;u++)if(e.child(u)==c){l=u+1,i+=c.nodeSize;continue t}o(c,i),l<r&&e.child(l).sameMarkup(c)?t(e.child(l),c,i+1,o):c.nodesBetween(0,c.content.size,o,i+1),i+=c.nodeSize}}(e.doc,t.doc,0,i):t.doc.descendants(i),n}function xa(t){var e,n=t.selection,i=Ks(t),o=i.node(-1),r=i.start(-1),s=js.get(o);return(e=n instanceof na?s.rectBetween(n.$anchorCell.pos-r,n.$headCell.pos-r):s.findCell(i.pos-r)).tableStart=r,e.map=s,e.table=o,e}function Oa(t,e,n){var i=e.map,o=e.tableStart,r=e.table,s=n>0?-1:0;ea(i,r,n+s)&&(s=0==n||n==i.width?null:0);for(var a=0;a<i.height;a++){var l=a*i.width+n;if(n>0&&n<i.width&&i.map[l-1]==i.map[l]){var c=i.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(o+c),null,ta(u.attrs,n-i.colCount(c))),a+=u.attrs.rowspan-1}else{var p=null==s?Vs(r.type.schema).cell:r.nodeAt(i.map[l+s]).type,d=i.positionAt(a,n,r);t.insert(t.mapping.map(o+d),p.createAndFill())}}return t}function Ia(t,e){if(!Ws(t))return!1;if(e){var n=xa(t);e(Oa(t.tr,n,n.left))}return!0}function _a(t,e){if(!Ws(t))return!1;if(e){var n=xa(t);e(Oa(t.tr,n,n.right))}return!0}function Ea(t,e,n){for(var i=e.map,o=e.table,r=e.tableStart,s=t.mapping.maps.length,a=0;a<i.height;){var l=a*i.width+n,c=i.map[l],u=o.nodeAt(c);if(n>0&&i.map[l-1]==c||n<i.width-1&&i.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(r+c),null,Qs(u.attrs,n-i.colCount(c)));else{var p=t.mapping.slice(s).map(r+c);t.delete(p,p+u.nodeSize)}a+=u.attrs.rowspan}}function Ta(t,e){if(!Ws(t))return!1;if(e){var n=xa(t),i=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;Ea(i,n,o),o!=n.left;o--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=js.get(n.table);e(i)}return!0}function Da(t,e,n){for(var i=Vs(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=i)return!1;return!0}function Pa(t,e,n){for(var i=e.map,o=e.tableStart,r=e.table,s=o,a=0;a<n;a++)s+=r.child(a).nodeSize;var l=[],c=n>0?-1:0;Da(i,r,n+c)&&(c=0==n||n==i.height?null:0);for(var u=0,p=i.width*n;u<i.width;u++,p++)if(n>0&&n<i.height&&i.map[p]==i.map[p-i.width]){var d=i.map[p],h=r.nodeAt(d).attrs;t.setNodeMarkup(o+d,null,Ys(h,"rowspan",h.rowspan+1)),u+=h.colspan-1}else{var f=null==c?Vs(r.type.schema).cell:r.nodeAt(i.map[p+c*i.width]).type;l.push(f.createAndFill())}return t.insert(s,Vs(r.type.schema).row.create(null,l)),t}function Ba(t,e){if(!Ws(t))return!1;if(e){var n=xa(t);e(Pa(t.tr,n,n.top))}return!0}function Aa(t,e){if(!Ws(t))return!1;if(e){var n=xa(t);e(Pa(t.tr,n,n.bottom))}return!0}function Ma(t,e,n){for(var i=e.map,o=e.table,r=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var l=s+o.child(n).nodeSize,c=t.mapping.maps.length;t.delete(s+r,l+r);for(var u=0,p=n*i.width;u<i.width;u++,p++){var d=i.map[p];if(n>0&&d==i.map[p-i.width]){var h=o.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(c).map(d+r),null,Ys(h,"rowspan",h.rowspan-1)),u+=h.colspan-1}else if(n<i.width&&d==i.map[p+i.width]){var f=o.nodeAt(d),m=f.type.create(Ys(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),g=i.positionAt(n+1,u,o);t.insert(t.mapping.slice(c).map(r+g),m),u+=f.attrs.colspan-1}}}function Ra(t,e){if(!Ws(t))return!1;if(e){var n=xa(t),i=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;Ma(i,n,o),o!=n.top;o--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=js.get(n.table);e(i)}return!0}function ja(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function za(t,e){var n=t.selection;if(!(n instanceof na)||n.$anchorCell.pos==n.$headCell.pos)return!1;var i=xa(t),o=i.map;if(function(t,e){for(var n=t.width,i=t.height,o=t.map,r=e.top*n+e.left,s=r,a=(e.bottom-1)*n+e.left,l=r+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[l]==o[l+1])return!0;s+=n,l+=n}for(var u=e.left;u<e.right;u++){if(e.top>0&&o[r]==o[r-n]||e.bottom<i&&o[a]==o[a+n])return!0;r++,a++}return!1}(o,i))return!1;if(e){for(var s,a,l=t.tr,c={},u=r.empty,p=i.top;p<i.bottom;p++)for(var d=i.left;d<i.right;d++){var h=o.map[p*o.width+d],f=i.table.nodeAt(h);if(!c[h])if(c[h]=!0,null==s)s=h,a=f;else{ja(f)||(u=u.append(f.content));var m=l.mapping.map(h+i.tableStart);l.delete(m,m+f.nodeSize)}}if(l.setNodeMarkup(s+i.tableStart,null,Ys(ta(a.attrs,a.attrs.colspan,i.right-i.left-a.attrs.colspan),"rowspan",i.bottom-i.top)),u.size){var g=s+1+a.content.size,v=ja(a)?s+1:g;l.replaceWith(v+i.tableStart,g+i.tableStart,u)}l.setSelection(new na(l.doc.resolve(s+i.tableStart))),e(l)}return!0}function Fa(t,e){var n=Vs(t.schema);return Na((function(t){var e=t.node;return n[e.type.spec.tableRole]}))(t,e)}function Na(t){return function(e,n){var i,o,r=e.selection;if(r instanceof na){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,o=r.$anchorCell.pos}else{if(!(i=function(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(r.$from)))return!1;o=$s(r.$from).pos}if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(n){var s=i.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=Ys(s,"rowspan",1)),s.colspan>1&&(s=Ys(s,"colspan",1));for(var c,u=xa(e),p=e.tr,d=0;d<u.right-u.left;d++)a.push(l?Ys(s,"colwidth",l&&l[d]?[l[d]]:null):s);for(var h=u.top;h<u.bottom;h++){var f=u.map.positionAt(h,u.left,u.table);h==u.top&&(f+=i.nodeSize);for(var m=u.left,g=0;m<u.right;m++,g++)m==u.left&&h==u.top||p.insert(c=p.mapping.map(f+u.tableStart,1),t({node:i,row:h,col:m}).createAndFill(a[g]))}p.setNodeMarkup(o,t({node:i,row:u.top,col:u.left}),a[0]),r instanceof na&&p.setSelection(new na(p.doc.resolve(r.$anchorCell.pos),c&&p.doc.resolve(c))),n(p)}return!0}}function La(t,e){return function(n,i){if(!Ws(n))return!1;var o=Ks(n);if(o.nodeAfter.attrs[t]===e)return!1;if(i){var r=n.tr;n.selection instanceof na?n.selection.forEachCell((function(n,i){n.attrs[t]!==e&&r.setNodeMarkup(i,null,Ys(n.attrs,t,e))})):r.setNodeMarkup(o.pos,null,Ys(o.nodeAfter.attrs,t,e)),i(r)}return!0}}function Va(t,e,n){for(var i=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<i.length;o++){var r=e.table.nodeAt(i[o]);if(r&&r.type!==n.header_cell)return!1}return!0}function Ha(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,n){if(!Ws(e))return!1;if(n){for(var i=Vs(e.schema),o=xa(e),r=e.tr,s=o.map.cellsInRect("column"==t?new Rs(o.left,0,o.right,o.map.height):"row"==t?new Rs(0,o.top,o.map.width,o.bottom):o),a=s.map((function(t){return o.table.nodeAt(t)})),l=0;l<s.length;l++)a[l].type==i.header_cell&&r.setNodeMarkup(o.tableStart+s[l],i.cell,a[l].attrs);if(0==r.steps.length)for(var c=0;c<s.length;c++)r.setNodeMarkup(o.tableStart+s[c],i.header_cell,a[c].attrs);n(r)}return!0}}(t):function(e,n){if(!Ws(e))return!1;if(n){var i=Vs(e.schema),o=xa(e),r=e.tr,s=Va("row",o,i),a=Va("column",o,i),l=("column"===t?s:"row"===t&&a)?1:0,c="column"==t?new Rs(0,l,1,o.map.height):"row"==t?new Rs(l,0,o.map.width,1):o,u="column"==t?a?i.cell:i.header_cell:"row"==t?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(c).forEach((function(t){var e=t+o.tableStart,n=r.doc.nodeAt(e);n&&r.setNodeMarkup(e,u,n.attrs)})),n(r)}return!0}}var $a=Ha("row",{useDeprecatedLogic:!0}),Wa=Ha("column",{useDeprecatedLogic:!0}),Ka=Ha("cell",{useDeprecatedLogic:!0});function Ua(t){return function(e,n){if(!Ws(e))return!1;var i=function(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var i=t.index(-1)-1,o=t.before();i>=0;i--){var r=t.node(-1).child(i);if(r.childCount)return o-1-r.lastChild.nodeSize;o-=r.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),l=t.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return l+1;l+=c.nodeSize}}}(Ks(e),t);if(null!=i){if(n){var o=e.doc.resolve(i);n(e.tr.setSelection(ie.between(o,qs(o))).scrollIntoView())}return!0}}}function qa(t,e){for(var n=t.selection.$anchor,i=n.depth;i>0;i--){if("table"==n.node(i).type.spec.tableRole)return e&&e(t.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0}return!1}var Ga=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ja(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Ja(t,e,n,i,o,r){for(var s=0,a=!0,l=e.firstChild,c=t.firstChild,u=0,p=0;u<c.childCount;u++)for(var d=c.child(u).attrs,h=d.colspan,f=d.colwidth,m=0;m<h;m++,p++){var g=o==p?r:f&&f[m],v=g?g+"px":"";s+=g||i,g||(a=!1),l?(l.style.width!=v&&(l.style.width=v),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=v}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}Ga.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,Ja(t,this.colgroup,this.table,this.cellMinWidth),!0)},Ga.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Za=new Ce("tableColumnResizing");function Xa(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var i=t.View;void 0===i&&(i=Ga);var o=t.lastColumnResizable;return void 0===o&&(o=!0),new be({key:Za,state:{init:function(t,e){return this.spec.props.nodeViews[Vs(e.schema).table.name]=function(t,e){return new i(t,n,e)},new Ya(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return Za.getState(t).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,n){!function(t,e,n,i,o){var r=Za.getState(t.state);if(!r.dragging){var s=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target),a=-1;if(s){var l=s.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=n?a=Qa(t,e,"left"):u-e.clientX<=n&&(a=Qa(t,e,"right"))}if(a!=r.activeHandle){if(!o&&-1!==a){var p=t.state.doc.resolve(a),d=p.node(-1),h=js.get(d),f=p.start(-1);if(h.colCount(p.pos-f)+p.nodeAfter.attrs.colspan-1==h.width-1)return}el(t,a)}}}(t,n,e,0,o)},mouseleave:function(t){!function(t){var e=Za.getState(t.state);e.activeHandle>-1&&!e.dragging&&el(t,-1)}(t)},mousedown:function(t,e){!function(t,e,n){var i=Za.getState(t.state);if(-1==i.activeHandle||i.dragging)return!1;var o=t.state.doc.nodeAt(i.activeHandle),r=function(t,e,n){var i=n.colspan,o=n.colwidth,r=o&&o[o.length-1];if(r)return r;var s=t.domAtPos(e),a=s.node.childNodes[s.offset].offsetWidth,l=i;if(o)for(var c=0;c<i;c++)o[c]&&(a-=o[c],l--);return a/l}(t,i.activeHandle,o.attrs);function s(e){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var i=Za.getState(t.state);i.dragging&&(!function(t,e,n){for(var i=t.state.doc.resolve(e),o=i.node(-1),r=js.get(o),s=i.start(-1),a=r.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,l=t.state.tr,c=0;c<r.height;c++){var u=c*r.width+a;if(!c||r.map[u]!=r.map[u-r.width]){var p=r.map[u],d=o.nodeAt(p).attrs,h=1==d.colspan?0:a-r.colCount(p);if(!d.colwidth||d.colwidth[h]!=n){var f=d.colwidth?d.colwidth.slice():nl(d.colspan);f[h]=n,l.setNodeMarkup(s+p,null,Ys(d,"colwidth",f))}}}l.docChanged&&t.dispatch(l)}(t,i.activeHandle,tl(i.dragging,e,n)),t.dispatch(t.state.tr.setMeta(Za,{setDragging:null})))}function a(e){if(!e.which)return s(e);var i=Za.getState(t.state),o=tl(i.dragging,e,n);!function(t,e,n,i){var o=t.state.doc.resolve(e),r=o.node(-1),s=o.start(-1),a=js.get(r).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,l=t.domAtPos(o.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;Ja(r,l.firstChild,l,i,a,n)}(t,i.activeHandle,o,n)}t.dispatch(t.state.tr.setMeta(Za,{setDragging:{startX:e.clientX,startWidth:r}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault()}(t,e,n)}},decorations:function(t){var e=Za.getState(t);if(e.activeHandle>-1)return function(t,e){for(var n=[],i=t.doc.resolve(e),o=i.node(-1),r=js.get(o),s=i.start(-1),a=r.colCount(i.pos-s)+i.nodeAfter.attrs.colspan,l=0;l<r.height;l++){var c=a+l*r.width-1;if(!(a!=r.width&&r.map[c]==r.map[c+1]||0!=l&&r.map[c-1]==r.map[c-1-r.width])){var u=r.map[c],p=s+u+o.nodeAt(u).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(cs.widget(p,d))}}return hs.create(t.doc,n)}(t,e.activeHandle)},nodeViews:{}}})}var Ya=function(t,e){this.activeHandle=t,this.dragging=e};function Qa(t,e,n){var i=t.posAtCoords({left:e.clientX,top:e.clientY}).pos,o=$s(t.state.doc.resolve(i));if(!o)return-1;if("right"==n)return o.pos;var r=js.get(o.node(-1)),s=o.start(-1),a=r.map.indexOf(o.pos-s);return a%r.width==0?-1:s+r.map[a-1]}function tl(t,e,n){var i=e.clientX-t.startX;return Math.max(n,t.startWidth+i)}function el(t,e){t.dispatch(t.state.tr.setMeta(Za,{setHandle:e}))}function nl(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function il(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new be({key:Hs,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(Hs);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var i=t.mapping.mapResult(e),o=i.deleted,r=i.pos;return o?null:r}},props:{decorations:oa,handleDOMEvents:{mousedown:ya},createSelectionBetween:function(t){if(null!=Hs.getState(t.state))return t.state.selection},handleTripleClick:ga,handleKeyDown:pa,handlePaste:va},appendTransaction:function(t,n,i){return function(t,e,n){var i,o,r=(e||t).selection,s=(e||t).doc;if(r instanceof re&&(o=r.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)i=na.create(s,r.from);else if("row"==o){var a=s.resolve(r.from+1);i=na.rowSelection(a,a)}else if(!n){var l=js.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];i=na.create(s,c+1,u)}}else r instanceof ie&&function(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var i=e.pos,o=n.pos,r=e.depth;r>=0&&!(e.after(r+1)<e.end(r));r--,i++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return i==o&&/row|table/.test(e.node(r).type.spec.tableRole)}(r)?i=ie.create(s,r.from):r instanceof ie&&function(t){for(var e,n,i=t.$from,o=t.$to,r=i.depth;r>0;r--){var s=i.node(r);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=o.depth;a>0;a--){var l=o.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return e!==n&&0===o.parentOffset}(r)&&(i=ie.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}(i,Sa(i,n),e)}})}Ya.prototype.apply=function(t){var e=this,n=t.getMeta(Za);if(n&&null!=n.setHandle)return new Ya(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Ya(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var i=t.mapping.map(e.activeHandle,-1);Us(t.doc.resolve(i))||(i=null),e=new Ya(i,e.dragging)}return e};var ol=["blockquote",0],rl=["hr"],sl=["pre",["code",0]],al=["ol",0],ll=["ul",0],cl=["li",0],ul=function(t){for(var e,n={},i=t.attributes,o=0;o<i.length;o++)n[(e=i[o]).name]=e.value;return n},pl=function(t,e){for(var n in t)if(n&&null!==t[n]&&n!==e)return!0;return!1},dl=function(t,e){var n={};for(var i in t)i&&null!==t[i]&&i!==e&&(n[i]=t[i]);return n},hl=function(t){var e;return(e={})[t]={name:t,inclusive:!0,parseDOM:[{tag:t}],toDOM:function(){return[t,0]}},e},fl=Ie.__assign({link:{attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:ul}],toDOM:function(t){return["a",dl(t.attrs),0]}}},hl("strong"),hl("b"),hl("em"),hl("i"),hl("u"),hl("del"),hl("sub"),hl("sup"),hl("code"),{style:{attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"span",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["span",dl(t.attrs),0]:["span",0]}}}),ml=Ie.__assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"p",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["p",dl(t.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"div",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["div",dl(t.attrs),0]:["div",0]}},blockquote:{attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return ol}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return rl}},heading:{attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(t){return Ie.__assign({},ul(t),{level:1})}},{tag:"h2",getAttrs:function(t){return Ie.__assign({},ul(t),{level:2})}},{tag:"h3",getAttrs:function(t){return Ie.__assign({},ul(t),{level:3})}},{tag:"h4",getAttrs:function(t){return Ie.__assign({},ul(t),{level:4})}},{tag:"h5",getAttrs:function(t){return Ie.__assign({},ul(t),{level:5})}},{tag:"h6",getAttrs:function(t){return Ie.__assign({},ul(t),{level:6})}}],toDOM:function(t){return pl(t.attrs,"level")?["h"+t.attrs.level,dl(t.attrs,"level"),0]:["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return sl}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:Ie.__assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["img",dl(t.attrs)]:["img"]}},hard_break:{inline:!0,attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["br",dl(t.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(t){return Ie.__assign({},ul(t),{order:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"1",10):1})}}],toDOM:function(t){return 1===t.attrs.order?pl(t.attrs,"order")?["ol",dl(t.attrs,"order"),0]:al:["ol",Ie.__assign({},dl(t.attrs,"order"),{start:t.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"ul",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["ul",dl(t.attrs),0]:ll}},list_item:{content:"block*",attrs:Ie.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"li",getAttrs:ul}],toDOM:function(t){return pl(t.attrs)?["li",dl(t.attrs),0]:cl},defining:!0}},Ls({tableGroup:"block",cellContent:"block+",cellAttributes:{}})),gl=function(){};gl.prototype.append=function(t){return t.length?(t=gl.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},gl.prototype.prepend=function(t){return t.length?gl.from(t).append(this):this},gl.prototype.appendInner=function(t){return new yl(this,t)},gl.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?gl.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},gl.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},gl.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},gl.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(e,n){return i.push(t(e,n))}),e,n),i},gl.from=function(t){return t instanceof gl?t:t&&t.length?new vl(t):gl.empty};var vl=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,i){for(var o=e;o<n;o++)if(!1===t(this.values[o],i+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,i){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],i+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(gl);gl.empty=new vl([]);var yl=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,i){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),i))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,i+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,i){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,i+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,i))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(gl),bl=gl,wl=function(t,e){this.items=t,this.eventCount=e};wl.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var i,o,r=this.items.length;;r--){if(this.items.get(r-1).selection){--r;break}}e&&(i=this.remapping(r,this.items.length),o=i.maps.length);var s,a,l=t.tr,c=[],u=[];return this.items.forEach((function(t,e){if(!t.step)return i||(i=n.remapping(r,e+1),o=i.maps.length),o--,void u.push(t);if(i){u.push(new kl(t.map));var p,d=t.step.map(i.slice(o));d&&l.maybeStep(d).doc&&(p=l.mapping.maps[l.mapping.maps.length-1],c.push(new kl(p,null,null,c.length+u.length))),o--,p&&i.appendMap(p,o)}else l.maybeStep(t.step);return t.selection?(s=i?t.selection.map(i.slice(o)):t.selection,a=new wl(n.items.slice(0,r).append(u.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:l,selection:s}},wl.prototype.addTransform=function(t,e,n,i){for(var o=[],r=this.eventCount,s=this.items,a=!i&&s.length?s.get(s.length-1):null,l=0;l<t.steps.length;l++){var c,u=t.steps[l].invert(t.docs[l]),p=new kl(t.mapping.maps[l],u,e);(c=a&&a.merge(p))&&(p=c,l?o.pop():s=s.slice(0,s.length-1)),o.push(p),e&&(r++,e=null),i||(a=p)}var d,h,f,m=r-n.depth;return m>Sl&&(h=m,(d=s).forEach((function(t,e){if(t.selection&&0==h--)return f=e,!1})),s=d.slice(f),r-=m),new wl(s.append(o),r)},wl.prototype.remapping=function(t,e){var n=new yt;return this.items.forEach((function(e,i){var o=null!=e.mirrorOffset&&i-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},wl.prototype.addMaps=function(t){return 0==this.eventCount?this:new wl(this.items.append(t.map((function(t){return new kl(t)}))),this.eventCount)},wl.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-e),o=t.mapping,r=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),i);var a=e;this.items.forEach((function(e){var i=o.getMirror(--a);if(null!=i){r=Math.min(r,i);var l=o.maps[i];if(e.step){var c=t.steps[i].invert(t.docs[i]),u=e.selection&&e.selection.map(o.slice(a+1,i));u&&s++,n.push(new kl(l,c,u))}else n.push(new kl(l))}}),i);for(var l=[],c=e;c<r;c++)l.push(new kl(o.maps[c]));var u=this.items.slice(0,i).append(l).append(n),p=new wl(u,s);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p},wl.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},wl.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,i=[],o=0;return this.items.forEach((function(r,s){if(s>=t)i.push(r),r.selection&&o++;else if(r.step){var a=r.step.map(e.slice(n)),l=a&&a.getMap();if(n--,l&&e.appendMap(l,n),a){var c=r.selection&&r.selection.map(e.slice(n));c&&o++;var u,p=new kl(l.invert(),a,c),d=i.length-1;(u=i.length&&i[d].merge(p))?i[d]=u:i.push(p)}}else r.map&&n--}),this.items.length,0),new wl(bl.from(i.reverse()),o)},wl.empty=new wl(bl.empty,0);var kl=function(t,e,n,i){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=i};kl.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new kl(e.getMap().invert(),e,this.selection)}};var Cl=function(t,e,n,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=i},Sl=20;function xl(t){var e=[];return t.forEach((function(t,n,i,o){return e.push(i,o)})),e}function Ol(t,e){if(!t)return null;for(var n=[],i=0;i<t.length;i+=2){var o=e.map(t[i],1),r=e.map(t[i+1],-1);o<=r&&n.push(o,r)}return n}function Il(t,e,n,i){var o=Tl(e),r=Pl.get(e).spec.config,s=(i?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),l=(i?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,o),c=new Cl(i?l:s.remaining,i?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(Pl,{redo:i,historyState:c}).scrollIntoView())}}var _l=!1,El=null;function Tl(t){var e=t.plugins;if(El!=e){_l=!1,El=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){_l=!0;break}}return _l}function Dl(t){return t.setMeta(Bl,!0)}var Pl=new Ce("history"),Bl=new Ce("closeHistory");function Al(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new be({key:Pl,state:{init:function(){return new Cl(wl.empty,wl.empty,null,0)},apply:function(e,n,i){return function(t,e,n,i){var o,r=n.getMeta(Pl);if(r)return r.historyState;n.getMeta(Bl)&&(t=new Cl(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(Pl))return s.getMeta(Pl).redo?new Cl(t.done.addTransform(n,null,i,Tl(e)),t.undone,xl(n.mapping.maps[n.steps.length-1]),t.prevTime):new Cl(t.done,t.undone.addTransform(n,null,i,Tl(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Cl(t.done.rebased(n,o),t.undone.rebased(n,o),Ol(t.prevRanges,n.mapping),t.prevTime):new Cl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ol(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-i.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,i){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&i>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),l=s?Ol(t.prevRanges,n.mapping):xl(n.mapping.maps[n.steps.length-1]);return new Cl(t.done.addTransform(n,a?e.selection.getBookmark():null,i,Tl(e)),wl.empty,l,n.time)}(n,i,e,t)}},config:t})}function Ml(t,e){var n=Pl.getState(t);return!(!n||0==n.done.eventCount)&&(e&&Il(n,t,e,!1),!0)}function Rl(t,e){var n=Pl.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&Il(n,t,e,!0),!0)}function jl(t){var e=Pl.getState(t);return e?e.done.eventCount:0}function zl(t){var e=Pl.getState(t);return e?e.undone.eventCount:0}var Fl=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,i,o){var r=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);r+=e[0].slice(s+e[1].length);var a=(i+=s)-o;a>0&&(r=e[0].slice(s-a,s)+r,i=o)}return t.tr.insertText(r,i,o)}):e};function Nl(t){var e=t.rules,n=new be({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,i,o,r){return Ll(t,i,o,r,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var i=t.state.selection.$cursor;i&&Ll(t,i.pos,i.pos,"",e,n)}))}}},isInputRules:!0});return n}function Ll(t,e,n,i,o,r){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"")+i,c=0;c<o.length;c++){var u=o[c].match.exec(l),p=u&&o[c].handler(s,u,e-(u[0].length-i.length),n);if(p)return t.dispatch(p.setMeta(r,{transform:p,from:e,to:n,text:i})),!0}return!1}function Vl(t,e){for(var n=t.plugins,i=0;i<n.length;i++){var o=n[i],r=void 0;if(o.spec.isInputRules&&(r=o.getState(t))){if(e){for(var s=t.tr,a=r.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));var c=s.doc.resolve(r.from).marks();e(s.replaceWith(r.from,r.to,t.schema.text(r.text,c)))}return!0}}return!1}var Hl=new Fl(/--$/,""),$l=new Fl(/\.\.\.$/,""),Wl=new Fl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),Kl=new Fl(/"$/,""),Ul=new Fl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),ql=new Fl(/'$/,""),Gl=[Wl,Kl,Ul,ql];function Jl(t,e,n,i){return new Fl(t,(function(t,o,r,s){var a=n instanceof Function?n(o):n,l=t.tr.delete(r,s),c=l.doc.resolve(r).blockRange(),u=c&&Pt(c,e,a);if(!u)return null;l.wrap(c,u);var p=l.doc.resolve(r-1).nodeBefore;return p&&p.type==e&&Mt(l.doc,r-1)&&(!i||i(o,p))&&l.join(r-1),l}))}function Zl(t,e,n){return new Fl(t,(function(t,i,o,r){var s=t.doc.resolve(o),a=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(o,r).setBlockType(o,o,e,a):null}))}var Xl="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Yl=function(t){var e={};if(e["Mod-z"]=Ml,e["Shift-Mod-z"]=Rl,e.Backspace=di(Vl,Vn,Hn,Wn),e.Enter=di(Yn,ei,ni,oi),Xl||(e["Mod-y"]=Rl),t.marks.strong&&(e["Mod-b"]=ui(t.marks.strong)),t.marks.em&&(e["Mod-i"]=ui(t.marks.em)),t.marks.underline&&(e["Mod-u"]=ui(t.marks.underline)),t.nodes.hard_break){var n=t.nodes.hard_break,i=di(ti,(function(t,e){return e(t.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0}));e["Shift-Enter"]=i}return e},Ql=function(t){var e,n={};return t.nodes.list_item&&(n.Enter=(e=t.nodes.list_item,function(t,n){return In(e)(t,(function(e){var i=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();i&&e.ensureMarks(i),n(e)}))})),n},tc={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},ec={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},nc={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},ic={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},oc={mark:"sub"},rc={mark:"sup"},sc={mark:"link"},ac=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,lc=function(t){return/^MsoListParagraph/.test(t.className)},cc=function(t){var e=t.innerHTML;return e=(e=e.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},uc=function(t,e){var n=document.createElement(t);return n.style.listStyleType=e,n},pc=function(t){var e=null;return/^\d/.test(t)||(e=(/^[a-z]/.test(t)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(t)?"roman":"alpha")),e},dc=function(t,e){var n=[];Array.from(t).forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var i=t;i.getAttribute("datalist")?(n.push(t),e.add(n)):lc(i)&&n.length?n.push(t):(n=[],"DIV"===i.nodeName?dc(i.children,e):"TABLE"===i.nodeName&&Array.from(i.querySelectorAll("td,th")).forEach((function(t){dc(t.children,e)})))}}))},hc=function(t){var e,n=t.innerHTML,i=function(t){return t.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),/^[\u2022\u00b7\u00a7\u00d8ovn][\u00a0 ]+/.test(n)?{tag:"ul",style:(e=i(cc(t)),/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square")}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n)?{tag:"ol",style:pc(i(cc(t)))}:void 0},fc=function(t){var e,n=t.nodeName.toLowerCase();t.firstChild&&t.firstChild.nodeType===Node.COMMENT_NODE&&t.removeChild(t.firstChild),1===t.childNodes.length?e=t.firstChild.nodeType===Node.TEXT_NODE?cc(t):t.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(t.removeChild(t.firstChild),3===t.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(t.firstChild.nodeValue)&&t.removeChild(t.firstChild),/^(&nbsp;|\s)+$/i.test(t.firstChild.innerHTML)&&t.removeChild(t.firstChild),e="p"!==n?"<"+n+">"+t.innerHTML+"</"+n+">":t.innerHTML),t.parentNode.removeChild(t);var i=document.createElement("li");return i.innerHTML=e,i},mc=function(t){var e=document.createElement("div");e.innerHTML=function(t){return t=t.replace(ac,(function(t,e,n){return'datalist="'+e+'" datalevel="'+n+'" '+t}))}(t);var n=new Set;return dc(e.children,n),n.forEach((function(t){return function(t){var e,n,i,o,r,s,a,l,c,u,p,d,h,f=-1,m={};for(l=0;l<t.length;l++){var g=(h={datalist:(c=t[l]).getAttribute("datalist"),datalevel:c.getAttribute("datalevel")}).datalist,v=hc(c);if(u=v&&v.tag){if(p=h.datalevel||parseFloat(c.style.marginLeft||0),h.datalevel||c.style.marginLeft){var y=u+g;m[p]||(m[p]={}),(!n||n<0)&&(n=p,i=g,o=(a=t.filter((function(t){return t.getAttribute("datalist")===String(i)})))[a.length-1],s=uc(u,v&&v.style),c.parentNode.insertBefore(s,c),f=p,m[p][y]=s),r=o===c,d=m[p][y],(p>f||!d)&&(d=uc(u,v&&v.style),m[p][y]=d,e.appendChild(d)),e=fc(c),d.appendChild(e),r?n=f=-1:f=p}}else!e||r&&!lc(c)||(c.style.marginLeft&&(c.style.marginLeft=""),c.style.marginLeft&&(c.style.margin=""),e.appendChild(c))}}(t)})),e.innerHTML},gc=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")},vc=function(t){return t.replace(/<!--[\s\S]+?-->/g,"")},yc=function(t,e){return t.replace(new RegExp("<\\/?("+e+")(?:\\s[^>]*?)?>","gi"),"")},bc=function(t){t.ownerElement&&t.ownerElement.removeAttribute(t.name)},wc=function(t){/^Mso/.test(t.value)&&bc(t)},kc=/\s*;\s*/,Cc=/\s*:\s*/,Sc=function(t){var e,n,i=t.value.split(kc).filter((function(t){return Boolean(t)})),o=t.ownerElement.style,r="";i.forEach((function(t){var i;i=t.split(Cc),e=i[0],n=i[1],void 0!==o[e]&&(r+=e+": "+n+"; ")})),(r=r.trim())?t.value=r:bc(t)},xc=function(t,e){var n=t;if(e.convertMsLists&&(n=mc(n)),e.stripTags&&(n=yc(n,e.stripTags)),e.attributes){var i=document.createElement("div");i.innerHTML=n,Array.from(i.querySelectorAll("*")).forEach((function(t){return function(t,e){if(t.nodeType===Node.ELEMENT_NODE){for(var n=t.attributes.length-1;n>=0;n--){var i=t.attributes[n];e[i.name]?e[i.name](i):e["*"]&&e["*"](i)}"SPAN"===t.nodeName&&0===t.attributes.length&&function(t){var e=t.parentNode;if(e){for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}}(t)}}(t,e.attributes)})),n=i.innerHTML}return n},Oc=function(t,e,n){for(var i,o=t.table,r=t.table_row,s=t.table_cell,a=[],l=0;l<e+1;l++){i=[];for(var c=0;c<n+1;c++)i.push(s.createAndFill());a.push(r.createAndFill(void 0,i))}return o.createAndFill(void 0,a)};function Ic(t){return void 0===t&&(t={}),new be({view:function(e){return new _c(e,t)}})}var _c=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var i=function(t){return n[e](t)};return t.dom.addEventListener(e,i),{name:e,handler:i}}))};_c.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,i=e.handler;return t.editorView.dom.removeEventListener(n,i)}))},_c.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&this.updateOverlay()},_c.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},_c.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,i=e.nodeAfter;if(n||i){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),r=n?o.bottom:o.top;n&&i&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var l=!a||a==document.body&&"static"==getComputedStyle(a).position?{left:-pageXOffset,top:-pageYOffset}:a.getBoundingClientRect();this.element.style.left=t.left-l.left+"px",this.element.style.top=t.top-l.top+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},_c.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},_c.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Ft(this.editorView.state.doc,n,this.editorView.dragging.slice))&&(n=e.pos),this.setCursor(n),this.scheduleRemoval(5e3)}}},_c.prototype.dragend=function(){this.scheduleRemoval(20)},_c.prototype.drop=function(){this.scheduleRemoval(20)},_c.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};var Ec=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return d.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new Tc(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var i=t.node(e).child(n-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),i=t.node(e);if(n!=i.childCount)for(var o=i.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var i=e.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock},e.findFrom=function(t,n,i){t:for(;;){if(!i&&e.valid(t))return t;for(var o=t.pos,r=null,s=t.depth;;s--){var a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){r=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}for(;;){var c=n>0?r.firstChild:r.lastChild;if(!c){if(r.isAtom&&!r.isText&&!re.isSelectable(r)){t=t.doc.resolve(o+r.nodeSize*n),i=!1;continue t}break}r=c,o+=n;var u=t.doc.resolve(o);if(e.valid(u))return u}return null}},e}(te);Ec.prototype.visible=!1,te.jsonID("gapcursor",Ec);var Tc=function(t){this.pos=t};Tc.prototype.map=function(t){return new Tc(t.map(this.pos))},Tc.prototype.resolve=function(t){var e=t.resolve(this.pos);return Ec.valid(e)?new Ec(e):te.near(e)};var Dc=function(){return new be({props:{decorations:Mc,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&Ec.valid(n))return new Ec(n)},handleClick:Ac,handleKeyDown:Pc}})},Pc=Ki({ArrowLeft:Bc("horiz",-1),ArrowRight:Bc("horiz",1),ArrowUp:Bc("vert",-1),ArrowDown:Bc("vert",1)});function Bc(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,i,o){var r=t.selection,s=e>0?r.$to:r.$from,a=r.empty;if(r instanceof ie){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}var l=Ec.findFrom(s,e,a);return!!l&&(i&&i(t.tr.setSelection(new Ec(l))),!0)}}function Ac(t,e,n){if(!t.editable)return!1;var i=t.state.doc.resolve(e);if(!Ec.valid(i))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&re.isSelectable(t.state.doc.nodeAt(o)))&&(t.dispatch(t.state.tr.setSelection(new Ec(i))),!0)}function Mc(t){if(!(t.selection instanceof Ec))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",hs.create(t.doc,[cs.widget(t.selection.head,e,{key:"gapcursor"})])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(19),r=n(17),s=o.marks,a=Object.assign(o.nodes,{table:{attrs:i.__assign({},{class:{default:null},id:{default:null},style:{default:null}},{class:{default:"k-table"},cellspacing:{default:null},cellpadding:{default:null}}),content:"table_row+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{getAttrs:r.serializeDOMAttrs,tag:"table"}],toDOM:function(t){return["table",r.removeEmptyEntries(t.attrs),["tbody",0]]}},htmlBlock:{group:"block",attrs:{html:{}},parseDOM:[{tag:"*:not(p):not(blockquote):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(pre):not(img):not(ol):not(ul):not(li):not(table):not(tbody):not(td):not(th):not(tr):not(thead):not(tfoot):not(colgroup):not(col)",getAttrs:function(t){return{html:t.outerHTML}}}],toDOM:function(t){var e=document.createElement("div");return e.innerHTML=t.attrs.html,e.firstChild}}});e.schema=new o.Schema({marks:s,nodes:a})},function(t,e,n){"use strict";n.r(e),n.d(e,"AUTOCOMPLETE_VALUE_ACCESSOR",(function(){return $})),n.d(e,"COMBOBOX_VALUE_ACCESSOR",(function(){return ot})),n.d(e,"DataService",(function(){return B})),n.d(e,"DisabledItemsService",(function(){return A})),n.d(e,"DROPDOWNLIST_VALUE_ACCESSOR",(function(){return at})),n.d(e,"FilterInputDirective",(function(){return qt})),n.d(e,"FilterableDropDownComponentBase",(function(){return F})),n.d(e,"ListItemDirective",(function(){return N})),n.d(e,"CustomMessagesComponent",(function(){return St})),n.d(e,"LocalizedMessagesDirective",(function(){return Ct})),n.d(e,"Messages",(function(){return kt})),n.d(e,"NavigationService",(function(){return R})),n.d(e,"SearchBarComponent",(function(){return O})),n.d(e,"SelectionService",(function(){return P})),n.d(e,"browser",(function(){return Ft})),n.d(e,"detectDesktopBrowser",(function(){return jt})),n.d(e,"detectMobileOS",(function(){return Rt})),n.d(e,"mobileOS",(function(){return Nt})),n.d(e,"msPointers",(function(){return Vt})),n.d(e,"pointers",(function(){return Ht})),n.d(e,"touch",(function(){return Lt})),n.d(e,"touchEnabled",(function(){return $t})),n.d(e,"NoDataTemplateDirective",(function(){return j})),n.d(e,"TagTemplateDirective",(function(){return ut})),n.d(e,"TOUCH_ENABLED",(function(){return K})),n.d(e,"isWindowAvailable",(function(){return g})),n.d(e,"AutoCompleteComponent",(function(){return W})),n.d(e,"ComboBoxComponent",(function(){return rt})),n.d(e,"DropDownListComponent",(function(){return lt})),n.d(e,"MultiSelectComponent",(function(){return ft})),n.d(e,"TagListComponent",(function(){return mt})),n.d(e,"ItemTemplateDirective",(function(){return I})),n.d(e,"GroupTemplateDirective",(function(){return T})),n.d(e,"FixedGroupTemplateDirective",(function(){return D})),n.d(e,"CustomItemTemplateDirective",(function(){return ct})),n.d(e,"HeaderTemplateDirective",(function(){return _})),n.d(e,"FooterTemplateDirective",(function(){return E})),n.d(e,"ValueTemplateDirective",(function(){return st})),n.d(e,"TemplateContextDirective",(function(){return gt})),n.d(e,"GroupTagTemplateDirective",(function(){return pt})),n.d(e,"SelectableDirective",(function(){return vt})),n.d(e,"SummaryTagDirective",(function(){return yt})),n.d(e,"FilterDirective",(function(){return wt})),n.d(e,"DropDownsModule",(function(){return Qt})),n.d(e,"MultiSelectModule",(function(){return Yt})),n.d(e,"SharedModule",(function(){return _t})),n.d(e,"AutoCompleteModule",(function(){return Tt})),n.d(e,"ComboBoxModule",(function(){return Ut})),n.d(e,"DropDownListModule",(function(){return Jt})),n.d(e,"SharedDirectivesModule",(function(){return Ot})),n.d(e,"ListComponent",(function(){return L})),n.d(e,"PreventableEvent",(function(){return z}));var i=n(0),o=n(1),r=n(9),s=n(3),a=n(5),l=n(4),c=n(13);n.d(e,"PopupComponent",(function(){return c.PopupComponent}));var u,p=n(2),d=n(10);!function(t){t[t.backspace=8]="backspace",t[t.tab=9]="tab",t[t.enter=13]="enter",t[t.shift=16]="shift",t[t.ctrl=17]="ctrl",t[t.alt=18]="alt",t[t["pause/break"]=19]="pause/break",t[t["caps lock"]=20]="caps lock",t[t.esc=27]="esc",t[t.space=32]="space",t[t["page up"]=33]="page up",t[t["page down"]=34]="page down",t[t.end=35]="end",t[t.home=36]="home",t[t.left=37]="left",t[t.up=38]="up",t[t.right=39]="right",t[t.down=40]="down",t[t.insert=45]="insert",t[t.delete=46]="delete",t[t.command=91]="command",t[t["left command"]=91]="left command",t[t["right command"]=93]="right command",t[t["numpad *"]=106]="numpad *",t[t["numpad +"]=107]="numpad +",t[t["numpad -"]=109]="numpad -",t[t["numpad ."]=110]="numpad .",t[t["numpad /"]=111]="numpad /",t[t["num lock"]=144]="num lock",t[t["scroll lock"]=145]="scroll lock",t[t["my computer"]=182]="my computer",t[t["my calculator"]=183]="my calculator",t[t[";"]=186]=";",t[t["="]=187]="=",t[t[","]=188]=",",t[t["-"]=189]="-",t[t["."]=190]=".",t[t["/"]=191]="/",t[t["`"]=192]="`",t[t["["]=219]="[",t[t["\\"]=220]="\\",t[t["]"]=221]="]",t[t["'"]=222]="'"}(u||(u={}));var h,f=function(t){return null!=t},m=function(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n},g=function(){return"undefined"!=typeof window},v=function(t){return Array.isArray(t)},y=function(t){return f(t)&&"object"==typeof t},b=function(t){return"string"==typeof t&&0===t.length},w=function(t,e,n){var i=function(t,e){return v(t)&&t.filter((function(t){return y(t)&&t[e]}))}(t,n)||[];return(function(t,e,n){return void 0===e&&(e=[]),t.map((function(t){return e.find((function(e){return e[n]===t}))})).filter((function(t){return void 0!==t}))}(t,e,n)||[]).concat(i)},k=function(t){return v(t)&&t.every((function(t){return y(t)}))},C=function(t,e,n){var i=e.map((function(t){return f(t)&&f(t[n])?t[n]:t}));return t.reduce((function(t,e){var o=f(e)&&f(e[n])?e[n]:e,r=i.indexOf(o);return-1!==r&&t.push(r),t}),[])},S=function(t,e,n){if(void 0===n&&(n=!1),f(t))return n?e&&f(t[e])?t[e]:t:e?t[e]:t},x=function(t,e,n){if(!f(t))return!1;var i=String(t);return n&&(i=i.toLowerCase()),0===i.indexOf(e)},O=function(){function t(t,e){this.localization=t,this.valueChange=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onClick=new i.EventEmitter,this.onNavigate=new i.EventEmitter,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=e}return Object.defineProperty(t.prototype,"userInput",{get:function(){return this._userInput},set:function(t){this._userInput=t||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.nativeElement.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t||"",this.setInputSize()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(e){var n=e.rtl;return t.direction=n?"rtl":"ltr"}))},t.prototype.ngOnChanges=function(t){var e,n,i;if(this.input&&(t.userInput||t.suggestedText)){e=t.userInput&&t.userInput.previousValue?this._previousValue===t.userInput.previousValue?this._previousValue:t.userInput.currentValue||"":this._previousValue;var o=this.input.nativeElement.selectionStart,r=e.length===o;this.writeInputValue(this.suggestedText?(n=this.userInput,i=this.suggestedText,n.concat(i.substr(i.toLowerCase().indexOf(n.toLowerCase())+n.length))):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(o,o),this._previousValue=this.userInput}},t.prototype.ngOnDestroy=function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},t.prototype.writeInputValue=function(t){Object(o.isDocumentAvailable)()&&this.renderer.setProperty(this.input.nativeElement,"value",t)},t.prototype.setInputSelection=function(t,e){if(Object(o.isDocumentAvailable)()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(t,e)}catch(t){}},t.prototype.handleInput=function(t){var e=t.target.value;e!==this.userInput&&(this._previousValue=e,this.valueChange.emit(e))},t.prototype.handleFocus=function(t){this.onFocus.emit(t)},t.prototype.handleBlur=function(t){this.onBlur.emit(t)},t.prototype.handleKeydown=function(t){var e=t.keyCode;[u.up,u.down,u.left,u.right,u.enter,u.esc,u.delete,u.backspace,u.home,u.end].indexOf(e)>-1&&this.onNavigate.emit(t)},t.prototype.focus=function(){Object(o.isDocumentAvailable)()&&this.input.nativeElement.focus()},t.prototype.blur=function(){Object(o.isDocumentAvailable)()&&this.input.nativeElement.blur()},t.prototype.setInputSize=function(){var t=function(t){return t?t.length:0},e=this.input.nativeElement,n=t(this.placeholder),i=t(this.value),o=Math.max(n,i,1);this.renderer.setAttribute(e,"size",o.toString())},t.decorators=[{type:i.Component,args:[{selector:"kendo-searchbar",template:'\n        <input #input\n            autocomplete="off"\n            [id]="id"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            [placeholder]="placeholder"\n            [class]="\'k-input\'"\n            (input)="handleInput($event)"\n            (focus)="handleFocus($event)"\n            (blur)="handleBlur($event)"\n            (keydown)="handleKeydown($event)"\n            [attr.tabIndex]="tabIndex"\n            [attr.dir]="direction"\n            [attr.role]="role"\n            [attr.aria-disabled]="disabled"\n            [attr.aria-readonly]="readonly"\n            aria-haspopup="listbox"\n            [attr.aria-expanded]="popupOpen"\n            [attr.aria-owns]="listId"\n            [attr.aria-describedby]="tagListId"\n            [attr.aria-activedescendant]="activeDescendant"\n            [attr.aria-label]="noDataLabel"\n        />\n   '}]}],t.ctorParameters=function(){return[{type:s.LocalizationService},{type:i.Renderer2}]},t.propDecorators={id:[{type:i.Input}],listId:[{type:i.Input}],tagListId:[{type:i.Input}],activeDescendant:[{type:i.Input}],noDataLabel:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],tabIndex:[{type:i.Input}],popupOpen:[{type:i.Input}],role:[{type:i.Input}],userInput:[{type:i.Input}],suggestedText:[{type:i.Input}],valueChange:[{type:i.Output}],onBlur:[{type:i.Output}],onFocus:[{type:i.Output}],onClick:[{type:i.Output}],onNavigate:[{type:i.Output}],input:[{type:i.ViewChild,args:["input",{static:!0}]}],searchBarClass:[{type:i.HostBinding,args:["class.k-searchbar"]}],placeholder:[{type:i.Input}]},t}(),I=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListItemTemplate],[kendoComboBoxItemTemplate],[kendoAutoCompleteItemTemplate],[kendoMultiSelectItemTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),_=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListHeaderTemplate],[kendoComboBoxHeaderTemplate],[kendoAutoCompleteHeaderTemplate],[kendoMultiSelectHeaderTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),E=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListFooterTemplate],[kendoComboBoxFooterTemplate],[kendoAutoCompleteFooterTemplate],[kendoMultiSelectFooterTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),T=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListGroupTemplate],[kendoComboBoxGroupTemplate],[kendoAutoCompleteGroupTemplate],[kendoMultiSelectGroupTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),D=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListFixedGroupTemplate],[kendoComboBoxFixedGroupTemplate],[kendoAutoCompleteFixedGroupTemplate],[kendoMultiSelectFixedGroupTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),P=function(){function t(){this.onSelect=new i.EventEmitter,this.onChange=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.total=0,this.selectedIndices=[]}return t.prototype.getTotal=function(){return this.total},t.prototype.isSelected=function(t){return f(this.selectedIndices.find((function(e){return e===t})))},t.prototype.isFocused=function(t){return t===this.focused},t.prototype.focus=function(t){this.isFocused(t)||(this.focused=t,this.onFocus.emit(t))},t.prototype.select=function(t){this.isSelected(t)||(this.selectedIndices=[t],this.focused=t,this.onSelect.emit({indices:[t],newSelection:f(t)}))},t.prototype.add=function(t){this.isSelected(t)||(this.selectedIndices.push(t),this.focused=t,this.onChange.emit({added:t,indices:this.selectedIndices.slice()}))},t.prototype.unselect=function(t){if(this.isSelected(t)){var e=this.selectedIndices.indexOf(t);this.selectedIndices.splice(e,1),this.focused=t,this.onChange.emit({indices:this.selectedIndices.slice(),removed:t})}},t.prototype.change=function(t){var e=f(t)&&!this.isSelected(t);this.selectedIndices=[t],this.focused=t,this.onChange.emit({indices:[t],newSelection:e})},t.prototype.resetSelection=function(t){this.selectedIndices=t instanceof Array?t:[t],this.focused=this.selectedIndices[this.selectedIndices.length-1]},Object.defineProperty(t.prototype,"selected",{get:function(){return this.selectedIndices.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{get:function(){return this.focusedIndex},set:function(t){this.focusedIndex!==t&&(this.focusedIndex=t,this.onFocus.emit(t))},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Injectable}],t}();!function(t){t[t.Undefined=0]="Undefined",t[t.Open=1]="Open",t[t.Close=2]="Close",t[t.Enter=3]="Enter",t[t.Tab=4]="Tab",t[t.Esc=5]="Esc",t[t.Delete=6]="Delete",t[t.Backspace=7]="Backspace",t[t.Home=8]="Home",t[t.End=9]="End",t[t.Up=10]="Up",t[t.Down=11]="Down",t[t.Left=12]="Left",t[t.Right=13]="Right"}(h||(h={}));var B=function(){function t(){this.grouped=!1,this.groupIndices=[]}return Object.defineProperty(t.prototype,"data",{get:function(){return this.grouped?this._flatData:this._data},set:function(t){this._data=t,this.grouped=this.isGrouped(t),this.grouped&&(this.groupIndices=this.getGroupIndices(t),this._flatData=this.flatten(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsCount",{get:function(){return f(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(t){return!t.header})):this.data).length:0},enumerable:!0,configurable:!0}),t.prototype.isGrouped=function(t){return f(t)&&0!==t.length&&f(t[0])&&(e=t[0],n=["aggregates","field","items","value"],!!f(e)&&n.every((function(t){return e.hasOwnProperty(t)})));var e,n},t.prototype.getGroupIndices=function(t){for(var e=[],n=0;n<=t.length-1;n++)e[n]=(e[n-1]||0)+t[n].items.length;return e},t.prototype.filter=function(t){var e=[];if(this.isGrouped(this.data))for(var n=0;n<=this.groupIndices.length-1;n++){var i=this.data[n].items.filter(t);i&&(e=e.concat(i))}else e=this.data.filter(t);return e},t.prototype.indexOf=function(t,e){void 0===e&&(e=0);var n=function(e){return e===t};return this.grouped&&(n=function(e){return e.value===t}),this.findIndex(n,e)},t.prototype.findIndex=function(t,e){void 0===e&&(e=0);var n=-1;if(this.grouped){n=(i=this._flatData.filter((function(t){return!t.header&&t.offsetIndex>=e}))).findIndex(t),n=i[n]?i[n].offsetIndex:-1}else{var i,o=(i=this.data.slice(e)).findIndex(t);n=-1!==o?o+e:-1}return n},t.prototype.closestGroup=function(t){for(var e=t;e>=0;e--)if(this._flatData[e].header)return this._flatData[e]},t.prototype.find=function(t){var e=this.findIndex(t);return this.itemAt(e)},t.prototype.flatIndex=function(t){if(0===this.itemsCount)return-1;if(!this.grouped)return t;var e=this._flatData.find((function(e){return!e.header&&e.offsetIndex===t}));return e?e.index:-1},t.prototype.itemAt=function(t){var e;if(0===this.itemsCount)return e;if(this.grouped){var n=this._flatData.find((function(e){return!e.header&&e.offsetIndex===t}));n&&(e=n.value)}else e=this.data[t];return e},t.prototype.groupAt=function(t){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(e){return e.header&&e.index===t}))},t.prototype.groupField=function(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field},t.prototype.itemGroup=function(t){if(t&&0!==this.itemsCount&&this.isGrouped){var e=this.groupField();return e?t[e]:void 0}},t.prototype.flatten=function(t,e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=0),void 0===i&&(i=0);var o=[];f(e)&&o.push({header:!0,index:i+n,offsetIndex:i,value:e});for(var r=0;r<t.length;r++){var s=[];t[r].items?(s=this.flatten(t[r].items,t[r].value,n,r),n+=t[r].items.length):s.push({header:!1,index:i+n+r+1,offsetIndex:n+r,value:t[r]}),o=o.concat(s)}return o},t.decorators=[{type:i.Injectable}],t}(),A=function(){function t(t){this.dataService=t,this.itemDisabled=null}return t.prototype.isIndexDisabled=function(t){if(this.itemDisabled){var e=this.dataService.itemAt(t);if(f(e))return this.itemDisabled({dataItem:e,index:t});if(f(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}},t.prototype.isItemDisabled=function(t){if(this.itemDisabled){var e=this.dataService.indexOf(t);if(-1!==e)return this.itemDisabled({dataItem:t,index:e});if(f(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:B}]},t}(),M=function(t,e){this.index=t,this.originalEvent=e},R=function(){function t(t,e){this.disabledItemsService=t,this.selectionService=e,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.enter=new i.EventEmitter,this.tab=new i.EventEmitter,this.esc=new i.EventEmitter,this.up=new i.EventEmitter,this.right=new i.EventEmitter,this.down=new i.EventEmitter,this.left=new i.EventEmitter,this.delete=new i.EventEmitter,this.backspace=new i.EventEmitter,this.home=new i.EventEmitter,this.end=new i.EventEmitter}return t.prototype.process=function(t){var e,n=t.originalEvent.keyCode,i=t.originalEvent.altKey,o=h.Undefined;i&&n===u.down?o=h.Open:i&&n===u.up?o=h.Close:n===u.enter?o=h.Enter:n===u.esc?o=h.Esc:n===u.tab?o=h.Tab:n===u.up?(e=this.next({current:t.current,start:t.min,end:t.max,step:-1}),o=h.Up):n===u.left?(e=this.next({current:t.current,start:t.min,end:t.max,step:-1}),o=h.Left):n===u.down?(e=this.next({current:t.current,start:t.min,end:t.max,step:1}),o=h.Down):n===u.right?(e=this.next({current:t.current,start:t.min,end:t.max,step:1}),o=h.Right):n===u.home?(e=this.isDisabled(0)?t.current:0,o=h.Home):n===u.end?(e=this.isDisabled(t.max)?t.current:t.max,o=h.End):n===u.delete?o=h.Delete:n===u.backspace&&(o=h.Backspace);var r=new M(e,t.originalEvent);return o!==h.Undefined&&this[h[o].toLowerCase()].emit(r),o},t.prototype.next=function(t){var e=t.current,n=t.start,i=t.end,o=t.step,r=f(e)?this.clampIndex(e+o,n,i):n,s=this.firstFocusableIndex(r,n,i,o);if(f(s))return s;if(this.selectionService.isSelected(e)&&e>=n)return e;var a=-1*o;return this.firstFocusableIndex(r,n,i,a)},t.prototype.clampIndex=function(t,e,n){return!f(t)||t<e?e:t>n?n:t},t.prototype.firstFocusableIndex=function(t,e,n,i){for(;e<=t&&t<=n;){if(!this.isDisabled(t))return t;t+=i}},t.prototype.isDisabled=function(t){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(t)},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:A},{type:P}]},t}(),j=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListNoDataTemplate],[kendoComboBoxNoDataTemplate],[kendoAutoCompleteNoDataTemplate],[kendoMultiSelectNoDataTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),z=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}(),F=function(){},N=function(){function t(t){this.element=t}return t.decorators=[{type:i.Directive,args:[{selector:'"li[role=option], li[role=group]"'}]}],t.ctorParameters=function(){return[{type:i.ElementRef}]},t}(),L=function(){function t(t,e,n,o,r,s,c){this.dataService=t,this.wrapper=e,this.selectionService=n,this.disabledItemsService=o,this.cdr=r,this.zone=s,this.renderer=c,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new i.EventEmitter,this.pageChange=new i.EventEmitter,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=Object(a.merge)(this.selectionService.onSelect.pipe(Object(l.map)((function(t){return t.indices[0]}))),this.selectionService.onFocus).subscribe(this.scrollToItem.bind(this))}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t[0]&&t[0].header?t.slice(0):t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){Object(o.isChanged)("data",t,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!t.data.isFirstChange())},t.prototype.ngAfterViewInit=function(){var t=this;this.zone.runOutsideAngular((function(){t.scrollSubscription=Object(a.fromEvent)(t.content.nativeElement,"scroll").pipe(Object(l.auditTime)(100),Object(l.tap)(t.prefetchData.bind(t)),Object(l.tap)(t.findCurrentGroup.bind(t))).subscribe((function(){t.lastScrollTop=t.content.nativeElement.scrollTop}))}))},t.prototype.ngAfterViewChecked=function(){if(this.virtual&&this.positionItems(),this.items&&this.scrollToFocused){this.scrollToFocused=!1;var t=this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused;this.scrollToItem(t)}this.dataService.grouped&&this.findCurrentGroup()},t.prototype.ngOnDestroy=function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()},t.prototype.firstVisibleItem=function(){var t=this,e=this.content.nativeElement,n=e.getBoundingClientRect(),i=Array.prototype.slice.call(e.querySelectorAll(".k-state-disabled"));i.forEach((function(e){return t.renderer.setStyle(e,"pointer-events","auto")}));var o=document.elementFromPoint(n.left+1,n.top+1);return i.forEach((function(e){return t.renderer.setStyle(e,"pointer-events","none")})),o},t.prototype.findCurrentGroup=function(){if(this.dataService.grouped){var t=this.firstVisibleItem();if(t){var e=void 0;"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e)))}else this.currentGroup=void 0;this.cdr.detectChanges()}else this.currentGroup=void 0},t.prototype.prefetchData=function(){if(this.virtual){var t=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),e=this.content.nativeElement.scrollTop,n=Math.trunc(e/this.virtual.itemHeight),i=e>this.lastScrollTop,o=n+t>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1,r=this.pageSize-(this.lastLoaded-this.startFrom),s=this.lastLoaded-this.pageSize+t>=n-r;i&&o&&this.changePage(n),!i&&s&&this.changePage(n-this.pageSize+t+1)}},t.prototype.changePage=function(t){var e=this;this.zone.run((function(){var n=e.pageSize+t;n>e.virtual.total&&(t--,n=e.virtual.total),t<0&&(t=0),e.startFrom=t,e.lastLoaded=n,e.pageChange.emit({skip:t,take:e.pageSize})}))},t.prototype.index=function(t,e){return t>0?this.dataService.groupIndices[t-1]+e:e},t.prototype.getText=function(t){return S(t,this.textField)},t.prototype.getValue=function(t){return S(t,this.valueField)},t.prototype.isDisabled=function(t){return this.disabledItemsService.isIndexDisabled(t)},t.prototype.scrollToItem=function(t){var e=t;this.dataService.grouped&&(e=this.dataService.flatIndex(t),e+=this.firstGroupHeaderInTargetedPage(e)?-1:0);if(this.virtual&&e>-1)this.scrollToIndex(e);else{var n=this.items.toArray();f(n[e])&&-1!==e&&this.scroll(n[e].element)}},t.prototype.scrollToIndex=function(t){var e=this.content.nativeElement,n=e.scrollTop,i=t*this.virtual.itemHeight,o=this.virtual.itemHeight,r=e.clientHeight,s=i+o;n>i?n=i:s>n+r&&(n=s-r),e.scrollTop=n},t.prototype.scroll=function(t){if(t){var e=t.nativeElement,n=this.content.nativeElement,i=e.offsetTop,o=e.offsetHeight,r=n.scrollTop,s=n.clientHeight,a=i+o;r>i?r=i:a>r+s&&(r=a-s),n.scrollTop=r}},t.prototype.positionItems=function(){var t=this;this.items.forEach((function(e,n){var i=(n+t.startFrom)*t.virtual.itemHeight;t.renderer.setStyle(e.element.nativeElement,"transform","translateY("+i+"px")}))},t.prototype.firstGroupHeaderInTargetedPage=function(t){return!f(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>t},t.decorators=[{type:i.Component,args:[{selector:"kendo-list",template:'\n    <div *ngIf="dataService.grouped"\n        class=\'k-outer-group-header k-first\'\n        [ngClass]="{\'k-virtual-item\': virtual}"\n        [ngStyle]="{\n            \'height.px\': virtual?.itemHeight,\n            \'minHeight.px\' : virtual?.itemHeight,\n            \'boxSizing\' : virtual ? \'border-box\' : \'inherit\'}"\n        >\n        <ng-template *ngIf="fixedGroupTemplate"\n            [templateContext]="{\n                templateRef: fixedGroupTemplate.templateRef,\n                $implicit: currentGroup\n            }">\n        </ng-template>\n        <ng-template [ngIf]="!fixedGroupTemplate"><strong>{{ currentGroup }}</strong> </ng-template>\n    </div>\n    <div #content\n         [ngClass]="{ \'k-virtual-content\': virtual, \'k-list-scroller\': !virtual }"\n         [style.maxHeight.px]="height"\n         unselectable="on">\n    <ul #list\n        role="listbox"\n        class="k-list k-reset"\n        [ngClass]="{ \'k-virtual-list\': virtual }"\n        [attr.id]="id"\n        [attr.aria-hidden]="!show">\n         <ng-template *ngIf="!dataService.grouped && show" ngFor let-dataItem let-itemIndex="index" [ngForOf]="data">\n            <li\n                role="option"\n                kendoDropDownsSelectable\n                [height]="virtual?.itemHeight"\n                [index]="itemIndex + startFrom"\n                [multipleSelection]="multipleSelection"\n                [attr.id]="optionPrefix + \'-\' + getValue(dataItem)"\n                [attr.tabIndex]="-1"\n                class="k-item"\n                [ngClass]="{ \'k-virtual-item\': virtual, \'k-state-disabled\': isDisabled(itemIndex) }">\n                <ng-template *ngIf="template"\n                    [templateContext]="{\n                        templateRef: template.templateRef,\n                        $implicit: dataItem\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!template">{{ getText(dataItem) }}</ng-template>\n            </li>\n         </ng-template>\n         <ng-template *ngIf="dataService.grouped" ngFor let-dataItem let-itemIndex="index" [ngForOf]="data">\n            <li\n                *ngIf="dataItem.header && dataItem.index > 0"\n                role="group"\n                class=\'k-outer-group-header\'\n                [ngClass]="{ \'k-virtual-item\': virtual }"\n                [ngStyle]="{\n                    \'height.px\': virtual?.itemHeight,\n                    \'minHeight.px\' : virtual?.itemHeight,\n                    \'boxSizing\' : virtual ? \'border-box\' : \'inherit\'}"\n                [attr.group-index]="dataItem.index"\n                [attr.id]="optionPrefix + \'-\' + getValue(dataItem.value)"\n                [attr.tabIndex]="-1">\n                    <ng-template *ngIf="groupTemplate"\n                          [templateContext]="{\n                            templateRef: groupTemplate.templateRef,\n                            $implicit: dataItem.value\n                    }">\n                    </ng-template>\n                    <ng-template [ngIf]="!groupTemplate"><strong> {{ dataItem.value }}</strong> </ng-template>\n              </li>\n            <li\n                *ngIf="!dataItem.header"\n                role="option"\n                kendoDropDownsSelectable\n                [height]="virtual?.itemHeight"\n                [index]="dataItem.offsetIndex"\n                [multipleSelection]="multipleSelection"\n                [attr.absolute-index]="dataItem.index"\n                [attr.id]="optionPrefix + \'-\' + getValue(dataItem.value)"\n                [attr.tabIndex]="-1"\n                class="k-item"\n                [ngClass]="{ \'k-virtual-item\': virtual, \'k-state-disabled\': isDisabled(dataItem.offsetIndex) }">\n                <ng-template *ngIf="template"\n                    [templateContext]="{\n                        templateRef: template.templateRef,\n                        $implicit: dataItem.value\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!template">{{ getText(dataItem.value) }}</ng-template>\n            </li>\n        </ng-template>\n    </ul>\n    <div *ngIf="virtual" class="k-height-container" role="presentation">\n        <div [style.height.px]="scrollHeight"></div>\n    </div>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:B},{type:i.ElementRef},{type:P},{type:A},{type:i.ChangeDetectorRef},{type:i.NgZone},{type:i.Renderer2}]},t.propDecorators={selected:[{type:i.Input}],focused:[{type:i.Input}],textField:[{type:i.Input}],valueField:[{type:i.Input}],height:[{type:i.Input}],template:[{type:i.Input}],groupTemplate:[{type:i.Input}],fixedGroupTemplate:[{type:i.Input}],show:[{type:i.Input}],id:[{type:i.Input}],optionPrefix:[{type:i.Input}],multipleSelection:[{type:i.Input}],virtual:[{type:i.Input}],data:[{type:i.Input}],onClick:[{type:i.Output}],pageChange:[{type:i.Output}],items:[{type:i.ViewChildren,args:[N]}],content:[{type:i.ViewChild,args:["content"]}],list:[{type:i.ViewChild,args:["list"]}]},t}(),V={pageSize:50,itemHeight:28},H=function(t){return!0===t?V:t?Object(p.__assign)({pageSize:V.pageSize},t):null},$={multi:!0,provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return W}))},W=function(){function t(t,e,n,o,r,s,l,c,u,p){this.localization=t,this.dataService=e,this.popupService=n,this.selectionService=o,this.navigationService=r,this.disabledItemsService=s,this._zone=l,this.cdr=c,this.renderer=u,this.highlightFirst=!0,this.focusableId="k-"+m(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new i.EventEmitter,this.filterChange=new i.EventEmitter,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.widgetClasses=!0,this.listBoxId=m(),this.optionPrefix=m(),this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this.popupMouseDownHandler=function(t){return t.preventDefault()},this._popupSettings={animate:!0},this._open=!1,this._value="",this._previousValue="",this._filtering=!1,this.valueChangeSubject=new a.Subject,this._isFocused=!1,this.direction=t.rtl?"rtl":"ltr",this.wrapper=p.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}return Object.defineProperty(t.prototype,"width",{get:function(){var t=0;Object(o.isDocumentAvailable)()&&(t=this.wrapper.offsetWidth);var e=this.popupSettings.width||t;return{min:isNaN(t)?t:t+"px",max:isNaN(e)?e:e+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.popupSettings.height;return f(t)?t+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listContainerClasses",{get:function(){var t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suggestion",{get:function(){if(this.text&&this.suggestedText){var t=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&t?this.suggestedText:void 0}this.suggestedText=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t},enumerable:!0,configurable:!0}),t.prototype.toggle=function(t){var e=this;Promise.resolve(null).then((function(){var n=f(t)?t:!e._open;e._toggle(n)}))},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),t.prototype.togglePopup=function(t){var e=this.disabled||this.readonly,n=this.isOpen===t;e||n||(this.triggerPopupEvents(t)||this._toggle(t))},Object.defineProperty(t.prototype,"activeDescendant",{get:function(){if(!this.isOpen||!f(this.selectionService.focused)||-1===this.selectionService.focused)return null;var t=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+S(t,this.valueField)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noDataLabel",{get:function(){if(0===this.data.length)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearTitle",{get:function(){return this.localization.get("clearTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=this.virtual;if(t){var e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data},set:function(t){this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=S(this.dataService.itemAt(0),this.valueField))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value||""},set:function(t){this.verifySettings(t),this._value=t||"",this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemDisabled",{set:function(t){if("function"!=typeof t)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(t)+".");this.disabledItemsService.itemDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(t){this._virtualSettings=H(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(t){this._isFocused=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr",t.setMessages()})),this.setMessages()},t.prototype.ngOnDestroy=function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},t.prototype.ngOnChanges=function(t){var e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize});/(value|valueField)/g.test(Object.keys(t).join())&&this.setState(this.value)},t.prototype.reset=function(){this.setState("")},t.prototype.clearValue=function(t){t.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])},t.prototype.writeValue=function(t){this.setState(t)},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.focus=function(){this.disabled||this.searchbar.focus()},t.prototype.blur=function(){this.disabled||this.searchbar.blur()},t.prototype.onResize=function(){if(this._open){var t=this.popupRef.popupElement,e=this.width,n=e.min,i=e.max;t.style.minWidth=n,t.style.width=i}},t.prototype.emitChange=function(){this.value!==this._previousValue&&(this._previousValue=this.value,this.onChangeCallback(this.value),this.valueChange.emit(this.value))},t.prototype.verifySettings=function(t){if(Object(i.isDevMode)()&&f(t)&&"string"!=typeof t)throw new Error("Expected value of type string. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/#toc-value")},t.prototype.search=function(t,e){var n;void 0===e&&(e=0),n=t.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(t),e):-1,this.disabledItemsService.isIndexDisabled(n)?n+1<this.dataService.itemsCount?this.search(t,n+1):this.selectionService.focus(-1):(this.selectionService.focus(n),this.suggest&&(this.suggestedText=S(this.dataService.itemAt(n),this.valueField)))},t.prototype.navigate=function(t){this.isOpen&&this.selectionService.focus(t)},t.prototype.handleNavigate=function(t){var e=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(!(this.disabled||this.readonly||isNaN(e))){var n=this.navigationService.process({current:e,max:this.dataService.itemsCount-1,min:0,originalEvent:t});n!==h.Undefined&&n!==h.Backspace&&n!==h.Delete&&n!==h.Home&&n!==h.End&&n!==h.Left&&n!==h.Right&&(n===h.Enter&&this.isOpen||n!==h.Enter)&&t.preventDefault()}},t.prototype.handleEnter=function(t){var e,n=this.selectionService.focused;if(this._filtering=!1,this.isOpen&&t.originalEvent.preventDefault(),n>=0)e=S(this.dataService.itemAt(n),this.valueField);else{var i=this.suggest&&this.suggestedText&&this.data.length&&S(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();e=this.isOpen&&i?this.suggestedText:this.searchbar.value}this.change(e)},t.prototype.handleEscape=function(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null},t.prototype.searchBarChange=function(t){var e=f(this.text)?this.text.length:0;this.backspacePressed=t.length<e,this.text=t,this.togglePopup(t.length>0),this._filtering=!0,this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(t):this.highlightFirst&&this.search(t)},t.prototype.handleFocus=function(){this.isFocused=!0,this.onFocus.emit()},t.prototype.handleBlur=function(){this._filtering=!1;var t,e,n=this.filterable?this.selectionService.focused:-1;-1!==n?(t=this.dataService.itemAt(n),e=S(t,this.valueField,!0)||""):e=this.searchbar.value;var i=e===this.searchbar.value,o=e.toLowerCase()===this.searchbar.value.toLowerCase();!i&&o&&this.selectionService.resetSelection([]),this.change(this.searchbar.value),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()},t.prototype.pageChange=function(t){this.virtual.skip=t.skip},t.prototype.setState=function(t){this._filtering||(this.value=t,this._previousValue=this.value,this.text=this.value)},t.prototype.change=function(t){this.togglePopup(!1),this.valueChangeSubject.next(t)},t.prototype.subscribeEvents=function(){var t=this;Object(o.isDocumentAvailable)()&&(this.valueChangeSubscription=this.valueChangeSubject.pipe(Object(l.filter)((function(e){return!(t.value===e&&t.text===e)}))).subscribe((function(e){t.value=e,t.text=e,t.emitChange()})),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=Object(a.merge)(this.navigationService.up,this.navigationService.down).subscribe((function(e){return t.navigate(e.index)})),this.closeSubscription=this.navigationService.close.subscribe((function(){return t.togglePopup(!1)})),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))},t.prototype.unsubscribeEvents=function(){Object(o.isDocumentAvailable)()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())},t.prototype.handleItemChange=function(t){var e=t.indices.length?t.indices[0]:void 0;if(this._filtering=!1,this.selectionService.resetSelection([-1]),f(e)){var n=S(this.dataService.itemAt(e),this.valueField);this.change(n)}},t.prototype.handleItemFocus=function(t){var e=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&e>=0)&&(this.suggestedText=S(this.dataService.itemAt(e),this.valueField))},t.prototype.createPopup=function(){var t=this;this.virtual&&(this.virtual.skip=0);var e="rtl"===this.direction?"right":"left",n={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:i,anchorAlign:n});var o=this.popupRef.popupElement,r=this.width,s=r.min,a=r.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=s,o.style.width=a,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){t.cdr.detectChanges(),t.optionsList.scrollToItem(t.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.togglePopup(!1)}))},t.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},t.prototype._toggle=function(t){this._open=t,this.destroyPopup(),this._open&&this.createPopup()},t.prototype.triggerPopupEvents=function(t){var e=new z;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()},t.prototype.firstFocusableIndex=function(t){var e=this.data.length-1;return this.disabledItemsService.isIndexDisabled(t)?t<e?this.firstFocusableIndex(t+1):void 0:t},t.prototype.findIndexPredicate=function(t){var e=this;return this.dataService.grouped?function(n){var i=S(n.value,e.valueField);return(i=f(i)?i.toString().toLowerCase():"").startsWith(t.toLowerCase())}:function(n){var i=S(n,e.valueField);return(i=f(i)?i.toString().toLowerCase():"").startsWith(t.toLowerCase())}},t.prototype.setMessages=function(){var t=this;this._zone.runOutsideAngular((function(){clearTimeout(t.messagesTimeout),t.messagesTimeout=setTimeout((function(){t.noDataText=t.localization.get("noDataText"),t.cdr.detectChanges()}))}))},t.decorators=[{type:i.Component,args:[{exportAs:"kendoAutoComplete",providers:[$,B,P,R,A,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.autocomplete"},{provide:F,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:o.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-autocomplete",template:'\n        <ng-container kendoAutoCompleteLocalizedMessages\n            i18n-noDataText="kendo.autocomplete.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.autocomplete.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <kendo-searchbar #searchbar\n            [role]="\'combobox\'"\n            [id]="focusableId"\n            [listId]="listBoxId"\n            [activeDescendant]="activeDescendant"\n            [noDataLabel]="noDataLabel"\n            [userInput]="text"\n            [suggestedText]="suggestion"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            [tabIndex]="tabIndex"\n            [popupOpen]="isOpen"\n            [placeholder]="placeholder"\n            (onNavigate)="handleNavigate($event)"\n            (valueChange)="searchBarChange($event)"\n            (onBlur)="handleBlur()"\n            (onFocus)="handleFocus()"\n        ></kendo-searchbar>\n        <span *ngIf="!loading && !readonly && (clearButton && text?.length)" class="k-icon k-clear-value k-i-close" [attr.title]="clearTitle" role="button" tabindex="-1" (click)="clearValue($event)" (mousedown)="$event.preventDefault()">\n</span>\n        <span *ngIf="loading" class="k-icon k-i-loading"></span>\n        <ng-template #popupTemplate>\n            \x3c!--header template--\x3e\n            <ng-template *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate.templateRef\n                }">\n            </ng-template>\n            \x3c!--list--\x3e\n            <kendo-list\n                #optionsList\n                [id]="listBoxId"\n                [optionPrefix]="optionPrefix"\n                [data]="data"\n                [textField]="valueField"\n                [valueField]="valueField"\n                [template]="template"\n                [groupTemplate]="groupTemplate"\n                [fixedGroupTemplate]="fixedGroupTemplate"\n                [height]="listHeight"\n                [show]="isOpen"\n                [virtual]="virtual"\n                (pageChange)="pageChange($event)"\n            >\n            </kendo-list>\n            \x3c!--no-data template--\x3e\n            <div class="k-nodata" *ngIf="data.length === 0">\n                <ng-template [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate?.templateRef\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ noDataText }}</div>\n                </ng-template>\n            </div>\n            \x3c!--footer template--\x3e\n            <ng-template *ngIf="footerTemplate"\n                [templateContext]="{\n                    templateRef: footerTemplate.templateRef\n                }">\n            </ng-template>\n        </ng-template>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}]}],t.ctorParameters=function(){return[{type:s.LocalizationService},{type:B},{type:c.PopupService},{type:P},{type:R},{type:A},{type:i.NgZone},{type:i.ChangeDetectorRef},{type:i.Renderer2},{type:i.ElementRef}]},t.propDecorators={highlightFirst:[{type:i.Input}],focusableId:[{type:i.Input}],data:[{type:i.Input}],value:[{type:i.Input}],valueField:[{type:i.Input}],placeholder:[{type:i.Input}],popupSettings:[{type:i.Input}],listHeight:[{type:i.Input}],loading:[{type:i.Input}],clearButton:[{type:i.Input}],suggest:[{type:i.Input}],disabled:[{type:i.Input}],itemDisabled:[{type:i.Input}],readonly:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input,args:["tabIndex"]}],filterable:[{type:i.Input}],virtual:[{type:i.Input}],valueChange:[{type:i.Output}],filterChange:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],template:[{type:i.ContentChild,args:[I]}],headerTemplate:[{type:i.ContentChild,args:[_]}],footerTemplate:[{type:i.ContentChild,args:[E]}],noDataTemplate:[{type:i.ContentChild,args:[j]}],groupTemplate:[{type:i.ContentChild,args:[T]}],fixedGroupTemplate:[{type:i.ContentChild,args:[D]}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate"]}],searchbar:[{type:i.ViewChild,args:[O]}],optionsList:[{type:i.ViewChild,args:["optionsList"]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-autocomplete"]},{type:i.HostBinding,args:["class.k-header"]}],isFocused:[{type:i.HostBinding,args:["class.k-state-focused"]}],isDisabled:[{type:i.HostBinding,args:["class.k-state-disabled"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}]},t}(),K=new i.InjectionToken("dropdowns-touch-enabled"),U="Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",q="Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",G="Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",J="Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data",Z="Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",X="Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",Y="Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data",Q="Expected virtual.itemHeight of type number.",tt="defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem",et="Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",nt="Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",it="Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data",ot={multi:!0,provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return rt}))},rt=function(){function t(t,e,n,o,r,s,c,u,p,d,h){this.localization=t,this.popupService=e,this.selectionService=n,this.navigationService=o,this.disabledItemsService=r,this.dataService=s,this._zone=c,this.cdr=u,this.renderer=p,this.touchEnabled=h,this.selected=[],this.focusableId="k-"+m(),this.allowCustom=!1,this.valueNormalizer=function(t){return t.pipe(Object(l.map)((function(t){return t})))},this.placeholder="",this.listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new i.EventEmitter,this.selectionChange=new i.EventEmitter,this.filterChange=new i.EventEmitter,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.widgetClasses=!0,this.isFocused=!1,this.listBoxId=m(),this.optionPrefix=m(),this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=function(t){return t.preventDefault()},this.customValueSubject=new a.Subject,this.valueSubject=new a.Subject,this.clearValueSubject=new a.Subject,this.selectionSubject=new a.Subject,this.subs=new a.Subscription,this.direction=t.rtl?"rtl":"ltr",this.wrapper=d.nativeElement,this.data=[]}return Object.defineProperty(t.prototype,"width",{get:function(){var t=0;Object(o.isDocumentAvailable)()&&(t=this.wrapper.offsetWidth);var e=this.popupSettings.width||t;return{min:isNaN(t)?t:t+"px",max:isNaN(e)?e:e+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.popupSettings.height;return f(t)?t+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=f(t)?t.toString():""},enumerable:!0,configurable:!0}),t.prototype.togglePopup=function(t){var e=this.disabled||this.readonly,n=this.isOpen===t;e||n||(this.triggerPopupEvents(t)||this._toggle(t))},Object.defineProperty(t.prototype,"activeDescendant",{get:function(){if(!this.isOpen||!f(this.selectionService.focused)||-1===this.selectionService.focused)return null;var t=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(t?S(t,this.valueField):"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noDataLabel",{get:function(){if(0===this.data.length)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearTitle",{get:function(){return this.localization.get("clearTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=this.virtual;if(t){var e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data},set:function(t){if(this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){var e=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=e}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=S(this.dataService.itemAt(0),this.textField))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this.verifySettings(t),this._value=t,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemDisabled",{set:function(t){if("function"!=typeof t)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(t)+".");this.disabledItemsService.itemDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(t){this._virtualSettings=H(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearable",{get:function(){return this.clearButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.attachStreams(),this.createSelectionStream(),this.createValueStream(),this.setMessages()},t.prototype.createValueStream=function(){var t=this,e=this.valueSubject.pipe(Object(l.filter)((function(e){var n=t.prop(t.valueField,t.valuePrimitive),i=t.prop(t.textField,t.valuePrimitive),o=n(t.value),r=n(e),s=i(e);return!(!f(t.value)&&!f(r))&&(f(s)&&(s=s.toString()),o!==r||t.text!==s||(t.clearFilter(),!1))})),Object(l.map)((function(e){var n=t.prop(t.valueField,t.valuePrimitive),i=t.prop(t.textField,t.valuePrimitive),o=n(e);return{dataItem:e,text:i(e),value:t.valuePrimitive?o:e}}))),n=Object(l.partition)((function(){return t.allowCustom}))(this.customValueSubject.pipe(Object(l.throttleTime)(300))),i=n[0].pipe(Object(l.tap)((function(){t.loading=!0,t.disabled=!0,t.cdr.detectChanges()})),Object(l.filter)((function(){var e=t.prop(t.valueField,t.valuePrimitive),n=t.text!==e(t.value);return t.loading=n,t.disabled=n,n||t.clearFilter(),n})),this.valueNormalizer,Object(l.map)((function(e){return{custom:!0,dataItem:e,text:t.text,value:e}}))),o=n[1].pipe(Object(l.map)((function(){return{custom:!0,dataItem:void 0,text:void 0,value:void 0}}))),r=this.clearValueSubject.pipe(Object(l.map)((function(){return{dataItem:void 0,text:void 0,value:void 0}})));this.valueSubscription&&this.valueSubscription.unsubscribe();var s=Object(a.merge)(e,i,o,r);this.valueSubscription=s.pipe(Object(l.catchError)((function(){return t.dataItem=void 0,t.value=void 0,t.text=void 0,t.loading=!1,t.disabled=!1,t.emitSelectionChange(void 0),t.emitValueChange(),t.createValueStream(),Object(a.of)(null)}))).subscribe((function(e){t.dataItem=e.dataItem,t.value=e.value,t.text=e.text,t.loading=!1,t.disabled=!1,t.clearFilter(),e.custom&&(t.selectionService.focused=-1),t.emitSelectionChange(e.custom?void 0:t.dataItem),t.emitValueChange()}))},t.prototype.attachStreams=function(){var t=this;Object(o.isDocumentAvailable)()&&(this.subs.add(this.localization.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr",t.setMessages()}))),this.subs.add(Object(a.merge)(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(Object(l.filter)((function(t){return f(t.index)}))).subscribe((function(e){return t.navigate(e.index)}))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe((function(){return t.togglePopup(!1)}))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(Object(l.tap)((function(e){t.isOpen&&e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this))),this.subs.add(Object(a.merge)(this.selectionService.onChange,this.selectionService.onSelect.pipe(Object(l.filter)((function(e){return!t.isOpen})))).pipe(Object(l.tap)((function(e){t._filtering=!1,t.togglePopup(!1)})),Object(l.map)((function(e){return t.dataService.itemAt(e.indices[0])}))).subscribe((function(e){t.change(e)}))),this.subs.add(this.selectionService.onSelect.pipe(Object(l.filter)((function(e){return t.isOpen})),Object(l.tap)((function(e){return t._filtering=!1})),Object(l.map)((function(e){return t.dataService.itemAt(e.indices[0])}))).subscribe((function(e){t.updateState({dataItem:e}),t.emitSelectionChange(e)}))))},t.prototype.ngOnDestroy=function(){this.destroyPopup(),clearTimeout(this.messagesTimeout),this.subs.unsubscribe(),[this.valueSubscription,this.selectionSubscription].forEach((function(t){return f(t)&&t.unsubscribe()}))},t.prototype.ngOnChanges=function(t){var e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),this.verifySettings(this.value),Object(o.isChanged)("valueNormalizer",t)&&this.createValueStream(),Object(o.isChanged)("value",t)&&this.createSelectionStream(),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField);/(value|textField|valueField|valuePrimitive)/g.test(Object.keys(t).join())&&this.setState()},t.prototype.focus=function(){this.disabled||this.searchbar.focus()},t.prototype.blur=function(){this.disabled||this.searchbar.blur()},t.prototype.toggle=function(t){var e=this;Promise.resolve(null).then((function(){var n=f(t)?t:!e._open;e._toggle(n),e.cdr.markForCheck()}))},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.value=void 0,this.clearState(),this.resetSelection(),this.createSelectionStream()},t.prototype.isEmpty=function(){var t=!f(this.text)||b(this.text),e=!f(this.value)||b(this.value);return t&&e},t.prototype.clearValue=function(t){t.stopImmediatePropagation(),this.focus(),this._filtering=!0,this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1},t.prototype.writeValue=function(t){this.text="",this.value=null===t?void 0:t,this.setState(),this.createSelectionStream()},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.setDisabledState=function(t){this.disabled=t},Object.defineProperty(t.prototype,"buttonClasses",{get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"},enumerable:!0,configurable:!0}),t.prototype.onResize=function(){if(this.isOpen){var t=this.popupRef.popupElement,e=this.width,n=e.min,i=e.max;t.style.minWidth=n,t.style.width=i}},t.prototype.verifySettings=function(t){var e=!f(this.valueField)!=!f(this.textField);if(Object(i.isDevMode)()){if(!0===this.valuePrimitive&&f(t)&&"object"==typeof t)throw new Error(X);if(!1===this.valuePrimitive&&f(t)&&"object"!=typeof t)throw new Error(Z);if(e)throw new Error(Y);if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error(Q)}},t.prototype.setState=function(){if(!this._filtering){var t=this.value,e=this.valueField,n=this.valuePrimitive,i=this.findDataItem({primitive:n,valueField:e,value:t});f(i.dataItem)?(this.updateState({dataItem:i.dataItem,confirm:!0}),this.resetSelection(i.index)):f(t)&&this.allowCustom?(this.updateState({dataItem:t}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}},t.prototype.updateState=function(t){var e=t.dataItem,n=t.confirm,i=void 0!==n&&n;this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),i&&(this._previousDataItem=e)},t.prototype.clearState=function(){this.text=void 0,this.dataItem=void 0},t.prototype.resetSelection=function(t){var e=!f(t)||t<0;this.selectionService.resetSelection(e?[]:[t]),this.selectionService.focused=t},t.prototype.firstFocusableIndex=function(t){var e=this.data.length-1;return this.disabledItemsService.isIndexDisabled(t)?t<e?this.firstFocusableIndex(t+1):void 0:t},t.prototype.findIndexPredicate=function(t){var e=this;return this.dataService.grouped?function(n){var i=e.prop(e.textField,e.valuePrimitive)(n.value);return(i=f(i)?i.toString().toLowerCase():"").startsWith(t.toLowerCase())}:function(n){var i=e.prop(e.textField,e.valuePrimitive)(n);return(i=f(i)?i.toString().toLowerCase():"").startsWith(t.toLowerCase())}},t.prototype.prop=function(t,e){return function(n){return f(n)?e?t&&y(n)?n[t]:n:n[t]:null}},t.prototype.findDataItem=function(t){var e,n=t.primitive,i=t.valueField,o=t.value,r={dataItem:null,index:-1},s=this.prop(i,n);e=this.dataService.grouped?function(t){return s(t.value)===s(o)}:function(t){return s(t)===s(o)};var a=this.dataService.findIndex(e);return r.dataItem=this.dataService.itemAt(a),r.index=a,r},t.prototype.search=function(t,e){var n;void 0===e&&(e=0),n=t.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(t),e):-1,this.disabledItemsService.isIndexDisabled(n)?n+1<this.dataService.itemsCount?this.search(t,n+1):this.selectionService.focus(-1):(this.selectionService.focus(n),this.suggest&&(this.suggestedText=S(this.dataService.itemAt(n),this.textField)))},t.prototype.getSuggestion=function(){var t=!!this.selectionService.selected.length,e=this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text;if(!t&&e&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0},t.prototype.navigate=function(t){0!==this.dataService.itemsCount&&(this.text=this.prop(this.textField,this.valuePrimitive)(this.dataService.itemAt(t)),this.selectionService.select(t))},t.prototype.handleNavigate=function(t){var e=f(this.selectionService.selected[0]),n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused,i=0;if(!this.disabled&&!this.readonly&&t.keyCode!==u.home&&t.keyCode!==u.end){e||(t.keyCode===u.down?i=-1:t.keyCode===u.up&&(i=1));var o=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:0,originalEvent:t});o!==h.Undefined&&o!==h.Left&&o!==h.Right&&o!==h.Backspace&&o!==h.Delete&&(o===h.Enter&&this.isOpen||o!==h.Enter)&&t.preventDefault()}},t.prototype.handleEnter=function(){var t=this.text,e=this.selectionService.focused,n=f(e)&&-1!==e,i=S(this._previousDataItem,this.textField)||"",o=S(this.dataService.itemAt(e),this.textField),r=t!==i;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&r&&(t===o||this.useSuggestion()?this.selectionService.change(e):this.change(t,!0)),this.allowCustom||(n?this.selectionService.change(e):r&&this.change(t,!0))},t.prototype.handleBlur=function(){this._filtering=!1;var t=this.searchbar.value;if(!t&&!f(this._previousDataItem)&&!f(this.dataItem))return this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),void this.onTouchedCallback();var e,n=this.selectionService.focused;-1!==n&&void 0!==n&&(e=S(this.dataService.itemAt(n),this.textField),e=f(e)?e.toString().toLowerCase():""),e===t.toLowerCase()?this.selectionService.change(n):this.change(t,!0),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()},t.prototype.handleEscape=function(){this.togglePopup(!1),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)},t.prototype.handleNavigationOpen=function(){this.restoreItemFocus(),this.togglePopup(!0)},t.prototype.searchBarChange=function(t){var e=this.text?this.text.length:0;this.backspacePressed=t.length<e,this.text=t,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==t?(this.filterText=t,this.filterChange.emit(t)):this.search(t)},t.prototype.handleFocus=function(){this.isFocused=!0,this.onFocus.emit()},t.prototype.pageChange=function(t){this.virtual.skip=t.skip},t.prototype.change=function(t,e){void 0===e&&(e=!1),e?this.customValueSubject.next(t):this.valueSubject.next(t)},t.prototype.emitSelectionChange=function(t){this.selectionSubject.next(t)},t.prototype.emitValueChange=function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem},t.prototype.selectClick=function(){this.touchEnabled||this.searchbar.focus(),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)},Object.defineProperty(t.prototype,"listContainerClasses",{get:function(){var t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t},enumerable:!0,configurable:!0}),t.prototype.restoreItemFocus=function(){!(f(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))},t.prototype.useSuggestion=function(){if(!this.suggest||!f(this.searchbar.value))return!1;var t=this.dataService.itemAt(this.selectionService.focused),e=this.prop(this.textField,this.valuePrimitive)(t);return!!f(e)&&this.searchbar.value.toLowerCase()===e.toLowerCase()},t.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},t.prototype.createPopup=function(){var t=this;this.virtual&&(this.virtual.skip=0);var e="rtl"===this.direction?"right":"left",n={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:n,popupAlign:i});var o=this.popupRef.popupElement,r=this.width,s=r.min,a=r.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=s,o.style.width=a,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){t.cdr.detectChanges(),t.optionsList.scrollToItem(t.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.togglePopup(!1)}))},t.prototype._toggle=function(t){this._open=t,this.destroyPopup(),this._open&&this.createPopup()},t.prototype.triggerPopupEvents=function(t){var e=new z;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()},t.prototype.clearFilter=function(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))},t.prototype.setMessages=function(){var t=this;this._zone.runOutsideAngular((function(){clearTimeout(t.messagesTimeout),t.messagesTimeout=setTimeout((function(){t.noDataText=t.localization.get("noDataText"),t.cdr.detectChanges()}))}))},t.prototype.createSelectionStream=function(){var t=this;f(this.selectionSubscription)&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=this.selectionSubject.pipe(Object(l.distinctUntilChanged)()).subscribe((function(e){return t.selectionChange.emit(e)}))},t.decorators=[{type:i.Component,args:[{exportAs:"kendoComboBox",providers:[ot,B,P,R,A,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.combobox"},{provide:F,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:o.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-combobox",template:'\n        <ng-container kendoComboBoxLocalizedMessages\n            i18n-noDataText="kendo.combobox.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.combobox.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <span #wrapper unselectable="on"\n            class="k-dropdown-wrap"\n            [ngClass]="{ \'k-state-default\': !disabled, \'k-state-disabled\': disabled, \'k-state-focused\': isFocused }"\n        >\n          <kendo-searchbar #searchbar\n              [role]="\'combobox\'"\n              [id]="focusableId"\n              [listId]="listBoxId"\n              [activeDescendant]="activeDescendant"\n              [noDataLabel]="noDataLabel"\n              [userInput]="text"\n              [suggestedText]="getSuggestion()"\n              [disabled]="disabled"\n              [readonly]="readonly"\n              [tabIndex]="tabIndex"\n              [popupOpen]="isOpen"\n              [placeholder]="placeholder"\n              (onNavigate)="handleNavigate($event)"\n              (valueChange)="searchBarChange($event)"\n              (onBlur)="handleBlur()"\n              (onFocus)="handleFocus()"\n          ></kendo-searchbar>\n          <span *ngIf="!loading && !readonly && (clearButton && text?.length)" class="k-icon k-clear-value k-i-close" [attr.title]="clearTitle" role="button" tabindex="-1" (click)="clearValue($event)" (mousedown)="$event.preventDefault()"></span>\n          <span unselectable="on"\n              class="k-select"\n              (click)="selectClick()"\n              (mousedown)="$event.preventDefault()" >\n              <span class="k-icon" [ngClass]="buttonClasses">\n               </span>\n          </span>\n          <ng-template #popupTemplate>\n              \x3c!--header template--\x3e\n              <ng-template *ngIf="headerTemplate"\n                  [templateContext]="{\n                      templateRef: headerTemplate.templateRef\n                  }">\n              </ng-template>\n              \x3c!--list--\x3e\n              <kendo-list\n                  #optionsList\n                  [id]="listBoxId"\n                  [optionPrefix]="optionPrefix"\n                  [data]="data"\n                  [textField]="textField"\n                  [valueField]="valueField"\n                  [template]="template"\n                  [groupTemplate]="groupTemplate"\n                  [fixedGroupTemplate]="fixedGroupTemplate"\n                  [height]="listHeight"\n                  [show]="isOpen"\n                  [virtual]="virtual"\n                  (pageChange)="pageChange($event)"\n              >\n              </kendo-list>\n              \x3c!--no-data template--\x3e\n              <div class="k-nodata" *ngIf="data.length === 0">\n                  <ng-template [ngIf]="noDataTemplate"\n                      [templateContext]="{\n                          templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\n                      }">\n                  </ng-template>\n                  <ng-template [ngIf]="!noDataTemplate">\n                      <div>{{ noDataText }}</div>\n                  </ng-template>\n              </div>\n              \x3c!--footer template--\x3e\n              <ng-template *ngIf="footerTemplate"\n                  [templateContext]="{\n                      templateRef: footerTemplate.templateRef\n                  }">\n              </ng-template>\n          </ng-template>\n        </span>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}]}],t.ctorParameters=function(){return[{type:s.LocalizationService},{type:c.PopupService},{type:P},{type:R},{type:A},{type:B},{type:i.NgZone},{type:i.ChangeDetectorRef},{type:i.Renderer2},{type:i.ElementRef},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[K]}]}]},t.propDecorators={focusableId:[{type:i.Input}],allowCustom:[{type:i.Input}],data:[{type:i.Input}],value:[{type:i.Input}],textField:[{type:i.Input}],valueField:[{type:i.Input}],valuePrimitive:[{type:i.Input}],valueNormalizer:[{type:i.Input}],placeholder:[{type:i.Input}],popupSettings:[{type:i.Input}],listHeight:[{type:i.Input}],iconClass:[{type:i.Input}],loading:[{type:i.Input}],suggest:[{type:i.Input}],clearButton:[{type:i.Input}],disabled:[{type:i.Input}],itemDisabled:[{type:i.Input}],readonly:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input,args:["tabIndex"]}],filterable:[{type:i.Input}],virtual:[{type:i.Input}],valueChange:[{type:i.Output}],selectionChange:[{type:i.Output}],filterChange:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],template:[{type:i.ContentChild,args:[I]}],headerTemplate:[{type:i.ContentChild,args:[_]}],footerTemplate:[{type:i.ContentChild,args:[E]}],noDataTemplate:[{type:i.ContentChild,args:[j]}],groupTemplate:[{type:i.ContentChild,args:[T]}],fixedGroupTemplate:[{type:i.ContentChild,args:[D]}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate"]}],searchbar:[{type:i.ViewChild,args:[O]}],optionsList:[{type:i.ViewChild,args:["optionsList"]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-combobox"]},{type:i.HostBinding,args:["class.k-header"]}],clearable:[{type:i.HostBinding,args:["class.k-combobox-clearable"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}]},t}(),st=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownListValueTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),at={multi:!0,provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return lt}))},lt=function(){function t(t,e,n,o,r,s,l,c,u,p,d){this.localization=t,this.popupService=e,this.selectionService=n,this.navigationService=o,this.disabledItemsService=r,this.dataService=s,this._zone=l,this.renderer=c,this.hostElement=u,this.cdr=p,this.touchEnabled=d,this.focusableId="k-"+m(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new i.EventEmitter,this.filterChange=new i.EventEmitter,this.selectionChange=new i.EventEmitter,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=m(),this.optionPrefix=m(),this.filterText="",this.isFocused=!1,this.onTouchedCallback=function(t){},this.onChangeCallback=function(t){},this.word="",this.last="",this.filterFocused=new i.EventEmitter,this.filterBlurred=new i.EventEmitter,this.wrapperFocused=new i.EventEmitter,this.wrapperBlurred=new i.EventEmitter,this.selectionSubscription=new a.Subscription,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.hostElement=u.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this)}return Object.defineProperty(t.prototype,"width",{get:function(){var t=Object(o.isDocumentAvailable)()?this.wrapper.nativeElement.offsetWidth:0,e=this.popupSettings.width||t;return{min:isNaN(t)?t:t+"px",max:isNaN(e)?e:e+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.popupSettings.height;return f(t)?t+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetTabIndex",{get:function(){if(!this.disabled){var t=Number(this.tabIndex);return isNaN(t)?0:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaExpanded",{get:function(){return this.isOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaOwns",{get:function(){if(this.isOpen)return this.listBoxId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaActivedescendant",{get:function(){if(f(this.dataItem))return this.optionPrefix+"-"+S(this.dataItem,this.valueField)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noDataLabel",{get:function(){if(0===this.dataService.itemsCount)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=this.virtual;if(t){var e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data},set:function(t){this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemDisabled",{set:function(t){if("function"!=typeof t)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(t)+".");this.disabledItemsService.itemDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(t){this._virtualSettings=H(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),t.prototype.blurComponent=function(){this.wrapperBlurred.emit()},t.prototype.blurFilterInput=function(){this.filterBlurred.emit()},t.prototype.focusComponent=function(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())},t.prototype.keydown=function(t){var e=f(this.defaultItem)?-1:0,n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(e):this.selectionService.focused,i=0;if(!this.disabled&&!this.readonly){var o=t.keyCode===u.home||t.keyCode===u.end;if(!(this.filterable&&this.isFocused&&this.isOpen)||!o){var r=f(this.selectionService.selected[0]),s=f(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);r&&!s||(t.keyCode===u.down||t.keyCode===u.right?i=-1:t.keyCode!==u.up&&t.keyCode!==u.left||(i=1));var a=t,l=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:a}),c=l===h.Left||l===h.Right;l===h.Undefined||l===h.Tab||l===h.Backspace||l===h.Delete||c&&this.filterable||l===h.Enter||a.preventDefault()}}},t.prototype.keypress=function(t){this.disabled||this.readonly||this.filterable||this.onKeyPress(t)},t.prototype.click=function(){this.focus(),this.togglePopup(!this.isOpen)},t.prototype.onResize=function(){if(this._open){var t=this.popupRef.popupElement,e=this.width,n=e.min,i=e.max;t.style.minWidth=n,t.style.width=i}},Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr",t.setMessages()})),this.setMessages(),this.assignAriaDescribedBy()},t.prototype.isEmpty=function(){var t=this.value;return!(0===t||!1===t||t||this.defaultItem)},t.prototype.onFilterFocus=function(){this.filterFocused.emit()},t.prototype.ngOnDestroy=function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()},t.prototype.ngOnChanges=function(t){var e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),t.hasOwnProperty("value")&&(this.verifySettings(t.value.currentValue),f(this.value)||(this._previousDataItem=void 0)),t.hasOwnProperty("defaultItem")&&(this.disabledItemsService.defaultItem=this.defaultItem);/(value|textField|valueField|valuePrimitive|defaultItem|itemDisabled)/g.test(Object.keys(t).join())&&this.setState()},t.prototype.focus=function(){this.disabled||this.wrapper.nativeElement.focus()},t.prototype.blur=function(){this.disabled||this.wrapper.nativeElement.blur()},t.prototype.toggle=function(t){var e=this;Promise.resolve(null).then((function(){var n=f(t)?t:!e._open;e._toggle(n)}))},t.prototype._toggle=function(t){this._open=t,this.destroyPopup(),this._open&&this.createPopup()},t.prototype.triggerPopupEvents=function(t){var e=new z;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()},t.prototype.togglePopup=function(t){var e=this.disabled||this.readonly,n=this.isOpen===t;e||n||(this.triggerPopupEvents(t)||(!t&&this.filterable&&this.isFocused&&this.focus(),this._toggle(t)))},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._previousDataItem=void 0,this.value=void 0,this.setState()},t.prototype.writeValue=function(t){this.verifySettings(t),this.value=null===t?void 0:t,f(t)||(this._previousDataItem=void 0),this.setState()},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.setDisabledState=function(t){this.disabled=t},Object.defineProperty(t.prototype,"buttonClasses",{get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listContainerClasses",{get:function(){var t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledDefaultItem",{get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)},enumerable:!0,configurable:!0}),t.prototype.getText=function(){return this.text},t.prototype.getDefaultItemText=function(){return S(this.defaultItem,this.textField)},t.prototype.createPopup=function(){var t=this;this.virtual&&(this.virtual.skip=0);var e="rtl"===this.direction?"right":"left",n={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:n,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:i,popupClass:this.listContainerClasses,positionMode:"absolute"});var o=this.popupRef.popupElement,r=this.width,s=r.min,a=r.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=s,o.style.width=a,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){t.cdr.detectChanges(),t.optionsList.scrollToItem(t.selectionService.focused)})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.togglePopup(!1)}))},t.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},t.prototype.updateState=function(t){var e=t.dataItem,n=t.confirm,i=void 0!==n&&n;this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),i&&(this._previousDataItem=e)},t.prototype.clearState=function(){this.text=void 0,this.dataItem=void 0},t.prototype.resetSelection=function(t){var e=!f(t);this.selectionService.resetSelection(e?[]:[t]),this.selectionService.focused=e?this.firstFocusableIndex(0):t},t.prototype.onSelectionChange=function(t){var e=t.dataItem;this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()},t.prototype.subscribeEvents=function(){var t=this;Object(o.isDocumentAvailable)()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(Object(l.filter)((function(e){return t.isOpen})),Object(l.map)(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(Object(a.merge)(this.selectionService.onSelect.pipe(Object(l.filter)((function(e){return!t.isOpen}))),this.selectionService.onChange).pipe(Object(l.map)(this.itemFromEvent.bind(this)),Object(l.tap)((function(e){return t.togglePopup(!1)}))).subscribe((function(e){var n=e.dataItem,i=e.value;e.newSelection&&t.onSelectionChange({dataItem:n});var o=!f(n)&&t._previousDataItem,r=i!==t.prop(t.valueField,t.valuePrimitive)(t.value);o?(t.updateState({dataItem:t._previousDataItem}),t.resetSelection()):r&&(t.value=t.valuePrimitive?i:n,t._previousDataItem=n,t.emitChange(t.value)),t.clearFilter()}))),this.navigationSubscription=Object(a.merge)(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(Object(l.skipWhile)((function(){return t.filterable}))),this.navigationService.right.pipe(Object(l.skipWhile)((function(){return t.filterable}))),this.navigationService.home,this.navigationService.end).pipe(Object(l.filter)((function(t){return!isNaN(t.index)}))).subscribe((function(e){return t.selectionService.select(e.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return t.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){t.togglePopup(!1),t.focus()})),this.enterSubscription=this.navigationService.enter.pipe(Object(l.tap)((function(t){return t.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Object(l.concatMap)((function(){return Object(a.interval)(10).pipe(Object(l.take)(1),Object(l.takeUntil)(t.wrapperFocused))}))).subscribe((function(){t.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){t.componentBlurredSubscription=Object(a.merge)(t.wrapperBlurred.pipe(Object(l.concatMap)((function(){return Object(a.interval)(10).pipe(Object(l.take)(1),Object(l.takeUntil)(t.filterFocused))}))),t.navigationService.tab).pipe(Object(l.tap)((function(e){return e instanceof M&&t.focus()})),Object(l.filter)((function(){return t.isFocused}))).subscribe((function(){return t._zone.run((function(){t.componentBlur()}))}))})))},t.prototype.unsubscribeEvents=function(){Object(o.isDocumentAvailable)()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())},t.prototype.itemFromEvent=function(t){var e=t.indices[0],n=this.dataService.itemAt(e);n=f(n)?n:this.currentOrDefault(e);var i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:e,newSelection:t.newSelection,value:i}},t.prototype.currentOrDefault=function(t){return f(this.dataItem)&&-1!==t?this.dataItem:this.defaultItem},t.prototype.firstFocusableIndex=function(t){var e=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(t)?t<e?this.firstFocusableIndex(t+1):void 0:t},t.prototype.handleEnter=function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)},t.prototype.handleEscape=function(){f(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()},t.prototype.clearFilter=function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))},t.prototype.verifySettings=function(t){var e=!f(this.valueField)!=!f(this.textField);if(Object(i.isDevMode)()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error(tt);if(!0===this.valuePrimitive&&f(t)&&"object"==typeof t)throw new Error(nt);if(!1===this.valuePrimitive&&f(t)&&"object"!=typeof t)throw new Error(et);if(e)throw new Error(it)}},t.prototype.componentBlur=function(){this.isFocused=!1,f(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.onBlur.emit(),this.onTouchedCallback()},t.prototype.onMouseDown=function(t){"input"!==t.target.tagName.toLowerCase()&&t.preventDefault()},t.prototype.onKeyPress=function(t){if(0!==t.which&&t.keyCode!==u.enter){var e=String.fromCharCode(t.charCode||t.keyCode);this.ignoreCase&&(e=e.toLowerCase())," "===e&&t.preventDefault(),this.word+=e,this.last=e,this.search()}},t.prototype.search=function(){var t=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){t.word=""}),this.delay),this.selectNext())},t.prototype.selectNext=function(){var t,e,n,i=this,o=this.dataService.filter((function(t){return f(t)&&!t.header&&!i.disabledItemsService.isItemDisabled(t)})).map((function(t){return i.dataService.grouped?{item:t.value,itemIndex:t.offsetIndex}:{item:t,itemIndex:i.dataService.indexOf(t)}})),r=function(t,e){for(var n=0;n<t.length;n++)if(t.charAt(n)!==e)return!1;return!0}(this.word,this.last),s=o.length,a=!isNaN(this.selectionService.selected[0]),l=a?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(n={item:this.defaultItem,itemIndex:-1},s+=1,l+=1),o=function(t,e,n){var i=t;return n&&(i=[n].concat(i)),i.slice(e).concat(i.slice(0,e))}(o,l+=r&&a?1:0,n),e=0;e<s;e++){t=S(o[e].item,this.textField);var c=Boolean(r&&x(t,this.last,this.ignoreCase)),u=Boolean(x(t,this.word,this.ignoreCase));if(c||u){e=o[e].itemIndex;break}}e!==s&&this.navigate(e)},t.prototype.emitChange=function(t){this.onChangeCallback(t),this.valueChange.emit(t)},t.prototype.navigate=function(t){this.selectionService.select(t)},t.prototype.prop=function(t,e){return function(n){return f(n)?e?t&&y(n)?n[t]:n:n[t]:null}},t.prototype.findDataItem=function(t){var e,n=t.primitive,i=t.valueField,o=t.value,r={dataItem:null,index:-1},s=this.prop(i,n);e=this.dataService.grouped?function(t){return s(t.value)===s(o)}:function(t){return s(t)===s(o)};var a=this.dataService.findIndex(e);return r.dataItem=this.dataService.itemAt(a),r.index=a,r},t.prototype.setState=function(){var t=this.value,e=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){var o=this.prop(e,i)(this.defaultItem),r=this.prop(e,i)(t);if(!f(t)||r===o)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var s=this.findDataItem({primitive:i,valueField:e,value:t}),a=!(i&&n);s.dataItem?(this.updateState({dataItem:s.dataItem,confirm:!0}),this.resetSelection(s.index)):f(t)&&a?(this.updateState({dataItem:t}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())},t.prototype.handleFilter=function(t){this.filterChange.emit(t.target.value)},t.prototype.pageChange=function(t){this.virtual.skip=t.skip},t.prototype.setMessages=function(){var t=this;this._zone.runOutsideAngular((function(){clearTimeout(t.messagesTimeout),t.messagesTimeout=setTimeout((function(){t.noDataText=t.localization.get("noDataText"),t.cdr.detectChanges()}))}))},t.prototype.assignAriaDescribedBy=function(){var t=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=m();var e=(this.valueLabelId+" "+t).trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",e)},t.decorators=[{type:i.Component,args:[{exportAs:"kendoDropDownList",providers:[at,B,P,R,A,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.dropdownlist"},{provide:F,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:o.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-dropdownlist",template:'\n        <ng-container kendoDropDownListLocalizedMessages\n            i18n-noDataText="kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n        >\n        </ng-container>\n        <span #wrapper unselectable="on"\n          role="listbox"\n          [id]="focusableId"\n          [ngClass]="{\n            \'k-dropdown-wrap\': true,\n            \'k-state-default\': !this.disabled,\n            \'k-state-disabled\': this.disabled,\n            \'k-state-focused\': this.isFocused\n          }"\n          [attr.dir]="direction"\n          [attr.readonly]="readonly"\n          [attr.tabindex]="widgetTabIndex"\n          [attr.aria-disabled]="disabled"\n          [attr.aria-readonly]="readonly"\n          aria-haspopup="listbox"\n          [attr.aria-expanded]="ariaExpanded"\n          [attr.aria-owns]="ariaOwns"\n          [attr.aria-activedescendant]="ariaActivedescendant"\n          [attr.aria-label]="noDataLabel"\n          (focus)="focusComponent()"\n          (blur)="blurComponent()"\n          (keydown)="keydown($event)"\n          (keypress)="keypress($event)"\n          (click)="click()"\n        >\n            <span class="k-input" unselectable="on" [id]="valueLabelId">\n               <ng-template *ngIf="valueTemplate"\n                   [templateContext]="{\n                       templateRef: valueTemplate.templateRef,\n                       $implicit: dataItem\n                   }">\n               </ng-template>\n               <ng-template [ngIf]="!valueTemplate">{{ getText() }}</ng-template>\n           </span>\n           <span class="k-select" unselectable="on">\n               <span\n                    class="k-icon"\n                    unselectable="on"\n                    [ngClass]="buttonClasses"\n                >\n                </span>\n           </span>\n           <ng-template #popupTemplate>\n               \x3c!--filterable--\x3e\n\n               <ng-template [ngIf]="filterable">\n                   <span class="k-list-filter" (click)="$event.stopImmediatePropagation()">\n                       <input\n                           [attr.aria-owns]="ariaOwns"\n                           [attr.aria-activedescendant]="ariaActivedescendant"\n                           [attr.aria-label]="noDataLabel"\n                           tabindex="-1"\n                           [filterInput]="isFocused && !touchEnabled"\n                           [dir]="direction"\n                           [(ngModel)]="filterText"\n                           class="k-textbox"\n                           (keydown)="keydown($event)"\n                           (input)="handleFilter($event)"\n                           (focus)="onFilterFocus()"\n                           (blur)="blurFilterInput()" />\n                       <span class="k-icon k-i-search" unselectable="on"></span>\n                   </span>\n               </ng-template>\n               \x3c!--default item--\x3e\n               <ng-template [ngIf]="defaultItem && !itemTemplate">\n                   <div class="k-list-optionlabel" [ngClass]="{ \'k-state-disabled\': isDisabledDefaultItem }" kendoDropDownsSelectable [index]="-1">\n                       {{ getDefaultItemText() }}\n                   </div>\n               </ng-template>\n               <ng-template [ngIf]="defaultItem && itemTemplate">\n                   <div class="k-list-optionlabel" [ngClass]="{ \'k-state-disabled\': isDisabledDefaultItem }" kendoDropDownsSelectable [index]="-1">\n                       <ng-template\n                           [templateContext]="{\n                               templateRef: itemTemplate.templateRef,\n                               $implicit: defaultItem\n                           }">\n                       </ng-template>\n                   </div>\n               </ng-template>\n               \x3c!--header template--\x3e\n               <ng-template *ngIf="headerTemplate"\n                   [templateContext]="{\n                       templateRef: headerTemplate.templateRef\n                   }">\n               </ng-template>\n               \x3c!--list--\x3e\n               <kendo-list\n                   #optionsList\n                   [id]="listBoxId"\n                   [optionPrefix]="optionPrefix"\n                   [data]="data"\n                   [textField]="textField"\n                   [valueField]="valueField"\n                   [template]="itemTemplate"\n                   [groupTemplate]="groupTemplate"\n                   [fixedGroupTemplate]="fixedGroupTemplate"\n                   [height]="listHeight"\n                   [show]="isOpen"\n                   [virtual]="virtual"\n                   (pageChange)="pageChange($event)"\n                   >\n               </kendo-list>\n               \x3c!--no-data template--\x3e\n               <div class="k-nodata" *ngIf="data.length === 0">\n                   <ng-template [ngIf]="noDataTemplate"\n                       [templateContext]="{\n                           templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\n                       }">\n                   </ng-template>\n                   <ng-template [ngIf]="!noDataTemplate">\n                       <div>{{ noDataText }}</div>\n                   </ng-template>\n               </div>\n               \x3c!--footer template--\x3e\n               <ng-template *ngIf="footerTemplate"\n                   [templateContext]="{\n                       templateRef: footerTemplate.templateRef\n                   }">\n               </ng-template>\n            </ng-template>\n        </span>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}]}],t.ctorParameters=function(){return[{type:s.LocalizationService},{type:c.PopupService},{type:P},{type:R},{type:A},{type:B},{type:i.NgZone},{type:i.Renderer2},{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[K]}]}]},t.propDecorators={focusableId:[{type:i.Input}],iconClass:[{type:i.Input}],loading:[{type:i.Input}],data:[{type:i.Input}],value:[{type:i.Input}],textField:[{type:i.Input}],valueField:[{type:i.Input}],popupSettings:[{type:i.Input}],listHeight:[{type:i.Input}],defaultItem:[{type:i.Input}],disabled:[{type:i.Input}],itemDisabled:[{type:i.Input}],readonly:[{type:i.Input}],filterable:[{type:i.Input}],virtual:[{type:i.Input}],ignoreCase:[{type:i.Input}],delay:[{type:i.Input}],valuePrimitive:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input,args:["tabIndex"]}],valueChange:[{type:i.Output}],filterChange:[{type:i.Output}],selectionChange:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],itemTemplate:[{type:i.ContentChild,args:[I]}],groupTemplate:[{type:i.ContentChild,args:[T]}],fixedGroupTemplate:[{type:i.ContentChild,args:[D]}],valueTemplate:[{type:i.ContentChild,args:[st]}],headerTemplate:[{type:i.ContentChild,args:[_]}],footerTemplate:[{type:i.ContentChild,args:[E]}],noDataTemplate:[{type:i.ContentChild,args:[j]}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate"]}],wrapper:[{type:i.ViewChild,args:["wrapper",{static:!0}]}],optionsList:[{type:i.ViewChild,args:["optionsList"]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-dropdown"]},{type:i.HostBinding,args:["class.k-header"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}]},t}(),ct=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoMultiSelectCustomItemTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),ut=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoMultiSelectTagTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),pt=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoMultiSelectGroupTagTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t}(),dt=function(t){function e(e){var n=t.call(this)||this;return n.dataItem=e,n}return Object(p.__extends)(e,t),e}(z),ht={multi:!0,provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return ft}))},ft=function(){function t(t,e,n,o,r,s,c,u,p,d,h,f){var g=this;this.localization=t,this.popupService=e,this.dataService=n,this.selectionService=o,this.navigationService=r,this.disabledItemsService=s,this.cdr=c,this.differs=u,this.renderer=p,this.hostElement=d,this._zone=h,this.touchEnabled=f,this.listBoxId=m(),this.tagListId=m(),this.tagPrefix="tag-"+m(),this.optionPrefix="option-"+m(),this.focusedTagIndex=void 0,this.focusableId="k-"+m(),this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=function(t){return t||[]},this.allowCustom=!1,this.valueNormalizer=function(t){return t.pipe(Object(l.map)((function(t){var e=function(e){return"string"==typeof e&&t.toLowerCase()===e.toLowerCase()},n=g.value.find(e);if(n)return n;var i=g.dataService.find(e);return i||t})))},this.filterChange=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.removeTag=new i.EventEmitter,this.widgetClasses=!0,this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this.isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new a.Subject,this.observableSubscriptions=new a.Subscription,this.hostElement=d.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents()}return t.prototype.focus=function(){this.disabled||this.searchbar.focus()},t.prototype.onSearchBarFocus=function(){this.isFocused||(this.isFocused=!0,this.onFocus.emit())},t.prototype.blur=function(){this.disabled||this.searchbar.blur()},t.prototype.onSearchBarBlur=function(){this.isFocused&&(this.closePopup(),this.isFocused=!1,this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback())},t.prototype.wrapperMousedown=function(t){var e=this.searchbar.input.nativeElement;if(0===t.button){if(this.isFocused&&this.isOpen&&t.target===e)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==t.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),t.preventDefault()}},t.prototype.onMouseDown=function(t){t.preventDefault()},t.prototype.onResize=function(){if(this._open){var t=this.popupRef.popupElement,e=this.width,n=e.min,i=e.max;t.style.minWidth=n,t.style.width=i}},Object.defineProperty(t.prototype,"appendTo",{get:function(){var t=this.popupSettings.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=this.virtual;if(t){var e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data},set:function(t){this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.selectedDataItems.length?"":this._placeholder},set:function(t){this._placeholder=t||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemDisabled",{set:function(t){if("function"!=typeof t)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(t)+".");this.disabledItemsService.itemDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(t){this._virtualSettings=H(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign({animate:!0},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusedClass",{get:function(){return this.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listContainerClasses",{get:function(){var t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var t=0;Object(o.isDocumentAvailable)()&&(t=this.wrapper.nativeElement.offsetWidth);var e=this.popupSettings.width||t;return{min:isNaN(t)?t:t+"px",max:isNaN(e)?e:e+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.popupSettings.height;return f(t)?t+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeDescendant",{get:function(){var t,e,n=this.focusedTagIndex,i=this.selectionService.focused;if(f(n)&&!this.isOpen)e=this.tags[n],t=this.tagPrefix;else{if(!f(i)||-1===i||!this.isOpen)return null;e=this.dataService.itemAt(i),t=this.optionPrefix}return t+"-"+this.prop(this.valueField,this.valuePrimitive)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noDataLabel",{get:function(){if(0===this.dataService.itemsCount)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearTitle",{get:function(){return this.localization.get("clearTitle")},enumerable:!0,configurable:!0}),t.prototype.verifySettings=function(){var t=!f(this.valueField)!=!f(this.textField);if(Object(i.isDevMode)()&&0!==this.value.length){if(!v(this.value))throw new Error(U);if(!0===this.valuePrimitive&&k(this.value))throw new Error(G);if(!1===this.valuePrimitive&&!k(this.value))throw new Error(q);if(t)throw new Error(J)}},t.prototype.change=function(t){if((f(t.added)||f(t.removed))&&(-1===t.added||-1===t.removed))this.addCustomValue(this.text);else{if(f(t.added)){var e=this.dataService.itemAt(t.added),n=this.valuePrimitive&&f(e)&&f(e[this.valueField])?e[this.valueField]:e;this.value=this.value.concat([n]),this.cdr.markForCheck()}if(f(t.removed)){var i=this.dataService.itemAt(t.removed),o=this.prop(this.valueField,this.valuePrimitive),r=function(t){return o(t)!==o(i)};this.value=this.value.filter(r),this.selectedDataItems=this.selectedDataItems.filter(r),this.tags=this.tagMapper(this.selectedDataItems.slice()),this.cdr.detectChanges()}this.emitValueChange()}},t.prototype.setState=function(t){var e=this,n=k(t),i=this.dataService.data;this.dataService.grouped&&(i=i.filter((function(t){return!t.header})).map((function(t){return t.value})));var o=C(this.value,i,this.valueField);if(this.selectionService.resetSelection(o),this.isOpen&&void 0===this.selectionService.focused&&(this.selectionService.focused=this.dataService.itemsCount?this.firstFocusableIndex(0):this.allowCustom?-1:void 0),!this.text&&(f(t)&&t.length||(this.selectedDataItems=[]),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=t.slice()),(n||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=w(t,i,this.valueField)),this.selectedDataItems.length<t.length)){var r=this.prop(this.valueField,this.valuePrimitive),s=t.map((function(t){var n=e.selectedDataItems.find((function(e){return r(e)===r(t)}));return f(n)?n:e.resolveDataItemFromTags(t)})).filter((function(t){return f(t)}));this.selectedDataItems=s}this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()},t.prototype.handleFilter=function(t){this.text=t,t&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(t):this.searchTextAndFocus(t),this.searchbar.setInputSize()},t.prototype.pageChange=function(t){this.virtual.skip=t.skip},t.prototype.clearFilter=function(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()},t.prototype.handleNavigate=function(t){var e=this.text&&t.keyCode!==u.down&&t.keyCode!==u.up,n=this.text&&t.keyCode===u.enter||t.keyCode===u.esc;if(!this.text&&t.keyCode===u.backspace&&this.tags.length>0)this.handleBackspace();else if(!(this.disabled||e&&!n)){var i=t,o=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,r=this.navigationService.process({current:o,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:i});r!==h.Undefined&&(r===h.Enter&&this.isOpen||r!==h.Enter)&&t.preventDefault()}},t.prototype.handleRemoveTag=function(t){var e=new dt(t);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(e),e.isDefaultPrevented()||(t instanceof Array?this.removeGroupTag(t):this.removeSingleTag(t),this.cdr.detectChanges()))},t.prototype.clearAll=function(t){t.stopImmediatePropagation(),t.preventDefault(),this.focus(),this.clearFilter(),this.reset(),this.emitValueChange()},t.prototype.addCustomValue=function(t){this.customValueSubject.next(t)},t.prototype.ngAfterContentChecked=function(){this.verifySettings()},t.prototype.ngDoCheck=function(){var t=this;if(this.differ){var e=this.differ.diff(this.value);if(e&&!this.valueChangeDetected){if(this.selectedDataItems=this.getSelectedDataItems(e),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),!this.tags||!this.dataService.data)return;this.selectedDataItems.some((function(e){return!(function(e){return-1===t.dataService.indexOf(e)}(e)||function(e){return t.selectionService.isSelected(t.dataService.indexOf(e))}(e))}))&&this.setState(this.value)}}this.valueChangeDetected=!1},t.prototype.ngOnInit=function(){var t=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr",t.setMessages()})),this.setMessages()},t.prototype.ngOnChanges=function(t){var e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),Object(o.isChanged)("valueNormalizer",t)&&this.createCustomValueStream();t.hasOwnProperty("value")&&(this.valueChangeDetected=!0),/(data|textField|valueField|valuePrimitive|value)/g.test(Object.keys(t).join())&&this.setState(this.value)},t.prototype.ngAfterViewInit=function(){this.searchbar.setInputSize()},t.prototype.ngOnDestroy=function(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},t.prototype.toggle=function(t){var e=this;Promise.resolve(null).then((function(){var n=f(t)?t:!e._open;e._toggle(n),e.cdr.markForCheck()}))},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.text="",this.value=[],this.selectedDataItems=[],this.setState([]),this.cdr.markForCheck()},t.prototype.writeValue=function(t){this.value=t||[],this.setState(this.value),this.verifySettings()},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.onTagMapperChange=function(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()},t.prototype.prop=function(t,e){return function(n){return f(n)?e?t&&y(n)?n[t]:n:n[t]:null}},t.prototype.subscribeEvents=function(){var t=this;if(Object(o.isDocumentAvailable)()){var e=function(){return t.isOpen},n=function(){return!t.isOpen},i=function(){return!t.isOpen&&void 0!==t.focusedTagIndex};[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(Object(l.filter)(e)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(Object(l.filter)(e)).subscribe((function(e){return t.handleUp(e.index)})),this.navigationService.home.pipe(Object(l.filter)((function(){return n}))).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(Object(l.filter)((function(){return n}))).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(Object(l.filter)(i)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(Object(l.filter)(i)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe(this.handleLeftKey.bind(this)),this.navigationService.right.subscribe(this.handleRightKey.bind(this)),this.navigationService.down.subscribe((function(e){return t.handleDownKey(e.index)}))].forEach((function(e){return t.observableSubscriptions.add(e)}))}},t.prototype.unsubscribeEvents=function(){Object(o.isDocumentAvailable)()&&(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe())},t.prototype.removeGroupTag=function(t){var e=this.prop(this.valueField,this.valuePrimitive),n=this.dataService.data;this.dataService.grouped&&(n=n.filter((function(t){return!t.header})).map((function(t){return t.value})));var i=new Set(t.map((function(t){return e(t)})));this.value=this.value.filter((function(t){return!i.has(e(t))})),this.selectedDataItems=this.selectedDataItems.filter((function(t){return!i.has(e(t))}));var o=C(this.value,n,this.valueField);this.selectionService.resetSelection(o),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()},t.prototype.removeSingleTag=function(t){var e=this.prop(this.valueField,this.valuePrimitive),n=this.dataService.data;this.dataService.grouped&&(n=n.filter((function(t){return!t.header})).map((function(t){return t.value})));var i=C([t],n,this.valueField)[0];if(isNaN(i)){var o=function(n){return e(n)!==e(t)};this.value=this.value.filter(o),this.selectedDataItems=this.selectedDataItems.filter(o),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}else this.selectionService.unselect(i),this.togglePopup(!1)},t.prototype.createCustomValueStream=function(){var t=this;this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(Object(l.tap)((function(){t.loading=!0,t.disabled=!0,t.cdr.detectChanges()})),this.valueNormalizer,Object(l.catchError)((function(){return t.loading=!1,t.disabled=!1,t.clearFilter(),t.autoClose&&(t.togglePopup(!1),t.nextTick((function(){t.searchbar.focus()}))),t.createCustomValueStream(),Object(a.of)(null)}))).subscribe((function(e){if(t.loading=!1,t.disabled=!1,t.clearFilter(),f(e)){var n=t.valuePrimitive?S(e,t.valueField):e,i=t.dataService.indexOf(n),o=-1===i;-1===t.value.indexOf(n)?(o?t.value=t.value.concat([n]):t.selectionService.add(i),t.selectedDataItems=t.selectedDataItems.concat([e])):!o&&t.selectionService.isSelected(i)?t.selectionService.unselect(i):(t.value.splice(t.value.indexOf(n),1),t.selectedDataItems=t.selectedDataItems.filter((function(e){return S(e,t.valueField)!==n}))),t.tags=t.tagMapper(t.selectedDataItems.slice(0)),t.emitValueChange()}t.autoClose&&(t.togglePopup(!1),t.nextTick((function(){t.searchbar.focus()})))}))},t.prototype.handleItemChange=function(t){this.change(t),this.autoClose&&this.togglePopup(!1),f(t.added)&&-1!==t.added&&this.clearFilter()},t.prototype.handleEnter=function(t){var e=this.selectionService,n=this.selectionService.focused;this.isOpen&&t.originalEvent.preventDefault(),-1!==n?(e.isSelected(n)?e.unselect(n):e.add(n),this.clearFilter(),this.autoClose&&this.togglePopup(!1)):this.allowCustom&&this.text&&this.addCustomValue(this.text)},t.prototype.handleClose=function(){this.closePopup(),this.searchbar.focus()},t.prototype.handleEnd=function(){this.focusedTagIndex=this.tags.length-1},t.prototype.handleHome=function(){this.focusedTagIndex=0},t.prototype.handleUp=function(t){this.selectionService.focused=t},t.prototype.handleBackspace=function(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag(this.tags[this.tags.length-1]),this.searchbar.focus())},t.prototype.handleDelete=function(){this.handleRemoveTag(this.tags[this.focusedTagIndex]),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)},t.prototype.handleLeftKey=function(){"rtl"===this.direction&&(0===this.focusedTagIndex&&(this.focusedTagIndex=void 0),void 0===this.focusedTagIndex)||(void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--)},t.prototype.handleDownKey=function(t){this.isOpen?this.selectionService.focused=t||this.firstFocusableIndex(0):this.openPopup()},t.prototype.handleRightKey=function(){var t=this.tags.length-1;if("rtl"===this.direction){if(void 0===this.focusedTagIndex)return void(this.focusedTagIndex=0);if(this.focusedTagIndex===t)return}this.focusedTagIndex===t?this.focusedTagIndex=void 0:this.focusedTagIndex<t&&this.focusedTagIndex++},t.prototype.findIndex=function(t,e){var n,i=this;void 0===e&&(e=0),t=t.toLowerCase();var o=this.dataService.findIndex((function(e){return n=i.dataService.grouped?i.prop(i.textField,i.valuePrimitive)(e.value):i.prop(i.textField,i.valuePrimitive)(e),n=f(n)?n.toString().toLowerCase():"",t&&n.startsWith(t)}),e);return this.disabledItemsService.isIndexDisabled(o)?o+1>this.dataService.itemsCount?-1:this.findIndex(t,o+1):o},t.prototype.searchTextAndFocus=function(t){var e=this.findIndex(t);this.selectionService.focused=e},t.prototype.closePopup=function(){this.togglePopup(!1),this.focusedTagIndex=void 0},t.prototype.openPopup=function(){this.togglePopup(!0),this.focusedTagIndex=void 0},t.prototype.togglePopup=function(t){var e=this.disabled||this.readonly,n=this.isOpen===t;e||n||(this.triggerPopupEvents(t)||this._toggle(t))},t.prototype.triggerPopupEvents=function(t){var e=new z;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()},t.prototype._toggle=function(t){this._open=t,this.destroyPopup(),this._open&&this.createPopup()},t.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},t.prototype.createPopup=function(){var t=this;this.virtual&&(this.virtual.skip=0);var e="rtl"===this.direction?"right":"left",n={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:n,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:i,popupClass:this.listContainerClasses,positionMode:"absolute"});var o=this.popupRef.popupElement,r=this.width,s=r.min,a=r.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=s,o.style.width=a,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){t.cdr.detectChanges(),t.optionsList.scrollToItem(t.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){t.togglePopup(!1)}))},t.prototype.emitValueChange=function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)},t.prototype.getSelectedDataItems=function(t){var e,n,i=this,o=k(this.data),r=this.prop(this.valueField,this.valuePrimitive),s=[];return t.forEachItem((function(t){if(e=t.currentValue,-1!==(n=i.dataService.grouped?i.dataService.findIndex((function(t){return r(t.value)===r(e)})):i.dataService.findIndex((function(t){return r(t)===r(e)}))))s.push(i.dataService.itemAt(n));else if(!f(t)||o&&i.valuePrimitive){var a=i.resolveDataItemFromTags(e);f(a)&&s.push(a)}else s.push(e)})),s},t.prototype.resolveDataItemFromTags=function(t){if(this.tags&&this.tags.length&&f(t)){var e=this.tags.reduce((function(t,e){var n=v(e)?e:[e];return t.push.apply(t,n),t}),[]),n=this.prop(this.valueField,this.valuePrimitive);return e.find((function(e){return n(e)===n(t)}))}},t.prototype.firstFocusableIndex=function(t){var e=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(t)){var n=t+1;return n<e?this.firstFocusableIndex(n):void 0}return t},t.prototype.nextTick=function(t){var e=this;this._zone.runOutsideAngular((function(){setTimeout((function(){return e._zone.run(t)}))}))},t.prototype.setMessages=function(){var t=this;this._zone.runOutsideAngular((function(){clearTimeout(t.messagesTimeout),t.messagesTimeout=setTimeout((function(){t.noDataText=t.localization.get("noDataText"),t.cdr.detectChanges()}))}))},t.decorators=[{type:i.Component,args:[{exportAs:"kendoMultiSelect",providers:[ht,B,P,R,A,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.multiselect"},{provide:F,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:o.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-multiselect",template:'\n        <ng-container kendoMultiSelectLocalizedMessages\n            i18n-noDataText="kendo.multiselect.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.combobox.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <div class="k-multiselect-wrap k-floatwrap"\n            #wrapper\n            (mousedown)="wrapperMousedown($event)"\n        >\n            <kendo-taglist\n                [id]="tagListId"\n                [tags]="tags"\n                [textField]="textField"\n                [valueField]="valueField"\n                [focused]="focusedTagIndex"\n                [disabled]="disabled"\n                [template]="tagTemplate"\n                [groupTemplate]="groupTagTemplate"\n                [tagPrefix]="tagPrefix"\n                (removeTag)="handleRemoveTag($event)"\n            >\n            </kendo-taglist>\n            <kendo-searchbar\n                #searchbar\n                [id]="focusableId"\n                [role]="\'listbox\'"\n                [tagListId]="tagListId"\n                [activeDescendant]="activeDescendant"\n                [noDataLabel]="noDataLabel"\n                [userInput]="text"\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [tabIndex]="tabIndex"\n                [popupOpen]="isOpen"\n                [placeholder]="placeholder"\n                (onNavigate)="handleNavigate($event)"\n                (valueChange)="handleFilter($event)"\n                (onBlur)="onSearchBarBlur()"\n                (onFocus)="onSearchBarFocus()"\n            >\n            </kendo-searchbar>\n            <span\n                *ngIf="!loading && !readonly && clearButton && (tags?.length || text?.length)"\n                class="k-icon k-clear-value k-i-close"\n                [attr.title]="clearTitle"\n                role="button"\n                tabindex="-1"\n                (mousedown)="clearAll($event)"\n            >\n            </span>\n            <span *ngIf="loading" class="k-icon k-i-loading"></span>\n        </div>\n        <ng-template #popupTemplate>\n            \x3c!--header template--\x3e\n            <ng-template *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate.templateRef\n                }">\n            </ng-template>\n            \x3c!--custom item template--\x3e\n            <div class="k-list" *ngIf="allowCustom && text">\n                <div class="k-item k-custom-item" kendoDropDownsSelectable [multipleSelection]="true" [index]="-1">\n                    <ng-template *ngIf="customItemTemplate;else default_custom_item_template"\n                        [templateContext]="{\n                            templateRef: customItemTemplate.templateRef,\n                            $implicit: text\n                        }">\n                    </ng-template>\n                    <ng-template #default_custom_item_template>{{ text }}</ng-template>\n                    <span class="k-icon k-i-plus" style="float: right"></span>\n                </div>\n            </div>\n            \x3c!--list--\x3e\n            <kendo-list\n                #optionsList\n                [id]="listBoxId"\n                [optionPrefix]="optionPrefix"\n                [data]="data"\n                [textField]="textField"\n                [valueField]="valueField"\n                [height]="listHeight"\n                [template]="template"\n                [groupTemplate]="groupTemplate"\n                [fixedGroupTemplate]="fixedGroupTemplate"\n                [show]="isOpen"\n                [multipleSelection]="true"\n                [virtual]="virtual"\n                (pageChange)="pageChange($event)"\n                >\n            </kendo-list>\n            \x3c!--no data template--\x3e\n            <div class="k-nodata" *ngIf="data.length === 0">\n                <ng-template [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ noDataText }}</div>\n                </ng-template>\n            </div>\n            \x3c!--footer template--\x3e\n            <ng-template *ngIf="footerTemplate"\n                [templateContext]="{\n                    templateRef: footerTemplate.templateRef\n                }">\n            </ng-template>\n        </ng-template>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}]}],t.ctorParameters=function(){return[{type:s.LocalizationService},{type:c.PopupService},{type:B},{type:P},{type:R},{type:A},{type:i.ChangeDetectorRef},{type:i.KeyValueDiffers},{type:i.Renderer2},{type:i.ElementRef},{type:i.NgZone},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[K]}]}]},t.propDecorators={focusableId:[{type:i.Input}],autoClose:[{type:i.Input}],loading:[{type:i.Input}],data:[{type:i.Input}],value:[{type:i.Input}],valueField:[{type:i.Input}],textField:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input,args:["tabIndex"]}],placeholder:[{type:i.Input}],disabled:[{type:i.Input}],itemDisabled:[{type:i.Input}],readonly:[{type:i.Input}],filterable:[{type:i.Input}],virtual:[{type:i.Input}],popupSettings:[{type:i.Input}],listHeight:[{type:i.Input}],valuePrimitive:[{type:i.Input}],clearButton:[{type:i.Input}],tagMapper:[{type:i.Input}],allowCustom:[{type:i.Input}],valueNormalizer:[{type:i.Input}],filterChange:[{type:i.Output}],valueChange:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],removeTag:[{type:i.Output}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],searchbar:[{type:i.ViewChild,args:[O]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate"]}],wrapper:[{type:i.ViewChild,args:["wrapper"]}],optionsList:[{type:i.ViewChild,args:["optionsList"]}],template:[{type:i.ContentChild,args:[I]}],customItemTemplate:[{type:i.ContentChild,args:[ct]}],groupTemplate:[{type:i.ContentChild,args:[T]}],fixedGroupTemplate:[{type:i.ContentChild,args:[D]}],headerTemplate:[{type:i.ContentChild,args:[_]}],footerTemplate:[{type:i.ContentChild,args:[E]}],tagTemplate:[{type:i.ContentChild,args:[ut]}],groupTagTemplate:[{type:i.ContentChild,args:[pt]}],noDataTemplate:[{type:i.ContentChild,args:[j]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-multiselect"]},{type:i.HostBinding,args:["class.k-header"]}],dir:[{type:i.HostBinding,args:["attr.dir"]}],focusedClass:[{type:i.HostBinding,args:["class.k-state-focused"]}],disabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}]},t}(),mt=function(){function t(){this.removeTag=new i.EventEmitter}return t.prototype.tagProp=function(t,e){return e&&y(t)?t[e]:t},t.prototype.deleteTag=function(t,e){t.preventDefault(),t.stopImmediatePropagation(),this.disabled||1!==t.which||this.removeTag.emit(e)},t.prototype.itemId=function(t){if(t)return this.tagPrefix+"-"+this.tagProp(t,this.valueField)},t.prototype.isGroupTag=function(t){return t instanceof Array},t.decorators=[{type:i.Component,args:[{selector:"kendo-taglist",template:'\n        <ul [attr.id]="id" class="k-reset">\n            <li role="option" *ngFor="let tag of tags; let i = index;" aria-selected="true" [attr.aria-setsize]="tags?.length"\n                class="k-button" [ngClass]="{ \'k-state-focused\': i === focused }" [attr.id]="itemId(tag)"\n            >\n                <ng-template *ngIf="isGroupTag(tag); then groupTag else singleTag"></ng-template>\n                    <ng-template #groupTag>\n                        <span>\n                            <ng-template *ngIf="groupTemplate"\n                                [templateContext]="{\n                                templateRef: groupTemplate.templateRef,\n                                $implicit: tag\n                            }">\n                            </ng-template>\n                            <ng-template [ngIf]="!groupTemplate">{{ tag.length }} {{ tag.length === 1 ? \'item\' : \'items\' }} selected</ng-template>\n                        </span>\n                    </ng-template>\n                    <ng-template #singleTag>\n                        <span>\n                        <ng-template *ngIf="template"\n                                [templateContext]="{\n                                templateRef: template.templateRef,\n                                $implicit: tag\n                            }">\n                            </ng-template>\n                            <ng-template [ngIf]="!template">{{ tagProp(tag, textField) }}</ng-template>\n                        </span>\n                    </ng-template>\n\n                <span aria-label="delete" [attr.aria-hidden]="i !== focused" class="k-select">\n                    <span class="k-icon k-i-close" (mousedown)="deleteTag($event, tag)">\n                    </span>\n                </span>\n            </li>\n        </ul>\n  '}]}],t.propDecorators={tags:[{type:i.Input}],textField:[{type:i.Input}],valueField:[{type:i.Input}],focused:[{type:i.Input}],template:[{type:i.Input}],groupTemplate:[{type:i.Input}],disabled:[{type:i.Input}],tagPrefix:[{type:i.Input}],id:[{type:i.Input}],removeTag:[{type:i.Output}]},t}(),gt=function(){function t(t){this.viewContainerRef=t}return Object.defineProperty(t.prototype,"templateContext",{set:function(t){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),t.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(t.templateRef,t))},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Directive,args:[{selector:"[templateContext]"}]}],t.ctorParameters=function(){return[{type:i.ViewContainerRef}]},t.propDecorators={templateContext:[{type:i.Input}]},t}(),vt=function(){function t(t){this.multipleSelection=!1,this.selectionService=t}return Object.defineProperty(t.prototype,"focusedClassName",{get:function(){return this.selectionService.isFocused(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedClassName",{get:function(){return this.selectionService.isSelected(this.index)},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){t.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)},t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownsSelectable]"}]}],t.ctorParameters=function(){return[{type:P}]},t.propDecorators={index:[{type:i.HostBinding,args:["attr.index"]},{type:i.Input}],height:[{type:i.HostBinding,args:["style.height.px"]},{type:i.HostBinding,args:["style.minHeight.px"]},{type:i.Input}],multipleSelection:[{type:i.Input}],focusedClassName:[{type:i.HostBinding,args:["class.k-state-focused"]}],selectedClassName:[{type:i.HostBinding,args:["class.k-state-selected"]}],onClick:[{type:i.HostListener,args:["click",["$event"]]}]},t}(),yt=function(){function t(t){this.multiSelectComponent=t,this.showAfter=0,this.createTagMapper()}return t.prototype.ngOnChanges=function(t){f(t.showAfter)&&(this.createTagMapper(),this.multiSelectComponent.onTagMapperChange())},t.prototype.createTagMapper=function(){var t=this;this.multiSelectComponent.tagMapper=function(e){if(e.length>t.showAfter){var n=void 0;return(n=e.slice(0,t.showAfter)).push(e.slice(t.showAfter,e.length)),n}return e}},t.decorators=[{type:i.Directive,args:[{selector:"[kendoMultiSelectSummaryTag]"}]}],t.ctorParameters=function(){return[{type:ft}]},t.propDecorators={showAfter:[{type:i.Input,args:["kendoMultiSelectSummaryTag"]}]},t}(),bt={caseSensitive:!1,operator:"startsWith"},wt=function(){function t(t){this.component=t,this.filterable=!0,this._data=[],this._filterSettings=bt}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterSettings",{get:function(){return this._filterSettings},set:function(t){this._filterSettings=Object.assign({},bt,t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.component.filterable=this.filterable,this.filterChangeSubscription=this.component.filterChange.subscribe((function(e){return t.component.data=t.getFilteredData(e)}))},t.prototype.ngOnDestroy=function(){this.filterChangeSubscription.unsubscribe()},t.prototype.getFilteredData=function(t){var e=this,n=this.component.textField||this.component.valueField;return this.data.filter((function(i){return e.checkItem(S(i,n),t)}))},t.prototype.checkItem=function(t,e){return t=this.normalizeValue(t),e=this.normalizeValue(e),"contains"===this.filterSettings.operator?-1!==t.indexOf(e):0===t.indexOf(e)},t.prototype.normalizeValue=function(t){var e=f(t)?t.toString():"";return this.filterSettings.caseSensitive?e:e.toLowerCase()},t.decorators=[{type:i.Directive,args:[{selector:"[kendoDropDownFilter]"}]}],t.ctorParameters=function(){return[{type:F}]},t.propDecorators={data:[{type:i.Input}],filterSettings:[{type:i.Input,args:["kendoDropDownFilter"]}],filterable:[{type:i.Input}]},t}(),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(p.__extends)(e,t),e.propDecorators={noDataText:[{type:i.Input}],clearTitle:[{type:i.Input}]},e}(s.ComponentMessages),Ct=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(p.__extends)(e,t),e.decorators=[{type:i.Directive,args:[{providers:[{provide:kt,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"\n    [kendoDropDownListLocalizedMessages],\n    [kendoComboBoxLocalizedMessages],\n    [kendoAutoCompleteLocalizedMessages],\n    [kendoMultiSelectLocalizedMessages]\n  "}]}],e.ctorParameters=function(){return[{type:s.LocalizationService}]},e}(kt),St=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(p.__extends)(e,t),Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e.decorators=[{type:i.Component,args:[{providers:[{provide:kt,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-dropdownlist-messages, kendo-combobox-messages, kendo-autocomplete-messages, kendo-multiselect-messages",template:""}]}],e.ctorParameters=function(){return[{type:s.LocalizationService}]},e}(kt),xt=[_,E,I,T,D,j,Ct,St,wt],Ot=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[xt],exports:[xt]}]}],t}(),It=[L,N,vt,O,gt],_t=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[It],exports:[It,d.CommonModule,r.FormsModule,c.PopupModule,o.ResizeSensorModule,Ot],imports:[d.CommonModule,r.FormsModule,c.PopupModule,o.ResizeSensorModule,Ot]}]}],t}(),Et=[W],Tt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Et],exports:[Et,Ot],imports:[_t]}]}],t}(),Dt={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Pt={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Bt={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},At={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},Mt=function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)&&e[i].test(t))return i;return void 0!==n?n:t},Rt=function(t){var e,n=[];for(var i in Dt)if(Dt.hasOwnProperty(i)){if(!(n=t.match(Dt[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var o={};return o.device=i,o.browser=Mt(t,At,"default"),o.name=Mt(i,Pt),o[o.name]=!0,o.majorVersion=n[2],o.minorVersion=n[3].replace("_","."),e=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0"),o.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,o.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||o.cordova,o}return null},jt=function(t){var e=null,n=[];for(var i in Bt)if(Bt.hasOwnProperty(i)&&(n=t.match(Bt[i]))){(e={})[i]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}return e},zt=g()&&window.navigator?window.navigator.userAgent:null,Ft=zt?jt(zt):null,Nt=zt?Rt(zt):null,Lt=g()&&"ontouchstart"in window,Vt=Ft&&!Ft.chrome&&window.MSPointerEvent,Ht=Ft&&!Ft.chrome&&window.PointerEvent,$t=Nt&&(Lt||Vt||Ht),Wt=[rt],Kt=$t,Ut=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Wt],exports:[Wt,Ot],imports:[_t],providers:[{provide:K,useValue:Kt}]}]}],t}(),qt=function(){function t(t,e){this.element=t,this.zone=e}return t.prototype.ngOnChanges=function(){var t=this;this.focused&&this.nextTick((function(){return t.element.nativeElement.focus()}))},t.prototype.nextTick=function(t){this.zone.runOutsideAngular((function(){return setTimeout(t)}))},t.decorators=[{type:i.Directive,args:[{selector:"[filterInput]"}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},t.propDecorators={focused:[{type:i.Input,args:["filterInput"]}]},t}(),Gt=[lt,st,qt],Jt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Gt],exports:[Gt,Ot],imports:[_t]}]}],t}(),Zt=[ft,mt,ut,pt,yt,ct],Xt=$t,Yt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Zt],exports:[Zt,Ot],imports:[_t],providers:[{provide:K,useValue:Xt}]}]}],t}(),Qt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{exports:[Tt,Ut,Jt,Yt]}]}],t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.dialog=e,r.button=n,r.editor=i,r.localization=o,r}return i.__extends(e,t),e.prototype.clickHandler=function(){this.editor.openDialog(this.dialog)},e.prototype.onStateChange=function(t){this.button.selected=t[this.command].selected,this.button.disabled=t[this.command].disabled},e}(n(37).EditorCommandBase);e.EditorCommandDialog=o},function(t,e,n){"use strict";n.r(e),n.d(e,"CheckBoxModule",(function(){return ke})),n.d(e,"ColorInputComponent",(function(){return me})),n.d(e,"FocusOnDomReadyDirective",(function(){return ge})),n.d(e,"ColorPaletteService",(function(){return ue})),n.d(e,"MaskingService",(function(){return Ft})),n.d(e,"NumericTextBoxMessages",(function(){return _t})),n.d(e,"RadioButtonModule",(function(){return Se})),n.d(e,"SliderCustomMessagesComponent",(function(){return Kt})),n.d(e,"SliderMessages",(function(){return $t})),n.d(e,"SwitchCustomMessagesComponent",(function(){return Jt})),n.d(e,"Messages",(function(){return qt})),n.d(e,"SliderComponent",(function(){return ut})),n.d(e,"LabelTemplateDirective",(function(){return it})),n.d(e,"SwitchComponent",(function(){return pt})),n.d(e,"TextBoxContainerComponent",(function(){return mt})),n.d(e,"TextBoxDirective",(function(){return gt})),n.d(e,"TextAreaDirective",(function(){return dt})),n.d(e,"NumericTextBoxComponent",(function(){return It})),n.d(e,"NumericTextBoxCustomMessagesComponent",(function(){return Et})),n.d(e,"MaskedTextBoxComponent",(function(){return Lt})),n.d(e,"InputsModule",(function(){return De})),n.d(e,"SliderTicksComponent",(function(){return Ht})),n.d(e,"SliderModule",(function(){return Ut})),n.d(e,"SwitchModule",(function(){return Zt})),n.d(e,"NumericTextBoxModule",(function(){return Yt})),n.d(e,"MaskedTextBoxModule",(function(){return Qt})),n.d(e,"TextBoxModule",(function(){return te})),n.d(e,"ColorPickerComponent",(function(){return ce})),n.d(e,"ColorPaletteComponent",(function(){return de})),n.d(e,"ColorGradientComponent",(function(){return fe})),n.d(e,"ColorPickerModule",(function(){return be})),n.d(e,"ActiveColorClickEvent",(function(){return ne})),n.d(e,"CheckBoxDirective",(function(){return we})),n.d(e,"RadioButtonDirective",(function(){return Ce})),n.d(e,"HintComponent",(function(){return _e})),n.d(e,"ErrorComponent",(function(){return Oe})),n.d(e,"FormFieldComponent",(function(){return Ee})),n.d(e,"FormFieldModule",(function(){return Te})),n.d(e,"LocalizedNumericTextBoxMessagesDirective",(function(){return Xt})),n.d(e,"LocalizedSliderMessagesDirective",(function(){return Wt})),n.d(e,"LocalizedSwitchMessagesDirective",(function(){return Gt}));var i=n(0),o=n(9),r=n(5),s=n(4),a=function(t,e,n){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),n<=0)throw new Error("Invalid argument: smallStep must be a positive number");return Math.floor(Math.abs(e-t)/n)},l=function(t,e,n){var i=t.max,o=t.min,r=t.reverse,s=i-o,a=e/n*s,l=i;return e/n<100/s*(s-s%t.smallStep)/100&&(l=r?i-a:a+o),p(h(t,{value:l}))},c=function(t){var e=t.max,n=t.min,i=t.smallStep,o=t.value;return d(e,n,o%i==0?o-i:o-o%i)},u=function(t){var e=t.max,n=t.min,i=t.smallStep,o=t.value;return d(e,n,o-o%i+i)},p=function(t){var e=t.smallStep,n=t.value,i=c(t),o=u(t);return n%e==0?n:o-n<=e/2?o:i},d=function(t,e,n){return n>t?t:n<e?e:n},h=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Object.assign.apply(Object,[{},t].concat(e))},f={calculateFixedTrackSize:function(t){return(t.max-t.min)/t.smallStep*t.fixedTickWidth},calculateValueFromTick:function(t,e){var n=e.max,i=e.min,o=e.smallStep,r=e.reverse,s=i+t*o;return e.vertical||r?Math.abs(s-n):s},calculateValueFromTrack:function(t,e,n){var i,o;if(n.vertical){var r=t.top,s=t.bottom;i=r-s,o=e.pageY-s}else{var a=t.left;i=t.right-a,o=e.pageX-a}return l(n,o,i)},calculateTrackSize:function(t,e,n){void 0===n&&(n=!0);return t-(n?2*parseFloat(e,10):0)},calculateTicksCount:function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),a(t,e,n)+1},calculateTickSizes:function(t,e,n,i){for(var o=Math.floor((n-e)/i)+1,r=t/(n-e),s=[],a=0,l=0,c=0;c<o;c++){l+=0===c||c===o-1?i/2*r:i*r;var u=Math.round(l-a);s.push(u),a+=u}return s},calculateHandlePosition:function(t){var e=t.handleWidth,n=t.trackWidth,i=t.min,o=t.max,r=t.reverse,s=t.value,a=Math.floor(e/2),l=n/Math.abs(o-i)*(s-i);return r&&(l=n-l),Math.floor(l-a)},decreaseValueToStep:c,identity:function(t){return t},increaseValueToStep:u,trimValue:d,snapValue:p,valueFromTrack:l},m=function(t,e,n){this.props=t,this.wrapper=e,this.track=n,this.tickSizes=this.getTickSizes()};m.prototype.getTickSizes=function(){var t=this.props,e=t.max,n=t.min,i=t.smallStep,o=this.trackWidth();return f.calculateTickSizes(o,n,e,i)},m.prototype.trackWidth=function(){return this.props.fixedTickWidth?f.calculateFixedTrackSize(this.props):f.calculateTrackSize(this.elementSize(this.wrapper),this.elementOffset(this.track),this.props.buttons)},m.prototype.resizeTrack=function(){var t=this.props.vertical?"height":"width",e=this.trackWidth();this.track.style[t]=e+"px"},m.prototype.resizeTicks=function(t,e){var n=this,i=this.props.vertical?"height":"width";Array.prototype.slice.call(e).map((function(t,e){return t.style[i]=n.tickSizes[e]+"px"})),this.props.vertical&&this.adjustPadding(t)},m.prototype.resizeWrapper=function(){var t=this.props.vertical?"height":"width",e=this.elementSize(this.wrapper),n=f.calculateTrackSize(e,this.elementOffset(this.track)),i=f.calculateFixedTrackSize(this.props);this.wrapper.parentElement.style[t]=n>i?e-(n-i)+"px":e+(i-n)+"px"},m.prototype.positionHandle=function(t){var e=this.props,n=e.max,i=e.min,o=e.reverse,r=e.vertical?"bottom":"left",s=this.trackWidth(),a=f.trimValue(n,i,this.props.value);this.handlePosition=f.calculateHandlePosition({min:i,max:n,reverse:o,value:a,trackWidth:s,handleWidth:t.offsetWidth}),t.style[r]=this.handlePosition+"px"},m.prototype.positionSelection=function(t,e){var n=this.props,i=n.reverse,o=n.vertical?"height":"width",r=Math.floor(t.offsetWidth/2),s=this.handlePosition+r;i&&(s=this.trackWidth()-s),e.style[o]=s+"px"},m.prototype.adjustPadding=function(t){var e=this.tickSizes.reduce((function(t,e){return t+e}),0),n=this.trackWidth()-e;if(0!==n){var i=n+this.elementOffset(this.track);t.style.paddingTop=i+"px"}},m.prototype.elementOffset=function(t){var e=this.props.vertical,n=getComputedStyle(t);return parseInt(e?n.bottom:n.left,10)},m.prototype.elementSize=function(t){return this.props.vertical?t.clientHeight:t.clientWidth};var g=m,v=function(t,e){void 0===t&&(t=0),this.handle={transform:"translateX("+t+"px)",transition:e}},y=function(){},b=function(t,e){var n=this;void 0===t&&(t=y),void 0===e&&(e=y),this.handlePosition=0,this.wrapperOffset=0,this.handleOffset=0,this.handleMargin=4,this.updateView=t,this.onChange=e,this.change=function(t){n.checked=t,n.updateView(n.updateModel(t?n.constrain:0)),n.onChange(t)},this.limit=function(t){return t>n.constrain?n.constrain:t<0?0:t},this.addAnimation=function(t){return!0===t.transition?t.transition="all 200ms ease-out":t.transition="none",t},this.onPress=function(t){var e=t.pageX;n.lastPressX=n.originalPressX=e},this.onRelease=function(t){var e=t.pageX,i=Math.abs(n.originalPressX-e),o=n.constrain/2,r=i<5?!n.checked:n.handlePosition>o;n.change(r)},this.onDrag=function(t){var e=t.pageX,i=n.coords,o=i.left,r=i.right;if(e>o&&e<r){var s=n.reverse?n.lastPressX-e:e-n.lastPressX,a=n.limit(n.handlePosition+s);n.lastPressX=e,n.handlePosition=a,n.updateView(n.updateModel(n.handlePosition))}e>r&&n.updateView(n.updateModel(n.reverse?0:n.constrain)),e<o&&n.updateView(n.updateModel(n.reverse?n.constrain:0))}},w={constrain:{configurable:!0}};w.constrain.get=function(){return this.wrapperOffset-this.handleOffset-this.handleMargin},b.prototype.updateState=function(t){var e=t.wrapperOffset,n=t.handleOffset,i=t.checked,o=t.animate;void 0===o&&(o=!0);var r=t.coords,s=t.handleMargin,a=t.reverse;this.wrapperOffset=e,this.handleOffset=n,this.coords=r,this.handleMargin=s,this.checked=i,this.reverse=a,this.updateView(this.updateModel(i?this.constrain:0,o))},b.prototype.updateModel=function(t,e){void 0===e&&(e=!0);var n=this.reverse?this.wrapperOffset/2-t:t;return new v(n,e)},Object.defineProperties(b.prototype,w);var k=n(2),C=n(3),S=n(1),x=function(){return"undefined"!=typeof window},O={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},I={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},_={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},E={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},T=function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)&&e[i].test(t))return i;return void 0!==n?n:t},D=x()&&window.navigator?window.navigator.userAgent:null,P=D?function(t){var e=null,n=[];for(var i in _)if(_.hasOwnProperty(i)&&(n=t.match(_[i]))){(e={})[i]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}return e}(D):null,B=D?function(t){var e,n=[];for(var i in O)if(O.hasOwnProperty(i)){if(!(n=t.match(O[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var o={};return o.device=i,o.browser=T(t,E,"default"),o.name=T(i,I),o[o.name]=!0,o.majorVersion=n[2],o.minorVersion=n[3].replace("_","."),e=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0"),o.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,o.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||o.cordova,o}return null}(D):null,A=(x()&&window,P&&!P.chrome&&window.MSPointerEvent,P&&!P.chrome&&window.PointerEvent,n(39)),M=n(10),R=n(13),j=n(16),z=function(t){return Math.min(t,20)},F=function(t){return(String(t).split(".")[1]||"").length},N=function(t,e){return Math.max(F(t),F(e))},L=function(t,e){var n=z(e);return parseFloat(t.toFixed(n))},V=function(t,e){var n=N(t,e);return L(t+e,n)},H=function(t,e){return V(t,-e)},$=function(t,e){var n=F(t)+F(e);return L(t*e,n)},W=function(t,e){if(0===e)return NaN;var n=N(t,e),i=Math.pow(10,n);return i*t/(i*e)},K=function(t,e){return Math.abs(H(t,$(e,Math.floor(W(t,e)))))};function U(t,e,n){return Math.max(Math.min(t,n),e)}function q(t,e,n){var i=e.max,o=e.min,r=e.smallStep,s=e.largeStep;void 0===n&&(n=!1);var a,l=n&&s?$(r,s):r,c=H(t,o),u=K(c,l);return a=H(c,0===u?l:u),U(V(a,o),o,i)}function G(t,e,n){var i=e.max,o=e.min,r=e.smallStep,s=e.largeStep;void 0===n&&(n=!1);var a=n&&s?$(r,s):r,l=H(t,o),c=K(l,a),u=V(H(l,c),a);return U(V(u,o),o,i)}function J(t,e,n){var i,o,r=n.min,s=n.max,a=n.vertical,l=n.rtl,c=(i=e.getBoundingClientRect(),o=document.documentElement,{left:i.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),top:i.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||0)}),u=(a?t.pageY-c.top:t.pageX-c.left)*((s-r)/(a?e.clientHeight:e.clientWidth)),p=l||a?s-u:r+u,d=F(n.smallStep);return function(t,e){var n=e.smallStep,i=e.min,o=U(t,i,e.max);if(t!==o)return o;var r=q(t,e),s=G(t,e);return(t-i)%n==0?t:s-t<=(s-r)/2?s:r}(p=L(p,d+1),n)}function Z(t){return t.className.indexOf("k-button-increase")>=0||t.className.indexOf("k-button-decrease")>=0}function X(t){return G(t.value,t)}function Y(t){return q(t.value,t)}function Q(t){return G(t.value,t,!0)}function tt(t){return q(t.value,t,!0)}function et(t,e,n){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),n<=0)throw new Error("Invalid argument: smallStep must be a positive number");var i=Math.abs(H(e,t)),o=Math.floor(W(i,n));return V(o,1)}var nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(k.__extends)(e,t),e.prototype.getTickSizes=function(){for(var t=this.props,e=t.min,n=t.max,i=t.smallStep,o=et(e,n,i),r=this.trackWidth()/H(n,e),s=[],a=0,l=0,c=0;c<o;c++){l+=0===c||c===o-1?i/2*r:i*r;var u=Math.round(l-a);s.push(u),a+=u}return s},e}(g),it=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"[kendoSliderLabelTemplate]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef,decorators:[{type:i.Optional}]}]},t}(),ot=function(t){return null!=t},rt=function(t,e){return t===e||null===t&&void 0===e||void 0===t&&null===e},st=function(t){return t&&(!t.touched||t.control&&"blur"===t.control.updateOn)},at=function(t,e,n){return!ot(t)||isNaN(t)||t<=e?e:t>=n?n:t},lt=function(t,e){return Boolean((n=t.className,String(n).trim().split(" ")).find((function(t){return t===e})));var n};function ct(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(t&&t.nativeElement)return t.nativeElement[e].apply(t.nativeElement,n)}var ut=function(){function t(t,e,n,o,s,a){var l=this;this.localizationService=t,this.injector=e,this.renderer=n,this.ngZone=o,this.changeDetector=s,this.hostElement=a,this.focusableId="k-"+Object(S.guid)(),this.animate=!0,this.showButtons=!0,this.tickPlacement="both",this.title=f.identity,this.vertical=!1,this.min=0,this.max=10,this.smallStep=1,this.largeStep=null,this.disabled=!1,this.readonly=!1,this.value=0,this.tabindex=0,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.sliderClass=!0,this.widgetClass=!0,this.stateDefaultClass=!0,this.subscriptions=new r.Subscription,this.handleFocus=function(){l.focused=!0,Object(S.hasObservers)(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleBlur=function(){l.changeDetector.markForCheck(),l.focused=!1,(Object(S.hasObservers)(l.onBlur)||st(l.control))&&l.ngZone.run((function(){l.ngTouched(),l.onBlur.emit()}))},this.onWrapClick=function(t){var e=t.target;if(!l.isDisabled&&!Z(e)&&!Z(e.parentNode)){var n=J(t,l.track.nativeElement,l.getProps());l.changeValue(n)}},this.ifEnabled=function(t,e){l.isDisabled||t.call(l,e)},this.onKeyDown=function(t){var e=l.getProps(),n=e.max,i=e.min,o=l.keyBinding[t.keyCode];if(!l.isDisabled&&o){var r=o(e);l.changeValue(f.trimValue(n,i,r)),t.preventDefault()}},this.ngChange=function(t){},this.ngTouched=function(){},this.decreaseValue=function(){l.changeValue(q(l.value,l.getProps()))},this.increaseValue=function(){l.changeValue(G(l.value,l.getProps()))},this.direction=t.rtl?"rtl":"ltr"}return Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalClass",{get:function(){return!this.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalClass",{get:function(){return this.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaDisabled",{get:function(){return!!this.disabled||void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaReadonly",{get:function(){return!!this.readonly||void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaMin",{get:function(){return this.min},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaMax",{get:function(){return this.max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaValue",{get:function(){return this.value?this.value:this.min},enumerable:!0,configurable:!0}),t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.ngOnInit=function(){var t=this;this.subscriptions.add(this.localizationService.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr",t.sizeComponent(!1)}))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(o.NgControl,null)},t.prototype.focus=function(){ct(this.wrapper,"focus")},t.prototype.blur=function(){ct(this.wrapper,"blur")},t.prototype.ngOnChanges=function(t){var e=this;Object(S.anyChanged)(["value","fixedTickWidth","tickPlacement"],t,!0)&&this.ngZone.onStable.asObservable().pipe(Object(s.take)(1)).subscribe((function(){e.sizeComponent(!1)}))},t.prototype.ngAfterViewInit=function(){var t=this;Object(S.isDocumentAvailable)()&&(this.showButtons&&(this.setValueChangeInterval(this.increaseButton.nativeElement,(function(){return t.increaseValue()})),this.setValueChangeInterval(this.decreaseButton.nativeElement,(function(){return t.decreaseValue()}))),this.sizeComponent(!1),this.ticks&&this.ticks.tickElements.changes.subscribe((function(){return t.sizeComponent(!1)})))},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},Object.defineProperty(t.prototype,"incrementMessage",{get:function(){return this.incrementTitle||this.localizationService.get("increment")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decrementMessage",{get:function(){return this.decrementTitle||this.localizationService.get("decrement")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragHandleMessage",{get:function(){return this.dragHandleTitle||this.localizationService.get("dragHandle")},enumerable:!0,configurable:!0}),t.prototype.handleDragPress=function(t){t.originalEvent&&t.originalEvent.preventDefault(),this.focus(),this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions")},t.prototype.onHandleDrag=function(t){this.dragging=!0,this.changeValue(J(t,this.track.nativeElement,this.getProps()))},t.prototype.onHandleRelease=function(){this.dragging=!1,this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")},t.prototype.writeValue=function(t){this.value=t,this.sizeComponent(this.animate)},t.prototype.registerOnChange=function(t){this.ngChange=t},t.prototype.registerOnTouched=function(t){this.ngTouched=t},t.prototype.changeValue=function(t){var e=this;rt(this.value,t)||this.ngZone.run((function(){e.value=t,e.ngChange(t),e.valueChange.emit(t),e.sizeComponent(e.animate)}))},t.prototype.sizeComponent=function(t){if(Object(S.isDocumentAvailable)()){var e=this.wrapper.nativeElement,n=this.track.nativeElement,i=this.sliderSelection.nativeElement,o=this.draghandle.nativeElement,r=this.ticks?this.ticksContainer.nativeElement:null;t||this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions"),this.resetStyles([n,i,o,r,this.hostElement.nativeElement]);var s=this.getProps(),a=new nt(s,e,n);a.resizeTrack(),this.ticks&&a.resizeTicks(this.ticksContainer.nativeElement,this.ticks.tickElements.map((function(t){return t.nativeElement}))),a.positionHandle(o),a.positionSelection(o,i),t||(this.hostElement.nativeElement.getBoundingClientRect(),this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")),this.fixedTickWidth&&a.resizeWrapper()}},Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this.disabled||this.readonly},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return!1},Object.defineProperty(t.prototype,"reverse",{get:function(){return this.localizationService.rtl&&!this.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBinding",{get:function(){var t,e=this.reverse;return(t={})[S.Keys.ArrowLeft]=e?X:Y,t[S.Keys.ArrowRight]=e?Y:X,t[S.Keys.ArrowDown]=Y,t[S.Keys.ArrowUp]=X,t[S.Keys.PageUp]=Q,t[S.Keys.PageDown]=tt,t[S.Keys.Home]=function(t){return t.min},t[S.Keys.End]=function(t){return t.max},t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{set:function(t){if(this.isFocused!==t&&this.hostElement){var e=this.hostElement.nativeElement;t?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused"),this.isFocused=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{set:function(t){if(this.isDragged!==t&&this.sliderSelection&&this.draghandle){var e=this.sliderSelection.nativeElement,n=this.draghandle.nativeElement;t?(this.renderer.addClass(e,"k-pressed"),this.renderer.addClass(n,"k-pressed")):(this.renderer.removeClass(e,"k-pressed"),this.renderer.removeClass(n,"k-pressed")),this.isDragged=t}},enumerable:!0,configurable:!0}),t.prototype.setValueChangeInterval=function(t,e){var n=this;this.ngZone.runOutsideAngular((function(){var i=Object(r.fromEvent)(t,"mousedown"),o=Object(r.fromEvent)(t,"mouseup"),a=Object(r.fromEvent)(t,"mouseout"),l=i.pipe(Object(s.filter)((function(t){return 0===t.button&&!n.isDisabled})),Object(s.concatMap)((function(){return Object(r.interval)(150).pipe(Object(s.startWith)(-1),Object(s.takeUntil)(Object(r.merge)(o,a)))}))).subscribe((function(){n.focus(),e()}));n.subscriptions.add(l)}))},t.prototype.getProps=function(){return{buttons:this.showButtons,disabled:this.disabled,fixedTickWidth:this.fixedTickWidth,largeStep:this.largeStep,max:this.max,min:this.min,readonly:this.readonly,reverse:this.reverse,rtl:this.localizationService.rtl,smallStep:this.smallStep,value:f.trimValue(this.max,this.min,this.value),vertical:this.vertical}},t.prototype.resetStyles=function(t){var e=this;t.forEach((function(t){t&&(e.vertical?(t.style.removeProperty("width"),t.style.removeProperty("left")):(t.style.removeProperty("height"),t.style.removeProperty("bottom")),t.style.removeProperty("padding-top"))}))},t.decorators=[{type:i.Component,args:[{exportAs:"kendoSlider",providers:[C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.slider"},{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-slider",template:'\n        <ng-container kendoSliderLocalizedMessages\n            i18n-increment="kendo.slider.increment|The title of the **Increase** button of the Slider."\n            increment="increment"\n            i18n-decrement="kendo.slider.decrement|The title of the **Decrease** button of the Slider."\n            decrement="decrement"\n            i18n-dragHandle="kendo.slider.dragHandle|The title of the drag handle of the Slider."\n            dragHandle="Drag"\n        >\n\n        <div class="k-slider-wrap" #wrap\n            [id]="focusableId"\n            [class.k-slider-buttons]="showButtons"\n            [class.k-slider-topleft]="tickPlacement === \'before\'"\n            [class.k-slider-bottomright]="tickPlacement === \'after\'"\n            [attr.tabindex]="(this.disabled ? undefined : tabIndex)"\n            [kendoEventsOutsideAngular]="{ focus: handleFocus, blur: handleBlur, click: onWrapClick, keydown: onKeyDown }"\n            >\n            <a\n                #decreaseButton\n                *ngIf="showButtons"\n                class="k-button k-button-decrease"\n                [title]="decrementMessage"\n                [attr.aria-label]="decrementMessage"\n            >\n                <span class="k-icon"\n                    [class.k-i-arrow-w]="!vertical"\n                    [class.k-i-arrow-s]="vertical"\n                >\n                </span>\n            </a>\n            <a\n                *ngIf="showButtons"\n                #increaseButton\n                class="k-button k-button-increase"\n                [title]="incrementMessage"\n                [attr.aria-label]="incrementMessage"\n            >\n                <span class="k-icon"\n                    [class.k-i-arrow-e]="!vertical"\n                    [class.k-i-arrow-n]="vertical"\n                >\n                </span>\n            </a>\n            <ul kendoSliderTicks\n                #ticks\n                *ngIf="tickPlacement !== \'none\'"\n                [tickTitle]="title"\n                [vertical]="vertical"\n                [step]="smallStep"\n                [largeStep]="largeStep"\n                [min]="min"\n                [max]="max"\n                [labelTemplate]="labelTemplate?.templateRef"\n            >\n            </ul>\n        <div #track class="k-slider-track">\n            <div #sliderSelection class="k-slider-selection">\n            </div>\n                <a #draghandle\n                    [style.touch-action]="isDisabled ? \'\' : \'none\'"\n                    class="k-draghandle"\n                    [title]="dragHandleMessage"\n                    kendoDraggable\n                    (kendoPress)="ifEnabled(handleDragPress ,$event)"\n                    (kendoDrag)="ifEnabled(onHandleDrag ,$event)"\n                    (kendoRelease)="ifEnabled(onHandleRelease, $event)"\n                ></a>\n            </div>\n\n            <kendo-resize-sensor (resize)="sizeComponent(false)"></kendo-resize-sensor>\n        </div>\n  '}]}],t.ctorParameters=function(){return[{type:C.LocalizationService},{type:i.Injector},{type:i.Renderer2},{type:i.NgZone},{type:i.ChangeDetectorRef},{type:i.ElementRef}]},t.propDecorators={focusableId:[{type:i.Input}],incrementTitle:[{type:i.Input}],animate:[{type:i.Input}],decrementTitle:[{type:i.Input}],showButtons:[{type:i.Input}],tickPlacement:[{type:i.Input}],title:[{type:i.Input}],dragHandleTitle:[{type:i.Input}],vertical:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],smallStep:[{type:i.Input}],largeStep:[{type:i.Input}],fixedTickWidth:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],value:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],valueChange:[{type:i.Output}],wrapper:[{type:i.ViewChild,args:["wrap",{static:!0}]}],track:[{type:i.ViewChild,args:["track",{static:!0}]}],draghandle:[{type:i.ViewChild,args:["draghandle",{static:!0}]}],sliderSelection:[{type:i.ViewChild,args:["sliderSelection",{static:!0}]}],ticksContainer:[{type:i.ViewChild,args:["ticks",{read:i.ElementRef}]}],ticks:[{type:i.ViewChild,args:["ticks"]}],decreaseButton:[{type:i.ViewChild,args:["decreaseButton"]}],increaseButton:[{type:i.ViewChild,args:["increaseButton"]}],labelTemplate:[{type:i.ContentChild,args:[it]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],horizontalClass:[{type:i.HostBinding,args:["class.k-slider-horizontal"]}],verticalClass:[{type:i.HostBinding,args:["class.k-slider-vertical"]}],sliderClass:[{type:i.HostBinding,args:["class.k-slider"]}],widgetClass:[{type:i.HostBinding,args:["class.k-widget"]}],stateDefaultClass:[{type:i.HostBinding,args:["class.k-state-default"]}],disabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}],ariaDisabled:[{type:i.HostBinding,args:["attr.aria-disabled"]}],ariaReadonly:[{type:i.HostBinding,args:["attr.aria-readonly"]}],ariaMin:[{type:i.HostBinding,args:["attr.aria-valuemin"]}],ariaMax:[{type:i.HostBinding,args:["attr.aria-valuemax"]}],ariaValue:[{type:i.HostBinding,args:["attr.aria-valuenow"]}]},t}(),pt=function(){function t(t,e,n,o,r,s){var a=this;this.renderer=t,this.hostElement=e,this.localizationService=n,this.injector=o,this.changeDetector=r,this.ngZone=s,this.focusableId="k-"+Object(S.guid)(),this.checked=!1,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.ngChange=function(t){},this.ngTouched=function(){},this.handleFocus=function(){a.focused=!0,Object(S.hasObservers)(a.onFocus)&&a.ngZone.run((function(){a.onFocus.emit()}))},this.handleBlur=function(){a.changeDetector.markForCheck(),a.focused=!1,(Object(S.hasObservers)(a.onBlur)||st(a.control))&&a.ngZone.run((function(){a.ngTouched(),a.onBlur.emit()}))},this.direction=n.rtl?"rtl":"ltr",this.keyDownHandler=this.keyDownHandler.bind(this),this.clickHandler=this.clickHandler.bind(this)}return Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ieClass",{get:function(){return P&&P.msie},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaDisabled",{get:function(){return!!this.disabled||void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaReadonly",{get:function(){return this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostClasses",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchOnClass",{get:function(){return this.checked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchOffClass",{get:function(){return!this.checked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLabelMessage",{get:function(){return this.onLabel||this.localizationService.get("on")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offLabelMessage",{get:function(){return this.offLabel||this.localizationService.get("off")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return!this.disabled&&!this.readonly},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;if(this.hostElement){var e=this.hostElement.nativeElement;this.renderer.removeAttribute(e,"tabindex")}this.localizationChangeSubscription=this.localizationService.changes.pipe(Object(s.skip)(1)).subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr"})),this.control=this.injector.get(o.NgControl,null)},t.prototype.ngOnDestroy=function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},t.prototype.focus=function(){this.wrapper&&this.wrapper.nativeElement.focus()},t.prototype.blur=function(){this.wrapper&&this.wrapper.nativeElement.blur()},t.prototype.setDisabledState=function(t){this.disabled=t,this.changeDetector.markForCheck()},t.prototype.writeValue=function(t){this.checked=null!==t&&t,this.changeDetector.markForCheck()},t.prototype.registerOnChange=function(t){this.ngChange=t},t.prototype.registerOnTouched=function(t){this.ngTouched=t},t.prototype.keyDownHandler=function(t){var e=t.keyCode;!this.isEnabled||e!==S.Keys.Space&&e!==S.Keys.Enter||(this.changeValue(!this.checked),t.preventDefault())},t.prototype.clickHandler=function(){this.isEnabled&&this.changeValue(!this.checked)},t.prototype.isEmpty=function(){return!1},t.prototype.changeValue=function(t){var e=this;this.checked!==t&&this.ngZone.run((function(){e.checked=t,e.ngChange(t),e.valueChange.emit(t),e.changeDetector.markForCheck()}))},Object.defineProperty(t.prototype,"focused",{set:function(t){if(this.isFocused!==t&&this.hostElement){var e=this.hostElement.nativeElement;t?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused"),this.isFocused=t}},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Component,args:[{exportAs:"kendoSwitch",providers:[C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.switch"},{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-switch",template:'\n        <ng-container kendoSwitchLocalizedMessages\n            i18n-on="kendo.switch.on|The **On** label of the Switch."\n            on="ON"\n            i18n-off="kendo.switch.off|The **Off** label of the Switch."\n            off="OFF"\n        >\n\n        <span\n            #wrapper\n            class="k-switch-container"\n            [id]="focusableId"\n            role="switch"\n            [attr.aria-checked]="checked"\n            [attr.tabindex]="(disabled ? undefined : tabIndex)"\n            [kendoEventsOutsideAngular]="{ click: clickHandler, keydown: keyDownHandler, focus: handleFocus, blur: handleBlur }"\n        >\n            <span class="k-switch-label-on" [attr.aria-hidden]="true" >{{onLabelMessage}}</span>\n            <span class="k-switch-label-off" [attr.aria-hidden]="true">{{offLabelMessage}}</span>\n            <span class="k-switch-handle"></span>\n        </span>\n  '}]}],t.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:C.LocalizationService},{type:i.Injector},{type:i.ChangeDetectorRef},{type:i.NgZone}]},t.propDecorators={focusableId:[{type:i.Input}],onLabel:[{type:i.Input}],offLabel:[{type:i.Input}],checked:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],valueChange:[{type:i.Output}],wrapper:[{type:i.ViewChild,args:["wrapper"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],ieClass:[{type:i.HostBinding,args:["class.k-ie"]}],ariaDisabled:[{type:i.HostBinding,args:["attr.aria-disabled"]}],ariaReadonly:[{type:i.HostBinding,args:["attr.aria-readonly"]}],hostClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-switch"]}],switchOnClass:[{type:i.HostBinding,args:["class.k-switch-on"]}],switchOffClass:[{type:i.HostBinding,args:["class.k-switch-off"]}],disabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}]},t}(),dt=function(){function t(t,e,n,o,r,s){this.renderer=t,this.element=e,this.zone=n,this.changeDetector=o,this.injector=r,this.elementClass=!0,this.autofillClass=!0,this.valueChange=new i.EventEmitter,this.autoSize=!1,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.onValueChange=new i.EventEmitter,this.autoFillStart=new i.EventEmitter,this.autoFillEnd=new i.EventEmitter,this.listeners=[],this.ngChange=function(t){},this.ngTouched=function(){},this.direction=s?"rtl":"ltr"}return Object.defineProperty(t.prototype,"id",{get:function(){return this.element.nativeElement.id},set:function(t){this.renderer.setAttribute(this.element.nativeElement,"id",t)},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.elementValue=t,this.resize()},t.prototype.registerOnChange=function(t){this.ngChange=t},t.prototype.registerOnTouched=function(t){this.ngTouched=t},t.prototype.setDisabledState=function(t){this.setElementProperty("disabled",t)},t.prototype.ngOnInit=function(){var t=this,e=this.element.nativeElement;this.zone.runOutsideAngular((function(){t.listeners=[t.renderer.listen(e,"focus",t.handleFocus.bind(t)),t.renderer.listen(e,"blur",t.handleBlur.bind(t)),t.renderer.listen(e,"animationstart",(function(e){"autoFillStart"===e.animationName?t.autoFillStart.emit():"autoFillEnd"===e.animationName&&t.autoFillEnd.emit()}))],Object(S.isDocumentAvailable)()&&t.autoSize&&(t.resizeSubscription=Object(r.fromEvent)(window,"resize").pipe(Object(s.debounceTime)(50)).subscribe((function(){return t.resize()}))),t.inputSubscription=Object(r.fromEvent)(e,"input").subscribe(t.handleInput.bind(t))})),this.control=this.injector.get(o.NgControl,null)},t.prototype.ngOnChanges=function(t){var e=this.element.nativeElement;t.value&&(this.elementValue=this.value),t.autoSize&&(this.autoSize?(this.initialHeight=e.offsetHeight,this.renderer.setStyle(e,"resize","none")):(this.renderer.setStyle(e,"overflow-y","auto"),this.renderer.setStyle(e,"resize","both"),e.style.height=this.initialHeight+"px")),this.resize()},t.prototype.ngOnDestroy=function(){this.listeners.forEach((function(t){return t()})),this.inputSubscription&&this.inputSubscription.unsubscribe(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()},Object.defineProperty(t.prototype,"elementValue",{get:function(){return this.element?this.element.nativeElement.value:""},set:function(t){this.setElementProperty("value",null==t?"":t)},enumerable:!0,configurable:!0}),t.prototype.setElementProperty=function(t,e){this.element&&this.renderer.setProperty(this.element.nativeElement,t,e)},t.prototype.resize=function(){if(this.autoSize){var t=this.element.nativeElement;this.renderer.setStyle(t,"overflow-y","hidden"),t.style.height=this.initialHeight+"px";var e=t.scrollHeight;e>this.initialHeight&&(t.style.height=e+"px")}},t.prototype.handleInput=function(){var t=this,e=this.elementValue;this.value=e,(this.control||Object(S.hasObservers)(this.onValueChange)||Object(S.hasObservers)(this.valueChange))&&this.zone.run((function(){t.ngChange(e),t.onValueChange.emit(e),t.valueChange.emit(e),t.changeDetector.markForCheck()})),this.resize()},t.prototype.handleFocus=function(){var t=this;Object(S.hasObservers)(this.onFocus)&&this.zone.run((function(){t.onFocus.emit()}))},t.prototype.handleBlur=function(){var t=this;(Object(S.hasObservers)(this.onBlur)||st(this.control))&&this.zone.run((function(){t.ngTouched(),t.onBlur.emit(),t.changeDetector.markForCheck()}))},t.decorators=[{type:i.Directive,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t})),multi:!0},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"textarea[kendoTextArea]"}]}],t.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:i.NgZone},{type:i.ChangeDetectorRef},{type:i.Injector},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[C.RTL]}]}]},t.propDecorators={elementClass:[{type:i.HostBinding,args:["class.k-textarea"]}],autofillClass:[{type:i.HostBinding,args:["class.k-autofill"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],valueChange:[{type:i.Output}],autoSize:[{type:i.Input}],value:[{type:i.Input}]},t}(),ht=function(){function t(t,e){this.component=t;var n=function(t){return t instanceof r.Observable||t instanceof i.EventEmitter};n(t.onFocus)&&(this.onFocus=t.onFocus),n(t.autoFillStart)&&(this.autoFillStart=t.autoFillStart),n(t.autoFillEnd)&&(this.autoFillEnd=t.autoFillEnd),n(t.onBlur)&&(this.onBlur=t.onBlur),e?this.onValueChange=e.valueChanges:t.onValueChange&&(this.onValueChange=t.onValueChange)}return Object.defineProperty(t.prototype,"focusableId",{get:function(){var t=this.component;return"focusableId"in t?t.focusableId:"id"in t?t.id:""},set:function(t){var e=this.component;"focusableId"in e?e.focusableId=t:"id"in e&&(e.id=t)},enumerable:!0,configurable:!0}),t}(),ft=function(t){return"[object Function]"===Object.prototype.toString.call(t)},mt=function(){function t(t,e,n,i){this.elementRef=t,this.renderer=e,this.changeDetectorRef=n,this.focused=!1,this.empty=!0,this.invalid=!1,this._subscriptions=[],this.autoFillStarted=!1,this.direction=i?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}return Object.defineProperty(t.prototype,"hostClasses",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textareaElementClass",{get:function(){return!!this.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusedClass",{get:function(){return this.focused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidClass",{get:function(){return this.invalid},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;if(this.formControl||this.kendoInput){var e=new ht(this.kendoInput||this.formControl.valueAccessor,this.formControl),n=function(e){return function(){t.focused=e,t.updateState()}};this.subscribe(e,"onFocus",n(!0)),this.subscribe(e,"onBlur",n(!1)),this.subscribe(e,"autoFillStart",(function(){t.autoFillStarted=!0,t.renderer.removeClass(t.elementRef.nativeElement,"k-state-empty")})),this.subscribe(e,"autoFillEnd",(function(){t.autoFillStarted&&(t.autoFillStarted=!1,t.empty&&t.renderer.addClass(t.elementRef.nativeElement,"k-state-empty"))}));var o=function(){return t.updateState()};if(o(),this.subscribe(e,"onValueChange",o),this.id&&e.focusableId)this.id=e.focusableId;else if(this.id)e.focusableId=this.id;else if(e.focusableId)this.id=e.focusableId;else{var r="_"+Object(S.guid)();e.focusableId=r,this.id=r}}else if(Object(i.isDevMode)())throw new Error("The TextBoxContainer requires a Kendo Input component or a forms-bound component to function properly.")},t.prototype.ngOnDestroy=function(){this._subscriptions.forEach((function(t){return t.unsubscribe()})),this._subscriptions=[]},t.prototype.subscribe=function(t,e,n){if(t[e]instanceof i.EventEmitter){var o=t[e].subscribe(n);this._subscriptions.push(o)}},t.prototype.updateState=function(){var t=function(t){return 0!==t&&!1!==t&&(!(!Array.isArray(t)||t.length)||!t)},e=this.formControl;if(e){var n=e.valueAccessor;ft(n.isEmpty)?this.empty=n.isEmpty():this.empty=t(e.value),this.invalid=e.invalid&&(e.touched||e.dirty)}else this.empty=ft(this.kendoInput.isEmpty)?this.kendoInput.isEmpty():t(this.kendoInput.value);this.empty?this.renderer.addClass(this.elementRef.nativeElement,"k-state-empty"):this.renderer.removeClass(this.elementRef.nativeElement,"k-state-empty"),this.changeDetectorRef.markForCheck()},t.decorators=[{type:i.Component,args:[{selector:"kendo-textbox-container",template:'\n        <ng-content></ng-content>\n        <label *ngIf="floatingLabel" [for]="id" class="k-label">{{ floatingLabel }}</label>\n    '}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.ChangeDetectorRef},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[C.RTL]}]}]},t.propDecorators={hostClasses:[{type:i.HostBinding,args:["class.k-textbox-container"]}],textareaElementClass:[{type:i.HostBinding,args:["class.k-textarea-wrapper"]}],focusedClass:[{type:i.HostBinding,args:["class.k-state-focused"]}],invalidClass:[{type:i.HostBinding,args:["class.k-state-invalid"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],id:[{type:i.Input}],floatingLabel:[{type:i.Input}],kendoInput:[{type:i.ContentChild,args:[S.KendoInput]}],textarea:[{type:i.ContentChild,args:[dt]}],formControl:[{type:i.ContentChild,args:[o.NgControl]}]},t}(),gt=function(){function t(t,e,n){this.renderer=t,this.inputElement=e,this.ngZone=n,this.hostClass=!0,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.onValueChange=new i.EventEmitter,this.autoFillStart=new i.EventEmitter,this.autoFillEnd=new i.EventEmitter,this.listeners=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this.inputElement.nativeElement.value},set:function(t){this.inputElement&&(this.inputElement.nativeElement.value=null==t?"":t,this.onValueChange.emit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.inputElement.nativeElement.id},set:function(t){this.renderer.setAttribute(this.inputElement.nativeElement,"id",t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this,e=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(e,"focus",(function(){return t.onFocus.emit()})),this.renderer.listen(e,"blur",(function(){return t.onBlur.emit()}))],this.ngZone.runOutsideAngular((function(){t.renderer.listen(e,"animationstart",(function(e){"autoFillStart"===e.animationName?t.autoFillStart.emit():"autoFillEnd"===e.animationName&&t.autoFillEnd.emit()}))}))},t.prototype.ngOnDestroy=function(){this.listeners.forEach((function(t){return t()}))},t.decorators=[{type:i.Directive,args:[{selector:"input[kendoTextBox]",providers:[{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}]}]}],t.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:i.NgZone}]},t.propDecorators={hostClass:[{type:i.HostBinding,args:["class.k-textbox"]}],value:[{type:i.Input}]},t}(),vt=/[eE][\-+]?([0-9]+)/,yt=function(t){return t>=0?Math.floor(t):Math.ceil(t)},bt=function(t){},wt=function(t){return!isNaN(t)&&null!==t};function kt(t,e){var n=e-String(t).length,i=t;if(n>0){var o=new Array(n+1).join("0");i=parseFloat(t+o)}return i}var Ct;!function(t){t[t.Down=-1]="Down",t[t.None=0]="None",t[t.Up=1]="Up"}(Ct||(Ct={}));var St,xt=["min","max","step","decimals"],Ot={decimals:null,max:null,min:null,step:1},It=function(){function t(t,e,n,o,r,s,a){var l=this;this.intl=t,this.renderer=e,this.localizationService=n,this.injector=o,this.ngZone=r,this.changeDetector=s,this.hostElement=a,this.focusableId="k-"+Object(S.guid)(),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.ArrowDirection=Ct,this.arrowDirection=Ct.None,this.inputValue="",this.minValidateFn=bt,this.maxValidateFn=bt,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=bt,this.ngTouched=bt,this.ngValidatorChange=bt,this.increasePress=function(t){l.arrowPress(Ct.Up,t)},this.decreasePress=function(t){l.arrowPress(Ct.Down,t)},this.releaseArrow=function(){clearTimeout(l.spinTimeout),l.arrowDirection!==Ct.None&&(l.arrowDirection=Ct.None,l.changeDetector.detectChanges())},this.handlePaste=function(){l.isPasted=!0},this.handleInput=function(){var t=l.numericInput.nativeElement,e=t.selectionStart,n=t.selectionEnd,i=t.value;if(l.pressedKey===S.Keys.NumpadDecimal&&(i=l.replaceNumpadDotValue()),l.isPasted&&(i=l.formatInputValue(l.intl.parseNumber(i))),!l.isValid(i))return t.value=l.inputValue,void l.setSelection(e-1,n-1);var o=l.intl.parseNumber(i),r=l.restrictDecimals(o);if(l.autoCorrect){var s=l.limitInputValue(r);r=s.value,e=s.selectionStart,n=s.selectionEnd}o!==r||l.hasTrailingZeros(i)||!l.focused?(l.setInputValue(r),l.setSelection(e,n)):l.inputValue=i,l.isPasted&&(t.value=l.inputValue),l.updateValue(r),l.previousSelection=null,l.isPasted=!1},this.handleDragEnter=function(){l.focused||l.isDisabled||l.setInputValue(l.value,!0)},this.handleMouseDown=function(){l.mouseDown=!0},this.handleFocus=function(){if(!l.focused&&(l.focused=!0,!l.isDisabled)){var t=l.selectOnFocus||!l.mouseDown;l.ngZone.runOutsideAngular((function(){setTimeout((function(){t?l.selectAll():l.selectCaret()}),0)}))}l.mouseDown=!1,Object(S.hasObservers)(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleBlur=function(){l.changeDetector.markForCheck(),l.focused=!1,l.inputValue!==l.elementValue&&l.handleInput(),l.setInputValue(),(Object(S.hasObservers)(l.onBlur)||st(l.control))&&l.ngZone.run((function(){l.ngTouched(),l.onBlur.emit()}))},this.handleKeyDown=function(t){if(!l.isDisabled){var e;t.keyCode===S.Keys.ArrowDown?e=-1:t.keyCode===S.Keys.ArrowUp&&(e=1),e&&l.step&&(t.preventDefault(),l.addStep(e));var n=l.numericInput.nativeElement;l.previousSelection={end:n.selectionEnd,start:n.selectionStart},l.pressedKey=t.keyCode}},this.handleWheel=function(t){if(l.focused&&!l.isDisabled){t.preventDefault();var e=function(t){var e=0;return t.wheelDelta?e=(e=t.wheelDelta/120)>0?Math.ceil(e):Math.floor(e):t.detail&&(e=Math.round(-t.detail/3)),e}(t);l.addStep(e)}},this.direction=n.rtl?"rtl":"ltr"}return Object.defineProperty(t.prototype,"format",{get:function(){var t=this._format;return null!=t?t:"n2"},set:function(t){this._format=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetClasses",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.subscriptions=this.localizationService.changes.subscribe((function(e){var n=e.rtl;t.direction=n?"rtl":"ltr"})),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(o.NgControl,null)},t.prototype.ngOnChanges=function(t){var e,n;Object(S.anyChanged)(xt,t,!1)&&this.parseOptions(xt.filter((function(e){return t[e]}))),this.verifySettings(),Object(S.anyChanged)(["min","max","rangeValidation"],t,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,function(t){var e={minError:{minValue:n,value:t.value}};return null!==t.value&&t.value<n?e:null}):bt,this.maxValidateFn=this.rangeValidation?(e=this.max,function(t){var n={maxError:{maxValue:e,value:t.value}};return null!==t.value&&t.value>e?n:null}):bt,this.ngValidatorChange()),Object(S.anyChanged)(["autoCorrect","decimals","min"],t)&&delete this.numericRegex,Object(S.anyChanged)(["value","format"],t,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())},t.prototype.ngOnDestroy=function(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)},t.prototype.validate=function(t){return this.minValidateFn(t)||this.maxValidateFn(t)},t.prototype.registerOnValidatorChange=function(t){this.ngValidatorChange=t},t.prototype.writeValue=function(t){this.verifyValue(t);var e=this.restrictModelValue(t);this.value=e,this.setInputValue()},t.prototype.registerOnChange=function(t){this.ngChange=t},t.prototype.registerOnTouched=function(t){this.ngTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.focus=function(){ct(this.numericInput,"focus")},t.prototype.blur=function(){ct(this.numericInput,"blur")},t.prototype.notifyValueChange=function(){this.setInputValue()},Object.defineProperty(t.prototype,"incrementTitle",{get:function(){return this.localizationService.get("increment")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decrementTitle",{get:function(){return this.localizationService.get("decrement")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decimalSeparator",{get:function(){return this.intl.numberSymbols().decimal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementValue",{get:function(){return this.numericInput.nativeElement.value},set:function(t){this.renderer.setProperty(this.numericInput.nativeElement,"value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{get:function(){return this.isFocused},set:function(t){if(this.isFocused!==t&&this.numericWrap){var e=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;t?(this.renderer.addClass(e,"k-state-focused"),this.isDisabled||this.renderer.removeClass(n,"k-formatted-value")):(this.renderer.removeClass(e,"k-state-focused"),this.renderer.addClass(n,"k-formatted-value")),this.isFocused=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDecimals",{get:function(){return null!==this.decimals&&this.decimals>=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this.disabled||this.readonly},enumerable:!0,configurable:!0}),t.prototype.arrowPress=function(t,e){e.preventDefault(),this.isDisabled||(B||(this.focused=!0,this.focus()),this.arrowDirection!==t&&(this.arrowDirection=t,this.changeDetector.detectChanges()),this.step?this.spin(t,500):this.setInputValue())},t.prototype.updateValue=function(t){var e=this;rt(this.value,t)||this.ngZone.run((function(){e.value=t,e.ngChange(t),e.valueChange.emit(t),e.changeDetector.markForCheck()}))},t.prototype.replaceNumpadDotValue=function(){var t=this.inputValue||"";if(this.previousSelection){var e=this.numericInput.nativeElement,n=e.selectionStart,i=e.selectionEnd,o=this.previousSelection,r=o.start,s=o.end;e.value=t=t.substring(0,r)+this.decimalSeparator+t.substring(s),this.setSelection(n,i)}return t},t.prototype.isValid=function(t){var e,n,i,o,r,s;return this.numericRegex||(this.numericRegex=(e={autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator},i=e.autoCorrect,o=e.decimals,r=e.min,"."===(s=e.separator)&&(s="\\"+s),n=0===o?"\\d*":"(?:(?:\\d+("+s+"\\d*)?)|(?:"+s+"\\d*))?",new RegExp("^"+(i&&null!==r&&r>=0?"":"-?")+n+"$"))),this.numericRegex.test(t)},t.prototype.spin=function(t,e){var n=this;clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout((function(){n.spin(t,50)}),e),this.addStep(t)},t.prototype.addStep=function(t){var e=V(this.value||0,this.step*t);e=this.limitValue(e),e=this.restrictDecimals(e),this.setInputValue(e),this.updateValue(e)},t.prototype.setSelection=function(t,e){this.focused&&ct(this.numericInput,"setSelectionRange",t,e)},t.prototype.limitValue=function(t){var e=t;return this.isInRange(t)||(wt(this.max)&&t>this.max&&(e=this.max),wt(this.min)&&t<this.min&&(e=this.min)),e},t.prototype.limitInputValue=function(t){var e=this.numericInput.nativeElement,n=e.selectionStart,i=e.selectionEnd,o=e.value,r=t,s=!1;if(!this.isInRange(t)){var a=o.length-String(this.inputValue).length,l=this.min,c=this.max,u=wt(c),p=wt(l),d=void 0,h=void 0,f=t;if(0===n&&this.inputValue.substr(1)===o)return{selectionEnd:i,selectionStart:n,value:null};if(u&&t>c?t>0?h=!0:d=c:p&&t<l&&(t>0?d=l:h=!0),d){var m=this.tryPadValue(t,d);m&&yt(t)!==yt(d)&&(f=m,s=!0)}else h&&this.inputValue&&n!==o.length&&(f=parseFloat(o.substr(0,n)+o.substr(n+a)));r=this.limitValue(f),s=(s||r!==f)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+a>0}return{selectionEnd:s?String(r).length:i,selectionStart:n,value:r}},t.prototype.tryPadValue=function(t,e){var n,i=String(Math.floor(e)).length,o=kt(t,i),r=kt(t,i+1);return this.isInRange(o)?n=o:this.isInRange(r)&&(n=r),n},t.prototype.isInRange=function(t){return!wt(t)||(!wt(this.min)||this.min<=t)&&(!wt(this.max)||t<=this.max)},t.prototype.restrictModelValue=function(t){var e=this.restrictDecimals(t,!0);return this.autoCorrect&&this.limitValue(e)!==e&&(e=null),e},t.prototype.restrictDecimals=function(t,e){var n=t;if(t&&this.hasDecimals){var i=this.decimals,o=String(t);if(e||vt.test(o))n=L(t,i);else{var r=o.split("."),s=r[1];s&&s.length>i&&(s=s.substr(0,i),n=parseFloat(r[0]+"."+s))}}return n},t.prototype.formatInputValue=function(t){var e=String(t),n=vt.exec(e);return n&&(e=t.toFixed(z(parseInt(n[1],10)))),e.replace(".",this.decimalSeparator)},t.prototype.formatValue=function(t,e){return null!==t&&function(t){return void 0!==t}(t)&&""!==t?e&&!this.readonly?this.formatInputValue(t):this.intl.formatNumber(t,this.format):""},t.prototype.setInputValue=function(t,e){void 0===t&&(t=this.value),void 0===e&&(e=this.focused);var n=this.formatValue(t,e);this.elementValue=n,this.inputValue=n},t.prototype.verifySettings=function(){if(Object(i.isDevMode)()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")},t.prototype.verifyValue=function(t){if(Object(i.isDevMode)()&&t&&"number"!=typeof t)throw new Error("The NumericTextBox component requires value of type Number and "+JSON.stringify(t)+" was set.")},t.prototype.parseOptions=function(t){for(var e=0;e<t.length;e++){var n=t[e],o=this[n];if("string"==typeof o){var r=parseFloat(o),s=!isNaN(r);if(Object(i.isDevMode)()&&!s&&""!==o)throw new Error("The NumericTextBox component requires value of type Number or a String representing a number for the "+n+" property and "+JSON.stringify(o)+" was set.");this[n]=s?r:Ot[n]}}},t.prototype.intlChange=function(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()},t.prototype.hasTrailingZeros=function(t){if(this.hasDecimals&&this.focused){var e=t.split(this.decimalSeparator)[1];return e&&e.length>this.decimals&&e.lastIndexOf("0")===e.length-1}},t.prototype.selectAll=function(){this.setInputValue(),this.setSelection(0,this.inputValue.length)},t.prototype.selectCaret=function(){var t,e,n,i=this.numericInput.nativeElement.selectionStart,o=this.elementValue,r=o.substring(0,i);if(this.setInputValue(),r.length){var s=(t=r,e=this.decimalSeparator,n=e+"0123456789-",t.split("").reduce((function(t,e){return n.includes(e)?++t:t}),0)),a=this.adjustSignificantChars(o,s);this.setSelection(a,a)}else this.setSelection(0,0)},t.prototype.numberOfLeadingZeroes=function(t){var e=t.indexOf(this.decimalSeparator),n=t.match(/^[^1-9]*?(0+)/);if(n){var i=n[0].length,o=n[1].length;return i===e?o-1:o}return 0},t.prototype.adjustSignificantChars=function(t,e){var n=this.numberOfLeadingZeroes(t);return n>0?Math.max(0,e-n):e},t.decorators=[{type:i.Component,args:[{exportAs:"kendoNumericTextBox",providers:[C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.numerictextbox"},{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t})),multi:!0},{provide:o.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return t})),multi:!0},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-numerictextbox",template:'\n        <ng-container kendoNumericTextBoxLocalizedMessages\n            i18n-increment="kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox"\n            increment="Increase value"\n            i18n-decrement="kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox"\n            decrement="Decrease value"\n        >\n        </ng-container>\n        <span\n            class="k-numeric-wrap"\n            [class.k-state-disabled]="disabled"\n            [kendoEventsOutsideAngular]="{ mousewheel: handleWheel, DOMMouseScroll: handleWheel }"\n            #numericWrap>\n            <input\n            role="spinbutton"\n            class="k-input k-formatted-value"\n            autocomplete="off"\n            autocorrect="off"\n            [id]="focusableId"\n            [attr.aria-valuemin]="min"\n            [attr.aria-valuemax]="max"\n            [attr.aria-valuenow]="value"\n            [attr.title]="title"\n            [attr.placeholder]="placeholder"\n            [tabindex]="tabIndex"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            [kendoEventsOutsideAngular]="{\n                mousedown: handleMouseDown,\n                dragenter: handleDragEnter,\n                keydown: handleKeyDown,\n                input: handleInput,\n                focus: handleFocus,\n                blur: handleBlur,\n                paste: handlePaste\n            }"\n            #numericInput />\n            <span class="k-select" *ngIf="spinners" [kendoEventsOutsideAngular]="{ mouseup: releaseArrow, mouseleave: releaseArrow }">\n                <span\n                    [kendoEventsOutsideAngular]="{ mousedown: increasePress }"\n                    [attr.aria-label]="incrementTitle"\n                    [title]="incrementTitle"\n                    [class.k-state-active]="arrowDirection === ArrowDirection.Up"\n                    class="k-link k-link-increase"\n                >\n                    <span class="k-icon k-i-arrow-n"></span>\n                </span>\n                <span\n                    [kendoEventsOutsideAngular]="{ mousedown: decreasePress }"\n                    [attr.aria-label]="decrementTitle"\n                    [title]="decrementTitle"\n                    [class.k-state-active]="arrowDirection === ArrowDirection.Down"\n                    class="k-link k-link-decrease"\n                >\n                    <span class="k-icon k-i-arrow-s"></span>\n                </span>\n            </span>\n        </span>\n      '}]}],t.ctorParameters=function(){return[{type:A.IntlService},{type:i.Renderer2},{type:C.LocalizationService},{type:i.Injector},{type:i.NgZone},{type:i.ChangeDetectorRef},{type:i.ElementRef}]},t.propDecorators={focusableId:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],title:[{type:i.Input}],autoCorrect:[{type:i.Input}],format:[{type:i.Input}],max:[{type:i.Input}],min:[{type:i.Input}],decimals:[{type:i.Input}],placeholder:[{type:i.Input}],step:[{type:i.Input}],spinners:[{type:i.Input}],rangeValidation:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input}],selectOnFocus:[{type:i.Input}],value:[{type:i.Input}],valueChange:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],numericInput:[{type:i.ViewChild,args:["numericInput",{static:!0}]}],numericWrap:[{type:i.ViewChild,args:["numericWrap"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],widgetClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-numerictextbox"]}]},t}(),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(k.__extends)(e,t),e.propDecorators={decrement:[{type:i.Input}],increment:[{type:i.Input}]},e}(C.ComponentMessages),Et=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(k.__extends)(e,t),Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e.decorators=[{type:i.Component,args:[{providers:[{provide:_t,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-numerictextbox-messages",template:""}]}],e.ctorParameters=function(){return[{type:C.LocalizationService}]},e}(_t);!function(t){t[t.Literal=0]="Literal",t[t.Mask=1]="Mask",t[t.Undefined=2]="Undefined"}(St||(St={}));var Tt=function(){function t(t,e,n){void 0===n&&(n=St.Undefined),this.value=t,this.rest=e,this.type=n}return t.prototype.map=function(e){return new t(e(this.value),this.rest)},t.prototype.chain=function(t){return t(this.value,this.rest)},t.prototype.fold=function(t,e){return t(this.value,this.rest)},t.prototype.concat=function(t){return this.map((function(e,n){return t.chain((function(t,n){return e.concat([t])}))}))},t.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"},t}(),Dt=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.input=t,this.control=e,this.inputCursor=0,this.controlCursor=0}return t.prototype.eof=function(){return this.inputCursor>=this.input.length},t.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},t.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},t.prototype.eat_input=function(){this.inputCursor++},t.prototype.eat_control=function(){this.controlCursor++},t.prototype.eat=function(){this.inputCursor++,this.controlCursor++},t}(),Pt=function(t){return(t||"").split("")},Bt=function(){function t(t){this.parse=t}return t.prototype.run=function(t,e){return void 0===e&&(e=""),t instanceof Dt?this.parse(t):this.parse(new Dt(Pt(t),Pt(e)))},t.prototype.map=function(e){var n=this;return new t((function(t){return n.parse(t).map(e)}))},t.prototype.chain=function(e){var n=this;return new t((function(t){return n.parse(t).chain((function(t,n){return e(t).run(n)}))}))},t.prototype.isLiteral=function(t){return this.run(t).type===St.Literal},t}(),At=function(t,e){return new Bt((function(n){var i=n.next().char,o=t[i];return"\\"===i?(i=n.next().char,new Tt(e.literal(i),n)):new Tt(o?e.mask(o):e.literal(i),n)}))},Mt=function(t){var e=t.prompt,n=t.promptPlaceholder;return new Bt((function(t){var i=t.next().char;return new Tt(i===e?n:i,t)}))},Rt=function(t){return new Bt((function(e){var n=e.next().char;return new Tt(t?n:"",e)}))},jt=function(t){return t.reduce((function(t,e){return n=e,t.chain((function(t){return n.map((function(e){return t.concat([e])}))}));var n}),(e=[],new Bt((function(t){return new Tt(e,t)}))));var e},zt=function(t){return new Bt((function(e){for(var n=new Tt([],e);!e.eof();)n=n.concat(t.run(e));return n}))},Ft=function(){function t(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}return t.prototype.update=function(t){var e=t.mask,n=void 0===e?"":e,i=t.prompt,o=void 0===i?"":i,r=t.promptPlaceholder,s=void 0===r?" ":r,a=t.rules,l=void 0===a?{}:a,c=t.includeLiterals,u=void 0!==c&&c;this.mask=n,this.prompt=o,this.promptPlaceholder=s,this.rules=l,this.includeLiterals=u,this.tokenize()},t.prototype.validationValue=function(t){void 0===t&&(t="");var e=t;return jt(this.validationTokens).run(t).fold((function(t){e=t.join("")})),e},t.prototype.rawValue=function(t){void 0===t&&(t="");var e=t;return this.rawTokens.length?(jt(this.rawTokens).run(t).fold((function(t){e=t.join("")})),e):e},t.prototype.maskRaw=function(t){void 0===t&&(t="");var e=t;return this.maskTokens.length?(jt(this.maskTokens).run(t).fold((function(t){e=t.join("")})),e):e},t.prototype.maskInput=function(t,e,n){return t.length<e.length?this.maskRemoved(t,e,n):this.maskInserted(t,e,n)},t.prototype.maskInRange=function(t,e,n,i){var o="",r=i,s=e.split("").slice(0,n),a=e.split("").slice(i);return jt(this.maskTokens.slice(n,i)).run(t).fold((function(t){o=s.concat(t).concat(a).join("")})),{selection:r,value:o}},t.prototype.maskRemoved=function(t,e,n){var i=this,o="",r=n,s=t.split("").slice(n),a=t.split("").slice(0,n).join(""),l=this.maskTokens.length-(t.length-n);return jt(this.maskTokens.slice(0,l)).run(a,e).fold((function(t){r=i.adjustPosition(t,r),o=t.concat(s).join("")})),{selection:r,value:o}},t.prototype.adjustPosition=function(t,e){var n=t[e];return this.maskTokens[e].isLiteral(n)||n===this.prompt?e:e+1},t.prototype.maskInserted=function(t,e,n){var i=this,o="",r=n,s=t.slice(0,n);return jt(this.unmaskTokens).run(s,e).chain((function(t){r=t.join("").length;var n=e.slice(r);return jt(i.maskTokens).run(t.join("")+n,e)})).fold((function(t){o=t.join("")})),{selection:r,value:o}},Object.defineProperty(t.prototype,"maskTokenCreator",{get:function(){var t=this.prompt,e=this.promptPlaceholder;return{literal:function(t){return e=t,new Bt((function(t){return t.peek().char===e?(t.eat(),new Tt(e,t,St.Literal)):new Tt(e,t,St.Literal)}));var e},mask:function(n){return function(t){var e=t.prompt,n=t.promptPlaceholder;return function(t){return new Bt((function(i){for(;!i.eof();){var o=i.peek(),r=o.char,s=o.control;if(r===s&&s===e)return i.eat(),new Tt(e,i,St.Mask);if(t.test(r))return i.eat(),new Tt(r,i,St.Mask);if(r===n)return i.eat(),new Tt(e,i,St.Mask);i.eat_input()}return i.eat(),new Tt(e,i,St.Mask)}))}}({prompt:t,promptPlaceholder:e})(n)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unmaskTokenCreator",{get:function(){var t=this;return{literal:function(t){return e=t,new Bt((function(t){return t.eof()?new Tt("",t):(t.peek().char===e&&t.eat(),new Tt(e,t))}));var e},mask:function(e){return(n=t.prompt,function(t){return new Bt((function(e){for(;!e.eof();){var i=e.peek(),o=i.char,r=i.control;if(o===n&&r===n)return e.eat(),new Tt(o,e);if(t.test(o))return e.eat(),new Tt(o,e);e.eat_input()}return e.eat(),new Tt("",e)}))})(e);var n}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawTokenCreator",{get:function(){var t=this.prompt,e=this.promptPlaceholder,n=this.includeLiterals;return{literal:function(t){return Rt(n)},mask:function(n){return Mt({prompt:t,promptPlaceholder:e})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationTokenCreator",{get:function(){var t=this.prompt;return{literal:function(t){return Rt(!1)},mask:function(e){return Mt({prompt:t,promptPlaceholder:""})}}},enumerable:!0,configurable:!0}),t.prototype.tokenize=function(){var t=this;zt(At(this.rules,this.maskTokenCreator)).run(this.mask).fold((function(e,n){t.maskTokens=e})),zt(At(this.rules,this.unmaskTokenCreator)).run(this.mask).fold((function(e,n){t.unmaskTokens=e})),zt(At(this.rules,this.rawTokenCreator)).run(this.mask).fold((function(e,n){t.rawTokens=e})),zt(At(this.rules,this.validationTokenCreator)).run(this.mask).fold((function(e,n){t.validationTokens=e}))},t.decorators=[{type:i.Injectable}],t}(),Nt=Promise.resolve(null),Lt=function(){function t(t,e,n,o,r,s,a){var l=this;this.service=t,this.renderer=e,this.hostElement=n,this.ngZone=o,this.injector=r,this.changeDetector=s,this.focusableId="k-"+Object(S.guid)(),this.disabled=!1,this.readonly=!1,this.hostClasses=!0,this.prompt="_",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskOnFocus=!1,this.maskValidation=!0,this.tabindex=0,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.focusClick=!1,this.defaultRules={"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/},this.isPasted=!1,this.selection=[0,0],this.handleFocus=function(){l.focused=!0,l.maskOnFocus&&l.emptyMask&&(l.updateInput(l.service.maskRaw(l.value)),l.ngZone.runOutsideAngular((function(){setTimeout((function(){l.setSelection(0,0)}),0)}))),Object(S.hasObservers)(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleClick=function(){if(l.focused&&!l.focusClick){l.focusClick=!0;var t=l.input.nativeElement;t.selectionStart===t.selectionEnd&&l.setFocusSelection()}},this.handleBlur=function(){l.changeDetector.markForCheck(),l.focused=!1,l.focusClick=!1,l.maskOnFocus&&l.emptyMask&&l.updateInput(l.maskedValue),(Object(S.hasObservers)(l.onBlur)||st(l.control))&&l.ngZone.run((function(){l.onTouched(),l.onBlur.emit()}))},this.onChange=function(t){},this.onTouched=function(){},this.direction=a?"rtl":"ltr",this.updateService()}return Object.defineProperty(t.prototype,"hostDisabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this._rules||this.defaultRules},set:function(t){this._rules=Object.assign({},this.defaultRules,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(t){this.tabindex=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(o.NgControl,null)},t.prototype.isEmpty=function(){if(this.input)return!Boolean(this.input.nativeElement.value)},t.prototype.handleDragDrop=function(){return!1},t.prototype.focus=function(){this.input&&(this.input.nativeElement.focus(),this.setFocusSelection())},t.prototype.blur=function(){this.input&&this.input.nativeElement.blur()},t.prototype.pasteHandler=function(t){var e=t.target,n=e.selectionStart,i=e.selectionEnd;i!==n&&(this.isPasted=!0,this.selection=[n,i])},t.prototype.inputHandler=function(t){var e,n=t.target.value,i=this.selection,o=i[0],r=i[1];if(!this.mask)return this.updateValue(n),void(this.isPasted=!1);if(this.isPasted){this.isPasted=!1;var s=this.maskedValue.length-r,a=n.length-s;e=this.service.maskInRange(n.slice(o,a),this.maskedValue,o,r)}else e=this.service.maskInput(n,this.maskedValue,t.target.selectionStart);this.updateInput(e.value,e.selection),this.updateValue(e.value)},t.prototype.ngOnChanges=function(t){var e=this;if(t.value&&(this.value=this.normalizeValue()),this.mask){var n=this.extractChanges(t);if(this.updateService(n),Object(S.isChanged)("value",t)){var i=this.service.maskRaw(this.value);i!==this.maskedValue&&this.updateInput(i)}else Object(S.anyChanged)(["promptPlaceholder","includeLiterals"],t)?Nt.then((function(){e.updateValue(e.maskedValue)})):this.updateInput(this.service.maskRaw(this.value))}else this.updateInput(this.value)},t.prototype.writeValue=function(t){this.value=this.normalizeValue(t),this.updateInput(this.service.maskRaw(this.value))},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.validate=function(t){return!1!==this.maskValidation&&this.mask&&this.service.validationValue(this.maskedValue)&&-1!==this.maskedValue.indexOf(this.prompt)?{patternError:{mask:this.mask,maskedValue:this.maskedValue,value:this.value}}:null},t.prototype.updateValue=function(t){this.mask&&!this.service.validationValue(t)?this.value="":this.value=this.service.rawValue(t),this.onChange(this.value),this.valueChange.emit(this.value)},t.prototype.updateInput=function(t,e){void 0===t&&(t=""),this.maskedValue=t;var n=this.maskOnFocus&&!this.focused&&this.emptyMask?"":t;this.renderer.setProperty(this.input.nativeElement,"value",n),void 0!==e&&this.setSelection(e,e)},t.prototype.extractChanges=function(t){return Object.keys(t).filter((function(t){return"rules"!==t})).reduce((function(e,n){return e[n]=t[n].currentValue,e}),{})},t.prototype.updateService=function(t){var e=Object.assign({includeLiterals:this.includeLiterals,mask:this.mask,prompt:this.prompt,promptPlaceholder:this.promptPlaceholder,rules:this.rules},t);this.service.update(e)},t.prototype.setSelection=function(t,e){void 0===t&&(t=this.selection[0]),void 0===e&&(e=this.selection[1]),this.focused&&ct(this.input,"setSelectionRange",t,e)},Object.defineProperty(t.prototype,"emptyMask",{get:function(){return this.service.maskRaw()===this.maskedValue},enumerable:!0,configurable:!0}),t.prototype.setFocusSelection=function(){var t=this.input.nativeElement.selectionStart,e=this.maskedValue?this.maskedValue.indexOf(this.prompt):0;e>=0&&e<t&&(this.selection=[e,e],this.setSelection())},Object.defineProperty(t.prototype,"focused",{get:function(){return this.isFocused},set:function(t){if(this.isFocused!==t&&this.hostElement){var e=this.hostElement.nativeElement;t?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused"),this.isFocused=t}},enumerable:!0,configurable:!0}),t.prototype.normalizeValue=function(t){void 0===t&&(t=this.value);var e=ot(t);if(e&&"string"!=typeof t){if(Object(i.isDevMode)())throw new Error("The MaskedTextBox component supports only string values.");return String(t)}return e?t:""},t.decorators=[{type:i.Component,args:[{exportAs:"kendoMaskedTextBox",providers:[Ft,{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t}))},{multi:!0,provide:o.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))}],selector:"kendo-maskedtextbox",template:'\n        <input type="text"\n            #input\n            autocomplete="off"\n            autocorrect="off"\n            autocapitalize="off"\n            spellcheck="false"\n            class="k-textbox"\n            [id]="focusableId"\n            [tabindex]="tabIndex"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            [kendoEventsOutsideAngular]="{\n                focus: handleFocus,\n                blur: handleBlur,\n                click: handleClick,\n                dragstart: handleDragDrop,\n                drop: handleDragDrop\n            }"\n        />\n    '}]}],t.ctorParameters=function(){return[{type:Ft},{type:i.Renderer2},{type:i.ElementRef},{type:i.NgZone},{type:i.Injector},{type:i.ChangeDetectorRef},{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[C.RTL]}]}]},t.propDecorators={focusableId:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],title:[{type:i.Input}],direction:[{type:i.HostBinding,args:["attr.dir"]}],hostClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-maskedtextbox"]}],hostDisabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}],mask:[{type:i.Input}],value:[{type:i.Input}],rules:[{type:i.Input}],prompt:[{type:i.Input}],promptPlaceholder:[{type:i.Input}],includeLiterals:[{type:i.Input}],maskOnFocus:[{type:i.Input}],maskValidation:[{type:i.Input}],tabindex:[{type:i.Input}],tabIndex:[{type:i.Input}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],valueChange:[{type:i.Output}],input:[{type:i.ViewChild,args:["input",{static:!0}]}],pasteHandler:[{type:i.HostListener,args:["paste",["$event"]]}],inputHandler:[{type:i.HostListener,args:["input",["$event"]]}]},t}(),Vt=function(t){this.value=t,this.classes={"k-tick":!0}},Ht=function(){function t(t){this.rtl=t,this.wrapperClasses="k-reset k-slider-items",this.ticks=[]}return t.prototype.ngOnChanges=function(t){this.createTicks()},t.prototype.createTicks=function(){for(var t,e,n,i,o,r,s,a,l=et(this.min,this.max,this.step),c=this.largeStep,u={max:this.max,min:this.min,smallStep:this.step},p=[],d=0;d<l;d++)p.push(new Vt((t=d,n=void 0,i=void 0,o=void 0,r=void 0,s=void 0,a=void 0,n=(e=u).max,i=e.min,o=e.smallStep,r=e.reverse,s=e.vertical,a=V(i,$(t,o)),s||r?Math.abs(H(a,n)):a))),c&&d%c==0&&(p[d].large=!0,p[d].classes["k-tick-large"]=!0);(this.rtl||this.vertical)&&(p=p.reverse()),p.length>0&&(Object.assign(p[0].classes,this.endTickClasses(!0)),Object.assign(p[p.length-1].classes,this.endTickClasses(!1))),this.ticks=p},t.prototype.endTickClasses=function(t){return{"k-first":t&&!this.vertical||!t&&this.vertical,"k-last":!t&&!this.vertical||t&&this.vertical}},t.decorators=[{type:i.Component,args:[{selector:"[kendoSliderTicks]",template:'\n    <li #tickElement *ngFor="let tick of ticks;"\n        [ngClass]="tick.classes"\n        title="{{ tickTitle(tick.value) }}"\n        role="presentation"\n     >\n         <ng-container [ngSwitch]="tick.large">\n            <span class="k-label" *ngSwitchCase="true">\n                <ng-container [ngTemplateOutlet]="labelTemplate || defaultLabel" [ngTemplateOutletContext]="tick">\n                </ng-container>\n            </span>\n            <ng-container *ngSwitchCase="false">&nbsp;</ng-container>\n         </ng-container>\n     </li>\n\n     <ng-template #defaultLabel let-value="value">\n        {{ tickTitle(value) }}\n     </ng-template>\n  '}]}],t.ctorParameters=function(){return[{type:Boolean,decorators:[{type:i.Optional},{type:i.Inject,args:[C.RTL]}]}]},t.propDecorators={wrapperClasses:[{type:i.HostBinding,args:["class"]}],tickTitle:[{type:i.Input}],vertical:[{type:i.Input}],step:[{type:i.Input}],largeStep:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],labelTemplate:[{type:i.Input}],tickElements:[{type:i.ViewChildren,args:["tickElement"]}]},t}(),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(k.__extends)(e,t),e.propDecorators={decrement:[{type:i.Input}],increment:[{type:i.Input}],dragHandle:[{type:i.Input}]},e}(C.ComponentMessages),Wt=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(k.__extends)(e,t),e.decorators=[{type:i.Directive,args:[{providers:[{provide:$t,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"[kendoSliderLocalizedMessages]"}]}],e.ctorParameters=function(){return[{type:C.LocalizationService}]},e}($t),Kt=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(k.__extends)(e,t),Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e.decorators=[{type:i.Component,args:[{providers:[{provide:$t,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-slider-messages",template:""}]}],e.ctorParameters=function(){return[{type:C.LocalizationService}]},e}($t),Ut=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[ut,Ht,Kt,Wt,it],exports:[ut,Kt,Wt,it],imports:[M.CommonModule,S.DraggableModule,S.EventsModule,S.ResizeSensorModule]}]}],t}(),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(k.__extends)(e,t),e.propDecorators={on:[{type:i.Input}],off:[{type:i.Input}]},e}(C.ComponentMessages),Gt=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(k.__extends)(e,t),e.decorators=[{type:i.Directive,args:[{providers:[{provide:qt,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"[kendoSwitchLocalizedMessages]"}]}],e.ctorParameters=function(){return[{type:C.LocalizationService}]},e}(qt),Jt=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(k.__extends)(e,t),Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e.decorators=[{type:i.Component,args:[{providers:[{provide:qt,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"kendo-switch-messages",template:""}]}],e.ctorParameters=function(){return[{type:C.LocalizationService}]},e}(qt),Zt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[pt,Jt,Gt],exports:[pt,Jt,Gt],imports:[M.CommonModule,S.EventsModule,S.ResizeSensorModule]}]}],t}(),Xt=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}return Object(k.__extends)(e,t),e.decorators=[{type:i.Directive,args:[{providers:[{provide:_t,useExisting:Object(i.forwardRef)((function(){return e}))}],selector:"[kendoNumericTextBoxLocalizedMessages]"}]}],e.ctorParameters=function(){return[{type:C.LocalizationService}]},e}(_t),Yt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Xt,It,Et],exports:[It,Et],imports:[M.CommonModule,S.EventsModule]}]}],t}(),Qt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Lt],exports:[Lt],imports:[M.CommonModule,S.EventsModule]}]}],t}(),te=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[gt,dt,mt],exports:[gt,dt,mt],imports:[M.CommonModule]}]}],t}(),ee=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}(),ne=function(){function t(t){this.color=t,this.openPrevented=!1}return t.prototype.preventOpen=function(){this.openPrevented=!0},t.prototype.isOpenPrevented=function(){return this.openPrevented},t}(),ie=function(t,e,n){void 0===n&&(n=!0);if(-1===["hex","rgba","name"].indexOf(e))throw new Error("Unsupported color output format '"+e+"'. The available options are 'hex', 'rgba' or 'name'.");if(ot(t)){if("name"===e)return function(t,e){if(t=t.toLowerCase().trim(),ot(j.namedColors[t]))return t;Object(j.parseColor)(t,e)&&(t=Object(j.parseColor)(t,e).toHex());var n=Object.keys(j.namedColors).find((function(e){return j.namedColors[e]===t}));if(!n&&!e)throw new Error("The provided color "+t+" is not supported for 'format=\"name\"' property.To display "+t+" color, the component 'format' property shoud be set to 'hex' or 'rgba' ");return n}(t,n);var i=Object(j.parseColor)(t.trim(),n);if(ot(i))return"hex"===e?i.toCss():i.toCssRgba()}},oe=function(t,e){void 0===e&&(e=!0);var n=Object(j.parseColor)(t,e);return ot(n)?n.toBytes():{}},re=function(t){var e=at(t.h,0,359.9),n=at(t.s,0,1),i=at(t.v,0,1),o=at(t.a,0,1);return j.Color.fromHSV(e,n,i,o).toCssRgba()},se=function(t){return re({h:t,s:1,v:1,a:1})};var ae={basic:{colors:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",columns:10},office:{colors:"ffffff, 000000, e6e6e6, 435569, 4371c4, ed7e32, a5a4a5, febf04, 5a9bd5, 71ae48, f2f2f3, 7f7f7f, d1cece, d5dde3, dae1f4, fce5d4, deeded, fff2cc, deeaf6, e1efd9, d7d8d8, 585959, aeabab, adbaca, b4c5e7, f6caac, dbdbdb, ffe498, bcd6ee, c5e0b2, bfbfc0, 3f3f3f, 767070, 8595b1, 8fabdb, f5b183, c9c8c9, fed965, 9bc4e5, a8d08d, a5a5a6, 262625, 393939, 334050, 2e5496, c45a11, 7b7b7a, bf9000, 2f75b5, 548235, 7f7f7f, 0b0c0c, 161616, 222a34, 203764, 843d0b, 525252, 7f6000, 1d4d79, 375623",columns:10},apex:{colors:"ffffff, 000000, c9c2d1, 69676d, ceb966, 9cb084, 6bb1c9, 6585cf, 7e6bc9, a379bb, f2f2f2, 7f7f7f, f4f2f5, e0e0e2, f5f1e0, ebefe6, e1eff4, e0e6f5, e5e1f4, ece4f1, d8d8d8, 595959, e9e6ec, c2c1c5, ebe3c1, d7dfcd, c3dfe9, c1ceeb, cbc3e9, dac9e3, bfbfbf, 3f3f3f, dedae3, a4a3a8, e1d5a3, c3cfb5, a6d0de, a2b5e2, b1a6de, c7aed6, a5a5a5, 262626, 9688a5, 4e4d51, ae9638, 758c5a, 3d8da9, 365bb0, 533da9, 7d4d99, 7f7f7f, 0c0c0c, 635672, 343336, 746425, 4e5d3c, 295e70, 243c75, 372970, 533366",columns:10},austin:{colors:"ffffff, 000000, caf278, 3e3d2d, 94c600, 71685a, ff6700, 909465, 956b43, fea022, f2f2f2, 7f7f7f, f4fce4, dddcd0, efffc0, e3e1dc, ffe0cb, e8e9df, ece1d6, feecd2, d8d8d8, 595959, e9f9c9, bbb9a1, dfff82, c8c3ba, ffc299, d2d4c0, dac3ad, fed9a6, bfbfbf, 3f3f3f, dff7ae, ada598, cfff43, ada598, ffa365, bcbfa1, c8a585, fec67a, a5a5a5, 262626, a9ea25, 2e2d21, 6f9400, 544e43, bf4d00, 6c6f4b, 6f5032, d77b00, 7f7f7f, 0c0c0c, 74a50f, 1f1e16, 4a6300, 38342d, 7f3300, 484a32, 4a3521, 8f5200",columns:10},clarity:{colors:"ffffff, 292934, f3f2dc, d2533c, 93a299, ad8f67, 726056, 4c5a6a, 808da0, 79463d, f2f2f2, e7e7ec, e7e5b9, f6dcd8, e9ecea, eee8e0, e4dedb, d8dde3, e5e8ec, e9d6d3, d8d8d8, c4c4d1, d5d185, edbab1, d3d9d6, ded2c2, c9beb8, b2bcc8, ccd1d9, d3aea7, bfbfbf, 8a8aa3, aca73b, e4978a, bec7c1, cdbba3, af9e94, 8c9bac, b2bac6, bd857c, a5a5a5, 56566e, 56531d, a43925, 6b7c72, 866b48, 554840, 39434f, 5c697b, 5a342d, 7f7f7f, 3b3b4b, 22210b, 6d2619, 47534c, 594730, 39302b, 262d35, 3d4652, 3c231e",columns:10},slipstream:{colors:"ffffff, 000000, b4dcfa, 212745, 4e67c8, 5eccf3, a7ea52, 5dceaf, ff8021, f14124, f2f2f2, 7f7f7f, 8bc9f7, c7cce4, dbe0f4, def4fc, edfadc, def5ef, ffe5d2, fcd9d3, d8d8d8, 595959, 4facf3, 909aca, b8c2e9, beeafa, dbf6b9, beebdf, ffcca6, f9b3a7, bfbfbf, 3f3f3f, 0d78c9, 5967af, 94a3de, 9ee0f7, caf297, 9de1cf, ffb279, f68d7b, a5a5a5, 262626, 063c64, 181d33, 31479f, 11b2eb, 81d319, 34ac8b, d85c00, c3260c, 7f7f7f, 0c0c0c, 021828, 101322, 202f6a, 0b769c, 568c11, 22725c, 903d00, 821908",columns:10},metro:{colors:"ffffff, 000000, d6ecff, 4e5b6f, 7fd13b, ea157a, feb80a, 00addc, 738ac8, 1ab39f, f2f2f2, 7f7f7f, a7d6ff, d9dde4, e5f5d7, fad0e4, fef0cd, c5f2ff, e2e7f4, c9f7f1, d8d8d8, 595959, 60b5ff, b3bcca, cbecb0, f6a1c9, fee29c, 8be6ff, c7d0e9, 94efe3, bfbfbf, 3f3f3f, 007dea, 8d9baf, b2e389, f272af, fed46b, 51d9ff, aab8de, 5fe7d5, a5a5a5, 262626, 003e75, 3a4453, 5ea226, af0f5b, c58c00, 0081a5, 425ea9, 138677, 7f7f7f, 0c0c0c, 00192e, 272d37, 3f6c19, 750a3d, 835d00, 00566e, 2c3f71, 0c594f",columns:10},flow:{colors:"ffffff, 000000, dbf5f9, 04617b, 0f6fc6, 009dd9, 0bd0d9, 10cf9b, 7cca62, a5c249, f2f2f2, 7f7f7f, b2e9f2, b4ecfc, c7e2fa, c4eeff, c9fafc, c9faed, e4f4df, edf2da, d8d8d8, 595959, 76d9e8, 6adafa, 90c6f6, 89deff, 93f5f9, 94f6db, cae9c0, dbe6b6, bfbfbf, 3f3f3f, 21b2c8, 20c8f7, 59a9f2, 4fceff, 5df0f6, 5ff2ca, b0dfa0, c9da91, a5a5a5, 262626, 105964, 02485c, 0b5394, 0075a2, 089ca2, 0b9b74, 54a838, 7e9532, 7f7f7f, 0c0c0c, 062328, 01303d, 073763, 004e6c, 05686c, 07674d, 387025, 546321",columns:10},hardcover:{colors:"ffffff, 000000, ece9c6, 895d1d, 873624, d6862d, d0be40, 877f6c, 972109, aeb795, f2f2f2, 7f7f7f, e1dca5, f2e0c6, f0d0c9, f6e6d5, f5f2d8, e7e5e1, fbc7bc, eef0e9, d8d8d8, 595959, d0c974, e6c28d, e2a293, eeceaa, ece5b2, cfccc3, f78f7a, dee2d4, bfbfbf, 3f3f3f, a29a36, daa454, d4735e, e6b681, e2d88c, b7b2a5, f35838, ced3bf, a5a5a5, 262626, 514d1b, 664515, 65281a, a2641f, a39428, 655f50, 711806, 879464, 7f7f7f, 0c0c0c, 201e0a, 442e0e, 431b11, 6c4315, 6d621a, 433f35, 4b1004, 5a6243",columns:10},trek:{colors:"ffffff, 000000, fbeec9, 4e3b30, f0a22e, a5644e, b58b80, c3986d, a19574, c17529, f2f2f2, 7f7f7f, f7e09e, e1d6cf, fcecd5, eddfda, f0e7e5, f3eae1, ece9e3, f5e3d1, d8d8d8, 595959, f3cc5f, c4ad9f, f9d9ab, dcc0b6, e1d0cc, e7d5c4, d9d4c7, ebc7a3, bfbfbf, 3f3f3f, d29f0f, a78470, f6c781, cba092, d2b9b2, dbc1a7, c6bfab, e1ac76, a5a5a5, 262626, 694f07, 3a2c24, c87d0e, 7b4b3a, 926255, a17242, 7b7153, 90571e, 7f7f7f, 0c0c0c, 2a1f03, 271d18, 855309, 523226, 614138, 6b4c2c, 524b37, 603a14",columns:10},verve:{colors:"ffffff, 000000, d2d2d2, 666666, ff388c, e40059, 9c007f, 68007f, 005bd3, 00349e, f2f2f2, 7f7f7f, bdbdbd, e0e0e0, ffd7e8, ffc6dc, ffb8f1, f1b2ff, c3dcff, b8cfff, d8d8d8, 595959, 9d9d9d, c1c1c1, ffafd1, ff8eba, ff71e4, e365ff, 87baff, 72a0ff, bfbfbf, 3f3f3f, 696969, a3a3a3, ff87ba, ff5597, ff2ad7, d519ff, 4b98ff, 2b71ff, a5a5a5, 262626, 343434, 4c4c4c, e90062, ab0042, 75005f, 4e005f, 00449e, 002676, 7f7f7f, 0c0c0c, 151515, 333333, 9b0041, 72002c, 4e003f, 34003f, 002d69, 00194f",columns:10},monochrome:{colors:"000000, 1a1a1a, 333333, 4d4d4d, 666666, 808080, 999999, b3b3b3, cccccc, e6e6e6, f2f2f2, ffffff",columns:12},accessible:{colors:"black, grey, darkred, red, darkorange, gold, green, blue, darkblue, purple, white, darkgrey, saddlebrown, pink, orange, yellow, lightgreen, lightskyblue, lightblue, mediumpurple",columns:10}},le=0,ce=function(){function t(t,e){var n=this;this.popupService=t,this.hostClasses=!0,this.focusableId="k-colorpicker-"+le++,this.view="gradient",this.readonly=!1,this.disabled=!1,this.format="rgba",this.valueChange=new i.EventEmitter,this.open=new i.EventEmitter,this.close=new i.EventEmitter,this.onFocus=new i.EventEmitter,this.onBlur=new i.EventEmitter,this.activeColorClick=new i.EventEmitter,this._tabindex=0,this._popupSettings={animate:!0},this._paletteSettings={},this._gradientSettings={opacity:!0,clearButton:!1},this.notifyNgTouched=function(){},this.notifyNgChanged=function(){},this.dynamicRTLSubscription=e.changes.subscribe((function(t){var e=t.rtl;n.direction=e?"rtl":"ltr"}))}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=ie(t,this.format)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(t){this._popupSettings=Object.assign(this._popupSettings,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paletteSettings",{get:function(){return this._paletteSettings},set:function(t){this._paletteSettings=Object.assign(this._paletteSettings,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradientSettings",{get:function(){return this._gradientSettings},set:function(t){this._gradientSettings=Object.assign(this._gradientSettings,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.disabled?void 0:this._tabindex},set:function(t){var e=Number(t);this._tabindex=isNaN(e)?0:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return ot(this.popupRef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconStyles",{get:function(){return this.iconClass?this.iconClass:this.icon?"k-icon k-i-"+this.icon:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t="name"!==this.format?"office":"accessible",e=this._paletteSettings.palette,n="string"==typeof e&&ae[e]?ae[e].columns:void 0;this._paletteSettings={palette:e||t,tileSize:this._paletteSettings.tileSize||24,columns:this._paletteSettings.columns||n||10}},t.prototype.ngOnChanges=function(t){t.format&&"name"===t.format.currentValue&&(this.view="palette"),"gradient"===this.view&&this.gradientSettings.opacity&&(this.format="rgba",this.value=ie(this.value,this.format))},t.prototype.ngOnDestroy=function(){this.closePopup(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()},t.prototype.handleWrapperClick=function(){this.toggleWithEvents(!this.isOpen),this.focus()},t.prototype.handleActiveColorClick=function(){this.focus();var t=new ne(this.value);this.activeColorClick.emit(t),t.isOpenPrevented()&&!this.isOpen||this.handleWrapperClick()},t.prototype.focus=function(){this.disabled||this.wrapper.nativeElement.focus()},t.prototype.handleWrapperFocus=function(){ot(this.palette)&&this.palette.nativeElement.focus(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())},t.prototype.blur=function(){this.wrapper.nativeElement.blur()},t.prototype.handleWrapperBlur=function(){this.isOpen||(this.isFocused=!1,this.onBlur.emit(),this.notifyNgTouched())},t.prototype.reset=function(){ot(this.value)&&(this._value=void 0,this.notifyNgChanged(void 0))},t.prototype.toggle=function(t){this.disabled||this.readonly||(this.closePopup(),(t=ot(t)?t:!this.isOpen)&&this.openPopup())},t.prototype.handleValueChange=function(t,e){var n=ie(t,this.format),i=n!==this.value;e&&(this.toggleWithEvents(!1),this.focus()),i&&(this.value=n,this.valueChange.emit(n),this.notifyNgChanged(n))},t.prototype.handlePopupBlur=function(t){var e=this.popupRef.popupElement.contains(t.relatedTarget),n=t.relatedTarget===this.wrapper.nativeElement;!this.isFocused||n||e||(this.isFocused=!1,this.onBlur.emit(),this.notifyNgTouched(),this.toggleWithEvents(!1))},t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this.notifyNgChanged=t},t.prototype.registerOnTouched=function(t){this.notifyNgTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.handleWrapperKeyDown=function(t){t.keyCode!==S.Keys.ArrowDown&&t.keyCode!==S.Keys.Enter||(t.preventDefault(),this.toggleWithEvents(!0))},t.prototype.handlePopupKeyDown=function(t){t!==S.Keys.Tab&&t!==S.Keys.Escape||(this.toggleWithEvents(!1),this.wrapper.nativeElement.focus())},t.prototype.isEmpty=function(){return!1},t.prototype.toggleWithEvents=function(t){var e=this.isOpen===t;if(!(this.disabled||this.readonly||e)){var n=new ee;t?this.open.emit(n):this.close.emit(n),n.isDefaultPrevented()||this.toggle(t)}},t.prototype.openPopup=function(){var t=this,e="rtl"===this.direction?"right":"left",n={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.popupSettings.appendTo,popupAlign:i,anchorAlign:n,popupClass:"k-colorpicker-popup",content:this.popupTemplate,positionMode:"absolute"}),this.popupRef.popupAnchorViewportLeave.subscribe((function(){t.toggleWithEvents(!1),t.isOpen||t.wrapper.nativeElement.focus({preventScroll:!0})}))},t.prototype.closePopup=function(){this.isOpen&&(this.popupRef.close(),this.popupRef=null,this.palette=null)},t.decorators=[{type:i.Component,args:[{selector:"kendo-colorpicker",providers:[{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))},C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.colorpicker"}],template:'\n        <span\n            #wrapper\n            [ngClass]="{\n                \'k-picker-wrap\': true,\n                \'k-state-default\': !this.disabled,\n                \'k-state-disabled\': this.disabled,\n                \'k-state-focused\': this.isFocused\n            }"\n            role="listbox"\n            [attr.aria-expanded]="isOpen"\n            [id]="focusableId"\n            [attr.tabindex]="tabindex"\n            (focus)="handleWrapperFocus()"\n            (blur)="handleWrapperBlur()"\n            (mousedown)="$event.preventDefault()"\n            (keydown)="handleWrapperKeyDown($event)"\n        >\n            <span *ngIf="!iconStyles" class="k-selected-color" [style.background-color]="value" (click)="handleActiveColorClick()">\n                <span class="k-icon k-i-line" *ngIf="!value"></span>\n            </span>\n            <span *ngIf="iconStyles" class="k-tool-icon" [ngClass]="iconStyles" (click)="handleActiveColorClick()">\n                <span class="k-selected-color" [style.background-color]="value"></span>\n            </span>\n            <span class="k-select" (click)="handleWrapperClick()">\n                <span class="k-icon k-i-arrow-s"></span>\n            </span>\n        </span>\n        <ng-template #popupTemplate>\n            <kendo-colorgradient\n                *ngIf="view === \'gradient\' || view === \'combo\'"\n                kendoFocusOnDomReady\n                [value]="value"\n                [format]="format"\n                [opacity]="gradientSettings.opacity"\n                [clearButton]="gradientSettings.clearButton"\n                (focusout)="handlePopupBlur($event)"\n                (valueChange)="handleValueChange($event, false)"\n                (keydown)="handlePopupKeyDown($event.keyCode)"\n            >\n            </kendo-colorgradient>\n            <kendo-colorpalette\n                #palette\n                *ngIf="view === \'palette\' || view === \'combo\'"\n                kendoFocusOnDomReady\n                [palette]="paletteSettings.palette"\n                [columns]="paletteSettings.columns"\n                [tileSize]="paletteSettings.tileSize"\n                [format]="format"\n                [value]="value"\n                (blur)="handlePopupBlur($event)"\n                (cellSelection)="handleValueChange($event, true)"\n                (mousedown)="$event.preventDefault()"\n                (keydown)="handlePopupKeyDown($event.keyCode)"\n            >\n            </kendo-colorpalette>\n        </ng-template>\n        <ng-container #container></ng-container>\n    '}]}],t.ctorParameters=function(){return[{type:R.PopupService},{type:C.LocalizationService}]},t.propDecorators={hostClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-colorpicker"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],focusableId:[{type:i.Input}],view:[{type:i.Input}],readonly:[{type:i.Input}],disabled:[{type:i.Input}],format:[{type:i.Input}],value:[{type:i.Input}],popupSettings:[{type:i.Input}],paletteSettings:[{type:i.Input}],gradientSettings:[{type:i.Input}],icon:[{type:i.Input}],iconClass:[{type:i.Input}],tabindex:[{type:i.Input}],valueChange:[{type:i.Output}],open:[{type:i.Output}],close:[{type:i.Output}],onFocus:[{type:i.Output,args:["focus"]}],onBlur:[{type:i.Output,args:["blur"]}],activeColorClick:[{type:i.Output}],container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],wrapper:[{type:i.ViewChild,args:["wrapper"]}],popupTemplate:[{type:i.ViewChild,args:["popupTemplate"]}],palette:[{type:i.ViewChild,args:["palette",{read:i.ElementRef}]}]},t}(),ue=function(){function t(){this.colorRows=[]}return t.prototype.setColorMatrix=function(t,e){if(this.colorRows=[],ot(t)&&t.length){e=e||t.length;for(var n=0;n<t.length;n+=e){var i=t.slice(n,e+n);this.colorRows.push(i)}}},t.prototype.getCellCoordsFor=function(t){if(ot(t))for(var e=0;e<this.colorRows.length;e++)for(var n=0;n<this.colorRows[e].length;n++)if(this.colorRows[e][n]===t)return{row:e,col:n}},t.prototype.getColorAt=function(t){if(ot(t)&&ot(this.colorRows[t.row]))return this.colorRows[t.row][t.col]},t.prototype.getNextCell=function(t,e,n){if(!(ot(t)&&ot(t.row)&&ot(t.col)))return{row:0,col:0};var i=this.clampIndex(t.row+n,this.colorRows.length-1);return{row:i,col:this.clampIndex(t.col+e,this.colorRows[i].length-1)}},t.prototype.clampIndex=function(t,e){return t<0?0:t>e?e:t},t.decorators=[{type:i.Injectable}],t}(),pe=0,de=function(){function t(t,e){var n=this;this.service=t,this.id="k-colorpalette-"+pe++,this.format="hex",this.tileSize={width:24,height:24},this.selectionChange=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.cellSelection=new i.EventEmitter,this.hostClasses=!0,this._tabindex=0,this.notifyNgTouched=function(){},this.notifyNgChanged=function(){},this.dynamicRTLSubscription=e.changes.subscribe((function(t){var e=t.rtl;n.direction=e?"rtl":"ltr"}))}return Object.defineProperty(t.prototype,"paletteId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=ie(t,this.format)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){this._columns=t>1?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(t){var e=this;ot(t)||(t="office"),"string"==typeof t&&ot(ae[t])&&(this.columns=this.columns||ae[t].columns,t=ae[t].colors);var n="string"==typeof t?t.split(","):t;this._palette=n.map((function(t){return ie(t,e.format,!1)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.disabled?void 0:this._tabindex},set:function(t){var e=Number(t);this._tabindex=isNaN(e)?0:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileLayout",{get:function(){return"number"!=typeof this.tileSize?this.tileSize:{width:this.tileSize,height:this.tileSize}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorRows",{get:function(){return this.service.colorRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostTabindex",{get:function(){return this.tabindex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){if(0===this.colorRows.length){var t="name"!==this.format?"office":"accessible";this.palette=this.palette||t,this.setRows(),this.focusedCell=this.service.getCellCoordsFor(this.value)}},t.prototype.ngOnDestroy=function(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()},t.prototype.ngOnChanges=function(t){(t.palette||t.columns)&&this.setRows(),(t.palette||t.value||t.columns)&&(this.focusedCell=this.service.getCellCoordsFor(this.value))},t.prototype.handleKeydown=function(t){var e="rtl"===this.direction;switch(t.keyCode){case S.Keys.ArrowDown:this.handleCellNavigation(0,1);break;case S.Keys.ArrowUp:this.handleCellNavigation(0,-1);break;case S.Keys.ArrowRight:this.handleCellNavigation(e?-1:1,0);break;case S.Keys.ArrowLeft:this.handleCellNavigation(e?1:-1,0);break;case S.Keys.Enter:this.handleEnter();break;default:return}t.preventDefault()},t.prototype.handleHostBlur=function(){this.notifyNgTouched()},t.prototype.handleCellSelection=function(t,e){if(!this.readonly){this.focusedCell=e;var n=ie(t,this.format,!1);this.cellSelection.emit(n),this.value!==n&&(this.value=n,this.valueChange.emit(n),this.notifyNgChanged(n)),this.selection!==n&&(this.selection=n,this.selectionChange.emit(n))}},t.prototype.writeValue=function(t){this.value=t,this.focusedCell=this.service.getCellCoordsFor(this.value)},t.prototype.registerOnChange=function(t){this.notifyNgChanged=t},t.prototype.registerOnTouched=function(t){this.notifyNgTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.isEmpty=function(){return!1},t.prototype.reset=function(){this.focusedCell=null,ot(this.value)&&(this._value=void 0,this.notifyNgChanged(void 0))},t.prototype.setRows=function(){ot(this.palette)&&(this.columns=this.columns||10,this.service.setColorMatrix(this.palette,this.columns))},t.prototype.handleCellNavigation=function(t,e){if(!this.readonly){this.focusedCell=this.service.getNextCell(this.focusedCell,t,e);var n=this.service.getColorAt(this.focusedCell);this.selection!==n&&(this.selection=n,this.selectionChange.emit(n))}},t.prototype.handleEnter=function(){if(ot(this.focusedCell)){var t=this.service.getColorAt(this.focusedCell);this.handleCellSelection(t,this.focusedCell)}},t.decorators=[{type:i.Component,args:[{selector:"kendo-colorpalette",providers:[{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))},ue,C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.colorpalette"}],template:'\n        <div role="grid">\n            <table class="k-palette k-reset" role="presentation">\n                <tbody>\n                    <tr role="row" *ngFor="let row of colorRows; let rowIndex = index">\n                        <td *ngFor="let color of row; let colIndex = index"\n                            [class.k-state-selected]="focusedCell?.row === rowIndex && focusedCell?.col === colIndex"\n                            class="k-item"\n                            [attr.value]="color"\n                            (click)="handleCellSelection(color, { row: rowIndex, col: colIndex })"\n                            [ngStyle]="{\n                                backgroundColor: color,\n                                width: tileLayout.width + \'px\',\n                                height: tileLayout.height + \'px\',\n                                minWidth: tileLayout.width + \'px\'\n                            }">\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    '}]}],t.ctorParameters=function(){return[{type:ue},{type:C.LocalizationService}]},t.propDecorators={direction:[{type:i.HostBinding,args:["attr.dir"]}],paletteId:[{type:i.HostBinding,args:["attr.id"]}],id:[{type:i.Input}],format:[{type:i.Input}],value:[{type:i.Input}],columns:[{type:i.Input}],palette:[{type:i.Input}],tabindex:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],tileSize:[{type:i.Input}],selectionChange:[{type:i.Output}],valueChange:[{type:i.Output}],cellSelection:[{type:i.Output}],hostTabindex:[{type:i.HostBinding,args:["attr.tabindex"]}],hostClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-colorpalette"]}],disabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}],handleKeydown:[{type:i.HostListener,args:["keydown",["$event"]]}],handleHostBlur:[{type:i.HostListener,args:["blur"]}]},t}(),he=0,fe=function(){function t(t,e,n,o,r){var s=this;this.host=t,this.ngZone=e,this.renderer=n,this.cdr=o,this.hostClasses=!0,this.id="k-colorgradient-"+he++,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.clearButton=!1,this.valueChange=new i.EventEmitter,this.backgroundColor="rgba(255, 0, 0, 1)",this.hsva={},this.format="rgba",this._tabindex=0,this.listeners=[],this.notifyNgChanged=function(){},this.notifyNgTouched=function(){},this.dynamicRTLSubscription=r.changes.subscribe((function(t){var e=t.rtl;s.direction=e?"rtl":"ltr"}))}return Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostTabindex",{get:function(){return this.tabindex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradientId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=ie(t,this.format)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.disabled?void 0:this._tabindex},set:function(t){var e=Number(t);this._tabindex=isNaN(e)?0:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return!(!Object(S.isDocumentAvailable)()||!ot(this.host))&&(this.host.nativeElement===document.activeElement||this.host.nativeElement.contains(document.activeElement))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alphaSliderValue",{get:function(){if(ot(this.hsva)&&ot(this.hsva.a))return 100*this.hsva.a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradientRect",{get:function(){return this.gradientWrapper.nativeElement.getBoundingClientRect()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.updateUI(),this.cdr.detectChanges(),this.addEventListeners()},t.prototype.ngOnChanges=function(t){Object(S.isChanged)("value",t)&&!this.isFocused&&this.updateUI()},t.prototype.ngOnDestroy=function(){this.listeners.forEach((function(t){return t()})),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()},t.prototype.focus=function(){this.disabled||this.host.nativeElement.focus()},t.prototype.reset=function(){this.handleValueChange(void 0),this.updateUI()},t.prototype.handleDragPress=function(t){this.disabled||this.readonly||!ot(t.originalEvent)||(this.focus(),t.originalEvent.preventDefault())},t.prototype.onHandleDrag=function(t){this.disabled||this.readonly||(this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging"),this.changePosition(t))},t.prototype.onHandleRelease=function(){this.disabled||this.readonly||this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging")},t.prototype.changePosition=function(t){var e=this;this.disabled||this.readonly||this.ngZone.run((function(){return e.moveDragHandle(t)}))},t.prototype.handleHueSliderChange=function(t){this.handleValueChange(re(this.hsva)),this.backgroundColor=se(t),this.setAlphaSliderBackground(this.backgroundColor)},t.prototype.handleAlphaSliderChange=function(t){this.hsva.a=t/100,this.handleValueChange(re(this.hsva))},t.prototype.handleInputsValueChange=function(t){var e=ie(t,this.format);this.value!==e&&(this.handleValueChange(e),this.updateUI())},t.prototype.writeValue=function(t){this.value=t,ot(this.gradientWrapper)&&this.updateUI()},t.prototype.registerOnChange=function(t){this.notifyNgChanged=t},t.prototype.registerOnTouched=function(t){this.notifyNgTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.isEmpty=function(){return!1},t.prototype.moveDragHandle=function(t){var e=t.clientX-this.gradientRect.left,n=t.clientY-this.gradientRect.top,i=at(n,0,this.gradientRect.height),o=at(e,0,this.gradientRect.width);this.setDragHandleElementPosition(i,o),this.hsva.s=o/this.gradientRect.width,this.hsva.v=1-i/this.gradientRect.height,this.handleValueChange(re(this.hsva)),this.setAlphaSliderBackground(re(Object(k.__assign)({},this.hsva,{a:1})))},t.prototype.updateUI=function(){if(Object(S.isDocumentAvailable)()){this.hsva=this.value?function(t,e){void 0===e&&(e=!0);var n=Object(j.parseColor)(t,e);return ot(n)?n.toHSV():{}}(this.value):{h:0,s:0,v:1,a:1};var t=(1-this.hsva.v)*this.gradientRect.height,e=this.hsva.s*this.gradientRect.width;this.setDragHandleElementPosition(t,e),this.backgroundColor=se(this.hsva.h),this.setAlphaSliderBackground(this.backgroundColor)}},t.prototype.handleValueChange=function(t){this.value!==t&&(this.value=t,this.valueChange.emit(t),this.notifyNgChanged(t))},t.prototype.setDragHandleElementPosition=function(t,e){var n=this.dragHandle.nativeElement;this.renderer.setStyle(n,"top",t+"px"),this.renderer.setStyle(n,"left",e+"px")},t.prototype.setAlphaSliderBackground=function(t){if(ot(this.alphaSlider)){var e=this.alphaSlider.track.nativeElement;this.renderer.setStyle(e,"background","linear-gradient(to top, transparent, "+t+")")}},t.prototype.addEventListeners=function(){var t=this;this.ngZone.runOutsideAngular((function(){var e=t.renderer.listen(t.host.nativeElement,"focusout",(function(e){var n,i,o;i=t.host.nativeElement,o=e.relatedTarget,(!i||!o||i!==o&&!i.contains(o))&&((n=t.host)&&n.nativeElement&&lt(n.nativeElement,"ng-untouched"))&&t.ngZone.run((function(){return t.notifyNgTouched()}))}));t.listeners.push(e)}))},t.decorators=[{type:i.Component,args:[{selector:"kendo-colorgradient",providers:[{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return t}))},{provide:S.KendoInput,useExisting:Object(i.forwardRef)((function(){return t}))},C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.colorgradient"}],template:'\n        <div class="k-hbox k-hsv-wrap">\n            <div class="k-hsv-rectangle" [style.background-color]="backgroundColor">\n                <div\n                    #gradientWrapper\n                    kendoDraggable\n                    class="k-hsv-gradient"\n                    (click)="changePosition($event)"\n                    (kendoPress)="handleDragPress($event)"\n                    (kendoDrag)="onHandleDrag($event)"\n                    (kendoRelease)="onHandleRelease()">\n                    <div\n                        #dragHandle\n                        class="k-draghandle"\n                    >\n                    </div>\n                </div>\n            </div>\n            <div class="k-hbox k-sliders-wrap {{ clearButton ? \'k-sliders-wrap-clearable\' : \'\' }}">\n                <span class="k-clear-color k-button k-bare k-button-icon" *ngIf="clearButton" (click)="reset()">\n                    <span class="k-icon k-i-reset-color"></span>\n                </span>\n                <kendo-slider\n                    class="k-hue-slider"\n                    [disabled]="disabled"\n                    [readonly]="readonly"\n                    [showButtons]="false"\n                    [tickPlacement]="\'none\'"\n                    [vertical]="true"\n                    [min]="0"\n                    [max]="360"\n                    [smallStep]="5"\n                    [largeStep]="10"\n                    [(value)]="hsva.h"\n                    (valueChange)="handleHueSliderChange($event)"\n                >\n                </kendo-slider>\n                <kendo-slider\n                    *ngIf="opacity && format === \'rgba\'"\n                    #alphaSlider\n                    class="k-alpha-slider"\n                    [disabled]="disabled"\n                    [readonly]="readonly"\n                    [showButtons]="false"\n                    [tickPlacement]="\'none\'"\n                    [vertical]="true"\n                    [min]="0"\n                    [max]="100"\n                    [smallStep]="1"\n                    [largeStep]="10"\n                    [value]="alphaSliderValue"\n                    (valueChange)="handleAlphaSliderChange($event)"\n                >\n                </kendo-slider>\n            </div>\n        </div>\n        <kendo-colorinput\n            [opacity]="opacity"\n            [value]="value"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            (valueChange)="handleInputsValueChange($event)"\n        >\n        </kendo-colorinput>\n'}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone},{type:i.Renderer2},{type:i.ChangeDetectorRef},{type:C.LocalizationService}]},t.propDecorators={hostClasses:[{type:i.HostBinding,args:["class.k-widget"]},{type:i.HostBinding,args:["class.k-flatcolorpicker"]}],disabledClass:[{type:i.HostBinding,args:["class.k-state-disabled"]}],hostTabindex:[{type:i.HostBinding,args:["attr.tabindex"]}],gradientId:[{type:i.HostBinding,args:["attr.id"]}],id:[{type:i.Input}],direction:[{type:i.HostBinding,args:["attr.dir"]}],opacity:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],clearButton:[{type:i.Input}],value:[{type:i.Input}],tabindex:[{type:i.Input}],valueChange:[{type:i.Output}],format:[{type:i.Input}],alphaSlider:[{type:i.ViewChild,args:["alphaSlider"]}],gradientWrapper:[{type:i.ViewChild,args:["gradientWrapper"]}],dragHandle:[{type:i.ViewChild,args:["dragHandle"]}]},t}(),me=function(){function t(t){this.host=t,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.valueChange=new i.EventEmitter,this.colorInputClass=!0,this.rgba={}}return Object.defineProperty(t.prototype,"isFocused",{get:function(){if(!Object(S.isDocumentAvailable)()||!ot(this.host))return!1;var t=document.activeElement;return this.host.nativeElement.contains(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgbaInputValid",{get:function(){var t=this;return Object.keys(this.rgba).every((function(e){return ot(t.rgba[e])}))},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){ot(t.value)&&!this.isFocused&&(this.hex=ie(this.value,"hex"),this.rgba=oe(this.value),this.rgba.a=ie(this.value,"rgba")?this.rgba.a:1)},t.prototype.handleRgbaValueChange=function(){var t,e,n,i,o,r=(t=this.rgba,e=at(t.r,0,255),n=at(t.g,0,255),i=at(t.b,0,255),o=at(t.a,0,1),j.Color.fromBytes(e,n,i,o).toCssRgba());this.rgbaInputValid&&r!==this.value&&(this.value=r,this.rgba=oe(this.value),this.hex=ie(r,"hex"),this.valueChange.emit(r))},t.prototype.handleHexValueChange=function(t){this.hex=t;var e=ie(t,"rgba");ot(e)&&e!==this.value&&(this.value=e,this.rgba=oe(e),this.valueChange.emit(e))},t.prototype.handleRgbaInputBlur=function(){this.rgbaInputValid||(this.rgba=oe(this.value))},t.prototype.handleHexInputBlur=function(){this.hex=ie(this.value,"hex")},t.decorators=[{type:i.Component,args:[{selector:"kendo-colorinput",template:'\n        <div class="k-hbox k-gradient-values">\n            <input\n                #hexInput\n                class="k-textbox k-hex-value"\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [value]="hex || \'\'"\n                placeholder="no color"\n                (blur)="handleHexInputBlur()"\n                (input)="handleHexValueChange(hexInput.value)"\n            />\n            <kendo-numerictextbox\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [min]="0"\n                [max]="255"\n                placeholder="R"\n                [(value)]="rgba.r"\n                [autoCorrect]="true"\n                [spinners]="false"\n                [format]="\'n\'"\n                [decimals]="0"\n                (blur)="handleRgbaInputBlur()"\n                (valueChange)="handleRgbaValueChange()"\n            >\n            </kendo-numerictextbox>\n            <kendo-numerictextbox\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [min]="0"\n                [max]="255"\n                placeholder="G"\n                [(value)]="rgba.g"\n                [autoCorrect]="true"\n                [spinners]="false"\n                [format]="\'n\'"\n                [decimals]="0"\n                (blur)="handleRgbaInputBlur()"\n                (valueChange)="handleRgbaValueChange()"\n            >\n            </kendo-numerictextbox>\n            <kendo-numerictextbox\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [min]="0"\n                [max]="255"\n                placeholder="B"\n                [(value)]="rgba.b"\n                [autoCorrect]="true"\n                [spinners]="false"\n                [format]="\'n\'"\n                [decimals]="0"\n                (blur)="handleRgbaInputBlur()"\n                (valueChange)="handleRgbaValueChange()"\n            >\n            </kendo-numerictextbox>\n            <kendo-numerictextbox\n                *ngIf="opacity"\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [min]="0"\n                [max]="1"\n                placeholder="A"\n                [(value)]="rgba.a"\n                [autoCorrect]="true"\n                [spinners]="false"\n                [step]="0.01"\n                [format]="\'n2\'"\n                [decimals]="2"\n                (blur)="handleRgbaInputBlur()"\n                (valueChange)="handleRgbaValueChange()"\n            >\n            </kendo-numerictextbox>\n        </div>\n        <div class="k-hbox k-gradient-values">\n            <div class="k-hex-value">hex</div>\n            <div>r</div>\n            <div>g</div>\n            <div>b</div>\n            <div *ngIf="opacity">a</div>\n        </div>\n    '}]}],t.ctorParameters=function(){return[{type:i.ElementRef}]},t.propDecorators={value:[{type:i.Input}],opacity:[{type:i.Input}],disabled:[{type:i.Input}],readonly:[{type:i.Input}],valueChange:[{type:i.Output}],colorInputClass:[{type:i.HostBinding,args:["class.k-colorinputs"]}]},t}(),ge=function(){function t(t,e){this.host=t,this.ngZone=e}return t.prototype.ngAfterContentInit=function(){this.focusOnNextTick()},t.prototype.focusOnNextTick=function(){var t=this;this.ngZone.runOutsideAngular((function(){return setTimeout((function(){return t.host.nativeElement.focus()}))}))},t.decorators=[{type:i.Directive,args:[{selector:"[kendoFocusOnDomReady]"}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},t}(),ve=[ce,de,fe],ye=[me,ge],be=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[ve,ye],exports:[ve],imports:[Ut,Yt,M.CommonModule,R.PopupModule,S.DraggableModule]}]}],t}(),we=function(){function t(){this.kendoClass=!0}return t.decorators=[{type:i.Directive,args:[{selector:"input[kendoCheckBox]"}]}],t.propDecorators={kendoClass:[{type:i.HostBinding,args:["class.k-checkbox"]}]},t}(),ke=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[we],exports:[we],imports:[M.CommonModule]}]}],t}(),Ce=function(){function t(){this.kendoClass=!0}return t.decorators=[{type:i.Directive,args:[{selector:"input[kendoRadioButton]"}]}],t.propDecorators={kendoClass:[{type:i.HostBinding,args:["class.k-radio"]}]},t}(),Se=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[Ce],exports:[Ce],imports:[M.CommonModule]}]}],t}(),xe=0,Oe=function(){function t(){this.hostClass=!0,this.align="start",this.id="kendo-error-"+xe++,this.roleAttribute="alert"}return Object.defineProperty(t.prototype,"startClass",{get:function(){return"start"===this.align},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endClass",{get:function(){return"end"===this.align},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idAttribute",{get:function(){return this.id},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Component,args:[{selector:"kendo-formerror",template:"\n        <ng-content></ng-content>\n    "}]}],t.propDecorators={hostClass:[{type:i.HostBinding,args:["class.k-form-error"]}],align:[{type:i.Input}],roleAttribute:[{type:i.HostBinding,args:["attr.role"]}],startClass:[{type:i.HostBinding,args:["class.k-text-start"]}],endClass:[{type:i.HostBinding,args:["class.k-text-end"]}],idAttribute:[{type:i.HostBinding,args:["attr.id"]}]},t}(),Ie=0,_e=function(){function t(){this.align="start",this.id="kendo-hint-"+Ie++,this.hostClass=!0}return Object.defineProperty(t.prototype,"startClass",{get:function(){return"start"===this.align},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endClass",{get:function(){return"end"===this.align},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idAttribute",{get:function(){return this.id},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Component,args:[{selector:"kendo-formhint",template:"\n        <ng-content></ng-content>\n    "}]}],t.propDecorators={align:[{type:i.Input}],hostClass:[{type:i.HostBinding,args:["class.k-form-hint"]}],startClass:[{type:i.HostBinding,args:["class.k-text-start"]}],endClass:[{type:i.HostBinding,args:["class.k-text-end"]}],idAttribute:[{type:i.HostBinding,args:["attr.id"]}]},t}(),Ee=function(){function t(t,e){var n=this;this.renderer=t,this.localizationService=e,this.hostClass=!0,this.showHints="initial",this.orientation="vertical",this.showErrors="initial",this.subscriptions=new r.Subscription,this.rtl=!1,this.subscriptions.add(this.localizationService.changes.subscribe((function(t){var e=t.rtl;n.rtl=e,n.direction=n.rtl?"rtl":"ltr"})))}return Object.defineProperty(t.prototype,"errorClass",{get:function(){return!!this.control&&(this.control.invalid&&(this.control.touched||this.control.dirty))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return!!this.control&&(!this.isRadioControl(this.control)&&(this.disabledControl()||this.disabledElement()||this.disabledKendoInput()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formControls",{set:function(t){this.validateFormControl(t),this.control=t.first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontal",{get:function(){return"horizontal"===this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasHints",{get:function(){return"always"===this.showHints||this.showHintsInitial()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasErrors",{get:function(){return"always"===this.showErrors||this.showErrorsInitial()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.setDescription()},t.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},t.prototype.disabledKendoInput=function(){return this.kendoInput&&this.kendoInput.disabled},t.prototype.disabledControl=function(){return this.control.disabled},t.prototype.disabledElement=function(){return this.controlElementRefs.toArray().every((function(t){return t.nativeElement.hasAttribute("disabled")}))},t.prototype.validateFormControl=function(t){if(Object(i.isDevMode)()&&1!==t.length&&!this.isControlGroup(t))throw new Error("The `kendo-formfield` component should contain only one control of type NgControl with a formControlName(https://angular.io/api/forms/FormControlName)or an ngModel(https://angular.io/api/forms/NgModel) binding.")},t.prototype.isControlGroup=function(t){var e=this;if(!t.length)return!1;var n=t.first.name;return t.toArray().every((function(t){return t.name===n&&e.isRadioControl(t)}))},t.prototype.isRadioControl=function(t){return t.valueAccessor instanceof o.RadioControlValueAccessor},t.prototype.updateDescription=function(){var t=this,e=this.findControlElements();e&&e.forEach((function(e){var n=t.generateDescriptionIds(e);t.renderer.setAttribute(e,"aria-describedby",n)}))},t.prototype.findControlElements=function(){if(this.controlElementRefs)return this.kendoInput&&this.kendoInput.focusableId&&Object(S.isDocumentAvailable)()?[document.getElementById(this.kendoInput.focusableId)]:this.controlElementRefs.map((function(t){return t.nativeElement}))},t.prototype.generateDescriptionIds=function(t){var e=new Set;t.hasAttribute("aria-describedby")&&t.getAttribute("aria-describedby").split(" ").forEach((function(t){t.includes("kendo-hint-")||t.includes("kendo-error-")||e.add(t)}));return this.hintChildren.forEach((function(t){e.add(t.id)})),this.errorChildren.forEach((function(t){e.add(t.id)})),Array.from(e).join(" ")},t.prototype.showHintsInitial=function(){if(!this.control)return!0;var t=this.control,e=t.valid,n=t.untouched,i=t.pristine;return e||n&&i},t.prototype.showErrorsInitial=function(){if(!this.control)return!1;var t=this.control,e=t.invalid,n=t.dirty,i=t.touched;return e&&(n||i)},t.prototype.setDescription=function(){var t=this;this.updateDescription(),this.subscriptions.add(this.errorChildren.changes.subscribe((function(){return t.updateDescription()}))),this.subscriptions.add(this.hintChildren.changes.subscribe((function(){return t.updateDescription()})))},t.decorators=[{type:i.Component,args:[{selector:"kendo-formfield",template:'\n        <ng-content select="label, kendo-label"></ng-content>\n        <div [class.k-form-field-wrap]="horizontal">\n            <ng-content></ng-content>\n            <ng-content select="kendo-formhint" *ngIf="hasHints"></ng-content>\n            <ng-content select="kendo-formerror" *ngIf="hasErrors"></ng-content>\n        </div>\n    ',providers:[C.LocalizationService,{provide:C.L10N_PREFIX,useValue:"kendo.formfield"}]}]}],t.ctorParameters=function(){return[{type:i.Renderer2},{type:C.LocalizationService}]},t.propDecorators={hostClass:[{type:i.HostBinding,args:["class.k-form-field"]}],direction:[{type:i.HostBinding,args:["attr.dir"]}],errorClass:[{type:i.HostBinding,args:["class.k-form-field-error"]}],disabledClass:[{type:i.HostBinding,args:["class.k-form-field-disabled"]}],formControls:[{type:i.ContentChildren,args:[o.NgControl,{descendants:!0,static:!0}]}],controlElementRefs:[{type:i.ContentChildren,args:[o.NgControl,{read:i.ElementRef,descendants:!0,static:!0}]}],kendoInput:[{type:i.ContentChild,args:[S.KendoInput,{static:!0}]}],errorChildren:[{type:i.ContentChildren,args:[Oe,{descendants:!0,static:!0}]}],hintChildren:[{type:i.ContentChildren,args:[_e,{descendants:!0,static:!0}]}],showHints:[{type:i.Input}],orientation:[{type:i.Input}],showErrors:[{type:i.Input}]},t}(),Te=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[_e,Oe,Ee],exports:[_e,Oe,Ee],imports:[M.CommonModule]}]}],t}(),De=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{exports:[te,Ut,Zt,Yt,Qt,be,ke,Se,Te],imports:[M.CommonModule]}]}],t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(21),s=function(){function t(){this.valueChange=new o.EventEmitter}return t.prototype.onValueChange=function(t){this.valueChange.emit(t)},t.prototype.focus=function(){this.dropDownList.focus()},i.__decorate([o.Input(),i.__metadata("design:type",Array)],t.prototype,"data",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"value",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],t.prototype,"defaultItem",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Function)],t.prototype,"itemDisabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"title",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],t.prototype,"tabindex",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],t.prototype,"valueChange",void 0),i.__decorate([o.ViewChild("element"),i.__metadata("design:type",o.ElementRef)],t.prototype,"element",void 0),i.__decorate([o.ViewChild("element",{read:r.DropDownListComponent}),i.__metadata("design:type",r.DropDownListComponent)],t.prototype,"dropDownList",void 0),t=i.__decorate([o.Component({selector:"kendo-editor-format-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'tag\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <ng-container [ngSwitch]="dataItem.tag">\n                    <span *ngSwitchCase="\'h1\'" style="display: block; font-size: 2em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h2\'" style="display: block; font-size: 1.5em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h3\'" style="display: block; font-size: 1.17em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h4\'" style="display: block; font-size: 1em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h5\'" style="display: block; font-size: .83em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h6\'" style="display: block; font-size: .67em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'p\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'blockquote\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchDefault>{{ dataItem.text }}</span>\n                </ng-container>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],t)}();e.FormatDropDownListComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(21),s=function(){function t(){this.valueChange=new o.EventEmitter}return t.prototype.onValueChange=function(t){this.valueChange.emit(t)},t.prototype.focus=function(){this.dropDownList.focus()},i.__decorate([o.Input(),i.__metadata("design:type",Array)],t.prototype,"data",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"value",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],t.prototype,"defaultItem",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Function)],t.prototype,"itemDisabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"title",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],t.prototype,"tabindex",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],t.prototype,"valueChange",void 0),i.__decorate([o.ViewChild("element"),i.__metadata("design:type",o.ElementRef)],t.prototype,"element",void 0),i.__decorate([o.ViewChild("element",{read:r.DropDownListComponent}),i.__metadata("design:type",r.DropDownListComponent)],t.prototype,"dropDownList",void 0),t=i.__decorate([o.Component({selector:"kendo-editor-fontfamily-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'fontName\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <span [ngStyle]="{ \'font-family\': dataItem.fontName }">\n                    {{ dataItem.text }}\n                </span>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],t)}();e.FontFamilyDropDownListComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(21),s=function(){function t(){this.valueChange=new o.EventEmitter}return t.prototype.onValueChange=function(t){this.valueChange.emit(t)},t.prototype.focus=function(){this.dropDownList.focus()},i.__decorate([o.Input(),i.__metadata("design:type",Array)],t.prototype,"data",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"value",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],t.prototype,"defaultItem",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Function)],t.prototype,"itemDisabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"title",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],t.prototype,"tabindex",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],t.prototype,"valueChange",void 0),i.__decorate([o.ViewChild("element"),i.__metadata("design:type",o.ElementRef)],t.prototype,"element",void 0),i.__decorate([o.ViewChild("element",{read:r.DropDownListComponent}),i.__metadata("design:type",r.DropDownListComponent)],t.prototype,"dropDownList",void 0),t=i.__decorate([o.Component({selector:"kendo-editor-fontsize-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'size\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            [disabled]="disabled"\n            [tabindex]="tabindex"\n            (valueChange)="onValueChange($event)"\n        >\n        </kendo-dropdownlist>\n    '})],t)}();e.FontSizeDropDownListComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(23),a=n(6),l=n(17),c=n(7),u=n(15),p=n(33),d=function(t){function e(e,n,i){var o=t.call(this)||this;return o.editor=e,o.localization=n,o.dialogService=i,o.tabindex=-1,o.disabled=!1,o}var n;return i.__extends(e,t),n=e,Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get(this.editorCommand)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.subs=this.editor.stateChange.subscribe((function(e){var n=e.style;t.disabled=n.disabled}))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},e.prototype.handleValueChange=function(t){this.editor.exec(this.editorCommand,t),this.editor.focus()},e.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.handleValueChange(t.color)},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return l.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:p.ColorPickerDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,value:this.value,title:this.title,editorCommand:this.editorCommand,paletteSettings:this.paletteSettings,icon:this.icon})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.colorPickerButton.nativeElement.focus():this.colorPicker.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"value",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"icon",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],e.prototype,"paletteSettings",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"editorCommand",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([o.ViewChild("toolbarTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"toolbarTemplate",void 0),i.__decorate([o.ViewChild("popupTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),i.__decorate([o.ViewChild("colorpicker",{read:o.ElementRef}),i.__metadata("design:type",o.ElementRef)],e.prototype,"element",void 0),i.__decorate([o.ViewChild("colorpicker",{read:s.ColorPickerComponent}),i.__metadata("design:type",s.ColorPickerComponent)],e.prototype,"colorPicker",void 0),i.__decorate([o.ViewChild("colorPickerButton",{read:o.ElementRef}),i.__metadata("design:type",o.ElementRef)],e.prototype,"colorPickerButton",void 0),e=n=i.__decorate([o.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-toolbar-colorpicker",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-colorpicker\n                #colorpicker\n                [view]="\'palette\'"\n                [format]="\'hex\'"\n                [attr.title]="title"\n                [icon]="icon"\n                [value]="value"\n                [paletteSettings]="paletteSettings"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="handleValueChange($event)"\n                (activeColorClick)="handleActiveColorClick($event)"\n            >\n            </kendo-colorpicker>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #colorPickerButton\n                class="k-overflow-button"\n                [icon]="icon"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),i.__param(0,o.Host()),i.__metadata("design:paramtypes",[c.EditorComponent,a.EditorLocalizationService,u.DialogService])],e)}(r.ToolBarToolComponent);e.EditorColorPickerComponent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commandIcons={alignCenter:"align-center",alignJustify:"align-justify",alignLeft:"align-left",alignRight:"align-right",bold:"bold",cleanFormatting:"clear-css",createLink:"link-horizontal",indent:"indent-increase",insertFile:"file-add",insertImage:"image",insertOrderedList:"list-ordered",insertUnorderedList:"list-unordered",italic:"italic",outdent:"indent-decrease",redo:"redo",strikethrough:"strikethrough",subscript:"sub-script",superscript:"sup-script",underline:"underline",undo:"undo",unlink:"unlink-horizontal",viewSource:"html",foreColor:"foreground-color",backColor:"background",insertTable:"table-insert",addColumnBefore:"table-column-insert-left",addColumnAfter:"table-column-insert-right",addRowBefore:"table-row-insert-above",addRowAfter:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCells:"cells-merge",splitCell:"cell-split-horizontally",deleteTable:"table-delete"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(15),s=n(6),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i.data="",i}return i.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.textarea.nativeElement.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.editor.exec("setHTML",this.getData()),this.dialog.close(),this.editor.focus()},e.prototype.getData=function(){return this.textarea.nativeElement.value},e.prototype.setData=function(){this.data=this.indent(this.editor.getSource())},e.prototype.textFor=function(t){return this.localization.get(t)},e.prototype.indent=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},i.__decorate([o.Input(),i.__metadata("design:type",Object)],e.prototype,"editor",void 0),i.__decorate([o.ViewChild("textarea"),i.__metadata("design:type",o.ElementRef)],e.prototype,"textarea",void 0),e=i.__decorate([o.Component({styles:["\n            >>> .k-editor-textarea {\n                height: 100%;\n            }\n        "],template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'viewSource\') }}\n        </kendo-dialog-titlebar>\n        <textarea [value]="data" #textarea class="k-textarea k-editor-textarea"></textarea>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogUpdate\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,s.EditorLocalizationService])],e)}(r.DialogContentBase);e.SourceDialogComponent=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(9),s=n(15),a=n(19),l=n(17),c=n(6),u=n(1),p=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i.src=new r.FormControl("",r.Validators.required),i.alt=new r.FormControl(""),i.width=new r.FormControl("",r.Validators.min(1)),i.height=new r.FormControl("",r.Validators.min(1)),i.data={alt:"",height:"",src:"",width:""},i.imageData=new r.FormGroup({alt:i.alt,height:i.height,src:i.src,width:i.width}),i}return i.__extends(e,t),e.prototype.ngOnInit=function(){this.srcInputId="k-"+u.guid(),this.altTextInputId="k-"+u.guid(),this.widthInputId="k-"+u.guid(),this.heightInputId="k-"+u.guid()},e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.srcInput.nativeElement.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.src.value&&(this.editor.exec("insertImage",this.getData()),this.dialog.close(),this.editor.focus())},e.prototype.setData=function(t){var e=a.getNodeFromSelection(t);e&&(this.src.patchValue(e.attrs.src),this.alt.patchValue(e.attrs.alt),this.width.patchValue(e.attrs.width),this.height.patchValue(e.attrs.height))},e.prototype.textFor=function(t){return this.localization.get(t)},e.prototype.getData=function(){return{alt:this.alt.value,height:this.normalizeDimension(this.height.value),src:this.src.value,width:this.normalizeDimension(this.width.value)}},e.prototype.normalizeDimension=function(t){return Number.isNaN(parseInt(t,10))||parseInt(t,10)<=0?"":l.safeString(parseInt(t,10))},i.__decorate([o.Input(),i.__metadata("design:type",Object)],e.prototype,"editor",void 0),i.__decorate([o.ViewChild("srcInput",{read:o.ElementRef}),i.__metadata("design:type",o.ElementRef)],e.prototype,"srcInput",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'insertImage\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <div class="k-edit-label">\n                        <label [for]="srcInputId">{{ textFor(\'imageWebAddress\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="srcInputId" #srcInput [formControl]="src" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="altTextInputId">{{ textFor(\'imageAltText\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="altTextInputId" [formControl]="alt" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="widthInputId">{{ textFor(\'imageWidth\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="widthInputId" [formControl]="width" type="text" class="k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label [for]="heightInputId">{{ textFor(\'imageHeight\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [id]="heightInputId" [formControl]="height" type="text" class="k-textbox" />\n                    </div>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="imageData.invalid"\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogInsert\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[s.DialogRef,c.EditorLocalizationService])],e)}(s.DialogContentBase);e.ImageDialogComponent=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(9),s=n(15),a=n(19),l=n(20),c=n(17),u=n(6),p=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i.linkForm=new r.FormGroup({href:new r.FormControl("",r.Validators.required),text:new r.FormControl({value:"",disabled:!0},r.Validators.required),title:new r.FormControl("")}),i}return i.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.hrefInput.nativeElement.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){var t=this.getData();this.editor.exec(this.command,t),this.dialog.close(),this.editor.focus()},Object.defineProperty(e.prototype,"titleText",{get:function(){return this.localization.get(this.command)},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){"createLink"===this.command&&this.linkForm.addControl("target",new r.FormControl);var e=a.getMark(t,l.schema.marks.link);e?this.linkForm.reset({href:e.attrs.href,title:e.attrs.title,target:c.isPresent(e.attrs.target),text:this.setLinkText(t)}):t.selection.empty||this.linkForm.patchValue({text:a.getSelectionText(t)})},e.prototype.textForWithPrefix=function(t){var e="createLink"===this.command?"link":"file";return this.textFor(e+t)},e.prototype.textFor=function(t){return this.localization.get(t)},e.prototype.setLinkText=function(t){var e=t.selection;if(e.empty&&e.$cursor){var n=e.$cursor,i=n.index();return n.parent.child(i).text}return a.getSelectionText(t)},e.prototype.getData=function(){var t=this.linkForm.value;return c.isPresent(this.linkForm.controls.target)&&(t.target=t.target?"_blank":null),t},i.__decorate([o.Input(),i.__metadata("design:type",Object)],e.prototype,"editor",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"command",void 0),i.__decorate([o.ViewChild("hrefInput",{read:o.ElementRef}),i.__metadata("design:type",o.ElementRef)],e.prototype,"hrefInput",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ titleText }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <form novalidate [formGroup]="linkForm">\n                        <div class="k-edit-label">\n                            <label (click)="hrefInput.focus()">{{ textForWithPrefix(\'WebAddress\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #hrefInput formControlName="href" type="text" class="k-textbox" />\n                        </div>\n\n                        <div class="k-edit-label">\n                            <label (click)="textInput.focus()">{{ textForWithPrefix(\'Text\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #textInput formControlName="text" type="text" class="k-textbox" />\n                        </div>\n\n                        <div class="k-edit-label">\n                            <label (click)="titleInput.focus()">{{ textForWithPrefix(\'Title\') }}</label>\n                        </div>\n                        <div class="k-edit-field">\n                            <input #titleInput formControlName="title" type="text" class="k-textbox" />\n                        </div>\n                        <ng-container *ngIf="command === \'createLink\'">\n                            <div class="k-edit-label"></div>\n                            <div class="k-edit-field">\n                                <input type="checkbox" id="k-target-blank" class="k-checkbox" formControlName="target" />\n                                <label class="k-checkbox-label" for="k-target-blank">{{ textForWithPrefix(\'OpenInNewWindow\') }}</label>\n                            </div>\n                        </ng-container>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="linkForm.invalid" (click)="onConfirmAction()" [primary]="true">\n                {{ textFor(\'dialogInsert\') }}\n            </button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[s.DialogRef,u.EditorLocalizationService])],e)}(s.DialogContentBase);e.FileLinkDialogComponent=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(15),s=n(6),a=n(7),l=n(24),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i.data=[],i}return i.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.formatDropDownList.dropDownList.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec("format",{tag:this.value}),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},e.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([o.Input(),i.__metadata("design:type",a.EditorComponent)],e.prototype,"editor",void 0),i.__decorate([o.ViewChild("formatDropDownList",{read:l.FormatDropDownListComponent}),i.__metadata("design:type",l.FormatDropDownListComponent)],e.prototype,"formatDropDownList",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'format\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-format-dropdownlist\n                        #formatDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-format-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,s.EditorLocalizationService])],e)}(r.DialogContentBase);e.FormatDialogComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(15),s=n(6),a=n(7),l=n(23),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i}return i.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.colorPicker.focus()}))},e.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.value=t.color},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec(this.editorCommand,this.value),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.value=t.value,this.editorCommand=t.editorCommand,this.paletteSettings=t.paletteSettings,this.icon=t.icon},e.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([o.Input(),i.__metadata("design:type",a.EditorComponent)],e.prototype,"editor",void 0),i.__decorate([o.ViewChild("colorpicker",{read:l.ColorPickerComponent}),i.__metadata("design:type",l.ColorPickerComponent)],e.prototype,"colorPicker",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(editorCommand) }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-colorpicker\n                        #colorpicker\n                        [view]="\'palette\'"\n                        [format]="\'hex\'"\n                        [attr.title]="title"\n                        [icon]="icon"\n                        [(value)]="value"\n                        [paletteSettings]="paletteSettings"\n                        (activeColorClick)="handleActiveColorClick($event)"\n                    >\n                    </kendo-colorpicker>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,s.EditorLocalizationService])],e)}(r.DialogContentBase);e.ColorPickerDialogComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(15),s=n(6),a=n(7),l=n(25),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i.data=[],i}return i.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.fontFamilyDropDownList.dropDownList.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontFamily",this.value),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},e.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([o.Input(),i.__metadata("design:type",a.EditorComponent)],e.prototype,"editor",void 0),i.__decorate([o.ViewChild("fontFamilyDropDownList",{read:l.FontFamilyDropDownListComponent}),i.__metadata("design:type",l.FontFamilyDropDownListComponent)],e.prototype,"fontFamilyDropDownList",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'fontFamily\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontfamily-dropdownlist\n                        #fontFamilyDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontfamily-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,s.EditorLocalizationService])],e)}(r.DialogContentBase);e.FontFamilyDialogComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(15),s=n(6),a=n(7),l=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i}return i.__extends(e,t),e.prototype.onCancelAction=function(){this.dialog.close(),this.editor.focus()},e.prototype.onCellClick=function(t){this.dialog.close(),this.editor.exec("insertTable",t),this.editor.focus()},e.prototype.setData=function(t){this.editor=t.editor},e.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([o.Input(),i.__metadata("design:type",a.EditorComponent)],e.prototype,"editor",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'insertTable\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-ct-popup k-window-content" style="text-align: center;">\n                    <kendo-popup-table-grid (cellClick)="onCellClick($event)"></kendo-popup-table-grid>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,s.EditorLocalizationService])],e)}(r.DialogContentBase);e.InsertTableDialogComponent=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(15),s=n(6),a=n(7),l=n(26),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dialog=e,i.localization=n,i.data=[],i}return i.__extends(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve(null).then((function(){t.fontSizeDropDownList.dropDownList.focus()}))},e.prototype.onCancelAction=function(){this.dialog.close()},e.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontSize",this.value),this.dialog.close()},e.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},e.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([o.Input(),i.__metadata("design:type",a.EditorComponent)],e.prototype,"editor",void 0),i.__decorate([o.ViewChild("fontSizeDropDownList",{read:l.FontSizeDropDownListComponent}),i.__metadata("design:type",l.FontSizeDropDownListComponent)],e.prototype,"fontSizeDropDownList",void 0),e=i.__decorate([o.Component({template:'\n        <kendo-dialog-titlebar (close)="onCancelAction()">\n            {{ textFor(\'fontSize\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontsize-dropdownlist\n                        #fontSizeDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontsize-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[r.DialogRef,s.EditorLocalizationService])],e)}(r.DialogContentBase);e.FontSizeDialogComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=function(){function t(t,e,n,i){this.command=t,this.button=e,this.editor=n,this.localization=i}return t.prototype.ngOnInit=function(){var t=this;this.subs=this.editor.stateChange.subscribe(this.onStateChange.bind(this)),this.subs.add(this.button.click.subscribe(this.clickHandler.bind(this))),Promise.resolve(null).then((function(){var e=t.localization.get(t.command);e&&(t.button.showText="overflow",t.button.showIcon="both",t.button.text=e),t.button.icon||(t.button.icon=i.commandIcons[t.command]),t.button.title=e}))},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t.prototype.clickHandler=function(){},t.prototype.onStateChange=function(t){},t}();e.EditorCommandBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"alignCenter",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"alignJustify",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"alignLeft",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"alignRight",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"backColor",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"bold",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"cleanFormatting",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"createLink",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"fontFamily",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"fontSize",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"foreColor",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"format",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"indent",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"insertFile",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"insertImage",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"insertOrderedList",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"insertUnorderedList",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"italic",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"outdent",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"redo",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"strikethrough",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"subscript",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"superscript",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"underline",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"undo",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"unlink",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"viewSource",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"insertTable",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"addColumnBefore",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"addColumnAfter",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"addRowBefore",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"addRowAfter",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"deleteColumn",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"deleteRow",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"deleteTable",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"dialogApply",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"dialogCancel",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"dialogInsert",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"dialogUpdate",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"fileText",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"fileTitle",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"fileWebAddress",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"imageAltText",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"imageHeight",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"imageWebAddress",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"imageWidth",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"linkOpenInNewWindow",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"linkText",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"linkTitle",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"linkWebAddress",void 0),e}(n(3).ComponentMessages);e.Messages=r},function(t,e){t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7);e.EditorComponent=i.EditorComponent;var o=n(44);e.EditorModule=o.EditorModule},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),o=n(19),r=function(t,e){return o.alignBlocks(o.alignRemoveRules)(t,e)},s={bold:function(){return o.toggleInlineFormat(o.bold)},cleanFormatting:function(){return o.removeAllMarks({except:i.schema.marks.link})},createLink:function(t){return o.applyLink({mark:"link",attrs:t})},fontFamily:function(t){return o.applyInlineStyle({style:"font-family",value:t})},fontSize:function(t){return o.applyInlineStyle({style:"font-size",value:t+"px"})},insertFile:function(t){return o.applyLink({mark:"link",attrs:t})},insertText:function(t){return o.insertText(t)},italic:function(){return o.toggleInlineFormat(o.italic)},strikethrough:function(){return o.toggleInlineFormat(o.strikethrough)},subscript:function(){return o.toggleInlineFormat(o.subscript)},superscript:function(){return o.toggleInlineFormat(o.superscript)},underline:function(){return o.toggleInlineFormat(o.underline)},unlink:function(){return o.removeLink(o.link)},foreColor:function(t){return o.applyInlineStyle({style:"color",value:t})},backColor:function(t){return o.applyInlineStyle({style:"background-color",value:t})}},a={alignCenter:function(){return function(t,e){return o.isAligned(t,o.alignCenterRules)?r(t,e):o.alignBlocks(o.alignCenterRules)(t,e)}},alignJustify:function(){return function(t,e){return o.isAligned(t,o.alignJustifyRules)?r(t,e):o.alignBlocks(o.alignJustifyRules)(t,e)}},alignLeft:function(){return function(t,e){return o.isAligned(t,o.alignLeftRules)?r(t,e):o.alignBlocks(o.alignLeftRules)(t,e)}},alignRight:function(){return function(t,e){return o.isAligned(t,o.alignRightRules)?r(t,e):o.alignBlocks(o.alignRightRules)(t,e)}},format:function(t){return o.formatBlockElements(t.tag)},getHTML:function(){return o.getHtml},indent:function(){return o.indent},insertImage:function(t){return o.insertImage(t)},insertOrderedList:function(){return o.toggleOrderedList},insertUnorderedList:function(){return o.toggleUnorderedList},outdent:function(){return o.outdent},redo:function(){return o.redo},setHTML:function(t){return o.setHtml(t)},undo:function(){return o.undo}};e.insertTable=function(t){return function(e,n){var i=o.createTable(e.schema.nodes,t.rows,t.cols);i&&o.insertNode(i,!0)(e,n)}};var l={insertTable:function(t){return e.insertTable(t)},addColumnBefore:function(){return o.addColumnBefore},addColumnAfter:function(){return o.addColumnAfter},addRowBefore:function(){return o.addRowBefore},addRowAfter:function(){return o.addRowAfter},deleteRow:function(){return o.deleteRow},deleteColumn:function(){return o.deleteColumn},mergeCells:function(){return o.mergeCells},splitCell:function(){return o.splitCell},deleteTable:function(){return o.deleteTable}};e.editorCommands=Object.assign({},s,a,l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),o=n(20);e.getToolbarState=function(t){return{alignCenter:{selected:i.isAligned(t,i.alignCenterRules),disabled:!1},alignJustify:{selected:i.isAligned(t,i.alignJustifyRules),disabled:!1},alignLeft:{selected:i.isAligned(t,i.alignLeftRules),disabled:!1},alignRight:{selected:i.isAligned(t,i.alignRightRules),disabled:!1},bold:{selected:i.hasMark(t,i.bold),disabled:!1},cleanFormatting:{selected:!1,disabled:t.selection.empty},format:{selected:i.activeNode(t),disabled:!1},indent:{selected:!1,disabled:!(i.canIndentAsListItem(t,o.schema.nodes.list_item)||i.canBeIndented(t,i.indentRules))},insertOrderedList:{selected:i.hasNode(t,o.schema.nodes.ordered_list),disabled:!1},insertUnorderedList:{selected:i.hasNode(t,o.schema.nodes.bullet_list),disabled:!1},italic:{selected:i.hasMark(t,i.italic),disabled:!1},unlink:{selected:!1,disabled:!i.hasMark(t,i.link)},outdent:{selected:!1,disabled:!(i.canOutdentAsListItem(t,i.outdentRules)||i.canBeIndented(t,i.outdentRules))},redo:{selected:!1,disabled:!i.redo(t)},strikethrough:{selected:i.hasMark(t,i.strikethrough),disabled:!1},style:{selected:i.getActiveMarks(t,o.schema.marks.style),disabled:!1},subscript:{selected:i.hasMark(t,i.subscript),disabled:!1},superscript:{selected:i.hasMark(t,i.superscript),disabled:!1},underline:{selected:i.hasMark(t,i.underline),disabled:!1},undo:{selected:!1,disabled:!i.undo(t)},createLink:{selected:!1,disabled:t.selection.empty},insertFile:{selected:!1,disabled:t.selection.empty},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!i.addColumnBefore(t)},addColumnAfter:{selected:!1,disabled:!i.addColumnAfter(t)},addRowBefore:{selected:!1,disabled:!i.addRowBefore(t)},addRowAfter:{selected:!1,disabled:!i.addRowAfter(t)},deleteRow:{selected:!1,disabled:!i.deleteRow(t)},deleteColumn:{selected:!1,disabled:!i.deleteColumn(t)},mergeCells:{selected:!1,disabled:!i.mergeCells(t)},splitCell:{selected:!1,disabled:!i.splitCell(t)},deleteTable:{selected:!1,disabled:!i.deleteTable(t)}}},e.initialToolBarState={alignCenter:{selected:!1,disabled:!1},alignJustify:{selected:!1,disabled:!1},alignLeft:{selected:!1,disabled:!1},alignRight:{selected:!1,disabled:!1},bold:{selected:!1,disabled:!1},italic:{selected:!1,disabled:!1},underline:{selected:!1,disabled:!1},strikethrough:{selected:!1,disabled:!1},subscript:{selected:!1,disabled:!1},superscript:{selected:!1,disabled:!1},format:{selected:{text:"Format",tag:null},disabled:!1},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!1},cleanFormatting:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!1},outdent:{selected:!1,disabled:!1},insertOrderedList:{selected:!1,disabled:!1},insertUnorderedList:{selected:!1,disabled:!1},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0}},e.disabledToolBarState={alignCenter:{selected:!1,disabled:!0},alignJustify:{selected:!1,disabled:!0},alignLeft:{selected:!1,disabled:!0},alignRight:{selected:!1,disabled:!0},bold:{selected:!1,disabled:!0},italic:{selected:!1,disabled:!0},underline:{selected:!1,disabled:!0},strikethrough:{selected:!1,disabled:!0},subscript:{selected:!1,disabled:!0},superscript:{selected:!1,disabled:!0},format:{selected:{text:"Format",tag:null},disabled:!0},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!0},cleanFormatting:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!0},outdent:{selected:!1,disabled:!0},insertOrderedList:{selected:!1,disabled:!0},insertUnorderedList:{selected:!1,disabled:!0},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!0},viewSource:{selected:!1,disabled:!0},insertTable:{selected:!1,disabled:!0},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  position: relative;\n  min-height: 100%;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror li {\n  position: relative;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',e.tablesStyles='\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n',e.rtlStyles="body { direction: rtl }"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(10),s=n(9),a=n(8),l=n(21),c=n(15),u=n(18),p=n(23),d=n(23),h=n(7),f=n(30),m=n(29),g=n(31),v=n(32),y=n(33),b=n(34),w=n(35),k=n(45),C=n(46),S=n(47),x=n(27),O=n(48),I=n(49),_=n(50),E=n(51),T=n(52),D=n(53),P=n(54),B=n(55),A=n(56),M=n(57),R=n(58),j=n(59),z=n(60),F=n(61),N=n(62),L=n(63),V=n(64),H=n(65),$=n(66),W=n(67),K=n(68),U=n(69),q=n(70),G=n(71),J=n(72),Z=n(73),X=n(74),Y=n(75),Q=n(76),tt=n(77),et=n(78),nt=n(79),it=n(80),ot=n(81),rt=n(82),st=n(83),at=n(84),lt=n(24),ct=n(25),ut=n(26),pt=n(36),dt=[_.EditorAlignLeftButtonDirective,E.EditorAlignCenterButtonDirective,T.EditorAlignRightButtonDirective,D.EditorAlignJustifyButtonDirective,q.EditorInsertFileButtonDirective,P.EditorRedoButtonDirective,B.EditorUndoButtonDirective,A.EditorInsertImageButtonDirective,M.EditorIndentButtonDirective,R.EditorOutdentButtonDirective,j.EditorCreateLinkButtonDirective,z.EditorUnlinkButtonDirective,F.EditorInsertOrderedListButtonDirective,N.EditorInsertUnorderedListButtonDirective,L.EditorViewSourceButtonDirective,V.EditorBoldButtonDirective,H.EditorItalicButtonDirective,$.EditorUnderlineButtonDirective,W.EditorStrikethroughButtonDirective,K.EditorSubscriptButtonDirective,U.EditorSuperscriptButtonDirective,G.EditorForeColorDirective,J.EditorBackColorDirective,Z.EditorCleanFormattingButtonDirective,X.EditorAddColumnBeforeButtonDirective,Y.EditorAddColumnAfterButtonDirective,Q.EditorAddRowBeforeButtonDirective,tt.EditorAddRowAfterButtonDirective,et.EditorDeleteColumnButtonDirective,nt.EditorDeleteRowButtonDirective,it.EditorDeleteTableButtonDirective,ot.EditorMergeCellsButtonDirective,rt.EditorSplitCellButtonDirective,at.CustomMessagesComponent,st.LocalizedMessagesDirective],ht=[C.EditorFontSizeComponent,S.EditorFontFamilyComponent,k.EditorFormatComponent,x.EditorColorPickerComponent,O.EditorInsertTableButtonComponent],ft=[g.FileLinkDialogComponent,f.ImageDialogComponent,m.SourceDialogComponent,v.FormatDialogComponent,y.ColorPickerDialogComponent,b.FontFamilyDialogComponent,pt.FontSizeDialogComponent,w.InsertTableDialogComponent],mt=[I.PopupTableGridComponent,lt.FormatDropDownListComponent,ct.FontFamilyDropDownListComponent,ut.FontSizeDropDownListComponent],gt=function(){function t(){}return t=i.__decorate([o.NgModule({declarations:[h.EditorComponent,dt,ht,ft,mt],entryComponents:[ft],exports:[h.EditorComponent,dt,ht,a.ToolBarModule,u.ButtonModule,s.FormsModule,s.ReactiveFormsModule,mt],imports:[r.CommonModule,s.FormsModule,s.ReactiveFormsModule,u.ButtonModule,p.ColorPickerModule,c.DialogModule,l.DropDownsModule,d.NumericTextBoxModule,a.ToolBarModule,d.TextBoxModule]})],t)}();e.EditorModule=gt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(15),a=n(17),l=n(7),c=n(6),u=n(32),p=n(24),d=function(t){function e(e,n,i){var r=t.call(this)||this;return r.editor=e,r.dialogService=n,r.localization=i,r.disabled=!1,r.tabindex=-1,r.valueChange=new o.EventEmitter,r._data=[{text:"Paragraph",tag:"p"},{text:"Quotation",tag:"blockquote"},{text:"Heading 1",tag:"h1"},{text:"Heading 2",tag:"h2"},{text:"Heading 3",tag:"h3"},{text:"Heading 4",tag:"h4"},{text:"Heading 5",tag:"h5"},{text:"Heading 6",tag:"h6"}],r}var n;return i.__extends(e,t),n=e,Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.itemDisabled=function(e){return!(t.overflows||!t.formatDropDownList||t.formatDropDownList.dropDownList.isOpen)||null===e.dataItem.tag},setTimeout((function(){return t.defaultItem={text:t.title,tag:null}})),this.subs=this.editor.stateChange.subscribe((function(e){var n=e.format,i=t.data.findIndex((function(t){return t.tag===n.selected.tag}));t.value=-1!==i?n.selected.tag:null,t.disabled=n.disabled}))},e.prototype.onValueChange=function(t){a.isPresent(t)&&(this.editor.exec("format",{tag:t}),this.editor.focus(),this.valueChange.emit(this.data.find((function(e){return e.tag===t}))))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){var t=this.formatDropDownList.element;if(t)return a.outerWidth(t.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("format")},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:u.FormatDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.formatButton.nativeElement.focus():this.formatDropDownList.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},i.__decorate([o.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),i.__decorate([o.ViewChild("toolbarTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"toolbarTemplate",void 0),i.__decorate([o.ViewChild("popupTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),i.__decorate([o.ViewChild("formatDropDownList"),i.__metadata("design:type",p.FormatDropDownListComponent)],e.prototype,"formatDropDownList",void 0),i.__decorate([o.ViewChild("formatButton"),i.__metadata("design:type",o.ElementRef)],e.prototype,"formatButton",void 0),e=n=i.__decorate([o.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-toolbar-dropdownlist[kendoEditorFormat]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-format-dropdownlist\n                #formatDropDownList\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-format-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                #formatButton\n                [tabindex]="tabindex"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="\'apply-format\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),i.__param(0,o.Host()),i.__metadata("design:paramtypes",[l.EditorComponent,s.DialogService,c.EditorLocalizationService])],e)}(r.ToolBarToolComponent);e.EditorFormatComponent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(17),a=n(7),l=n(6),c=n(15),u=n(36),p=n(26),d=function(t){function e(e,n,i){var r=t.call(this)||this;return r.editor=e,r.dialogService=n,r.localization=i,r.disabled=!1,r.tabindex=-1,r.valueChange=new o.EventEmitter,r._data=[{text:"8px",size:8},{text:"10px",size:10},{text:"12px",size:12},{text:"14px",size:14},{text:"18px",size:18},{text:"24px",size:24},{text:"36px",size:36}],r}var n;return i.__extends(e,t),n=e,Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.itemDisabled=function(e){return!(t.overflows||!t.fontSizeDropDownList||t.fontSizeDropDownList.dropDownList.isOpen)||null===e.dataItem.size},setTimeout((function(){return t.defaultItem={text:t.title,size:null}})),this.subs=this.editor.stateChange.subscribe((function(e){var n=e.style;t.value=(s.getUniqueStyleValues(n.selected,"font-size").match(/\d+/g)||[null])[0],t.disabled=n.disabled}))},e.prototype.onValueChange=function(t){s.isPresent(t)&&(this.editor.exec("fontSize",t),this.editor.focus(),this.valueChange.emit(this.data.find((function(e){return e.size===parseInt(t,10)}))))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return s.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("fontSize")},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:u.FontSizeDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.fontSizeButton.nativeElement.focus():this.fontSizeDropDownList.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},i.__decorate([o.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),i.__decorate([o.ViewChild("toolbarTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"toolbarTemplate",void 0),i.__decorate([o.ViewChild("popupTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),i.__decorate([o.ViewChild("element"),i.__metadata("design:type",o.ElementRef)],e.prototype,"element",void 0),i.__decorate([o.ViewChild("element",{read:p.FontSizeDropDownListComponent}),i.__metadata("design:type",p.FontSizeDropDownListComponent)],e.prototype,"fontSizeDropDownList",void 0),i.__decorate([o.ViewChild("fontSizeButton"),i.__metadata("design:type",o.ElementRef)],e.prototype,"fontSizeButton",void 0),e=n=i.__decorate([o.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontSize]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontsize-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontsize-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #fontSizeButton\n                class="k-overflow-button"\n                [icon]="\'font-size\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),i.__param(0,o.Host()),i.__metadata("design:paramtypes",[a.EditorComponent,c.DialogService,l.EditorLocalizationService])],e)}(r.ToolBarToolComponent);e.EditorFontSizeComponent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(17),a=n(7),l=n(6),c=n(15),u=n(34),p=n(25),d=function(t){function e(e,n,i){var r=t.call(this)||this;return r.editor=e,r.dialogService=n,r.localization=i,r.disabled=!1,r.tabindex=-1,r.valueChange=new o.EventEmitter,r._data=[{text:"Arial",fontName:'Arial,"Helvetica Neue",Helvetica,sans-serif'},{text:"Courier New",fontName:'"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace'},{text:"Georgia",fontName:'Georgia,Times,"Times New Roman",serif'},{fontName:'Impact,Haettenschweiler,"Franklin Gothic Bold",Charcoal,"Helvetica Inserat","Bitstream Vera Sans Bold","Arial Black","sans serif"',text:"Impact"},{text:"Lucida Console",fontName:'"Lucida Console","Lucida Sans Typewriter",monaco,"Bitstream Vera Sans Mono",monospace'},{text:"Tahoma",fontName:"Tahoma,Verdana,Segoe,sans-serif"},{text:"Times New Roman",fontName:'TimesNewRoman,"Times New Roman",Times,Baskerville,Georgia,serif'},{text:"Trebuchet MS",fontName:'"Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif'},{text:"Verdana",fontName:"Verdana,Geneva,sans-serif"}],r}var n;return i.__extends(e,t),n=e,Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.itemDisabled=function(e){return!(t.overflows||!t.fontFamilyDropDownList||t.fontFamilyDropDownList.dropDownList.isOpen)||null===e.dataItem.fontName},setTimeout((function(){return t.defaultItem={text:t.title,fontName:null}})),this.subs=this.editor.stateChange.subscribe((function(e){var n=e.style;t.value=s.getUniqueStyleValues(n.selected,"font-family")||null,t.disabled=n.disabled}))},e.prototype.onValueChange=function(t){s.isPresent(t)&&(this.editor.exec("fontFamily",t),this.editor.focus(),this.valueChange.emit(this.data.find((function(e){return e.fontName===t}))))},e.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return s.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("fontFamily")},enumerable:!0,configurable:!0}),e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:u.FontFamilyDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.tabindex=0,this.overflows?this.fontFamilyButton.nativeElement.focus():this.fontFamilyDropDownList.focus()},e.prototype.handleKey=function(){return this.tabindex=-1,!1},i.__decorate([o.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),i.__decorate([o.ViewChild("toolbarTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"toolbarTemplate",void 0),i.__decorate([o.ViewChild("popupTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),i.__decorate([o.ViewChild("element"),i.__metadata("design:type",o.ElementRef)],e.prototype,"element",void 0),i.__decorate([o.ViewChild("element",{read:p.FontFamilyDropDownListComponent}),i.__metadata("design:type",p.FontFamilyDropDownListComponent)],e.prototype,"fontFamilyDropDownList",void 0),i.__decorate([o.ViewChild("fontFamilyButton"),i.__metadata("design:type",o.ElementRef)],e.prototype,"fontFamilyButton",void 0),e=n=i.__decorate([o.Component({providers:[{provide:r.ToolBarToolComponent,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontFamily]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontfamily-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontfamily-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                #fontFamilyButton\n                class="k-overflow-button"\n                [icon]="\'font-family\'"\n                [attr.title]="title"\n                [disabled]="disabled"\n                [tabindex]="tabindex"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),i.__param(0,o.Host()),i.__metadata("design:paramtypes",[a.EditorComponent,c.DialogService,l.EditorLocalizationService])],e)}(r.ToolBarToolComponent);e.EditorFontFamilyComponent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(5),s=n(4),a=n(8),l=n(13),c=n(17),u=n(7),p=n(6),d=n(15),h=n(35),f=n(1),m=function(t){function e(e,n,i,a){var l=t.call(this)||this;return l.editor=e,l.localization=n,l.popupService=i,l.dialogService=a,l.open=!1,l.buttonBlurred=new o.EventEmitter,l.cellClicked=new o.EventEmitter,l.subs=l.editor.stateChange.subscribe((function(t){var e=t.insertTable;l.disabled=e.disabled})),l.subs=l.buttonBlurred.pipe(s.concatMap((function(){return r.interval(200).pipe(s.take(1),s.takeUntil(l.cellClicked))}))).subscribe((function(){l.toggle(!1)})),l}var n;return i.__extends(e,t),n=e,e.prototype.ngOnDestroy=function(){this.destroyPopup(),this.subs.unsubscribe()},Object.defineProperty(e.prototype,"outerWidth",{get:function(){if(this.element)return c.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.localization.get("insertTable")},enumerable:!0,configurable:!0}),e.prototype.toggle=function(t){this.open=void 0===t?!this.open:t,this.destroyPopup(),this.open&&this.createPopup()},e.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:h.InsertTableDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor})},e.prototype.onBlur=function(){this.buttonBlurred.emit()},e.prototype.onCellClick=function(t){this.cellClicked.emit(),this.toggle(!1),this.editor.exec("insertTable",t)},e.prototype.canFocus=function(){return!this.disabled},e.prototype.focus=function(){this.getButton().focus(),this.getButton().tabIndex=0},e.prototype.handleKey=function(t){return t.keyCode===f.Keys.Space||t.keyCode===f.Keys.Enter||(this.getButton().tabIndex=-1,!1)},e.prototype.onTableWizardClick=function(){},e.prototype.createPopup=function(){var t="rtl"===this.editor.direction?"right":"left",e={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.element,anchorAlign:e,animate:!0,content:this.popupGridTemplate,popupAlign:n,popupClass:"k-ct-popup k-group k-reset k-state-border-up",positionMode:"absolute"});var i=this.popupRef.popupElement;i.style.width="190px",i.style.height="164px",i.setAttribute("dir",this.editor.direction)},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)},e.prototype.getButton=function(){return(this.overflows?this.overflowElement:this.element).nativeElement},i.__decorate([o.ViewChild("toolbarTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"toolbarTemplate",void 0),i.__decorate([o.ViewChild("popupTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),i.__decorate([o.ViewChild("element"),i.__metadata("design:type",o.ElementRef)],e.prototype,"element",void 0),i.__decorate([o.ViewChild("overflowElement"),i.__metadata("design:type",o.ElementRef)],e.prototype,"overflowElement",void 0),i.__decorate([o.ViewChild("popupGridTemplate",{static:!0}),i.__metadata("design:type",o.TemplateRef)],e.prototype,"popupGridTemplate",void 0),e=n=i.__decorate([o.Component({providers:[{provide:a.ToolBarToolComponent,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-editor-insert-table-button",template:'\n        <ng-template #toolbarTemplate>\n            <button type="button" kendoButton #element [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="toggle()" (blur)="onBlur()"></button>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button kendoButton #overflowElement [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="openDialog()">{{ title }}</button>\n        </ng-template>\n        <ng-template #popupGridTemplate>\n            <kendo-popup-table-grid (cellClick)="onCellClick($event)" (tableWizardClick)="onTableWizardClick()"></kendo-popup-table-grid>\n        </ng-template>\n    '}),i.__param(0,o.Host()),i.__metadata("design:paramtypes",[u.EditorComponent,p.EditorLocalizationService,l.PopupService,d.DialogService])],e)}(a.ToolBarToolComponent);e.EditorInsertTableButtonComponent=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=function(){function t(){this.cellClick=new o.EventEmitter,this.tableWizardClick=new o.EventEmitter,this.state={rows:-1,cols:-1},this.rows=6,this.cols=8}return Object.defineProperty(t.prototype,"message",{get:function(){var t=this.state,e=t.rows,n=t.cols;return"Create a "+(e>-1?e+1:"")+" "+(n>-1?"x":"")+" "+(n>-1?n+1:"")+" table"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return Array.from(Array(this.rows*this.cols).keys())},enumerable:!0,configurable:!0}),t.prototype.selected=function(t){var e=this.state,n=e.rows,i=e.cols,o=Math.floor(t/this.cols),r=t%this.cols;return o<=n&&r<=i},t.prototype.setState=function(t){var e=Math.floor(t/this.cols),n=t%this.cols;this.state={rows:e,cols:n}},t.prototype.resetState=function(){this.state={rows:-1,cols:-1}},t.prototype.insertTable=function(){this.cellClick.emit(this.state)},t.prototype.openTableWizard=function(){this.tableWizardClick.emit()},i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],t.prototype,"cellClick",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],t.prototype,"tableWizardClick",void 0),t=i.__decorate([o.Component({selector:"kendo-popup-table-grid",template:'\n        <div style="border-color: inherit;" (mouseleave)="resetState()" (click)="insertTable()">\n            <span *ngFor="let i of cells"\n                class="k-ct-cell"\n                [class.k-state-selected]="selected(i)"\n                [class.k-state-disabled]="!selected(i)"\n                (mouseenter)="setState(i)">\n            </span>\n        </div>\n        <div class="k-status" unselectable="on">{{ message }}</div>\n        \x3c!-- uncomment when TableWizard is completed\n        <div class="k-editor-toolbar" unselectable="on">\n            <button type="button" kendoButton class="k-tool" [icon]="\'table-wizard\'" (click)="openTableWizard()" title="Table Wizard">Table Wizard</button>\n        </div>\n        --\x3e\n    '})],t)}();e.PopupTableGridComponent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"alignLeft",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAlignLeftButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAlignLeftButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"alignCenter",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAlignCenterButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAlignCenterButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"alignRight",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAlignRightButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAlignRightButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"alignJustify",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAlignJustifyButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAlignJustifyButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"redo",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorRedoButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorRedoButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"undo",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorUndoButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorUndoButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(22),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"insertImage",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorInsertImageButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandDialog);e.EditorInsertImageButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"indent",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorIndentButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorIndentButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"outdent",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorOutdentButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorOutdentButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(22),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"createLink",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorCreateLinkButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandDialog);e.EditorCreateLinkButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"unlink",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorUnlinkButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorUnlinkButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"insertOrderedList",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorInsertOrderedListButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorInsertOrderedListButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"insertUnorderedList",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorInsertUnorderedListButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorInsertUnorderedListButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(22),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"viewSource",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorViewSourceButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandDialog);e.EditorViewSourceButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"bold",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorBoldButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorBoldButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"italic",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorItalicButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorItalicButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"underline",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorUnderlineButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorUnderlineButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"strikethrough",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorStrikethroughButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorStrikethroughButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"subscript",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorSubscriptButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorSubscriptButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"superscript",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorSuperscriptButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorSuperscriptButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(7),s=n(22),a=n(8),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"insertFile",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorInsertFileButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,r.EditorComponent,l.EditorLocalizationService])],e)}(s.EditorCommandDialog);e.EditorInsertFileButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(27),s=n(28),a=function(){function t(t){this.colorPicker=t,this.colorPicker.icon=s.commandIcons.foreColor,this.colorPicker.editorCommand="foreColor"}return t=i.__decorate([o.Directive({selector:"[kendoEditorForeColor]"}),i.__metadata("design:paramtypes",[r.EditorColorPickerComponent])],t)}();e.EditorForeColorDirective=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(27),s=n(28),a=function(){function t(t){this.colorPicker=t,this.colorPicker.icon=s.commandIcons.backColor,this.colorPicker.editorCommand="backColor"}return t=i.__decorate([o.Directive({selector:"[kendoEditorBackColor]"}),i.__metadata("design:paramtypes",[r.EditorColorPickerComponent])],t)}();e.EditorBackColorDirective=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"cleanFormatting",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorCleanFormattingButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorCleanFormattingButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"addColumnBefore",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnBeforeButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAddColumnBeforeButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"addColumnAfter",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnAfterButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAddColumnAfterButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"addRowBefore",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowBeforeButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAddRowBeforeButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"addRowAfter",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowAfterButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorAddRowAfterButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"deleteColumn",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteColumnButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorDeleteColumnButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"deleteRow",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteRowButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorDeleteRowButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"deleteTable",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteTableButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorDeleteTableButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"mergeCells",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorMergeCellsButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorMergeCellsButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(8),s=n(7),a=n(11),l=n(6),c=function(t){function e(e,n,i){return t.call(this,"splitCell",e,n,i)||this}return i.__extends(e,t),e=i.__decorate([o.Directive({selector:"kendo-toolbar-button[kendoEditorSplitCellButton]"}),i.__param(1,o.Host()),i.__metadata("design:paramtypes",[r.ToolBarButtonComponent,s.EditorComponent,l.EditorLocalizationService])],e)}(a.EditorCommandButton);e.EditorSplitCellButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(3),s=n(38),a=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}var n;return i.__extends(e,t),n=e,e=n=i.__decorate([o.Directive({providers:[{provide:s.Messages,useExisting:o.forwardRef((function(){return n}))}],selector:"[kendoEditorLocalizedMessages]"}),i.__metadata("design:paramtypes",[r.LocalizationService])],e)}(s.Messages);e.LocalizedMessagesDirective=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(3),s=n(38),a=function(t){function e(e){var n=t.call(this)||this;return n.service=e,n}var n;return i.__extends(e,t),n=e,Object.defineProperty(e.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),e=n=i.__decorate([o.Component({providers:[{provide:s.Messages,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-editor-messages",template:""}),i.__metadata("design:paramtypes",[r.LocalizationService])],e)}(s.Messages);e.CustomMessagesComponent=a}])}));

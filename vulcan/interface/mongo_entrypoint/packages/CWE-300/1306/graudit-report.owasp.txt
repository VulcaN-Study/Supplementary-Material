/src/README.md-186-```haxe
/src/README.md:187://! -lib foo -D something=somevalue
/src/README.md-188-class ExportAssets {
##############################################
/src/README.md-203-
/src/README.md:204:  haxe -lib foo -D something=somevalue -cp scripts --run ExportAssets sword shield axe
/src/README.md-205-
##############################################
/src/bin/haxelibshim.js-1-#!/usr/bin/env node
/src/bin/haxelibshim.js:2:module.exports=function(e,t){"use strict";var n={};function __webpack_require__(t){if(n[t]){return n[t].exports}var i=n[t]={i:t,l:false,exports:{}};e[t].call(i.exports,i,i.exports,__webpack_require__);i.l=true;return i.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(610)}return startup()}({60:function(e,t,n){const i=n(761).constants||{ZLIB_VERNUM:4736};e.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},i))},63:function(e,t,n){"use strict";const i=n(357);const r=n(614).EventEmitter;const s=n(203);const a=n(747);const o=n(827);const l=n(622);const u=n(577);const c=u.sync;const h=n(478);const f=n(182);const d=Symbol("onEntry");const m=Symbol("checkFs");const v=Symbol("checkFs2");const p=Symbol("isReusable");const w=Symbol("makeFs");const y=Symbol("file");const g=Symbol("directory");const b=Symbol("link");const S=Symbol("symlink");const x=Symbol("hardlink");const E=Symbol("unsupported");const R=Symbol("unknown");const _=Symbol("checkPath");const N=Symbol("mkdir");const O=Symbol("onError");const I=Symbol("pending");const D=Symbol("pend");const L=Symbol("unpend");const C=Symbol("ended");const A=Symbol("maybeClose");const B=Symbol("skip");const T=Symbol("doChown");const k=Symbol("uid");const M=Symbol("gid");const F=n(417);const U=n(953);const z=()=>{throw new Error("sync function called cb somehow?!?")};const W=(e,t)=>{if(process.platform!=="win32")return a.unlink(e,t);const n=e+".DELETE."+F.randomBytes(16).toString("hex");a.rename(e,n,e=>{if(e)return t(e);a.unlink(n,t)})};const P=e=>{if(process.platform!=="win32")return a.unlinkSync(e);const t=e+".DELETE."+F.randomBytes(16).toString("hex");a.renameSync(e,t);a.unlinkSync(t)};const H=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n;class Unpack extends s{constructor(e){if(!e)e={};e.ondone=(e=>{this[C]=true;this[A]()});super(e);this.reservations=f();this.transform=typeof e.transform==="function"?e.transform:null;this.writable=true;this.readable=false;this[I]=0;this[C]=false;this.dirCache=e.dirCache||new Map;if(typeof e.uid==="number"||typeof e.gid==="number"){if(typeof e.uid!=="number"||typeof e.gid!=="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid;this.gid=e.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(e.preserveOwner===undefined&&typeof e.uid!=="number")this.preserveOwner=process.getuid&&process.getuid()===0;else this.preserveOwner=!!e.preserveOwner;this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=e.forceChown===true;this.win32=!!e.win32||process.platform==="win32";this.newer=!!e.newer;this.keep=!!e.keep;this.noMtime=!!e.noMtime;this.preservePaths=!!e.preservePaths;this.unlink=!!e.unlink;this.cwd=l.resolve(e.cwd||process.cwd());this.strip=+e.strip||0;this.processUmask=process.umask();this.umask=typeof e.umask==="number"?e.umask:this.processUmask;this.dmode=e.dmode||511&~this.umask;this.fmode=e.fmode||438&~this.umask;this.on("entry",e=>this[d](e))}warn(e,t,n={}){if(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")n.recoverable=false;return super.warn(e,t,n)}[A](){if(this[C]&&this[I]===0){this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")}}[_](e){if(this.strip){const t=e.path.split(/\/|\\/);if(t.length<this.strip)return false;e.path=t.slice(this.strip).join("/");if(e.type==="Link"){const t=e.linkpath.split(/\/|\\/);if(t.length>=this.strip)e.linkpath=t.slice(this.strip).join("/")}}if(!this.preservePaths){const t=e.path;if(t.match(/(^|\/|\\)\.\.(\\|\/|$)/)){this.warn("TAR_ENTRY_ERROR",`path contains '..'`,{entry:e,path:t});return false}if(l.win32.isAbsolute(t)){const n=l.win32.parse(t);e.path=t.substr(n.root.length);const i=n.root;this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:t})}}if(this.win32){const t=l.win32.parse(e.path);e.path=t.root===""?h.encode(e.path):t.root+h.encode(e.path.substr(t.root.length))}if(l.isAbsolute(e.path))e.absolute=e.path;else e.absolute=l.resolve(this.cwd,e.path);return true}[d](e){if(!this[_](e))return e.resume();i.equal(typeof e.absolute,"string");switch(e.type){case"Directory":case"GNUDumpDir":if(e.mode)e.mode=e.mode|448;case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[m](e);case"CharacterDevice":case"BlockDevice":case"FIFO":return this[E](e)}}[O](e,t){if(e.name==="CwdError")this.emit("error",e);else{this.warn("TAR_ENTRY_ERROR",e,{entry:t});this[L]();t.resume()}}[N](e,t,n){u(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t},n)}[T](e){return this.forceChown||this.preserveOwner&&(typeof e.uid==="number"&&e.uid!==this.processUid||typeof e.gid==="number"&&e.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[k](e){return H(this.uid,e.uid,this.processUid)}[M](e){return H(this.gid,e.gid,this.processGid)}[y](e,t){const n=e.mode&4095||this.fmode;const i=new o.WriteStream(e.absolute,{flags:U(e.size),mode:n,autoClose:false});i.on("error",t=>this[O](t,e));let r=1;const s=n=>{if(n)return this[O](n,e);if(--r===0){a.close(i.fd,n=>{t();n?this[O](n,e):this[L]()})}};i.on("finish",t=>{const n=e.absolute;const o=i.fd;if(e.mtime&&!this.noMtime){r++;const t=e.atime||new Date;const i=e.mtime;a.futimes(o,t,i,e=>e?a.utimes(n,t,i,t=>s(t&&e)):s())}if(this[T](e)){r++;const t=this[k](e);const i=this[M](e);a.fchown(o,t,i,e=>e?a.chown(n,t,i,t=>s(t&&e)):s())}s()});const l=this.transform?this.transform(e)||e:e;if(l!==e){l.on("error",t=>this[O](t,e));e.pipe(l)}l.pipe(i)}[g](e,t){const n=e.mode&4095||this.dmode;this[N](e.absolute,n,n=>{if(n){t();return this[O](n,e)}let i=1;const r=n=>{if(--i===0){t();this[L]();e.resume()}};if(e.mtime&&!this.noMtime){i++;a.utimes(e.absolute,e.atime||new Date,e.mtime,r)}if(this[T](e)){i++;a.chown(e.absolute,this[k](e),this[M](e),r)}r()})}[E](e){e.unsupported=true;this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e});e.resume()}[S](e,t){this[b](e,e.linkpath,"symlink",t)}[x](e,t){this[b](e,l.resolve(this.cwd,e.linkpath),"link",t)}[D](){this[I]++}[L](){this[I]--;this[A]()}[B](e){this[L]();e.resume()}[p](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&process.platform!=="win32"}[m](e){this[D]();const t=[e.path];if(e.linkpath)t.push(e.linkpath);this.reservations.reserve(t,t=>this[v](e,t))}[v](e,t){this[N](l.dirname(e.absolute),this.dmode,n=>{if(n){t();return this[O](n,e)}a.lstat(e.absolute,(n,i)=>{if(i&&(this.keep||this.newer&&i.mtime>e.mtime)){this[B](e);t()}else if(n||this[p](e,i)){this[w](null,e,t)}else if(i.isDirectory()){if(e.type==="Directory"){if(!e.mode||(i.mode&4095)===e.mode)this[w](null,e,t);else a.chmod(e.absolute,e.mode,n=>this[w](n,e,t))}else a.rmdir(e.absolute,n=>this[w](n,e,t))}else W(e.absolute,n=>this[w](n,e,t))})})}[w](e,t,n){if(e)return this[O](e,t);switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[y](t,n);case"Link":return this[x](t,n);case"SymbolicLink":return this[S](t,n);case"Directory":case"GNUDumpDir":return this[g](t,n)}}[b](e,t,n,i){a[n](t,e.absolute,t=>{if(t)return this[O](t,e);i();this[L]();e.resume()})}}class UnpackSync extends Unpack{constructor(e){super(e)}[m](e){const t=this[N](l.dirname(e.absolute),this.dmode,z);if(t)return this[O](t,e);try{const n=a.lstatSync(e.absolute);if(this.keep||this.newer&&n.mtime>e.mtime)return this[B](e);else if(this[p](e,n))return this[w](null,e,z);else{try{if(n.isDirectory()){if(e.type==="Directory"){if(e.mode&&(n.mode&4095)!==e.mode)a.chmodSync(e.absolute,e.mode)}else a.rmdirSync(e.absolute)}else P(e.absolute);return this[w](null,e,z)}catch(t){return this[O](t,e)}}}catch(t){return this[w](null,e,z)}}[y](e,t){const n=e.mode&4095||this.fmode;const i=t=>{let n;try{a.closeSync(s)}catch(e){n=e}if(t||n)this[O](t||n,e)};let r;let s;try{s=a.openSync(e.absolute,U(e.size),n)}catch(e){return i(e)}const o=this.transform?this.transform(e)||e:e;if(o!==e){o.on("error",t=>this[O](t,e));e.pipe(o)}o.on("data",e=>{try{a.writeSync(s,e,0,e.length)}catch(e){i(e)}});o.on("end",t=>{let n=null;if(e.mtime&&!this.noMtime){const t=e.atime||new Date;const i=e.mtime;try{a.futimesSync(s,t,i)}catch(r){try{a.utimesSync(e.absolute,t,i)}catch(e){n=r}}}if(this[T](e)){const t=this[k](e);const i=this[M](e);try{a.fchownSync(s,t,i)}catch(r){try{a.chownSync(e.absolute,t,i)}catch(e){n=n||r}}}i(n)})}[g](e,t){const n=e.mode&4095||this.dmode;const i=this[N](e.absolute,n);if(i)return this[O](i,e);if(e.mtime&&!this.noMtime){try{a.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch(i){}}if(this[T](e)){try{a.chownSync(e.absolute,this[k](e),this[M](e))}catch(i){}}e.resume()}[N](e,t){try{return u.sync(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(e){return e}}[b](e,t,n,i){try{a[n+"Sync"](t,e.absolute);e.resume()}catch(t){return this[O](t,e)}}}Unpack.Sync=UnpackSync;e.exports=Unpack},92:function(e,t,n){const{dirname:i}=n(622);const r=(e,t,n=undefined)=>{if(n===t)return Promise.resolve();return e.statAsync(t).then(e=>e.isDirectory()?n:undefined,n=>n.code==="ENOENT"?r(e,i(t),t):undefined)};const s=(e,t,n=undefined)=>{if(n===t)return undefined;try{return e.statSync(t).isDirectory()?n:undefined}catch(n){return n.code==="ENOENT"?s(e,i(t),t):undefined}};e.exports={findMade:r,findMadeSync:s}},93:function(e,t,n){var i=n(413).Stream;e.exports=legacy;function legacy(e){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(t,n){if(!(this instanceof ReadStream))return new ReadStream(t,n);i.call(this);var r=this;this.path=t;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;n=n||{};var s=Object.keys(n);for(var a=0,o=s.length;a<o;a++){var l=s[a];this[l]=n[l]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick(function(){r._read()});return}e.open(this.path,this.flags,this.mode,function(e,t){if(e){r.emit("error",e);r.readable=false;return}r.fd=t;r.emit("open",t);r._read()})}function WriteStream(t,n){if(!(this instanceof WriteStream))return new WriteStream(t,n);i.call(this);this.path=t;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;n=n||{};var r=Object.keys(n);for(var s=0,a=r.length;s<a;s++){var o=r[s];this[o]=n[o]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=e.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},129:function(e){e.exports=require("child_process")},133:function(e,t,n){"use strict";const i=n(357);const r=n(293).Buffer;const s=n(761);const a=t.constants=n(60);const o=n(720);const l=r.concat;const u=Symbol("_superWrite");class ZlibError extends Error{constructor(e){super("zlib: "+e.message);this.code=e.code;this.errno=e.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+e.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const c=Symbol("opts");const h=Symbol("flushFlag");const f=Symbol("finishFlushFlag");const d=Symbol("fullFlushFlag");const m=Symbol("handle");const v=Symbol("onError");const p=Symbol("sawError");const w=Symbol("level");const y=Symbol("strategy");const g=Symbol("ended");const b=Symbol("_defaultFullFlush");class ZlibBase extends o{constructor(e,t){if(!e||typeof e!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(e);this[g]=false;this[c]=e;this[h]=e.flush;this[f]=e.finishFlush;try{this[m]=new s[t](e)}catch(e){throw new ZlibError(e)}this[v]=(e=>{this[p]=true;this.close();this.emit("error",e)});this[m].on("error",e=>this[v](new ZlibError(e)));this.once("end",()=>this.close)}close(){if(this[m]){this[m].close();this[m]=null;this.emit("close")}}reset(){if(!this[p]){i(this[m],"zlib binding closed");return this[m].reset()}}flush(e){if(this.ended)return;if(typeof e!=="number")e=this[d];this.write(Object.assign(r.alloc(0),{[h]:e}))}end(e,t,n){if(e)this.write(e,t);this.flush(this[f]);this[g]=true;return super.end(null,null,n)}get ended(){return this[g]}write(e,t,n){if(typeof t==="function")n=t,t="utf8";if(typeof e==="string")e=r.from(e,t);if(this[p])return;i(this[m],"zlib binding closed");const s=this[m]._handle;const a=s.close;s.close=(()=>{});const o=this[m].close;this[m].close=(()=>{});r.concat=(e=>e);let c;try{const t=typeof e[h]==="number"?e[h]:this[h];c=this[m]._processChunk(e,t);r.concat=l}catch(e){r.concat=l;this[v](new ZlibError(e))}finally{if(this[m]){this[m]._handle=s;s.close=a;this[m].close=o;this[m].removeAllListeners("error")}}let f;if(c){if(Array.isArray(c)&&c.length>0){f=this[u](r.from(c[0]));for(let e=1;e<c.length;e++){f=this[u](c[e])}}else{f=this[u](r.from(c))}}if(n)n();return f}[u](e){return super.write(e)}}class Zlib extends ZlibBase{constructor(e,t){e=e||{};e.flush=e.flush||a.Z_NO_FLUSH;e.finishFlush=e.finishFlush||a.Z_FINISH;super(e,t);this[d]=a.Z_FULL_FLUSH;this[w]=e.level;this[y]=e.strategy}params(e,t){if(this[p])return;if(!this[m])throw new Error("cannot switch params when binding is closed");if(!this[m].params)throw new Error("not supported in this implementation");if(this[w]!==e||this[y]!==t){this.flush(a.Z_SYNC_FLUSH);i(this[m],"zlib binding closed");const n=this[m].flush;this[m].flush=((e,t)=>{this.flush(e);t()});try{this[m].params(e,t)}finally{this[m].flush=n}if(this[m]){this[w]=e;this[y]=t}}}}class Deflate extends Zlib{constructor(e){super(e,"Deflate")}}class Inflate extends Zlib{constructor(e){super(e,"Inflate")}}const S=Symbol("_portable");class Gzip extends Zlib{constructor(e){super(e,"Gzip");this[S]=e&&!!e.portable}[u](e){if(!this[S])return super[u](e);this[S]=false;e[9]=255;return super[u](e)}}class Gunzip extends Zlib{constructor(e){super(e,"Gunzip")}}class DeflateRaw extends Zlib{constructor(e){super(e,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(e){super(e,"InflateRaw")}}class Unzip extends Zlib{constructor(e){super(e,"Unzip")}}class Brotli extends ZlibBase{constructor(e,t){e=e||{};e.flush=e.flush||a.BROTLI_OPERATION_PROCESS;e.finishFlush=e.finishFlush||a.BROTLI_OPERATION_FINISH;super(e,t);this[d]=a.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(e){super(e,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(e){super(e,"BrotliDecompress")}}t.Deflate=Deflate;t.Inflate=Inflate;t.Gzip=Gzip;t.Gunzip=Gunzip;t.DeflateRaw=DeflateRaw;t.InflateRaw=InflateRaw;t.Unzip=Unzip;if(typeof s.BrotliCompress==="function"){t.BrotliCompress=BrotliCompress;t.BrotliDecompress=BrotliDecompress}else{t.BrotliCompress=t.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},159:function(e,t,n){"use strict";const i=n(891);const r=n(726);const s=n(747);const a=n(827);const o=n(381);const l=n(622);const u=e.exports=((e,t,n)=>{if(typeof t==="function")n=t;if(Array.isArray(e))t=e,e={};if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);const r=i(e);if(r.sync&&typeof n==="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n==="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?c(r,t):r.file?h(r,t,n):r.sync?m(r,t):v(r,t)});const c=(e,t)=>{const n=new r.Sync(e);const i=new a.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(i);f(n,t)};const h=(e,t,n)=>{const i=new r(e);const s=new a.WriteStream(e.file,{mode:e.mode||438});i.pipe(s);const o=new Promise((e,t)=>{s.on("error",t);s.on("close",e);i.on("error",t)});d(i,t);return n?o.then(n,n):o};const f=(e,t)=>{t.forEach(t=>{if(t.charAt(0)==="@")o({file:l.resolve(e.cwd,t.substr(1)),sync:true,noResume:true,onentry:t=>e.add(t)});else e.add(t)});e.end()};const d=(e,t)=>{while(t.length){const n=t.shift();if(n.charAt(0)==="@")return o({file:l.resolve(e.cwd,n.substr(1)),noResume:true,onentry:t=>e.add(t)}).then(n=>d(e,t));else e.add(n)}e.end()};const m=(e,t)=>{const n=new r.Sync(e);f(n,t);return n};const v=(e,t)=>{const n=new r(e);d(n,t);return n}},182:function(e,t,n){const i=n(357);e.exports=(()=>{const e=new Map;const t=new Map;const{join:r}=n(622);const s=e=>r(e).split(/[\\\/]/).slice(0,-1).reduce((e,t)=>e.length?e.concat(r(e[e.length-1],t)):[t],[]);const a=new Set;const o=n=>{const i=t.get(n);if(!i)throw new Error("function does not have any path reservations");return{paths:i.paths.map(t=>e.get(t)),dirs:[...i.dirs].map(t=>e.get(t))}};const l=e=>{const{paths:t,dirs:n}=o(e);return t.every(t=>t[0]===e)&&n.every(t=>t[0]instanceof Set&&t[0].has(e))};const u=e=>{if(a.has(e)||!l(e))return false;a.add(e);e(()=>c(e));return true};const c=n=>{if(!a.has(n))return false;const{paths:r,dirs:s}=t.get(n);const o=new Set;r.forEach(t=>{const r=e.get(t);i.equal(r[0],n);if(r.length===1)e.delete(t);else{r.shift();if(typeof r[0]==="function")o.add(r[0]);else r[0].forEach(e=>o.add(e))}});s.forEach(t=>{const r=e.get(t);i(r[0]instanceof Set);if(r[0].size===1&&r.length===1){e.delete(t)}else if(r[0].size===1){r.shift();o.add(r[0])}else r[0].delete(n)});a.delete(n);o.forEach(e=>u(e));return true};const h=(n,i)=>{const r=new Set(n.map(e=>s(e)).reduce((e,t)=>e.concat(t)));t.set(i,{dirs:r,paths:n});n.forEach(t=>{const n=e.get(t);if(!n)e.set(t,[i]);else n.push(i)});r.forEach(t=>{const n=e.get(t);if(!n)e.set(t,[new Set([i])]);else if(n[n.length-1]instanceof Set)n[n.length-1].add(i);else n.push(new Set([i]))});return u(i)};return{check:l,reserve:h}})},203:function(e,t,n){"use strict";const i=n(796);const r=n(622);const s=n(232);const a=n(614);const o=n(612);const l=1024*1024;const u=n(662);const c=n(582);const h=n(133);const f=Buffer.from([31,139]);const d=Symbol("state");const m=Symbol("writeEntry");const v=Symbol("readEntry");const p=Symbol("nextEntry");const w=Symbol("processEntry");const y=Symbol("extendedHeader");const g=Symbol("globalExtendedHeader");const b=Symbol("meta");const S=Symbol("emitMeta");const x=Symbol("buffer");const E=Symbol("queue");const R=Symbol("ended");const _=Symbol("emittedEnd");const N=Symbol("emit");const O=Symbol("unzip");const I=Symbol("consumeChunk");const D=Symbol("consumeChunkSub");const L=Symbol("consumeBody");const C=Symbol("consumeMeta");const A=Symbol("consumeHeader");const B=Symbol("consuming");const T=Symbol("bufferConcat");const k=Symbol("maybeEnd");const M=Symbol("writing");const F=Symbol("aborted");const U=Symbol("onDone");const z=Symbol("sawValidEntry");const W=Symbol("sawNullBlock");const P=Symbol("sawEOF");const H=e=>true;e.exports=i(class Parser extends a{constructor(e){e=e||{};super(e);this.file=e.file||"";this[z]=null;this.on(U,e=>{if(this[d]==="begin"||this[z]===false){this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}});if(e.ondone)this.on(U,e.ondone);else this.on(U,e=>{this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")});this.strict=!!e.strict;this.maxMetaEntrySize=e.maxMetaEntrySize||l;this.filter=typeof e.filter==="function"?e.filter:H;this.writable=true;this.readable=false;this[E]=new o;this[x]=null;this[v]=null;this[m]=null;this[d]="begin";this[b]="";this[y]=null;this[g]=null;this[R]=false;this[O]=null;this[F]=false;this[W]=false;this[P]=false;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);if(typeof e.onentry==="function")this.on("entry",e.onentry)}[A](e,t){if(this[z]===null)this[z]=false;let n;try{n=new s(e,t,this[y],this[g])}catch(e){return this.warn("TAR_ENTRY_INVALID",e)}if(n.nullBlock){if(this[W]){this[P]=true;if(this[d]==="begin")this[d]="header";this[N]("eof")}else{this[W]=true;this[N]("nullBlock")}}else{this[W]=false;if(!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{const e=n.type;if(/^(Symbolic)?Link$/.test(e)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(e)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{const e=this[m]=new u(n,this[y],this[g]);if(!this[z]){if(e.remain){const t=()=>{if(!e.invalid)this[z]=true};e.on("end",t)}else{this[z]=true}}if(e.meta){if(e.size>this.maxMetaEntrySize){e.ignore=true;this[N]("ignoredEntry",e);this[d]="ignore";e.resume()}else if(e.size>0){this[b]="";e.on("data",e=>this[b]+=e);this[d]="meta"}}else{this[y]=null;e.ignore=e.ignore||!this.filter(e.path,e);if(e.ignore){this[N]("ignoredEntry",e);this[d]=e.remain?"ignore":"header";e.resume()}else{if(e.remain)this[d]="body";else{this[d]="header";e.end()}if(!this[v]){this[E].push(e);this[p]()}else this[E].push(e)}}}}}}[w](e){let t=true;if(!e){this[v]=null;t=false}else if(Array.isArray(e))this.emit.apply(this,e);else{this[v]=e;this.emit("entry",e);if(!e.emittedEnd){e.on("end",e=>this[p]());t=false}}return t}[p](){do{}while(this[w](this[E].shift()));if(!this[E].length){const e=this[v];const t=!e||e.flowing||e.size===e.remain;if(t){if(!this[M])this.emit("drain")}else e.once("drain",e=>this.emit("drain"))}}[L](e,t){const n=this[m];const i=n.blockRemain;const r=i>=e.length&&t===0?e:e.slice(t,t+i);n.write(r);if(!n.blockRemain){this[d]="header";this[m]=null;n.end()}return r.length}[C](e,t){const n=this[m];const i=this[L](e,t);if(!this[m])this[S](n);return i}[N](e,t,n){if(!this[E].length&&!this[v])this.emit(e,t,n);else this[E].push([e,t,n])}[S](e){this[N]("meta",this[b]);switch(e.type){case"ExtendedHeader":case"OldExtendedHeader":this[y]=c.parse(this[b],this[y],false);break;case"GlobalExtendedHeader":this[g]=c.parse(this[b],this[g],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[y]=this[y]||Object.create(null);this[y].path=this[b].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[y]=this[y]||Object.create(null);this[y].linkpath=this[b].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[F]=true;this.emit("abort",e);this.warn("TAR_ABORT",e,{recoverable:false})}write(e){if(this[F])return;if(this[O]===null&&e){if(this[x]){e=Buffer.concat([this[x],e]);this[x]=null}if(e.length<f.length){this[x]=e;return true}for(let t=0;this[O]===null&&t<f.length;t++){if(e[t]!==f[t])this[O]=false}if(this[O]===null){const t=this[R];this[R]=false;this[O]=new h.Unzip;this[O].on("data",e=>this[I](e));this[O].on("error",e=>this.abort(e));this[O].on("end",e=>{this[R]=true;this[I]()});this[M]=true;const n=this[O][t?"end":"write"](e);this[M]=false;return n}}this[M]=true;if(this[O])this[O].write(e);else this[I](e);this[M]=false;const t=this[E].length?false:this[v]?this[v].flowing:true;if(!t&&!this[E].length)this[v].once("drain",e=>this.emit("drain"));return t}[T](e){if(e&&!this[F])this[x]=this[x]?Buffer.concat([this[x],e]):e}[k](){if(this[R]&&!this[_]&&!this[F]&&!this[B]){this[_]=true;const e=this[m];if(e&&e.blockRemain){const t=this[x]?this[x].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e});if(this[x])e.write(this[x]);e.end()}this[N](U)}}[I](e){if(this[B])this[T](e);else if(!e&&!this[x])this[k]();else{this[B]=true;if(this[x]){this[T](e);const t=this[x];this[x]=null;this[D](t)}else{this[D](e)}while(this[x]&&this[x].length>=512&&!this[F]&&!this[P]){const e=this[x];this[x]=null;this[D](e)}this[B]=false}if(!this[x]||this[R])this[k]()}[D](e){let t=0;let n=e.length;while(t+512<=n&&!this[F]&&!this[P]){switch(this[d]){case"begin":case"header":this[A](e,t);t+=512;break;case"ignore":case"body":t+=this[L](e,t);break;case"meta":t+=this[C](e,t);break;default:throw new Error("invalid state: "+this[d])}}if(t<n){if(this[x])this[x]=Buffer.concat([e.slice(t),this[x]]);else this[x]=e.slice(t)}}end(e){if(!this[F]){if(this[O])this[O].end(e);else{this[R]=true;this.write(e)}}}})},211:function(e){e.exports=require("https")},232:function(e,t,n){"use strict";const i=n(554);const r=n(622).posix;const s=n(858);const a=Symbol("slurp");const o=Symbol("type");class Header{constructor(e,t,n,i){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[o]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(Buffer.isBuffer(e))this.decode(e,t||0,n,i);else if(e)this.set(e)}decode(e,t,n,i){if(!t)t=0;if(!e||!(e.length>=t+512))throw new Error("need 512 bytes for header");this.path=u(e,t,100);this.mode=f(e,t+100,8);this.uid=f(e,t+108,8);this.gid=f(e,t+116,8);this.size=f(e,t+124,12);this.mtime=c(e,t+136,12);this.cksum=f(e,t+148,12);this[a](n);this[a](i,true);this[o]=u(e,t+156,1);if(this[o]==="")this[o]="0";if(this[o]==="0"&&this.path.substr(-1)==="/")this[o]="5";if(this[o]==="5")this.size=0;this.linkpath=u(e,t+157,100);if(e.slice(t+257,t+265).toString()==="ustar\x0000"){this.uname=u(e,t+265,32);this.gname=u(e,t+297,32);this.devmaj=f(e,t+329,8);this.devmin=f(e,t+337,8);if(e[t+475]!==0){const n=u(e,t+345,155);this.path=n+"/"+this.path}else{const n=u(e,t+345,130);if(n)this.path=n+"/"+this.path;this.atime=c(e,t+476,12);this.ctime=c(e,t+488,12)}}let r=8*32;for(let n=t;n<t+148;n++){r+=e[n]}for(let n=t+156;n<t+512;n++){r+=e[n]}this.cksumValid=r===this.cksum;if(this.cksum===null&&r===8*32)this.nullBlock=true}[a](e,t){for(let n in e){if(e[n]!==null&&e[n]!==undefined&&!(t&&n==="path"))this[n]=e[n]}}encode(e,t){if(!e){e=this.block=Buffer.alloc(512);t=0}if(!t)t=0;if(!(e.length>=t+512))throw new Error("need 512 bytes for header");const n=this.ctime||this.atime?130:155;const i=l(this.path||"",n);const r=i[0];const s=i[1];this.needPax=i[2];this.needPax=x(e,t,100,r)||this.needPax;this.needPax=p(e,t+100,8,this.mode)||this.needPax;this.needPax=p(e,t+108,8,this.uid)||this.needPax;this.needPax=p(e,t+116,8,this.gid)||this.needPax;this.needPax=p(e,t+124,12,this.size)||this.needPax;this.needPax=b(e,t+136,12,this.mtime)||this.needPax;e[t+156]=this[o].charCodeAt(0);this.needPax=x(e,t+157,100,this.linkpath)||this.needPax;e.write("ustar\x0000",t+257,8);this.needPax=x(e,t+265,32,this.uname)||this.needPax;this.needPax=x(e,t+297,32,this.gname)||this.needPax;this.needPax=p(e,t+329,8,this.devmaj)||this.needPax;this.needPax=p(e,t+337,8,this.devmin)||this.needPax;this.needPax=x(e,t+345,n,s)||this.needPax;if(e[t+475]!==0)this.needPax=x(e,t+345,155,s)||this.needPax;else{this.needPax=x(e,t+345,130,s)||this.needPax;this.needPax=b(e,t+476,12,this.atime)||this.needPax;this.needPax=b(e,t+488,12,this.ctime)||this.needPax}let a=8*32;for(let n=t;n<t+148;n++){a+=e[n]}for(let n=t+156;n<t+512;n++){a+=e[n]}this.cksum=a;p(e,t+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(e){for(let t in e){if(e[t]!==null&&e[t]!==undefined)this[t]=e[t]}}get type(){return i.name.get(this[o])||this[o]}get typeKey(){return this[o]}set type(e){if(i.code.has(e))this[o]=i.code.get(e);else this[o]=e}}const l=(e,t)=>{const n=100;let i=e;let s="";let a;const o=r.parse(e).root||".";if(Buffer.byteLength(i)<n)a=[i,s,false];else{s=r.dirname(i);i=r.basename(i);do{if(Buffer.byteLength(i)<=n&&Buffer.byteLength(s)<=t)a=[i,s,false];else if(Buffer.byteLength(i)>n&&Buffer.byteLength(s)<=t)a=[i.substr(0,n-1),s,true];else{i=r.join(r.basename(s),i);s=r.dirname(s)}}while(s!==o&&!a);if(!a)a=[e.substr(0,n-1),"",true]}return a};const u=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,"");const c=(e,t,n)=>h(f(e,t,n));const h=e=>e===null?null:new Date(e*1e3);const f=(e,t,n)=>e[t]&128?s.parse(e.slice(t,t+n)):m(e,t,n);const d=e=>isNaN(e)?null:e;const m=(e,t,n)=>d(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8));const v={12:8589934591,8:2097151};const p=(e,t,n,i)=>i===null?false:i>v[n]||i<0?(s.encode(i,e.slice(t,t+n)),true):(w(e,t,n,i),false);const w=(e,t,n,i)=>e.write(y(i,n),t,n,"ascii");const y=(e,t)=>g(Math.floor(e).toString(8),t);const g=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0";const b=(e,t,n,i)=>i===null?false:p(e,t,n,i.getTime()/1e3);const S=new Array(156).join("\0");const x=(e,t,n,i)=>i===null?false:(e.write(i+S,t,n,"utf8"),i.length!==Buffer.byteLength(i)||i.length>n);e.exports=Header},250:function(e,t,n){var i=n(619);var r=process.cwd;var s=null;var a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!s)s=r.call(process);return s};try{process.cwd()}catch(e){}var o=process.chdir;process.chdir=function(e){s=null;o.call(process,e)};e.exports=patch;function patch(e){if(i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(e)}if(!e.lutimes){patchLutimes(e)}e.chown=chownFix(e.chown);e.fchown=chownFix(e.fchown);e.lchown=chownFix(e.lchown);e.chmod=chmodFix(e.chmod);e.fchmod=chmodFix(e.fchmod);e.lchmod=chmodFix(e.lchmod);e.chownSync=chownFixSync(e.chownSync);e.fchownSync=chownFixSync(e.fchownSync);e.lchownSync=chownFixSync(e.lchownSync);e.chmodSync=chmodFixSync(e.chmodSync);e.fchmodSync=chmodFixSync(e.fchmodSync);e.lchmodSync=chmodFixSync(e.lchmodSync);e.stat=statFix(e.stat);e.fstat=statFix(e.fstat);e.lstat=statFix(e.lstat);e.statSync=statFixSync(e.statSync);e.fstatSync=statFixSync(e.fstatSync);e.lstatSync=statFixSync(e.lstatSync);if(!e.lchmod){e.lchmod=function(e,t,n){if(n)process.nextTick(n)};e.lchmodSync=function(){}}if(!e.lchown){e.lchown=function(e,t,n,i){if(i)process.nextTick(i)};e.lchownSync=function(){}}if(a==="win32"){e.rename=function(t){return function(n,i,r){var s=Date.now();var a=0;t(n,i,function CB(o){if(o&&(o.code==="EACCES"||o.code==="EPERM")&&Date.now()-s<6e4){setTimeout(function(){e.stat(i,function(e,s){if(e&&e.code==="ENOENT")t(n,i,CB);else r(o)})},a);if(a<100)a+=10;return}if(r)r(o)})}}(e.rename)}e.read=function(t){function read(n,i,r,s,a,o){var l;if(o&&typeof o==="function"){var u=0;l=function(c,h,f){if(c&&c.code==="EAGAIN"&&u<10){u++;return t.call(e,n,i,r,s,a,l)}o.apply(this,arguments)}}return t.call(e,n,i,r,s,a,l)}read.__proto__=t;return read}(e.read);e.readSync=function(t){return function(n,i,r,s,a){var o=0;while(true){try{return t.call(e,n,i,r,s,a)}catch(e){if(e.code==="EAGAIN"&&o<10){o++;continue}throw e}}}}(e.readSync);function patchLchmod(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,function(t,i){if(t){if(r)r(t);return}e.fchmod(i,n,function(t){e.close(i,function(e){if(r)r(t||e)})})})};e.lchmodSync=function(t,n){var r=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n);var s=true;var a;try{a=e.fchmodSync(r,n);s=false}finally{if(s){try{e.closeSync(r)}catch(e){}}else{e.closeSync(r)}}return a}}function patchLutimes(e){if(i.hasOwnProperty("O_SYMLINK")){e.lutimes=function(t,n,r,s){e.open(t,i.O_SYMLINK,function(t,i){if(t){if(s)s(t);return}e.futimes(i,n,r,function(t){e.close(i,function(e){if(s)s(t||e)})})})};e.lutimesSync=function(t,n,r){var s=e.openSync(t,i.O_SYMLINK);var a;var o=true;try{a=e.futimesSync(s,n,r);o=false}finally{if(o){try{e.closeSync(s)}catch(e){}}else{e.closeSync(s)}}return a}}else{e.lutimes=function(e,t,n,i){if(i)process.nextTick(i)};e.lutimesSync=function(){}}}function chmodFix(t){if(!t)return t;return function(n,i,r){return t.call(e,n,i,function(e){if(chownErOk(e))e=null;if(r)r.apply(this,arguments)})}}function chmodFixSync(t){if(!t)return t;return function(n,i){try{return t.call(e,n,i)}catch(e){if(!chownErOk(e))throw e}}}function chownFix(t){if(!t)return t;return function(n,i,r,s){return t.call(e,n,i,r,function(e){if(chownErOk(e))e=null;if(s)s.apply(this,arguments)})}}function chownFixSync(t){if(!t)return t;return function(n,i,r){try{return t.call(e,n,i,r)}catch(e){if(!chownErOk(e))throw e}}}function statFix(t){if(!t)return t;return function(n,i,r){if(typeof i==="function"){r=i;i=null}function callback(e,t){if(t){if(t.uid<0)t.uid+=4294967296;if(t.gid<0)t.gid+=4294967296}if(r)r.apply(this,arguments)}return i?t.call(e,n,i,callback):t.call(e,n,callback)}}function statFixSync(t){if(!t)return t;return function(n,i){var r=i?t.call(e,n,i):t.call(e,n);if(r.uid<0)r.uid+=4294967296;if(r.gid<0)r.gid+=4294967296;return r}}function chownErOk(e){if(!e)return true;if(e.code==="ENOSYS")return true;var t=!process.getuid||process.getuid()!==0;if(t){if(e.code==="EINVAL"||e.code==="EPERM")return true}return false}}},293:function(e){e.exports=require("buffer")},303:function(e,t,n){"use strict";const i=n(720);const r=n(582);const s=n(232);const a=n(662);const o=n(747);const l=n(622);const u=n(554);const c=16*1024*1024;const h=Symbol("process");const f=Symbol("file");const d=Symbol("directory");const m=Symbol("symlink");const v=Symbol("hardlink");const p=Symbol("header");const w=Symbol("read");const y=Symbol("lstat");const g=Symbol("onlstat");const b=Symbol("onread");const S=Symbol("onreadlink");const x=Symbol("openfile");const E=Symbol("onopenfile");const R=Symbol("close");const _=Symbol("mode");const N=n(796);const O=n(478);const I=n(904);const D=N(class WriteEntry extends i{constructor(e,t){t=t||{};super(t);if(typeof e!=="string")throw new TypeError("path is required");this.path=e;this.portable=!!t.portable;this.myuid=process.getuid&&process.getuid();this.myuser=process.env.USER||"";this.maxReadSize=t.maxReadSize||c;this.linkCache=t.linkCache||new Map;this.statCache=t.statCache||new Map;this.preservePaths=!!t.preservePaths;this.cwd=t.cwd||process.cwd();this.strict=!!t.strict;this.noPax=!!t.noPax;this.noMtime=!!t.noMtime;this.mtime=t.mtime||null;if(typeof t.onwarn==="function")this.on("warn",t.onwarn);let n=false;if(!this.preservePaths&&l.win32.isAbsolute(e)){const t=l.win32.parse(e);this.path=e.substr(t.root.length);n=t.root}this.win32=!!t.win32||process.platform==="win32";if(this.win32){this.path=O.decode(this.path.replace(/\\/g,"/"));e=e.replace(/\\/g,"/")}this.absolute=t.absolute||l.resolve(this.cwd,e);if(this.path==="")this.path="./";if(n){this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path})}if(this.statCache.has(this.absolute))this[g](this.statCache.get(this.absolute));else this[y]()}[y](){o.lstat(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[g](t)})}[g](e){this.statCache.set(this.absolute,e);this.stat=e;if(!e.isFile())e.size=0;this.type=C(e);this.emit("stat",e);this[h]()}[h](){switch(this.type){case"File":return this[f]();case"Directory":return this[d]();case"SymbolicLink":return this[m]();default:return this.end()}}[_](e){return I(e,this.type==="Directory",this.portable)}[p](){if(this.type==="Directory"&&this.portable)this.noMtime=true;this.header=new s({path:this.path,linkpath:this.linkpath,mode:this[_](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax)this.write(new r({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode());this.write(this.header.block)}[d](){if(this.path.substr(-1)!=="/")this.path+="/";this.stat.size=0;this[p]();this.end()}[m](){o.readlink(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[S](t)})}[S](e){this.linkpath=e.replace(/\\/g,"/");this[p]();this.end()}[v](e){this.type="Link";this.linkpath=l.relative(this.cwd,e).replace(/\\/g,"/");this.stat.size=0;this[p]();this.end()}[f](){if(this.stat.nlink>1){const e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){const t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0)return this[v](t)}this.linkCache.set(e,this.absolute)}this[p]();if(this.stat.size===0)return this.end();this[x]()}[x](){o.open(this.absolute,"r",(e,t)=>{if(e)return this.emit("error",e);this[E](t)})}[E](e){const t=512*Math.ceil(this.stat.size/512);const n=Math.min(t,this.maxReadSize);const i=Buffer.allocUnsafe(n);this[w](e,i,0,i.length,0,this.stat.size,t)}[w](e,t,n,i,r,s,a){o.read(e,t,n,i,r,(o,l)=>{if(o){return this[R](e,()=>this.emit("error",o))}this[b](e,t,n,i,r,s,a,l)})}[R](e,t){o.close(e,t)}[b](e,t,n,i,r,s,a,o){if(o<=0&&s>0){const t=new Error("encountered unexpected EOF");t.path=this.absolute;t.syscall="read";t.code="EOF";return this[R](e,()=>this.emit("error",t))}if(o>s){const t=new Error("did not encounter expected EOF");t.path=this.absolute;t.syscall="read";t.code="EOF";return this[R](e,()=>this.emit("error",t))}if(o===s){for(let e=o;e<i&&o<a;e++){t[e+n]=0;o++;s++}}const l=n===0&&o===t.length?t:t.slice(n,n+o);s-=o;a-=o;r+=o;n+=o;this.write(l);if(!s){if(a)this.write(Buffer.alloc(a));return this[R](e,e=>e?this.emit("error",e):this.end())}if(n>=i){t=Buffer.allocUnsafe(i);n=0}i=t.length-n;this[w](e,t,n,i,r,s,a)}});class WriteEntrySync extends D{constructor(e,t){super(e,t)}[y](){this[g](o.lstatSync(this.absolute))}[m](){this[S](o.readlinkSync(this.absolute))}[x](){this[E](o.openSync(this.absolute,"r"))}[w](e,t,n,i,r,s,a){let l=true;try{const u=o.readSync(e,t,n,i,r);this[b](e,t,n,i,r,s,a,u);l=false}finally{if(l)try{this[R](e,()=>{})}catch(e){}}}[R](e,t){o.closeSync(e);t()}}const L=N(class WriteEntryTar extends i{constructor(e,t){t=t||{};super(t);this.preservePaths=!!t.preservePaths;this.portable=!!t.portable;this.strict=!!t.strict;this.noPax=!!t.noPax;this.noMtime=!!t.noMtime;this.readEntry=e;this.type=e.type;if(this.type==="Directory"&&this.portable)this.noMtime=true;this.path=e.path;this.mode=this[_](e.mode);this.uid=this.portable?null:e.uid;this.gid=this.portable?null:e.gid;this.uname=this.portable?null:e.uname;this.gname=this.portable?null:e.gname;this.size=e.size;this.mtime=this.noMtime?null:t.mtime||e.mtime;this.atime=this.portable?null:e.atime;this.ctime=this.portable?null:e.ctime;this.linkpath=e.linkpath;if(typeof t.onwarn==="function")this.on("warn",t.onwarn);let n=false;if(l.isAbsolute(this.path)&&!this.preservePaths){const e=l.parse(this.path);n=e.root;this.path=this.path.substr(e.root.length)}this.remain=e.size;this.blockRemain=e.startBlockSize;this.header=new s({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(n){this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path})}if(this.header.encode()&&!this.noPax)super.write(new r({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode());super.write(this.header.block);e.pipe(this)}[_](e){return I(e,this.type==="Directory",this.portable)}write(e){const t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");this.blockRemain-=t;return super.write(e)}end(){if(this.blockRemain)this.write(Buffer.alloc(this.blockRemain));return super.end()}});D.Sync=WriteEntrySync;D.Tar=L;const C=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";e.exports=D},304:function(e){e.exports=require("string_decoder")},324:function(e,t,n){var i=n(747);var r=n(669);var s=n(413);var a=s.Readable;var o=s.Writable;var l=s.PassThrough;var u=n(965);var c=n(614).EventEmitter;t.createFromBuffer=createFromBuffer;t.createFromFd=createFromFd;t.BufferSlicer=BufferSlicer;t.FdSlicer=FdSlicer;r.inherits(FdSlicer,c);function FdSlicer(e,t){t=t||{};c.call(this);this.fd=e;this.pend=new u;this.pend.max=1;this.refCount=0;this.autoClose=!!t.autoClose}FdSlicer.prototype.read=function(e,t,n,r,s){var a=this;a.pend.go(function(o){i.read(a.fd,e,t,n,r,function(e,t,n){o();s(e,t,n)})})};FdSlicer.prototype.write=function(e,t,n,r,s){var a=this;a.pend.go(function(o){i.write(a.fd,e,t,n,r,function(e,t,n){o();s(e,t,n)})})};FdSlicer.prototype.createReadStream=function(e){return new ReadStream(this,e)};FdSlicer.prototype.createWriteStream=function(e){return new WriteStream(this,e)};FdSlicer.prototype.ref=function(){this.refCount+=1};FdSlicer.prototype.unref=function(){var e=this;e.refCount-=1;if(e.refCount>0)return;if(e.refCount<0)throw new Error("invalid unref");if(e.autoClose){i.close(e.fd,onCloseDone)}function onCloseDone(t){if(t){e.emit("error",t)}else{e.emit("close")}}};r.inherits(ReadStream,a);function ReadStream(e,t){t=t||{};a.call(this,t);this.context=e;this.context.ref();this.start=t.start||0;this.endOffset=t.end;this.pos=this.start;this.destroyed=false}ReadStream.prototype._read=function(e){var t=this;if(t.destroyed)return;var n=Math.min(t._readableState.highWaterMark,e);if(t.endOffset!=null){n=Math.min(n,t.endOffset-t.pos)}if(n<=0){t.destroyed=true;t.push(null);t.context.unref();return}t.context.pend.go(function(e){if(t.destroyed)return e();var r=new Buffer(n);i.read(t.context.fd,r,0,n,t.pos,function(n,i){if(n){t.destroy(n)}else if(i===0){t.destroyed=true;t.push(null);t.context.unref()}else{t.pos+=i;t.push(r.slice(0,i))}e()})})};ReadStream.prototype.destroy=function(e){if(this.destroyed)return;e=e||new Error("stream destroyed");this.destroyed=true;this.emit("error",e);this.context.unref()};r.inherits(WriteStream,o);function WriteStream(e,t){t=t||{};o.call(this,t);this.context=e;this.context.ref();this.start=t.start||0;this.endOffset=t.end==null?Infinity:+t.end;this.bytesWritten=0;this.pos=this.start;this.destroyed=false;this.on("finish",this.destroy.bind(this))}WriteStream.prototype._write=function(e,t,n){var r=this;if(r.destroyed)return;if(r.pos+e.length>r.endOffset){var s=new Error("maximum file length exceeded");s.code="ETOOBIG";r.destroy();n(s);return}r.context.pend.go(function(t){if(r.destroyed)return t();i.write(r.context.fd,e,0,e.length,r.pos,function(e,i){if(e){r.destroy();t();n(e)}else{r.bytesWritten+=i;r.pos+=i;r.emit("progress");t();n()}})})};WriteStream.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=true;this.context.unref()};r.inherits(BufferSlicer,c);function BufferSlicer(e,t){c.call(this);t=t||{};this.refCount=0;this.buffer=e;this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}BufferSlicer.prototype.read=function(e,t,n,i,r){var s=i+n;var a=s-this.buffer.length;var o=a>0?a:n;this.buffer.copy(e,t,i,s);setImmediate(function(){r(null,o)})};BufferSlicer.prototype.write=function(e,t,n,i,r){e.copy(this.buffer,i,t,t+n);setImmediate(function(){r(null,n,e)})};BufferSlicer.prototype.createReadStream=function(e){e=e||{};var t=new l(e);t.destroyed=false;t.start=e.start||0;t.endOffset=e.end;t.pos=t.endOffset||this.buffer.length;var n=this.buffer.slice(t.start,t.pos);var i=0;while(true){var r=i+this.maxChunkSize;if(r>=n.length){if(i<n.length){t.write(n.slice(i,n.length))}break}t.write(n.slice(i,r));i=r}t.end();t.destroy=function(){t.destroyed=true};return t};BufferSlicer.prototype.createWriteStream=function(e){var t=this;e=e||{};var n=new o(e);n.start=e.start||0;n.endOffset=e.end==null?this.buffer.length:+e.end;n.bytesWritten=0;n.pos=n.start;n.destroyed=false;n._write=function(e,i,r){if(n.destroyed)return;var s=n.pos+e.length;if(s>n.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG";n.destroyed=true;r(a);return}e.copy(t.buffer,n.pos,0,e.length);n.bytesWritten+=e.length;n.pos=s;n.emit("progress");r()};n.destroy=function(){n.destroyed=true};return n};BufferSlicer.prototype.ref=function(){this.refCount+=1};BufferSlicer.prototype.unref=function(){this.refCount-=1;if(this.refCount<0){throw new Error("invalid unref")}};function createFromBuffer(e,t){return new BufferSlicer(e,t)}function createFromFd(e,t){return new FdSlicer(e,t)}},336:function(e,t,n){const i=n(747);const r=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;const s=r.replace(/^v/,"").split(".");const a=+s[0]>10||+s[0]===10&&+s[1]>=12;const o=!a?()=>false:e=>e.mkdir===i.mkdir;const l=!a?()=>false:e=>e.mkdirSync===i.mkdirSync;e.exports={useNative:o,useNativeSync:l}},357:function(e){e.exports=require("assert")},381:function(e,t,n){"use strict";const i=n(891);const r=n(203);const s=n(747);const a=n(827);const o=n(622);const l=e.exports=((e,t,n)=>{if(typeof e==="function")n=e,t=null,e={};else if(Array.isArray(e))t=e,e={};if(typeof t==="function")n=t,t=null;if(!t)t=[];else t=Array.from(t);const r=i(e);if(r.sync&&typeof n==="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n==="function")throw new TypeError("callback only supported with file option");if(t.length)c(r,t);if(!r.noResume)u(r);return r.file&&r.sync?h(r):r.file?f(r,n):d(r)});const u=e=>{const t=e.onentry;e.onentry=t?e=>{t(e);e.resume()}:e=>e.resume()};const c=(e,t)=>{const n=new Map(t.map(e=>[e.replace(/\/+$/,""),true]));const i=e.filter;const r=(e,t)=>{const i=t||o.parse(e).root||".";const s=e===i?false:n.has(e)?n.get(e):r(o.dirname(e),i);n.set(e,s);return s};e.filter=i?(e,t)=>i(e,t)&&r(e.replace(/\/+$/,"")):e=>r(e.replace(/\/+$/,""))};const h=e=>{const t=d(e);const n=e.file;let i=true;let r;try{const a=s.statSync(n);const o=e.maxReadSize||16*1024*1024;if(a.size<o){t.end(s.readFileSync(n))}else{let e=0;const i=Buffer.allocUnsafe(o);r=s.openSync(n,"r");while(e<a.size){let n=s.readSync(r,i,0,o,e);e+=n;t.write(i.slice(0,n))}t.end()}i=false}finally{if(i&&r)try{s.closeSync(r)}catch(e){}}};const f=(e,t)=>{const n=new r(e);const i=e.maxReadSize||16*1024*1024;const o=e.file;const l=new Promise((e,t)=>{n.on("error",t);n.on("end",e);s.stat(o,(e,r)=>{if(e)t(e);else{const e=new a.ReadStream(o,{readSize:i,size:r.size});e.on("error",t);e.pipe(n)}})});return t?l.then(t,t):l};const d=e=>new r(e)},396:function(e){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},413:function(e){e.exports=require("stream")},417:function(e){e.exports=require("crypto")},478:function(e){"use strict";const t=["|","<",">","?",":"];const n=t.map(e=>String.fromCharCode(61440+e.charCodeAt(0)));const i=new Map(t.map((e,t)=>[e,n[t]]));const r=new Map(n.map((e,n)=>[e,t[n]]));e.exports={encode:e=>t.reduce((e,t)=>e.split(t).join(i.get(t)),e),decode:e=>n.reduce((e,t)=>e.split(t).join(r.get(t)),e)}},538:function(e,t,n){var i=n(293).Buffer;var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array!=="undefined"){r=new Int32Array(r)}function ensureBuffer(e){if(i.isBuffer(e)){return e}var t=typeof i.alloc==="function"&&typeof i.from==="function";if(typeof e==="number"){return t?i.alloc(e):new i(e)}else if(typeof e==="string"){return t?i.from(e):new i(e)}else{throw new Error("input must be buffer, number, or string, received "+typeof e)}}function bufferizeInt(e){var t=ensureBuffer(4);t.writeInt32BE(e,0);return t}function _crc32(e,t){e=ensureBuffer(e);if(i.isBuffer(t)){t=t.readUInt32BE(0)}var n=~~t^-1;for(var s=0;s<e.length;s++){n=r[(n^e[s])&255]^n>>>8}return n^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};e.exports=crc32},554:function(e,t){"use strict";t.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);t.code=new Map(Array.from(t.name).map(e=>[e[1],e[0]]))},561:function(e,t,n){const{dirname:i}=n(622);const{findMade:r,findMadeSync:s}=n(92);const{mkdirpManual:a,mkdirpManualSync:o}=n(806);const l=(e,t)=>{t.recursive=true;const n=i(e);if(n===e)return t.mkdirAsync(e,t);return r(t,e).then(n=>t.mkdirAsync(e,t).then(()=>n).catch(n=>{if(n.code==="ENOENT")return a(e,t);else throw n}))};const u=(e,t)=>{t.recursive=true;const n=i(e);if(n===e)return t.mkdirSync(e,t);const r=s(t,e);try{t.mkdirSync(e,t);return r}catch(n){if(n.code==="ENOENT")return o(e,t);else throw n}};e.exports={mkdirpNative:l,mkdirpNativeSync:u}},577:function(e,t,n){"use strict";const i=n(626);const r=n(747);const s=n(622);const a=n(941);class SymlinkError extends Error{constructor(e,t){super("Cannot extract through symbolic link");this.path=t;this.symlink=e}get name(){return"SylinkError"}}class CwdError extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'");this.path=e;this.code=t}get name(){return"CwdError"}}const o=e.exports=((e,t,n)=>{const o=t.umask;const u=t.mode|448;const c=(u&o)!==0;const h=t.uid;const f=t.gid;const d=typeof h==="number"&&typeof f==="number"&&(h!==t.processUid||f!==t.processGid);const m=t.preserve;const v=t.unlink;const p=t.cache;const w=t.cwd;const y=(t,i)=>{if(t)n(t);else{p.set(e,true);if(i&&d)a(i,h,f,e=>y(e));else if(c)r.chmod(e,u,n);else n()}};if(p&&p.get(e)===true)return y();if(e===w)return r.stat(e,(t,n)=>{if(t||!n.isDirectory())t=new CwdError(e,t&&t.code||"ENOTDIR");y(t)});if(m)return i(e,{mode:u}).then(e=>y(null,e),y);const g=s.relative(w,e);const b=g.split(/\/|\\/);l(w,b,u,p,v,w,null,y)});const l=(e,t,n,i,s,a,o,c)=>{if(!t.length)return c(null,o);const h=t.shift();const f=e+"/"+h;if(i.get(f))return l(f,t,n,i,s,a,o,c);r.mkdir(f,n,u(f,t,n,i,s,a,o,c))};const u=(e,t,n,i,a,o,c,h)=>f=>{if(f){if(f.path&&s.dirname(f.path)===o&&(f.code==="ENOTDIR"||f.code==="ENOENT"))return h(new CwdError(o,f.code));r.lstat(e,(s,d)=>{if(s)h(s);else if(d.isDirectory())l(e,t,n,i,a,o,c,h);else if(a)r.unlink(e,s=>{if(s)return h(s);r.mkdir(e,n,u(e,t,n,i,a,o,c,h))});else if(d.isSymbolicLink())return h(new SymlinkError(e,e+"/"+t.join("/")));else h(f)})}else{c=c||e;l(e,t,n,i,a,o,c,h)}};const c=e.exports.sync=((e,t)=>{const n=t.umask;const o=t.mode|448;const l=(o&n)!==0;const u=t.uid;const c=t.gid;const h=typeof u==="number"&&typeof c==="number"&&(u!==t.processUid||c!==t.processGid);const f=t.preserve;const d=t.unlink;const m=t.cache;const v=t.cwd;const p=t=>{m.set(e,true);if(t&&h)a.sync(t,u,c);if(l)r.chmodSync(e,o)};if(m&&m.get(e)===true)return p();if(e===v){let t=false;let n="ENOTDIR";try{t=r.statSync(e).isDirectory()}catch(e){n=e.code}finally{if(!t)throw new CwdError(e,n)}p();return}if(f)return p(i.sync(e,o));const w=s.relative(v,e);const y=w.split(/\/|\\/);let g=null;for(let e=y.shift(),t=v;e&&(t+="/"+e);e=y.shift()){if(m.get(t))continue;try{r.mkdirSync(t,o);g=g||t;m.set(t,true)}catch(e){if(e.path&&s.dirname(e.path)===v&&(e.code==="ENOTDIR"||e.code==="ENOENT"))return new CwdError(v,e.code);const n=r.lstatSync(t);if(n.isDirectory()){m.set(t,true);continue}else if(d){r.unlinkSync(t);r.mkdirSync(t,o);g=g||t;m.set(t,true);continue}else if(n.isSymbolicLink())return new SymlinkError(t,t+"/"+y.join("/"))}}return p(g)})},582:function(e,t,n){"use strict";const i=n(232);const r=n(622);class Pax{constructor(e,t){this.atime=e.atime||null;this.charset=e.charset||null;this.comment=e.comment||null;this.ctime=e.ctime||null;this.gid=e.gid||null;this.gname=e.gname||null;this.linkpath=e.linkpath||null;this.mtime=e.mtime||null;this.path=e.path||null;this.size=e.size||null;this.uid=e.uid||null;this.uname=e.uname||null;this.dev=e.dev||null;this.ino=e.ino||null;this.nlink=e.nlink||null;this.global=t||false}encode(){const e=this.encodeBody();if(e==="")return null;const t=Buffer.byteLength(e);const n=512*Math.ceil(1+t/512);const s=Buffer.allocUnsafe(n);for(let e=0;e<512;e++){s[e]=0}new i({path:("PaxHeader/"+r.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s);s.write(e,512,t,"utf8");for(let e=t+512;e<s.length;e++){s[e]=0}return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===undefined)return"";const t=this[e]instanceof Date?this[e].getTime()/1e3:this[e];const n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+"\n";const i=Buffer.byteLength(n);let r=Math.floor(Math.log(i)/Math.log(10))+1;if(i+r>=Math.pow(10,r))r+=1;const s=r+i;return s+n}}Pax.parse=((e,t,n)=>new Pax(s(a(e),t),n));const s=(e,t)=>t?Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),t):e;const a=e=>e.replace(/\n$/,"").split("\n").reduce(o,Object.create(null));const o=(e,t)=>{const n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.substr((n+" ").length);const i=t.split("=");const r=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!r)return e;const s=i.join("=");e[r]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(r)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s;return e};e.exports=Pax},598:function(e,t,n){var i=n(747);var r=n(250);var s=n(93);var a=n(608);var o=n(669);var l;var u;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){l=Symbol.for("graceful-fs.queue");u=Symbol.for("graceful-fs.previous")}else{l="___graceful-fs.queue";u="___graceful-fs.previous"}function noop(){}var c=noop;if(o.debuglog)c=o.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))c=function(){var e=o.format.apply(o,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ");console.error(e)};if(!global[l]){var h=[];Object.defineProperty(global,l,{get:function(){return h}});i.close=function(e){function close(t,n){return e.call(i,t,function(e){if(!e){retry()}if(typeof n==="function")n.apply(this,arguments)})}Object.defineProperty(close,u,{value:e});return close}(i.close);i.closeSync=function(e){function closeSync(t){e.apply(i,arguments);retry()}Object.defineProperty(closeSync,u,{value:e});return closeSync}(i.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",function(){c(global[l]);n(357).equal(global[l].length,0)})}}e.exports=patch(a(i));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched){e.exports=patch(i);i.__patched=true}function patch(e){r(e);e.gracefulify=patch;e.createReadStream=createReadStream;e.createWriteStream=createWriteStream;var t=e.readFile;e.readFile=readFile;function readFile(e,n,i){if(typeof n==="function")i=n,n=null;return go$readFile(e,n,i);function go$readFile(e,n,i){return t(e,n,function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$readFile,[e,n,i]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}})}}var n=e.writeFile;e.writeFile=writeFile;function writeFile(e,t,i,r){if(typeof i==="function")r=i,i=null;return go$writeFile(e,t,i,r);function go$writeFile(e,t,i,r){return n(e,t,i,function(n){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$writeFile,[e,t,i,r]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}})}}var i=e.appendFile;if(i)e.appendFile=appendFile;function appendFile(e,t,n,r){if(typeof n==="function")r=n,n=null;return go$appendFile(e,t,n,r);function go$appendFile(e,t,n,r){return i(e,t,n,function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$appendFile,[e,t,n,r]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}})}}var a=e.readdir;e.readdir=readdir;function readdir(e,t,n){var i=[e];if(typeof t!=="function"){i.push(t)}else{n=t}i.push(go$readdir$cb);return go$readdir(i);function go$readdir$cb(e,t){if(t&&t.sort)t.sort();if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))enqueue([go$readdir,[i]]);else{if(typeof n==="function")n.apply(this,arguments);retry()}}}function go$readdir(t){return a.apply(e,t)}if(process.version.substr(0,4)==="v0.8"){var o=s(e);ReadStream=o.ReadStream;WriteStream=o.WriteStream}var l=e.ReadStream;if(l){ReadStream.prototype=Object.create(l.prototype);ReadStream.prototype.open=ReadStream$open}var u=e.WriteStream;if(u){WriteStream.prototype=Object.create(u.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(e,"ReadStream",{get:function(){return ReadStream},set:function(e){ReadStream=e},enumerable:true,configurable:true});Object.defineProperty(e,"WriteStream",{get:function(){return WriteStream},set:function(e){WriteStream=e},enumerable:true,configurable:true});var c=ReadStream;Object.defineProperty(e,"FileReadStream",{get:function(){return c},set:function(e){c=e},enumerable:true,configurable:true});var h=WriteStream;Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:true,configurable:true});function ReadStream(e,t){if(this instanceof ReadStream)return l.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var e=this;open(e.path,e.flags,e.mode,function(t,n){if(t){if(e.autoClose)e.destroy();e.emit("error",t)}else{e.fd=n;e.emit("open",n);e.read()}})}function WriteStream(e,t){if(this instanceof WriteStream)return u.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var e=this;open(e.path,e.flags,e.mode,function(t,n){if(t){e.destroy();e.emit("error",t)}else{e.fd=n;e.emit("open",n)}})}function createReadStream(t,n){return new e.ReadStream(t,n)}function createWriteStream(t,n){return new e.WriteStream(t,n)}var f=e.open;e.open=open;function open(e,t,n,i){if(typeof n==="function")i=n,n=null;return go$open(e,t,n,i);function go$open(e,t,n,i){return f(e,t,n,function(r,s){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$open,[e,t,n,i]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}})}}return e}function enqueue(e){c("ENQUEUE",e[0].name,e[1]);global[l].push(e)}function retry(){var e=global[l].shift();if(e){c("RETRY",e[0].name,e[1]);e[0].apply(null,e[1])}}},605:function(e){e.exports=require("http")},608:function(e){"use strict";e.exports=clone;function clone(e){if(e===null||typeof e!=="object")return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))});return t}},610:function(e,t,n){(function(e){"use strict";var t=function(){return u.__string_rec(this,"")},i=i||{},r;function $extend(e,t){var n=Object.create(e);for(var i in t)n[i]=t[i];if(t.toString!==Object.prototype.toString)n.toString=t.toString;return n}var s=i["Attribute"]={__ename__:true,__constructs__:["Off","Bold","Underline","Blink","ReverseVideo","Concealed","BoldOff","UnderlineOff","BlinkOff","NormalVideo","ConcealedOff","Black","Red","Green","Yellow","Blue","Magenta","Cyan","White","DefaultForeground","BlackBack","RedBack","GreenBack","YellowBack","BlueBack","MagentaBack","CyanBack","WhiteBack","DefaultBackground"],Off:{_hx_index:0,__enum__:"Attribute",toString:t},Bold:{_hx_index:1,__enum__:"Attribute",toString:t},Underline:{_hx_index:2,__enum__:"Attribute",toString:t},Blink:{_hx_index:3,__enum__:"Attribute",toString:t},ReverseVideo:{_hx_index:4,__enum__:"Attribute",toString:t},Concealed:{_hx_index:5,__enum__:"Attribute",toString:t},BoldOff:{_hx_index:6,__enum__:"Attribute",toString:t},UnderlineOff:{_hx_index:7,__enum__:"Attribute",toString:t},BlinkOff:{_hx_index:8,__enum__:"Attribute",toString:t},NormalVideo:{_hx_index:9,__enum__:"Attribute",toString:t},ConcealedOff:{_hx_index:10,__enum__:"Attribute",toString:t},Black:{_hx_index:11,__enum__:"Attribute",toString:t},Red:{_hx_index:12,__enum__:"Attribute",toString:t},Green:{_hx_index:13,__enum__:"Attribute",toString:t},Yellow:{_hx_index:14,__enum__:"Attribute",toString:t},Blue:{_hx_index:15,__enum__:"Attribute",toString:t},Magenta:{_hx_index:16,__enum__:"Attribute",toString:t},Cyan:{_hx_index:17,__enum__:"Attribute",toString:t},White:{_hx_index:18,__enum__:"Attribute",toString:t},DefaultForeground:{_hx_index:19,__enum__:"Attribute",toString:t},BlackBack:{_hx_index:20,__enum__:"Attribute",toString:t},RedBack:{_hx_index:21,__enum__:"Attribute",toString:t},GreenBack:{_hx_index:22,__enum__:"Attribute",toString:t},YellowBack:{_hx_index:23,__enum__:"Attribute",toString:t},BlueBack:{_hx_index:24,__enum__:"Attribute",toString:t},MagentaBack:{_hx_index:25,__enum__:"Attribute",toString:t},CyanBack:{_hx_index:26,__enum__:"Attribute",toString:t},WhiteBack:{_hx_index:27,__enum__:"Attribute",toString:t},DefaultBackground:{_hx_index:28,__enum__:"Attribute",toString:t}};var a=function(){};a.__name__=true;a.systemName=function(){var e=process.platform;switch(e){case"darwin":return"Mac";case"freebsd":return"BSD";case"linux":return"Linux";case"win32":return"Windows";default:var t=e;return t}};var o=n(129);var l=function(){};l.__name__=true;l.field=function(e,t){try{return e[t]}catch(e){var n=e instanceof ie?e.val:e;return null}};l.fields=function(e){var t=[];if(e!=null){var n=Object.prototype.hasOwnProperty;for(var i in e){if(i!="__id__"&&i!="hx__closures__"&&n.call(e,i)){t.push(i)}}}return t};l.compare=function(e,t){if(e==t){return 0}else if(e>t){return 1}else{return-1}};l.isEnumValue=function(e){if(e!=null){return e.__enum__!=null}else{return false}};l.copy=function(e){if(e==null){return null}var t={};var n=0;var i=l.fields(e);while(n<i.length){var r=i[n];++n;t[r]=l.field(e,r)}return t};var u=function(){};u.__name__=true;u.getClass=function(e){if(e==null){return null}else if(e instanceof Array){return Array}else{var t=e.__class__;if(t!=null){return t}var n=u.__nativeClassName(e);if(n!=null){return u.__resolveNativeClass(n)}return null}};u.__string_rec=function(e,t){if(e==null){return"null"}if(t.length>=5){return"<...>"}var n=typeof e;if(n=="function"&&(e.__name__||e.__ename__)){n="object"}switch(n){case"function":return"<function>";case"object":if(e.__enum__){var r=i[e.__enum__];var s=r.__constructs__[e._hx_index];var a=r[s];if(a.__params__){t=t+"\t";return s+"("+function(n){var i;var r=[];{var s=0;var o=a.__params__;while(true){if(!(s<o.length)){break}var l=o[s];s=s+1;r.push(u.__string_rec(e[l],t))}}i=r;return i}(this).join(",")+")"}else{return s}}if(e instanceof Array){var o="[";t+="\t";var l=0;var c=e.length;while(l<c){var h=l++;o+=(h>0?",":"")+u.__string_rec(e[h],t)}o+="]";return o}var f;try{f=e.toString}catch(e){var d=e instanceof ie?e.val:e;return"???"}if(f!=null&&f!=Object.toString&&typeof f=="function"){var m=e.toString();if(m!="[object Object]"){return m}}var v="{\n";t+="\t";var p=e.hasOwnProperty!=null;var w=null;for(w in e){if(p&&!e.hasOwnProperty(w)){continue}if(w=="prototype"||w=="__class__"||w=="__super__"||w=="__interfaces__"||w=="__properties__"){continue}if(v.length!=2){v+=", \n"}v+=t+w+" : "+u.__string_rec(e[w],t)}t=t.substring(1);v+="\n"+t+"}";return v;case"string":return e;default:return String(e)}};u.__interfLoop=function(e,t){if(e==null){return false}if(e==t){return true}if(Object.prototype.hasOwnProperty.call(e,"__interfaces__")){var n=e.__interfaces__;var i=0;var r=n.length;while(i<r){var s=i++;var a=n[s];if(a==t||u.__interfLoop(a,t)){return true}}}return u.__interfLoop(e.__super__,t)};u.__instanceof=function(e,t){if(t==null){return false}switch(t){case Array:return e instanceof Array;case Je:return typeof e=="boolean";case qe:return e!=null;case Ve:return typeof e=="number";case Xe:if(typeof e=="number"){return(e|0)===e}else{return false}break;case String:return typeof e=="string";default:if(e!=null){if(typeof t=="function"){if(u.__downcastCheck(e,t)){return true}}else if(typeof t=="object"&&u.__isNativeObj(t)){if(e instanceof t){return true}}}else{return false}if(t==je?e.__name__!=null:false){return true}if(t==Qe?e.__ename__!=null:false){return true}return e.__enum__!=null?i[e.__enum__]==t:false}};u.__downcastCheck=function(e,t){if(!(e instanceof t)){if(t.__isInterface__){return u.__interfLoop(u.getClass(e),t)}else{return false}}else{return true}};u.__nativeClassName=function(e){var t=u.__toStr.call(e).slice(8,-1);if(t=="Object"||t=="Function"||t=="Math"||t=="JSON"){return null}return t};u.__isNativeObj=function(e){return u.__nativeClassName(e)!=null};u.__resolveNativeClass=function(t){return e[t]};var c=function(){};c.__name__=true;c.string=function(e){return u.__string_rec(e,"")};c.parseInt=function(e){if(e!=null){var t=0;var n=e.length;while(t<n){var i=t++;var r=e.charCodeAt(i);if(r<=8||r>=14&&r!=32&&r!=45){var s=parseInt(e,e[i+1]=="x"||e[i+1]=="X"?16:10);if(isNaN(s)){return null}else{return s}}}}return null};var h=function(){};h.__name__=true;h.aset=function(e){if(h.strip||h.stripIfUnavailable&&!h.available){return""}var t=""+"[";var n=[];var i=0;while(i<e.length){var r=e[i];++i;if(!u.__instanceof(r,s)){throw new ie("Set argument is not an Attribute: "+c.string(r))}n.push(h.values.get(r))}return t+n.join(";")+"m"};h.detectSupport=function(){if(a.systemName().toLowerCase().indexOf("window")==-1){var e=-1;try{e=o.spawnSync("tput",["colors"]).error==null?0:125}catch(e){var t=e instanceof ie?e.val:e}return e==0}else{return process.env["ANSICON"]!=null}};var f=function(){};f.__name__=true;f.__format_get=function(e,t){switch(t){case"%":return"%";case"A":return f.DAY_NAMES[e.getDay()];case"B":return f.MONTH_NAMES[e.getMonth()];case"C":return y.lpad(c.string(e.getFullYear()/100|0),"0",2);case"D":return f.__format(e,"%m/%d/%y");case"F":return f.__format(e,"%Y-%m-%d");case"I":case"l":var n=e.getHours()%12;return y.lpad(c.string(n==0?12:n),t=="I"?"0":" ",2);case"M":return y.lpad(c.string(e.getMinutes()),"0",2);case"R":return f.__format(e,"%H:%M");case"S":return y.lpad(c.string(e.getSeconds()),"0",2);case"T":return f.__format(e,"%H:%M:%S");case"Y":return c.string(e.getFullYear());case"a":return f.DAY_SHORT_NAMES[e.getDay()];case"b":case"h":return f.MONTH_SHORT_NAMES[e.getMonth()];case"d":return y.lpad(c.string(e.getDate()),"0",2);case"e":return c.string(e.getDate());case"H":case"k":return y.lpad(c.string(e.getHours()),t=="H"?"0":" ",2);case"m":return y.lpad(c.string(e.getMonth()+1),"0",2);case"n":return"\n";case"p":if(e.getHours()>11){return"PM"}else{return"AM"}break;case"r":return f.__format(e,"%I:%M:%S %p");case"s":return c.string(e.getTime()/1e3|0);case"t":return"\t";case"u":var i=e.getDay();if(i==0){return"7"}else if(i==null){return"null"}else{return""+i}break;case"w":return c.string(e.getDay());case"y":return y.lpad(c.string(e.getFullYear()%100),"0",2);default:throw new ie("Date.format %"+t+"- not implemented yet.")}};f.__format=function(e,t){var n="";var i=0;while(true){var r=t.indexOf("%",i);if(r<0){break}var s=r-i;n+=s==null?m.substr(t,i,null):m.substr(t,i,s);n+=c.string(f.__format_get(e,m.substr(t,r+1,1)));i=r+2}var a=t.length-i;n+=a==null?m.substr(t,i,null):m.substr(t,i,a);return n};f.format=function(e,t){return f.__format(e,t)};var d=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};d.__name__=true;d.prototype={match:function(e){if(this.r.global){this.r.lastIndex=0}this.r.m=this.r.exec(e);this.r.s=e;return this.r.m!=null},__class__:d};var m=function(){};m.__name__=true;m.dateStr=function(e){var t=e.getMonth()+1;var n=e.getDate();var i=e.getHours();var r=e.getMinutes();var s=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(n<10?"0"+n:""+n)+" "+(i<10?"0"+i:""+i)+":"+(r<10?"0"+r:""+r)+":"+(s<10?"0"+s:""+s)};m.strDate=function(e){switch(e.length){case 8:var t=e.split(":");var n=new Date;n["setTime"](0);n["setUTCHours"](t[0]);n["setUTCMinutes"](t[1]);n["setUTCSeconds"](t[2]);return n;case 10:var i=e.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var r=e.split(" ");var s=r[0].split("-");var a=r[1].split(":");return new Date(s[0],s[1]-1,s[2],a[0],a[1],a[2]);default:throw new ie("Invalid date format : "+e)}};m.cca=function(e,t){var n=e.charCodeAt(t);if(n!=n){return undefined}return n};m.substr=function(e,t,n){if(n==null){n=e.length}else if(n<0){if(t==0){n=e.length+n}else{return""}}return e.substr(t,n)};m.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var v=function(){};v.__name__=true;v.has=function(e,t){var n=$getIterator(e);while(n.hasNext()){var i=n.next();if(i==t){return true}}return false};Math.__name__=true;var p=function(){this.b=""};p.__name__=true;p.prototype={__class__:p};var w=function(){};w.__name__=true;w.quoteUnixArg=function(e){if(e==""){return"''"}if(!new d("[^a-zA-Z0-9_@%+=:,./-]","").match(e)){return e}return"'"+y.replace(e,"'","'\"'\"'")+"'"};w.quoteWinArg=function(e,t){if(!new d('^[^ \t\\\\"]+$',"").match(e)){var n="";var i=e.indexOf(" ")!=-1||e.indexOf("\t")!=-1||e=="";if(i){n+='"'}var r=new p;var s=0;var a=e.length;while(s<a){var o=s++;var l=m.cca(e,o);if(l==null){var u=l;if(r.b.length>0){n+=c.string(r.b);r=new p}n+=String.fromCodePoint(u)}else{switch(l){case 34:var h=r.b;n+=h==null?"null":""+h;n+=h==null?"null":""+h;r=new p;n+='\\"';break;case 92:r.b+="\\";break;default:var f=l;if(r.b.length>0){n+=c.string(r.b);r=new p}n+=String.fromCodePoint(f)}}}n+=c.string(r.b);if(i){n+=c.string(r.b);n+='"'}e=n}if(t){var v="";var y=0;var g=e.length;while(y<g){var b=y++;var S=m.cca(e,b);if(w.winMetaCharacters.indexOf(S)>=0){v+=String.fromCodePoint(94)}v+=String.fromCodePoint(S)}return v}else{return e}};var y=function(){};y.__name__=true;y.startsWith=function(e,t){if(e.length>=t.length){return e.lastIndexOf(t,0)==0}else{return false}};y.endsWith=function(e,t){var n=t.length;var i=e.length;if(i>=n){return e.indexOf(t,i-n)==i-n}else{return false}};y.isSpace=function(e,t){var n=m.cca(e,t);if(!(n>8&&n<14)){return n==32}else{return true}};y.ltrim=function(e){var t=e.length;var n=0;while(n<t&&y.isSpace(e,n))++n;if(n>0){return m.substr(e,n,t-n)}else{return e}};y.rtrim=function(e){var t=e.length;var n=0;while(n<t&&y.isSpace(e,t-n-1))++n;if(n>0){return m.substr(e,0,t-n)}else{return e}};y.trim=function(e){return y.ltrim(y.rtrim(e))};y.lpad=function(e,t,n){if(t.length<=0){return e}var i="";n-=e.length;while(i.length<n)i+=t==null?"null":""+t;i+=e==null?"null":""+e;return i};y.replace=function(e,t,n){return e.split(t).join(n)};var g=function(){};g.__name__=true;g.prototype={writeByte:function(e){throw new ie("Not implemented")},writeBytes:function(e,t,n){if(t<0||n<0||t+n>e.length){throw new ie(B.OutsideBounds)}var i=e.b;var r=n;while(r>0){this.writeByte(i[t]);++t;--r}return n},writeFullBytes:function(e,t,n){while(n>0){var i=this.writeBytes(e,t,n);t+=i;n-=i}},writeString:function(e,t){var n=C.ofString(e,t);this.writeFullBytes(n,0,n.length)},__class__:g};var b=function(e){this.fd=e};b.__name__=true;b.__super__=g;b.prototype=$extend(g.prototype,{writeByte:function(e){K.writeSync(this.fd,String.fromCodePoint(e))},writeBytes:function(e,t,n){var i=e.b;return K.writeSync(this.fd,ue.from(i.buffer,i.byteOffset,e.length),t,n)},writeString:function(e,t){K.writeSync(this.fd,e)},__class__:b});var S=function(){};S.__name__=true;S.enumParameters=function(e){var t=i[e.__enum__];var n=t.__constructs__[e._hx_index];var r=t[n].__params__;if(r!=null){var s=[];var a=0;while(a<r.length){var o=r[a];++a;s.push(e[o])}return s}else{return[]}};var x=i["haxe.StackItem"]={__ename__:true,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:t},Module:(r=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:t}},r.__params__=["m"],r),FilePos:(r=function(e,n,i,r){return{_hx_index:2,s:e,file:n,line:i,column:r,__enum__:"haxe.StackItem",toString:t}},r.__params__=["s","file","line","column"],r),Method:(r=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:t}},r.__params__=["classname","method"],r),LocalFunction:(r=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:t}},r.__params__=["v"],r)};var E=function(){};E.__name__=true;E.__isInterface__=true;var R=function(e){var t=this;this.id=setInterval(function(){t.run()},e)};R.__name__=true;R.delay=function(e,t){var n=new R(t);n.run=function(){n.stop();e()};return n};R.prototype={stop:function(){if(this.id==null){return}clearInterval(this.id);this.id=null},run:function(){},__class__:R};var _=function(){};_.__name__=true;_.__interfaces__=[E];_.prototype={set:function(e,t){this.root=this.setLoop(e,t,this.root)},get:function(e){var t=this.root;while(t!=null){var n=this.compare(e,t.key);if(n==0){return t.value}if(n<0){t=t.left}else{t=t.right}}return null},setLoop:function(e,t,n){if(n==null){return new N(null,e,t,null)}var i=this.compare(e,n.key);if(i==0){return new N(n.left,e,t,n.right,n==null?0:n._height)}else if(i<0){var r=this.setLoop(e,t,n.left);return this.balance(r,n.key,n.value,n.right)}else{var s=this.setLoop(e,t,n.right);return this.balance(n.left,n.key,n.value,s)}},balance:function(e,t,n,i){var r=e==null?0:e._height;var s=i==null?0:i._height;if(r>s+2){var a=e.left;var o=e.right;if((a==null?0:a._height)>=(o==null?0:o._height)){return new N(e.left,e.key,e.value,new N(e.right,t,n,i))}else{return new N(new N(e.left,e.key,e.value,e.right.left),e.right.key,e.right.value,new N(e.right.right,t,n,i))}}else if(s>r+2){var l=i.right;var u=i.left;if((l==null?0:l._height)>(u==null?0:u._height)){return new N(new N(e,t,n,i.left),i.key,i.value,i.right)}else{return new N(new N(e,t,n,i.left.left),i.left.key,i.left.value,new N(i.left.right,i.key,i.value,i.right))}}else{return new N(e,t,n,i,(r>s?r:s)+1)}},compare:function(e,t){return l.compare(e,t)},__class__:_};var N=function(e,t,n,i,r){if(r==null){r=-1}this.left=e;this.key=t;this.value=n;this.right=i;if(r==-1){var s;var a=this.left;var o=this.right;if((a==null?0:a._height)>(o==null?0:o._height)){var l=this.left;s=l==null?0:l._height}else{var u=this.right;s=u==null?0:u._height}this._height=s+1}else{this._height=r}};N.__name__=true;N.prototype={__class__:N};var O=function(){_.call(this)};O.__name__=true;O.__interfaces__=[E];O.__super__=_;O.prototype=$extend(_.prototype,{compare:function(e,t){var n=e._hx_index-t._hx_index;if(n!=0){return n}var i=S.enumParameters(e);var r=S.enumParameters(t);if(i.length==0&&r.length==0){return 0}return this.compareArgs(i,r)},compareArgs:function(e,t){var n=e.length-t.length;if(n!=0){return n}var i=0;var r=e.length;while(i<r){var s=i++;var a=this.compareArg(e[s],t[s]);if(a!=0){return a}}return 0},compareArg:function(e,t){if(l.isEnumValue(e)&&l.isEnumValue(t)){return this.compare(e,t)}else if(e instanceof Array&&t instanceof Array){return this.compareArgs(e,t)}else{return l.compare(e,t)}},__class__:O});var I=function(){this.h={}};I.__name__=true;I.__interfaces__=[E];I.prototype={__class__:I};var D=i["haxe.ds.Option"]={__ename__:true,__constructs__:["Some","None"],Some:(r=function(e){return{_hx_index:0,v:e,__enum__:"haxe.ds.Option",toString:t}},r.__params__=["v"],r),None:{_hx_index:1,__enum__:"haxe.ds.Option",toString:t}};var L=function(){this.h={}};L.__name__=true;L.__interfaces__=[E];L.prototype={setReserved:function(e,t){if(this.rh==null){this.rh={}}this.rh["$"+e]=t},getReserved:function(e){if(this.rh==null){return null}else{return this.rh["$"+e]}},keys:function(){return m.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h){if(this.h.hasOwnProperty(t)){e.push(t)}}if(this.rh!=null){for(var t in this.rh){if(t.charCodeAt(0)==36){e.push(t.substr(1))}}}return e},__class__:L};var C=function(e){this.length=e.byteLength;this.b=new Uint8Array(e);this.b.bufferValue=e;e.hxBytes=this;e.bytes=this.b};C.__name__=true;C.ofString=function(e,t){if(t==A.RawNative){var n=new Uint8Array(e.length<<1);var i=0;var r=e.length;while(i<r){var s=i++;var a=e.charCodeAt(s);n[s<<1]=a&255;n[s<<1|1]=a>>8}return new C(n.buffer)}var o=[];var l=0;while(l<e.length){var u=e.charCodeAt(l++);if(55296<=u&&u<=56319){u=u-55232<<10|e.charCodeAt(l++)&1023}if(u<=127){o.push(u)}else if(u<=2047){o.push(192|u>>6);o.push(128|u&63)}else if(u<=65535){o.push(224|u>>12);o.push(128|u>>6&63);o.push(128|u&63)}else{o.push(240|u>>18);o.push(128|u>>12&63);o.push(128|u>>6&63);o.push(128|u&63)}}return new C(new Uint8Array(o).buffer)};C.prototype={sub:function(e,t){if(e<0||t<0||e+t>this.length){throw new ie(B.OutsideBounds)}return new C(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+t))},getString:function(e,t,n){if(e<0||t<0||e+t>this.length){throw new ie(B.OutsideBounds)}if(n==null){n=A.UTF8}var i="";var r=this.b;var s=e;var a=e+t;switch(n._hx_index){case 0:var o=e>0;while(s<a){var l=r[s++];if(l<128){if(l==0){break}i+=String.fromCodePoint(l)}else if(l<224){var u=(l&63)<<6|r[s++]&127;i+=String.fromCodePoint(u)}else if(l<240){var c=r[s++];var h=(l&31)<<12|(c&127)<<6|r[s++]&127;i+=String.fromCodePoint(h)}else{var f=r[s++];var d=r[s++];var m=(l&15)<<18|(f&127)<<12|(d&127)<<6|r[s++]&127;i+=String.fromCodePoint(m)}}break;case 1:while(s<a){var v=r[s++]|r[s++]<<8;i+=String.fromCodePoint(v)}break}return i},toString:function(){return this.getString(0,this.length)},__class__:C};var A=i["haxe.io.Encoding"]={__ename__:true,__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:t},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:t}};var B=i["haxe.io.Error"]={__ename__:true,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:t},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:t},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:t},Custom:(r=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:t}},r.__params__=["e"],r)};var T=function(e){switch(e){case".":case"..":this.dir=e;this.file="";return}var t=e.lastIndexOf("/");var n=e.lastIndexOf("\\");if(t<n){this.dir=m.substr(e,0,n);e=m.substr(e,n+1,null);this.backslash=true}else if(n<t){this.dir=m.substr(e,0,t);e=m.substr(e,t+1,null)}else{this.dir=null}var i=e.lastIndexOf(".");if(i!=-1){this.ext=m.substr(e,i+1,null);this.file=m.substr(e,0,i)}else{this.ext=null;this.file=e}};T.__name__=true;T.directory=function(e){var t=new T(e);if(t.dir==null){return""}return t.dir};T.extension=function(e){var t=new T(e);if(t.ext==null){return""}return t.ext};T.join=function(e){var t=[];var n=0;var i=e;while(n<i.length){var r=i[n];++n;if(r!=null&&r!=""){t.push(r)}}var s=t;if(s.length==0){return""}var a=s[0];var o=1;var l=s.length;while(o<l){var u=o++;a=T.addTrailingSlash(a);a+=s[u]}return T.normalize(a)};T.normalize=function(e){var t="/";e=e.split("\\").join(t);if(e==t){return t}var n=[];var i=0;var r=e.split(t);while(i<r.length){var s=r[i];++i;if(s==".."&&n.length>0&&n[n.length-1]!=".."){n.pop()}else if(s==""){if(n.length>0||m.cca(e,0)==47){n.push(s)}}else if(s!="."){n.push(s)}}var a=n.join(t);var o="";var l=false;var u=false;var c=0;var h=a;while(c<h.length){var f=h;var d=c++;var v=f.charCodeAt(d);if(v>=55296&&v<=56319){v=v-55232<<10|f.charCodeAt(d+1)&1023}var p=v;if(p>=65536){++c}var w=p;switch(w){case 47:if(!l){u=true}else{var y=w;l=false;if(u){o+="/";u=false}o+=String.fromCodePoint(y)}break;case 58:o+=":";l=true;break;default:var g=w;l=false;if(u){o+="/";u=false}o+=String.fromCodePoint(g)}}return o};T.addTrailingSlash=function(e){if(e.length==0){return"/"}var t=e.lastIndexOf("/");var n=e.lastIndexOf("\\");if(t<n){if(n!=e.length-1){return e+"\\"}else{return e}}else if(t!=e.length-1){return e+"/"}else{return e}};T.removeTrailingSlashes=function(e){e:while(true){var t=m.cca(e,e.length-1);if(t==null){break}else{switch(t){case 47:case 92:e=m.substr(e,0,-1);break;default:break e}}}return e};T.isAbsolute=function(e){if(y.startsWith(e,"/")){return true}if(e.charAt(1)==":"){return true}if(y.startsWith(e,"\\\\")){return true}return false};T.prototype={__class__:T};var k=function(e,t){this.cwd=e;this.args=t};k.__name__=true;k.interpolate=function(e,t){if(e.indexOf("${")==-1){return $.Success(e)}var n="";var i=0;while(i<e.length){var r=e.indexOf("${",i);if(r==-1){var s=null;n+=s==null?m.substr(e,i,null):m.substr(e,i,s);break}else{var a=r;var o=a-i;n+=o==null?m.substr(e,i,null):m.substr(e,i,o);var l=a+2;var u;var h=e.indexOf("}",l);if(h==-1){return $.Failure("unclosed interpolation in "+e)}else{var f=h;u=f}var d=m.substr(e,l,u-l);var v;var p=t(d);if(p==null){return $.Failure("unknown variable "+d)}else{var w=p;if(w=="$"+"{"+d+"}"){v=w}else{var y=k.interpolate(w,t);if(y._hx_index==0){var g=y.data;v=g}else{var b=y;return b}}}n+=c.string(v);i=u+1}}return $.Success(n)};k.fromMultilineString=function(e,t,n,i){if(i==null){i=false}var r=[];var s=new U;var a=function(e){if(e=="__dirname"){return T.directory(t)}else{return n(e)}};var o=function(e,n){var i=function(e){r.push({pos:z.File(t,n),val:e})};if(e.charAt(0)=="-"){i(e)}else{var o=k.interpolate(e,a);switch(o._hx_index){case 0:var l=o.data;i(l);break;case 1:var u=o.failure;s.fail(u,z.File(t,n));break}}};var l=e.split("\n");var u=y.trim;var c=new Array(l.length);var h=0;var f=l.length;while(h<f){var d=h++;c[d]=u(l[d])}var v=c;var p=0;var w=v.length;while(p<w){var g=p++;var b=v[g];var S=function(e,t){return function(n){t[0](n,e[0])}}([g],[o]);var x=b.charAt(0);if(x!=null){switch(x){case"#":break;case"-":var E=b.indexOf(" ");if(E==-1){S(b)}else{var R=E;S(m.substr(b,0,R));S(y.trim(m.substr(b,R,null)))}break;default:var _=y.trim(b);if(_!=""){var N=_;if(i){S("-cp")}S(N)}}}}return s.produce(r)};k.getNdll=function(e){if(y.startsWith(e,"ndll:")){return D.Some(m.substr(e,5,null))}else{return D.None}};k.split=function(e,t,n,i){var r=[];var s=0;var a=e.length;while(s<a){var o=s++;r.push({val:e[o],pos:z.Cmd(o)})}var l=r;var u=[];var c=[];var h=[];var f=new U;var d=function(e){if(T.isAbsolute(e)){return e}else{return T.join([t,e])}};var m=function(){if(c.length>0){var e=u.concat(c);var n=new k(t,e);c=[];h.push(n)}};while(true){var v=l.shift();if(v==null){m();break}else{var p=[v];var w=function(e){return function(t){var n=l.shift();if(n==null){f.fail(""+e[0].val+" without argument",e[0].pos)}else{var i=n;t(i)}}}(p);var g=p[0].val;switch(g){case"--each":u=c;c=[];break;case"--next":m();break;case"--run":case"-x":var b=[p[0]].concat(l);c=c.concat(b);l=[];m();break;case"--cwd":case"-C":var S=l.shift();if(S==null){f.fail(""+p[0].val+" without argument",p[0].pos)}else{var x=S;t=d(x.val);if(!n.isDirectory(t)){f.fail("Cannot use "+t+" as working directory",x.pos);l=[]}}break;default:var E=g;if(T.extension(E)=="hxml"){l=k.readHxml(d(E),n,i,f,p[0].pos).concat(l)}else{var R=g;if(y.startsWith(R,"${")){var _=k.interpolate(R,i);switch(_._hx_index){case 0:var N=_.data;c.push({val:N,pos:p[0].pos});break;case 1:var O=_.failure;f.fail(O,p[0].pos);break}}else{c.push(p[0])}}}}}return f.produce(h)};k.readHxml=function(e,t,n,i,r){var s=t.readFile(e);switch(s._hx_index){case 0:var a=s.data;return i.getResult(k.fromMultilineString(a,e,n));case 1:var o=s.failure;i.fail(o,r);return[]}};k.prototype={__class__:k};var M=function(){};M.__name__=true;M.to=function(e,t,n){return new Fe(new Pe(function(){return Te.catchExceptions(t,function(t){return Te.withData(null,"Failed to "+e,t,n)},{fileName:"haxeshim/Attempt.hx",lineNumber:8,className:"haxeshim.Attempt",methodName:"to"})}))};var F={};F.__name__=true;F.ofVars=function(e){var t={};var n=t;var i=0;var r=l.fields(e);while(i<r.length){var s=r[i];++i;n[G.IS_WINDOWS?s.toUpperCase():s]=e[s]}var a=n;return a};F.ofMap=function(e){var t={};var n=t;var i=e.keys();while(i.hasNext()){var r=i.next();n[G.IS_WINDOWS?r.toUpperCase():r]=Ke[r]!=null?e.getReserved(r):e.h[r]}var s=n;return s};F.vars=function(e){return e};F.toVars=function(e){return l.copy(e)};F.get=function(e,t){return e[G.IS_WINDOWS?t.toUpperCase():t]};F.mergeInto=function(e,t){var n=F.vars(t);if(e==null){var i=n;var r=i;return r}else if(n==null){var s=e;var a=s;return a}else{var o=e;var u=n;var c={};var h=c;var f=u;var d=0;var m=l.fields(f);while(d<m.length){var v=m[d];++d;h[v]=f[v]}var p=o;var w=0;var y=l.fields(p);while(w<y.length){var g=y[w];++w;h[g]=p[g]}var b=h;return b}};var U=function(){this.errors=[]};U.__name__=true;U.prototype={fail:function(e,t,n){this.errors.push({message:e,pos:t,code:n})},produce:function(e){if(this.errors.length==0){return $.Success(e)}else{return $.Failure({result:e,errors:this.errors})}},getResult:function(e){switch(e._hx_index){case 0:var t=e.data;return t;case 1:var n=e.failure;var i=0;var r=n.errors;while(i<r.length){var s=r[i];++i;this.errors.push(s)}return n.result}},__class__:U};var z=i["haxeshim.Pos"]={__ename__:true,__constructs__:["File","Cmd","Custom"],File:(r=function(e,n){return{_hx_index:0,path:e,line:n,__enum__:"haxeshim.Pos",toString:t}},r.__params__=["path","line"],r),Cmd:(r=function(e){return{_hx_index:1,index:e,__enum__:"haxeshim.Pos",toString:t}},r.__params__=["index"],r),Custom:(r=function(e){return{_hx_index:2,source:e,__enum__:"haxeshim.Pos",toString:t}},r.__params__=["source"],r)};var W=function(){};W.__name__=true;W.die=function(e,t){if(t!=null){X.get().error(t)}process.exit(e);throw new ie("unreachable")};W.gracefully=function(e){try{return e()}catch(e){var t=e instanceof ie?e.val:e;if(t instanceof Te){var n=t;return W.die(n.code,n.message)}else{return W.die(500,c.string(t))}}};W.mergeEnv=function(e){return F.mergeInto(e,F.ofVars(process.env))};W.shell=function(e,t,n){try{return $.Success(o.execSync(e,{cwd:t,stdio:"inherit",env:F.toVars(W.mergeEnv(n))}))}catch(t){var i=t instanceof ie?t.val:t;return $.Failure(new Te(i.status,"Failed to invoke `"+e+"` because "+c.string(i),{fileName:"haxeshim/Exec.hx",lineNumber:47,className:"haxeshim.Exec",methodName:"shell"}))}};W.sync=function(e,t,n,i){var r=o.spawnSync(e,n,{cwd:t,stdio:"inherit",env:F.toVars(W.mergeEnv(i))});var s=r.stdout;var a=r.stderr;var l=r.status;var u=r.signal;var h=r.pid;var f=r.output;var d=r.error;if(d==null){var m=l;return $.Success(m)}else{var v=l;var p=d;return $.Failure(new Te(v,"Failed to call "+e+" because "+c.string(p),{fileName:"haxeshim/Exec.hx",lineNumber:54,className:"haxeshim.Exec",methodName:"sync"}))}};W.eval=function(e,t,n,i){var r=o.spawnSync(e,n,{cwd:t,env:F.toVars(W.mergeEnv(i))});var s=r;if(s.error==null){return $.Success({status:s.status,stdout:s.stdout.toString(),stderr:s.stderr.toString()})}else{var a=r.stdout;var l=r.stderr;var u=r.status;var h=r.signal;var f=r.pid;var d=r.output;var m=r.error;return $.Failure(new Te(null,"Failed to call "+e+" because "+c.string(m),{fileName:"haxeshim/Exec.hx",lineNumber:66,className:"haxeshim.Exec",methodName:"eval"}))}};var P={};P.__name__=true;P.ofString=function(e){return C.ofString(e)};var H=function(){};H.__name__=true;H.get=function(e,t){var n=e;return M.to("get content of "+e,function(){return K.readFileSync(n,{encoding:"utf8"})},t)};H.save=function(e,t,n){return Ge.noise(Ge.next(H.ensureDir(e),function(i){var r=e;var s=function(e){var t=e.b;var n=ue.from(t.buffer,t.byteOffset,e.length);K.writeFileSync(r,n)};var a=t;var o=function(){s(a)};return M.to("save to "+e,o,n)}))};H.exists=function(e){var t=e;return M.to("check the existence of "+e,function(){return Q.exists(t)},{fileName:"haxeshim/Fs.hx",lineNumber:26,className:"haxeshim.Fs",methodName:"exists"})};H.ensureDir=function(e){var t=y.endsWith(e,"/")||y.endsWith(e,"\\");if(t){e=T.removeTrailingSlashes(e)}var n=T.directory(e);if(T.removeTrailingSlashes(n)==e){return new Fe(new j($.Success(Me.Noise)))}else{return Ge.next(Ge.next(H.exists(n),function(e){if(e){return new Fe(new j($.Success(Me.Noise)))}else{return H.ensureDir(T.addTrailingSlash(n))}}),function(n){if(t){return Ge.next(H.exists(e),function(t){return M.to("create directory "+e,function(){if(!t){Q.createDirectory(e)}return Me.Noise},{fileName:"haxeshim/Fs.hx",lineNumber:49,className:"haxeshim.Fs",methodName:"ensureDir"})})}else{return new Fe(new j($.Success(Me.Noise)))}})}};H.ls=function(e,t){var n=[];var i=0;var r=K.readdirSync(e);while(i<r.length){var s=r[i];++i;var a=""+e+"/"+s;var o;if(t==null||t(a)){o=a}else{continue}n.push(o)}return n};H.delete=function(e){return M.to("delete "+e,function(){if(e!=null&&Q.exists(e)){if(Q.isDirectory(e)){var t=0;var n=K.readdirSync(e);while(t<n.length){var i=n[t];++t;H.delete(""+e+"/"+i)}if(Q.exists(e)){var r=0;var s=K.readdirSync(e);while(r<s.length){var a=s[r];++r;var o=e+"/"+a;if(Q.isDirectory(o)){if(Q.exists(o)){var l=0;var u=K.readdirSync(o);while(l<u.length){var c=u[l];++l;var h=o+"/"+c;if(Q.isDirectory(h)){Q.deleteDirectory(h)}else{K.unlinkSync(h)}}K.rmdirSync(o)}}else{K.unlinkSync(o)}}K.rmdirSync(e)}}else{K.unlinkSync(e)}}return},{fileName:"haxeshim/Fs.hx",lineNumber:107,className:"haxeshim.Fs",methodName:"delete"})};H.peel=function(e,t){var n=0;var i=0;var r=t;while(i<r){var s=i++;var a=e.indexOf("/",n);if(a==-1){return D.None}else{var o=a;n=o+1}}return D.Some(m.substr(e,n,null))};H.findNearest=function(e,t){while(true)if(Q.exists(""+t+"/"+e)){return D.Some(""+t+"/"+e)}else{var n=T.directory(t);var i=n;if(t==i){return D.None}else{var r=n;t=r}}};var G=function(){};G.__name__=true;G.slashes=function(e){if(G.IS_WINDOWS){return y.replace(e,"/","\\")}else{return e}};var Y=function(e,t,n){this.path=e;this.version=t;this.compiler=""+e+"/haxe"+Y.EXT;this.haxelib=""+e+"/haxelib"+Y.EXT;this.stdLib=""+e+"/std";this.haxelibRepo=n};Y.__name__=true;Y.prototype={env:function(){var e=F.ofVars({HAXE_STD_PATH:this.stdLib,HAXEPATH:this.path,HAXELIB_PATH:this.haxelibRepo,HAXE_VERSION:this.version});return F.mergeInto(e,te.ENV)},__class__:Y};var Z=function(e){te.setEnv();this.scope=e;this.installation=e.haxeInstallation};Z.__name__=true;Z.exit=function(e){switch(e._hx_index){case 0:var t=e.data;process.exit(0);break;case 1:var n=e.failure;W.die(n.code,n.message);break}};Z.exitWithCode=function(e){switch(e._hx_index){case 0:var t=e.data;process.exit(t);break;case 1:var n=e.failure;W.die(n.code,n.message);break}};Z.main=function(){process.stdout.on("error",function(){});new Z(ee.seek()).dispatch(process.argv.slice(2))};Z.prototype={callHaxelib:function(e){Z.exitWithCode(W.sync(this.installation.haxelib,process.cwd(),e,this.installation.env()))},path:function(e){var t=[];var n=[];var i=0;while(i<e.length){var s=e[i];++i;var a=k.getNdll(s);if(a._hx_index==0){var o=a.v;n.push("-L "+o)}else{t.push("-lib");t.push(s.split(":")[0])}}var l=(r=this.scope,$bind(r,r.resolve));var u=t;var h=W.gracefully(function(){return l(u)});var f=0;while(f<h.length){var d=h[f];switch(d){case"--cwd":++f;break;case"-cp":n.push(T.addTrailingSlash(h[++f]));break;case"-lib":var v=h[++f];var p=k.getNdll(v);if(p._hx_index==0){var w=p.v;n.push("-L "+w)}else{var y=v;var g="Unexpected -lib "+y+" returned from haxelib path "+e.join(" ");process.stdout.write(c.string(g));process.stdout.write("\n");process.exit(500)}break;default:var b=d;if(m.cca(b,0)==45){n.push(""+b+" "+h[++f])}}++f}var S=n.join("\n");process.stdout.write(c.string(S));process.exit(0)},run:function(e){var t=this;this.scope.getLibCommand(e).handle(function(n){switch(n._hx_index){case 0:var i=n.data;Z.exit(i());break;case 1:var r=n.failure;var s=["run"].concat(e);t.callHaxelib(s);break}})},runDir:function(e,t,n){Ge.next(Ge.next(H.get(""+t+"/haxelib.json",{fileName:"haxeshim/HaxelibCli.hx",lineNumber:80,className:"haxeshim.HaxelibCli",methodName:"runDir"}),function(e){try{return new Fe(new j($.Success(JSON.parse(e).mainClass)))}catch(e){return new Fe(new j($.Failure(Te.withData(null,"failed to parse haxelib.json",e instanceof ie?e.val:e,{fileName:"haxeshim/HaxelibCli.hx",lineNumber:84,className:"haxeshim.HaxelibCli",methodName:"runDir"}))))}}),function(i){if(i==null){var r=[""+t+"/run.n"].concat(n).concat([T.removeTrailingSlashes(process.cwd())+"/"]);return new Fe(new j(W.sync("neko",t,r,F.ofVars({HAXELIB_RUN:"1",HAXELIB_LIBNAME:e}))))}else{var s=i;return new Fe(new j($.Failure(new Te(null,"mainClass support not implemented yet",{fileName:"haxeshim/HaxelibCli.hx",lineNumber:91,className:"haxeshim.HaxelibCli",methodName:"runDir"}))))}}).handle(Z.exitWithCode)},dispatch:function(e){switch(e[0]){case"path":this.path(e.slice(1));break;case"run":this.run(e.slice(1));break;case"run-dir":if(e.length<3){W.die(402,"Not enough arguments. Syntax is `haxelib run-dir <name> <path> <...args>")}var t=e.slice(1);var n=(r=this.scope,$bind(r,r.interpolate));var i=function(e){return n(e)};var s=new Array(t.length);var a=0;var o=t.length;while(a<o){var l=a++;s[l]=i(t[l])}e=s;var u=e.shift();var c=e.shift();this.runDir(u,c,e);break;default:this.callHaxelib(e)}},__class__:Z};var X=function(){};X.__name__=true;X.get=function(e){if(e==null){e=false}if(e){if(X.SILENT==null){X.SILENT=new X}return X.SILENT}else{if(X.DEFAULT==null){X.DEFAULT=new q}return X.DEFAULT}};X.prototype={error:function(e){},info:function(e){},success:function(e){},progress:function(e){},__class__:X};var q=function(){X.call(this)};q.__name__=true;q.__super__=X;q.prototype=$extend(X.prototype,{log:function(e,t){this.progress("");var n=q.out;var i;switch(e._hx_index){case 0:i=[s.Red];break;case 1:i=[s.Yellow];break;case 2:i=[s.DefaultForeground];break;case 3:i=[s.Green];break}n.writeString(h.aset(i)+t+h.aset([s.Off])+"\n")},error:function(e){this.log(V.Error,e)},info:function(e){this.log(V.Info,e)},success:function(e){this.log(V.Success,e)},progress:function(e){if(q.isTTY){if(e.length>80){e=m.substr(e,0,77)+"..."}q.out.writeString((h.strip||h.stripIfUnavailable&&!h.available?"":"[2K")+(h.strip||h.stripIfUnavailable&&!h.available?"":"["+1+"G")+e)}},__class__:q});var V=i["haxeshim._Logger.Level"]={__ename__:true,__constructs__:["Error","Warning","Info","Success"],Error:{_hx_index:0,__enum__:"haxeshim._Logger.Level",toString:t},Warning:{_hx_index:1,__enum__:"haxeshim._Logger.Level",toString:t},Info:{_hx_index:2,__enum__:"haxeshim._Logger.Level",toString:t},Success:{_hx_index:3,__enum__:"haxeshim._Logger.Level",toString:t}};var J=function(){};J.__name__=true;J.__isInterface__=true;J.prototype={__class__:J};var j=function(e){this.value=e};j.__name__=true;j.__interfaces__=[J];j.prototype={get:function(){return this.value},__class__:j};var Q=function(){};Q.__name__=true;Q.exists=function(e){try{K.accessSync(e);return true}catch(e){var t=e instanceof ie?e.val:e;return false}};Q.isDirectory=function(e){try{return K.statSync(e).isDirectory()}catch(e){var t=e instanceof ie?e.val:e;return false}};Q.createDirectory=function(e){try{K.mkdirSync(e)}catch(r){var t=r instanceof ie?r.val:r;if(t.code=="ENOENT"){Q.createDirectory(oe.dirname(e));K.mkdirSync(e)}else{var n;try{n=K.statSync(e)}catch(e){var i=e instanceof ie?e.val:e;throw t}if(!n.isDirectory()){throw t}}}};Q.deleteDirectory=function(e){if(Q.exists(e)){var t=0;var n=K.readdirSync(e);while(t<n.length){var i=n[t];++t;var r=e+"/"+i;if(Q.isDirectory(r)){Q.deleteDirectory(r)}else{K.unlinkSync(r)}}K.rmdirSync(e)}};var K=n(747);var $=i["tink.core.Outcome"]={__ename__:true,__constructs__:["Success","Failure"],Success:(r=function(e){return{_hx_index:0,data:e,__enum__:"tink.core.Outcome",toString:t}},r.__params__=["data"],r),Failure:(r=function(e){return{_hx_index:1,failure:e,__enum__:"tink.core.Outcome",toString:t}},r.__params__=["failure"],r)};var ee=function(e,t,n,i){this.haxeshimRoot=e;this.isGlobal=t;this.scopeDir=n;this.scopeLibDir=""+n+"/haxe_libraries";this.cwd=i;this.configFile=""+n+"/"+ee.CONFIG_FILE;this.versionDir=""+e+"/versions";this.haxelibRepo=""+e+"/haxelib";var r=process.env["HAXE_LIBCACHE"];var s=process.env["HAXESHIM_LIBCACHE"];var a;if(s==null){if(r==null){a=""+e+"/haxe_libraries"}else{var o=r;a=o}}else{var l=s;a=l}this.libCache=a};ee.__name__=true;ee.create=function(e,t){return H.save(""+e+"/"+ee.CONFIG_FILE,P.ofString(JSON.stringify(t,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:194,className:"haxeshim.Scope",methodName:"create"})};ee.exists=function(e){return Q.exists(""+e+"/"+ee.CONFIG_FILE)};ee.seek=function(e){if(e==null){e={}}var t;var n=e.cwd;if(n==null){t=process.cwd()}else{var i=n;t=i}var r;var s=e.startLookingIn;if(s==null){r=t}else{var a=s;r=a}var o;var l=e.haxeshimRoot;if(l==null){o=ee.DEFAULT_ROOT}else{var u=l;o=u}var c=function(e,t,n,i){return new ee(e,t,n,i)};var h=o;var f=t;var d=function(e,t){return c(h,e,t,f)};var m;var v=H.findNearest(ee.CONFIG_FILE,oe.resolve(r));switch(v._hx_index){case 0:var p=v.v;m=d(false,T.directory(p));break;case 1:m=d(true,o);break}m.reload();return m};ee.env=function(e){var t=process.env[e];if(t==null){return D.None}else if(t==""){return D.None}else{var n=t;return D.Some(n)}};ee.prototype={reload:function(){var e;try{e=K.readFileSync(this.configFile,{encoding:"utf8"})}catch(e){throw new ie(this.isGlobal?"Global config file "+this.configFile+" does not exist or cannot be opened":"Unable to open file "+this.configFile+" because "+c.string(e instanceof ie?e.val:e))}var t;try{t=JSON.parse(e)}catch(t){var n=t instanceof ie?t.val:t;new b(2).writeString("Invalid JSON in file "+this.configFile+":\n\n"+e+"\n\n");throw ie.wrap(n)}this.setConfig(t)},setConfig:function(e){if(e.version==null){throw new ie("No version set in "+this.configFile)}if(e.resolveLibs==null){e.resolveLibs=this.isGlobal?"mixed":"scoped"}var t=e.resolveLibs;switch(t){case"haxelib":case"mixed":case"scoped":break;default:var n=t;throw new ie("invalid value "+n+" for `resolveLibs` in "+this.configFile)}this.config=e;this.haxeInstallation=this.getInstallation(e.version)},getVar:function(e){var t=process.env[e];if(t==null){return this.getDefault(e)}else if(t==""){return this.getDefault(e)}else{var n=t;return n}},getDefault:function(e){switch(e){case"CWD":return this.cwd;case"HAXESHIM_LIBCACHE":case"HAXE_LIBCACHE":return this.libCache;case"SCOPE_DIR":return this.scopeDir;default:return null}},reconfigure:function(e){var t=this;return Ge.next(H.save(this.configFile,P.ofString(JSON.stringify(e,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:201,className:"haxeshim.Scope",methodName:"reconfigure"}),function(n){t.setConfig(e);return new Fe(new j($.Success(n)))})},path:function(e){if(T.isAbsolute(e)){return D.Some(e)}else if(y.startsWith(e,"./")||y.startsWith(e,"../")){return D.Some(""+this.cwd+"/"+e)}else{return D.None}},getInstallation:function(e){var t=this.path(e);switch(t._hx_index){case 0:var n=t.v;return new Y(n,e,this.haxelibRepo);case 1:return new Y(""+this.versionDir+"/"+e,e,this.haxelibRepo)}},resolveThroughHaxelib:function(e){var t=this.haxeInstallation.haxelib;var n=this.cwd;var i=[];var r=0;while(r<e.length){var s=e[r];++r;i.push(s.val)}var a=W.eval(t,n,["path"].concat(i),this.haxeInstallation.env());switch(a._hx_index){case 0:var o=a.data;var l;var u=o.stderr;if(o.status==0){var c=o.stdout;return He.map(k.fromMultilineString(c,"haxelib path",$bind(this,this.getVar),true),function(e){var t=0;var n=e.length;while(t<n){var i=t++;if(e[i].val=="-L"){var r=function(t,n){var i=e[t].pos;var r=n(e[t].val);e[t]={pos:i,val:r}};r(i,function(e){return"-lib"});r(i+1,function(e){return"ndll:"+e})}}return e})}else{l=new Te(o.status,o.stdout+o.stderr,{fileName:"haxeshim/Scope.hx",lineNumber:248,className:"haxeshim.Scope",methodName:"resolveThroughHaxelib"});var h=l;var f=new U;f.fail(h.message,z.Custom("haxelib path"),h.code);return f.produce([])}break;case 1:var d=a.failure;var m=new U;m.fail(d.message,z.Custom("haxelib path"),d.code);return m.produce([])}},interpolate:function(e,t){var n=this;var i;if(t==null){i=$bind(this,this.getVar)}else{var r=t;i=function(e){var t=r(e);if(t==null){return n.getVar(e)}else{var i=t;return i}}}return He.sure(k.interpolate(e,i))},parseDirectives:function(e){var t=new L;var n=0;var i=e.split("\n");var r=y.trim;var s=new Array(i.length);var a=0;var o=i.length;while(a<o){var l=a++;s[l]=r(i[l])}var u=s;while(n<u.length){var c=u[n];++n;if(y.startsWith(c,"#")){var h=y.ltrim(m.substr(c,1,null));if(y.startsWith(h,"@")){var f=h.indexOf(":");if(f!=-1){var d=f;var v=h.substring(1,d);var p;var w=Ke[v]!=null?t.getReserved(v):t.h[v];if(w==null){var g=[];if(Ke[v]!=null){t.setReserved(v,g)}else{t.h[v]=g}p=g}else{var b=w;p=b}p.push(this.interpolate(y.ltrim(m.substr(h,d+1,null))))}}}}return t},libHxml:function(e){return""+this.scopeLibDir+"/"+e+".hxml"},getDirectives:function(e){return Ge.next(H.get(this.libHxml(e),{fileName:"haxeshim/Scope.hx",lineNumber:286,className:"haxeshim.Scope",methodName:"getDirectives"}),Ye.ofSafeSync($bind(this,this.parseDirectives)))},getLibCommand:function(e){var t=this;var n=[];var i=0;while(i<e.length){var r=e[i];++i;n.push(this.interpolate(r))}e=n;var s=e.shift();return Ge.next(this.getDirectives(s),function(n){var i=Ke["run"]!=null?n.getReserved("run"):n.h["run"];if(i==null){return new Fe(new j($.Failure(new Te(null,"no @run directive found for library "+s,{fileName:"haxeshim/Scope.hx",lineNumber:295,className:"haxeshim.Scope",methodName:"getLibCommand"}))))}else{switch(i.length){case 0:return new Fe(new j($.Failure(new Te(null,"no @run directive found for library "+s,{fileName:"haxeshim/Scope.hx",lineNumber:295,className:"haxeshim.Scope",methodName:"getLibCommand"}))));case 1:var r=i[0];var a=[t.interpolate(r)];var o=G.IS_WINDOWS?function(e){return w.quoteWinArg(e,true)}:w.quoteUnixArg;var l=new Array(e.length);var u=0;var c=e.length;while(u<c){var h=u++;l[h]=o(e[h])}var f=a.concat(l).join(" ");var d=process.cwd();var m=t.haxeInstallation.env();return new Fe(new j($.Success(function(){return W.shell(f,d,m)})));default:return new Fe(new j($.Failure(new Te(null,"more than one @run directive for library "+s,{fileName:"haxeshim/Scope.hx",lineNumber:300,className:"haxeshim.Scope",methodName:"getLibCommand"}))))}}})},resolveArgs:function(e){var t=this.cwd;var n=function(e){if(T.isAbsolute(e)){return e}else{return T.join([t,e])}};t=n(e.cwd);var i=[];var r=[];var s=new U;var a=[];var o=[];var l=[];var u=0;e:while(u<e.args.length){var c=e.args[u++];switch(c.val){case"--run":l=e.args.slice(u-1);break e;case"--connect":case"--display":case"--server-connect":case"--server-listen":o.push(c);var h=e.args[u++];if(h==null){s.fail(""+c.val+" requires argument",c.pos)}else{var f=h;o.push(f)}break;case"--wait":o.push(c);break;default:a.push(c)}}var d=new L;e:while(a.length>0){var m=[a.shift()];var v=function(e){return function(t){s.fail(t,e[0].pos)}}(m);var p=m[0].val;switch(p){case"--connect":case"--cwd":case"--each":case"--next":case"--run":case"--wait":case"-C":var w=p;if(y.endsWith(w,".hxml")){a=k.readHxml(n(w),ee.fs,$bind(this,this.getVar),s,m[0].pos).concat(a)}else{var g=p;v(""+g+" not allowed here");break e}break;case"--lib":case"-L":case"-lib":var b=a.shift();var S;if(b==null){v("-lib requires argument")}else{S=k.getNdll(b.val);if(S._hx_index==0){var x=S.v;var E=b;i.push(m[0]);i.push(E)}else{var R=b;var _=R.val;if(!(Ke[_]!=null?d.getReserved(_):d.h[_])){var N=R.val;if(Ke[N]!=null){d.setReserved(N,true)}else{d.h[N]=true}var O=this.config.resolveLibs;var I;if(O=="haxelib"){r.push(R)}else{I=O=="mixed";var D=I;var C=this.libHxml(R.val);var A=ee.fs.readFile(C);switch(A._hx_index){case 0:var B=A.data;var M=k.fromMultilineString(B,C,$bind(this,this.getVar));a=s.getResult(M).concat(a);break;case 1:var F=A.failure;if(Q.exists(C)){v(F)}else if(D){r.push(R)}else{v("-lib "+R.val+" is missing "+C)}break}}}}}break;default:var z=p;if(y.endsWith(z,".hxml")){a=k.readHxml(n(z),ee.fs,$bind(this,this.getVar),s,m[0].pos).concat(a)}else{i.push(m[0])}}}var W=o.concat(i);var P=this.resolveThroughHaxelib(r);i=W.concat(s.getResult(P)).concat(l);return s.produce(new ne(t,i))},resolve:function(e){var t=[];var n=new U;var i=0;var r=n.getResult(k.split(e,this.cwd,ee.fs,$bind(this,this.getVar)));while(i<r.length){var s=r[i];++i;if(s.args.length>0){if(t.length!=0){t.push("--next")}if(s.cwd!=this.cwd){t.push("--cwd");t.push(s.cwd)}var a=0;var o=n.getResult(this.resolveArgs(s)).args;while(a<o.length){var l=o[a];++a;t.push(l.val)}}}var u=n.produce(42);if(u._hx_index==1){var h;h=u.failure.errors[0];var f=h;process.stdout.write(c.string(f.message));process.stdout.write("\n");var d;var m=f.code;if(m==null){d=500}else{var v=m;d=v}process.exit(d)}return t},__class__:ee};var te=function(){};te.__name__=true;te.setEnv=function(){if(te.isset){if(G.IS_WINDOWS){var e=0;var t=te.ENV;var n=t==null?[]:l.fields(t);while(e<n.length){var i=n[e];++e;var r=F.get(te.ENV,i);process.env[i]=r}}te.isset=false}};var ne=function(e,t){k.call(this,e,t)};ne.__name__=true;ne.__super__=k;ne.prototype=$extend(k.prototype,{__class__:ne});var ie=function(e){Error.call(this);this.val=e;if(Error.captureStackTrace){Error.captureStackTrace(this,ie)}};ie.__name__=true;ie.wrap=function(e){if(e instanceof Error){return e}else{return new ie(e)}};ie.__super__=Error;ie.prototype=$extend(Error.prototype,{__class__:ie});var re=function(){};re.__name__=true;re.sliceImpl=function(e,t){var n=new Uint8Array(this,e,t==null?null:t-e);var i=new Uint8Array(n.byteLength);i.set(n);return i.buffer};var se=n(605);var ae=n(211);var oe=n(622);var le=n(835);var ue=n(293).Buffer;var ce=function(){};ce.__name__=true;ce.bytesOfBuffer=function(e){var t=Object.create(C.prototype);t.length=e.byteLength;t.b=e;e.bufferValue=e;e.hxBytes=t;e.bytes=e;return t};var he=n(413).PassThrough;var fe=function(){};fe.__name__=true;fe.attempt=function(e,t){var n=Ze.ofSync(fe.reportError);var i=e.flatMap(function(e){switch(e._hx_index){case 0:var t=e.data;return new Fe(new j(t));case 1:var i=e.failure;return n(i)}});i.gather().handle(t)};fe.reportError=function(e){X.get().error(e.message);process.exit(e.code);return null};var de=function(){};de.__name__=true;de.ensureScope=function(){if(ee.exists(ee.DEFAULT_ROOT)){return new Fe(new j($.Success(Me.Noise)))}else{return ee.create(ee.DEFAULT_ROOT,{version:"stable",resolveLibs:"mixed"})}};de.ensure=function(e){return Ge.next(de.ensureScope(),function(t){var n=ee.seek();var i=new xe(n,e);var r;if(!Q.exists(i.scope.haxeInstallation.path)){var s=i.scope.config.version;e.info("Version "+s+" configured in "+i.scope.configFile+" does not exist. Attempting download ...");r=i.install(s,{force:false})}else{r=new Fe(new j($.Success(Me.Noise)))}return Ge.next(r,function(e){return new Fe(new j($.Success(Me.Noise)))})})};var me=function(){};me.__name__=true;me.ensure=function(e){return Ge.next(ve.ensure(e),function(t){return de.ensure(e)})};me.main=function(){fe.attempt(me.ensure(X.get()),Oe.fromNiladic(Z.main))};var ve=function(){};ve.__name__=true;ve.ensure=function(e){return xe.ensureNeko(e)};var pe=n(766);var we=function(){};we.__name__=true;we.text=function(e){return Ge.next(we.bytes(e),function(e){return new Fe(new j($.Success(e.toString())))})};we.bytes=function(e){return we.download(e,function(e,t,n){we.buffered(t).handle(n)})};we.buffered=function(e){return Ue.async(function(t){var n=[];e.on("data",$bind(n,$arrayPush));e.on("end",function(){var e=$.Success(ce.bytesOfBuffer(ue.concat(n)));t(e)})})};we.archive=function(e,t,n,i){var r=we.withLogger(i,function(i,r,s){if(r.headers["content-type"]=="application/zip"||y.endsWith(e,".zip")||y.endsWith(i,".zip")){we.unzip(e,n,t,r,s)}else{we.untar(e,n,t,r,s)}});return we.download(e,r)};we.unzip=function(e,t,i,r,s){Ge.next(we.buffered(r),function(r){return Ue.async(function(a){var o=r.length-4;while(o-- >0)if(r.b[o]==80&&r.b[o+1]==75&&r.b[o+2]==5&&r.b[o+3]==6){r.b[o+20]=0;r.b[o+21]=0;r=r.sub(0,o+22);break}if(o==0){var l=$.Failure(new Te(422,"Unzip failed to find central directory in "+e,{fileName:"src/lix/client/Download.hx",lineNumber:70,className:"lix.client.Download",methodName:"unzip"}));a(l);return}var u=r.b;pe.fromBuffer(ue.from(u.buffer,u.byteOffset,r.length),function(r,o){var l=-1;var u=function(){l+=1;s.onProgress(l,o.entryCount,false);if(l==o.entryCount){var e=a;var n=$.Success(t);R.delay(function(){e(n)},100)}};if(r!=null){var h=$.Failure(new Te(422,"Failed to unzip "+e+" because "+c.string(r),{fileName:"src/lix/client/Download.hx",lineNumber:83,className:"lix.client.Download",methodName:"unzip"}));a(h)}o.on("entry",function(e){var r=H.peel(we.stripLeadingSlashes(e.fileName),i);switch(r._hx_index){case 0:var s=r.v;var a=""+t+"/"+s;if(y.endsWith(a,"/")){u()}else{H.ensureDir(a).eager();o.openReadStream(e,function(e,t){var i=n(598).createWriteStream(a);t.pipe(i,{end:true});i.on("close",u)})}break;case 1:break}});o.on("end",function(){o.close();u()})})})}).handle($bind(s,s.done))};we.stripLeadingSlashes=function(e){if(e.charAt(0)=="/"){return we.stripLeadingSlashes(m.substr(e,1,null))}else{return e}};we.untar=function(e,t,i,r,s){return Ue.async(function(e){var a=0;var o=0;var l=[];var u=function(){s.onProgress(o,a+1,true)};var c=1;var h=function(n){if(n==null){n=0}o+=n;u();R.delay(function(){if((c-=1)<=0){s.onProgress(a,a,true);var n=[];var i=0;while(i<l.length){var r=[l[i]];++i;n.push(Ue.async(function(e){return function(t){K.unlink(e[0].to,function(e){return function(n){K.symlink(e[0].from,e[0].to,function(){return function(e){var n=e==null?$.Success(Me.Noise):$.Failure(new Te(null,e.message,{fileName:"src/lix/client/Download.hx",lineNumber:142,className:"lix.client.Download",methodName:"untar"}));t(n)}}())}}(e))}}(r)))}Ge.next(Ge.inParallel(n),function(e){return new Fe(new j($.Success(t)))}).handle(e)}},100)};var f=null;var d=function(t){f=new Te(null,t,{fileName:"src/lix/client/Download.hx",lineNumber:154,className:"lix.client.Download",methodName:"untar"});e($.Failure(f))};_e.parse(r,function(r){if(f!=null){return}a+=r.size;u();var s=function(){r.on("data",function(){})};var o=H.peel(we.stripLeadingSlashes(r.path),i);switch(o._hx_index){case 0:var d=o.v;var m=""+t+"/"+d;if(y.endsWith(m,"/")){s()}else{H.ensureDir(m).handle(function(t){if(t._hx_index==1){var i=t.failure;f=i;e($.Failure(f))}else if(r.type=="SymbolicLink"){s();var a=T.directory(m);l.push({from:T.join([a,r.linkpath]),to:m})}else{c+=1;var o=new he;var u=n(598).createWriteStream(m,{mode:r.mode});r.pipe(o,{end:true});o.pipe(u,{end:true});var d=h;var v=r.size;u.on("close",function(){d(v)})}})}break;case 1:s();break}}).handle(function(t){if(t._hx_index==1){var n=t.failure;e($.Failure(n))}else{h()}})}).handle($bind(s,s.done))};we.tar=function(e,t,n,i){var r=n;var s=t;return we.download(e,we.withLogger(i,function(e,t,n){return we.untar(e,r,s,t,n)}))};we.zip=function(e,t,n,i){var r=n;var s=t;return we.download(e,we.withLogger(i,function(e,t,n){we.unzip(e,r,s,t,n)}))};we.withLogger=function(e,t){return function(n,i,r){var s=c.parseInt(i.headers["content-length"]);var a=0;var o=0;var l=1;var u=null;var h=function(t){if(t==u){return}u=t;e.progress(t)};var f=function(e){e=Math.min(1,Math.max(0,e));var t=c.string(Math.round(1e3*e)/10);var n;if(t.indexOf(".")==-1){var i=t;n=""+i+".0"}else{var r=t;n=r}return y.lpad(n," ",5)+"%"};var d=new Date(0).getTime();var m=function(){if(!(o==l||o/l>=1)){var e=(new Date).getTime();if(e>d+137){d=e;var t=[];if(a<s){t.push("Downloaded: "+f(a/s))}if(o>0){t.push("Saved: "+f(o/l))}var n="   "+t.join("   ");h(n)}}};i.on("data",function(e){a+=e.length;m()});var v=0;t(n,i,{onProgress:function(e,t,n){o=e;l=t;if(n){var i=a/s;var r=o/l;var u=i*r;if(u<v){u=v}v=u;o=Math.round(u*1e3);l=1e3}m()},done:function(t){e.success("-> Done!");r(t)}})}};we.download=function(e,t){return Ue.async(function(n){var i=le.parse(e);i.agent=false;if(i.headers==null){i.headers={}}i.headers["user-agent"]=we.USER_AGENT;var r=function(t){var i=$.Failure(Te.withData(null,"Failed to download "+e+" because "+t.message,t,{fileName:"src/lix/client/Download.hx",lineNumber:293,className:"lix.client.Download",methodName:"download"}));n(i)};var s=y.startsWith(e,"https:")?ae.get(i):se.get(i);s.setTimeout(3e4);s.on("error",r);s.on("response",function(s){if(s.statusCode>=400){var a=$.Failure(Te.withData(s.statusCode,s.statusMessage,s,{fileName:"src/lix/client/Download.hx",lineNumber:304,className:"lix.client.Download",methodName:"download"}));n(a)}else{var o=s.headers["location"];if(o==null){s.on("error",r);t(e,s,function(e){switch(e._hx_index){case 0:var t=e.data;n($.Success(t));break;case 1:var i=e.failure;n($.Failure(i));break}})}else{var l=o;var u=le.parse(l);var c=u.slashes;var h=u.search;var f=u.query;var d=u.port;var m=u.pathname;var v=u.path;var p=u.href;var w=u.hostname;var y=u.host;var g=u.hash;var b=u.auth;we.download(u.protocol==null?i.protocol+"//"+i.host+l:l,t).handle(n)}}})})};var ye={};ye.__name__=true;ye.get_isPrerelease=function(e){return e.indexOf("-")!=-1};ye.isNumber=function(e){return new d("^[0-9]*$","").match(e)};ye.fragment=function(e,t){if(ye.isNumber(e)&&ye.isNumber(t)){return c.parseInt(e)-c.parseInt(t)}else{return l.compare(e,t)}};ye.compare=function(e,t){var n=e.split("-");var i=t.split("-");var r=0;while(r<n.length&&r<i.length){var s=n[r].split(".");var a=i[r++].split(".");var o=0;while(o<s.length&&o<a.length){var l=ye.fragment(s[o],a[o]);if(l==0){++o}else{var u=l;return-u}}var c=s.length-a.length;if(c!=0){var h=c;return-h}}return(n.length-i.length)*(r==1?1:-1)};var ge=i["lix.client.haxe.ResolvedUserVersionData"]={__ename__:true,__constructs__:["RNightly","ROfficial","RCustom"],RNightly:(r=function(e){return{_hx_index:0,nightly:e,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},r.__params__=["nightly"],r),ROfficial:(r=function(e){return{_hx_index:1,version:e,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},r.__params__=["version"],r),RCustom:(r=function(e){return{_hx_index:2,path:e,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},r.__params__=["path"],r)};var be={};be.__name__=true;be.get_id=function(e){switch(e._hx_index){case 0:var t=e.nightly;var n=t.published;var i=t.file;var r=t.development;var s=t.hash;return s;case 1:var a=e.version;return a;case 2:var o=e.path;return o}};be.toString=function(e){return Ee.toString(Ee.ofResolved(e))};var Se=i["lix.client.haxe.PickOfficial"]={__ename__:true,__constructs__:["StableOnly","IncludePrereleases"],StableOnly:{_hx_index:0,__enum__:"lix.client.haxe.PickOfficial",toString:t},IncludePrereleases:{_hx_index:1,__enum__:"lix.client.haxe.PickOfficial",toString:t}};var xe=function(e,t){this.scope=e;this.logger=t;H.ensureDir(T.addTrailingSlash(e.versionDir)).eager();H.ensureDir(T.addTrailingSlash(e.haxelibRepo)).eager();H.ensureDir(this.downloads=e.haxeshimRoot+"/downloads/").eager()};xe.__name__=true;xe.linkToNightly=function(e,t,n){if(n==null){var i=xe.PLATFORM=="windows"&&t.getTime()>14944608e5?"zip":"tar.gz";n=f.format(t,"haxe_%Y-%m-%d_development_"+e+"."+i)}return f.format(t,""+xe.NIGHTLIES+"/"+xe.PLATFORM+"/"+n)};xe.sortedOfficial=function(e,t){if(e==Se.StableOnly){var n=[];var i=0;while(i<t.length){var r=t[i];++i;if(!ye.get_isPrerelease(r)){n.push(r)}}t=n}t.sort(ye.compare);return t};xe.officialOnline=function(e){return Ge.next(we.text("https://haxe.org/website-content/downloads/versions.json"),function(t){var n=JSON.parse(t).versions.map(function(e){return e.version});return new Fe(new j($.Success(xe.sortedOfficial(e,n))))})};xe.sortedNightlies=function(e){e.sort(function(e,t){return l.compare(t.published.getTime(),e.published.getTime())});return e};xe.nightliesOnline=function(){return Ge.next(we.text(""+xe.NIGHTLIES+"/"+xe.PLATFORM+"/"),Ye.ofSafeSync(function(e){var t=e.split("------------------\n").pop().split("\n");var n=[];var i=function(e){try{return D.Some(m.strDate(e))}catch(e){var t=e instanceof ie?e.val:e;return D.None}};var r=0;while(r<t.length){var s=t[r];++r;var a=y.trim(s).split('<a href="');if(a.length==2){var o=a[1];var l=i(a[0].split("  ")[0]);if(l._hx_index==0){var u;u=o.split('"')[0];var c=u;var h=l.v;var f=c.split(".")[0].split("_").pop();if(f==null){var d=f;n.push({hash:d,file:c,development:c.indexOf("_development_")!=-1,published:h})}else if(f!="latest"){var v=f;n.push({hash:v,file:c,development:c.indexOf("_development_")!=-1,published:h})}}}}return xe.sortedNightlies(n)}))};xe.attempt=function(e,t){try{return new Fe(new j($.Success(t.get())))}catch(t){return new Fe(new j($.Failure(new Te(null,"Failed to "+e+" because "+c.string(t instanceof ie?t.val:t),{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:106,className:"lix.client.haxe.Switcher",methodName:"attempt"}))))}};xe.pickFirst=function(e,t,n){if(n==null){return xe.pickFirst(e,t,function(e){return true})}else{return function(i){var r=$getIterator(i);while(r.hasNext()){var s=r.next();if(n(s)){return new Fe(new j($.Success(t(s))))}}return new Fe(new j($.Failure(new Te(404,"No "+e+" build found",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:140,className:"lix.client.haxe.Switcher",methodName:"pickFirst"}))))}}};xe.ensureNeko=function(e){var t=te.PATH;if(Q.exists(t)){return new Fe(new j($.Success(t)))}else{e.info("Neko seems to be missing. Attempting download ...");var n;switch(a.systemName()){case"Mac":n=we.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-osx64.tar.gz",1,t,e);break;case"Windows":n=we.zip("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-win.zip",1,t,e);break;default:n=we.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-linux64.tar.gz",1,t,e)}return Ge.next(n,function(t){e.success("done");return new Fe(new j($.Success(t)))})}};xe.prototype={officialInstalled:function(e){var t=[];var n=0;var i=K.readdirSync(this.scope.versionDir);while(n<i.length){var r=i[n];++n;if(!Ee.isHash(r)&&Q.isDirectory(this.versionDir(r))){t.push(r)}}return xe.attempt("Get installed Haxe versions",new j(xe.sortedOfficial(e,t)))},nightliesInstalled:function(){var e=[];var t=0;var n=Ee.isHash;var i=[];var r=0;var s=K.readdirSync(this.scope.versionDir);while(r<s.length){var a=s[r];++r;if(n(a)){i.push(a)}}var o=i;while(t<o.length){var l=o[t];++t;e.push({hash:l,published:m.strDate(JSON.parse(K.readFileSync(""+this.versionDir(l)+"/"+xe.VERSION_INFO,{encoding:"utf8"})).published)})}return xe.attempt("get installed Haxe versions",new j(xe.sortedNightlies(e)))},switchTo:function(e){if(be.get_id(e)==this.scope.config.version){return new Fe(new j($.Success(Me.Noise)))}else{return this.scope.reconfigure({version:be.get_id(e),resolveLibs:this.scope.config.resolveLibs})}},resolveInstalled:function(e){return this.resolve(e,$bind(this,this.officialInstalled),$bind(this,this.nightliesInstalled))},resolveOnline:function(e){return this.resolve(e,xe.officialOnline,xe.nightliesOnline)},resolve:function(e,t,n){switch(e._hx_index){case 0:return Ge.next(n(),xe.pickFirst("nightly",ge.RNightly,function(e){return e.development!=false}));case 1:return Ge.next(t(Se.IncludePrereleases),xe.pickFirst("official",ge.ROfficial));case 2:return Ge.next(t(Se.StableOnly),xe.pickFirst("stable",ge.ROfficial));case 3:var i=e.hash;return Ge.ofSpecific(Ge.next(n(),function(t){var n=$getIterator(t);while(n.hasNext()){var r=n.next();if(r.hash==i){return new Fe(new j($.Success(ge.RNightly(r))))}}return new Fe(new j($.Failure(new Te(404,"Unable to resolve nightly version "+Ee.toString(e)+" locally, install it first with `lix install haxe "+Ee.toString(e)+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:165,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}));case 4:var r=e.version;return Ge.ofSpecific(Ge.next(t(Se.IncludePrereleases),function(e){if(v.has(e,r)){return new Fe(new j($.Success(ge.ROfficial(r))))}else{return new Fe(new j($.Failure(new Te(404,"Unable to resolve version "+r+" locally, install it first with `lix install haxe "+r+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:173,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}}));case 5:var s=e.path;return new Fe(new j($.Success(ge.RCustom(s))))}},versionDir:function(e){return this.scope.getInstallation(e).path},isDownloaded:function(e){return Q.exists(this.versionDir(be.get_id(e)))},linkToOfficial:function(e){var t="https://haxe.org/website-content/downloads/"+e+"/downloads/haxe-"+e+"-";var n;switch(a.systemName()){case"Mac":n="osx.tar.gz";break;case"Windows":n="win.zip";break;default:n=e<"3"?"linux.tar.gz":"linux64.tar.gz"}return t+n},replace:function(e,t,n,i){var r=t;while(true){var s=H.ls(t);if(s.length==1){var a=s[0];t=a}else{break}}if(i!=null){i(t)}if(Q.exists(e)){var o=""+this.downloads+"/"+n+"@"+Math.floor(K.statSync(e).ctime.getTime());K.renameSync(e,o);K.renameSync(t,e)}else{K.renameSync(t,e)}if(Q.exists(r)){H.delete(r)}},install:function(e,t){return Ge.next(this.resolveAndDownload(e,t),$bind(this,this.switchTo))},resolveAndDownload:function(e,t){var n=this;var i;var r=Ee.ofString(e);if(r._hx_index==4){var s=r.version;i=this.resolveInstalled(Ee.ofString(e))}else{i=new Fe(new j($.Failure(new Te(null,""+e+" needs to be resolved online",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:231,className:"lix.client.haxe.Switcher",methodName:"resolveAndDownload"}))))}var a=function(t){n.logger.info('Looking up Haxe version "'+e+'" online');return Ge.next(n.resolveOnline(Ee.ofString(e)),function(e){n.logger.info("  Resolved to "+be.toString(e)+". Downloading ...");return new Fe(new j($.Success(e)))})};var o=i.flatMap(function(e){switch(e._hx_index){case 0:var t=e.data;return new Fe(new j(e));case 1:var n=e.failure;return a(n)}});return Ge.next(o.gather(),function(e){return Ge.next(n.download(e,t),function(t){n.logger.success(!t?"  ... already downloaded!":"  ... download complete!");return new Fe(new j($.Success(e)))})})},download:function(e,t){var n=this;if(this.isDownloaded(e)==true){if(t.force!=true){return new Fe(new j($.Success(false)))}else{switch(e._hx_index){case 0:var i=e.nightly;var r=i.development;var s=i.published;var a=i.hash;var o=i.file;var l=xe.linkToNightly(a,s,o);var u=""+this.downloads+"/"+a+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+be.toString(e));return Ge.next(we.archive(l,0,u,n.logger),function(e){var t=n.versionDir(a);n.replace(t,e,a,function(e){K.writeFileSync(""+e+"/"+xe.VERSION_INFO,JSON.stringify({published:m.dateStr(s)}))});return new Fe(new j($.Success(true)))});case 1:var c=e.version;var h=this.linkToOfficial(c);var f=""+this.downloads+"/"+c+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+be.toString(e));var d=we.archive(h,0,f,n.logger);return Ge.next(d,function(e){var t=n.versionDir(c);n.replace(t,e,c);return new Fe(new j($.Success(true)))});case 2:var v=e.path;return new Fe(new j($.Failure(new Te(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}}else{switch(e._hx_index){case 0:var p=e.nightly;var w=p.development;var y=p.published;var g=p.hash;var b=p.file;var S=xe.linkToNightly(g,y,b);var x=""+this.downloads+"/"+g+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+be.toString(e));return Ge.next(we.archive(S,0,x,n.logger),function(e){var t=n.versionDir(g);n.replace(t,e,g,function(e){K.writeFileSync(""+e+"/"+xe.VERSION_INFO,JSON.stringify({published:m.dateStr(y)}))});return new Fe(new j($.Success(true)))});case 1:var E=e.version;var R=this.linkToOfficial(E);var _=""+this.downloads+"/"+E+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+be.toString(e));var N=we.archive(R,0,_,n.logger);return Ge.next(N,function(e){var t=n.versionDir(E);n.replace(t,e,E);return new Fe(new j($.Success(true)))});case 2:var O=e.path;return new Fe(new j($.Failure(new Te(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}},__class__:xe};var Ee={};Ee.__name__=true;Ee.ofResolved=function(e){switch(e._hx_index){case 0:var t=e.nightly;var n=t.published;var i=t.file;var r=t.development;var s=t.hash;return Re.UNightly(s);case 1:var a=e.version;return Re.UOfficial(a);case 2:var o=e.path;return Re.UCustom(o)}};Ee.isHash=function(e){var t=0;var n=e.length;while(t<n){var i=t++;var r=Ee.hex;var s=e.charCodeAt(i);if(!r.h[s]){return false}}return true};Ee.toString=function(e){switch(e._hx_index){case 0:return"latest nightly build";case 1:return"latest official";case 2:return"latest stable release";case 3:var t=e.hash;return"nightly build "+t;case 4:var n=e.version;return"official release "+n;case 5:var i=e.path;return"custom version at `"+i+"`"}};Ee.isPath=function(e){if(!T.isAbsolute(e)){return e.charAt(0)=="."}else{return true}};Ee.ofString=function(e){if(e==null){return null}else{var t;var n;if(e==null){t=Ee.isHash(e);if(t==true){return Re.UNightly(e)}else{n=Ee.isPath(e);if(n==true){return Re.UCustom(e)}else{return Re.UOfficial(e)}}}else{switch(e){case"auto":return null;case"latest":return Re.ULatest;case"edge":case"nightly":return Re.UEdge;case"stable":return Re.UStable;default:t=Ee.isHash(e);if(t==true){return Re.UNightly(e)}else{n=Ee.isPath(e);if(n==true){return Re.UCustom(e)}else{return Re.UOfficial(e)}}}}}};var Re=i["lix.client.haxe.UserVersionData"]={__ename__:true,__constructs__:["UEdge","ULatest","UStable","UNightly","UOfficial","UCustom"],UEdge:{_hx_index:0,__enum__:"lix.client.haxe.UserVersionData",toString:t},ULatest:{_hx_index:1,__enum__:"lix.client.haxe.UserVersionData",toString:t},UStable:{_hx_index:2,__enum__:"lix.client.haxe.UserVersionData",toString:t},UNightly:(r=function(e){return{_hx_index:3,hash:e,__enum__:"lix.client.haxe.UserVersionData",toString:t}},r.__params__=["hash"],r),UOfficial:(r=function(e){return{_hx_index:4,version:e,__enum__:"lix.client.haxe.UserVersionData",toString:t}},r.__params__=["version"],r),UCustom:(r=function(e){return{_hx_index:5,path:e,__enum__:"lix.client.haxe.UserVersionData",toString:t}},r.__params__=["path"],r)};var _e=function(){};_e.__name__=true;_e.parse=function(e,t){return Ue.async(function(n){var i=0;var r=0;var s=new Ne({onentry:function(e){i+=1;t(e)}});s.on("warn",function(){r+=1});s.on("end",function(){var e=i==0&&r!=0?$.Failure(new Te(422,"Invalid tar archive.",{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:23,className:"lix.client.uncompress.Tar",methodName:"parse"})):$.Success(Me.Noise);n(e)});s.on("error",function(e){var t=$.Failure(new Te(null,e.message,{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:26,className:"lix.client.uncompress.Tar",methodName:"parse"}));n(t)});e.pipe(s,{end:true})})};var Ne=n(885).Parse;var Oe={};Oe.__name__=true;Oe.invoke=function(e,t){if(Oe.depth<500){Oe.depth++;e(t);Oe.depth--}else{var n=e;var i=function(e){Oe.invoke(n,e)};var r=t;Oe.defer(function(){i(r)})}};Oe.fromNiladic=function(e){return e};Oe.defer=function(e){process.nextTick(e)};var Ie=function(){};Ie.__name__=true;Ie.__isInterface__=true;Ie.prototype={__class__:Ie};var De={};De.__name__=true;De.fromMany=function(e){var t=new Le(function(){if(e!=null){var t=0;while(t<e.length){var n=e[t];++t;if(n!=null){n.cancel()}}}else{e=null}});return t};var Le=function(e){this.f=e};Le.__name__=true;Le.__interfaces__=[Ie];Le.prototype={cancel:function(){if(this.f!=null){this.f();this.f=null}},__class__:Le};var Ce=function(e,t){this.dissolved=false;this.a=e;this.b=t};Ce.__name__=true;Ce.__interfaces__=[Ie];Ce.prototype={cancel:function(){if(!this.dissolved){this.dissolved=true;var e=this.a;if(e!=null){e.cancel()}var t=this.b;if(t!=null){t.cancel()}this.a=null;this.b=null}},__class__:Ce};var Ae=function(e,t){if(e==null){throw new ie("callback expected but null received")}this.cb=e;this.list=t};Ae.__name__=true;Ae.__interfaces__=[Ie];Ae.prototype={cancel:function(){if(this.list!=null){var e=this.list;this.cb=null;this.list=null;if(--e.used<e.used>>1){e.compact()}}},__class__:Ae};var Be=function(){this.busy=false;this.queue=[];this.used=0;this.cells=[]};Be.__name__=true;Be.prototype={ondrain:function(){},invoke:function(e,t){if(this.busy){var n=$bind(this,this.invoke);var i=e;var r=t;var s=function(){n(i,r);return};this.queue.push(s)}else{this.busy=true;var a=this.cells.length;var o=0;var l=a;while(o<l){var u=o++;var c=this.cells[u];if(c.list!=null){Oe.invoke(c.cb,e)}}this.busy=false;if(t){var h=this.cells.length-a;var f=0;var d=a;while(f<d){var m=f++;var v=this.cells[m];v.cb=null;v.list=null}var p=0;var w=h;while(p<w){var y=p++;this.cells[y]=this.cells[a+y]}this.resize(h)}else if(this.used<this.cells.length){this.compact()}if(this.queue.length>0){this.queue.shift()()}}},compact:function(){if(this.busy){return}else if(this.used==0){this.resize(0);this.ondrain()}else{var e=0;var t=0;var n=this.cells.length;while(t<n){var i=t++;var r=this.cells[i];var s=r.list;if(r.cb!=null){var a=r;if(e!=i){this.cells[e]=a}if(++e==this.used){break}}}this.resize(this.used)}},resize:function(e){this.cells.length=e},__class__:Be};var Te=function(e,t,n){if(e==null){e=500}this.isTinkError=true;this.code=e;this.message=t;this.pos=n;this.exceptionStack=[];this.callStack=[]};Te.__name__=true;Te.withData=function(e,t,n,i){return Te.typed(e,t,n,i)};Te.typed=function(e,t,n,i){var r=new Te(e,t,i);r.data=n;return r};Te.asError=function(e){if(e!=null&&e.isTinkError){return e}else{return null}};Te.catchExceptions=function(e,t,n){try{return $.Success(e())}catch(e){var i=e instanceof ie?e.val:e;var r=Te.asError(i);var s;if(r==null){s=t==null?Te.withData(null,"Unexpected Error",i,n):t(i)}else{var a=r;s=a}return $.Failure(s)}};Te.prototype={throwSelf:function(){var e=this;throw ie.wrap(e)},__class__:Te};var ke=function(){};ke.__name__=true;ke.__isInterface__=true;ke.prototype={__class__:ke};var Me=i["tink.core.Noise"]={__ename__:true,__constructs__:["Noise"],Noise:{_hx_index:0,__enum__:"tink.core.Noise",toString:t}};var Fe=function(e){this.value=e};Fe.__name__=true;Fe.__interfaces__=[ke];Fe.prototype={flatMap:function(e){var t=this;return new We(function(n){var i=t.value.get();return e(i).handle(n)})},handle:function(e){Oe.invoke(e,this.value.get());return null},eager:function(){return this},gather:function(){return this},__class__:Fe};var Ue={};Ue.__name__=true;Ue.flatten=function(e){return new We(function(t){var n=null;var i=e.handle(function(e){n=e.handle(t)});var r=new Le(function(){if(n!=null){n.cancel()}});return new Ce(i,r)})};Ue.async=function(e,t){if(t==null){t=false}if(t){return new We(function(t){e(t);return null})}else{var n=new ze;var i=e;Oe.invoke(i,$bind(n,n.trigger));return n}};var ze=function(){this.list=new Be};ze.__name__=true;ze.__interfaces__=[ke];ze.prototype={handle:function(e){var t=this.list;if(t==null){Oe.invoke(e,this.result);return null}else{var n=t;var i=new Ae(e,n);n.cells.push(i);n.used++;return i}},flatMap:function(e){var t=this.list;if(t==null){return e(this.result)}else{var n=t;var i=new ze;var r=this.list;var s=new Ae(function(t){e(t).handle($bind(i,i.trigger))},r);r.cells.push(s);r.used++;return i}},gather:function(){return this},eager:function(){return this},trigger:function(e){if(this.list==null){return false}else{var t=this.list;this.list=null;this.result=e;t.invoke(e,true);return true}},__class__:ze};var We=function(e){this.suspended=true;var t=this;this.wakeup=e;this.callbacks=new Be;this.callbacks.ondrain=function(){if(t.callbacks!=null){t.suspended=true;var e=t.link;if(e!=null){e.cancel()}t.link=null}}};We.__name__=true;We.__interfaces__=[ke];We.prototype={trigger:function(e){var t=this.callbacks;if(t!=null){var n=t;this.callbacks=null;this.suspended=false;this.result=e;this.link=null;this.wakeup=null;n.invoke(e,true)}},handle:function(e){var t=this.callbacks;if(t==null){Oe.invoke(e,this.result);return null}else{var n=t;var i=this.callbacks;var r=new Ae(e,i);i.cells.push(r);i.used++;var s=r;if(this.suspended){this.suspended=false;this.link=this.wakeup($bind(this,this.trigger))}return s}},map:function(e){var t=this;return new We(function(n){return t.handle(function(t){var i=e(t);n(i)})})},flatMap:function(e){return Ue.flatten(this.map(e))},gather:function(){return this},eager:function(){this.handle(Oe.fromNiladic(function(){}));return this},__class__:We};var Pe=function(e){this.f=e};Pe.__name__=true;Pe.__interfaces__=[J];Pe.prototype={get:function(){if(this.f!=null){this.result=this.f();this.f=null}return this.result},__class__:Pe};var He=function(){};He.__name__=true;He.sure=function(e){switch(e._hx_index){case 0:var t=e.data;return t;case 1:var n=e.failure;var i=Te.asError(n);if(i==null){throw new ie(n)}else{var r=i;return r.throwSelf()}break}};He.map=function(e,t){switch(e._hx_index){case 0:var n=e.data;return $.Success(t(n));case 1:var i=e.failure;return $.Failure(i)}};var Ge={};Ge.__name__=true;Ge.noise=function(e){return Ge.next(e,function(e){return new Fe(new j($.Success(Me.Noise)))})};Ge.next=function(e,t,n){if(n==null){n=true}var i=n;if(i==null){i=true}var r=e.flatMap(function(e){switch(e._hx_index){case 0:var n=e.data;return t(n);case 1:var i=e.failure;return new Fe(new j($.Failure(i)))}});if(i){return r.gather()}else{return r}};Ge.ofSpecific=function(e){return e};Ge.inParallel=function(e,t,n){if(e.length==0){return new Fe(new j($.Success([])))}else{return Ue.async(function(n){var i=[];var r=e.length;var s=null;var a=[];var o=false;var l=0;var u=m.iter(e);var c=null;var h=function(e){if(s==null){o=true}else if(s!=null){s.cancel()}n(e)};var f=function(e){r=0;h($.Failure(e))};var d=function(e,t){i[e]=t;if((r-=1)==0){h($.Success(i))}else if(u.hasNext()&&r>0){c()}};c=function(){l+=1;var e=l-1;var t=u.next().handle(function(t){switch(t._hx_index){case 0:var n=t.data;d(e,n);break;case 1:var i=t.failure;f(i);break}});a.push(t)};while(true){var v;if(u.hasNext()&&r>0){if(t!=null){t-=1;v=t+1>0}else{v=true}}else{v=false}if(!v){break}c()}s=De.fromMany(a);if(o){if(s!=null){s.cancel()}}},n)}};var Ye={};Ye.__name__=true;Ye.ofSafeSync=function(e){return function(t){return new Fe(new j($.Success(e(t))))}};var Ze={};Ze.__name__=true;Ze.ofSync=function(e){return function(t){return new Fe(new j(e(t)))}};function $getIterator(e){if(e instanceof Array)return m.iter(e);else return e.iterator()}function $bind(t,n){if(n==null)return null;if(n.__id__==null)n.__id__=e.$haxeUID++;var i;if(t.hx__closures__==null)t.hx__closures__={};else i=t.hx__closures__[n.__id__];if(i==null){i=n.bind(t);t.hx__closures__[n.__id__]=i}return i}function $arrayPush(e){this.push(e)}e.$haxeUID|=0;u.__toStr={}.toString;if(String.fromCodePoint==null)String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode((e>>10)+55232)+String.fromCharCode((e&1023)+56320)};String.prototype.__class__=String;String.__name__=true;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__="Date";var Xe={};var qe={};var Ve=Number;var Je=Boolean;var je={};var Qe={};var Ke={};Object.defineProperty(ie.prototype,"message",{get:function(){return String(this.val)}});if(ArrayBuffer.prototype.slice==null){ArrayBuffer.prototype.slice=re.sliceImpl}h.values=function(e){var t;var n=new O;n.set(s.Off,0);n.set(s.Bold,1);n.set(s.Underline,4);n.set(s.Blink,5);n.set(s.ReverseVideo,7);n.set(s.Concealed,8);n.set(s.BoldOff,22);n.set(s.UnderlineOff,24);n.set(s.BlinkOff,25);n.set(s.NormalVideo,27);n.set(s.ConcealedOff,28);n.set(s.Black,30);n.set(s.Red,31);n.set(s.Green,32);n.set(s.Yellow,33);n.set(s.Blue,34);n.set(s.Magenta,35);n.set(s.Cyan,36);n.set(s.White,37);n.set(s.DefaultForeground,39);n.set(s.BlackBack,40);n.set(s.RedBack,41);n.set(s.GreenBack,42);n.set(s.YellowBack,43);n.set(s.BlueBack,44);n.set(s.MagentaBack,45);n.set(s.CyanBack,46);n.set(s.WhiteBack,47);n.set(s.DefaultBackground,49);t=n;return t}(this);h.available=h.detectSupport();h.strip=false;h.stripIfUnavailable=true;f.DAY_SHORT_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];f.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];f.MONTH_SHORT_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];f.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"];w.winMetaCharacters=[32,40,41,37,33,94,34,60,62,38,124,10,13,44,59];G.IS_WINDOWS=a.systemName()=="Windows";G.DELIMITER=G.IS_WINDOWS?";":":";Y.EXT=G.IS_WINDOWS?".exe":"";q.isTTY=process.stderr.isTTY;q.out=function(e){var t;h.available=q.isTTY;t=new b(2);return t}(this);ee.CONFIG_FILE=".haxerc";ee.fs={isDirectory:function(e){try{return Q.isDirectory(e)}catch(e){var t=e instanceof ie?e.val:e;return false}},readFile:function(e){try{return $.Success(K.readFileSync(e,{encoding:"utf8"}))}catch(t){return $.Failure("Cannot read "+e+" because "+c.string(t instanceof ie?t.val:t))}}};ee.DEFAULT_ROOT=function(e){var t;var n=ee.env("HAXE_ROOT");var i=ee.env("HAXESHIM_ROOT");var r=new j(process.env[G.IS_WINDOWS?"APPDATA":"HOME"]+"/haxe");var s;if(i._hx_index==0){var a=i.v;s=a}else{s=r.get()}var o=new j(s);t=n._hx_index==0?function(e){var t;var i=n.v;t=i;return t}(e):o.get();return t}(this);te.PATH=G.slashes(ee.DEFAULT_ROOT+"/neko");te.isset=false;te.ENV=function(e){var t;var n;switch(a.systemName()){case"Mac":n="DYLD_LIBRARY_PATH";break;case"Windows":n="PATH";break;default:n="LD_LIBRARY_PATH"}var i=process.env[n];t=i==null?function(e){var t;var i=new L;{var r=te.PATH;if(Ke[n]!=null){i.setReserved(n,r)}else{i.h[n]=r}}t=F.ofMap(i);return t}(e):function(e){var t;var r=i;t=r.indexOf(te.PATH)!=-1?F.ofVars({}):function(e){var t;var r=i;var s=new L;{var a=r+G.DELIMITER+te.PATH;if(Ke[n]!=null){s.setReserved(n,a)}else{s.h[n]=a}}t=F.ofMap(s);return t}(e);return t}(e);return t}(this);we.initZip=function(e){var t;var n=pe.validateFileName;pe.validateFileName=function(e){return null};t=true;return t}(this);we.USER_AGENT="switchx";xe.VERSION_INFO="version.json";xe.NIGHTLIES="https://build.haxe.org/builds/haxe";xe.PLATFORM=function(e){var t;switch(a.systemName()){case"Mac":t="mac";break;case"Windows":t="windows";break;default:t="linux64"}return t}(this);Ee.hex=function(e){var t;var n=new I;{var i=0;var r="0123456789abcdefABCDEF".split("");while(i<r.length){var s=r[i];++i;n.h[m.cca(s,0)]=true}}t=n;return t}(this);Oe.depth=0;me.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this)},612:function(e,t,n){"use strict";e.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(e){var t=this;if(!(t instanceof Yallist)){t=new Yallist}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach(function(e){t.push(e)})}else if(arguments.length>0){for(var n=0,i=arguments.length;n<i;n++){t.push(arguments[n])}}return t}Yallist.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var n=e.prev;if(t){t.prev=n}if(n){n.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=n}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};Yallist.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};Yallist.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){push(this,arguments[e])}return this.length};Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){unshift(this,arguments[e])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};Yallist.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};Yallist.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;n!==null;i++){e.call(t,n.value,i,this);n=n.next}};Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;n!==null;i--){e.call(t,n.value,i,this);n=n.prev}};Yallist.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++){n=n.next}if(t===e&&n!==null){return n.value}};Yallist.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++){n=n.prev}if(t===e&&n!==null){return n.value}};Yallist.prototype.map=function(e,t){t=t||this;var n=new Yallist;for(var i=this.head;i!==null;){n.push(e.call(t,i.value,this));i=i.next}return n};Yallist.prototype.mapReverse=function(e,t){t=t||this;var n=new Yallist;for(var i=this.tail;i!==null;){n.push(e.call(t,i.value,this));i=i.prev}return n};Yallist.prototype.reduce=function(e,t){var n;var i=this.head;if(arguments.length>1){n=t}else if(this.head){i=this.head.next;n=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var r=0;i!==null;r++){n=e(n,i.value,r);i=i.next}return n};Yallist.prototype.reduceReverse=function(e,t){var n;var i=this.tail;if(arguments.length>1){n=t}else if(this.tail){i=this.tail.prev;n=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var r=this.length-1;i!==null;r--){n=e(n,i.value,r);i=i.prev}return n};Yallist.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,n=this.head;n!==null;t++){e[t]=n.value;n=n.next}return e};Yallist.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,n=this.tail;n!==null;t++){e[t]=n.value;n=n.prev}return e};Yallist.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var n=new Yallist;if(t<e||t<0){return n}if(e<0){e=0}if(t>this.length){t=this.length}for(var i=0,r=this.head;r!==null&&i<e;i++){r=r.next}for(;r!==null&&i<t;i++,r=r.next){n.push(r.value)}return n};Yallist.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var n=new Yallist;if(t<e||t<0){return n}if(e<0){e=0}if(t>this.length){t=this.length}for(var i=this.length,r=this.tail;r!==null&&i>t;i--){r=r.prev}for(;r!==null&&i>e;i--,r=r.prev){n.push(r.value)}return n};Yallist.prototype.splice=function(e,t,...n){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var i=0,r=this.head;r!==null&&i<e;i++){r=r.next}var s=[];for(var i=0;r&&i<t;i++){s.push(r.value);r=this.removeNode(r)}if(r===null){r=this.tail}if(r!==this.head&&r!==this.tail){r=r.prev}for(var i=0;i<n.length;i++){r=insert(this,r,n[i])}return s};Yallist.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var n=e;n!==null;n=n.prev){var i=n.prev;n.prev=n.next;n.next=i}this.head=t;this.tail=e;return this};function insert(e,t,n){var i=t===e.head?new Node(n,null,t,e):new Node(n,t,t.next,e);if(i.next===null){e.tail=i}if(i.prev===null){e.head=i}e.length++;return i}function push(e,t){e.tail=new Node(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function Node(e,t,n,i){if(!(this instanceof Node)){return new Node(e,t,n,i)}this.list=i;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(n){n.prev=this;this.next=n}else{this.next=null}}try{n(396)(Yallist)}catch(e){}},614:function(e){e.exports=require("events")},619:function(e){e.exports=require("constants")},622:function(e){e.exports=require("path")},626:function(e,t,n){const i=n(795);const r=n(870);const{mkdirpNative:s,mkdirpNativeSync:a}=n(561);const{mkdirpManual:o,mkdirpManualSync:l}=n(806);const{useNative:u,useNativeSync:c}=n(336);const h=(e,t)=>{e=r(e);t=i(t);return u(t)?s(e,t):o(e,t)};const f=(e,t)=>{e=r(e);t=i(t);return c(t)?a(e,t):l(e,t)};h.sync=f;h.native=((e,t)=>s(r(e),i(t)));h.manual=((e,t)=>o(r(e),i(t)));h.nativeSync=((e,t)=>a(r(e),i(t)));h.manualSync=((e,t)=>l(r(e),i(t)));e.exports=h},630:function(e,t,n){"use strict";const i=n(891);const r=n(726);const s=n(203);const a=n(747);const o=n(827);const l=n(381);const u=n(622);const c=n(232);const h=e.exports=((e,t,n)=>{const r=i(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);return r.sync?f(r,t):m(r,t,n)});const f=(e,t)=>{const n=new r.Sync(e);let i=true;let s;let o;try{try{s=a.openSync(e.file,"r+")}catch(t){if(t.code==="ENOENT")s=a.openSync(e.file,"w+");else throw t}const r=a.fstatSync(s);const l=Buffer.alloc(512);e:for(o=0;o<r.size;o+=512){for(let e=0,t=0;e<512;e+=t){t=a.readSync(s,l,e,l.length-e,o+e);if(o===0&&l[0]===31&&l[1]===139)throw new Error("cannot append to compressed archives");if(!t)break e}let t=new c(l);if(!t.cksumValid)break;let n=512*Math.ceil(t.size/512);if(o+n+512>r.size)break;o+=n;if(e.mtimeCache)e.mtimeCache.set(t.path,t.mtime)}i=false;d(e,n,o,s,t)}finally{if(i)try{a.closeSync(s)}catch(e){}}};const d=(e,t,n,i,r)=>{const s=new o.WriteStreamSync(e.file,{fd:i,start:n});t.pipe(s);v(t,r)};const m=(e,t,n)=>{t=Array.from(t);const i=new r(e);const s=(t,n,i)=>{const r=(e,n)=>{if(e)a.close(t,t=>i(e));else i(null,n)};let s=0;if(n===0)return r(null,0);let o=0;const l=Buffer.alloc(512);const u=(i,h)=>{if(i)return r(i);o+=h;if(o<512&&h)return a.read(t,l,o,l.length-o,s+o,u);if(s===0&&l[0]===31&&l[1]===139)return r(new Error("cannot append to compressed archives"));if(o<512)return r(null,s);const f=new c(l);if(!f.cksumValid)return r(null,s);const d=512*Math.ceil(f.size/512);if(s+d+512>n)return r(null,s);s+=d+512;if(s>=n)return r(null,s);if(e.mtimeCache)e.mtimeCache.set(f.path,f.mtime);o=0;a.read(t,l,0,512,s,u)};a.read(t,l,0,512,s,u)};const l=new Promise((n,r)=>{i.on("error",r);let l="r+";const u=(c,h)=>{if(c&&c.code==="ENOENT"&&l==="r+"){l="w+";return a.open(e.file,l,u)}if(c)return r(c);a.fstat(h,(a,l)=>{if(a)return r(a);s(h,l.size,(s,a)=>{if(s)return r(s);const l=new o.WriteStream(e.file,{fd:h,start:a});i.pipe(l);l.on("error",r);l.on("close",n);p(i,t)})})};a.open(e.file,l,u)});return n?l.then(n,n):l};const v=(e,t)=>{t.forEach(t=>{if(t.charAt(0)==="@")l({file:u.resolve(e.cwd,t.substr(1)),sync:true,noResume:true,onentry:t=>e.add(t)});else e.add(t)});e.end()};const p=(e,t)=>{while(t.length){const n=t.shift();if(n.charAt(0)==="@")return l({file:u.resolve(e.cwd,n.substr(1)),noResume:true,onentry:t=>e.add(t)}).then(n=>p(e,t));else e.add(n)}e.end()}},656:function(e,t,n){"use strict";const i=n(891);const r=n(63);const s=n(747);const a=n(827);const o=n(622);const l=e.exports=((e,t,n)=>{if(typeof e==="function")n=e,t=null,e={};else if(Array.isArray(e))t=e,e={};if(typeof t==="function")n=t,t=null;if(!t)t=[];else t=Array.from(t);const r=i(e);if(r.sync&&typeof n==="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n==="function")throw new TypeError("callback only supported with file option");if(t.length)u(r,t);return r.file&&r.sync?c(r):r.file?h(r,n):r.sync?f(r):d(r)});const u=(e,t)=>{const n=new Map(t.map(e=>[e.replace(/\/+$/,""),true]));const i=e.filter;const r=(e,t)=>{const i=t||o.parse(e).root||".";const s=e===i?false:n.has(e)?n.get(e):r(o.dirname(e),i);n.set(e,s);return s};e.filter=i?(e,t)=>i(e,t)&&r(e.replace(/\/+$/,"")):e=>r(e.replace(/\/+$/,""))};const c=e=>{const t=new r.Sync(e);const n=e.file;let i=true;let o;const l=s.statSync(n);const u=e.maxReadSize||16*1024*1024;const c=new a.ReadStreamSync(n,{readSize:u,size:l.size});c.pipe(t)};const h=(e,t)=>{const n=new r(e);const i=e.maxReadSize||16*1024*1024;const o=e.file;const l=new Promise((e,t)=>{n.on("error",t);n.on("close",e);s.stat(o,(e,r)=>{if(e)t(e);else{const e=new a.ReadStream(o,{readSize:i,size:r.size});e.on("error",t);e.pipe(n)}})});return t?l.then(t,t):l};const f=e=>{return new r.Sync(e)};const d=e=>{return new r(e)}},662:function(e,t,n){"use strict";const i=n(554);const r=n(720);const s=Symbol("slurp");e.exports=class ReadEntry extends r{constructor(e,t,n){super();this.pause();this.extended=t;this.globalExtended=n;this.header=e;this.startBlockSize=512*Math.ceil(e.size/512);this.blockRemain=this.startBlockSize;this.remain=e.size;this.type=e.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=e.path;this.mode=e.mode;if(this.mode)this.mode=this.mode&4095;this.uid=e.uid;this.gid=e.gid;this.uname=e.uname;this.gname=e.gname;this.size=e.size;this.mtime=e.mtime;this.atime=e.atime;this.ctime=e.ctime;this.linkpath=e.linkpath;this.uname=e.uname;this.gname=e.gname;if(t)this[s](t);if(n)this[s](n,true)}write(e){const t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const n=this.remain;const i=this.blockRemain;this.remain=Math.max(0,n-t);this.blockRemain=Math.max(0,i-t);if(this.ignore)return true;if(n>=t)return super.write(e);return super.write(e.slice(0,n))}[s](e,t){for(let n in e){if(e[n]!==null&&e[n]!==undefined&&!(t&&n==="path"))this[n]=e[n]}}}},669:function(e){e.exports=require("util")},720:function(e,t,n){"use strict";const i=n(614);const r=n(413);const s=n(612);const a=n(304).StringDecoder;const o=Symbol("EOF");const l=Symbol("maybeEmitEnd");const u=Symbol("emittedEnd");const c=Symbol("emittingEnd");const h=Symbol("closed");const f=Symbol("read");const d=Symbol("flush");const m=Symbol("flushChunk");const v=Symbol("encoding");const p=Symbol("decoder");const w=Symbol("flowing");const y=Symbol("paused");const g=Symbol("resume");const b=Symbol("bufferLength");const S=Symbol("bufferPush");const x=Symbol("bufferShift");const E=Symbol("objectMode");const R=Symbol("destroyed");const _=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const N=_&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const O=_&&Symbol.iterator||Symbol("iterator not implemented");const I=e=>e==="end"||e==="finish"||e==="prefinish";const D=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const L=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);e.exports=class Minipass extends r{constructor(e){super();this[w]=false;this[y]=false;this.pipes=new s;this.buffer=new s;this[E]=e&&e.objectMode||false;if(this[E])this[v]=null;else this[v]=e&&e.encoding||null;if(this[v]==="buffer")this[v]=null;this[p]=this[v]?new a(this[v]):null;this[o]=false;this[u]=false;this[c]=false;this[h]=false;this.writable=true;this.readable=true;this[b]=0;this[R]=false}get bufferLength(){return this[b]}get encoding(){return this[v]}set encoding(e){if(this[E])throw new Error("cannot set encoding in objectMode");if(this[v]&&e!==this[v]&&(this[p]&&this[p].lastNeed||this[b]))throw new Error("cannot change encoding");if(this[v]!==e){this[p]=e?new a(e):null;if(this.buffer.length)this.buffer=this.buffer.map(e=>this[p].write(e))}this[v]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[E]}set objectMode(e){this[E]=this[E]||!!e}write(e,t,n){if(this[o])throw new Error("write after end");if(this[R]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")n=t,t="utf8";if(!t)t="utf8";if(!this[E]&&!Buffer.isBuffer(e)){if(L(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(D(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(!this.objectMode&&!e.length){const e=this.flowing;if(this[b]!==0)this.emit("readable");if(n)n();return e}if(typeof e==="string"&&!this[E]&&!(t===this[v]&&!this[p].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[v])e=this[p].write(e);try{return this.flowing?(this.emit("data",e),this.flowing):(this[S](e),false)}finally{if(this[b]!==0)this.emit("readable");if(n)n()}}read(e){if(this[R])return null;try{if(this[b]===0||e===0||e>this[b])return null;if(this[E])e=null;if(this.buffer.length>1&&!this[E]){if(this.encoding)this.buffer=new s([Array.from(this.buffer).join("")]);else this.buffer=new s([Buffer.concat(Array.from(this.buffer),this[b])])}return this[f](e||null,this.buffer.head.value)}finally{this[l]()}}[f](e,t){if(e===t.length||e===null)this[x]();else{this.buffer.head.value=t.slice(e);t=t.slice(0,e);this[b]-=e}this.emit("data",t);if(!this.buffer.length&&!this[o])this.emit("drain");return t}end(e,t,n){if(typeof e==="function")n=e,e=null;if(typeof t==="function")n=t,t="utf8";if(e)this.write(e,t);if(n)this.once("end",n);this[o]=true;this.writable=false;if(this.flowing||!this[y])this[l]();return this}[g](){if(this[R])return;this[y]=false;this[w]=true;this.emit("resume");if(this.buffer.length)this[d]();else if(this[o])this[l]();else this.emit("drain")}resume(){return this[g]()}pause(){this[w]=false;this[y]=true}get destroyed(){return this[R]}get flowing(){return this[w]}get paused(){return this[y]}[S](e){if(this[E])this[b]+=1;else this[b]+=e.length;return this.buffer.push(e)}[x](){if(this.buffer.length){if(this[E])this[b]-=1;else this[b]-=this.buffer.head.value.length}return this.buffer.shift()}[d](){do{}while(this[m](this[x]()));if(!this.buffer.length&&!this[o])this.emit("drain")}[m](e){return e?(this.emit("data",e),this.flowing):false}pipe(e,t){if(this[R])return;const n=this[u];t=t||{};if(e===process.stdout||e===process.stderr)t.end=false;else t.end=t.end!==false;const i={dest:e,opts:t,ondrain:e=>this[g]()};this.pipes.push(i);e.on("drain",i.ondrain);this[g]();if(n&&i.opts.end)i.dest.end();return e}addListener(e,t){return this.on(e,t)}on(e,t){try{return super.on(e,t)}finally{if(e==="data"&&!this.pipes.length&&!this.flowing)this[g]();else if(I(e)&&this[u]){super.emit(e);this.removeAllListeners(e)}}}get emittedEnd(){return this[u]}[l](){if(!this[c]&&!this[u]&&!this[R]&&this.buffer.length===0&&this[o]){this[c]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[h])this.emit("close");this[c]=false}}emit(e,t){if(e!=="error"&&e!=="close"&&e!==R&&this[R])return;else if(e==="data"){if(!t)return;if(this.pipes.length)this.pipes.forEach(e=>e.dest.write(t)===false&&this.pause())}else if(e==="end"){if(this[u]===true)return;this[u]=true;this.readable=false;if(this[p]){t=this[p].end();if(t){this.pipes.forEach(e=>e.dest.write(t));super.emit("data",t)}}this.pipes.forEach(e=>{e.dest.removeListener("drain",e.ondrain);if(e.opts.end)e.dest.end()})}else if(e==="close"){this[h]=true;if(!this[u]&&!this[R])return}const n=new Array(arguments.length);n[0]=e;n[1]=t;if(arguments.length>2){for(let e=2;e<arguments.length;e++){n[e]=arguments[e]}}try{return super.emit.apply(this,n)}finally{if(!I(e))this[l]();else this.removeAllListeners(e)}}collect(){const e=[];if(!this[E])e.dataLength=0;const t=this.promise();this.on("data",t=>{e.push(t);if(!this[E])e.dataLength+=t.length});return t.then(()=>e)}concat(){return this[E]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[E]?Promise.reject(new Error("cannot concat in objectMode")):this[v]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(R,()=>t(new Error("stream destroyed")));this.on("end",()=>e());this.on("error",e=>t(e))})}[N](){const e=()=>{const e=this.read();if(e!==null)return Promise.resolve({done:false,value:e});if(this[o])return Promise.resolve({done:true});let t=null;let n=null;const i=e=>{this.removeListener("data",r);this.removeListener("end",s);n(e)};const r=e=>{this.removeListener("error",i);this.removeListener("end",s);this.pause();t({value:e,done:!!this[o]})};const s=()=>{this.removeListener("error",i);this.removeListener("data",r);t({done:true})};const a=()=>i(new Error("stream destroyed"));return new Promise((e,o)=>{n=o;t=e;this.once(R,a);this.once("error",i);this.once("end",s);this.once("data",r)})};return{next:e}}[O](){const e=()=>{const e=this.read();const t=e===null;return{value:e,done:t}};return{next:e}}destroy(e){if(this[R]){if(e)this.emit("error",e);else this.emit(R);return this}this[R]=true;this.buffer=new s;this[b]=0;if(typeof this.close==="function"&&!this[h])this.close();if(e)this.emit("error",e);else this.emit(R);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof r||e instanceof i&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}},726:function(e,t,n){"use strict";class PackJob{constructor(e,t){this.path=e||"./";this.absolute=t;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const i=n(720);const r=n(133);const s=n(662);const a=n(303);const o=a.Sync;const l=a.Tar;const u=n(612);const c=Buffer.alloc(1024);const h=Symbol("onStat");const f=Symbol("ended");const d=Symbol("queue");const m=Symbol("current");const v=Symbol("process");const p=Symbol("processing");const w=Symbol("processJob");const y=Symbol("jobs");const g=Symbol("jobDone");const b=Symbol("addFSEntry");const S=Symbol("addTarEntry");const x=Symbol("stat");const E=Symbol("readdir");const R=Symbol("onreaddir");const _=Symbol("pipe");const N=Symbol("entry");const O=Symbol("entryOpt");const I=Symbol("writeEntryClass");const D=Symbol("write");const L=Symbol("ondrain");const C=n(747);const A=n(622);const B=n(796);const T=B(class Pack extends i{constructor(e){super(e);e=e||Object.create(null);this.opt=e;this.file=e.file||"";this.cwd=e.cwd||process.cwd();this.maxReadSize=e.maxReadSize;this.preservePaths=!!e.preservePaths;this.strict=!!e.strict;this.noPax=!!e.noPax;this.prefix=(e.prefix||"").replace(/(\\|\/)+$/,"");this.linkCache=e.linkCache||new Map;this.statCache=e.statCache||new Map;this.readdirCache=e.readdirCache||new Map;this[I]=a;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);this.portable=!!e.portable;this.zip=null;if(e.gzip){if(typeof e.gzip!=="object")e.gzip={};if(this.portable)e.gzip.portable=true;this.zip=new r.Gzip(e.gzip);this.zip.on("data",e=>super.write(e));this.zip.on("end",e=>super.end());this.zip.on("drain",e=>this[L]());this.on("resume",e=>this.zip.resume())}else this.on("drain",this[L]);this.noDirRecurse=!!e.noDirRecurse;this.follow=!!e.follow;this.noMtime=!!e.noMtime;this.mtime=e.mtime||null;this.filter=typeof e.filter==="function"?e.filter:e=>true;this[d]=new u;this[y]=0;this.jobs=+e.jobs||4;this[p]=false;this[f]=false}[D](e){return super.write(e)}add(e){this.write(e);return this}end(e){if(e)this.write(e);this[f]=true;this[v]();return this}write(e){if(this[f])throw new Error("write after end");if(e instanceof s)this[S](e);else this[b](e);return this.flowing}[S](e){const t=A.resolve(this.cwd,e.path);if(this.prefix)e.path=this.prefix+"/"+e.path.replace(/^\.(\/+|$)/,"");if(!this.filter(e.path,e))e.resume();else{const n=new PackJob(e.path,t,false);n.entry=new l(e,this[O](n));n.entry.on("end",e=>this[g](n));this[y]+=1;this[d].push(n)}this[v]()}[b](e){const t=A.resolve(this.cwd,e);if(this.prefix)e=this.prefix+"/"+e.replace(/^\.(\/+|$)/,"");this[d].push(new PackJob(e,t));this[v]()}[x](e){e.pending=true;this[y]+=1;const t=this.follow?"stat":"lstat";C[t](e.absolute,(t,n)=>{e.pending=false;this[y]-=1;if(t)this.emit("error",t);else this[h](e,n)})}[h](e,t){this.statCache.set(e.absolute,t);e.stat=t;if(!this.filter(e.path,t))e.ignore=true;this[v]()}[E](e){e.pending=true;this[y]+=1;C.readdir(e.absolute,(t,n)=>{e.pending=false;this[y]-=1;if(t)return this.emit("error",t);this[R](e,n)})}[R](e,t){this.readdirCache.set(e.absolute,t);e.readdir=t;this[v]()}[v](){if(this[p])return;this[p]=true;for(let e=this[d].head;e!==null&&this[y]<this.jobs;e=e.next){this[w](e.value);if(e.value.ignore){const t=e.next;this[d].removeNode(e);e.next=t}}this[p]=false;if(this[f]&&!this[d].length&&this[y]===0){if(this.zip)this.zip.end(c);else{super.write(c);super.end()}}}get[m](){return this[d]&&this[d].head&&this[d].head.value}[g](e){this[d].shift();this[y]-=1;this[v]()}[w](e){if(e.pending)return;if(e.entry){if(e===this[m]&&!e.piped)this[_](e);return}if(!e.stat){if(this.statCache.has(e.absolute))this[h](e,this.statCache.get(e.absolute));else this[x](e)}if(!e.stat)return;if(e.ignore)return;if(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir){if(this.readdirCache.has(e.absolute))this[R](e,this.readdirCache.get(e.absolute));else this[E](e);if(!e.readdir)return}e.entry=this[N](e);if(!e.entry){e.ignore=true;return}if(e===this[m]&&!e.piped)this[_](e)}[O](e){return{onwarn:(e,t,n)=>this.warn(e,t,n),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[N](e){this[y]+=1;try{return new this[I](e.path,this[O](e)).on("end",()=>this[g](e)).on("error",e=>this.emit("error",e))}catch(e){this.emit("error",e)}}[L](){if(this[m]&&this[m].entry)this[m].entry.resume()}[_](e){e.piped=true;if(e.readdir)e.readdir.forEach(t=>{const n=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path;const i=n==="./"?"":n.replace(/\/*$/,"/");this[b](i+t)});const t=e.entry;const n=this.zip;if(n)t.on("data",e=>{if(!n.write(e))t.pause()});else t.on("data",e=>{if(!super.write(e))t.pause()})}pause(){if(this.zip)this.zip.pause();return super.pause()}});class PackSync extends T{constructor(e){super(e);this[I]=o}pause(){}resume(){}[x](e){const t=this.follow?"statSync":"lstatSync";this[h](e,C[t](e.absolute))}[E](e,t){this[R](e,C.readdirSync(e.absolute))}[_](e){const t=e.entry;const n=this.zip;if(e.readdir)e.readdir.forEach(t=>{const n=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path;const i=n==="./"?"":n.replace(/\/*$/,"/");this[b](i+t)});if(n)t.on("data",e=>{n.write(e)});else t.on("data",e=>{super[D](e)})}}T.Sync=PackSync;e.exports=T},747:function(e){e.exports=require("fs")},761:function(e){e.exports=require("zlib")},766:function(e,t,n){var i=n(747);var r=n(761);var s=n(324);var a=n(538);var o=n(669);var l=n(614).EventEmitter;var u=n(413).Transform;var c=n(413).PassThrough;var h=n(413).Writable;t.open=open;t.fromFd=fromFd;t.fromBuffer=fromBuffer;t.fromRandomAccessReader=fromRandomAccessReader;t.dosDateTimeToDate=dosDateTimeToDate;t.validateFileName=validateFileName;t.ZipFile=ZipFile;t.Entry=Entry;t.RandomAccessReader=RandomAccessReader;function open(e,t,n){if(typeof t==="function"){n=t;t=null}if(t==null)t={};if(t.autoClose==null)t.autoClose=true;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;if(n==null)n=defaultCallback;i.open(e,"r",function(e,r){if(e)return n(e);fromFd(r,t,function(e,t){if(e)i.close(r,defaultCallback);n(e,t)})})}function fromFd(e,t,n){if(typeof t==="function"){n=t;t=null}if(t==null)t={};if(t.autoClose==null)t.autoClose=false;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;if(n==null)n=defaultCallback;i.fstat(e,function(i,r){if(i)return n(i);var a=s.createFromFd(e,{autoClose:true});fromRandomAccessReader(a,r.size,t,n)})}function fromBuffer(e,t,n){if(typeof t==="function"){n=t;t=null}if(t==null)t={};t.autoClose=false;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;var i=s.createFromBuffer(e,{maxChunkSize:65536});fromRandomAccessReader(i,e.length,t,n)}function fromRandomAccessReader(e,t,n,i){if(typeof n==="function"){i=n;n=null}if(n==null)n={};if(n.autoClose==null)n.autoClose=true;if(n.lazyEntries==null)n.lazyEntries=false;if(n.decodeStrings==null)n.decodeStrings=true;var r=!!n.decodeStrings;if(n.validateEntrySizes==null)n.validateEntrySizes=true;if(n.strictFileNames==null)n.strictFileNames=false;if(i==null)i=defaultCallback;if(typeof t!=="number")throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER){throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.")}e.ref();var s=22;var a=65535;var o=Math.min(s+a,t);var l=d(o);var u=t-l.length;readAndAssertNoEof(e,l,0,o,u,function(a){if(a)return i(a);for(var c=o-s;c>=0;c-=1){if(l.readUInt32LE(c)!==101010256)continue;var h=l.slice(c);var f=h.readUInt16LE(4);if(f!==0){return i(new Error("multi-disk zip files are not supported: found disk number: "+f))}var m=h.readUInt16LE(10);var v=h.readUInt32LE(16);var p=h.readUInt16LE(20);var w=h.length-s;if(p!==w){return i(new Error("invalid comment length. expected: "+w+". found: "+p))}var y=r?decodeBuffer(h,22,h.length,false):h.slice(22);if(!(m===65535||v===4294967295)){return i(null,new ZipFile(e,v,t,m,y,n.autoClose,n.lazyEntries,r,n.validateEntrySizes,n.strictFileNames))}var g=d(20);var b=u+c-g.length;readAndAssertNoEof(e,g,0,g.length,b,function(s){if(s)return i(s);if(g.readUInt32LE(0)!==117853008){return i(new Error("invalid zip64 end of central directory locator signature"))}var a=readUInt64LE(g,8);var o=d(56);readAndAssertNoEof(e,o,0,o.length,a,function(s){if(s)return i(s);if(o.readUInt32LE(0)!==101075792){return i(new Error("invalid zip64 end of central directory record signature"))}m=readUInt64LE(o,32);v=readUInt64LE(o,48);return i(null,new ZipFile(e,v,t,m,y,n.autoClose,n.lazyEntries,r,n.validateEntrySizes,n.strictFileNames))})});return}i(new Error("end of central directory record signature not found"))})}o.inherits(ZipFile,l);function ZipFile(e,t,n,i,r,s,a,o,u,c){var h=this;l.call(h);h.reader=e;h.reader.on("error",function(e){emitError(h,e)});h.reader.once("close",function(){h.emit("close")});h.readEntryCursor=t;h.fileSize=n;h.entryCount=i;h.comment=r;h.entriesRead=0;h.autoClose=!!s;h.lazyEntries=!!a;h.decodeStrings=!!o;h.validateEntrySizes=!!u;h.strictFileNames=!!c;h.isOpen=true;h.emittedError=false;if(!h.lazyEntries)h._readEntry()}ZipFile.prototype.close=function(){if(!this.isOpen)return;this.isOpen=false;this.reader.unref()};function emitErrorAndAutoClose(e,t){if(e.autoClose)e.close();emitError(e,t)}function emitError(e,t){if(e.emittedError)return;e.emittedError=true;e.emit("error",t)}ZipFile.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ZipFile.prototype._readEntry=function(){var e=this;if(e.entryCount===e.entriesRead){setImmediate(function(){if(e.autoClose)e.close();if(e.emittedError)return;e.emit("end")});return}if(e.emittedError)return;var n=d(46);readAndAssertNoEof(e.reader,n,0,n.length,e.readEntryCursor,function(i){if(i)return emitErrorAndAutoClose(e,i);if(e.emittedError)return;var r=new Entry;var s=n.readUInt32LE(0);if(s!==33639248)return emitErrorAndAutoClose(e,new Error("invalid central directory file header signature: 0x"+s.toString(16)));r.versionMadeBy=n.readUInt16LE(4);r.versionNeededToExtract=n.readUInt16LE(6);r.generalPurposeBitFlag=n.readUInt16LE(8);r.compressionMethod=n.readUInt16LE(10);r.lastModFileTime=n.readUInt16LE(12);r.lastModFileDate=n.readUInt16LE(14);r.crc32=n.readUInt32LE(16);r.compressedSize=n.readUInt32LE(20);r.uncompressedSize=n.readUInt32LE(24);r.fileNameLength=n.readUInt16LE(28);r.extraFieldLength=n.readUInt16LE(30);r.fileCommentLength=n.readUInt16LE(32);r.internalFileAttributes=n.readUInt16LE(36);r.externalFileAttributes=n.readUInt32LE(38);r.relativeOffsetOfLocalHeader=n.readUInt32LE(42);if(r.generalPurposeBitFlag&64)return emitErrorAndAutoClose(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46;n=d(r.fileNameLength+r.extraFieldLength+r.fileCommentLength);readAndAssertNoEof(e.reader,n,0,n.length,e.readEntryCursor,function(i){if(i)return emitErrorAndAutoClose(e,i);if(e.emittedError)return;var s=(r.generalPurposeBitFlag&2048)!==0;r.fileName=e.decodeStrings?decodeBuffer(n,0,r.fileNameLength,s):n.slice(0,r.fileNameLength);var o=r.fileNameLength+r.extraFieldLength;var l=n.slice(r.fileNameLength,o);r.extraFields=[];var u=0;while(u<l.length-3){var c=l.readUInt16LE(u+0);var h=l.readUInt16LE(u+2);var f=u+4;var m=f+h;if(m>l.length)return emitErrorAndAutoClose(e,new Error("extra field length exceeds extra field buffer size"));var v=d(h);l.copy(v,0,f,m);r.extraFields.push({id:c,data:v});u=m}r.fileComment=e.decodeStrings?decodeBuffer(n,o,o+r.fileCommentLength,s):n.slice(o,o+r.fileCommentLength);r.comment=r.fileComment;e.readEntryCursor+=n.length;e.entriesRead+=1;if(r.uncompressedSize===4294967295||r.compressedSize===4294967295||r.relativeOffsetOfLocalHeader===4294967295){var p=null;for(var u=0;u<r.extraFields.length;u++){var w=r.extraFields[u];if(w.id===1){p=w.data;break}}if(p==null){return emitErrorAndAutoClose(e,new Error("expected zip64 extended information extra field"))}var y=0;if(r.uncompressedSize===4294967295){if(y+8>p.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include uncompressed size"))}r.uncompressedSize=readUInt64LE(p,y);y+=8}if(r.compressedSize===4294967295){if(y+8>p.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include compressed size"))}r.compressedSize=readUInt64LE(p,y);y+=8}if(r.relativeOffsetOfLocalHeader===4294967295){if(y+8>p.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include relative header offset"))}r.relativeOffsetOfLocalHeader=readUInt64LE(p,y);y+=8}}if(e.decodeStrings){for(var u=0;u<r.extraFields.length;u++){var w=r.extraFields[u];if(w.id===28789){if(w.data.length<6){continue}if(w.data.readUInt8(0)!==1){continue}var g=w.data.readUInt32LE(1);if(a.unsigned(n.slice(0,r.fileNameLength))!==g){continue}r.fileName=decodeBuffer(w.data,5,w.data.length,true);break}}}if(e.validateEntrySizes&&r.compressionMethod===0){var b=r.uncompressedSize;if(r.isEncrypted()){b+=12}if(r.compressedSize!==b){var S="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return emitErrorAndAutoClose(e,new Error(S))}}if(e.decodeStrings){if(!e.strictFileNames){r.fileName=r.fileName.replace(/\\/g,"/")}var x=t.validateFileName(r.fileName);if(x!=null)return emitErrorAndAutoClose(e,new Error(x))}e.emit("entry",r);if(!e.lazyEntries)e._readEntry()})})};ZipFile.prototype.openReadStream=function(e,t,n){var i=this;var s=0;var a=e.compressedSize;if(n==null){n=t;t={}}else{if(t.decrypt!=null){if(!e.isEncrypted()){throw new Error("options.decrypt can only be specified for encrypted entries")}if(t.decrypt!==false)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()){if(t.decompress!==false)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}}if(t.decompress!=null){if(!e.isCompressed()){throw new Error("options.decompress can only be specified for compressed entries")}if(!(t.decompress===false||t.decompress===true)){throw new Error("invalid options.decompress value: "+t.decompress)}}if(t.start!=null||t.end!=null){if(e.isCompressed()&&t.decompress!==false){throw new Error("start/end range not allowed for compressed entry without options.decompress === false")}if(e.isEncrypted()&&t.decrypt!==false){throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}}if(t.start!=null){s=t.start;if(s<0)throw new Error("options.start < 0");if(s>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(t.end!=null){a=t.end;if(a<0)throw new Error("options.end < 0");if(a>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(a<s)throw new Error("options.end < options.start")}}if(!i.isOpen)return n(new Error("closed"));if(e.isEncrypted()){if(t.decrypt!==false)return n(new Error("entry is encrypted, and options.decrypt !== false"))}i.reader.ref();var o=d(30);readAndAssertNoEof(i.reader,o,0,o.length,e.relativeOffsetOfLocalHeader,function(l){try{if(l)return n(l);var u=o.readUInt32LE(0);if(u!==67324752){return n(new Error("invalid local file header signature: 0x"+u.toString(16)))}var c=o.readUInt16LE(26);var h=o.readUInt16LE(28);var f=e.relativeOffsetOfLocalHeader+o.length+c+h;var d;if(e.compressionMethod===0){d=false}else if(e.compressionMethod===8){d=t.decompress!=null?t.decompress:true}else{return n(new Error("unsupported compression method: "+e.compressionMethod))}var m=f;var v=m+e.compressedSize;if(e.compressedSize!==0){if(v>i.fileSize){return n(new Error("file data overflows file bounds: "+m+" + "+e.compressedSize+" > "+i.fileSize))}}var p=i.reader.createReadStream({start:m+s,end:m+a});var w=p;if(d){var y=false;var g=r.createInflateRaw();p.on("error",function(e){setImmediate(function(){if(!y)g.emit("error",e)})});p.pipe(g);if(i.validateEntrySizes){w=new AssertByteCountStream(e.uncompressedSize);g.on("error",function(e){setImmediate(function(){if(!y)w.emit("error",e)})});g.pipe(w)}else{w=g}w.destroy=function(){y=true;if(g!==w)g.unpipe(w);p.unpipe(g);p.destroy()}}n(null,w)}finally{i.reader.unref()}})};function Entry(){}Entry.prototype.getLastModDate=function(){return dosDateTimeToDate(this.lastModFileDate,this.lastModFileTime)};Entry.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Entry.prototype.isCompressed=function(){return this.compressionMethod===8};function dosDateTimeToDate(e,t){var n=e&31;var i=(e>>5&15)-1;var r=(e>>9&127)+1980;var s=0;var a=(t&31)*2;var o=t>>5&63;var l=t>>11&31;return new Date(r,i,n,l,o,a,s)}function validateFileName(e){if(e.indexOf("\\")!==-1){return"invalid characters in fileName: "+e}if(/^[a-zA-Z]:/.test(e)||/^\//.test(e)){return"absolute path: "+e}if(e.split("/").indexOf("..")!==-1){return"invalid relative path: "+e}return null}function readAndAssertNoEof(e,t,n,i,r,s){if(i===0){return setImmediate(function(){s(null,d(0))})}e.read(t,n,i,r,function(e,t){if(e)return s(e);if(t<i){return s(new Error("unexpected EOF"))}s()})}o.inherits(AssertByteCountStream,u);function AssertByteCountStream(e){u.call(this);this.actualByteCount=0;this.expectedByteCount=e}AssertByteCountStream.prototype._transform=function(e,t,n){this.actualByteCount+=e.length;if(this.actualByteCount>this.expectedByteCount){var i="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(i))}n(null,e)};AssertByteCountStream.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()};o.inherits(RandomAccessReader,l);function RandomAccessReader(){l.call(this);this.refCount=0}RandomAccessReader.prototype.ref=function(){this.refCount+=1};RandomAccessReader.prototype.unref=function(){var e=this;e.refCount-=1;if(e.refCount>0)return;if(e.refCount<0)throw new Error("invalid unref");e.close(onCloseDone);function onCloseDone(t){if(t)return e.emit("error",t);e.emit("close")}};RandomAccessReader.prototype.createReadStream=function(e){var t=e.start;var n=e.end;if(t===n){var i=new c;setImmediate(function(){i.end()});return i}var r=this._readStreamForRange(t,n);var s=false;var a=new RefUnrefFilter(this);r.on("error",function(e){setImmediate(function(){if(!s)a.emit("error",e)})});a.destroy=function(){r.unpipe(a);a.unref();r.destroy()};var o=new AssertByteCountStream(n-t);a.on("error",function(e){setImmediate(function(){if(!s)o.emit("error",e)})});o.destroy=function(){s=true;a.unpipe(o);a.destroy()};return r.pipe(a).pipe(o)};RandomAccessReader.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")};RandomAccessReader.prototype.read=function(e,t,n,i,r){var s=this.createReadStream({start:i,end:i+n});var a=new h;var o=0;a._write=function(n,i,r){n.copy(e,t+o,0,n.length);o+=n.length;r()};a.on("finish",r);s.on("error",function(e){r(e)});s.pipe(a)};RandomAccessReader.prototype.close=function(e){setImmediate(e)};o.inherits(RefUnrefFilter,c);function RefUnrefFilter(e){c.call(this);this.context=e;this.context.ref();this.unreffedYet=false}RefUnrefFilter.prototype._flush=function(e){this.unref();e()};RefUnrefFilter.prototype.unref=function(e){if(this.unreffedYet)return;this.unreffedYet=true;this.context.unref()};var f="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function decodeBuffer(e,t,n,i){if(i){return e.toString("utf8",t,n)}else{var r="";for(var s=t;s<n;s++){r+=f[e[s]]}return r}}function readUInt64LE(e,t){var n=e.readUInt32LE(t);var i=e.readUInt32LE(t+4);return i*4294967296+n}var d;if(typeof Buffer.allocUnsafe==="function"){d=function(e){return Buffer.allocUnsafe(e)}}else{d=function(e){return new Buffer(e)}}function defaultCallback(e){if(e)throw e}},795:function(e,t,n){const{promisify:i}=n(669);const r=n(747);const s=e=>{if(!e)e={mode:511&~process.umask(),fs:r};else if(typeof e==="object")e={mode:511&~process.umask(),fs:r,...e};else if(typeof e==="number")e={mode:e,fs:r};else if(typeof e==="string")e={mode:parseInt(e,8),fs:r};else throw new TypeError("invalid options argument");e.mkdir=e.mkdir||e.fs.mkdir||r.mkdir;e.mkdirAsync=i(e.mkdir);e.stat=e.stat||e.fs.stat||r.stat;e.statAsync=i(e.stat);e.statSync=e.statSync||e.fs.statSync||r.statSync;e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||r.mkdirSync;return e};e.exports=s},796:function(e){"use strict";e.exports=(e=>(class extends e{warn(e,t,n={}){if(this.file)n.file=this.file;if(this.cwd)n.cwd=this.cwd;n.code=t instanceof Error&&t.code||e;n.tarCode=e;if(!this.strict&&n.recoverable!==false){if(t instanceof Error){n=Object.assign(t,n);t=t.message}this.emit("warn",n.tarCode,t,n)}else if(t instanceof Error){this.emit("error",Object.assign(t,n))}else this.emit("error",Object.assign(new Error(`${e}: ${t}`),n))}}))},806:function(e,t,n){const{dirname:i}=n(622);const r=(e,t,n)=>{t.recursive=false;const s=i(e);if(s===e){return t.mkdirAsync(e,t).catch(e=>{if(e.code!=="EISDIR")throw e})}return t.mkdirAsync(e,t).then(()=>n||e,i=>{if(i.code==="ENOENT")return r(s,t).then(n=>r(e,t,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return t.statAsync(e).then(e=>{if(e.isDirectory())return n;else throw i},()=>{throw i})})};const s=(e,t,n)=>{const r=i(e);t.recursive=false;if(r===e){try{return t.mkdirSync(e,t)}catch(e){if(e.code!=="EISDIR")throw e;else return}}try{t.mkdirSync(e,t);return n||e}catch(i){if(i.code==="ENOENT")return s(e,t,s(r,t,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!t.statSync(e).isDirectory())throw i}catch(e){throw i}}};e.exports={mkdirpManual:r,mkdirpManualSync:s}},827:function(e,t,n){"use strict";const i=n(720);const r=n(614).EventEmitter;const s=n(747);let a=s.writev;if(!a){const e=process.binding("fs");const t=e.FSReqWrap||e.FSReqCallback;a=((n,i,r,s)=>{const a=(e,t)=>s(e,t,i);const o=new t;o.oncomplete=a;e.writeBuffers(n,i,r,o)})}const o=Symbol("_autoClose");const l=Symbol("_close");const u=Symbol("_ended");const c=Symbol("_fd");const h=Symbol("_finished");const f=Symbol("_flags");const d=Symbol("_flush");const m=Symbol("_handleChunk");const v=Symbol("_makeBuf");const p=Symbol("_mode");const w=Symbol("_needDrain");const y=Symbol("_onerror");const g=Symbol("_onopen");const b=Symbol("_onread");const S=Symbol("_onwrite");const x=Symbol("_open");const E=Symbol("_path");const R=Symbol("_pos");const _=Symbol("_queue");const N=Symbol("_read");const O=Symbol("_readSize");const I=Symbol("_reading");const D=Symbol("_remain");const L=Symbol("_size");const C=Symbol("_write");const A=Symbol("_writing");const B=Symbol("_defaultFlag");const T=Symbol("_errored");class ReadStream extends i{constructor(e,t){t=t||{};super(t);this.readable=true;this.writable=false;if(typeof e!=="string")throw new TypeError("path must be a string");this[T]=false;this[c]=typeof t.fd==="number"?t.fd:null;this[E]=e;this[O]=t.readSize||16*1024*1024;this[I]=false;this[L]=typeof t.size==="number"?t.size:Infinity;this[D]=this[L];this[o]=typeof t.autoClose==="boolean"?t.autoClose:true;if(typeof this[c]==="number")this[N]();else this[x]()}get fd(){return this[c]}get path(){return this[E]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[x](){s.open(this[E],"r",(e,t)=>this[g](e,t))}[g](e,t){if(e)this[y](e);else{this[c]=t;this.emit("open",t);this[N]()}}[v](){return Buffer.allocUnsafe(Math.min(this[O],this[D]))}[N](){if(!this[I]){this[I]=true;const e=this[v]();if(e.length===0)return process.nextTick(()=>this[b](null,0,e));s.read(this[c],e,0,e.length,null,(e,t,n)=>this[b](e,t,n))}}[b](e,t,n){this[I]=false;if(e)this[y](e);else if(this[m](t,n))this[N]()}[l](){if(this[o]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.close(e,e=>e?this.emit("error",e):this.emit("close"))}}[y](e){this[I]=true;this[l]();this.emit("error",e)}[m](e,t){let n=false;this[D]-=e;if(e>0)n=super.write(e<t.length?t.slice(0,e):t);if(e===0||this[D]<=0){n=false;this[l]();super.end()}return n}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":if(typeof this[c]==="number")this[N]();break;case"error":if(this[T])return;this[T]=true;return super.emit(e,t);default:return super.emit(e,t)}}}class ReadStreamSync extends ReadStream{[x](){let e=true;try{this[g](null,s.openSync(this[E],"r"));e=false}finally{if(e)this[l]()}}[N](){let e=true;try{if(!this[I]){this[I]=true;do{const e=this[v]();const t=e.length===0?0:s.readSync(this[c],e,0,e.length,null);if(!this[m](t,e))break}while(true);this[I]=false}e=false}finally{if(e)this[l]()}}[l](){if(this[o]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.closeSync(e);this.emit("close")}}}class WriteStream extends r{constructor(e,t){t=t||{};super(t);this.readable=false;this.writable=true;this[T]=false;this[A]=false;this[u]=false;this[w]=false;this[_]=[];this[E]=e;this[c]=typeof t.fd==="number"?t.fd:null;this[p]=t.mode===undefined?438:t.mode;this[R]=typeof t.start==="number"?t.start:null;this[o]=typeof t.autoClose==="boolean"?t.autoClose:true;const n=this[R]!==null?"r+":"w";this[B]=t.flags===undefined;this[f]=this[B]?n:t.flags;if(this[c]===null)this[x]()}emit(e,t){if(e==="error"){if(this[T])return;this[T]=true}return super.emit(e,t)}get fd(){return this[c]}get path(){return this[E]}[y](e){this[l]();this[A]=true;this.emit("error",e)}[x](){s.open(this[E],this[f],this[p],(e,t)=>this[g](e,t))}[g](e,t){if(this[B]&&this[f]==="r+"&&e&&e.code==="ENOENT"){this[f]="w";this[x]()}else if(e)this[y](e);else{this[c]=t;this.emit("open",t);this[d]()}}end(e,t){if(e)this.write(e,t);this[u]=true;if(!this[A]&&!this[_].length&&typeof this[c]==="number")this[S](null,0);return this}write(e,t){if(typeof e==="string")e=Buffer.from(e,t);if(this[u]){this.emit("error",new Error("write() after end()"));return false}if(this[c]===null||this[A]||this[_].length){this[_].push(e);this[w]=true;return false}this[A]=true;this[C](e);return true}[C](e){s.write(this[c],e,0,e.length,this[R],(e,t)=>this[S](e,t))}[S](e,t){if(e)this[y](e);else{if(this[R]!==null)this[R]+=t;if(this[_].length)this[d]();else{this[A]=false;if(this[u]&&!this[h]){this[h]=true;this[l]();this.emit("finish")}else if(this[w]){this[w]=false;this.emit("drain")}}}}[d](){if(this[_].length===0){if(this[u])this[S](null,0)}else if(this[_].length===1)this[C](this[_].pop());else{const e=this[_];this[_]=[];a(this[c],e,this[R],(e,t)=>this[S](e,t))}}[l](){if(this[o]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.close(e,e=>e?this.emit("error",e):this.emit("close"))}}}class WriteStreamSync extends WriteStream{[x](){let e;if(this[B]&&this[f]==="r+"){try{e=s.openSync(this[E],this[f],this[p])}catch(e){if(e.code==="ENOENT"){this[f]="w";return this[x]()}else throw e}}else e=s.openSync(this[E],this[f],this[p]);this[g](null,e)}[l](){if(this[o]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.closeSync(e);this.emit("close")}}[C](e){let t=true;try{this[S](null,s.writeSync(this[c],e,0,e.length,this[R]));t=false}finally{if(t)try{this[l]()}catch(e){}}}}t.ReadStream=ReadStream;t.ReadStreamSync=ReadStreamSync;t.WriteStream=WriteStream;t.WriteStreamSync=WriteStreamSync},835:function(e){e.exports=require("url")},858:function(e,t){"use strict";const n=t.encode=((e,t)=>{if(!Number.isSafeInteger(e))throw Error("cannot encode number outside of javascript safe integer range");else if(e<0)r(e,t);else i(e,t);return t});const i=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--){t[n-1]=e&255;e=Math.floor(e/256)}};const r=(e,t)=>{t[0]=255;var n=false;e=e*-1;for(var i=t.length;i>1;i--){var r=e&255;e=Math.floor(e/256);if(n)t[i-1]=l(r);else if(r===0)t[i-1]=0;else{n=true;t[i-1]=u(r)}}};const s=t.parse=(e=>{var t=e[e.length-1];var n=e[0];var i;if(n===128)i=o(e.slice(1,e.length));else if(n===255)i=a(e);else throw Error("invalid base256 encoding");if(!Number.isSafeInteger(i))throw Error("parsed number outside of javascript safe integer range");return i});const a=e=>{var t=e.length;var n=0;var i=false;for(var r=t-1;r>-1;r--){var s=e[r];var a;if(i)a=l(s);else if(s===0)a=s;else{i=true;a=u(s)}if(a!==0)n-=a*Math.pow(256,t-r-1)}return n};const o=e=>{var t=e.length;var n=0;for(var i=t-1;i>-1;i--){var r=e[i];if(r!==0)n+=r*Math.pow(256,t-i-1)}return n};const l=e=>(255^e)&255;const u=e=>(255^e)+1&255},870:function(e,t,n){const i=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;const{resolve:r,parse:s}=n(622);const a=e=>{if(/\0/.test(e)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"})}e=r(e);if(i==="win32"){const t=/[*|"<>?:]/;const{root:n}=s(e);if(t.test(e.substr(n.length))){throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}}return e};e.exports=a},885:function(e,t,n){"use strict";t.c=t.create=n(159);t.r=t.replace=n(630);t.t=t.list=n(381);t.u=t.update=n(966);t.x=t.extract=n(656);t.Pack=n(726);t.Unpack=n(63);t.Parse=n(203);t.ReadEntry=n(662);t.WriteEntry=n(303);t.Header=n(232);t.Pax=n(582);t.types=n(554)},891:function(e){"use strict";const t=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);const n=e.exports=(e=>e?Object.keys(e).map(n=>[t.has(n)?t.get(n):n,e[n]]).reduce((e,t)=>(e[t[0]]=t[1],e),Object.create(null)):{})},904:function(e){"use strict";e.exports=((e,t,n)=>{e&=4095;if(n){e=(e|384)&~18}if(t){if(e&256)e|=64;if(e&32)e|=8;if(e&4)e|=1}return e})},941:function(e,t,n){"use strict";const i=n(747);const r=n(622);const s=i.lchown?"lchown":"chown";const a=i.lchownSync?"lchownSync":"chownSync";const o=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const l=(e,t,n)=>{try{return i[a](e,t,n)}catch(e){if(e.code!=="ENOENT")throw e}};const u=(e,t,n)=>{try{return i.chownSync(e,t,n)}catch(e){if(e.code!=="ENOENT")throw e}};const c=o?(e,t,n,r)=>s=>{if(!s||s.code!=="EISDIR")r(s);else i.chown(e,t,n,r)}:(e,t,n,i)=>i;const h=o?(e,t,n)=>{try{return l(e,t,n)}catch(i){if(i.code!=="EISDIR")throw i;u(e,t,n)}}:(e,t,n)=>l(e,t,n);const f=process.version;let d=(e,t,n)=>i.readdir(e,t,n);let m=(e,t)=>i.readdirSync(e,t);if(/^v4\./.test(f))d=((e,t,n)=>i.readdir(e,n));const v=(e,t,n,r)=>{i[s](e,t,n,c(e,t,n,e=>{r(e&&e.code!=="ENOENT"?e:null)}))};const p=(e,t,n,s,a)=>{if(typeof t==="string")return i.lstat(r.resolve(e,t),(i,r)=>{if(i)return a(i.code!=="ENOENT"?i:null);r.name=t;p(e,r,n,s,a)});if(t.isDirectory()){w(r.resolve(e,t.name),n,s,i=>{if(i)return a(i);const o=r.resolve(e,t.name);v(o,n,s,a)})}else{const i=r.resolve(e,t.name);v(i,n,s,a)}};const w=(e,t,n,i)=>{d(e,{withFileTypes:true},(r,s)=>{if(r){if(r.code==="ENOENT")return i();else if(r.code!=="ENOTDIR"&&r.code!=="ENOTSUP")return i(r)}if(r||!s.length)return v(e,t,n,i);let a=s.length;let o=null;const l=r=>{if(o)return;if(r)return i(o=r);if(--a===0)return v(e,t,n,i)};s.forEach(i=>p(e,i,t,n,l))})};const y=(e,t,n,s)=>{if(typeof t==="string"){try{const n=i.lstatSync(r.resolve(e,t));n.name=t;t=n}catch(e){if(e.code==="ENOENT")return;else throw e}}if(t.isDirectory())g(r.resolve(e,t.name),n,s);h(r.resolve(e,t.name),n,s)};const g=(e,t,n)=>{let i;try{i=m(e,{withFileTypes:true})}catch(i){if(i.code==="ENOENT")return;else if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return h(e,t,n);else throw i}if(i&&i.length)i.forEach(i=>y(e,i,t,n));return h(e,t,n)};e.exports=w;w.sync=g},953:function(e,t,n){const i=process.env.__FAKE_PLATFORM__||process.platform;const r=i==="win32";const s=global.__FAKE_TESTING_FS__||n(747);const{O_CREAT:a,O_TRUNC:o,O_WRONLY:l,UV_FS_O_FILEMAP:u=0}=s.constants;const c=r&&!!u;const h=512*1024;const f=u|o|a|l;e.exports=!c?()=>"w":e=>e<h?f:"w"},965:function(e){e.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}Pend.prototype.go=function(e){if(this.pending<this.max){pendGo(this,e)}else{this.waiting.push(e)}};Pend.prototype.wait=function(e){if(this.pending===0){e(this.error)}else{this.listeners.push(e)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(e){e.pending+=1;var t=false;return onCb;function onCb(n){if(t)throw new Error("callback called twice");t=true;e.error=e.error||n;e.pending-=1;if(e.waiting.length>0&&e.pending<e.max){pendGo(e,e.waiting.shift())}else if(e.pending===0){var i=e.listeners;e.listeners=[];i.forEach(cbListener)}}function cbListener(t){t(e.error)}}function pendGo(e,t){t(pendHold(e))}},966:function(e,t,n){"use strict";const i=n(891);const r=n(630);const s=e.exports=((e,t,n)=>{const s=i(e);if(!s.file)throw new TypeError("file is required");if(s.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);a(s);return r(s,t,n)});const a=e=>{const t=e.filter;if(!e.mtimeCache)e.mtimeCache=new Map;e.filter=t?(n,i)=>t(n,i)&&!(e.mtimeCache.get(n)>i.mtime):(t,n)=>!(e.mtimeCache.get(t)>n.mtime)}}});
##############################################
/src/bin/haxeshim.js-1-#!/usr/bin/env node
/src/bin/haxeshim.js:2:module.exports=function(t,e){"use strict";var n={};function __webpack_require__(e){if(n[e]){return n[e].exports}var i=n[e]={i:e,l:false,exports:{}};t[e].call(i.exports,i,i.exports,__webpack_require__);i.l=true;return i.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(560)}return startup()}({60:function(t,e,n){const i=n(761).constants||{ZLIB_VERNUM:4736};t.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},i))},63:function(t,e,n){"use strict";const i=n(357);const r=n(614).EventEmitter;const s=n(203);const o=n(747);const l=n(827);const u=n(622);const a=n(577);const f=a.sync;const c=n(478);const h=n(182);const d=Symbol("onEntry");const v=Symbol("checkFs");const w=Symbol("checkFs2");const p=Symbol("isReusable");const m=Symbol("makeFs");const y=Symbol("file");const b=Symbol("directory");const S=Symbol("link");const R=Symbol("symlink");const O=Symbol("hardlink");const N=Symbol("unsupported");const I=Symbol("unknown");const D=Symbol("checkPath");const L=Symbol("mkdir");const A=Symbol("onError");const C=Symbol("pending");const B=Symbol("pend");const k=Symbol("unpend");const T=Symbol("ended");const E=Symbol("maybeClose");const M=Symbol("skip");const F=Symbol("doChown");const U=Symbol("uid");const z=Symbol("gid");const P=n(417);const W=n(953);const G=()=>{throw new Error("sync function called cb somehow?!?")};const Y=(t,e)=>{if(process.platform!=="win32")return o.unlink(t,e);const n=t+".DELETE."+P.randomBytes(16).toString("hex");o.rename(t,n,t=>{if(t)return e(t);o.unlink(n,e)})};const Z=t=>{if(process.platform!=="win32")return o.unlinkSync(t);const e=t+".DELETE."+P.randomBytes(16).toString("hex");o.renameSync(t,e);o.unlinkSync(e)};const V=(t,e,n)=>t===t>>>0?t:e===e>>>0?e:n;class Unpack extends s{constructor(t){if(!t)t={};t.ondone=(t=>{this[T]=true;this[E]()});super(t);this.reservations=h();this.transform=typeof t.transform==="function"?t.transform:null;this.writable=true;this.readable=false;this[C]=0;this[T]=false;this.dirCache=t.dirCache||new Map;if(typeof t.uid==="number"||typeof t.gid==="number"){if(typeof t.uid!=="number"||typeof t.gid!=="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid;this.gid=t.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(t.preserveOwner===undefined&&typeof t.uid!=="number")this.preserveOwner=process.getuid&&process.getuid()===0;else this.preserveOwner=!!t.preserveOwner;this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=t.forceChown===true;this.win32=!!t.win32||process.platform==="win32";this.newer=!!t.newer;this.keep=!!t.keep;this.noMtime=!!t.noMtime;this.preservePaths=!!t.preservePaths;this.unlink=!!t.unlink;this.cwd=u.resolve(t.cwd||process.cwd());this.strip=+t.strip||0;this.processUmask=process.umask();this.umask=typeof t.umask==="number"?t.umask:this.processUmask;this.dmode=t.dmode||511&~this.umask;this.fmode=t.fmode||438&~this.umask;this.on("entry",t=>this[d](t))}warn(t,e,n={}){if(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")n.recoverable=false;return super.warn(t,e,n)}[E](){if(this[T]&&this[C]===0){this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")}}[D](t){if(this.strip){const e=t.path.split(/\/|\\/);if(e.length<this.strip)return false;t.path=e.slice(this.strip).join("/");if(t.type==="Link"){const e=t.linkpath.split(/\/|\\/);if(e.length>=this.strip)t.linkpath=e.slice(this.strip).join("/")}}if(!this.preservePaths){const e=t.path;if(e.match(/(^|\/|\\)\.\.(\\|\/|$)/)){this.warn("TAR_ENTRY_ERROR",`path contains '..'`,{entry:t,path:e});return false}if(u.win32.isAbsolute(e)){const n=u.win32.parse(e);t.path=e.substr(n.root.length);const i=n.root;this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:e})}}if(this.win32){const e=u.win32.parse(t.path);t.path=e.root===""?c.encode(t.path):e.root+c.encode(t.path.substr(e.root.length))}if(u.isAbsolute(t.path))t.absolute=t.path;else t.absolute=u.resolve(this.cwd,t.path);return true}[d](t){if(!this[D](t))return t.resume();i.equal(typeof t.absolute,"string");switch(t.type){case"Directory":case"GNUDumpDir":if(t.mode)t.mode=t.mode|448;case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[v](t);case"CharacterDevice":case"BlockDevice":case"FIFO":return this[N](t)}}[A](t,e){if(t.name==="CwdError")this.emit("error",t);else{this.warn("TAR_ENTRY_ERROR",t,{entry:e});this[k]();e.resume()}}[L](t,e,n){a(t,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e},n)}[F](t){return this.forceChown||this.preserveOwner&&(typeof t.uid==="number"&&t.uid!==this.processUid||typeof t.gid==="number"&&t.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[U](t){return V(this.uid,t.uid,this.processUid)}[z](t){return V(this.gid,t.gid,this.processGid)}[y](t,e){const n=t.mode&4095||this.fmode;const i=new l.WriteStream(t.absolute,{flags:W(t.size),mode:n,autoClose:false});i.on("error",e=>this[A](e,t));let r=1;const s=n=>{if(n)return this[A](n,t);if(--r===0){o.close(i.fd,n=>{e();n?this[A](n,t):this[k]()})}};i.on("finish",e=>{const n=t.absolute;const l=i.fd;if(t.mtime&&!this.noMtime){r++;const e=t.atime||new Date;const i=t.mtime;o.futimes(l,e,i,t=>t?o.utimes(n,e,i,e=>s(e&&t)):s())}if(this[F](t)){r++;const e=this[U](t);const i=this[z](t);o.fchown(l,e,i,t=>t?o.chown(n,e,i,e=>s(e&&t)):s())}s()});const u=this.transform?this.transform(t)||t:t;if(u!==t){u.on("error",e=>this[A](e,t));t.pipe(u)}u.pipe(i)}[b](t,e){const n=t.mode&4095||this.dmode;this[L](t.absolute,n,n=>{if(n){e();return this[A](n,t)}let i=1;const r=n=>{if(--i===0){e();this[k]();t.resume()}};if(t.mtime&&!this.noMtime){i++;o.utimes(t.absolute,t.atime||new Date,t.mtime,r)}if(this[F](t)){i++;o.chown(t.absolute,this[U](t),this[z](t),r)}r()})}[N](t){t.unsupported=true;this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t});t.resume()}[R](t,e){this[S](t,t.linkpath,"symlink",e)}[O](t,e){this[S](t,u.resolve(this.cwd,t.linkpath),"link",e)}[B](){this[C]++}[k](){this[C]--;this[E]()}[M](t){this[k]();t.resume()}[p](t,e){return t.type==="File"&&!this.unlink&&e.isFile()&&e.nlink<=1&&process.platform!=="win32"}[v](t){this[B]();const e=[t.path];if(t.linkpath)e.push(t.linkpath);this.reservations.reserve(e,e=>this[w](t,e))}[w](t,e){this[L](u.dirname(t.absolute),this.dmode,n=>{if(n){e();return this[A](n,t)}o.lstat(t.absolute,(n,i)=>{if(i&&(this.keep||this.newer&&i.mtime>t.mtime)){this[M](t);e()}else if(n||this[p](t,i)){this[m](null,t,e)}else if(i.isDirectory()){if(t.type==="Directory"){if(!t.mode||(i.mode&4095)===t.mode)this[m](null,t,e);else o.chmod(t.absolute,t.mode,n=>this[m](n,t,e))}else o.rmdir(t.absolute,n=>this[m](n,t,e))}else Y(t.absolute,n=>this[m](n,t,e))})})}[m](t,e,n){if(t)return this[A](t,e);switch(e.type){case"File":case"OldFile":case"ContiguousFile":return this[y](e,n);case"Link":return this[O](e,n);case"SymbolicLink":return this[R](e,n);case"Directory":case"GNUDumpDir":return this[b](e,n)}}[S](t,e,n,i){o[n](e,t.absolute,e=>{if(e)return this[A](e,t);i();this[k]();t.resume()})}}class UnpackSync extends Unpack{constructor(t){super(t)}[v](t){const e=this[L](u.dirname(t.absolute),this.dmode,G);if(e)return this[A](e,t);try{const n=o.lstatSync(t.absolute);if(this.keep||this.newer&&n.mtime>t.mtime)return this[M](t);else if(this[p](t,n))return this[m](null,t,G);else{try{if(n.isDirectory()){if(t.type==="Directory"){if(t.mode&&(n.mode&4095)!==t.mode)o.chmodSync(t.absolute,t.mode)}else o.rmdirSync(t.absolute)}else Z(t.absolute);return this[m](null,t,G)}catch(e){return this[A](e,t)}}}catch(e){return this[m](null,t,G)}}[y](t,e){const n=t.mode&4095||this.fmode;const i=e=>{let n;try{o.closeSync(s)}catch(t){n=t}if(e||n)this[A](e||n,t)};let r;let s;try{s=o.openSync(t.absolute,W(t.size),n)}catch(t){return i(t)}const l=this.transform?this.transform(t)||t:t;if(l!==t){l.on("error",e=>this[A](e,t));t.pipe(l)}l.on("data",t=>{try{o.writeSync(s,t,0,t.length)}catch(t){i(t)}});l.on("end",e=>{let n=null;if(t.mtime&&!this.noMtime){const e=t.atime||new Date;const i=t.mtime;try{o.futimesSync(s,e,i)}catch(r){try{o.utimesSync(t.absolute,e,i)}catch(t){n=r}}}if(this[F](t)){const e=this[U](t);const i=this[z](t);try{o.fchownSync(s,e,i)}catch(r){try{o.chownSync(t.absolute,e,i)}catch(t){n=n||r}}}i(n)})}[b](t,e){const n=t.mode&4095||this.dmode;const i=this[L](t.absolute,n);if(i)return this[A](i,t);if(t.mtime&&!this.noMtime){try{o.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch(i){}}if(this[F](t)){try{o.chownSync(t.absolute,this[U](t),this[z](t))}catch(i){}}t.resume()}[L](t,e){try{return a.sync(t,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e})}catch(t){return t}}[S](t,e,n,i){try{o[n+"Sync"](e,t.absolute);t.resume()}catch(e){return this[A](e,t)}}}Unpack.Sync=UnpackSync;t.exports=Unpack},92:function(t,e,n){const{dirname:i}=n(622);const r=(t,e,n=undefined)=>{if(n===e)return Promise.resolve();return t.statAsync(e).then(t=>t.isDirectory()?n:undefined,n=>n.code==="ENOENT"?r(t,i(e),e):undefined)};const s=(t,e,n=undefined)=>{if(n===e)return undefined;try{return t.statSync(e).isDirectory()?n:undefined}catch(n){return n.code==="ENOENT"?s(t,i(e),e):undefined}};t.exports={findMade:r,findMadeSync:s}},93:function(t,e,n){var i=n(413).Stream;t.exports=legacy;function legacy(t){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(e,n){if(!(this instanceof ReadStream))return new ReadStream(e,n);i.call(this);var r=this;this.path=e;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;n=n||{};var s=Object.keys(n);for(var o=0,l=s.length;o<l;o++){var u=s[o];this[u]=n[u]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick(function(){r._read()});return}t.open(this.path,this.flags,this.mode,function(t,e){if(t){r.emit("error",t);r.readable=false;return}r.fd=e;r.emit("open",e);r._read()})}function WriteStream(e,n){if(!(this instanceof WriteStream))return new WriteStream(e,n);i.call(this);this.path=e;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;n=n||{};var r=Object.keys(n);for(var s=0,o=r.length;s<o;s++){var l=r[s];this[l]=n[l]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=t.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},129:function(t){t.exports=require("child_process")},133:function(t,e,n){"use strict";const i=n(357);const r=n(293).Buffer;const s=n(761);const o=e.constants=n(60);const l=n(720);const u=r.concat;const a=Symbol("_superWrite");class ZlibError extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code;this.errno=t.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+t.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const f=Symbol("opts");const c=Symbol("flushFlag");const h=Symbol("finishFlushFlag");const d=Symbol("fullFlushFlag");const v=Symbol("handle");const w=Symbol("onError");const p=Symbol("sawError");const m=Symbol("level");const y=Symbol("strategy");const b=Symbol("ended");const S=Symbol("_defaultFullFlush");class ZlibBase extends l{constructor(t,e){if(!t||typeof t!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[b]=false;this[f]=t;this[c]=t.flush;this[h]=t.finishFlush;try{this[v]=new s[e](t)}catch(t){throw new ZlibError(t)}this[w]=(t=>{this[p]=true;this.close();this.emit("error",t)});this[v].on("error",t=>this[w](new ZlibError(t)));this.once("end",()=>this.close)}close(){if(this[v]){this[v].close();this[v]=null;this.emit("close")}}reset(){if(!this[p]){i(this[v],"zlib binding closed");return this[v].reset()}}flush(t){if(this.ended)return;if(typeof t!=="number")t=this[d];this.write(Object.assign(r.alloc(0),{[c]:t}))}end(t,e,n){if(t)this.write(t,e);this.flush(this[h]);this[b]=true;return super.end(null,null,n)}get ended(){return this[b]}write(t,e,n){if(typeof e==="function")n=e,e="utf8";if(typeof t==="string")t=r.from(t,e);if(this[p])return;i(this[v],"zlib binding closed");const s=this[v]._handle;const o=s.close;s.close=(()=>{});const l=this[v].close;this[v].close=(()=>{});r.concat=(t=>t);let f;try{const e=typeof t[c]==="number"?t[c]:this[c];f=this[v]._processChunk(t,e);r.concat=u}catch(t){r.concat=u;this[w](new ZlibError(t))}finally{if(this[v]){this[v]._handle=s;s.close=o;this[v].close=l;this[v].removeAllListeners("error")}}let h;if(f){if(Array.isArray(f)&&f.length>0){h=this[a](r.from(f[0]));for(let t=1;t<f.length;t++){h=this[a](f[t])}}else{h=this[a](r.from(f))}}if(n)n();return h}[a](t){return super.write(t)}}class Zlib extends ZlibBase{constructor(t,e){t=t||{};t.flush=t.flush||o.Z_NO_FLUSH;t.finishFlush=t.finishFlush||o.Z_FINISH;super(t,e);this[d]=o.Z_FULL_FLUSH;this[m]=t.level;this[y]=t.strategy}params(t,e){if(this[p])return;if(!this[v])throw new Error("cannot switch params when binding is closed");if(!this[v].params)throw new Error("not supported in this implementation");if(this[m]!==t||this[y]!==e){this.flush(o.Z_SYNC_FLUSH);i(this[v],"zlib binding closed");const n=this[v].flush;this[v].flush=((t,e)=>{this.flush(t);e()});try{this[v].params(t,e)}finally{this[v].flush=n}if(this[v]){this[m]=t;this[y]=e}}}}class Deflate extends Zlib{constructor(t){super(t,"Deflate")}}class Inflate extends Zlib{constructor(t){super(t,"Inflate")}}const R=Symbol("_portable");class Gzip extends Zlib{constructor(t){super(t,"Gzip");this[R]=t&&!!t.portable}[a](t){if(!this[R])return super[a](t);this[R]=false;t[9]=255;return super[a](t)}}class Gunzip extends Zlib{constructor(t){super(t,"Gunzip")}}class DeflateRaw extends Zlib{constructor(t){super(t,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(t){super(t,"InflateRaw")}}class Unzip extends Zlib{constructor(t){super(t,"Unzip")}}class Brotli extends ZlibBase{constructor(t,e){t=t||{};t.flush=t.flush||o.BROTLI_OPERATION_PROCESS;t.finishFlush=t.finishFlush||o.BROTLI_OPERATION_FINISH;super(t,e);this[d]=o.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(t){super(t,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(t){super(t,"BrotliDecompress")}}e.Deflate=Deflate;e.Inflate=Inflate;e.Gzip=Gzip;e.Gunzip=Gunzip;e.DeflateRaw=DeflateRaw;e.InflateRaw=InflateRaw;e.Unzip=Unzip;if(typeof s.BrotliCompress==="function"){e.BrotliCompress=BrotliCompress;e.BrotliDecompress=BrotliDecompress}else{e.BrotliCompress=e.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},159:function(t,e,n){"use strict";const i=n(891);const r=n(726);const s=n(747);const o=n(827);const l=n(381);const u=n(622);const a=t.exports=((t,e,n)=>{if(typeof e==="function")n=e;if(Array.isArray(t))e=t,t={};if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);const r=i(t);if(r.sync&&typeof n==="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n==="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?f(r,e):r.file?c(r,e,n):r.sync?v(r,e):w(r,e)});const f=(t,e)=>{const n=new r.Sync(t);const i=new o.WriteStreamSync(t.file,{mode:t.mode||438});n.pipe(i);h(n,e)};const c=(t,e,n)=>{const i=new r(t);const s=new o.WriteStream(t.file,{mode:t.mode||438});i.pipe(s);const l=new Promise((t,e)=>{s.on("error",e);s.on("close",t);i.on("error",e)});d(i,e);return n?l.then(n,n):l};const h=(t,e)=>{e.forEach(e=>{if(e.charAt(0)==="@")l({file:u.resolve(t.cwd,e.substr(1)),sync:true,noResume:true,onentry:e=>t.add(e)});else t.add(e)});t.end()};const d=(t,e)=>{while(e.length){const n=e.shift();if(n.charAt(0)==="@")return l({file:u.resolve(t.cwd,n.substr(1)),noResume:true,onentry:e=>t.add(e)}).then(n=>d(t,e));else t.add(n)}t.end()};const v=(t,e)=>{const n=new r.Sync(t);h(n,e);return n};const w=(t,e)=>{const n=new r(t);d(n,e);return n}},182:function(t,e,n){const i=n(357);t.exports=(()=>{const t=new Map;const e=new Map;const{join:r}=n(622);const s=t=>r(t).split(/[\\\/]/).slice(0,-1).reduce((t,e)=>t.length?t.concat(r(t[t.length-1],e)):[e],[]);const o=new Set;const l=n=>{const i=e.get(n);if(!i)throw new Error("function does not have any path reservations");return{paths:i.paths.map(e=>t.get(e)),dirs:[...i.dirs].map(e=>t.get(e))}};const u=t=>{const{paths:e,dirs:n}=l(t);return e.every(e=>e[0]===t)&&n.every(e=>e[0]instanceof Set&&e[0].has(t))};const a=t=>{if(o.has(t)||!u(t))return false;o.add(t);t(()=>f(t));return true};const f=n=>{if(!o.has(n))return false;const{paths:r,dirs:s}=e.get(n);const l=new Set;r.forEach(e=>{const r=t.get(e);i.equal(r[0],n);if(r.length===1)t.delete(e);else{r.shift();if(typeof r[0]==="function")l.add(r[0]);else r[0].forEach(t=>l.add(t))}});s.forEach(e=>{const r=t.get(e);i(r[0]instanceof Set);if(r[0].size===1&&r.length===1){t.delete(e)}else if(r[0].size===1){r.shift();l.add(r[0])}else r[0].delete(n)});o.delete(n);l.forEach(t=>a(t));return true};const c=(n,i)=>{const r=new Set(n.map(t=>s(t)).reduce((t,e)=>t.concat(e)));e.set(i,{dirs:r,paths:n});n.forEach(e=>{const n=t.get(e);if(!n)t.set(e,[i]);else n.push(i)});r.forEach(e=>{const n=t.get(e);if(!n)t.set(e,[new Set([i])]);else if(n[n.length-1]instanceof Set)n[n.length-1].add(i);else n.push(new Set([i]))});return a(i)};return{check:u,reserve:c}})},203:function(t,e,n){"use strict";const i=n(796);const r=n(622);const s=n(232);const o=n(614);const l=n(612);const u=1024*1024;const a=n(662);const f=n(582);const c=n(133);const h=Buffer.from([31,139]);const d=Symbol("state");const v=Symbol("writeEntry");const w=Symbol("readEntry");const p=Symbol("nextEntry");const m=Symbol("processEntry");const y=Symbol("extendedHeader");const b=Symbol("globalExtendedHeader");const S=Symbol("meta");const R=Symbol("emitMeta");const O=Symbol("buffer");const N=Symbol("queue");const I=Symbol("ended");const D=Symbol("emittedEnd");const L=Symbol("emit");const A=Symbol("unzip");const C=Symbol("consumeChunk");const B=Symbol("consumeChunkSub");const k=Symbol("consumeBody");const T=Symbol("consumeMeta");const E=Symbol("consumeHeader");const M=Symbol("consuming");const F=Symbol("bufferConcat");const U=Symbol("maybeEnd");const z=Symbol("writing");const P=Symbol("aborted");const W=Symbol("onDone");const G=Symbol("sawValidEntry");const Y=Symbol("sawNullBlock");const Z=Symbol("sawEOF");const V=t=>true;t.exports=i(class Parser extends o{constructor(t){t=t||{};super(t);this.file=t.file||"";this[G]=null;this.on(W,t=>{if(this[d]==="begin"||this[G]===false){this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}});if(t.ondone)this.on(W,t.ondone);else this.on(W,t=>{this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")});this.strict=!!t.strict;this.maxMetaEntrySize=t.maxMetaEntrySize||u;this.filter=typeof t.filter==="function"?t.filter:V;this.writable=true;this.readable=false;this[N]=new l;this[O]=null;this[w]=null;this[v]=null;this[d]="begin";this[S]="";this[y]=null;this[b]=null;this[I]=false;this[A]=null;this[P]=false;this[Y]=false;this[Z]=false;if(typeof t.onwarn==="function")this.on("warn",t.onwarn);if(typeof t.onentry==="function")this.on("entry",t.onentry)}[E](t,e){if(this[G]===null)this[G]=false;let n;try{n=new s(t,e,this[y],this[b])}catch(t){return this.warn("TAR_ENTRY_INVALID",t)}if(n.nullBlock){if(this[Y]){this[Z]=true;if(this[d]==="begin")this[d]="header";this[L]("eof")}else{this[Y]=true;this[L]("nullBlock")}}else{this[Y]=false;if(!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{const t=n.type;if(/^(Symbolic)?Link$/.test(t)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(t)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{const t=this[v]=new a(n,this[y],this[b]);if(!this[G]){if(t.remain){const e=()=>{if(!t.invalid)this[G]=true};t.on("end",e)}else{this[G]=true}}if(t.meta){if(t.size>this.maxMetaEntrySize){t.ignore=true;this[L]("ignoredEntry",t);this[d]="ignore";t.resume()}else if(t.size>0){this[S]="";t.on("data",t=>this[S]+=t);this[d]="meta"}}else{this[y]=null;t.ignore=t.ignore||!this.filter(t.path,t);if(t.ignore){this[L]("ignoredEntry",t);this[d]=t.remain?"ignore":"header";t.resume()}else{if(t.remain)this[d]="body";else{this[d]="header";t.end()}if(!this[w]){this[N].push(t);this[p]()}else this[N].push(t)}}}}}}[m](t){let e=true;if(!t){this[w]=null;e=false}else if(Array.isArray(t))this.emit.apply(this,t);else{this[w]=t;this.emit("entry",t);if(!t.emittedEnd){t.on("end",t=>this[p]());e=false}}return e}[p](){do{}while(this[m](this[N].shift()));if(!this[N].length){const t=this[w];const e=!t||t.flowing||t.size===t.remain;if(e){if(!this[z])this.emit("drain")}else t.once("drain",t=>this.emit("drain"))}}[k](t,e){const n=this[v];const i=n.blockRemain;const r=i>=t.length&&e===0?t:t.slice(e,e+i);n.write(r);if(!n.blockRemain){this[d]="header";this[v]=null;n.end()}return r.length}[T](t,e){const n=this[v];const i=this[k](t,e);if(!this[v])this[R](n);return i}[L](t,e,n){if(!this[N].length&&!this[w])this.emit(t,e,n);else this[N].push([t,e,n])}[R](t){this[L]("meta",this[S]);switch(t.type){case"ExtendedHeader":case"OldExtendedHeader":this[y]=f.parse(this[S],this[y],false);break;case"GlobalExtendedHeader":this[b]=f.parse(this[S],this[b],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[y]=this[y]||Object.create(null);this[y].path=this[S].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[y]=this[y]||Object.create(null);this[y].linkpath=this[S].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[P]=true;this.emit("abort",t);this.warn("TAR_ABORT",t,{recoverable:false})}write(t){if(this[P])return;if(this[A]===null&&t){if(this[O]){t=Buffer.concat([this[O],t]);this[O]=null}if(t.length<h.length){this[O]=t;return true}for(let e=0;this[A]===null&&e<h.length;e++){if(t[e]!==h[e])this[A]=false}if(this[A]===null){const e=this[I];this[I]=false;this[A]=new c.Unzip;this[A].on("data",t=>this[C](t));this[A].on("error",t=>this.abort(t));this[A].on("end",t=>{this[I]=true;this[C]()});this[z]=true;const n=this[A][e?"end":"write"](t);this[z]=false;return n}}this[z]=true;if(this[A])this[A].write(t);else this[C](t);this[z]=false;const e=this[N].length?false:this[w]?this[w].flowing:true;if(!e&&!this[N].length)this[w].once("drain",t=>this.emit("drain"));return e}[F](t){if(t&&!this[P])this[O]=this[O]?Buffer.concat([this[O],t]):t}[U](){if(this[I]&&!this[D]&&!this[P]&&!this[M]){this[D]=true;const t=this[v];if(t&&t.blockRemain){const e=this[O]?this[O].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${e} available)`,{entry:t});if(this[O])t.write(this[O]);t.end()}this[L](W)}}[C](t){if(this[M])this[F](t);else if(!t&&!this[O])this[U]();else{this[M]=true;if(this[O]){this[F](t);const e=this[O];this[O]=null;this[B](e)}else{this[B](t)}while(this[O]&&this[O].length>=512&&!this[P]&&!this[Z]){const t=this[O];this[O]=null;this[B](t)}this[M]=false}if(!this[O]||this[I])this[U]()}[B](t){let e=0;let n=t.length;while(e+512<=n&&!this[P]&&!this[Z]){switch(this[d]){case"begin":case"header":this[E](t,e);e+=512;break;case"ignore":case"body":e+=this[k](t,e);break;case"meta":e+=this[T](t,e);break;default:throw new Error("invalid state: "+this[d])}}if(e<n){if(this[O])this[O]=Buffer.concat([t.slice(e),this[O]]);else this[O]=t.slice(e)}}end(t){if(!this[P]){if(this[A])this[A].end(t);else{this[I]=true;this.write(t)}}}})},211:function(t){t.exports=require("https")},232:function(t,e,n){"use strict";const i=n(554);const r=n(622).posix;const s=n(858);const o=Symbol("slurp");const l=Symbol("type");class Header{constructor(t,e,n,i){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[l]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(Buffer.isBuffer(t))this.decode(t,e||0,n,i);else if(t)this.set(t)}decode(t,e,n,i){if(!e)e=0;if(!t||!(t.length>=e+512))throw new Error("need 512 bytes for header");this.path=a(t,e,100);this.mode=h(t,e+100,8);this.uid=h(t,e+108,8);this.gid=h(t,e+116,8);this.size=h(t,e+124,12);this.mtime=f(t,e+136,12);this.cksum=h(t,e+148,12);this[o](n);this[o](i,true);this[l]=a(t,e+156,1);if(this[l]==="")this[l]="0";if(this[l]==="0"&&this.path.substr(-1)==="/")this[l]="5";if(this[l]==="5")this.size=0;this.linkpath=a(t,e+157,100);if(t.slice(e+257,e+265).toString()==="ustar\x0000"){this.uname=a(t,e+265,32);this.gname=a(t,e+297,32);this.devmaj=h(t,e+329,8);this.devmin=h(t,e+337,8);if(t[e+475]!==0){const n=a(t,e+345,155);this.path=n+"/"+this.path}else{const n=a(t,e+345,130);if(n)this.path=n+"/"+this.path;this.atime=f(t,e+476,12);this.ctime=f(t,e+488,12)}}let r=8*32;for(let n=e;n<e+148;n++){r+=t[n]}for(let n=e+156;n<e+512;n++){r+=t[n]}this.cksumValid=r===this.cksum;if(this.cksum===null&&r===8*32)this.nullBlock=true}[o](t,e){for(let n in t){if(t[n]!==null&&t[n]!==undefined&&!(e&&n==="path"))this[n]=t[n]}}encode(t,e){if(!t){t=this.block=Buffer.alloc(512);e=0}if(!e)e=0;if(!(t.length>=e+512))throw new Error("need 512 bytes for header");const n=this.ctime||this.atime?130:155;const i=u(this.path||"",n);const r=i[0];const s=i[1];this.needPax=i[2];this.needPax=O(t,e,100,r)||this.needPax;this.needPax=p(t,e+100,8,this.mode)||this.needPax;this.needPax=p(t,e+108,8,this.uid)||this.needPax;this.needPax=p(t,e+116,8,this.gid)||this.needPax;this.needPax=p(t,e+124,12,this.size)||this.needPax;this.needPax=S(t,e+136,12,this.mtime)||this.needPax;t[e+156]=this[l].charCodeAt(0);this.needPax=O(t,e+157,100,this.linkpath)||this.needPax;t.write("ustar\x0000",e+257,8);this.needPax=O(t,e+265,32,this.uname)||this.needPax;this.needPax=O(t,e+297,32,this.gname)||this.needPax;this.needPax=p(t,e+329,8,this.devmaj)||this.needPax;this.needPax=p(t,e+337,8,this.devmin)||this.needPax;this.needPax=O(t,e+345,n,s)||this.needPax;if(t[e+475]!==0)this.needPax=O(t,e+345,155,s)||this.needPax;else{this.needPax=O(t,e+345,130,s)||this.needPax;this.needPax=S(t,e+476,12,this.atime)||this.needPax;this.needPax=S(t,e+488,12,this.ctime)||this.needPax}let o=8*32;for(let n=e;n<e+148;n++){o+=t[n]}for(let n=e+156;n<e+512;n++){o+=t[n]}this.cksum=o;p(t,e+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(t){for(let e in t){if(t[e]!==null&&t[e]!==undefined)this[e]=t[e]}}get type(){return i.name.get(this[l])||this[l]}get typeKey(){return this[l]}set type(t){if(i.code.has(t))this[l]=i.code.get(t);else this[l]=t}}const u=(t,e)=>{const n=100;let i=t;let s="";let o;const l=r.parse(t).root||".";if(Buffer.byteLength(i)<n)o=[i,s,false];else{s=r.dirname(i);i=r.basename(i);do{if(Buffer.byteLength(i)<=n&&Buffer.byteLength(s)<=e)o=[i,s,false];else if(Buffer.byteLength(i)>n&&Buffer.byteLength(s)<=e)o=[i.substr(0,n-1),s,true];else{i=r.join(r.basename(s),i);s=r.dirname(s)}}while(s!==l&&!o);if(!o)o=[t.substr(0,n-1),"",true]}return o};const a=(t,e,n)=>t.slice(e,e+n).toString("utf8").replace(/\0.*/,"");const f=(t,e,n)=>c(h(t,e,n));const c=t=>t===null?null:new Date(t*1e3);const h=(t,e,n)=>t[e]&128?s.parse(t.slice(e,e+n)):v(t,e,n);const d=t=>isNaN(t)?null:t;const v=(t,e,n)=>d(parseInt(t.slice(e,e+n).toString("utf8").replace(/\0.*$/,"").trim(),8));const w={12:8589934591,8:2097151};const p=(t,e,n,i)=>i===null?false:i>w[n]||i<0?(s.encode(i,t.slice(e,e+n)),true):(m(t,e,n,i),false);const m=(t,e,n,i)=>t.write(y(i,n),e,n,"ascii");const y=(t,e)=>b(Math.floor(t).toString(8),e);const b=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0";const S=(t,e,n,i)=>i===null?false:p(t,e,n,i.getTime()/1e3);const R=new Array(156).join("\0");const O=(t,e,n,i)=>i===null?false:(t.write(i+R,e,n,"utf8"),i.length!==Buffer.byteLength(i)||i.length>n);t.exports=Header},250:function(t,e,n){var i=n(619);var r=process.cwd;var s=null;var o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!s)s=r.call(process);return s};try{process.cwd()}catch(t){}var l=process.chdir;process.chdir=function(t){s=null;l.call(process,t)};t.exports=patch;function patch(t){if(i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(t)}if(!t.lutimes){patchLutimes(t)}t.chown=chownFix(t.chown);t.fchown=chownFix(t.fchown);t.lchown=chownFix(t.lchown);t.chmod=chmodFix(t.chmod);t.fchmod=chmodFix(t.fchmod);t.lchmod=chmodFix(t.lchmod);t.chownSync=chownFixSync(t.chownSync);t.fchownSync=chownFixSync(t.fchownSync);t.lchownSync=chownFixSync(t.lchownSync);t.chmodSync=chmodFixSync(t.chmodSync);t.fchmodSync=chmodFixSync(t.fchmodSync);t.lchmodSync=chmodFixSync(t.lchmodSync);t.stat=statFix(t.stat);t.fstat=statFix(t.fstat);t.lstat=statFix(t.lstat);t.statSync=statFixSync(t.statSync);t.fstatSync=statFixSync(t.fstatSync);t.lstatSync=statFixSync(t.lstatSync);if(!t.lchmod){t.lchmod=function(t,e,n){if(n)process.nextTick(n)};t.lchmodSync=function(){}}if(!t.lchown){t.lchown=function(t,e,n,i){if(i)process.nextTick(i)};t.lchownSync=function(){}}if(o==="win32"){t.rename=function(e){return function(n,i,r){var s=Date.now();var o=0;e(n,i,function CB(l){if(l&&(l.code==="EACCES"||l.code==="EPERM")&&Date.now()-s<6e4){setTimeout(function(){t.stat(i,function(t,s){if(t&&t.code==="ENOENT")e(n,i,CB);else r(l)})},o);if(o<100)o+=10;return}if(r)r(l)})}}(t.rename)}t.read=function(e){function read(n,i,r,s,o,l){var u;if(l&&typeof l==="function"){var a=0;u=function(f,c,h){if(f&&f.code==="EAGAIN"&&a<10){a++;return e.call(t,n,i,r,s,o,u)}l.apply(this,arguments)}}return e.call(t,n,i,r,s,o,u)}read.__proto__=e;return read}(t.read);t.readSync=function(e){return function(n,i,r,s,o){var l=0;while(true){try{return e.call(t,n,i,r,s,o)}catch(t){if(t.code==="EAGAIN"&&l<10){l++;continue}throw t}}}}(t.readSync);function patchLchmod(t){t.lchmod=function(e,n,r){t.open(e,i.O_WRONLY|i.O_SYMLINK,n,function(e,i){if(e){if(r)r(e);return}t.fchmod(i,n,function(e){t.close(i,function(t){if(r)r(e||t)})})})};t.lchmodSync=function(e,n){var r=t.openSync(e,i.O_WRONLY|i.O_SYMLINK,n);var s=true;var o;try{o=t.fchmodSync(r,n);s=false}finally{if(s){try{t.closeSync(r)}catch(t){}}else{t.closeSync(r)}}return o}}function patchLutimes(t){if(i.hasOwnProperty("O_SYMLINK")){t.lutimes=function(e,n,r,s){t.open(e,i.O_SYMLINK,function(e,i){if(e){if(s)s(e);return}t.futimes(i,n,r,function(e){t.close(i,function(t){if(s)s(e||t)})})})};t.lutimesSync=function(e,n,r){var s=t.openSync(e,i.O_SYMLINK);var o;var l=true;try{o=t.futimesSync(s,n,r);l=false}finally{if(l){try{t.closeSync(s)}catch(t){}}else{t.closeSync(s)}}return o}}else{t.lutimes=function(t,e,n,i){if(i)process.nextTick(i)};t.lutimesSync=function(){}}}function chmodFix(e){if(!e)return e;return function(n,i,r){return e.call(t,n,i,function(t){if(chownErOk(t))t=null;if(r)r.apply(this,arguments)})}}function chmodFixSync(e){if(!e)return e;return function(n,i){try{return e.call(t,n,i)}catch(t){if(!chownErOk(t))throw t}}}function chownFix(e){if(!e)return e;return function(n,i,r,s){return e.call(t,n,i,r,function(t){if(chownErOk(t))t=null;if(s)s.apply(this,arguments)})}}function chownFixSync(e){if(!e)return e;return function(n,i,r){try{return e.call(t,n,i,r)}catch(t){if(!chownErOk(t))throw t}}}function statFix(e){if(!e)return e;return function(n,i,r){if(typeof i==="function"){r=i;i=null}function callback(t,e){if(e){if(e.uid<0)e.uid+=4294967296;if(e.gid<0)e.gid+=4294967296}if(r)r.apply(this,arguments)}return i?e.call(t,n,i,callback):e.call(t,n,callback)}}function statFixSync(e){if(!e)return e;return function(n,i){var r=i?e.call(t,n,i):e.call(t,n);if(r.uid<0)r.uid+=4294967296;if(r.gid<0)r.gid+=4294967296;return r}}function chownErOk(t){if(!t)return true;if(t.code==="ENOSYS")return true;var e=!process.getuid||process.getuid()!==0;if(e){if(t.code==="EINVAL"||t.code==="EPERM")return true}return false}}},293:function(t){t.exports=require("buffer")},303:function(t,e,n){"use strict";const i=n(720);const r=n(582);const s=n(232);const o=n(662);const l=n(747);const u=n(622);const a=n(554);const f=16*1024*1024;const c=Symbol("process");const h=Symbol("file");const d=Symbol("directory");const v=Symbol("symlink");const w=Symbol("hardlink");const p=Symbol("header");const m=Symbol("read");const y=Symbol("lstat");const b=Symbol("onlstat");const S=Symbol("onread");const R=Symbol("onreadlink");const O=Symbol("openfile");const N=Symbol("onopenfile");const I=Symbol("close");const D=Symbol("mode");const L=n(796);const A=n(478);const C=n(904);const B=L(class WriteEntry extends i{constructor(t,e){e=e||{};super(e);if(typeof t!=="string")throw new TypeError("path is required");this.path=t;this.portable=!!e.portable;this.myuid=process.getuid&&process.getuid();this.myuser=process.env.USER||"";this.maxReadSize=e.maxReadSize||f;this.linkCache=e.linkCache||new Map;this.statCache=e.statCache||new Map;this.preservePaths=!!e.preservePaths;this.cwd=e.cwd||process.cwd();this.strict=!!e.strict;this.noPax=!!e.noPax;this.noMtime=!!e.noMtime;this.mtime=e.mtime||null;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);let n=false;if(!this.preservePaths&&u.win32.isAbsolute(t)){const e=u.win32.parse(t);this.path=t.substr(e.root.length);n=e.root}this.win32=!!e.win32||process.platform==="win32";if(this.win32){this.path=A.decode(this.path.replace(/\\/g,"/"));t=t.replace(/\\/g,"/")}this.absolute=e.absolute||u.resolve(this.cwd,t);if(this.path==="")this.path="./";if(n){this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path})}if(this.statCache.has(this.absolute))this[b](this.statCache.get(this.absolute));else this[y]()}[y](){l.lstat(this.absolute,(t,e)=>{if(t)return this.emit("error",t);this[b](e)})}[b](t){this.statCache.set(this.absolute,t);this.stat=t;if(!t.isFile())t.size=0;this.type=T(t);this.emit("stat",t);this[c]()}[c](){switch(this.type){case"File":return this[h]();case"Directory":return this[d]();case"SymbolicLink":return this[v]();default:return this.end()}}[D](t){return C(t,this.type==="Directory",this.portable)}[p](){if(this.type==="Directory"&&this.portable)this.noMtime=true;this.header=new s({path:this.path,linkpath:this.linkpath,mode:this[D](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax)this.write(new r({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode());this.write(this.header.block)}[d](){if(this.path.substr(-1)!=="/")this.path+="/";this.stat.size=0;this[p]();this.end()}[v](){l.readlink(this.absolute,(t,e)=>{if(t)return this.emit("error",t);this[R](e)})}[R](t){this.linkpath=t.replace(/\\/g,"/");this[p]();this.end()}[w](t){this.type="Link";this.linkpath=u.relative(this.cwd,t).replace(/\\/g,"/");this.stat.size=0;this[p]();this.end()}[h](){if(this.stat.nlink>1){const t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){const e=this.linkCache.get(t);if(e.indexOf(this.cwd)===0)return this[w](e)}this.linkCache.set(t,this.absolute)}this[p]();if(this.stat.size===0)return this.end();this[O]()}[O](){l.open(this.absolute,"r",(t,e)=>{if(t)return this.emit("error",t);this[N](e)})}[N](t){const e=512*Math.ceil(this.stat.size/512);const n=Math.min(e,this.maxReadSize);const i=Buffer.allocUnsafe(n);this[m](t,i,0,i.length,0,this.stat.size,e)}[m](t,e,n,i,r,s,o){l.read(t,e,n,i,r,(l,u)=>{if(l){return this[I](t,()=>this.emit("error",l))}this[S](t,e,n,i,r,s,o,u)})}[I](t,e){l.close(t,e)}[S](t,e,n,i,r,s,o,l){if(l<=0&&s>0){const e=new Error("encountered unexpected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[I](t,()=>this.emit("error",e))}if(l>s){const e=new Error("did not encounter expected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[I](t,()=>this.emit("error",e))}if(l===s){for(let t=l;t<i&&l<o;t++){e[t+n]=0;l++;s++}}const u=n===0&&l===e.length?e:e.slice(n,n+l);s-=l;o-=l;r+=l;n+=l;this.write(u);if(!s){if(o)this.write(Buffer.alloc(o));return this[I](t,t=>t?this.emit("error",t):this.end())}if(n>=i){e=Buffer.allocUnsafe(i);n=0}i=e.length-n;this[m](t,e,n,i,r,s,o)}});class WriteEntrySync extends B{constructor(t,e){super(t,e)}[y](){this[b](l.lstatSync(this.absolute))}[v](){this[R](l.readlinkSync(this.absolute))}[O](){this[N](l.openSync(this.absolute,"r"))}[m](t,e,n,i,r,s,o){let u=true;try{const a=l.readSync(t,e,n,i,r);this[S](t,e,n,i,r,s,o,a);u=false}finally{if(u)try{this[I](t,()=>{})}catch(t){}}}[I](t,e){l.closeSync(t);e()}}const k=L(class WriteEntryTar extends i{constructor(t,e){e=e||{};super(e);this.preservePaths=!!e.preservePaths;this.portable=!!e.portable;this.strict=!!e.strict;this.noPax=!!e.noPax;this.noMtime=!!e.noMtime;this.readEntry=t;this.type=t.type;if(this.type==="Directory"&&this.portable)this.noMtime=true;this.path=t.path;this.mode=this[D](t.mode);this.uid=this.portable?null:t.uid;this.gid=this.portable?null:t.gid;this.uname=this.portable?null:t.uname;this.gname=this.portable?null:t.gname;this.size=t.size;this.mtime=this.noMtime?null:e.mtime||t.mtime;this.atime=this.portable?null:t.atime;this.ctime=this.portable?null:t.ctime;this.linkpath=t.linkpath;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);let n=false;if(u.isAbsolute(this.path)&&!this.preservePaths){const t=u.parse(this.path);n=t.root;this.path=this.path.substr(t.root.length)}this.remain=t.size;this.blockRemain=t.startBlockSize;this.header=new s({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(n){this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path})}if(this.header.encode()&&!this.noPax)super.write(new r({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode());super.write(this.header.block);t.pipe(this)}[D](t){return C(t,this.type==="Directory",this.portable)}write(t){const e=t.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");this.blockRemain-=e;return super.write(t)}end(){if(this.blockRemain)this.write(Buffer.alloc(this.blockRemain));return super.end()}});B.Sync=WriteEntrySync;B.Tar=k;const T=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";t.exports=B},304:function(t){t.exports=require("string_decoder")},324:function(t,e,n){var i=n(747);var r=n(669);var s=n(413);var o=s.Readable;var l=s.Writable;var u=s.PassThrough;var a=n(965);var f=n(614).EventEmitter;e.createFromBuffer=createFromBuffer;e.createFromFd=createFromFd;e.BufferSlicer=BufferSlicer;e.FdSlicer=FdSlicer;r.inherits(FdSlicer,f);function FdSlicer(t,e){e=e||{};f.call(this);this.fd=t;this.pend=new a;this.pend.max=1;this.refCount=0;this.autoClose=!!e.autoClose}FdSlicer.prototype.read=function(t,e,n,r,s){var o=this;o.pend.go(function(l){i.read(o.fd,t,e,n,r,function(t,e,n){l();s(t,e,n)})})};FdSlicer.prototype.write=function(t,e,n,r,s){var o=this;o.pend.go(function(l){i.write(o.fd,t,e,n,r,function(t,e,n){l();s(t,e,n)})})};FdSlicer.prototype.createReadStream=function(t){return new ReadStream(this,t)};FdSlicer.prototype.createWriteStream=function(t){return new WriteStream(this,t)};FdSlicer.prototype.ref=function(){this.refCount+=1};FdSlicer.prototype.unref=function(){var t=this;t.refCount-=1;if(t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");if(t.autoClose){i.close(t.fd,onCloseDone)}function onCloseDone(e){if(e){t.emit("error",e)}else{t.emit("close")}}};r.inherits(ReadStream,o);function ReadStream(t,e){e=e||{};o.call(this,e);this.context=t;this.context.ref();this.start=e.start||0;this.endOffset=e.end;this.pos=this.start;this.destroyed=false}ReadStream.prototype._read=function(t){var e=this;if(e.destroyed)return;var n=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null){n=Math.min(n,e.endOffset-e.pos)}if(n<=0){e.destroyed=true;e.push(null);e.context.unref();return}e.context.pend.go(function(t){if(e.destroyed)return t();var r=new Buffer(n);i.read(e.context.fd,r,0,n,e.pos,function(n,i){if(n){e.destroy(n)}else if(i===0){e.destroyed=true;e.push(null);e.context.unref()}else{e.pos+=i;e.push(r.slice(0,i))}t()})})};ReadStream.prototype.destroy=function(t){if(this.destroyed)return;t=t||new Error("stream destroyed");this.destroyed=true;this.emit("error",t);this.context.unref()};r.inherits(WriteStream,l);function WriteStream(t,e){e=e||{};l.call(this,e);this.context=t;this.context.ref();this.start=e.start||0;this.endOffset=e.end==null?Infinity:+e.end;this.bytesWritten=0;this.pos=this.start;this.destroyed=false;this.on("finish",this.destroy.bind(this))}WriteStream.prototype._write=function(t,e,n){var r=this;if(r.destroyed)return;if(r.pos+t.length>r.endOffset){var s=new Error("maximum file length exceeded");s.code="ETOOBIG";r.destroy();n(s);return}r.context.pend.go(function(e){if(r.destroyed)return e();i.write(r.context.fd,t,0,t.length,r.pos,function(t,i){if(t){r.destroy();e();n(t)}else{r.bytesWritten+=i;r.pos+=i;r.emit("progress");e();n()}})})};WriteStream.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=true;this.context.unref()};r.inherits(BufferSlicer,f);function BufferSlicer(t,e){f.call(this);e=e||{};this.refCount=0;this.buffer=t;this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}BufferSlicer.prototype.read=function(t,e,n,i,r){var s=i+n;var o=s-this.buffer.length;var l=o>0?o:n;this.buffer.copy(t,e,i,s);setImmediate(function(){r(null,l)})};BufferSlicer.prototype.write=function(t,e,n,i,r){t.copy(this.buffer,i,e,e+n);setImmediate(function(){r(null,n,t)})};BufferSlicer.prototype.createReadStream=function(t){t=t||{};var e=new u(t);e.destroyed=false;e.start=t.start||0;e.endOffset=t.end;e.pos=e.endOffset||this.buffer.length;var n=this.buffer.slice(e.start,e.pos);var i=0;while(true){var r=i+this.maxChunkSize;if(r>=n.length){if(i<n.length){e.write(n.slice(i,n.length))}break}e.write(n.slice(i,r));i=r}e.end();e.destroy=function(){e.destroyed=true};return e};BufferSlicer.prototype.createWriteStream=function(t){var e=this;t=t||{};var n=new l(t);n.start=t.start||0;n.endOffset=t.end==null?this.buffer.length:+t.end;n.bytesWritten=0;n.pos=n.start;n.destroyed=false;n._write=function(t,i,r){if(n.destroyed)return;var s=n.pos+t.length;if(s>n.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG";n.destroyed=true;r(o);return}t.copy(e.buffer,n.pos,0,t.length);n.bytesWritten+=t.length;n.pos=s;n.emit("progress");r()};n.destroy=function(){n.destroyed=true};return n};BufferSlicer.prototype.ref=function(){this.refCount+=1};BufferSlicer.prototype.unref=function(){this.refCount-=1;if(this.refCount<0){throw new Error("invalid unref")}};function createFromBuffer(t,e){return new BufferSlicer(t,e)}function createFromFd(t,e){return new FdSlicer(t,e)}},336:function(t,e,n){const i=n(747);const r=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;const s=r.replace(/^v/,"").split(".");const o=+s[0]>10||+s[0]===10&&+s[1]>=12;const l=!o?()=>false:t=>t.mkdir===i.mkdir;const u=!o?()=>false:t=>t.mkdirSync===i.mkdirSync;t.exports={useNative:l,useNativeSync:u}},357:function(t){t.exports=require("assert")},381:function(t,e,n){"use strict";const i=n(891);const r=n(203);const s=n(747);const o=n(827);const l=n(622);const u=t.exports=((t,e,n)=>{if(typeof t==="function")n=t,e=null,t={};else if(Array.isArray(t))e=t,t={};if(typeof e==="function")n=e,e=null;if(!e)e=[];else e=Array.from(e);const r=i(t);if(r.sync&&typeof n==="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n==="function")throw new TypeError("callback only supported with file option");if(e.length)f(r,e);if(!r.noResume)a(r);return r.file&&r.sync?c(r):r.file?h(r,n):d(r)});const a=t=>{const e=t.onentry;t.onentry=e?t=>{e(t);t.resume()}:t=>t.resume()};const f=(t,e)=>{const n=new Map(e.map(t=>[t.replace(/\/+$/,""),true]));const i=t.filter;const r=(t,e)=>{const i=e||l.parse(t).root||".";const s=t===i?false:n.has(t)?n.get(t):r(l.dirname(t),i);n.set(t,s);return s};t.filter=i?(t,e)=>i(t,e)&&r(t.replace(/\/+$/,"")):t=>r(t.replace(/\/+$/,""))};const c=t=>{const e=d(t);const n=t.file;let i=true;let r;try{const o=s.statSync(n);const l=t.maxReadSize||16*1024*1024;if(o.size<l){e.end(s.readFileSync(n))}else{let t=0;const i=Buffer.allocUnsafe(l);r=s.openSync(n,"r");while(t<o.size){let n=s.readSync(r,i,0,l,t);t+=n;e.write(i.slice(0,n))}e.end()}i=false}finally{if(i&&r)try{s.closeSync(r)}catch(t){}}};const h=(t,e)=>{const n=new r(t);const i=t.maxReadSize||16*1024*1024;const l=t.file;const u=new Promise((t,e)=>{n.on("error",e);n.on("end",t);s.stat(l,(t,r)=>{if(t)e(t);else{const t=new o.ReadStream(l,{readSize:i,size:r.size});t.on("error",e);t.pipe(n)}})});return e?u.then(e,e):u};const d=t=>new r(t)},396:function(t){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next){yield t.value}}}},413:function(t){t.exports=require("stream")},417:function(t){t.exports=require("crypto")},478:function(t){"use strict";const e=["|","<",">","?",":"];const n=e.map(t=>String.fromCharCode(61440+t.charCodeAt(0)));const i=new Map(e.map((t,e)=>[t,n[e]]));const r=new Map(n.map((t,n)=>[t,e[n]]));t.exports={encode:t=>e.reduce((t,e)=>t.split(e).join(i.get(e)),t),decode:t=>n.reduce((t,e)=>t.split(e).join(r.get(e)),t)}},538:function(t,e,n){var i=n(293).Buffer;var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array!=="undefined"){r=new Int32Array(r)}function ensureBuffer(t){if(i.isBuffer(t)){return t}var e=typeof i.alloc==="function"&&typeof i.from==="function";if(typeof t==="number"){return e?i.alloc(t):new i(t)}else if(typeof t==="string"){return e?i.from(t):new i(t)}else{throw new Error("input must be buffer, number, or string, received "+typeof t)}}function bufferizeInt(t){var e=ensureBuffer(4);e.writeInt32BE(t,0);return e}function _crc32(t,e){t=ensureBuffer(t);if(i.isBuffer(e)){e=e.readUInt32BE(0)}var n=~~e^-1;for(var s=0;s<t.length;s++){n=r[(n^t[s])&255]^n>>>8}return n^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};t.exports=crc32},554:function(t,e){"use strict";e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);e.code=new Map(Array.from(e.name).map(t=>[t[1],t[0]]))},560:function(t,e,n){(function(t){"use strict";var e=function(){return a.__string_rec(this,"")},i=i||{},r;function $extend(t,e){var n=Object.create(t);for(var i in e)n[i]=e[i];if(e.toString!==Object.prototype.toString)n.toString=e.toString;return n}var s=i["Attribute"]={__ename__:true,__constructs__:["Off","Bold","Underline","Blink","ReverseVideo","Concealed","BoldOff","UnderlineOff","BlinkOff","NormalVideo","ConcealedOff","Black","Red","Green","Yellow","Blue","Magenta","Cyan","White","DefaultForeground","BlackBack","RedBack","GreenBack","YellowBack","BlueBack","MagentaBack","CyanBack","WhiteBack","DefaultBackground"],Off:{_hx_index:0,__enum__:"Attribute",toString:e},Bold:{_hx_index:1,__enum__:"Attribute",toString:e},Underline:{_hx_index:2,__enum__:"Attribute",toString:e},Blink:{_hx_index:3,__enum__:"Attribute",toString:e},ReverseVideo:{_hx_index:4,__enum__:"Attribute",toString:e},Concealed:{_hx_index:5,__enum__:"Attribute",toString:e},BoldOff:{_hx_index:6,__enum__:"Attribute",toString:e},UnderlineOff:{_hx_index:7,__enum__:"Attribute",toString:e},BlinkOff:{_hx_index:8,__enum__:"Attribute",toString:e},NormalVideo:{_hx_index:9,__enum__:"Attribute",toString:e},ConcealedOff:{_hx_index:10,__enum__:"Attribute",toString:e},Black:{_hx_index:11,__enum__:"Attribute",toString:e},Red:{_hx_index:12,__enum__:"Attribute",toString:e},Green:{_hx_index:13,__enum__:"Attribute",toString:e},Yellow:{_hx_index:14,__enum__:"Attribute",toString:e},Blue:{_hx_index:15,__enum__:"Attribute",toString:e},Magenta:{_hx_index:16,__enum__:"Attribute",toString:e},Cyan:{_hx_index:17,__enum__:"Attribute",toString:e},White:{_hx_index:18,__enum__:"Attribute",toString:e},DefaultForeground:{_hx_index:19,__enum__:"Attribute",toString:e},BlackBack:{_hx_index:20,__enum__:"Attribute",toString:e},RedBack:{_hx_index:21,__enum__:"Attribute",toString:e},GreenBack:{_hx_index:22,__enum__:"Attribute",toString:e},YellowBack:{_hx_index:23,__enum__:"Attribute",toString:e},BlueBack:{_hx_index:24,__enum__:"Attribute",toString:e},MagentaBack:{_hx_index:25,__enum__:"Attribute",toString:e},CyanBack:{_hx_index:26,__enum__:"Attribute",toString:e},WhiteBack:{_hx_index:27,__enum__:"Attribute",toString:e},DefaultBackground:{_hx_index:28,__enum__:"Attribute",toString:e}};var o=function(){};o.__name__=true;o.systemName=function(){var t=process.platform;switch(t){case"darwin":return"Mac";case"freebsd":return"BSD";case"linux":return"Linux";case"win32":return"Windows";default:var e=t;return e}};var l=n(129);var u=function(){};u.__name__=true;u.field=function(t,e){try{return t[e]}catch(t){var n=t instanceof st?t.val:t;return null}};u.fields=function(t){var e=[];if(t!=null){var n=Object.prototype.hasOwnProperty;for(var i in t){if(i!="__id__"&&i!="hx__closures__"&&n.call(t,i)){e.push(i)}}}return e};u.compare=function(t,e){if(t==e){return 0}else if(t>e){return 1}else{return-1}};u.isEnumValue=function(t){if(t!=null){return t.__enum__!=null}else{return false}};u.copy=function(t){if(t==null){return null}var e={};var n=0;var i=u.fields(t);while(n<i.length){var r=i[n];++n;e[r]=u.field(t,r)}return e};var a=function(){};a.__name__=true;a.getClass=function(t){if(t==null){return null}else if(t instanceof Array){return Array}else{var e=t.__class__;if(e!=null){return e}var n=a.__nativeClassName(t);if(n!=null){return a.__resolveNativeClass(n)}return null}};a.__string_rec=function(t,e){if(t==null){return"null"}if(e.length>=5){return"<...>"}var n=typeof t;if(n=="function"&&(t.__name__||t.__ename__)){n="object"}switch(n){case"function":return"<function>";case"object":if(t.__enum__){var r=i[t.__enum__];var s=r.__constructs__[t._hx_index];var o=r[s];if(o.__params__){e=e+"\t";return s+"("+function(n){var i;var r=[];{var s=0;var l=o.__params__;while(true){if(!(s<l.length)){break}var u=l[s];s=s+1;r.push(a.__string_rec(t[u],e))}}i=r;return i}(this).join(",")+")"}else{return s}}if(t instanceof Array){var l="[";e+="\t";var u=0;var f=t.length;while(u<f){var c=u++;l+=(c>0?",":"")+a.__string_rec(t[c],e)}l+="]";return l}var h;try{h=t.toString}catch(t){var d=t instanceof st?t.val:t;return"???"}if(h!=null&&h!=Object.toString&&typeof h=="function"){var v=t.toString();if(v!="[object Object]"){return v}}var w="{\n";e+="\t";var p=t.hasOwnProperty!=null;var m=null;for(m in t){if(p&&!t.hasOwnProperty(m)){continue}if(m=="prototype"||m=="__class__"||m=="__super__"||m=="__interfaces__"||m=="__properties__"){continue}if(w.length!=2){w+=", \n"}w+=e+m+" : "+a.__string_rec(t[m],e)}e=e.substring(1);w+="\n"+e+"}";return w;case"string":return t;default:return String(t)}};a.__interfLoop=function(t,e){if(t==null){return false}if(t==e){return true}if(Object.prototype.hasOwnProperty.call(t,"__interfaces__")){var n=t.__interfaces__;var i=0;var r=n.length;while(i<r){var s=i++;var o=n[s];if(o==e||a.__interfLoop(o,e)){return true}}}return a.__interfLoop(t.__super__,e)};a.__instanceof=function(t,e){if(e==null){return false}switch(e){case Array:return t instanceof Array;case Ht:return typeof t=="boolean";case Kt:return t!=null;case $t:return typeof t=="number";case Qt:if(typeof t=="number"){return(t|0)===t}else{return false}break;case String:return typeof t=="string";default:if(t!=null){if(typeof e=="function"){if(a.__downcastCheck(t,e)){return true}}else if(typeof e=="object"&&a.__isNativeObj(e)){if(t instanceof e){return true}}}else{return false}if(e==xt?t.__name__!=null:false){return true}if(e==gt?t.__ename__!=null:false){return true}return t.__enum__!=null?i[t.__enum__]==e:false}};a.__downcastCheck=function(t,e){if(!(t instanceof e)){if(e.__isInterface__){return a.__interfLoop(a.getClass(t),e)}else{return false}}else{return true}};a.__nativeClassName=function(t){var e=a.__toStr.call(t).slice(8,-1);if(e=="Object"||e=="Function"||e=="Math"||e=="JSON"){return null}return e};a.__isNativeObj=function(t){return a.__nativeClassName(t)!=null};a.__resolveNativeClass=function(e){return t[e]};var f=function(){};f.__name__=true;f.string=function(t){return a.__string_rec(t,"")};f.parseInt=function(t){if(t!=null){var e=0;var n=t.length;while(e<n){var i=e++;var r=t.charCodeAt(i);if(r<=8||r>=14&&r!=32&&r!=45){var s=parseInt(t,t[i+1]=="x"||t[i+1]=="X"?16:10);if(isNaN(s)){return null}else{return s}}}}return null};var c=function(){};c.__name__=true;c.aset=function(t){if(c.strip||c.stripIfUnavailable&&!c.available){return""}var e=""+"[";var n=[];var i=0;while(i<t.length){var r=t[i];++i;if(!a.__instanceof(r,s)){throw new st("Set argument is not an Attribute: "+f.string(r))}n.push(c.values.get(r))}return e+n.join(";")+"m"};c.detectSupport=function(){if(o.systemName().toLowerCase().indexOf("window")==-1){var t=-1;try{t=l.spawnSync("tput",["colors"]).error==null?0:125}catch(t){var e=t instanceof st?t.val:t}return t==0}else{return process.env["ANSICON"]!=null}};var h=function(){};h.__name__=true;h.__format_get=function(t,e){switch(e){case"%":return"%";case"A":return h.DAY_NAMES[t.getDay()];case"B":return h.MONTH_NAMES[t.getMonth()];case"C":return p.lpad(f.string(t.getFullYear()/100|0),"0",2);case"D":return h.__format(t,"%m/%d/%y");case"F":return h.__format(t,"%Y-%m-%d");case"I":case"l":var n=t.getHours()%12;return p.lpad(f.string(n==0?12:n),e=="I"?"0":" ",2);case"M":return p.lpad(f.string(t.getMinutes()),"0",2);case"R":return h.__format(t,"%H:%M");case"S":return p.lpad(f.string(t.getSeconds()),"0",2);case"T":return h.__format(t,"%H:%M:%S");case"Y":return f.string(t.getFullYear());case"a":return h.DAY_SHORT_NAMES[t.getDay()];case"b":case"h":return h.MONTH_SHORT_NAMES[t.getMonth()];case"d":return p.lpad(f.string(t.getDate()),"0",2);case"e":return f.string(t.getDate());case"H":case"k":return p.lpad(f.string(t.getHours()),e=="H"?"0":" ",2);case"m":return p.lpad(f.string(t.getMonth()+1),"0",2);case"n":return"\n";case"p":if(t.getHours()>11){return"PM"}else{return"AM"}break;case"r":return h.__format(t,"%I:%M:%S %p");case"s":return f.string(t.getTime()/1e3|0);case"t":return"\t";case"u":var i=t.getDay();if(i==0){return"7"}else if(i==null){return"null"}else{return""+i}break;case"w":return f.string(t.getDay());case"y":return p.lpad(f.string(t.getFullYear()%100),"0",2);default:throw new st("Date.format %"+e+"- not implemented yet.")}};h.__format=function(t,e){var n="";var i=0;while(true){var r=e.indexOf("%",i);if(r<0){break}var s=r-i;n+=s==null?v.substr(e,i,null):v.substr(e,i,s);n+=f.string(h.__format_get(t,v.substr(e,r+1,1)));i=r+2}var o=e.length-i;n+=o==null?v.substr(e,i,null):v.substr(e,i,o);return n};h.format=function(t,e){return h.__format(t,e)};var d=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};d.__name__=true;d.prototype={match:function(t){if(this.r.global){this.r.lastIndex=0}this.r.m=this.r.exec(t);this.r.s=t;return this.r.m!=null},__class__:d};var v=function(){};v.__name__=true;v.dateStr=function(t){var e=t.getMonth()+1;var n=t.getDate();var i=t.getHours();var r=t.getMinutes();var s=t.getSeconds();return t.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(n<10?"0"+n:""+n)+" "+(i<10?"0"+i:""+i)+":"+(r<10?"0"+r:""+r)+":"+(s<10?"0"+s:""+s)};v.strDate=function(t){switch(t.length){case 8:var e=t.split(":");var n=new Date;n["setTime"](0);n["setUTCHours"](e[0]);n["setUTCMinutes"](e[1]);n["setUTCSeconds"](e[2]);return n;case 10:var i=t.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var r=t.split(" ");var s=r[0].split("-");var o=r[1].split(":");return new Date(s[0],s[1]-1,s[2],o[0],o[1],o[2]);default:throw new st("Invalid date format : "+t)}};v.cca=function(t,e){var n=t.charCodeAt(e);if(n!=n){return undefined}return n};v.substr=function(t,e,n){if(n==null){n=t.length}else if(n<0){if(e==0){n=t.length+n}else{return""}}return t.substr(e,n)};v.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var w=function(){};w.__name__=true;w.has=function(t,e){var n=$getIterator(t);while(n.hasNext()){var i=n.next();if(i==e){return true}}return false};Math.__name__=true;var p=function(){};p.__name__=true;p.startsWith=function(t,e){if(t.length>=e.length){return t.lastIndexOf(e,0)==0}else{return false}};p.endsWith=function(t,e){var n=e.length;var i=t.length;if(i>=n){return t.indexOf(e,i-n)==i-n}else{return false}};p.isSpace=function(t,e){var n=v.cca(t,e);if(!(n>8&&n<14)){return n==32}else{return true}};p.ltrim=function(t){var e=t.length;var n=0;while(n<e&&p.isSpace(t,n))++n;if(n>0){return v.substr(t,n,e-n)}else{return t}};p.rtrim=function(t){var e=t.length;var n=0;while(n<e&&p.isSpace(t,e-n-1))++n;if(n>0){return v.substr(t,0,e-n)}else{return t}};p.trim=function(t){return p.ltrim(p.rtrim(t))};p.lpad=function(t,e,n){if(e.length<=0){return t}var i="";n-=t.length;while(i.length<n)i+=e==null?"null":""+e;i+=t==null?"null":""+t;return i};p.replace=function(t,e,n){return t.split(e).join(n)};var m=function(){};m.__name__=true;m.prototype={writeByte:function(t){throw new st("Not implemented")},writeBytes:function(t,e,n){if(e<0||n<0||e+n>t.length){throw new st(T.OutsideBounds)}var i=t.b;var r=n;while(r>0){this.writeByte(i[e]);++e;--r}return n},writeFullBytes:function(t,e,n){while(n>0){var i=this.writeBytes(t,e,n);e+=i;n-=i}},writeString:function(t,e){var n=B.ofString(t,e);this.writeFullBytes(n,0,n.length)},__class__:m};var y=function(t){this.fd=t};y.__name__=true;y.__super__=m;y.prototype=$extend(m.prototype,{writeByte:function(t){tt.writeSync(this.fd,String.fromCodePoint(t))},writeBytes:function(t,e,n){var i=t.b;return tt.writeSync(this.fd,ht.from(i.buffer,i.byteOffset,t.length),e,n)},writeString:function(t,e){tt.writeSync(this.fd,t)},__class__:y});var b=function(){};b.__name__=true;b.enumParameters=function(t){var e=i[t.__enum__];var n=e.__constructs__[t._hx_index];var r=e[n].__params__;if(r!=null){var s=[];var o=0;while(o<r.length){var l=r[o];++o;s.push(t[l])}return s}else{return[]}};var S=i["haxe.StackItem"]={__ename__:true,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:e},Module:(r=function(t){return{_hx_index:1,m:t,__enum__:"haxe.StackItem",toString:e}},r.__params__=["m"],r),FilePos:(r=function(t,n,i,r){return{_hx_index:2,s:t,file:n,line:i,column:r,__enum__:"haxe.StackItem",toString:e}},r.__params__=["s","file","line","column"],r),Method:(r=function(t,n){return{_hx_index:3,classname:t,method:n,__enum__:"haxe.StackItem",toString:e}},r.__params__=["classname","method"],r),LocalFunction:(r=function(t){return{_hx_index:4,v:t,__enum__:"haxe.StackItem",toString:e}},r.__params__=["v"],r)};var R=function(){};R.__name__=true;R.__isInterface__=true;var O=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};O.__name__=true;O.delay=function(t,e){var n=new O(e);n.run=function(){n.stop();t()};return n};O.prototype={stop:function(){if(this.id==null){return}clearInterval(this.id);this.id=null},run:function(){},__class__:O};var N=function(){};N.__name__=true;N.__interfaces__=[R];N.prototype={set:function(t,e){this.root=this.setLoop(t,e,this.root)},get:function(t){var e=this.root;while(e!=null){var n=this.compare(t,e.key);if(n==0){return e.value}if(n<0){e=e.left}else{e=e.right}}return null},setLoop:function(t,e,n){if(n==null){return new I(null,t,e,null)}var i=this.compare(t,n.key);if(i==0){return new I(n.left,t,e,n.right,n==null?0:n._height)}else if(i<0){var r=this.setLoop(t,e,n.left);return this.balance(r,n.key,n.value,n.right)}else{var s=this.setLoop(t,e,n.right);return this.balance(n.left,n.key,n.value,s)}},balance:function(t,e,n,i){var r=t==null?0:t._height;var s=i==null?0:i._height;if(r>s+2){var o=t.left;var l=t.right;if((o==null?0:o._height)>=(l==null?0:l._height)){return new I(t.left,t.key,t.value,new I(t.right,e,n,i))}else{return new I(new I(t.left,t.key,t.value,t.right.left),t.right.key,t.right.value,new I(t.right.right,e,n,i))}}else if(s>r+2){var u=i.right;var a=i.left;if((u==null?0:u._height)>(a==null?0:a._height)){return new I(new I(t,e,n,i.left),i.key,i.value,i.right)}else{return new I(new I(t,e,n,i.left.left),i.left.key,i.left.value,new I(i.left.right,i.key,i.value,i.right))}}else{return new I(t,e,n,i,(r>s?r:s)+1)}},compare:function(t,e){return u.compare(t,e)},__class__:N};var I=function(t,e,n,i,r){if(r==null){r=-1}this.left=t;this.key=e;this.value=n;this.right=i;if(r==-1){var s;var o=this.left;var l=this.right;if((o==null?0:o._height)>(l==null?0:l._height)){var u=this.left;s=u==null?0:u._height}else{var a=this.right;s=a==null?0:a._height}this._height=s+1}else{this._height=r}};I.__name__=true;I.prototype={__class__:I};var D=function(){N.call(this)};D.__name__=true;D.__interfaces__=[R];D.__super__=N;D.prototype=$extend(N.prototype,{compare:function(t,e){var n=t._hx_index-e._hx_index;if(n!=0){return n}var i=b.enumParameters(t);var r=b.enumParameters(e);if(i.length==0&&r.length==0){return 0}return this.compareArgs(i,r)},compareArgs:function(t,e){var n=t.length-e.length;if(n!=0){return n}var i=0;var r=t.length;while(i<r){var s=i++;var o=this.compareArg(t[s],e[s]);if(o!=0){return o}}return 0},compareArg:function(t,e){if(u.isEnumValue(t)&&u.isEnumValue(e)){return this.compare(t,e)}else if(t instanceof Array&&e instanceof Array){return this.compareArgs(t,e)}else{return u.compare(t,e)}},__class__:D});var L=function(){this.h={}};L.__name__=true;L.__interfaces__=[R];L.prototype={__class__:L};var A=i["haxe.ds.Option"]={__ename__:true,__constructs__:["Some","None"],Some:(r=function(t){return{_hx_index:0,v:t,__enum__:"haxe.ds.Option",toString:e}},r.__params__=["v"],r),None:{_hx_index:1,__enum__:"haxe.ds.Option",toString:e}};var C=function(){this.h={}};C.__name__=true;C.__interfaces__=[R];C.prototype={setReserved:function(t,e){if(this.rh==null){this.rh={}}this.rh["$"+t]=e},getReserved:function(t){if(this.rh==null){return null}else{return this.rh["$"+t]}},keys:function(){return v.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h){if(this.h.hasOwnProperty(e)){t.push(e)}}if(this.rh!=null){for(var e in this.rh){if(e.charCodeAt(0)==36){t.push(e.substr(1))}}}return t},__class__:C};var B=function(t){this.length=t.byteLength;this.b=new Uint8Array(t);this.b.bufferValue=t;t.hxBytes=this;t.bytes=this.b};B.__name__=true;B.ofString=function(t,e){if(e==k.RawNative){var n=new Uint8Array(t.length<<1);var i=0;var r=t.length;while(i<r){var s=i++;var o=t.charCodeAt(s);n[s<<1]=o&255;n[s<<1|1]=o>>8}return new B(n.buffer)}var l=[];var u=0;while(u<t.length){var a=t.charCodeAt(u++);if(55296<=a&&a<=56319){a=a-55232<<10|t.charCodeAt(u++)&1023}if(a<=127){l.push(a)}else if(a<=2047){l.push(192|a>>6);l.push(128|a&63)}else if(a<=65535){l.push(224|a>>12);l.push(128|a>>6&63);l.push(128|a&63)}else{l.push(240|a>>18);l.push(128|a>>12&63);l.push(128|a>>6&63);l.push(128|a&63)}}return new B(new Uint8Array(l).buffer)};B.prototype={sub:function(t,e){if(t<0||e<0||t+e>this.length){throw new st(T.OutsideBounds)}return new B(this.b.buffer.slice(t+this.b.byteOffset,t+this.b.byteOffset+e))},getString:function(t,e,n){if(t<0||e<0||t+e>this.length){throw new st(T.OutsideBounds)}if(n==null){n=k.UTF8}var i="";var r=this.b;var s=t;var o=t+e;switch(n._hx_index){case 0:var l=t>0;while(s<o){var u=r[s++];if(u<128){if(u==0){break}i+=String.fromCodePoint(u)}else if(u<224){var a=(u&63)<<6|r[s++]&127;i+=String.fromCodePoint(a)}else if(u<240){var f=r[s++];var c=(u&31)<<12|(f&127)<<6|r[s++]&127;i+=String.fromCodePoint(c)}else{var h=r[s++];var d=r[s++];var v=(u&15)<<18|(h&127)<<12|(d&127)<<6|r[s++]&127;i+=String.fromCodePoint(v)}}break;case 1:while(s<o){var w=r[s++]|r[s++]<<8;i+=String.fromCodePoint(w)}break}return i},toString:function(){return this.getString(0,this.length)},__class__:B};var k=i["haxe.io.Encoding"]={__ename__:true,__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:e},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:e}};var T=i["haxe.io.Error"]={__ename__:true,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:e},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:e},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:e},Custom:(r=function(t){return{_hx_index:3,e:t,__enum__:"haxe.io.Error",toString:e}},r.__params__=["e"],r)};var E=function(t){switch(t){case".":case"..":this.dir=t;this.file="";return}var e=t.lastIndexOf("/");var n=t.lastIndexOf("\\");if(e<n){this.dir=v.substr(t,0,n);t=v.substr(t,n+1,null);this.backslash=true}else if(n<e){this.dir=v.substr(t,0,e);t=v.substr(t,e+1,null)}else{this.dir=null}var i=t.lastIndexOf(".");if(i!=-1){this.ext=v.substr(t,i+1,null);this.file=v.substr(t,0,i)}else{this.ext=null;this.file=t}};E.__name__=true;E.directory=function(t){var e=new E(t);if(e.dir==null){return""}return e.dir};E.extension=function(t){var e=new E(t);if(e.ext==null){return""}return e.ext};E.join=function(t){var e=[];var n=0;var i=t;while(n<i.length){var r=i[n];++n;if(r!=null&&r!=""){e.push(r)}}var s=e;if(s.length==0){return""}var o=s[0];var l=1;var u=s.length;while(l<u){var a=l++;o=E.addTrailingSlash(o);o+=s[a]}return E.normalize(o)};E.normalize=function(t){var e="/";t=t.split("\\").join(e);if(t==e){return e}var n=[];var i=0;var r=t.split(e);while(i<r.length){var s=r[i];++i;if(s==".."&&n.length>0&&n[n.length-1]!=".."){n.pop()}else if(s==""){if(n.length>0||v.cca(t,0)==47){n.push(s)}}else if(s!="."){n.push(s)}}var o=n.join(e);var l="";var u=false;var a=false;var f=0;var c=o;while(f<c.length){var h=c;var d=f++;var w=h.charCodeAt(d);if(w>=55296&&w<=56319){w=w-55232<<10|h.charCodeAt(d+1)&1023}var p=w;if(p>=65536){++f}var m=p;switch(m){case 47:if(!u){a=true}else{var y=m;u=false;if(a){l+="/";a=false}l+=String.fromCodePoint(y)}break;case 58:l+=":";u=true;break;default:var b=m;u=false;if(a){l+="/";a=false}l+=String.fromCodePoint(b)}}return l};E.addTrailingSlash=function(t){if(t.length==0){return"/"}var e=t.lastIndexOf("/");var n=t.lastIndexOf("\\");if(e<n){if(n!=t.length-1){return t+"\\"}else{return t}}else if(e!=t.length-1){return t+"/"}else{return t}};E.removeTrailingSlashes=function(t){t:while(true){var e=v.cca(t,t.length-1);if(e==null){break}else{switch(e){case 47:case 92:t=v.substr(t,0,-1);break;default:break t}}}return t};E.isAbsolute=function(t){if(p.startsWith(t,"/")){return true}if(t.charAt(1)==":"){return true}if(p.startsWith(t,"\\\\")){return true}return false};E.prototype={__class__:E};var M=function(t,e){this.cwd=t;this.args=e};M.__name__=true;M.interpolate=function(t,e){if(t.indexOf("${")==-1){return et.Success(t)}var n="";var i=0;while(i<t.length){var r=t.indexOf("${",i);if(r==-1){var s=null;n+=s==null?v.substr(t,i,null):v.substr(t,i,s);break}else{var o=r;var l=o-i;n+=l==null?v.substr(t,i,null):v.substr(t,i,l);var u=o+2;var a;var c=t.indexOf("}",u);if(c==-1){return et.Failure("unclosed interpolation in "+t)}else{var h=c;a=h}var d=v.substr(t,u,a-u);var w;var p=e(d);if(p==null){return et.Failure("unknown variable "+d)}else{var m=p;if(m=="$"+"{"+d+"}"){w=m}else{var y=M.interpolate(m,e);if(y._hx_index==0){var b=y.data;w=b}else{var S=y;return S}}}n+=f.string(w);i=a+1}}return et.Success(n)};M.fromMultilineString=function(t,e,n,i){if(i==null){i=false}var r=[];var s=new G;var o=function(t){if(t=="__dirname"){return E.directory(e)}else{return n(t)}};var l=function(t,n){var i=function(t){r.push({pos:Y.File(e,n),val:t})};if(t.charAt(0)=="-"){i(t)}else{var l=M.interpolate(t,o);switch(l._hx_index){case 0:var u=l.data;i(u);break;case 1:var a=l.failure;s.fail(a,Y.File(e,n));break}}};var u=t.split("\n");var a=p.trim;var f=new Array(u.length);var c=0;var h=u.length;while(c<h){var d=c++;f[d]=a(u[d])}var w=f;var m=0;var y=w.length;while(m<y){var b=m++;var S=w[b];var R=function(t,e){return function(n){e[0](n,t[0])}}([b],[l]);var O=S.charAt(0);if(O!=null){switch(O){case"#":break;case"-":var N=S.indexOf(" ");if(N==-1){R(S)}else{var I=N;R(v.substr(S,0,I));R(p.trim(v.substr(S,I,null)))}break;default:var D=p.trim(S);if(D!=""){var L=D;if(i){R("-cp")}R(L)}}}}return s.produce(r)};M.getNdll=function(t){if(p.startsWith(t,"ndll:")){return A.Some(v.substr(t,5,null))}else{return A.None}};M.split=function(t,e,n,i){var r=[];var s=0;var o=t.length;while(s<o){var l=s++;r.push({val:t[l],pos:Y.Cmd(l)})}var u=r;var a=[];var f=[];var c=[];var h=new G;var d=function(t){if(E.isAbsolute(t)){return t}else{return E.join([e,t])}};var v=function(){if(f.length>0){var t=a.concat(f);var n=new M(e,t);f=[];c.push(n)}};while(true){var w=u.shift();if(w==null){v();break}else{var m=[w];var y=function(t){return function(e){var n=u.shift();if(n==null){h.fail(""+t[0].val+" without argument",t[0].pos)}else{var i=n;e(i)}}}(m);var b=m[0].val;switch(b){case"--each":a=f;f=[];break;case"--next":v();break;case"--run":case"-x":var S=[m[0]].concat(u);f=f.concat(S);u=[];v();break;case"--cwd":case"-C":var R=u.shift();if(R==null){h.fail(""+m[0].val+" without argument",m[0].pos)}else{var O=R;e=d(O.val);if(!n.isDirectory(e)){h.fail("Cannot use "+e+" as working directory",O.pos);u=[]}}break;default:var N=b;if(E.extension(N)=="hxml"){u=M.readHxml(d(N),n,i,h,m[0].pos).concat(u)}else{var I=b;if(p.startsWith(I,"${")){var D=M.interpolate(I,i);switch(D._hx_index){case 0:var L=D.data;f.push({val:L,pos:m[0].pos});break;case 1:var A=D.failure;h.fail(A,m[0].pos);break}}else{f.push(m[0])}}}}}return h.produce(c)};M.readHxml=function(t,e,n,i,r){var s=e.readFile(t);switch(s._hx_index){case 0:var o=s.data;return i.getResult(M.fromMultilineString(o,t,n));case 1:var l=s.failure;i.fail(l,r);return[]}};M.prototype={__class__:M};var F=function(){};F.__name__=true;F.to=function(t,e,n){return new Wt(new Vt(function(){return Ut.catchExceptions(e,function(e){return Ut.withData(null,"Failed to "+t,e,n)},{fileName:"haxeshim/Attempt.hx",lineNumber:8,className:"haxeshim.Attempt",methodName:"to"})}))};var U=i["haxeshim.ServerKind"]={__ename__:true,__constructs__:["Port","Stdio"],Port:(r=function(t){return{_hx_index:0,num:t,__enum__:"haxeshim.ServerKind",toString:e}},r.__params__=["num"],r),Stdio:{_hx_index:1,__enum__:"haxeshim.ServerKind",toString:e}};var z=i["haxeshim.StdioState"]={__ename__:true,__constructs__:["AwaitingHeader","AwaitingData"],AwaitingHeader:(r=function(t){return{_hx_index:0,buf:t,__enum__:"haxeshim.StdioState",toString:e}},r.__params__=["buf"],r),AwaitingData:(r=function(t,n){return{_hx_index:1,buf:t,total:n,__enum__:"haxeshim.StdioState",toString:e}},r.__params__=["buf","total"],r)};var P=function(t,e,n){this.freePort=Gt.async(function(t){var e=at.createServer();e.listen(0,function(){var n=e.address().port;e.close(function(){t(et.Success(n))})})},true);this.args=n;this.scope=e;switch(t._hx_index){case 0:var i=t.num;this.waitOnPort(i);break;case 1:this.stdio();break}};P.__name__=true;P.prototype={handleIntSignals:function(){var t=function(){process.exit()};process.on("SIGINT",t);process.on("SIGTERM",t)},stdio:function(){var t=this;tt.watch(this.scope.configFile,{persistent:false},function(e,n){var i=10;var r=null;r=function(e){if(e==null){e=0}try{t.scope.reload()}catch(t){var n=t instanceof st?t.val:t;if(e>=i){K.get().error("Reloading .haxerc after change detected failed "+i+" times!");process.exit(500)}else{var s=r;var o=e+1;O.delay(function(){s(o);return},100)}}};r()});var e=null;var n=function(){if(e!=null){e.kill()}};process.on("exit",n);this.handleIntSignals();process.stdin.on("end",n);process.stdin.on("close",n);var i=z.AwaitingHeader(ht.alloc(0));var s=function(t){var e=ht.alloc(4+t.length);e.writeInt32LE(t.length,0);t.copy(e,4);return e};var o=function(n){var i=ht.alloc(0);var o=n.indexOf(1);var u;if(o==-1){u=n}else{var a=o;i=n.slice(a);u=n.slice(0,a)}var f=t.parseArgs(u);if(e==null||f.version!=t.lastVersion){if(e!=null){e.kill();e.stdout.unpipe(process.stdout);e.stderr.unpipe(process.stderr)}t.lastVersion=f.version;var c=t.scope.haxeInstallation;e=l.spawn(c.compiler,t.args.concat(["--wait","stdio"]),{cwd:t.scope.cwd,env:W.toVars(V.mergeEnv(c.env())),stdio:"pipe"});var h=e;e.on("exit",function(t,n){if(e==h){e=null}});e.stdout.pipe(process.stdout);e.stderr.pipe(process.stderr)}var d=(r=t.scope,$bind(r,r.resolve));var v=f.args;var w=Ut.catchExceptions(function(){return d(v)},null,{fileName:"haxeshim/CompilerServer.hx",lineNumber:142,className:"haxeshim.CompilerServer",methodName:"stdio"});switch(w._hx_index){case 0:var p=w.data;var m=ht.from(p.join("\n"));var y=e.stdin;var b=ht.concat([m,i]);y.write(s(b));break;case 1:var S=w.failure;V.die(S.code,S.message);break}};var u=function(){while(true){var t;switch(i._hx_index){case 0:var e=i.buf;t=e.length>=4?z.AwaitingData(e.slice(4),e.readInt32LE(0)):i;break;case 1:var n=i.total;var r=i.buf;if(r.length>=n){var s=r.slice(0,n);o(s);t=z.AwaitingHeader(r.slice(n))}else{t=i}break;default:t=i}if(i==t){break}i=t}};process.stdin.on("data",function(t){switch(i._hx_index){case 0:var e=i.buf;i=z.AwaitingHeader(ht.concat([e,t]));break;case 1:var n=i.total;var r=i.buf;i=z.AwaitingData(ht.concat([r,t]),n);break}u()})},parseArgs:function(t){var e=t.toString().split("\n");var n;var i=e.indexOf("--haxe-version");if(i==-1){n=this.lastVersion==null?this.scope.haxeInstallation.version:this.lastVersion}else{var r=i;n=e.splice(r,2).pop()}return{version:n,args:e}},waitOnPort:function(t){var e=this;var n=function(){if(e.waiting!=null){e.waiting.handle(function(t){if(t._hx_index==0){var e=t.data;e.kill()}})}};process.on("exit",n);this.handleIntSignals();var i=at.createServer(function(t){var n=[];t.on("data",function(i){var r=i.indexOf(0);if(r==-1){n.push(i)}else{var s=r;var o=i.slice(0,s);n.push(o);var l=i.slice(s+1);t.unshift(l);var u=ht.concat(n).toString().split("\n");n=[];var a;var f=u.indexOf("--haxe-version");if(f==-1){a=e.lastVersion==null?e.scope.haxeInstallation.version:e.lastVersion}else{var c=f;a=u.splice(c,2).pop()}e.connect(a).handle(function(e){switch(e._hx_index){case 0:var n=e.data;n.write(u.join("\n")+String.fromCodePoint(0));n.pipe(t,{end:true});break;case 1:var i=e.failure;t.end(i.message+"\n"+""+"\n","utf8");break}})}});t.on("error",function(){});t.on("end",function(){})});i.listen(t)},disconnect:function(){if(this.waiting==null){return new Wt(new g(et.Success(Pt.Noise)))}else{return qt.next(this.waiting,function(t){var e=t.kill().map(et.Success);return e.gather()})}},connect:function(t){var e=this;if(t!=this.lastVersion||this.waiting==null){this.lastVersion=t;var n=this.waiting=qt.next(this.disconnect(),function(n){return qt.next(e.freePort,Jt.ofSafeSync(function(n){var i=e.scope.getInstallation(t);var r=V.async(i.compiler,e.scope.cwd,e.args.concat(["--wait",n==null?"null":""+n]),i.env());return{died:Gt.async(function(t){var e=t;var n=function(){e(Pt.Noise)};r.on("exit",n);var i=t;var s=function(){i(Pt.Noise)};r.on("error",s);var o=t;var l=function(){o(Pt.Noise)};r.on("disconnect",l)}),version:t,socket:function(){return Gt.async(function(t){var e=10;var i=null;i=function(r){var s=at.createConnection(n,"127.0.0.1");s.on("error",function(s){if(r>=e){var o=et.Failure(new Ut(null,"Failed to connect to 127.0.0.1:"+n+" after "+e+" attempts because "+s,{fileName:"haxeshim/CompilerServer.hx",lineNumber:291,className:"haxeshim.CompilerServer",methodName:"connect"}));t(o)}else{var l=i;var u=r+1;O.delay(function(){l(u);return},100)}}).on("connect",function(){t(et.Success(s))})};i(1)})},kill:function(){r.kill();return Gt.async(function(t){var e=t;O.delay(function(){e(Pt.Noise)},500)})}}}))});this.waiting.handle(function(t){switch(t._hx_index){case 0:var i=t.data;i.died.handle(Ct.fromNiladic(function(){if(e.waiting==n){e.waiting=null}}));break;case 1:var r=t.failure;e.waiting=null;break}})}return qt.next(this.waiting,function(t){return t.socket()})},__class__:P};var W={};W.__name__=true;W.ofVars=function(t){var e={};var n=e;var i=0;var r=u.fields(t);while(i<r.length){var s=r[i];++i;n[j.IS_WINDOWS?s.toUpperCase():s]=t[s]}var o=n;return o};W.ofMap=function(t){var e={};var n=e;var i=t.keys();while(i.hasNext()){var r=i.next();n[j.IS_WINDOWS?r.toUpperCase():r]=_t[r]!=null?t.getReserved(r):t.h[r]}var s=n;return s};W.vars=function(t){return t};W.toVars=function(t){return u.copy(t)};W.get=function(t,e){return t[j.IS_WINDOWS?e.toUpperCase():e]};W.mergeInto=function(t,e){var n=W.vars(e);if(t==null){var i=n;var r=i;return r}else if(n==null){var s=t;var o=s;return o}else{var l=t;var a=n;var f={};var c=f;var h=a;var d=0;var v=u.fields(h);while(d<v.length){var w=v[d];++d;c[w]=h[w]}var p=l;var m=0;var y=u.fields(p);while(m<y.length){var b=y[m];++m;c[b]=p[b]}var S=c;return S}};var G=function(){this.errors=[]};G.__name__=true;G.getCode=function(t){var e=0;var n=t;while(e<n.length){var i=n[e];++e;var r=i.code;if(r!=null){var s=r;return s}}return 500};G.prototype={fail:function(t,e,n){this.errors.push({message:t,pos:e,code:n})},produce:function(t){if(this.errors.length==0){return et.Success(t)}else{return et.Failure({result:t,errors:this.errors})}},getResult:function(t){switch(t._hx_index){case 0:var e=t.data;return e;case 1:var n=t.failure;var i=0;var r=n.errors;while(i<r.length){var s=r[i];++i;this.errors.push(s)}return n.result}},__class__:G};var Y=i["haxeshim.Pos"]={__ename__:true,__constructs__:["File","Cmd","Custom"],File:(r=function(t,n){return{_hx_index:0,path:t,line:n,__enum__:"haxeshim.Pos",toString:e}},r.__params__=["path","line"],r),Cmd:(r=function(t){return{_hx_index:1,index:t,__enum__:"haxeshim.Pos",toString:e}},r.__params__=["index"],r),Custom:(r=function(t){return{_hx_index:2,source:t,__enum__:"haxeshim.Pos",toString:e}},r.__params__=["source"],r)};var Z=function(){};Z.__name__=true;Z.toString=function(t){switch(t._hx_index){case 0:var e=t.line;var n=t.path;return""+n+":"+e;case 1:var i=t.index;return"CLI arg#"+i;case 2:var r=t.source;return r}};var V=function(){};V.__name__=true;V.die=function(t,e){if(e!=null){K.get().error(e)}process.exit(t);throw new st("unreachable")};V.dieFromErrors=function(t){var e=null;var n=K.get();var i=0;var r=t;while(i<r.length){var s=r[i];++i;n.error(Z.toString(s.pos)+(": "+s.message))}process.exit(G.getCode(t));throw new st("unreachable")};V.gracefully=function(t){try{return t()}catch(t){var e=t instanceof st?t.val:t;if(e instanceof Ut){var n=e;return V.die(n.code,n.message)}else{return V.die(500,f.string(e))}}};V.mergeEnv=function(t){return W.mergeInto(t,W.ofVars(process.env))};V.async=function(t,e,n,i){return l.spawn(t,n,{cwd:e,stdio:"inherit",env:W.toVars(V.mergeEnv(i))})};V.shell=function(t,e,n){try{return et.Success(l.execSync(t,{cwd:e,stdio:"inherit",env:W.toVars(V.mergeEnv(n))}))}catch(e){var i=e instanceof st?e.val:e;return et.Failure(new Ut(i.status,"Failed to invoke `"+t+"` because "+f.string(i),{fileName:"haxeshim/Exec.hx",lineNumber:47,className:"haxeshim.Exec",methodName:"shell"}))}};V.sync=function(t,e,n,i){var r=l.spawnSync(t,n,{cwd:e,stdio:"inherit",env:W.toVars(V.mergeEnv(i))});var s=r.stdout;var o=r.stderr;var u=r.status;var a=r.signal;var c=r.pid;var h=r.output;var d=r.error;if(d==null){var v=u;return et.Success(v)}else{var w=u;var p=d;return et.Failure(new Ut(w,"Failed to call "+t+" because "+f.string(p),{fileName:"haxeshim/Exec.hx",lineNumber:54,className:"haxeshim.Exec",methodName:"sync"}))}};V.eval=function(t,e,n,i){var r=l.spawnSync(t,n,{cwd:e,env:W.toVars(V.mergeEnv(i))});var s=r;if(s.error==null){return et.Success({status:s.status,stdout:s.stdout.toString(),stderr:s.stderr.toString()})}else{var o=r.stdout;var u=r.stderr;var a=r.status;var c=r.signal;var h=r.pid;var d=r.output;var v=r.error;return et.Failure(new Ut(null,"Failed to call "+t+" because "+f.string(v),{fileName:"haxeshim/Exec.hx",lineNumber:66,className:"haxeshim.Exec",methodName:"eval"}))}};var X={};X.__name__=true;X.ofString=function(t){return B.ofString(t)};var q=function(){};q.__name__=true;q.save=function(t,e,n){return qt.noise(qt.next(q.ensureDir(t),function(i){var r=t;var s=function(t){var e=t.b;var n=ht.from(e.buffer,e.byteOffset,t.length);tt.writeFileSync(r,n)};var o=e;var l=function(){s(o)};return F.to("save to "+t,l,n)}))};q.exists=function(t){var e=t;return F.to("check the existence of "+t,function(){return _.exists(e)},{fileName:"haxeshim/Fs.hx",lineNumber:26,className:"haxeshim.Fs",methodName:"exists"})};q.ensureDir=function(t){var e=p.endsWith(t,"/")||p.endsWith(t,"\\");if(e){t=E.removeTrailingSlashes(t)}var n=E.directory(t);if(E.removeTrailingSlashes(n)==t){return new Wt(new g(et.Success(Pt.Noise)))}else{return qt.next(qt.next(q.exists(n),function(t){if(t){return new Wt(new g(et.Success(Pt.Noise)))}else{return q.ensureDir(E.addTrailingSlash(n))}}),function(n){if(e){return qt.next(q.exists(t),function(e){return F.to("create directory "+t,function(){if(!e){_.createDirectory(t)}return Pt.Noise},{fileName:"haxeshim/Fs.hx",lineNumber:49,className:"haxeshim.Fs",methodName:"ensureDir"})})}else{return new Wt(new g(et.Success(Pt.Noise)))}})}};q.ls=function(t,e){var n=[];var i=0;var r=tt.readdirSync(t);while(i<r.length){var s=r[i];++i;var o=""+t+"/"+s;var l;if(e==null||e(o)){l=o}else{continue}n.push(l)}return n};q.delete=function(t){return F.to("delete "+t,function(){if(t!=null&&_.exists(t)){if(_.isDirectory(t)){var e=0;var n=tt.readdirSync(t);while(e<n.length){var i=n[e];++e;q.delete(""+t+"/"+i)}if(_.exists(t)){var r=0;var s=tt.readdirSync(t);while(r<s.length){var o=s[r];++r;var l=t+"/"+o;if(_.isDirectory(l)){if(_.exists(l)){var u=0;var a=tt.readdirSync(l);while(u<a.length){var f=a[u];++u;var c=l+"/"+f;if(_.isDirectory(c)){_.deleteDirectory(c)}else{tt.unlinkSync(c)}}tt.rmdirSync(l)}}else{tt.unlinkSync(l)}}tt.rmdirSync(t)}}else{tt.unlinkSync(t)}}return},{fileName:"haxeshim/Fs.hx",lineNumber:107,className:"haxeshim.Fs",methodName:"delete"})};q.peel=function(t,e){var n=0;var i=0;var r=e;while(i<r){var s=i++;var o=t.indexOf("/",n);if(o==-1){return A.None}else{var l=o;n=l+1}}return A.Some(v.substr(t,n,null))};q.findNearest=function(t,e){while(true)if(_.exists(""+e+"/"+t)){return A.Some(""+e+"/"+t)}else{var n=E.directory(e);var i=n;if(e==i){return A.None}else{var r=n;e=r}}};var J=function(t){this.scope=t};J.__name__=true;J.withArgs=function(t){var e=process.argv.slice(2);if(e[0]=="--cwd"){e.shift();var n=e.shift();if(n==null){V.die(500,"--cwd requires argument")}else{var i=n;process.chdir(i)}}return t(e)};J.run=function(t){it.setEnv();new J(V.gracefully(function(){return nt.seek()})).dispatch(t)};J.prototype={installLibs:function(t){return this.scope.withLogger(K.get(t),(r=this.scope,$bind(r,r.installLibs))).handle(function(t){if(t._hx_index==1){var e=t.failure;K.get().error(e.message);process.exit(e.code)}})},dispatch:function(t){var e=function(){var t={cwd:null};return V.gracefully(function(){return nt.seek(t)})};var n;var i;n=t.indexOf("--wait");var r=n;if(r>=0&&r<t.length-1){var s;var o=t.splice(r,2).pop();var l;if(o==null){l=f.parseInt(o);var u=l;s=U.Port(u)}else if(o=="stdio"){s=U.Stdio}else{l=f.parseInt(o);var a=l;s=U.Port(a)}new P(s,e(),t)}else{i=t.slice(0,2);if(i.length==2){if(i[0]=="--run"){var c=i[1];if(c.indexOf("-")!=-1&&c.toLowerCase()==c){var h=t.slice(2);var d=e();switch(c){case"install-libs":var v;switch(h.length){case 0:v=false;break;case 1:v=h[0]=="--silent"?true:V.die(422,"unexpected arguments "+f.string(h));break;default:v=V.die(422,"unexpected arguments "+f.string(h))}this.installLibs(v);break;case"resolve-args":var w=$bind(d,d.resolve);var m=h;var y=V.gracefully(function(){return w(m)}).join("\n");process.stdout.write(f.string(y));process.stdout.write("\n");process.exit(0);break;case"show-version":if(h.length>0){V.die(422,"too many arguments")}var b;var S=V.eval(d.haxeInstallation.compiler,d.cwd,["-version"]);switch(S._hx_index){case 0:var R=S.data;b=p.trim(R.stdout.toString()+R.stderr.toString());break;case 1:var O=S.failure;b=V.die(O.code,O.message);break}process.stdout.write(f.string("-D haxe-ver="+b));process.stdout.write("\n");process.stdout.write(f.string("-cp "+d.haxeInstallation.stdLib));process.stdout.write("\n");break;default:var N=c;V.die(404,"Unknown extension "+N)}}else{var I=t;var D=e();var L=I.indexOf("--haxe-version");if(I.indexOf("--connect")==-1){var A=L==-1}else if(L==-1){I.push("--haxe-version");I.push(D.haxeInstallation.version)}var C=D.haxeInstallation.compiler;var B=C;if(_.exists(B)){var k=function(t){switch(t._hx_index){case 0:var e=t.data;return e;case 1:var n=t.failure;var i=n.result;var r=n.errors;return V.dieFromErrors(r)}};var T=function(t,e){var n=D.haxeInstallation.env();var i=V.sync(B,e,t,n);switch(i._hx_index){case 0:var r=i.data;if(r!=0){var s=r;V.die(s)}break;case 1:var o=i.failure;V.die(o.code,o.message);break}};if(I.length==0){T(I,D.cwd)}else{var E=0;var M=k(D.getBuilds(I));while(E<M.length){var F=M[E];++E;var z=k(F);k(z.checkClassPaths());var W=[];var G=0;var Y=z.args;while(G<Y.length){var Z=Y[G];++G;W.push(Z.val)}T(W,z.cwd)}}}else{var X=C;V.die(404,'haxe compiler not found at the expected location "'+X+'"')}}}else{var q=t;var J=e();var j=q.indexOf("--haxe-version");if(q.indexOf("--connect")==-1){var Q=j==-1}else if(j==-1){q.push("--haxe-version");q.push(J.haxeInstallation.version)}var K=J.haxeInstallation.compiler;var $=K;if(_.exists($)){var H=function(t){switch(t._hx_index){case 0:var e=t.data;return e;case 1:var n=t.failure;var i=n.result;var r=n.errors;return V.dieFromErrors(r)}};var x=function(t,e){var n=J.haxeInstallation.env();var i=V.sync($,e,t,n);switch(i._hx_index){case 0:var r=i.data;if(r!=0){var s=r;V.die(s)}break;case 1:var o=i.failure;V.die(o.code,o.message);break}};if(q.length==0){x(q,J.cwd)}else{var g=0;var tt=H(J.getBuilds(q));while(g<tt.length){var et=tt[g];++g;var it=H(et);H(it.checkClassPaths());var rt=[];var st=0;var ot=it.args;while(st<ot.length){var lt=ot[st];++st;rt.push(lt.val)}x(rt,it.cwd)}}}else{var ut=K;V.die(404,'haxe compiler not found at the expected location "'+ut+'"')}}}else{var at=t;var ft=e();var ct=at.indexOf("--haxe-version");if(at.indexOf("--connect")==-1){var ht=ct==-1}else if(ct==-1){at.push("--haxe-version");at.push(ft.haxeInstallation.version)}var dt=ft.haxeInstallation.compiler;var vt=dt;if(_.exists(vt)){var wt=function(t){switch(t._hx_index){case 0:var e=t.data;return e;case 1:var n=t.failure;var i=n.result;var r=n.errors;return V.dieFromErrors(r)}};var pt=function(t,e){var n=ft.haxeInstallation.env();var i=V.sync(vt,e,t,n);switch(i._hx_index){case 0:var r=i.data;if(r!=0){var s=r;V.die(s)}break;case 1:var o=i.failure;V.die(o.code,o.message);break}};if(at.length==0){pt(at,ft.cwd)}else{var mt=0;var yt=wt(ft.getBuilds(at));while(mt<yt.length){var bt=yt[mt];++mt;var St=wt(bt);wt(St.checkClassPaths());var Rt=[];var Ot=0;var Nt=St.args;while(Ot<Nt.length){var It=Nt[Ot];++Ot;Rt.push(It.val)}pt(Rt,St.cwd)}}}else{var Dt=dt;V.die(404,'haxe compiler not found at the expected location "'+Dt+'"')}}}},__class__:J};var j=function(){};j.__name__=true;j.slashes=function(t){if(j.IS_WINDOWS){return p.replace(t,"/","\\")}else{return t}};var Q=function(t,e,n){this.path=t;this.version=e;this.compiler=""+t+"/haxe"+Q.EXT;this.haxelib=""+t+"/haxelib"+Q.EXT;this.stdLib=""+t+"/std";this.haxelibRepo=n};Q.__name__=true;Q.prototype={env:function(){var t=W.ofVars({HAXE_STD_PATH:this.stdLib,HAXEPATH:this.path,HAXELIB_PATH:this.haxelibRepo,HAXE_VERSION:this.version});return W.mergeInto(t,it.ENV)},__class__:Q};var K=function(){};K.__name__=true;K.get=function(t){if(t==null){t=false}if(t){if(K.SILENT==null){K.SILENT=new K}return K.SILENT}else{if(K.DEFAULT==null){K.DEFAULT=new $}return K.DEFAULT}};K.prototype={error:function(t){},info:function(t){},success:function(t){},progress:function(t){},__class__:K};var $=function(){K.call(this)};$.__name__=true;$.__super__=K;$.prototype=$extend(K.prototype,{log:function(t,e){this.progress("");var n=$.out;var i;switch(t._hx_index){case 0:i=[s.Red];break;case 1:i=[s.Yellow];break;case 2:i=[s.DefaultForeground];break;case 3:i=[s.Green];break}n.writeString(c.aset(i)+e+c.aset([s.Off])+"\n")},error:function(t){this.log(H.Error,t)},info:function(t){this.log(H.Info,t)},success:function(t){this.log(H.Success,t)},progress:function(t){if($.isTTY){if(t.length>80){t=v.substr(t,0,77)+"..."}$.out.writeString((c.strip||c.stripIfUnavailable&&!c.available?"":"[2K")+(c.strip||c.stripIfUnavailable&&!c.available?"":"["+1+"G")+t)}},__class__:$});var H=i["haxeshim._Logger.Level"]={__ename__:true,__constructs__:["Error","Warning","Info","Success"],Error:{_hx_index:0,__enum__:"haxeshim._Logger.Level",toString:e},Warning:{_hx_index:1,__enum__:"haxeshim._Logger.Level",toString:e},Info:{_hx_index:2,__enum__:"haxeshim._Logger.Level",toString:e},Success:{_hx_index:3,__enum__:"haxeshim._Logger.Level",toString:e}};var x=function(){};x.__name__=true;x.__isInterface__=true;x.prototype={__class__:x};var g=function(t){this.value=t};g.__name__=true;g.__interfaces__=[x];g.prototype={get:function(){return this.value},map:function(t){var e=this;return new Vt(function(){return t(e.value)})},__class__:g};var _=function(){};_.__name__=true;_.exists=function(t){try{tt.accessSync(t);return true}catch(t){var e=t instanceof st?t.val:t;return false}};_.isDirectory=function(t){try{return tt.statSync(t).isDirectory()}catch(t){var e=t instanceof st?t.val:t;return false}};_.createDirectory=function(t){try{tt.mkdirSync(t)}catch(r){var e=r instanceof st?r.val:r;if(e.code=="ENOENT"){_.createDirectory(ft.dirname(t));tt.mkdirSync(t)}else{var n;try{n=tt.statSync(t)}catch(t){var i=t instanceof st?t.val:t;throw e}if(!n.isDirectory()){throw e}}}};_.deleteDirectory=function(t){if(_.exists(t)){var e=0;var n=tt.readdirSync(t);while(e<n.length){var i=n[e];++e;var r=t+"/"+i;if(_.isDirectory(r)){_.deleteDirectory(r)}else{tt.unlinkSync(r)}}tt.rmdirSync(t)}};var tt=n(747);var et=i["tink.core.Outcome"]={__ename__:true,__constructs__:["Success","Failure"],Success:(r=function(t){return{_hx_index:0,data:t,__enum__:"tink.core.Outcome",toString:e}},r.__params__=["data"],r),Failure:(r=function(t){return{_hx_index:1,failure:t,__enum__:"tink.core.Outcome",toString:e}},r.__params__=["failure"],r)};var nt=function(t,e,n,i){this.logger=K.get(false);this.haxeshimRoot=t;this.isGlobal=e;this.scopeDir=n;this.scopeLibDir=""+n+"/haxe_libraries";this.cwd=i;this.configFile=""+n+"/"+nt.CONFIG_FILE;this.versionDir=""+t+"/versions";this.haxelibRepo=""+t+"/haxelib";var r=process.env["HAXE_LIBCACHE"];var s=process.env["HAXESHIM_LIBCACHE"];var o;if(s==null){if(r==null){o=""+t+"/haxe_libraries"}else{var l=r;o=l}}else{var u=s;o=u}this.libCache=o};nt.__name__=true;nt.create=function(t,e){return q.save(""+t+"/"+nt.CONFIG_FILE,X.ofString(JSON.stringify(e,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:194,className:"haxeshim.Scope",methodName:"create"})};nt.exists=function(t){return _.exists(""+t+"/"+nt.CONFIG_FILE)};nt.seek=function(t){if(t==null){t={}}var e;var n=t.cwd;if(n==null){e=process.cwd()}else{var i=n;e=i}var r;var s=t.startLookingIn;if(s==null){r=e}else{var o=s;r=o}var l;var u=t.haxeshimRoot;if(u==null){l=nt.DEFAULT_ROOT}else{var a=u;l=a}var f=function(t,e,n,i){return new nt(t,e,n,i)};var c=l;var h=e;var d=function(t,e){return f(c,t,e,h)};var v;var w=q.findNearest(nt.CONFIG_FILE,ft.resolve(r));switch(w._hx_index){case 0:var p=w.v;v=d(false,E.directory(p));break;case 1:v=d(true,l);break}v.reload();return v};nt.env=function(t){var e=process.env[t];if(e==null){return A.None}else if(e==""){return A.None}else{var n=e;return A.Some(n)}};nt.prototype={withLogger:function(t,e){var n=this;var i=this.logger;this.logger=t;return Ut.tryFinally(e,function(){return n.logger=i})},installLibs:function(){var t=this;return F.to("install libraries",function(){var e=t.getInstallationInstructions();var n=0;var i=e.missing;if(i.length!=0){var r=i;n=404;var s=0;while(s<r.length){var o=r[s];++s;t.logger.error(""+o.lib+" has no install instruction for missing classpath "+o.cp+"\n")}}var l=e.instructions.install.length+e.instructions.postInstall.length;var u=0;var a=0;var f=e.instructions.install;var c=0;while(c<f.length){var h=f[c];++c;t.logger.progress("["+ ++u+"/"+l+"] "+h);var d=V.shell(h,process.cwd());if(d._hx_index==1){var v=d.failure;n=v.code}else{++a}}var w=e.instructions.postInstall;var p=0;while(p<w.length){var m=w[p];++p;t.logger.progress("["+ ++u+"/"+l+"] "+m);var y=V.shell(m,process.cwd());if(y._hx_index==1){var b=y.failure;n=b.code}else{++a}}var S=l==1?"library":"libraries";if(n!=0){throw new st(new Ut(n,"Failed to install "+(l-a)+"/"+l+" "+S+".",{fileName:"haxeshim/Scope.hx",lineNumber:117,className:"haxeshim.Scope",methodName:"installLibs"}))}else if(l>0){t.logger.success("Installed "+l+" "+S+".")}return Pt.Noise},{fileName:"haxeshim/Scope.hx",lineNumber:83,className:"haxeshim.Scope",methodName:"installLibs"})},reload:function(){var t;try{t=tt.readFileSync(this.configFile,{encoding:"utf8"})}catch(t){throw new st(this.isGlobal?"Global config file "+this.configFile+" does not exist or cannot be opened":"Unable to open file "+this.configFile+" because "+f.string(t instanceof st?t.val:t))}var e;try{e=JSON.parse(t)}catch(e){var n=e instanceof st?e.val:e;new y(2).writeString("Invalid JSON in file "+this.configFile+":\n\n"+t+"\n\n");throw st.wrap(n)}this.setConfig(e)},setConfig:function(t){if(t.version==null){throw new st("No version set in "+this.configFile)}if(t.resolveLibs==null){t.resolveLibs=this.isGlobal?"mixed":"scoped"}var e=t.resolveLibs;switch(e){case"haxelib":case"mixed":case"scoped":break;default:var n=e;throw new st("invalid value "+n+" for `resolveLibs` in "+this.configFile)}this.config=t;this.haxeInstallation=this.getInstallation(t.version)},getVar:function(t){var e=process.env[t];if(e==null){return this.getDefault(t)}else if(e==""){return this.getDefault(t)}else{var n=e;return n}},getDefault:function(t){switch(t){case"CWD":return this.cwd;case"HAXESHIM_LIBCACHE":case"HAXE_LIBCACHE":return this.libCache;case"SCOPE_DIR":return this.scopeDir;default:return null}},reconfigure:function(t){var e=this;return qt.next(q.save(this.configFile,X.ofString(JSON.stringify(t,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:201,className:"haxeshim.Scope",methodName:"reconfigure"}),function(n){e.setConfig(t);return new Wt(new g(et.Success(n)))})},path:function(t){if(E.isAbsolute(t)){return A.Some(t)}else if(p.startsWith(t,"./")||p.startsWith(t,"../")){return A.Some(""+this.cwd+"/"+t)}else{return A.None}},getInstallation:function(t){var e=this.path(t);switch(e._hx_index){case 0:var n=e.v;return new Q(n,t,this.haxelibRepo);case 1:return new Q(""+this.versionDir+"/"+t,t,this.haxelibRepo)}},resolveThroughHaxelib:function(t){var e=this.haxeInstallation.haxelib;var n=this.cwd;var i=[];var r=0;while(r<t.length){var s=t[r];++r;i.push(s.val)}var o=V.eval(e,n,["path"].concat(i),this.haxeInstallation.env());switch(o._hx_index){case 0:var l=o.data;var u;var a=l.stderr;if(l.status==0){var f=l.stdout;return Xt.map(M.fromMultilineString(f,"haxelib path",$bind(this,this.getVar),true),function(t){var e=0;var n=t.length;while(e<n){var i=e++;if(t[i].val=="-L"){var r=function(e,n){var i=t[e].pos;var r=n(t[e].val);t[e]={pos:i,val:r}};r(i,function(t){return"-lib"});r(i+1,function(t){return"ndll:"+t})}}return t})}else{u=new Ut(l.status,l.stdout+l.stderr,{fileName:"haxeshim/Scope.hx",lineNumber:248,className:"haxeshim.Scope",methodName:"resolveThroughHaxelib"});var c=u;var h=new G;h.fail(c.message,Y.Custom("haxelib path"),c.code);return h.produce([])}break;case 1:var d=o.failure;var v=new G;v.fail(d.message,Y.Custom("haxelib path"),d.code);return v.produce([])}},interpolate:function(t,e){var n=this;var i;if(e==null){i=$bind(this,this.getVar)}else{var r=e;i=function(t){var e=r(t);if(e==null){return n.getVar(t)}else{var i=e;return i}}}return Xt.sure(M.interpolate(t,i))},parseDirectives:function(t){var e=new C;var n=0;var i=t.split("\n");var r=p.trim;var s=new Array(i.length);var o=0;var l=i.length;while(o<l){var u=o++;s[u]=r(i[u])}var a=s;while(n<a.length){var f=a[n];++n;if(p.startsWith(f,"#")){var c=p.ltrim(v.substr(f,1,null));if(p.startsWith(c,"@")){var h=c.indexOf(":");if(h!=-1){var d=h;var w=c.substring(1,d);var m;var y=_t[w]!=null?e.getReserved(w):e.h[w];if(y==null){var b=[];if(_t[w]!=null){e.setReserved(w,b)}else{e.h[w]=b}m=b}else{var S=y;m=S}m.push(this.interpolate(p.ltrim(v.substr(c,d+1,null))))}}}}return e},libHxml:function(t){return""+this.scopeLibDir+"/"+t+".hxml"},getInstallationInstructions:function(){var t=[];var e={install:[],postInstall:[]};if(_.exists(this.scopeLibDir)){var n=0;var i=tt.readdirSync(this.scopeLibDir);while(n<i.length){var r=i[n];++n;var s=""+this.scopeLibDir+"/"+r;if(!_.isDirectory(s)&&p.endsWith(s,".hxml")){var o=tt.readFileSync(s,{encoding:"utf8"});var l;var u=M.fromMultilineString(o,s,$bind(this,this.getVar));switch(u._hx_index){case 0:var a=u.data;var f=[];var c=0;while(c<a.length){var h=a[c];++c;f.push(h.val)}l=f;break;case 1:var d=u.failure;var v=d.errors;var w=d.result;var m=[];var y=0;while(y<w.length){var b=w[y];++y;m.push(b.val)}l=m;break}var S=0;var R=l.length;while(S<R)switch(l[S++]){case"--class-path":case"-cp":case"-p":var O=l[S++];if(!_.exists(O)){var N=this.parseDirectives(o);var I=_t["install"]!=null?N.getReserved("install"):N.h["install"];if(I==null){t.push({lib:r,cp:O})}else if(I.length==0){t.push({lib:r,cp:O})}else{var D=I;var L=0;while(L<D.length){var A=D[L];++L;e.install.push(A)}var C=_t["post-install"]!=null?N.getReserved("post-install"):N.h["post-install"];if(C!=null){var B=C;var k=0;while(k<B.length){var T=B[k];++k;e.postInstall.push(T)}}}S=R}break;default:}}}}return{missing:t,instructions:e}},resolveArgs:function(t){var e=this.cwd;var n=function(t){if(E.isAbsolute(t)){return t}else{return E.join([e,t])}};e=n(t.cwd);var i=[];var r=[];var s=new G;var o=[];var l=[];var u=[];var a=0;t:while(a<t.args.length){var f=t.args[a++];switch(f.val){case"--run":u=t.args.slice(a-1);break t;case"--connect":case"--display":case"--server-connect":case"--server-listen":l.push(f);var c=t.args[a++];if(c==null){s.fail(""+f.val+" requires argument",f.pos)}else{var h=c;l.push(h)}break;case"--wait":l.push(f);break;default:o.push(f)}}var d=new C;t:while(o.length>0){var v=[o.shift()];var w=function(t){return function(e){s.fail(e,t[0].pos)}}(v);var m=v[0].val;switch(m){case"--connect":case"--cwd":case"--each":case"--next":case"--run":case"--wait":case"-C":var y=m;if(p.endsWith(y,".hxml")){o=M.readHxml(n(y),nt.fs,$bind(this,this.getVar),s,v[0].pos).concat(o)}else{var b=m;w(""+b+" not allowed here");break t}break;case"--lib":case"-L":case"-lib":var S=o.shift();var R;if(S==null){w("-lib requires argument")}else{R=M.getNdll(S.val);if(R._hx_index==0){var O=R.v;var N=S;i.push(v[0]);i.push(N)}else{var I=S;var D=I.val;if(!(_t[D]!=null?d.getReserved(D):d.h[D])){var L=I.val;if(_t[L]!=null){d.setReserved(L,true)}else{d.h[L]=true}var A=this.config.resolveLibs;var B;if(A=="haxelib"){r.push(I)}else{B=A=="mixed";var k=B;var T=this.libHxml(I.val);var F=nt.fs.readFile(T);switch(F._hx_index){case 0:var U=F.data;var z=M.fromMultilineString(U,T,$bind(this,this.getVar));o=s.getResult(z).concat(o);break;case 1:var P=F.failure;if(_.exists(T)){w(P)}else if(k){r.push(I)}else{w("-lib "+I.val+" is missing "+T)}break}}}}}break;default:var W=m;if(p.endsWith(W,".hxml")){o=M.readHxml(n(W),nt.fs,$bind(this,this.getVar),s,v[0].pos).concat(o)}else{i.push(v[0])}}}var Y=l.concat(i);var Z=this.resolveThroughHaxelib(r);i=Y.concat(s.getResult(Z)).concat(u);return s.produce(new rt(e,i))},getBuilds:function(t){var e=new G;var n=[];var i=0;var r=e.getResult(M.split(t,this.cwd,nt.fs,$bind(this,this.getVar)));while(i<r.length){var s=r[i];++i;if(s.args.length>0){n.push(this.resolveArgs(s))}}return e.produce(n)},resolve:function(t){var e=[];var n=new G;var i=0;var r=n.getResult(M.split(t,this.cwd,nt.fs,$bind(this,this.getVar)));while(i<r.length){var s=r[i];++i;if(s.args.length>0){if(e.length!=0){e.push("--next")}if(s.cwd!=this.cwd){e.push("--cwd");e.push(s.cwd)}var o=0;var l=n.getResult(this.resolveArgs(s)).args;while(o<l.length){var u=l[o];++o;e.push(u.val)}}}var a=n.produce(42);if(a._hx_index==1){var c;c=a.failure.errors[0];var h=c;process.stdout.write(f.string(h.message));process.stdout.write("\n");var d;var v=h.code;if(v==null){d=500}else{var w=v;d=w}process.exit(d)}return e},__class__:nt};var it=function(){};it.__name__=true;it.setEnv=function(){if(it.isset){if(j.IS_WINDOWS){var t=0;var e=it.ENV;var n=e==null?[]:u.fields(e);while(t<n.length){var i=n[t];++t;var r=W.get(it.ENV,i);process.env[i]=r}}it.isset=false}};var rt=function(t,e){M.call(this,t,e)};rt.__name__=true;rt.__super__=M;rt.prototype=$extend(M.prototype,{resolve:function(t){if(E.isAbsolute(t)){return t}else{return E.join([this.cwd,t])}},checkClassPaths:function(){var t=new G;var e=0;var n=this.args.length;while(e<n){var i=e++;switch(this.args[i].val){case"--class-path":case"-cp":case"-p":if(i+1<this.args.length){var r=this.args[i+1];try{tt.readdirSync(this.resolve(r.val))}catch(e){var s=e instanceof st?e.val:e;t.fail("classpath "+r.val+" is not a directory or cannot be read from",r.pos)}}break;default:}}return t.produce(Pt.Noise)},__class__:rt});var st=function(t){Error.call(this);this.val=t;if(Error.captureStackTrace){Error.captureStackTrace(this,st)}};st.__name__=true;st.wrap=function(t){if(t instanceof Error){return t}else{return new st(t)}};st.__super__=Error;st.prototype=$extend(Error.prototype,{__class__:st});var ot=function(){};ot.__name__=true;ot.sliceImpl=function(t,e){var n=new Uint8Array(this,t,e==null?null:e-t);var i=new Uint8Array(n.byteLength);i.set(n);return i.buffer};var lt=n(605);var ut=n(211);var at=n(631);var ft=n(622);var ct=n(835);var ht=n(293).Buffer;var dt=function(){};dt.__name__=true;dt.bytesOfBuffer=function(t){var e=Object.create(B.prototype);e.length=t.byteLength;e.b=t;t.bufferValue=t;t.hxBytes=e;t.bytes=t;return e};var vt=n(413).PassThrough;var wt=function(){};wt.__name__=true;wt.attempt=function(t,e){var n=jt.ofSync(wt.reportError);var i=t.flatMap(function(t){switch(t._hx_index){case 0:var e=t.data;return new Wt(new g(e));case 1:var i=t.failure;return n(i)}});i.gather().handle(e)};wt.reportError=function(t){K.get().error(t.message);process.exit(t.code);return null};var pt=function(){};pt.__name__=true;pt.ensureScope=function(){if(nt.exists(nt.DEFAULT_ROOT)){return new Wt(new g(et.Success(Pt.Noise)))}else{return nt.create(nt.DEFAULT_ROOT,{version:"stable",resolveLibs:"mixed"})}};pt.ensure=function(t){return qt.next(pt.ensureScope(),function(e){var n=nt.seek();var i=new Nt(n,t);var r;if(!_.exists(i.scope.haxeInstallation.path)){var s=i.scope.config.version;t.info("Version "+s+" configured in "+i.scope.configFile+" does not exist. Attempting download ...");r=i.install(s,{force:false})}else{r=new Wt(new g(et.Success(Pt.Noise)))}return qt.next(r,function(t){return new Wt(new g(et.Success(Pt.Noise)))})})};pt.main=function(){J.withArgs(function(t){wt.attempt(pt.ensure(K.get()),Ct.fromNiladic(function(){J.run(t);return}));return})};var mt=n(766);var yt=function(){};yt.__name__=true;yt.text=function(t){return qt.next(yt.bytes(t),function(t){return new Wt(new g(et.Success(t.toString())))})};yt.bytes=function(t){return yt.download(t,function(t,e,n){yt.buffered(e).handle(n)})};yt.buffered=function(t){return Gt.async(function(e){var n=[];t.on("data",$bind(n,$arrayPush));t.on("end",function(){var t=et.Success(dt.bytesOfBuffer(ht.concat(n)));e(t)})})};yt.archive=function(t,e,n,i){var r=yt.withLogger(i,function(i,r,s){if(r.headers["content-type"]=="application/zip"||p.endsWith(t,".zip")||p.endsWith(i,".zip")){yt.unzip(t,n,e,r,s)}else{yt.untar(t,n,e,r,s)}});return yt.download(t,r)};yt.unzip=function(t,e,i,r,s){qt.next(yt.buffered(r),function(r){return Gt.async(function(o){var l=r.length-4;while(l-- >0)if(r.b[l]==80&&r.b[l+1]==75&&r.b[l+2]==5&&r.b[l+3]==6){r.b[l+20]=0;r.b[l+21]=0;r=r.sub(0,l+22);break}if(l==0){var u=et.Failure(new Ut(422,"Unzip failed to find central directory in "+t,{fileName:"src/lix/client/Download.hx",lineNumber:70,className:"lix.client.Download",methodName:"unzip"}));o(u);return}var a=r.b;mt.fromBuffer(ht.from(a.buffer,a.byteOffset,r.length),function(r,l){var u=-1;var a=function(){u+=1;s.onProgress(u,l.entryCount,false);if(u==l.entryCount){var t=o;var n=et.Success(e);O.delay(function(){t(n)},100)}};if(r!=null){var c=et.Failure(new Ut(422,"Failed to unzip "+t+" because "+f.string(r),{fileName:"src/lix/client/Download.hx",lineNumber:83,className:"lix.client.Download",methodName:"unzip"}));o(c)}l.on("entry",function(t){var r=q.peel(yt.stripLeadingSlashes(t.fileName),i);switch(r._hx_index){case 0:var s=r.v;var o=""+e+"/"+s;if(p.endsWith(o,"/")){a()}else{q.ensureDir(o).eager();l.openReadStream(t,function(t,e){var i=n(598).createWriteStream(o);e.pipe(i,{end:true});i.on("close",a)})}break;case 1:break}});l.on("end",function(){l.close();a()})})})}).handle($bind(s,s.done))};yt.stripLeadingSlashes=function(t){if(t.charAt(0)=="/"){return yt.stripLeadingSlashes(v.substr(t,1,null))}else{return t}};yt.untar=function(t,e,i,r,s){return Gt.async(function(t){var o=0;var l=0;var u=[];var a=function(){s.onProgress(l,o+1,true)};var f=1;var c=function(n){if(n==null){n=0}l+=n;a();O.delay(function(){if((f-=1)<=0){s.onProgress(o,o,true);var n=[];var i=0;while(i<u.length){var r=[u[i]];++i;n.push(Gt.async(function(t){return function(e){tt.unlink(t[0].to,function(t){return function(n){tt.symlink(t[0].from,t[0].to,function(){return function(t){var n=t==null?et.Success(Pt.Noise):et.Failure(new Ut(null,t.message,{fileName:"src/lix/client/Download.hx",lineNumber:142,className:"lix.client.Download",methodName:"untar"}));e(n)}}())}}(t))}}(r)))}qt.next(qt.inParallel(n),function(t){return new Wt(new g(et.Success(e)))}).handle(t)}},100)};var h=null;var d=function(e){h=new Ut(null,e,{fileName:"src/lix/client/Download.hx",lineNumber:154,className:"lix.client.Download",methodName:"untar"});t(et.Failure(h))};Lt.parse(r,function(r){if(h!=null){return}o+=r.size;a();var s=function(){r.on("data",function(){})};var l=q.peel(yt.stripLeadingSlashes(r.path),i);switch(l._hx_index){case 0:var d=l.v;var v=""+e+"/"+d;if(p.endsWith(v,"/")){s()}else{q.ensureDir(v).handle(function(e){if(e._hx_index==1){var i=e.failure;h=i;t(et.Failure(h))}else if(r.type=="SymbolicLink"){s();var o=E.directory(v);u.push({from:E.join([o,r.linkpath]),to:v})}else{f+=1;var l=new vt;var a=n(598).createWriteStream(v,{mode:r.mode});r.pipe(l,{end:true});l.pipe(a,{end:true});var d=c;var w=r.size;a.on("close",function(){d(w)})}})}break;case 1:s();break}}).handle(function(e){if(e._hx_index==1){var n=e.failure;t(et.Failure(n))}else{c()}})}).handle($bind(s,s.done))};yt.withLogger=function(t,e){return function(n,i,r){var s=f.parseInt(i.headers["content-length"]);var o=0;var l=0;var u=1;var a=null;var c=function(e){if(e==a){return}a=e;t.progress(e)};var h=function(t){t=Math.min(1,Math.max(0,t));var e=f.string(Math.round(1e3*t)/10);var n;if(e.indexOf(".")==-1){var i=e;n=""+i+".0"}else{var r=e;n=r}return p.lpad(n," ",5)+"%"};var d=new Date(0).getTime();var v=function(){if(!(l==u||l/u>=1)){var t=(new Date).getTime();if(t>d+137){d=t;var e=[];if(o<s){e.push("Downloaded: "+h(o/s))}if(l>0){e.push("Saved: "+h(l/u))}var n="   "+e.join("   ");c(n)}}};i.on("data",function(t){o+=t.length;v()});var w=0;e(n,i,{onProgress:function(t,e,n){l=t;u=e;if(n){var i=o/s;var r=l/u;var a=i*r;if(a<w){a=w}w=a;l=Math.round(a*1e3);u=1e3}v()},done:function(e){t.success("-> Done!");r(e)}})}};yt.download=function(t,e){return Gt.async(function(n){var i=ct.parse(t);i.agent=false;if(i.headers==null){i.headers={}}i.headers["user-agent"]=yt.USER_AGENT;var r=function(e){var i=et.Failure(Ut.withData(null,"Failed to download "+t+" because "+e.message,e,{fileName:"src/lix/client/Download.hx",lineNumber:293,className:"lix.client.Download",methodName:"download"}));n(i)};var s=p.startsWith(t,"https:")?ut.get(i):lt.get(i);s.setTimeout(3e4);s.on("error",r);s.on("response",function(s){if(s.statusCode>=400){var o=et.Failure(Ut.withData(s.statusCode,s.statusMessage,s,{fileName:"src/lix/client/Download.hx",lineNumber:304,className:"lix.client.Download",methodName:"download"}));n(o)}else{var l=s.headers["location"];if(l==null){s.on("error",r);e(t,s,function(t){switch(t._hx_index){case 0:var e=t.data;n(et.Success(e));break;case 1:var i=t.failure;n(et.Failure(i));break}})}else{var u=l;var a=ct.parse(u);var f=a.slashes;var c=a.search;var h=a.query;var d=a.port;var v=a.pathname;var w=a.path;var p=a.href;var m=a.hostname;var y=a.host;var b=a.hash;var S=a.auth;yt.download(a.protocol==null?i.protocol+"//"+i.host+u:u,e).handle(n)}}})})};var bt={};bt.__name__=true;bt.get_isPrerelease=function(t){return t.indexOf("-")!=-1};bt.isNumber=function(t){return new d("^[0-9]*$","").match(t)};bt.fragment=function(t,e){if(bt.isNumber(t)&&bt.isNumber(e)){return f.parseInt(t)-f.parseInt(e)}else{return u.compare(t,e)}};bt.compare=function(t,e){var n=t.split("-");var i=e.split("-");var r=0;while(r<n.length&&r<i.length){var s=n[r].split(".");var o=i[r++].split(".");var l=0;while(l<s.length&&l<o.length){var u=bt.fragment(s[l],o[l]);if(u==0){++l}else{var a=u;return-a}}var f=s.length-o.length;if(f!=0){var c=f;return-c}}return(n.length-i.length)*(r==1?1:-1)};var St=i["lix.client.haxe.ResolvedUserVersionData"]={__ename__:true,__constructs__:["RNightly","ROfficial","RCustom"],RNightly:(r=function(t){return{_hx_index:0,nightly:t,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:e}},r.__params__=["nightly"],r),ROfficial:(r=function(t){return{_hx_index:1,version:t,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:e}},r.__params__=["version"],r),RCustom:(r=function(t){return{_hx_index:2,path:t,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:e}},r.__params__=["path"],r)};var Rt={};Rt.__name__=true;Rt.get_id=function(t){switch(t._hx_index){case 0:var e=t.nightly;var n=e.published;var i=e.file;var r=e.development;var s=e.hash;return s;case 1:var o=t.version;return o;case 2:var l=t.path;return l}};Rt.toString=function(t){return It.toString(It.ofResolved(t))};var Ot=i["lix.client.haxe.PickOfficial"]={__ename__:true,__constructs__:["StableOnly","IncludePrereleases"],StableOnly:{_hx_index:0,__enum__:"lix.client.haxe.PickOfficial",toString:e},IncludePrereleases:{_hx_index:1,__enum__:"lix.client.haxe.PickOfficial",toString:e}};var Nt=function(t,e){this.scope=t;this.logger=e;q.ensureDir(E.addTrailingSlash(t.versionDir)).eager();q.ensureDir(E.addTrailingSlash(t.haxelibRepo)).eager();q.ensureDir(this.downloads=t.haxeshimRoot+"/downloads/").eager()};Nt.__name__=true;Nt.linkToNightly=function(t,e,n){if(n==null){var i=Nt.PLATFORM=="windows"&&e.getTime()>14944608e5?"zip":"tar.gz";n=h.format(e,"haxe_%Y-%m-%d_development_"+t+"."+i)}return h.format(e,""+Nt.NIGHTLIES+"/"+Nt.PLATFORM+"/"+n)};Nt.sortedOfficial=function(t,e){if(t==Ot.StableOnly){var n=[];var i=0;while(i<e.length){var r=e[i];++i;if(!bt.get_isPrerelease(r)){n.push(r)}}e=n}e.sort(bt.compare);return e};Nt.officialOnline=function(t){return qt.next(yt.text("https://haxe.org/website-content/downloads/versions.json"),function(e){var n=JSON.parse(e).versions.map(function(t){return t.version});return new Wt(new g(et.Success(Nt.sortedOfficial(t,n))))})};Nt.sortedNightlies=function(t){t.sort(function(t,e){return u.compare(e.published.getTime(),t.published.getTime())});return t};Nt.nightliesOnline=function(){return qt.next(yt.text(""+Nt.NIGHTLIES+"/"+Nt.PLATFORM+"/"),Jt.ofSafeSync(function(t){var e=t.split("------------------\n").pop().split("\n");var n=[];var i=function(t){try{return A.Some(v.strDate(t))}catch(t){var e=t instanceof st?t.val:t;return A.None}};var r=0;while(r<e.length){var s=e[r];++r;var o=p.trim(s).split('<a href="');if(o.length==2){var l=o[1];var u=i(o[0].split("  ")[0]);if(u._hx_index==0){var a;a=l.split('"')[0];var f=a;var c=u.v;var h=f.split(".")[0].split("_").pop();if(h==null){var d=h;n.push({hash:d,file:f,development:f.indexOf("_development_")!=-1,published:c})}else if(h!="latest"){var w=h;n.push({hash:w,file:f,development:f.indexOf("_development_")!=-1,published:c})}}}}return Nt.sortedNightlies(n)}))};Nt.attempt=function(t,e){try{return new Wt(new g(et.Success(e.get())))}catch(e){return new Wt(new g(et.Failure(new Ut(null,"Failed to "+t+" because "+f.string(e instanceof st?e.val:e),{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:106,className:"lix.client.haxe.Switcher",methodName:"attempt"}))))}};Nt.pickFirst=function(t,e,n){if(n==null){return Nt.pickFirst(t,e,function(t){return true})}else{return function(i){var r=$getIterator(i);while(r.hasNext()){var s=r.next();if(n(s)){return new Wt(new g(et.Success(e(s))))}}return new Wt(new g(et.Failure(new Ut(404,"No "+t+" build found",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:140,className:"lix.client.haxe.Switcher",methodName:"pickFirst"}))))}}};Nt.prototype={officialInstalled:function(t){var e=[];var n=0;var i=tt.readdirSync(this.scope.versionDir);while(n<i.length){var r=i[n];++n;if(!It.isHash(r)&&_.isDirectory(this.versionDir(r))){e.push(r)}}return Nt.attempt("Get installed Haxe versions",new g(Nt.sortedOfficial(t,e)))},nightliesInstalled:function(){var t=[];var e=0;var n=It.isHash;var i=[];var r=0;var s=tt.readdirSync(this.scope.versionDir);while(r<s.length){var o=s[r];++r;if(n(o)){i.push(o)}}var l=i;while(e<l.length){var u=l[e];++e;t.push({hash:u,published:v.strDate(JSON.parse(tt.readFileSync(""+this.versionDir(u)+"/"+Nt.VERSION_INFO,{encoding:"utf8"})).published)})}return Nt.attempt("get installed Haxe versions",new g(Nt.sortedNightlies(t)))},switchTo:function(t){if(Rt.get_id(t)==this.scope.config.version){return new Wt(new g(et.Success(Pt.Noise)))}else{return this.scope.reconfigure({version:Rt.get_id(t),resolveLibs:this.scope.config.resolveLibs})}},resolveInstalled:function(t){return this.resolve(t,$bind(this,this.officialInstalled),$bind(this,this.nightliesInstalled))},resolveOnline:function(t){return this.resolve(t,Nt.officialOnline,Nt.nightliesOnline)},resolve:function(t,e,n){switch(t._hx_index){case 0:return qt.next(n(),Nt.pickFirst("nightly",St.RNightly,function(t){return t.development!=false}));case 1:return qt.next(e(Ot.IncludePrereleases),Nt.pickFirst("official",St.ROfficial));case 2:return qt.next(e(Ot.StableOnly),Nt.pickFirst("stable",St.ROfficial));case 3:var i=t.hash;return qt.ofSpecific(qt.next(n(),function(e){var n=$getIterator(e);while(n.hasNext()){var r=n.next();if(r.hash==i){return new Wt(new g(et.Success(St.RNightly(r))))}}return new Wt(new g(et.Failure(new Ut(404,"Unable to resolve nightly version "+It.toString(t)+" locally, install it first with `lix install haxe "+It.toString(t)+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:165,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}));case 4:var r=t.version;return qt.ofSpecific(qt.next(e(Ot.IncludePrereleases),function(t){if(w.has(t,r)){return new Wt(new g(et.Success(St.ROfficial(r))))}else{return new Wt(new g(et.Failure(new Ut(404,"Unable to resolve version "+r+" locally, install it first with `lix install haxe "+r+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:173,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}}));case 5:var s=t.path;return new Wt(new g(et.Success(St.RCustom(s))))}},versionDir:function(t){return this.scope.getInstallation(t).path},isDownloaded:function(t){return _.exists(this.versionDir(Rt.get_id(t)))},linkToOfficial:function(t){var e="https://haxe.org/website-content/downloads/"+t+"/downloads/haxe-"+t+"-";var n;switch(o.systemName()){case"Mac":n="osx.tar.gz";break;case"Windows":n="win.zip";break;default:n=t<"3"?"linux.tar.gz":"linux64.tar.gz"}return e+n},replace:function(t,e,n,i){var r=e;while(true){var s=q.ls(e);if(s.length==1){var o=s[0];e=o}else{break}}if(i!=null){i(e)}if(_.exists(t)){var l=""+this.downloads+"/"+n+"@"+Math.floor(tt.statSync(t).ctime.getTime());tt.renameSync(t,l);tt.renameSync(e,t)}else{tt.renameSync(e,t)}if(_.exists(r)){q.delete(r)}},install:function(t,e){return qt.next(this.resolveAndDownload(t,e),$bind(this,this.switchTo))},resolveAndDownload:function(t,e){var n=this;var i;var r=It.ofString(t);if(r._hx_index==4){var s=r.version;i=this.resolveInstalled(It.ofString(t))}else{i=new Wt(new g(et.Failure(new Ut(null,""+t+" needs to be resolved online",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:231,className:"lix.client.haxe.Switcher",methodName:"resolveAndDownload"}))))}var o=function(e){n.logger.info('Looking up Haxe version "'+t+'" online');return qt.next(n.resolveOnline(It.ofString(t)),function(t){n.logger.info("  Resolved to "+Rt.toString(t)+". Downloading ...");return new Wt(new g(et.Success(t)))})};var l=i.flatMap(function(t){switch(t._hx_index){case 0:var e=t.data;return new Wt(new g(t));case 1:var n=t.failure;return o(n)}});return qt.next(l.gather(),function(t){return qt.next(n.download(t,e),function(e){n.logger.success(!e?"  ... already downloaded!":"  ... download complete!");return new Wt(new g(et.Success(t)))})})},download:function(t,e){var n=this;if(this.isDownloaded(t)==true){if(e.force!=true){return new Wt(new g(et.Success(false)))}else{switch(t._hx_index){case 0:var i=t.nightly;var r=i.development;var s=i.published;var o=i.hash;var l=i.file;var u=Nt.linkToNightly(o,s,l);var a=""+this.downloads+"/"+o+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+Rt.toString(t));return qt.next(yt.archive(u,0,a,n.logger),function(t){var e=n.versionDir(o);n.replace(e,t,o,function(t){tt.writeFileSync(""+t+"/"+Nt.VERSION_INFO,JSON.stringify({published:v.dateStr(s)}))});return new Wt(new g(et.Success(true)))});case 1:var f=t.version;var c=this.linkToOfficial(f);var h=""+this.downloads+"/"+f+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+Rt.toString(t));var d=yt.archive(c,0,h,n.logger);return qt.next(d,function(t){var e=n.versionDir(f);n.replace(e,t,f);return new Wt(new g(et.Success(true)))});case 2:var w=t.path;return new Wt(new g(et.Failure(new Ut(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}}else{switch(t._hx_index){case 0:var p=t.nightly;var m=p.development;var y=p.published;var b=p.hash;var S=p.file;var R=Nt.linkToNightly(b,y,S);var O=""+this.downloads+"/"+b+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+Rt.toString(t));return qt.next(yt.archive(R,0,O,n.logger),function(t){var e=n.versionDir(b);n.replace(e,t,b,function(t){tt.writeFileSync(""+t+"/"+Nt.VERSION_INFO,JSON.stringify({published:v.dateStr(y)}))});return new Wt(new g(et.Success(true)))});case 1:var N=t.version;var I=this.linkToOfficial(N);var D=""+this.downloads+"/"+N+"@"+Math.floor((new Date).getTime());n.logger.info("Downloading Haxe: "+Rt.toString(t));var L=yt.archive(I,0,D,n.logger);return qt.next(L,function(t){var e=n.versionDir(N);n.replace(e,t,N);return new Wt(new g(et.Success(true)))});case 2:var A=t.path;return new Wt(new g(et.Failure(new Ut(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}},__class__:Nt};var It={};It.__name__=true;It.ofResolved=function(t){switch(t._hx_index){case 0:var e=t.nightly;var n=e.published;var i=e.file;var r=e.development;var s=e.hash;return Dt.UNightly(s);case 1:var o=t.version;return Dt.UOfficial(o);case 2:var l=t.path;return Dt.UCustom(l)}};It.isHash=function(t){var e=0;var n=t.length;while(e<n){var i=e++;var r=It.hex;var s=t.charCodeAt(i);if(!r.h[s]){return false}}return true};It.toString=function(t){switch(t._hx_index){case 0:return"latest nightly build";case 1:return"latest official";case 2:return"latest stable release";case 3:var e=t.hash;return"nightly build "+e;case 4:var n=t.version;return"official release "+n;case 5:var i=t.path;return"custom version at `"+i+"`"}};It.isPath=function(t){if(!E.isAbsolute(t)){return t.charAt(0)=="."}else{return true}};It.ofString=function(t){if(t==null){return null}else{var e;var n;if(t==null){e=It.isHash(t);if(e==true){return Dt.UNightly(t)}else{n=It.isPath(t);if(n==true){return Dt.UCustom(t)}else{return Dt.UOfficial(t)}}}else{switch(t){case"auto":return null;case"latest":return Dt.ULatest;case"edge":case"nightly":return Dt.UEdge;case"stable":return Dt.UStable;default:e=It.isHash(t);if(e==true){return Dt.UNightly(t)}else{n=It.isPath(t);if(n==true){return Dt.UCustom(t)}else{return Dt.UOfficial(t)}}}}}};var Dt=i["lix.client.haxe.UserVersionData"]={__ename__:true,__constructs__:["UEdge","ULatest","UStable","UNightly","UOfficial","UCustom"],UEdge:{_hx_index:0,__enum__:"lix.client.haxe.UserVersionData",toString:e},ULatest:{_hx_index:1,__enum__:"lix.client.haxe.UserVersionData",toString:e},UStable:{_hx_index:2,__enum__:"lix.client.haxe.UserVersionData",toString:e},UNightly:(r=function(t){return{_hx_index:3,hash:t,__enum__:"lix.client.haxe.UserVersionData",toString:e}},r.__params__=["hash"],r),UOfficial:(r=function(t){return{_hx_index:4,version:t,__enum__:"lix.client.haxe.UserVersionData",toString:e}},r.__params__=["version"],r),UCustom:(r=function(t){return{_hx_index:5,path:t,__enum__:"lix.client.haxe.UserVersionData",toString:e}},r.__params__=["path"],r)};var Lt=function(){};Lt.__name__=true;Lt.parse=function(t,e){return Gt.async(function(n){var i=0;var r=0;var s=new At({onentry:function(t){i+=1;e(t)}});s.on("warn",function(){r+=1});s.on("end",function(){var t=i==0&&r!=0?et.Failure(new Ut(422,"Invalid tar archive.",{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:23,className:"lix.client.uncompress.Tar",methodName:"parse"})):et.Success(Pt.Noise);n(t)});s.on("error",function(t){var e=et.Failure(new Ut(null,t.message,{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:26,className:"lix.client.uncompress.Tar",methodName:"parse"}));n(e)});t.pipe(s,{end:true})})};var At=n(885).Parse;var Ct={};Ct.__name__=true;Ct.invoke=function(t,e){if(Ct.depth<500){Ct.depth++;t(e);Ct.depth--}else{var n=t;var i=function(t){Ct.invoke(n,t)};var r=e;Ct.defer(function(){i(r)})}};Ct.fromNiladic=function(t){return t};Ct.defer=function(t){process.nextTick(t)};var Bt=function(){};Bt.__name__=true;Bt.__isInterface__=true;Bt.prototype={__class__:Bt};var kt={};kt.__name__=true;kt.fromMany=function(t){var e=new Tt(function(){if(t!=null){var e=0;while(e<t.length){var n=t[e];++e;if(n!=null){n.cancel()}}}else{t=null}});return e};var Tt=function(t){this.f=t};Tt.__name__=true;Tt.__interfaces__=[Bt];Tt.prototype={cancel:function(){if(this.f!=null){this.f();this.f=null}},__class__:Tt};var Et=function(t,e){this.dissolved=false;this.a=t;this.b=e};Et.__name__=true;Et.__interfaces__=[Bt];Et.prototype={cancel:function(){if(!this.dissolved){this.dissolved=true;var t=this.a;if(t!=null){t.cancel()}var e=this.b;if(e!=null){e.cancel()}this.a=null;this.b=null}},__class__:Et};var Mt=function(t,e){if(t==null){throw new st("callback expected but null received")}this.cb=t;this.list=e};Mt.__name__=true;Mt.__interfaces__=[Bt];Mt.prototype={cancel:function(){if(this.list!=null){var t=this.list;this.cb=null;this.list=null;if(--t.used<t.used>>1){t.compact()}}},__class__:Mt};var Ft=function(){this.busy=false;this.queue=[];this.used=0;this.cells=[]};Ft.__name__=true;Ft.prototype={ondrain:function(){},invoke:function(t,e){if(this.busy){var n=$bind(this,this.invoke);var i=t;var r=e;var s=function(){n(i,r);return};this.queue.push(s)}else{this.busy=true;var o=this.cells.length;var l=0;var u=o;while(l<u){var a=l++;var f=this.cells[a];if(f.list!=null){Ct.invoke(f.cb,t)}}this.busy=false;if(e){var c=this.cells.length-o;var h=0;var d=o;while(h<d){var v=h++;var w=this.cells[v];w.cb=null;w.list=null}var p=0;var m=c;while(p<m){var y=p++;this.cells[y]=this.cells[o+y]}this.resize(c)}else if(this.used<this.cells.length){this.compact()}if(this.queue.length>0){this.queue.shift()()}}},compact:function(){if(this.busy){return}else if(this.used==0){this.resize(0);this.ondrain()}else{var t=0;var e=0;var n=this.cells.length;while(e<n){var i=e++;var r=this.cells[i];var s=r.list;if(r.cb!=null){var o=r;if(t!=i){this.cells[t]=o}if(++t==this.used){break}}}this.resize(this.used)}},resize:function(t){this.cells.length=t},__class__:Ft};var Ut=function(t,e,n){if(t==null){t=500}this.isTinkError=true;this.code=t;this.message=e;this.pos=n;this.exceptionStack=[];this.callStack=[]};Ut.__name__=true;Ut.withData=function(t,e,n,i){return Ut.typed(t,e,n,i)};Ut.typed=function(t,e,n,i){var r=new Ut(t,e,i);r.data=n;return r};Ut.asError=function(t){if(t!=null&&t.isTinkError){return t}else{return null}};Ut.catchExceptions=function(t,e,n){try{return et.Success(t())}catch(t){var i=t instanceof st?t.val:t;var r=Ut.asError(i);var s;if(r==null){s=e==null?Ut.withData(null,"Unexpected Error",i,n):e(i)}else{var o=r;s=o}return et.Failure(s)}};Ut.tryFinally=function(t,e){try{return t()}finally{e()}return null};Ut.prototype={printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var t="Error#"+this.code+": "+this.message;if(this.pos!=null){t+=" @ "+this.printPos()}return t},throwSelf:function(){var t=this;throw st.wrap(t)},__class__:Ut};var zt=function(){};zt.__name__=true;zt.__isInterface__=true;zt.prototype={__class__:zt};var Pt=i["tink.core.Noise"]={__ename__:true,__constructs__:["Noise"],Noise:{_hx_index:0,__enum__:"tink.core.Noise",toString:e}};var Wt=function(t){this.value=t};Wt.__name__=true;Wt.__interfaces__=[zt];Wt.prototype={map:function(t){return new Wt(this.value.map(t))},flatMap:function(t){var e=this;return new Zt(function(n){var i=e.value.get();return t(i).handle(n)})},handle:function(t){Ct.invoke(t,this.value.get());return null},eager:function(){return this},gather:function(){return this},__class__:Wt};var Gt={};Gt.__name__=true;Gt.flatten=function(t){return new Zt(function(e){var n=null;var i=t.handle(function(t){n=t.handle(e)});var r=new Tt(function(){if(n!=null){n.cancel()}});return new Et(i,r)})};Gt.async=function(t,e){if(e==null){e=false}if(e){return new Zt(function(e){t(e);return null})}else{var n=new Yt;var i=t;Ct.invoke(i,$bind(n,n.trigger));return n}};var Yt=function(){this.list=new Ft};Yt.__name__=true;Yt.__interfaces__=[zt];Yt.prototype={handle:function(t){var e=this.list;if(e==null){Ct.invoke(t,this.result);return null}else{var n=e;var i=new Mt(t,n);n.cells.push(i);n.used++;return i}},map:function(t){var e=this.list;if(e==null){return new Wt(new g(t(this.result)))}else{var n=e;var i=new Yt;var r=this.list;var s=new Mt(function(e){var n=t(e);i.trigger(n)},r);r.cells.push(s);r.used++;return i}},flatMap:function(t){var e=this.list;if(e==null){return t(this.result)}else{var n=e;var i=new Yt;var r=this.list;var s=new Mt(function(e){t(e).handle($bind(i,i.trigger))},r);r.cells.push(s);r.used++;return i}},gather:function(){return this},eager:function(){return this},trigger:function(t){if(this.list==null){return false}else{var e=this.list;this.list=null;this.result=t;e.invoke(t,true);return true}},__class__:Yt};var Zt=function(t){this.suspended=true;var e=this;this.wakeup=t;this.callbacks=new Ft;this.callbacks.ondrain=function(){if(e.callbacks!=null){e.suspended=true;var t=e.link;if(t!=null){t.cancel()}e.link=null}}};Zt.__name__=true;Zt.__interfaces__=[zt];Zt.prototype={trigger:function(t){var e=this.callbacks;if(e!=null){var n=e;this.callbacks=null;this.suspended=false;this.result=t;this.link=null;this.wakeup=null;n.invoke(t,true)}},handle:function(t){var e=this.callbacks;if(e==null){Ct.invoke(t,this.result);return null}else{var n=e;var i=this.callbacks;var r=new Mt(t,i);i.cells.push(r);i.used++;var s=r;if(this.suspended){this.suspended=false;this.link=this.wakeup($bind(this,this.trigger))}return s}},map:function(t){var e=this;return new Zt(function(n){return e.handle(function(e){var i=t(e);n(i)})})},flatMap:function(t){return Gt.flatten(this.map(t))},gather:function(){return this},eager:function(){this.handle(Ct.fromNiladic(function(){}));return this},__class__:Zt};var Vt=function(t){this.f=t};Vt.__name__=true;Vt.__interfaces__=[x];Vt.prototype={get:function(){if(this.f!=null){this.result=this.f();this.f=null}return this.result},map:function(t){var e=this;return new Vt(function(){var n=e.get();return t(n)})},__class__:Vt};var Xt=function(){};Xt.__name__=true;Xt.sure=function(t){switch(t._hx_index){case 0:var e=t.data;return e;case 1:var n=t.failure;var i=Ut.asError(n);if(i==null){throw new st(n)}else{var r=i;return r.throwSelf()}break}};Xt.map=function(t,e){switch(t._hx_index){case 0:var n=t.data;return et.Success(e(n));case 1:var i=t.failure;return et.Failure(i)}};var qt={};qt.__name__=true;qt.noise=function(t){return qt.next(t,function(t){return new Wt(new g(et.Success(Pt.Noise)))})};qt.next=function(t,e,n){if(n==null){n=true}var i=n;if(i==null){i=true}var r=t.flatMap(function(t){switch(t._hx_index){case 0:var n=t.data;return e(n);case 1:var i=t.failure;return new Wt(new g(et.Failure(i)))}});if(i){return r.gather()}else{return r}};qt.ofSpecific=function(t){return t};qt.inParallel=function(t,e,n){if(t.length==0){return new Wt(new g(et.Success([])))}else{return Gt.async(function(n){var i=[];var r=t.length;var s=null;var o=[];var l=false;var u=0;var a=v.iter(t);var f=null;var c=function(t){if(s==null){l=true}else if(s!=null){s.cancel()}n(t)};var h=function(t){r=0;c(et.Failure(t))};var d=function(t,e){i[t]=e;if((r-=1)==0){c(et.Success(i))}else if(a.hasNext()&&r>0){f()}};f=function(){u+=1;var t=u-1;var e=a.next().handle(function(e){switch(e._hx_index){case 0:var n=e.data;d(t,n);break;case 1:var i=e.failure;h(i);break}});o.push(e)};while(true){var w;if(a.hasNext()&&r>0){if(e!=null){e-=1;w=e+1>0}else{w=true}}else{w=false}if(!w){break}f()}s=kt.fromMany(o);if(l){if(s!=null){s.cancel()}}},n)}};var Jt={};Jt.__name__=true;Jt.ofSafeSync=function(t){return function(e){return new Wt(new g(et.Success(t(e))))}};var jt={};jt.__name__=true;jt.ofSync=function(t){return function(e){return new Wt(new g(t(e)))}};function $getIterator(t){if(t instanceof Array)return v.iter(t);else return t.iterator()}function $bind(e,n){if(n==null)return null;if(n.__id__==null)n.__id__=t.$haxeUID++;var i;if(e.hx__closures__==null)e.hx__closures__={};else i=e.hx__closures__[n.__id__];if(i==null){i=n.bind(e);e.hx__closures__[n.__id__]=i}return i}function $arrayPush(t){this.push(t)}t.$haxeUID|=0;a.__toStr={}.toString;if(String.fromCodePoint==null)String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode((t>>10)+55232)+String.fromCharCode((t&1023)+56320)};String.prototype.__class__=String;String.__name__=true;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__="Date";var Qt={};var Kt={};var $t=Number;var Ht=Boolean;var xt={};var gt={};var _t={};Object.defineProperty(st.prototype,"message",{get:function(){return String(this.val)}});if(ArrayBuffer.prototype.slice==null){ArrayBuffer.prototype.slice=ot.sliceImpl}c.values=function(t){var e;var n=new D;n.set(s.Off,0);n.set(s.Bold,1);n.set(s.Underline,4);n.set(s.Blink,5);n.set(s.ReverseVideo,7);n.set(s.Concealed,8);n.set(s.BoldOff,22);n.set(s.UnderlineOff,24);n.set(s.BlinkOff,25);n.set(s.NormalVideo,27);n.set(s.ConcealedOff,28);n.set(s.Black,30);n.set(s.Red,31);n.set(s.Green,32);n.set(s.Yellow,33);n.set(s.Blue,34);n.set(s.Magenta,35);n.set(s.Cyan,36);n.set(s.White,37);n.set(s.DefaultForeground,39);n.set(s.BlackBack,40);n.set(s.RedBack,41);n.set(s.GreenBack,42);n.set(s.YellowBack,43);n.set(s.BlueBack,44);n.set(s.MagentaBack,45);n.set(s.CyanBack,46);n.set(s.WhiteBack,47);n.set(s.DefaultBackground,49);e=n;return e}(this);c.available=c.detectSupport();c.strip=false;c.stripIfUnavailable=true;h.DAY_SHORT_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];h.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];h.MONTH_SHORT_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];h.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"];j.IS_WINDOWS=o.systemName()=="Windows";j.DELIMITER=j.IS_WINDOWS?";":":";Q.EXT=j.IS_WINDOWS?".exe":"";$.isTTY=process.stderr.isTTY;$.out=function(t){var e;c.available=$.isTTY;e=new y(2);return e}(this);nt.CONFIG_FILE=".haxerc";nt.fs={isDirectory:function(t){try{return _.isDirectory(t)}catch(t){var e=t instanceof st?t.val:t;return false}},readFile:function(t){try{return et.Success(tt.readFileSync(t,{encoding:"utf8"}))}catch(e){return et.Failure("Cannot read "+t+" because "+f.string(e instanceof st?e.val:e))}}};nt.DEFAULT_ROOT=function(t){var e;var n=nt.env("HAXE_ROOT");var i=nt.env("HAXESHIM_ROOT");var r=new g(process.env[j.IS_WINDOWS?"APPDATA":"HOME"]+"/haxe");var s;if(i._hx_index==0){var o=i.v;s=o}else{s=r.get()}var l=new g(s);e=n._hx_index==0?function(t){var e;var i=n.v;e=i;return e}(t):l.get();return e}(this);it.PATH=j.slashes(nt.DEFAULT_ROOT+"/neko");it.isset=false;it.ENV=function(t){var e;var n;switch(o.systemName()){case"Mac":n="DYLD_LIBRARY_PATH";break;case"Windows":n="PATH";break;default:n="LD_LIBRARY_PATH"}var i=process.env[n];e=i==null?function(t){var e;var i=new C;{var r=it.PATH;if(_t[n]!=null){i.setReserved(n,r)}else{i.h[n]=r}}e=W.ofMap(i);return e}(t):function(t){var e;var r=i;e=r.indexOf(it.PATH)!=-1?W.ofVars({}):function(t){var e;var r=i;var s=new C;{var o=r+j.DELIMITER+it.PATH;if(_t[n]!=null){s.setReserved(n,o)}else{s.h[n]=o}}e=W.ofMap(s);return e}(t);return e}(t);return e}(this);yt.initZip=function(t){var e;var n=mt.validateFileName;mt.validateFileName=function(t){return null};e=true;return e}(this);yt.USER_AGENT="switchx";Nt.VERSION_INFO="version.json";Nt.NIGHTLIES="https://build.haxe.org/builds/haxe";Nt.PLATFORM=function(t){var e;switch(o.systemName()){case"Mac":e="mac";break;case"Windows":e="windows";break;default:e="linux64"}return e}(this);It.hex=function(t){var e;var n=new L;{var i=0;var r="0123456789abcdefABCDEF".split("");while(i<r.length){var s=r[i];++i;n.h[v.cca(s,0)]=true}}e=n;return e}(this);Ct.depth=0;pt.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this)},561:function(t,e,n){const{dirname:i}=n(622);const{findMade:r,findMadeSync:s}=n(92);const{mkdirpManual:o,mkdirpManualSync:l}=n(806);const u=(t,e)=>{e.recursive=true;const n=i(t);if(n===t)return e.mkdirAsync(t,e);return r(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(n=>{if(n.code==="ENOENT")return o(t,e);else throw n}))};const a=(t,e)=>{e.recursive=true;const n=i(t);if(n===t)return e.mkdirSync(t,e);const r=s(e,t);try{e.mkdirSync(t,e);return r}catch(n){if(n.code==="ENOENT")return l(t,e);else throw n}};t.exports={mkdirpNative:u,mkdirpNativeSync:a}},577:function(t,e,n){"use strict";const i=n(626);const r=n(747);const s=n(622);const o=n(941);class SymlinkError extends Error{constructor(t,e){super("Cannot extract through symbolic link");this.path=e;this.symlink=t}get name(){return"SylinkError"}}class CwdError extends Error{constructor(t,e){super(e+": Cannot cd into '"+t+"'");this.path=t;this.code=e}get name(){return"CwdError"}}const l=t.exports=((t,e,n)=>{const l=e.umask;const a=e.mode|448;const f=(a&l)!==0;const c=e.uid;const h=e.gid;const d=typeof c==="number"&&typeof h==="number"&&(c!==e.processUid||h!==e.processGid);const v=e.preserve;const w=e.unlink;const p=e.cache;const m=e.cwd;const y=(e,i)=>{if(e)n(e);else{p.set(t,true);if(i&&d)o(i,c,h,t=>y(t));else if(f)r.chmod(t,a,n);else n()}};if(p&&p.get(t)===true)return y();if(t===m)return r.stat(t,(e,n)=>{if(e||!n.isDirectory())e=new CwdError(t,e&&e.code||"ENOTDIR");y(e)});if(v)return i(t,{mode:a}).then(t=>y(null,t),y);const b=s.relative(m,t);const S=b.split(/\/|\\/);u(m,S,a,p,w,m,null,y)});const u=(t,e,n,i,s,o,l,f)=>{if(!e.length)return f(null,l);const c=e.shift();const h=t+"/"+c;if(i.get(h))return u(h,e,n,i,s,o,l,f);r.mkdir(h,n,a(h,e,n,i,s,o,l,f))};const a=(t,e,n,i,o,l,f,c)=>h=>{if(h){if(h.path&&s.dirname(h.path)===l&&(h.code==="ENOTDIR"||h.code==="ENOENT"))return c(new CwdError(l,h.code));r.lstat(t,(s,d)=>{if(s)c(s);else if(d.isDirectory())u(t,e,n,i,o,l,f,c);else if(o)r.unlink(t,s=>{if(s)return c(s);r.mkdir(t,n,a(t,e,n,i,o,l,f,c))});else if(d.isSymbolicLink())return c(new SymlinkError(t,t+"/"+e.join("/")));else c(h)})}else{f=f||t;u(t,e,n,i,o,l,f,c)}};const f=t.exports.sync=((t,e)=>{const n=e.umask;const l=e.mode|448;const u=(l&n)!==0;const a=e.uid;const f=e.gid;const c=typeof a==="number"&&typeof f==="number"&&(a!==e.processUid||f!==e.processGid);const h=e.preserve;const d=e.unlink;const v=e.cache;const w=e.cwd;const p=e=>{v.set(t,true);if(e&&c)o.sync(e,a,f);if(u)r.chmodSync(t,l)};if(v&&v.get(t)===true)return p();if(t===w){let e=false;let n="ENOTDIR";try{e=r.statSync(t).isDirectory()}catch(t){n=t.code}finally{if(!e)throw new CwdError(t,n)}p();return}if(h)return p(i.sync(t,l));const m=s.relative(w,t);const y=m.split(/\/|\\/);let b=null;for(let t=y.shift(),e=w;t&&(e+="/"+t);t=y.shift()){if(v.get(e))continue;try{r.mkdirSync(e,l);b=b||e;v.set(e,true)}catch(t){if(t.path&&s.dirname(t.path)===w&&(t.code==="ENOTDIR"||t.code==="ENOENT"))return new CwdError(w,t.code);const n=r.lstatSync(e);if(n.isDirectory()){v.set(e,true);continue}else if(d){r.unlinkSync(e);r.mkdirSync(e,l);b=b||e;v.set(e,true);continue}else if(n.isSymbolicLink())return new SymlinkError(e,e+"/"+y.join("/"))}}return p(b)})},582:function(t,e,n){"use strict";const i=n(232);const r=n(622);class Pax{constructor(t,e){this.atime=t.atime||null;this.charset=t.charset||null;this.comment=t.comment||null;this.ctime=t.ctime||null;this.gid=t.gid||null;this.gname=t.gname||null;this.linkpath=t.linkpath||null;this.mtime=t.mtime||null;this.path=t.path||null;this.size=t.size||null;this.uid=t.uid||null;this.uname=t.uname||null;this.dev=t.dev||null;this.ino=t.ino||null;this.nlink=t.nlink||null;this.global=e||false}encode(){const t=this.encodeBody();if(t==="")return null;const e=Buffer.byteLength(t);const n=512*Math.ceil(1+e/512);const s=Buffer.allocUnsafe(n);for(let t=0;t<512;t++){s[t]=0}new i({path:("PaxHeader/"+r.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:e,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s);s.write(t,512,e,"utf8");for(let t=e+512;t<s.length;t++){s[t]=0}return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===undefined)return"";const e=this[t]instanceof Date?this[t].getTime()/1e3:this[t];const n=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+e+"\n";const i=Buffer.byteLength(n);let r=Math.floor(Math.log(i)/Math.log(10))+1;if(i+r>=Math.pow(10,r))r+=1;const s=r+i;return s+n}}Pax.parse=((t,e,n)=>new Pax(s(o(t),e),n));const s=(t,e)=>e?Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),e):t;const o=t=>t.replace(/\n$/,"").split("\n").reduce(l,Object.create(null));const l=(t,e)=>{const n=parseInt(e,10);if(n!==Buffer.byteLength(e)+1)return t;e=e.substr((n+" ").length);const i=e.split("=");const r=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!r)return t;const s=i.join("=");t[r]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(r)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s;return t};t.exports=Pax},598:function(t,e,n){var i=n(747);var r=n(250);var s=n(93);var o=n(608);var l=n(669);var u;var a;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){u=Symbol.for("graceful-fs.queue");a=Symbol.for("graceful-fs.previous")}else{u="___graceful-fs.queue";a="___graceful-fs.previous"}function noop(){}var f=noop;if(l.debuglog)f=l.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))f=function(){var t=l.format.apply(l,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: ");console.error(t)};if(!global[u]){var c=[];Object.defineProperty(global,u,{get:function(){return c}});i.close=function(t){function close(e,n){return t.call(i,e,function(t){if(!t){retry()}if(typeof n==="function")n.apply(this,arguments)})}Object.defineProperty(close,a,{value:t});return close}(i.close);i.closeSync=function(t){function closeSync(e){t.apply(i,arguments);retry()}Object.defineProperty(closeSync,a,{value:t});return closeSync}(i.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",function(){f(global[u]);n(357).equal(global[u].length,0)})}}t.exports=patch(o(i));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched){t.exports=patch(i);i.__patched=true}function patch(t){r(t);t.gracefulify=patch;t.createReadStream=createReadStream;t.createWriteStream=createWriteStream;var e=t.readFile;t.readFile=readFile;function readFile(t,n,i){if(typeof n==="function")i=n,n=null;return go$readFile(t,n,i);function go$readFile(t,n,i){return e(t,n,function(e){if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))enqueue([go$readFile,[t,n,i]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}})}}var n=t.writeFile;t.writeFile=writeFile;function writeFile(t,e,i,r){if(typeof i==="function")r=i,i=null;return go$writeFile(t,e,i,r);function go$writeFile(t,e,i,r){return n(t,e,i,function(n){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$writeFile,[t,e,i,r]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}})}}var i=t.appendFile;if(i)t.appendFile=appendFile;function appendFile(t,e,n,r){if(typeof n==="function")r=n,n=null;return go$appendFile(t,e,n,r);function go$appendFile(t,e,n,r){return i(t,e,n,function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$appendFile,[t,e,n,r]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}})}}var o=t.readdir;t.readdir=readdir;function readdir(t,e,n){var i=[t];if(typeof e!=="function"){i.push(e)}else{n=e}i.push(go$readdir$cb);return go$readdir(i);function go$readdir$cb(t,e){if(e&&e.sort)e.sort();if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$readdir,[i]]);else{if(typeof n==="function")n.apply(this,arguments);retry()}}}function go$readdir(e){return o.apply(t,e)}if(process.version.substr(0,4)==="v0.8"){var l=s(t);ReadStream=l.ReadStream;WriteStream=l.WriteStream}var u=t.ReadStream;if(u){ReadStream.prototype=Object.create(u.prototype);ReadStream.prototype.open=ReadStream$open}var a=t.WriteStream;if(a){WriteStream.prototype=Object.create(a.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(t,"ReadStream",{get:function(){return ReadStream},set:function(t){ReadStream=t},enumerable:true,configurable:true});Object.defineProperty(t,"WriteStream",{get:function(){return WriteStream},set:function(t){WriteStream=t},enumerable:true,configurable:true});var f=ReadStream;Object.defineProperty(t,"FileReadStream",{get:function(){return f},set:function(t){f=t},enumerable:true,configurable:true});var c=WriteStream;Object.defineProperty(t,"FileWriteStream",{get:function(){return c},set:function(t){c=t},enumerable:true,configurable:true});function ReadStream(t,e){if(this instanceof ReadStream)return u.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var t=this;open(t.path,t.flags,t.mode,function(e,n){if(e){if(t.autoClose)t.destroy();t.emit("error",e)}else{t.fd=n;t.emit("open",n);t.read()}})}function WriteStream(t,e){if(this instanceof WriteStream)return a.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var t=this;open(t.path,t.flags,t.mode,function(e,n){if(e){t.destroy();t.emit("error",e)}else{t.fd=n;t.emit("open",n)}})}function createReadStream(e,n){return new t.ReadStream(e,n)}function createWriteStream(e,n){return new t.WriteStream(e,n)}var h=t.open;t.open=open;function open(t,e,n,i){if(typeof n==="function")i=n,n=null;return go$open(t,e,n,i);function go$open(t,e,n,i){return h(t,e,n,function(r,s){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$open,[t,e,n,i]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}})}}return t}function enqueue(t){f("ENQUEUE",t[0].name,t[1]);global[u].push(t)}function retry(){var t=global[u].shift();if(t){f("RETRY",t[0].name,t[1]);t[0].apply(null,t[1])}}},605:function(t){t.exports=require("http")},608:function(t){"use strict";t.exports=clone;function clone(t){if(t===null||typeof t!=="object")return t;if(t instanceof Object)var e={__proto__:t.__proto__};else var e=Object.create(null);Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}},612:function(t,e,n){"use strict";t.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(t){var e=this;if(!(e instanceof Yallist)){e=new Yallist}e.tail=null;e.head=null;e.length=0;if(t&&typeof t.forEach==="function"){t.forEach(function(t){e.push(t)})}else if(arguments.length>0){for(var n=0,i=arguments.length;n<i;n++){e.push(arguments[n])}}return e}Yallist.prototype.removeNode=function(t){if(t.list!==this){throw new Error("removing node which does not belong to this list")}var e=t.next;var n=t.prev;if(e){e.prev=n}if(n){n.next=e}if(t===this.head){this.head=e}if(t===this.tail){this.tail=n}t.list.length--;t.next=null;t.prev=null;t.list=null;return e};Yallist.prototype.unshiftNode=function(t){if(t===this.head){return}if(t.list){t.list.removeNode(t)}var e=this.head;t.list=this;t.next=e;if(e){e.prev=t}this.head=t;if(!this.tail){this.tail=t}this.length++};Yallist.prototype.pushNode=function(t){if(t===this.tail){return}if(t.list){t.list.removeNode(t)}var e=this.tail;t.list=this;t.prev=e;if(e){e.next=t}this.tail=t;if(!this.head){this.head=t}this.length++};Yallist.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++){push(this,arguments[t])}return this.length};Yallist.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++){unshift(this,arguments[t])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var t=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return t};Yallist.prototype.shift=function(){if(!this.head){return undefined}var t=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return t};Yallist.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,i=0;n!==null;i++){t.call(e,n.value,i,this);n=n.next}};Yallist.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,i=this.length-1;n!==null;i--){t.call(e,n.value,i,this);n=n.prev}};Yallist.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++){n=n.next}if(e===t&&n!==null){return n.value}};Yallist.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++){n=n.prev}if(e===t&&n!==null){return n.value}};Yallist.prototype.map=function(t,e){e=e||this;var n=new Yallist;for(var i=this.head;i!==null;){n.push(t.call(e,i.value,this));i=i.next}return n};Yallist.prototype.mapReverse=function(t,e){e=e||this;var n=new Yallist;for(var i=this.tail;i!==null;){n.push(t.call(e,i.value,this));i=i.prev}return n};Yallist.prototype.reduce=function(t,e){var n;var i=this.head;if(arguments.length>1){n=e}else if(this.head){i=this.head.next;n=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var r=0;i!==null;r++){n=t(n,i.value,r);i=i.next}return n};Yallist.prototype.reduceReverse=function(t,e){var n;var i=this.tail;if(arguments.length>1){n=e}else if(this.tail){i=this.tail.prev;n=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var r=this.length-1;i!==null;r--){n=t(n,i.value,r);i=i.prev}return n};Yallist.prototype.toArray=function(){var t=new Array(this.length);for(var e=0,n=this.head;n!==null;e++){t[e]=n.value;n=n.next}return t};Yallist.prototype.toArrayReverse=function(){var t=new Array(this.length);for(var e=0,n=this.tail;n!==null;e++){t[e]=n.value;n=n.prev}return t};Yallist.prototype.slice=function(t,e){e=e||this.length;if(e<0){e+=this.length}t=t||0;if(t<0){t+=this.length}var n=new Yallist;if(e<t||e<0){return n}if(t<0){t=0}if(e>this.length){e=this.length}for(var i=0,r=this.head;r!==null&&i<t;i++){r=r.next}for(;r!==null&&i<e;i++,r=r.next){n.push(r.value)}return n};Yallist.prototype.sliceReverse=function(t,e){e=e||this.length;if(e<0){e+=this.length}t=t||0;if(t<0){t+=this.length}var n=new Yallist;if(e<t||e<0){return n}if(t<0){t=0}if(e>this.length){e=this.length}for(var i=this.length,r=this.tail;r!==null&&i>e;i--){r=r.prev}for(;r!==null&&i>t;i--,r=r.prev){n.push(r.value)}return n};Yallist.prototype.splice=function(t,e,...n){if(t>this.length){t=this.length-1}if(t<0){t=this.length+t}for(var i=0,r=this.head;r!==null&&i<t;i++){r=r.next}var s=[];for(var i=0;r&&i<e;i++){s.push(r.value);r=this.removeNode(r)}if(r===null){r=this.tail}if(r!==this.head&&r!==this.tail){r=r.prev}for(var i=0;i<n.length;i++){r=insert(this,r,n[i])}return s};Yallist.prototype.reverse=function(){var t=this.head;var e=this.tail;for(var n=t;n!==null;n=n.prev){var i=n.prev;n.prev=n.next;n.next=i}this.head=e;this.tail=t;return this};function insert(t,e,n){var i=e===t.head?new Node(n,null,e,t):new Node(n,e,e.next,t);if(i.next===null){t.tail=i}if(i.prev===null){t.head=i}t.length++;return i}function push(t,e){t.tail=new Node(e,t.tail,null,t);if(!t.head){t.head=t.tail}t.length++}function unshift(t,e){t.head=new Node(e,null,t.head,t);if(!t.tail){t.tail=t.head}t.length++}function Node(t,e,n,i){if(!(this instanceof Node)){return new Node(t,e,n,i)}this.list=i;this.value=t;if(e){e.next=this;this.prev=e}else{this.prev=null}if(n){n.prev=this;this.next=n}else{this.next=null}}try{n(396)(Yallist)}catch(t){}},614:function(t){t.exports=require("events")},619:function(t){t.exports=require("constants")},622:function(t){t.exports=require("path")},626:function(t,e,n){const i=n(795);const r=n(870);const{mkdirpNative:s,mkdirpNativeSync:o}=n(561);const{mkdirpManual:l,mkdirpManualSync:u}=n(806);const{useNative:a,useNativeSync:f}=n(336);const c=(t,e)=>{t=r(t);e=i(e);return a(e)?s(t,e):l(t,e)};const h=(t,e)=>{t=r(t);e=i(e);return f(e)?o(t,e):u(t,e)};c.sync=h;c.native=((t,e)=>s(r(t),i(e)));c.manual=((t,e)=>l(r(t),i(e)));c.nativeSync=((t,e)=>o(r(t),i(e)));c.manualSync=((t,e)=>u(r(t),i(e)));t.exports=c},630:function(t,e,n){"use strict";const i=n(891);const r=n(726);const s=n(203);const o=n(747);const l=n(827);const u=n(381);const a=n(622);const f=n(232);const c=t.exports=((t,e,n)=>{const r=i(t);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);return r.sync?h(r,e):v(r,e,n)});const h=(t,e)=>{const n=new r.Sync(t);let i=true;let s;let l;try{try{s=o.openSync(t.file,"r+")}catch(e){if(e.code==="ENOENT")s=o.openSync(t.file,"w+");else throw e}const r=o.fstatSync(s);const u=Buffer.alloc(512);t:for(l=0;l<r.size;l+=512){for(let t=0,e=0;t<512;t+=e){e=o.readSync(s,u,t,u.length-t,l+t);if(l===0&&u[0]===31&&u[1]===139)throw new Error("cannot append to compressed archives");if(!e)break t}let e=new f(u);if(!e.cksumValid)break;let n=512*Math.ceil(e.size/512);if(l+n+512>r.size)break;l+=n;if(t.mtimeCache)t.mtimeCache.set(e.path,e.mtime)}i=false;d(t,n,l,s,e)}finally{if(i)try{o.closeSync(s)}catch(t){}}};const d=(t,e,n,i,r)=>{const s=new l.WriteStreamSync(t.file,{fd:i,start:n});e.pipe(s);w(e,r)};const v=(t,e,n)=>{e=Array.from(e);const i=new r(t);const s=(e,n,i)=>{const r=(t,n)=>{if(t)o.close(e,e=>i(t));else i(null,n)};let s=0;if(n===0)return r(null,0);let l=0;const u=Buffer.alloc(512);const a=(i,c)=>{if(i)return r(i);l+=c;if(l<512&&c)return o.read(e,u,l,u.length-l,s+l,a);if(s===0&&u[0]===31&&u[1]===139)return r(new Error("cannot append to compressed archives"));if(l<512)return r(null,s);const h=new f(u);if(!h.cksumValid)return r(null,s);const d=512*Math.ceil(h.size/512);if(s+d+512>n)return r(null,s);s+=d+512;if(s>=n)return r(null,s);if(t.mtimeCache)t.mtimeCache.set(h.path,h.mtime);l=0;o.read(e,u,0,512,s,a)};o.read(e,u,0,512,s,a)};const u=new Promise((n,r)=>{i.on("error",r);let u="r+";const a=(f,c)=>{if(f&&f.code==="ENOENT"&&u==="r+"){u="w+";return o.open(t.file,u,a)}if(f)return r(f);o.fstat(c,(o,u)=>{if(o)return r(o);s(c,u.size,(s,o)=>{if(s)return r(s);const u=new l.WriteStream(t.file,{fd:c,start:o});i.pipe(u);u.on("error",r);u.on("close",n);p(i,e)})})};o.open(t.file,u,a)});return n?u.then(n,n):u};const w=(t,e)=>{e.forEach(e=>{if(e.charAt(0)==="@")u({file:a.resolve(t.cwd,e.substr(1)),sync:true,noResume:true,onentry:e=>t.add(e)});else t.add(e)});t.end()};const p=(t,e)=>{while(e.length){const n=e.shift();if(n.charAt(0)==="@")return u({file:a.resolve(t.cwd,n.substr(1)),noResume:true,onentry:e=>t.add(e)}).then(n=>p(t,e));else t.add(n)}t.end()}},631:function(t){t.exports=require("net")},656:function(t,e,n){"use strict";const i=n(891);const r=n(63);const s=n(747);const o=n(827);const l=n(622);const u=t.exports=((t,e,n)=>{if(typeof t==="function")n=t,e=null,t={};else if(Array.isArray(t))e=t,t={};if(typeof e==="function")n=e,e=null;if(!e)e=[];else e=Array.from(e);const r=i(t);if(r.sync&&typeof n==="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n==="function")throw new TypeError("callback only supported with file option");if(e.length)a(r,e);return r.file&&r.sync?f(r):r.file?c(r,n):r.sync?h(r):d(r)});const a=(t,e)=>{const n=new Map(e.map(t=>[t.replace(/\/+$/,""),true]));const i=t.filter;const r=(t,e)=>{const i=e||l.parse(t).root||".";const s=t===i?false:n.has(t)?n.get(t):r(l.dirname(t),i);n.set(t,s);return s};t.filter=i?(t,e)=>i(t,e)&&r(t.replace(/\/+$/,"")):t=>r(t.replace(/\/+$/,""))};const f=t=>{const e=new r.Sync(t);const n=t.file;let i=true;let l;const u=s.statSync(n);const a=t.maxReadSize||16*1024*1024;const f=new o.ReadStreamSync(n,{readSize:a,size:u.size});f.pipe(e)};const c=(t,e)=>{const n=new r(t);const i=t.maxReadSize||16*1024*1024;const l=t.file;const u=new Promise((t,e)=>{n.on("error",e);n.on("close",t);s.stat(l,(t,r)=>{if(t)e(t);else{const t=new o.ReadStream(l,{readSize:i,size:r.size});t.on("error",e);t.pipe(n)}})});return e?u.then(e,e):u};const h=t=>{return new r.Sync(t)};const d=t=>{return new r(t)}},662:function(t,e,n){"use strict";const i=n(554);const r=n(720);const s=Symbol("slurp");t.exports=class ReadEntry extends r{constructor(t,e,n){super();this.pause();this.extended=e;this.globalExtended=n;this.header=t;this.startBlockSize=512*Math.ceil(t.size/512);this.blockRemain=this.startBlockSize;this.remain=t.size;this.type=t.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=t.path;this.mode=t.mode;if(this.mode)this.mode=this.mode&4095;this.uid=t.uid;this.gid=t.gid;this.uname=t.uname;this.gname=t.gname;this.size=t.size;this.mtime=t.mtime;this.atime=t.atime;this.ctime=t.ctime;this.linkpath=t.linkpath;this.uname=t.uname;this.gname=t.gname;if(e)this[s](e);if(n)this[s](n,true)}write(t){const e=t.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");const n=this.remain;const i=this.blockRemain;this.remain=Math.max(0,n-e);this.blockRemain=Math.max(0,i-e);if(this.ignore)return true;if(n>=e)return super.write(t);return super.write(t.slice(0,n))}[s](t,e){for(let n in t){if(t[n]!==null&&t[n]!==undefined&&!(e&&n==="path"))this[n]=t[n]}}}},669:function(t){t.exports=require("util")},720:function(t,e,n){"use strict";const i=n(614);const r=n(413);const s=n(612);const o=n(304).StringDecoder;const l=Symbol("EOF");const u=Symbol("maybeEmitEnd");const a=Symbol("emittedEnd");const f=Symbol("emittingEnd");const c=Symbol("closed");const h=Symbol("read");const d=Symbol("flush");const v=Symbol("flushChunk");const w=Symbol("encoding");const p=Symbol("decoder");const m=Symbol("flowing");const y=Symbol("paused");const b=Symbol("resume");const S=Symbol("bufferLength");const R=Symbol("bufferPush");const O=Symbol("bufferShift");const N=Symbol("objectMode");const I=Symbol("destroyed");const D=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const L=D&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const A=D&&Symbol.iterator||Symbol("iterator not implemented");const C=t=>t==="end"||t==="finish"||t==="prefinish";const B=t=>t instanceof ArrayBuffer||typeof t==="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0;const k=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);t.exports=class Minipass extends r{constructor(t){super();this[m]=false;this[y]=false;this.pipes=new s;this.buffer=new s;this[N]=t&&t.objectMode||false;if(this[N])this[w]=null;else this[w]=t&&t.encoding||null;if(this[w]==="buffer")this[w]=null;this[p]=this[w]?new o(this[w]):null;this[l]=false;this[a]=false;this[f]=false;this[c]=false;this.writable=true;this.readable=true;this[S]=0;this[I]=false}get bufferLength(){return this[S]}get encoding(){return this[w]}set encoding(t){if(this[N])throw new Error("cannot set encoding in objectMode");if(this[w]&&t!==this[w]&&(this[p]&&this[p].lastNeed||this[S]))throw new Error("cannot change encoding");if(this[w]!==t){this[p]=t?new o(t):null;if(this.buffer.length)this.buffer=this.buffer.map(t=>this[p].write(t))}this[w]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[N]}set objectMode(t){this[N]=this[N]||!!t}write(t,e,n){if(this[l])throw new Error("write after end");if(this[I]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof e==="function")n=e,e="utf8";if(!e)e="utf8";if(!this[N]&&!Buffer.isBuffer(t)){if(k(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(B(t))t=Buffer.from(t);else if(typeof t!=="string")this.objectMode=true}if(!this.objectMode&&!t.length){const t=this.flowing;if(this[S]!==0)this.emit("readable");if(n)n();return t}if(typeof t==="string"&&!this[N]&&!(e===this[w]&&!this[p].lastNeed)){t=Buffer.from(t,e)}if(Buffer.isBuffer(t)&&this[w])t=this[p].write(t);try{return this.flowing?(this.emit("data",t),this.flowing):(this[R](t),false)}finally{if(this[S]!==0)this.emit("readable");if(n)n()}}read(t){if(this[I])return null;try{if(this[S]===0||t===0||t>this[S])return null;if(this[N])t=null;if(this.buffer.length>1&&!this[N]){if(this.encoding)this.buffer=new s([Array.from(this.buffer).join("")]);else this.buffer=new s([Buffer.concat(Array.from(this.buffer),this[S])])}return this[h](t||null,this.buffer.head.value)}finally{this[u]()}}[h](t,e){if(t===e.length||t===null)this[O]();else{this.buffer.head.value=e.slice(t);e=e.slice(0,t);this[S]-=t}this.emit("data",e);if(!this.buffer.length&&!this[l])this.emit("drain");return e}end(t,e,n){if(typeof t==="function")n=t,t=null;if(typeof e==="function")n=e,e="utf8";if(t)this.write(t,e);if(n)this.once("end",n);this[l]=true;this.writable=false;if(this.flowing||!this[y])this[u]();return this}[b](){if(this[I])return;this[y]=false;this[m]=true;this.emit("resume");if(this.buffer.length)this[d]();else if(this[l])this[u]();else this.emit("drain")}resume(){return this[b]()}pause(){this[m]=false;this[y]=true}get destroyed(){return this[I]}get flowing(){return this[m]}get paused(){return this[y]}[R](t){if(this[N])this[S]+=1;else this[S]+=t.length;return this.buffer.push(t)}[O](){if(this.buffer.length){if(this[N])this[S]-=1;else this[S]-=this.buffer.head.value.length}return this.buffer.shift()}[d](){do{}while(this[v](this[O]()));if(!this.buffer.length&&!this[l])this.emit("drain")}[v](t){return t?(this.emit("data",t),this.flowing):false}pipe(t,e){if(this[I])return;const n=this[a];e=e||{};if(t===process.stdout||t===process.stderr)e.end=false;else e.end=e.end!==false;const i={dest:t,opts:e,ondrain:t=>this[b]()};this.pipes.push(i);t.on("drain",i.ondrain);this[b]();if(n&&i.opts.end)i.dest.end();return t}addListener(t,e){return this.on(t,e)}on(t,e){try{return super.on(t,e)}finally{if(t==="data"&&!this.pipes.length&&!this.flowing)this[b]();else if(C(t)&&this[a]){super.emit(t);this.removeAllListeners(t)}}}get emittedEnd(){return this[a]}[u](){if(!this[f]&&!this[a]&&!this[I]&&this.buffer.length===0&&this[l]){this[f]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[c])this.emit("close");this[f]=false}}emit(t,e){if(t!=="error"&&t!=="close"&&t!==I&&this[I])return;else if(t==="data"){if(!e)return;if(this.pipes.length)this.pipes.forEach(t=>t.dest.write(e)===false&&this.pause())}else if(t==="end"){if(this[a]===true)return;this[a]=true;this.readable=false;if(this[p]){e=this[p].end();if(e){this.pipes.forEach(t=>t.dest.write(e));super.emit("data",e)}}this.pipes.forEach(t=>{t.dest.removeListener("drain",t.ondrain);if(t.opts.end)t.dest.end()})}else if(t==="close"){this[c]=true;if(!this[a]&&!this[I])return}const n=new Array(arguments.length);n[0]=t;n[1]=e;if(arguments.length>2){for(let t=2;t<arguments.length;t++){n[t]=arguments[t]}}try{return super.emit.apply(this,n)}finally{if(!C(t))this[u]();else this.removeAllListeners(t)}}collect(){const t=[];if(!this[N])t.dataLength=0;const e=this.promise();this.on("data",e=>{t.push(e);if(!this[N])t.dataLength+=e.length});return e.then(()=>t)}concat(){return this[N]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[N]?Promise.reject(new Error("cannot concat in objectMode")):this[w]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(I,()=>e(new Error("stream destroyed")));this.on("end",()=>t());this.on("error",t=>e(t))})}[L](){const t=()=>{const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[l])return Promise.resolve({done:true});let e=null;let n=null;const i=t=>{this.removeListener("data",r);this.removeListener("end",s);n(t)};const r=t=>{this.removeListener("error",i);this.removeListener("end",s);this.pause();e({value:t,done:!!this[l]})};const s=()=>{this.removeListener("error",i);this.removeListener("data",r);e({done:true})};const o=()=>i(new Error("stream destroyed"));return new Promise((t,l)=>{n=l;e=t;this.once(I,o);this.once("error",i);this.once("end",s);this.once("data",r)})};return{next:t}}[A](){const t=()=>{const t=this.read();const e=t===null;return{value:t,done:e}};return{next:t}}destroy(t){if(this[I]){if(t)this.emit("error",t);else this.emit(I);return this}this[I]=true;this.buffer=new s;this[S]=0;if(typeof this.close==="function"&&!this[c])this.close();if(t)this.emit("error",t);else this.emit(I);return this}static isStream(t){return!!t&&(t instanceof Minipass||t instanceof r||t instanceof i&&(typeof t.pipe==="function"||typeof t.write==="function"&&typeof t.end==="function"))}}},726:function(t,e,n){"use strict";class PackJob{constructor(t,e){this.path=t||"./";this.absolute=e;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const i=n(720);const r=n(133);const s=n(662);const o=n(303);const l=o.Sync;const u=o.Tar;const a=n(612);const f=Buffer.alloc(1024);const c=Symbol("onStat");const h=Symbol("ended");const d=Symbol("queue");const v=Symbol("current");const w=Symbol("process");const p=Symbol("processing");const m=Symbol("processJob");const y=Symbol("jobs");const b=Symbol("jobDone");const S=Symbol("addFSEntry");const R=Symbol("addTarEntry");const O=Symbol("stat");const N=Symbol("readdir");const I=Symbol("onreaddir");const D=Symbol("pipe");const L=Symbol("entry");const A=Symbol("entryOpt");const C=Symbol("writeEntryClass");const B=Symbol("write");const k=Symbol("ondrain");const T=n(747);const E=n(622);const M=n(796);const F=M(class Pack extends i{constructor(t){super(t);t=t||Object.create(null);this.opt=t;this.file=t.file||"";this.cwd=t.cwd||process.cwd();this.maxReadSize=t.maxReadSize;this.preservePaths=!!t.preservePaths;this.strict=!!t.strict;this.noPax=!!t.noPax;this.prefix=(t.prefix||"").replace(/(\\|\/)+$/,"");this.linkCache=t.linkCache||new Map;this.statCache=t.statCache||new Map;this.readdirCache=t.readdirCache||new Map;this[C]=o;if(typeof t.onwarn==="function")this.on("warn",t.onwarn);this.portable=!!t.portable;this.zip=null;if(t.gzip){if(typeof t.gzip!=="object")t.gzip={};if(this.portable)t.gzip.portable=true;this.zip=new r.Gzip(t.gzip);this.zip.on("data",t=>super.write(t));this.zip.on("end",t=>super.end());this.zip.on("drain",t=>this[k]());this.on("resume",t=>this.zip.resume())}else this.on("drain",this[k]);this.noDirRecurse=!!t.noDirRecurse;this.follow=!!t.follow;this.noMtime=!!t.noMtime;this.mtime=t.mtime||null;this.filter=typeof t.filter==="function"?t.filter:t=>true;this[d]=new a;this[y]=0;this.jobs=+t.jobs||4;this[p]=false;this[h]=false}[B](t){return super.write(t)}add(t){this.write(t);return this}end(t){if(t)this.write(t);this[h]=true;this[w]();return this}write(t){if(this[h])throw new Error("write after end");if(t instanceof s)this[R](t);else this[S](t);return this.flowing}[R](t){const e=E.resolve(this.cwd,t.path);if(this.prefix)t.path=this.prefix+"/"+t.path.replace(/^\.(\/+|$)/,"");if(!this.filter(t.path,t))t.resume();else{const n=new PackJob(t.path,e,false);n.entry=new u(t,this[A](n));n.entry.on("end",t=>this[b](n));this[y]+=1;this[d].push(n)}this[w]()}[S](t){const e=E.resolve(this.cwd,t);if(this.prefix)t=this.prefix+"/"+t.replace(/^\.(\/+|$)/,"");this[d].push(new PackJob(t,e));this[w]()}[O](t){t.pending=true;this[y]+=1;const e=this.follow?"stat":"lstat";T[e](t.absolute,(e,n)=>{t.pending=false;this[y]-=1;if(e)this.emit("error",e);else this[c](t,n)})}[c](t,e){this.statCache.set(t.absolute,e);t.stat=e;if(!this.filter(t.path,e))t.ignore=true;this[w]()}[N](t){t.pending=true;this[y]+=1;T.readdir(t.absolute,(e,n)=>{t.pending=false;this[y]-=1;if(e)return this.emit("error",e);this[I](t,n)})}[I](t,e){this.readdirCache.set(t.absolute,e);t.readdir=e;this[w]()}[w](){if(this[p])return;this[p]=true;for(let t=this[d].head;t!==null&&this[y]<this.jobs;t=t.next){this[m](t.value);if(t.value.ignore){const e=t.next;this[d].removeNode(t);t.next=e}}this[p]=false;if(this[h]&&!this[d].length&&this[y]===0){if(this.zip)this.zip.end(f);else{super.write(f);super.end()}}}get[v](){return this[d]&&this[d].head&&this[d].head.value}[b](t){this[d].shift();this[y]-=1;this[w]()}[m](t){if(t.pending)return;if(t.entry){if(t===this[v]&&!t.piped)this[D](t);return}if(!t.stat){if(this.statCache.has(t.absolute))this[c](t,this.statCache.get(t.absolute));else this[O](t)}if(!t.stat)return;if(t.ignore)return;if(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir){if(this.readdirCache.has(t.absolute))this[I](t,this.readdirCache.get(t.absolute));else this[N](t);if(!t.readdir)return}t.entry=this[L](t);if(!t.entry){t.ignore=true;return}if(t===this[v]&&!t.piped)this[D](t)}[A](t){return{onwarn:(t,e,n)=>this.warn(t,e,n),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[L](t){this[y]+=1;try{return new this[C](t.path,this[A](t)).on("end",()=>this[b](t)).on("error",t=>this.emit("error",t))}catch(t){this.emit("error",t)}}[k](){if(this[v]&&this[v].entry)this[v].entry.resume()}[D](t){t.piped=true;if(t.readdir)t.readdir.forEach(e=>{const n=this.prefix?t.path.slice(this.prefix.length+1)||"./":t.path;const i=n==="./"?"":n.replace(/\/*$/,"/");this[S](i+e)});const e=t.entry;const n=this.zip;if(n)e.on("data",t=>{if(!n.write(t))e.pause()});else e.on("data",t=>{if(!super.write(t))e.pause()})}pause(){if(this.zip)this.zip.pause();return super.pause()}});class PackSync extends F{constructor(t){super(t);this[C]=l}pause(){}resume(){}[O](t){const e=this.follow?"statSync":"lstatSync";this[c](t,T[e](t.absolute))}[N](t,e){this[I](t,T.readdirSync(t.absolute))}[D](t){const e=t.entry;const n=this.zip;if(t.readdir)t.readdir.forEach(e=>{const n=this.prefix?t.path.slice(this.prefix.length+1)||"./":t.path;const i=n==="./"?"":n.replace(/\/*$/,"/");this[S](i+e)});if(n)e.on("data",t=>{n.write(t)});else e.on("data",t=>{super[B](t)})}}F.Sync=PackSync;t.exports=F},747:function(t){t.exports=require("fs")},761:function(t){t.exports=require("zlib")},766:function(t,e,n){var i=n(747);var r=n(761);var s=n(324);var o=n(538);var l=n(669);var u=n(614).EventEmitter;var a=n(413).Transform;var f=n(413).PassThrough;var c=n(413).Writable;e.open=open;e.fromFd=fromFd;e.fromBuffer=fromBuffer;e.fromRandomAccessReader=fromRandomAccessReader;e.dosDateTimeToDate=dosDateTimeToDate;e.validateFileName=validateFileName;e.ZipFile=ZipFile;e.Entry=Entry;e.RandomAccessReader=RandomAccessReader;function open(t,e,n){if(typeof e==="function"){n=e;e=null}if(e==null)e={};if(e.autoClose==null)e.autoClose=true;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;if(n==null)n=defaultCallback;i.open(t,"r",function(t,r){if(t)return n(t);fromFd(r,e,function(t,e){if(t)i.close(r,defaultCallback);n(t,e)})})}function fromFd(t,e,n){if(typeof e==="function"){n=e;e=null}if(e==null)e={};if(e.autoClose==null)e.autoClose=false;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;if(n==null)n=defaultCallback;i.fstat(t,function(i,r){if(i)return n(i);var o=s.createFromFd(t,{autoClose:true});fromRandomAccessReader(o,r.size,e,n)})}function fromBuffer(t,e,n){if(typeof e==="function"){n=e;e=null}if(e==null)e={};e.autoClose=false;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;var i=s.createFromBuffer(t,{maxChunkSize:65536});fromRandomAccessReader(i,t.length,e,n)}function fromRandomAccessReader(t,e,n,i){if(typeof n==="function"){i=n;n=null}if(n==null)n={};if(n.autoClose==null)n.autoClose=true;if(n.lazyEntries==null)n.lazyEntries=false;if(n.decodeStrings==null)n.decodeStrings=true;var r=!!n.decodeStrings;if(n.validateEntrySizes==null)n.validateEntrySizes=true;if(n.strictFileNames==null)n.strictFileNames=false;if(i==null)i=defaultCallback;if(typeof e!=="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER){throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.")}t.ref();var s=22;var o=65535;var l=Math.min(s+o,e);var u=d(l);var a=e-u.length;readAndAssertNoEof(t,u,0,l,a,function(o){if(o)return i(o);for(var f=l-s;f>=0;f-=1){if(u.readUInt32LE(f)!==101010256)continue;var c=u.slice(f);var h=c.readUInt16LE(4);if(h!==0){return i(new Error("multi-disk zip files are not supported: found disk number: "+h))}var v=c.readUInt16LE(10);var w=c.readUInt32LE(16);var p=c.readUInt16LE(20);var m=c.length-s;if(p!==m){return i(new Error("invalid comment length. expected: "+m+". found: "+p))}var y=r?decodeBuffer(c,22,c.length,false):c.slice(22);if(!(v===65535||w===4294967295)){return i(null,new ZipFile(t,w,e,v,y,n.autoClose,n.lazyEntries,r,n.validateEntrySizes,n.strictFileNames))}var b=d(20);var S=a+f-b.length;readAndAssertNoEof(t,b,0,b.length,S,function(s){if(s)return i(s);if(b.readUInt32LE(0)!==117853008){return i(new Error("invalid zip64 end of central directory locator signature"))}var o=readUInt64LE(b,8);var l=d(56);readAndAssertNoEof(t,l,0,l.length,o,function(s){if(s)return i(s);if(l.readUInt32LE(0)!==101075792){return i(new Error("invalid zip64 end of central directory record signature"))}v=readUInt64LE(l,32);w=readUInt64LE(l,48);return i(null,new ZipFile(t,w,e,v,y,n.autoClose,n.lazyEntries,r,n.validateEntrySizes,n.strictFileNames))})});return}i(new Error("end of central directory record signature not found"))})}l.inherits(ZipFile,u);function ZipFile(t,e,n,i,r,s,o,l,a,f){var c=this;u.call(c);c.reader=t;c.reader.on("error",function(t){emitError(c,t)});c.reader.once("close",function(){c.emit("close")});c.readEntryCursor=e;c.fileSize=n;c.entryCount=i;c.comment=r;c.entriesRead=0;c.autoClose=!!s;c.lazyEntries=!!o;c.decodeStrings=!!l;c.validateEntrySizes=!!a;c.strictFileNames=!!f;c.isOpen=true;c.emittedError=false;if(!c.lazyEntries)c._readEntry()}ZipFile.prototype.close=function(){if(!this.isOpen)return;this.isOpen=false;this.reader.unref()};function emitErrorAndAutoClose(t,e){if(t.autoClose)t.close();emitError(t,e)}function emitError(t,e){if(t.emittedError)return;t.emittedError=true;t.emit("error",e)}ZipFile.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ZipFile.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){if(t.autoClose)t.close();if(t.emittedError)return;t.emit("end")});return}if(t.emittedError)return;var n=d(46);readAndAssertNoEof(t.reader,n,0,n.length,t.readEntryCursor,function(i){if(i)return emitErrorAndAutoClose(t,i);if(t.emittedError)return;var r=new Entry;var s=n.readUInt32LE(0);if(s!==33639248)return emitErrorAndAutoClose(t,new Error("invalid central directory file header signature: 0x"+s.toString(16)));r.versionMadeBy=n.readUInt16LE(4);r.versionNeededToExtract=n.readUInt16LE(6);r.generalPurposeBitFlag=n.readUInt16LE(8);r.compressionMethod=n.readUInt16LE(10);r.lastModFileTime=n.readUInt16LE(12);r.lastModFileDate=n.readUInt16LE(14);r.crc32=n.readUInt32LE(16);r.compressedSize=n.readUInt32LE(20);r.uncompressedSize=n.readUInt32LE(24);r.fileNameLength=n.readUInt16LE(28);r.extraFieldLength=n.readUInt16LE(30);r.fileCommentLength=n.readUInt16LE(32);r.internalFileAttributes=n.readUInt16LE(36);r.externalFileAttributes=n.readUInt32LE(38);r.relativeOffsetOfLocalHeader=n.readUInt32LE(42);if(r.generalPurposeBitFlag&64)return emitErrorAndAutoClose(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46;n=d(r.fileNameLength+r.extraFieldLength+r.fileCommentLength);readAndAssertNoEof(t.reader,n,0,n.length,t.readEntryCursor,function(i){if(i)return emitErrorAndAutoClose(t,i);if(t.emittedError)return;var s=(r.generalPurposeBitFlag&2048)!==0;r.fileName=t.decodeStrings?decodeBuffer(n,0,r.fileNameLength,s):n.slice(0,r.fileNameLength);var l=r.fileNameLength+r.extraFieldLength;var u=n.slice(r.fileNameLength,l);r.extraFields=[];var a=0;while(a<u.length-3){var f=u.readUInt16LE(a+0);var c=u.readUInt16LE(a+2);var h=a+4;var v=h+c;if(v>u.length)return emitErrorAndAutoClose(t,new Error("extra field length exceeds extra field buffer size"));var w=d(c);u.copy(w,0,h,v);r.extraFields.push({id:f,data:w});a=v}r.fileComment=t.decodeStrings?decodeBuffer(n,l,l+r.fileCommentLength,s):n.slice(l,l+r.fileCommentLength);r.comment=r.fileComment;t.readEntryCursor+=n.length;t.entriesRead+=1;if(r.uncompressedSize===4294967295||r.compressedSize===4294967295||r.relativeOffsetOfLocalHeader===4294967295){var p=null;for(var a=0;a<r.extraFields.length;a++){var m=r.extraFields[a];if(m.id===1){p=m.data;break}}if(p==null){return emitErrorAndAutoClose(t,new Error("expected zip64 extended information extra field"))}var y=0;if(r.uncompressedSize===4294967295){if(y+8>p.length){return emitErrorAndAutoClose(t,new Error("zip64 extended information extra field does not include uncompressed size"))}r.uncompressedSize=readUInt64LE(p,y);y+=8}if(r.compressedSize===4294967295){if(y+8>p.length){return emitErrorAndAutoClose(t,new Error("zip64 extended information extra field does not include compressed size"))}r.compressedSize=readUInt64LE(p,y);y+=8}if(r.relativeOffsetOfLocalHeader===4294967295){if(y+8>p.length){return emitErrorAndAutoClose(t,new Error("zip64 extended information extra field does not include relative header offset"))}r.relativeOffsetOfLocalHeader=readUInt64LE(p,y);y+=8}}if(t.decodeStrings){for(var a=0;a<r.extraFields.length;a++){var m=r.extraFields[a];if(m.id===28789){if(m.data.length<6){continue}if(m.data.readUInt8(0)!==1){continue}var b=m.data.readUInt32LE(1);if(o.unsigned(n.slice(0,r.fileNameLength))!==b){continue}r.fileName=decodeBuffer(m.data,5,m.data.length,true);break}}}if(t.validateEntrySizes&&r.compressionMethod===0){var S=r.uncompressedSize;if(r.isEncrypted()){S+=12}if(r.compressedSize!==S){var R="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return emitErrorAndAutoClose(t,new Error(R))}}if(t.decodeStrings){if(!t.strictFileNames){r.fileName=r.fileName.replace(/\\/g,"/")}var O=e.validateFileName(r.fileName);if(O!=null)return emitErrorAndAutoClose(t,new Error(O))}t.emit("entry",r);if(!t.lazyEntries)t._readEntry()})})};ZipFile.prototype.openReadStream=function(t,e,n){var i=this;var s=0;var o=t.compressedSize;if(n==null){n=e;e={}}else{if(e.decrypt!=null){if(!t.isEncrypted()){throw new Error("options.decrypt can only be specified for encrypted entries")}if(e.decrypt!==false)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()){if(e.decompress!==false)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}}if(e.decompress!=null){if(!t.isCompressed()){throw new Error("options.decompress can only be specified for compressed entries")}if(!(e.decompress===false||e.decompress===true)){throw new Error("invalid options.decompress value: "+e.decompress)}}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==false){throw new Error("start/end range not allowed for compressed entry without options.decompress === false")}if(t.isEncrypted()&&e.decrypt!==false){throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}}if(e.start!=null){s=e.start;if(s<0)throw new Error("options.start < 0");if(s>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){o=e.end;if(o<0)throw new Error("options.end < 0");if(o>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<s)throw new Error("options.end < options.start")}}if(!i.isOpen)return n(new Error("closed"));if(t.isEncrypted()){if(e.decrypt!==false)return n(new Error("entry is encrypted, and options.decrypt !== false"))}i.reader.ref();var l=d(30);readAndAssertNoEof(i.reader,l,0,l.length,t.relativeOffsetOfLocalHeader,function(u){try{if(u)return n(u);var a=l.readUInt32LE(0);if(a!==67324752){return n(new Error("invalid local file header signature: 0x"+a.toString(16)))}var f=l.readUInt16LE(26);var c=l.readUInt16LE(28);var h=t.relativeOffsetOfLocalHeader+l.length+f+c;var d;if(t.compressionMethod===0){d=false}else if(t.compressionMethod===8){d=e.decompress!=null?e.decompress:true}else{return n(new Error("unsupported compression method: "+t.compressionMethod))}var v=h;var w=v+t.compressedSize;if(t.compressedSize!==0){if(w>i.fileSize){return n(new Error("file data overflows file bounds: "+v+" + "+t.compressedSize+" > "+i.fileSize))}}var p=i.reader.createReadStream({start:v+s,end:v+o});var m=p;if(d){var y=false;var b=r.createInflateRaw();p.on("error",function(t){setImmediate(function(){if(!y)b.emit("error",t)})});p.pipe(b);if(i.validateEntrySizes){m=new AssertByteCountStream(t.uncompressedSize);b.on("error",function(t){setImmediate(function(){if(!y)m.emit("error",t)})});b.pipe(m)}else{m=b}m.destroy=function(){y=true;if(b!==m)b.unpipe(m);p.unpipe(b);p.destroy()}}n(null,m)}finally{i.reader.unref()}})};function Entry(){}Entry.prototype.getLastModDate=function(){return dosDateTimeToDate(this.lastModFileDate,this.lastModFileTime)};Entry.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Entry.prototype.isCompressed=function(){return this.compressionMethod===8};function dosDateTimeToDate(t,e){var n=t&31;var i=(t>>5&15)-1;var r=(t>>9&127)+1980;var s=0;var o=(e&31)*2;var l=e>>5&63;var u=e>>11&31;return new Date(r,i,n,u,l,o,s)}function validateFileName(t){if(t.indexOf("\\")!==-1){return"invalid characters in fileName: "+t}if(/^[a-zA-Z]:/.test(t)||/^\//.test(t)){return"absolute path: "+t}if(t.split("/").indexOf("..")!==-1){return"invalid relative path: "+t}return null}function readAndAssertNoEof(t,e,n,i,r,s){if(i===0){return setImmediate(function(){s(null,d(0))})}t.read(e,n,i,r,function(t,e){if(t)return s(t);if(e<i){return s(new Error("unexpected EOF"))}s()})}l.inherits(AssertByteCountStream,a);function AssertByteCountStream(t){a.call(this);this.actualByteCount=0;this.expectedByteCount=t}AssertByteCountStream.prototype._transform=function(t,e,n){this.actualByteCount+=t.length;if(this.actualByteCount>this.expectedByteCount){var i="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(i))}n(null,t)};AssertByteCountStream.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};l.inherits(RandomAccessReader,u);function RandomAccessReader(){u.call(this);this.refCount=0}RandomAccessReader.prototype.ref=function(){this.refCount+=1};RandomAccessReader.prototype.unref=function(){var t=this;t.refCount-=1;if(t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(onCloseDone);function onCloseDone(e){if(e)return t.emit("error",e);t.emit("close")}};RandomAccessReader.prototype.createReadStream=function(t){var e=t.start;var n=t.end;if(e===n){var i=new f;setImmediate(function(){i.end()});return i}var r=this._readStreamForRange(e,n);var s=false;var o=new RefUnrefFilter(this);r.on("error",function(t){setImmediate(function(){if(!s)o.emit("error",t)})});o.destroy=function(){r.unpipe(o);o.unref();r.destroy()};var l=new AssertByteCountStream(n-e);o.on("error",function(t){setImmediate(function(){if(!s)l.emit("error",t)})});l.destroy=function(){s=true;o.unpipe(l);o.destroy()};return r.pipe(o).pipe(l)};RandomAccessReader.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};RandomAccessReader.prototype.read=function(t,e,n,i,r){var s=this.createReadStream({start:i,end:i+n});var o=new c;var l=0;o._write=function(n,i,r){n.copy(t,e+l,0,n.length);l+=n.length;r()};o.on("finish",r);s.on("error",function(t){r(t)});s.pipe(o)};RandomAccessReader.prototype.close=function(t){setImmediate(t)};l.inherits(RefUnrefFilter,f);function RefUnrefFilter(t){f.call(this);this.context=t;this.context.ref();this.unreffedYet=false}RefUnrefFilter.prototype._flush=function(t){this.unref();t()};RefUnrefFilter.prototype.unref=function(t){if(this.unreffedYet)return;this.unreffedYet=true;this.context.unref()};var h="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function decodeBuffer(t,e,n,i){if(i){return t.toString("utf8",e,n)}else{var r="";for(var s=e;s<n;s++){r+=h[t[s]]}return r}}function readUInt64LE(t,e){var n=t.readUInt32LE(e);var i=t.readUInt32LE(e+4);return i*4294967296+n}var d;if(typeof Buffer.allocUnsafe==="function"){d=function(t){return Buffer.allocUnsafe(t)}}else{d=function(t){return new Buffer(t)}}function defaultCallback(t){if(t)throw t}},795:function(t,e,n){const{promisify:i}=n(669);const r=n(747);const s=t=>{if(!t)t={mode:511&~process.umask(),fs:r};else if(typeof t==="object")t={mode:511&~process.umask(),fs:r,...t};else if(typeof t==="number")t={mode:t,fs:r};else if(typeof t==="string")t={mode:parseInt(t,8),fs:r};else throw new TypeError("invalid options argument");t.mkdir=t.mkdir||t.fs.mkdir||r.mkdir;t.mkdirAsync=i(t.mkdir);t.stat=t.stat||t.fs.stat||r.stat;t.statAsync=i(t.stat);t.statSync=t.statSync||t.fs.statSync||r.statSync;t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||r.mkdirSync;return t};t.exports=s},796:function(t){"use strict";t.exports=(t=>(class extends t{warn(t,e,n={}){if(this.file)n.file=this.file;if(this.cwd)n.cwd=this.cwd;n.code=e instanceof Error&&e.code||t;n.tarCode=t;if(!this.strict&&n.recoverable!==false){if(e instanceof Error){n=Object.assign(e,n);e=e.message}this.emit("warn",n.tarCode,e,n)}else if(e instanceof Error){this.emit("error",Object.assign(e,n))}else this.emit("error",Object.assign(new Error(`${t}: ${e}`),n))}}))},806:function(t,e,n){const{dirname:i}=n(622);const r=(t,e,n)=>{e.recursive=false;const s=i(t);if(s===t){return e.mkdirAsync(t,e).catch(t=>{if(t.code!=="EISDIR")throw t})}return e.mkdirAsync(t,e).then(()=>n||t,i=>{if(i.code==="ENOENT")return r(s,e).then(n=>r(t,e,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(t=>{if(t.isDirectory())return n;else throw i},()=>{throw i})})};const s=(t,e,n)=>{const r=i(t);e.recursive=false;if(r===t){try{return e.mkdirSync(t,e)}catch(t){if(t.code!=="EISDIR")throw t;else return}}try{e.mkdirSync(t,e);return n||t}catch(i){if(i.code==="ENOENT")return s(t,e,s(r,e,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch(t){throw i}}};t.exports={mkdirpManual:r,mkdirpManualSync:s}},827:function(t,e,n){"use strict";const i=n(720);const r=n(614).EventEmitter;const s=n(747);let o=s.writev;if(!o){const t=process.binding("fs");const e=t.FSReqWrap||t.FSReqCallback;o=((n,i,r,s)=>{const o=(t,e)=>s(t,e,i);const l=new e;l.oncomplete=o;t.writeBuffers(n,i,r,l)})}const l=Symbol("_autoClose");const u=Symbol("_close");const a=Symbol("_ended");const f=Symbol("_fd");const c=Symbol("_finished");const h=Symbol("_flags");const d=Symbol("_flush");const v=Symbol("_handleChunk");const w=Symbol("_makeBuf");const p=Symbol("_mode");const m=Symbol("_needDrain");const y=Symbol("_onerror");const b=Symbol("_onopen");const S=Symbol("_onread");const R=Symbol("_onwrite");const O=Symbol("_open");const N=Symbol("_path");const I=Symbol("_pos");const D=Symbol("_queue");const L=Symbol("_read");const A=Symbol("_readSize");const C=Symbol("_reading");const B=Symbol("_remain");const k=Symbol("_size");const T=Symbol("_write");const E=Symbol("_writing");const M=Symbol("_defaultFlag");const F=Symbol("_errored");class ReadStream extends i{constructor(t,e){e=e||{};super(e);this.readable=true;this.writable=false;if(typeof t!=="string")throw new TypeError("path must be a string");this[F]=false;this[f]=typeof e.fd==="number"?e.fd:null;this[N]=t;this[A]=e.readSize||16*1024*1024;this[C]=false;this[k]=typeof e.size==="number"?e.size:Infinity;this[B]=this[k];this[l]=typeof e.autoClose==="boolean"?e.autoClose:true;if(typeof this[f]==="number")this[L]();else this[O]()}get fd(){return this[f]}get path(){return this[N]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[O](){s.open(this[N],"r",(t,e)=>this[b](t,e))}[b](t,e){if(t)this[y](t);else{this[f]=e;this.emit("open",e);this[L]()}}[w](){return Buffer.allocUnsafe(Math.min(this[A],this[B]))}[L](){if(!this[C]){this[C]=true;const t=this[w]();if(t.length===0)return process.nextTick(()=>this[S](null,0,t));s.read(this[f],t,0,t.length,null,(t,e,n)=>this[S](t,e,n))}}[S](t,e,n){this[C]=false;if(t)this[y](t);else if(this[v](e,n))this[L]()}[u](){if(this[l]&&typeof this[f]==="number"){const t=this[f];this[f]=null;s.close(t,t=>t?this.emit("error",t):this.emit("close"))}}[y](t){this[C]=true;this[u]();this.emit("error",t)}[v](t,e){let n=false;this[B]-=t;if(t>0)n=super.write(t<e.length?e.slice(0,t):e);if(t===0||this[B]<=0){n=false;this[u]();super.end()}return n}emit(t,e){switch(t){case"prefinish":case"finish":break;case"drain":if(typeof this[f]==="number")this[L]();break;case"error":if(this[F])return;this[F]=true;return super.emit(t,e);default:return super.emit(t,e)}}}class ReadStreamSync extends ReadStream{[O](){let t=true;try{this[b](null,s.openSync(this[N],"r"));t=false}finally{if(t)this[u]()}}[L](){let t=true;try{if(!this[C]){this[C]=true;do{const t=this[w]();const e=t.length===0?0:s.readSync(this[f],t,0,t.length,null);if(!this[v](e,t))break}while(true);this[C]=false}t=false}finally{if(t)this[u]()}}[u](){if(this[l]&&typeof this[f]==="number"){const t=this[f];this[f]=null;s.closeSync(t);this.emit("close")}}}class WriteStream extends r{constructor(t,e){e=e||{};super(e);this.readable=false;this.writable=true;this[F]=false;this[E]=false;this[a]=false;this[m]=false;this[D]=[];this[N]=t;this[f]=typeof e.fd==="number"?e.fd:null;this[p]=e.mode===undefined?438:e.mode;this[I]=typeof e.start==="number"?e.start:null;this[l]=typeof e.autoClose==="boolean"?e.autoClose:true;const n=this[I]!==null?"r+":"w";this[M]=e.flags===undefined;this[h]=this[M]?n:e.flags;if(this[f]===null)this[O]()}emit(t,e){if(t==="error"){if(this[F])return;this[F]=true}return super.emit(t,e)}get fd(){return this[f]}get path(){return this[N]}[y](t){this[u]();this[E]=true;this.emit("error",t)}[O](){s.open(this[N],this[h],this[p],(t,e)=>this[b](t,e))}[b](t,e){if(this[M]&&this[h]==="r+"&&t&&t.code==="ENOENT"){this[h]="w";this[O]()}else if(t)this[y](t);else{this[f]=e;this.emit("open",e);this[d]()}}end(t,e){if(t)this.write(t,e);this[a]=true;if(!this[E]&&!this[D].length&&typeof this[f]==="number")this[R](null,0);return this}write(t,e){if(typeof t==="string")t=Buffer.from(t,e);if(this[a]){this.emit("error",new Error("write() after end()"));return false}if(this[f]===null||this[E]||this[D].length){this[D].push(t);this[m]=true;return false}this[E]=true;this[T](t);return true}[T](t){s.write(this[f],t,0,t.length,this[I],(t,e)=>this[R](t,e))}[R](t,e){if(t)this[y](t);else{if(this[I]!==null)this[I]+=e;if(this[D].length)this[d]();else{this[E]=false;if(this[a]&&!this[c]){this[c]=true;this[u]();this.emit("finish")}else if(this[m]){this[m]=false;this.emit("drain")}}}}[d](){if(this[D].length===0){if(this[a])this[R](null,0)}else if(this[D].length===1)this[T](this[D].pop());else{const t=this[D];this[D]=[];o(this[f],t,this[I],(t,e)=>this[R](t,e))}}[u](){if(this[l]&&typeof this[f]==="number"){const t=this[f];this[f]=null;s.close(t,t=>t?this.emit("error",t):this.emit("close"))}}}class WriteStreamSync extends WriteStream{[O](){let t;if(this[M]&&this[h]==="r+"){try{t=s.openSync(this[N],this[h],this[p])}catch(t){if(t.code==="ENOENT"){this[h]="w";return this[O]()}else throw t}}else t=s.openSync(this[N],this[h],this[p]);this[b](null,t)}[u](){if(this[l]&&typeof this[f]==="number"){const t=this[f];this[f]=null;s.closeSync(t);this.emit("close")}}[T](t){let e=true;try{this[R](null,s.writeSync(this[f],t,0,t.length,this[I]));e=false}finally{if(e)try{this[u]()}catch(t){}}}}e.ReadStream=ReadStream;e.ReadStreamSync=ReadStreamSync;e.WriteStream=WriteStream;e.WriteStreamSync=WriteStreamSync},835:function(t){t.exports=require("url")},858:function(t,e){"use strict";const n=e.encode=((t,e)=>{if(!Number.isSafeInteger(t))throw Error("cannot encode number outside of javascript safe integer range");else if(t<0)r(t,e);else i(t,e);return e});const i=(t,e)=>{e[0]=128;for(var n=e.length;n>1;n--){e[n-1]=t&255;t=Math.floor(t/256)}};const r=(t,e)=>{e[0]=255;var n=false;t=t*-1;for(var i=e.length;i>1;i--){var r=t&255;t=Math.floor(t/256);if(n)e[i-1]=u(r);else if(r===0)e[i-1]=0;else{n=true;e[i-1]=a(r)}}};const s=e.parse=(t=>{var e=t[t.length-1];var n=t[0];var i;if(n===128)i=l(t.slice(1,t.length));else if(n===255)i=o(t);else throw Error("invalid base256 encoding");if(!Number.isSafeInteger(i))throw Error("parsed number outside of javascript safe integer range");return i});const o=t=>{var e=t.length;var n=0;var i=false;for(var r=e-1;r>-1;r--){var s=t[r];var o;if(i)o=u(s);else if(s===0)o=s;else{i=true;o=a(s)}if(o!==0)n-=o*Math.pow(256,e-r-1)}return n};const l=t=>{var e=t.length;var n=0;for(var i=e-1;i>-1;i--){var r=t[i];if(r!==0)n+=r*Math.pow(256,e-i-1)}return n};const u=t=>(255^t)&255;const a=t=>(255^t)+1&255},870:function(t,e,n){const i=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;const{resolve:r,parse:s}=n(622);const o=t=>{if(/\0/.test(t)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"})}t=r(t);if(i==="win32"){const e=/[*|"<>?:]/;const{root:n}=s(t);if(e.test(t.substr(n.length))){throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}}return t};t.exports=o},885:function(t,e,n){"use strict";e.c=e.create=n(159);e.r=e.replace=n(630);e.t=e.list=n(381);e.u=e.update=n(966);e.x=e.extract=n(656);e.Pack=n(726);e.Unpack=n(63);e.Parse=n(203);e.ReadEntry=n(662);e.WriteEntry=n(303);e.Header=n(232);e.Pax=n(582);e.types=n(554)},891:function(t){"use strict";const e=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);const n=t.exports=(t=>t?Object.keys(t).map(n=>[e.has(n)?e.get(n):n,t[n]]).reduce((t,e)=>(t[e[0]]=e[1],t),Object.create(null)):{})},904:function(t){"use strict";t.exports=((t,e,n)=>{t&=4095;if(n){t=(t|384)&~18}if(e){if(t&256)t|=64;if(t&32)t|=8;if(t&4)t|=1}return t})},941:function(t,e,n){"use strict";const i=n(747);const r=n(622);const s=i.lchown?"lchown":"chown";const o=i.lchownSync?"lchownSync":"chownSync";const l=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const u=(t,e,n)=>{try{return i[o](t,e,n)}catch(t){if(t.code!=="ENOENT")throw t}};const a=(t,e,n)=>{try{return i.chownSync(t,e,n)}catch(t){if(t.code!=="ENOENT")throw t}};const f=l?(t,e,n,r)=>s=>{if(!s||s.code!=="EISDIR")r(s);else i.chown(t,e,n,r)}:(t,e,n,i)=>i;const c=l?(t,e,n)=>{try{return u(t,e,n)}catch(i){if(i.code!=="EISDIR")throw i;a(t,e,n)}}:(t,e,n)=>u(t,e,n);const h=process.version;let d=(t,e,n)=>i.readdir(t,e,n);let v=(t,e)=>i.readdirSync(t,e);if(/^v4\./.test(h))d=((t,e,n)=>i.readdir(t,n));const w=(t,e,n,r)=>{i[s](t,e,n,f(t,e,n,t=>{r(t&&t.code!=="ENOENT"?t:null)}))};const p=(t,e,n,s,o)=>{if(typeof e==="string")return i.lstat(r.resolve(t,e),(i,r)=>{if(i)return o(i.code!=="ENOENT"?i:null);r.name=e;p(t,r,n,s,o)});if(e.isDirectory()){m(r.resolve(t,e.name),n,s,i=>{if(i)return o(i);const l=r.resolve(t,e.name);w(l,n,s,o)})}else{const i=r.resolve(t,e.name);w(i,n,s,o)}};const m=(t,e,n,i)=>{d(t,{withFileTypes:true},(r,s)=>{if(r){if(r.code==="ENOENT")return i();else if(r.code!=="ENOTDIR"&&r.code!=="ENOTSUP")return i(r)}if(r||!s.length)return w(t,e,n,i);let o=s.length;let l=null;const u=r=>{if(l)return;if(r)return i(l=r);if(--o===0)return w(t,e,n,i)};s.forEach(i=>p(t,i,e,n,u))})};const y=(t,e,n,s)=>{if(typeof e==="string"){try{const n=i.lstatSync(r.resolve(t,e));n.name=e;e=n}catch(t){if(t.code==="ENOENT")return;else throw t}}if(e.isDirectory())b(r.resolve(t,e.name),n,s);c(r.resolve(t,e.name),n,s)};const b=(t,e,n)=>{let i;try{i=v(t,{withFileTypes:true})}catch(i){if(i.code==="ENOENT")return;else if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return c(t,e,n);else throw i}if(i&&i.length)i.forEach(i=>y(t,i,e,n));return c(t,e,n)};t.exports=m;m.sync=b},953:function(t,e,n){const i=process.env.__FAKE_PLATFORM__||process.platform;const r=i==="win32";const s=global.__FAKE_TESTING_FS__||n(747);const{O_CREAT:o,O_TRUNC:l,O_WRONLY:u,UV_FS_O_FILEMAP:a=0}=s.constants;const f=r&&!!a;const c=512*1024;const h=a|l|o|u;t.exports=!f?()=>"w":t=>t<c?h:"w"},965:function(t){t.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}Pend.prototype.go=function(t){if(this.pending<this.max){pendGo(this,t)}else{this.waiting.push(t)}};Pend.prototype.wait=function(t){if(this.pending===0){t(this.error)}else{this.listeners.push(t)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(t){t.pending+=1;var e=false;return onCb;function onCb(n){if(e)throw new Error("callback called twice");e=true;t.error=t.error||n;t.pending-=1;if(t.waiting.length>0&&t.pending<t.max){pendGo(t,t.waiting.shift())}else if(t.pending===0){var i=t.listeners;t.listeners=[];i.forEach(cbListener)}}function cbListener(e){e(t.error)}}function pendGo(t,e){e(pendHold(t))}},966:function(t,e,n){"use strict";const i=n(891);const r=n(630);const s=t.exports=((t,e,n)=>{const s=i(t);if(!s.file)throw new TypeError("file is required");if(s.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);o(s);return r(s,e,n)});const o=t=>{const e=t.filter;if(!t.mtimeCache)t.mtimeCache=new Map;t.filter=e?(n,i)=>e(n,i)&&!(t.mtimeCache.get(n)>i.mtime):(e,n)=>!(t.mtimeCache.get(e)>n.mtime)}}});
##############################################
/src/bin/lix.js-1-#!/usr/bin/env node
/src/bin/lix.js:2:module.exports=function(n,e){"use strict";var i={};function __webpack_require__(e){if(i[e]){return i[e].exports}var t=i[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,__webpack_require__);t.l=true;return t.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(726)}return startup()}({60:function(n,e,i){const t=i(761).constants||{ZLIB_VERNUM:4736};n.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},t))},63:function(n,e,i){"use strict";const t=i(357);const s=i(614).EventEmitter;const r=i(203);const f=i(747);const a=i(827);const l=i(622);const h=i(577);const w=h.sync;const c=i(478);const d=i(182);const u=Symbol("onEntry");const v=Symbol("checkFs");const o=Symbol("checkFs2");const b=Symbol("isReusable");const N=Symbol("makeFs");const R=Symbol("file");const S=Symbol("directory");const D=Symbol("link");const A=Symbol("symlink");const B=Symbol("hardlink");const M=Symbol("unsupported");const E=Symbol("unknown");const C=Symbol("checkPath");const W=Symbol("mkdir");const T=Symbol("onError");const Y=Symbol("pending");const G=Symbol("pend");const q=Symbol("unpend");const Z=Symbol("ended");const V=Symbol("maybeClose");const X=Symbol("skip");const j=Symbol("doChown");const J=Symbol("uid");const Q=Symbol("gid");const K=i(417);const y=i(953);const H=()=>{throw new Error("sync function called cb somehow?!?")};const O=(n,e)=>{if(process.platform!=="win32")return f.unlink(n,e);const i=n+".DELETE."+K.randomBytes(16).toString("hex");f.rename(n,i,n=>{if(n)return e(n);f.unlink(i,e)})};const I=n=>{if(process.platform!=="win32")return f.unlinkSync(n);const e=n+".DELETE."+K.randomBytes(16).toString("hex");f.renameSync(n,e);f.unlinkSync(e)};const L=(n,e,i)=>n===n>>>0?n:e===e>>>0?e:i;class Unpack extends r{constructor(n){if(!n)n={};n.ondone=(n=>{this[Z]=true;this[V]()});super(n);this.reservations=d();this.transform=typeof n.transform==="function"?n.transform:null;this.writable=true;this.readable=false;this[Y]=0;this[Z]=false;this.dirCache=n.dirCache||new Map;if(typeof n.uid==="number"||typeof n.gid==="number"){if(typeof n.uid!=="number"||typeof n.gid!=="number")throw new TypeError("cannot set owner without number uid and gid");if(n.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=n.uid;this.gid=n.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(n.preserveOwner===undefined&&typeof n.uid!=="number")this.preserveOwner=process.getuid&&process.getuid()===0;else this.preserveOwner=!!n.preserveOwner;this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=n.forceChown===true;this.win32=!!n.win32||process.platform==="win32";this.newer=!!n.newer;this.keep=!!n.keep;this.noMtime=!!n.noMtime;this.preservePaths=!!n.preservePaths;this.unlink=!!n.unlink;this.cwd=l.resolve(n.cwd||process.cwd());this.strip=+n.strip||0;this.processUmask=process.umask();this.umask=typeof n.umask==="number"?n.umask:this.processUmask;this.dmode=n.dmode||511&~this.umask;this.fmode=n.fmode||438&~this.umask;this.on("entry",n=>this[u](n))}warn(n,e,i={}){if(n==="TAR_BAD_ARCHIVE"||n==="TAR_ABORT")i.recoverable=false;return super.warn(n,e,i)}[V](){if(this[Z]&&this[Y]===0){this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")}}[C](n){if(this.strip){const e=n.path.split(/\/|\\/);if(e.length<this.strip)return false;n.path=e.slice(this.strip).join("/");if(n.type==="Link"){const e=n.linkpath.split(/\/|\\/);if(e.length>=this.strip)n.linkpath=e.slice(this.strip).join("/")}}if(!this.preservePaths){const e=n.path;if(e.match(/(^|\/|\\)\.\.(\\|\/|$)/)){this.warn("TAR_ENTRY_ERROR",`path contains '..'`,{entry:n,path:e});return false}if(l.win32.isAbsolute(e)){const i=l.win32.parse(e);n.path=e.substr(i.root.length);const t=i.root;this.warn("TAR_ENTRY_INFO",`stripping ${t} from absolute path`,{entry:n,path:e})}}if(this.win32){const e=l.win32.parse(n.path);n.path=e.root===""?c.encode(n.path):e.root+c.encode(n.path.substr(e.root.length))}if(l.isAbsolute(n.path))n.absolute=n.path;else n.absolute=l.resolve(this.cwd,n.path);return true}[u](n){if(!this[C](n))return n.resume();t.equal(typeof n.absolute,"string");switch(n.type){case"Directory":case"GNUDumpDir":if(n.mode)n.mode=n.mode|448;case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[v](n);case"CharacterDevice":case"BlockDevice":case"FIFO":return this[M](n)}}[T](n,e){if(n.name==="CwdError")this.emit("error",n);else{this.warn("TAR_ENTRY_ERROR",n,{entry:e});this[q]();e.resume()}}[W](n,e,i){h(n,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e},i)}[j](n){return this.forceChown||this.preserveOwner&&(typeof n.uid==="number"&&n.uid!==this.processUid||typeof n.gid==="number"&&n.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[J](n){return L(this.uid,n.uid,this.processUid)}[Q](n){return L(this.gid,n.gid,this.processGid)}[R](n,e){const i=n.mode&4095||this.fmode;const t=new a.WriteStream(n.absolute,{flags:y(n.size),mode:i,autoClose:false});t.on("error",e=>this[T](e,n));let s=1;const r=i=>{if(i)return this[T](i,n);if(--s===0){f.close(t.fd,i=>{e();i?this[T](i,n):this[q]()})}};t.on("finish",e=>{const i=n.absolute;const a=t.fd;if(n.mtime&&!this.noMtime){s++;const e=n.atime||new Date;const t=n.mtime;f.futimes(a,e,t,n=>n?f.utimes(i,e,t,e=>r(e&&n)):r())}if(this[j](n)){s++;const e=this[J](n);const t=this[Q](n);f.fchown(a,e,t,n=>n?f.chown(i,e,t,e=>r(e&&n)):r())}r()});const l=this.transform?this.transform(n)||n:n;if(l!==n){l.on("error",e=>this[T](e,n));n.pipe(l)}l.pipe(t)}[S](n,e){const i=n.mode&4095||this.dmode;this[W](n.absolute,i,i=>{if(i){e();return this[T](i,n)}let t=1;const s=i=>{if(--t===0){e();this[q]();n.resume()}};if(n.mtime&&!this.noMtime){t++;f.utimes(n.absolute,n.atime||new Date,n.mtime,s)}if(this[j](n)){t++;f.chown(n.absolute,this[J](n),this[Q](n),s)}s()})}[M](n){n.unsupported=true;this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${n.type}`,{entry:n});n.resume()}[A](n,e){this[D](n,n.linkpath,"symlink",e)}[B](n,e){this[D](n,l.resolve(this.cwd,n.linkpath),"link",e)}[G](){this[Y]++}[q](){this[Y]--;this[V]()}[X](n){this[q]();n.resume()}[b](n,e){return n.type==="File"&&!this.unlink&&e.isFile()&&e.nlink<=1&&process.platform!=="win32"}[v](n){this[G]();const e=[n.path];if(n.linkpath)e.push(n.linkpath);this.reservations.reserve(e,e=>this[o](n,e))}[o](n,e){this[W](l.dirname(n.absolute),this.dmode,i=>{if(i){e();return this[T](i,n)}f.lstat(n.absolute,(i,t)=>{if(t&&(this.keep||this.newer&&t.mtime>n.mtime)){this[X](n);e()}else if(i||this[b](n,t)){this[N](null,n,e)}else if(t.isDirectory()){if(n.type==="Directory"){if(!n.mode||(t.mode&4095)===n.mode)this[N](null,n,e);else f.chmod(n.absolute,n.mode,i=>this[N](i,n,e))}else f.rmdir(n.absolute,i=>this[N](i,n,e))}else O(n.absolute,i=>this[N](i,n,e))})})}[N](n,e,i){if(n)return this[T](n,e);switch(e.type){case"File":case"OldFile":case"ContiguousFile":return this[R](e,i);case"Link":return this[B](e,i);case"SymbolicLink":return this[A](e,i);case"Directory":case"GNUDumpDir":return this[S](e,i)}}[D](n,e,i,t){f[i](e,n.absolute,e=>{if(e)return this[T](e,n);t();this[q]();n.resume()})}}class UnpackSync extends Unpack{constructor(n){super(n)}[v](n){const e=this[W](l.dirname(n.absolute),this.dmode,H);if(e)return this[T](e,n);try{const i=f.lstatSync(n.absolute);if(this.keep||this.newer&&i.mtime>n.mtime)return this[X](n);else if(this[b](n,i))return this[N](null,n,H);else{try{if(i.isDirectory()){if(n.type==="Directory"){if(n.mode&&(i.mode&4095)!==n.mode)f.chmodSync(n.absolute,n.mode)}else f.rmdirSync(n.absolute)}else I(n.absolute);return this[N](null,n,H)}catch(e){return this[T](e,n)}}}catch(e){return this[N](null,n,H)}}[R](n,e){const i=n.mode&4095||this.fmode;const t=e=>{let i;try{f.closeSync(r)}catch(n){i=n}if(e||i)this[T](e||i,n)};let s;let r;try{r=f.openSync(n.absolute,y(n.size),i)}catch(n){return t(n)}const a=this.transform?this.transform(n)||n:n;if(a!==n){a.on("error",e=>this[T](e,n));n.pipe(a)}a.on("data",n=>{try{f.writeSync(r,n,0,n.length)}catch(n){t(n)}});a.on("end",e=>{let i=null;if(n.mtime&&!this.noMtime){const e=n.atime||new Date;const t=n.mtime;try{f.futimesSync(r,e,t)}catch(s){try{f.utimesSync(n.absolute,e,t)}catch(n){i=s}}}if(this[j](n)){const e=this[J](n);const t=this[Q](n);try{f.fchownSync(r,e,t)}catch(s){try{f.chownSync(n.absolute,e,t)}catch(n){i=i||s}}}t(i)})}[S](n,e){const i=n.mode&4095||this.dmode;const t=this[W](n.absolute,i);if(t)return this[T](t,n);if(n.mtime&&!this.noMtime){try{f.utimesSync(n.absolute,n.atime||new Date,n.mtime)}catch(t){}}if(this[j](n)){try{f.chownSync(n.absolute,this[J](n),this[Q](n))}catch(t){}}n.resume()}[W](n,e){try{return h.sync(n,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e})}catch(n){return n}}[D](n,e,i,t){try{f[i+"Sync"](e,n.absolute);n.resume()}catch(e){return this[T](e,n)}}}Unpack.Sync=UnpackSync;n.exports=Unpack},92:function(n,e,i){const{dirname:t}=i(622);const s=(n,e,i=undefined)=>{if(i===e)return Promise.resolve();return n.statAsync(e).then(n=>n.isDirectory()?i:undefined,i=>i.code==="ENOENT"?s(n,t(e),e):undefined)};const r=(n,e,i=undefined)=>{if(i===e)return undefined;try{return n.statSync(e).isDirectory()?i:undefined}catch(i){return i.code==="ENOENT"?r(n,t(e),e):undefined}};n.exports={findMade:s,findMadeSync:r}},93:function(n,e,i){var t=i(413).Stream;n.exports=legacy;function legacy(n){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(e,i){if(!(this instanceof ReadStream))return new ReadStream(e,i);t.call(this);var s=this;this.path=e;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;i=i||{};var r=Object.keys(i);for(var f=0,a=r.length;f<a;f++){var l=r[f];this[l]=i[l]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}n.open(this.path,this.flags,this.mode,function(n,e){if(n){s.emit("error",n);s.readable=false;return}s.fd=e;s.emit("open",e);s._read()})}function WriteStream(e,i){if(!(this instanceof WriteStream))return new WriteStream(e,i);t.call(this);this.path=e;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var s=Object.keys(i);for(var r=0,f=s.length;r<f;r++){var a=s[r];this[a]=i[a]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=n.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},129:function(n){n.exports=require("child_process")},133:function(n,e,i){"use strict";const t=i(357);const s=i(293).Buffer;const r=i(761);const f=e.constants=i(60);const a=i(720);const l=s.concat;const h=Symbol("_superWrite");class ZlibError extends Error{constructor(n){super("zlib: "+n.message);this.code=n.code;this.errno=n.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+n.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const w=Symbol("opts");const c=Symbol("flushFlag");const d=Symbol("finishFlushFlag");const u=Symbol("fullFlushFlag");const v=Symbol("handle");const o=Symbol("onError");const b=Symbol("sawError");const N=Symbol("level");const R=Symbol("strategy");const S=Symbol("ended");const D=Symbol("_defaultFullFlush");class ZlibBase extends a{constructor(n,e){if(!n||typeof n!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(n);this[S]=false;this[w]=n;this[c]=n.flush;this[d]=n.finishFlush;try{this[v]=new r[e](n)}catch(n){throw new ZlibError(n)}this[o]=(n=>{this[b]=true;this.close();this.emit("error",n)});this[v].on("error",n=>this[o](new ZlibError(n)));this.once("end",()=>this.close)}close(){if(this[v]){this[v].close();this[v]=null;this.emit("close")}}reset(){if(!this[b]){t(this[v],"zlib binding closed");return this[v].reset()}}flush(n){if(this.ended)return;if(typeof n!=="number")n=this[u];this.write(Object.assign(s.alloc(0),{[c]:n}))}end(n,e,i){if(n)this.write(n,e);this.flush(this[d]);this[S]=true;return super.end(null,null,i)}get ended(){return this[S]}write(n,e,i){if(typeof e==="function")i=e,e="utf8";if(typeof n==="string")n=s.from(n,e);if(this[b])return;t(this[v],"zlib binding closed");const r=this[v]._handle;const f=r.close;r.close=(()=>{});const a=this[v].close;this[v].close=(()=>{});s.concat=(n=>n);let w;try{const e=typeof n[c]==="number"?n[c]:this[c];w=this[v]._processChunk(n,e);s.concat=l}catch(n){s.concat=l;this[o](new ZlibError(n))}finally{if(this[v]){this[v]._handle=r;r.close=f;this[v].close=a;this[v].removeAllListeners("error")}}let d;if(w){if(Array.isArray(w)&&w.length>0){d=this[h](s.from(w[0]));for(let n=1;n<w.length;n++){d=this[h](w[n])}}else{d=this[h](s.from(w))}}if(i)i();return d}[h](n){return super.write(n)}}class Zlib extends ZlibBase{constructor(n,e){n=n||{};n.flush=n.flush||f.Z_NO_FLUSH;n.finishFlush=n.finishFlush||f.Z_FINISH;super(n,e);this[u]=f.Z_FULL_FLUSH;this[N]=n.level;this[R]=n.strategy}params(n,e){if(this[b])return;if(!this[v])throw new Error("cannot switch params when binding is closed");if(!this[v].params)throw new Error("not supported in this implementation");if(this[N]!==n||this[R]!==e){this.flush(f.Z_SYNC_FLUSH);t(this[v],"zlib binding closed");const i=this[v].flush;this[v].flush=((n,e)=>{this.flush(n);e()});try{this[v].params(n,e)}finally{this[v].flush=i}if(this[v]){this[N]=n;this[R]=e}}}}class Deflate extends Zlib{constructor(n){super(n,"Deflate")}}class Inflate extends Zlib{constructor(n){super(n,"Inflate")}}const A=Symbol("_portable");class Gzip extends Zlib{constructor(n){super(n,"Gzip");this[A]=n&&!!n.portable}[h](n){if(!this[A])return super[h](n);this[A]=false;n[9]=255;return super[h](n)}}class Gunzip extends Zlib{constructor(n){super(n,"Gunzip")}}class DeflateRaw extends Zlib{constructor(n){super(n,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(n){super(n,"InflateRaw")}}class Unzip extends Zlib{constructor(n){super(n,"Unzip")}}class Brotli extends ZlibBase{constructor(n,e){n=n||{};n.flush=n.flush||f.BROTLI_OPERATION_PROCESS;n.finishFlush=n.finishFlush||f.BROTLI_OPERATION_FINISH;super(n,e);this[u]=f.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(n){super(n,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(n){super(n,"BrotliDecompress")}}e.Deflate=Deflate;e.Inflate=Inflate;e.Gzip=Gzip;e.Gunzip=Gunzip;e.DeflateRaw=DeflateRaw;e.InflateRaw=InflateRaw;e.Unzip=Unzip;if(typeof r.BrotliCompress==="function"){e.BrotliCompress=BrotliCompress;e.BrotliDecompress=BrotliDecompress}else{e.BrotliCompress=e.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},159:function(n,e,i){"use strict";const t=i(891);const s=i(582);const r=i(747);const f=i(827);const a=i(381);const l=i(622);const h=n.exports=((n,e,i)=>{if(typeof e==="function")i=e;if(Array.isArray(n))e=n,n={};if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);const s=t(n);if(s.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof i==="function")throw new TypeError("callback only supported with file option");return s.file&&s.sync?w(s,e):s.file?c(s,e,i):s.sync?v(s,e):o(s,e)});const w=(n,e)=>{const i=new s.Sync(n);const t=new f.WriteStreamSync(n.file,{mode:n.mode||438});i.pipe(t);d(i,e)};const c=(n,e,i)=>{const t=new s(n);const r=new f.WriteStream(n.file,{mode:n.mode||438});t.pipe(r);const a=new Promise((n,e)=>{r.on("error",e);r.on("close",n);t.on("error",e)});u(t,e);return i?a.then(i,i):a};const d=(n,e)=>{e.forEach(e=>{if(e.charAt(0)==="@")a({file:l.resolve(n.cwd,e.substr(1)),sync:true,noResume:true,onentry:e=>n.add(e)});else n.add(e)});n.end()};const u=(n,e)=>{while(e.length){const i=e.shift();if(i.charAt(0)==="@")return a({file:l.resolve(n.cwd,i.substr(1)),noResume:true,onentry:e=>n.add(e)}).then(i=>u(n,e));else n.add(i)}n.end()};const v=(n,e)=>{const i=new s.Sync(n);d(i,e);return i};const o=(n,e)=>{const i=new s(n);u(i,e);return i}},182:function(n,e,i){const t=i(357);n.exports=(()=>{const n=new Map;const e=new Map;const{join:s}=i(622);const r=n=>s(n).split(/[\\\/]/).slice(0,-1).reduce((n,e)=>n.length?n.concat(s(n[n.length-1],e)):[e],[]);const f=new Set;const a=i=>{const t=e.get(i);if(!t)throw new Error("function does not have any path reservations");return{paths:t.paths.map(e=>n.get(e)),dirs:[...t.dirs].map(e=>n.get(e))}};const l=n=>{const{paths:e,dirs:i}=a(n);return e.every(e=>e[0]===n)&&i.every(e=>e[0]instanceof Set&&e[0].has(n))};const h=n=>{if(f.has(n)||!l(n))return false;f.add(n);n(()=>w(n));return true};const w=i=>{if(!f.has(i))return false;const{paths:s,dirs:r}=e.get(i);const a=new Set;s.forEach(e=>{const s=n.get(e);t.equal(s[0],i);if(s.length===1)n.delete(e);else{s.shift();if(typeof s[0]==="function")a.add(s[0]);else s[0].forEach(n=>a.add(n))}});r.forEach(e=>{const s=n.get(e);t(s[0]instanceof Set);if(s[0].size===1&&s.length===1){n.delete(e)}else if(s[0].size===1){s.shift();a.add(s[0])}else s[0].delete(i)});f.delete(i);a.forEach(n=>h(n));return true};const c=(i,t)=>{const s=new Set(i.map(n=>r(n)).reduce((n,e)=>n.concat(e)));e.set(t,{dirs:s,paths:i});i.forEach(e=>{const i=n.get(e);if(!i)n.set(e,[t]);else i.push(t)});s.forEach(e=>{const i=n.get(e);if(!i)n.set(e,[new Set([t])]);else if(i[i.length-1]instanceof Set)i[i.length-1].add(t);else i.push(new Set([t]))});return h(t)};return{check:l,reserve:c}})},203:function(n,e,i){"use strict";const t=i(796);const s=i(622);const r=i(232);const f=i(614);const a=i(612);const l=1024*1024;const h=i(662);const w=i(480);const c=i(133);const d=Buffer.from([31,139]);const u=Symbol("state");const v=Symbol("writeEntry");const o=Symbol("readEntry");const b=Symbol("nextEntry");const N=Symbol("processEntry");const R=Symbol("extendedHeader");const S=Symbol("globalExtendedHeader");const D=Symbol("meta");const A=Symbol("emitMeta");const B=Symbol("buffer");const M=Symbol("queue");const E=Symbol("ended");const C=Symbol("emittedEnd");const W=Symbol("emit");const T=Symbol("unzip");const Y=Symbol("consumeChunk");const G=Symbol("consumeChunkSub");const q=Symbol("consumeBody");const Z=Symbol("consumeMeta");const V=Symbol("consumeHeader");const X=Symbol("consuming");const j=Symbol("bufferConcat");const J=Symbol("maybeEnd");const Q=Symbol("writing");const K=Symbol("aborted");const y=Symbol("onDone");const H=Symbol("sawValidEntry");const O=Symbol("sawNullBlock");const I=Symbol("sawEOF");const L=n=>true;n.exports=t(class Parser extends f{constructor(n){n=n||{};super(n);this.file=n.file||"";this[H]=null;this.on(y,n=>{if(this[u]==="begin"||this[H]===false){this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}});if(n.ondone)this.on(y,n.ondone);else this.on(y,n=>{this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")});this.strict=!!n.strict;this.maxMetaEntrySize=n.maxMetaEntrySize||l;this.filter=typeof n.filter==="function"?n.filter:L;this.writable=true;this.readable=false;this[M]=new a;this[B]=null;this[o]=null;this[v]=null;this[u]="begin";this[D]="";this[R]=null;this[S]=null;this[E]=false;this[T]=null;this[K]=false;this[O]=false;this[I]=false;if(typeof n.onwarn==="function")this.on("warn",n.onwarn);if(typeof n.onentry==="function")this.on("entry",n.onentry)}[V](n,e){if(this[H]===null)this[H]=false;let i;try{i=new r(n,e,this[R],this[S])}catch(n){return this.warn("TAR_ENTRY_INVALID",n)}if(i.nullBlock){if(this[O]){this[I]=true;if(this[u]==="begin")this[u]="header";this[W]("eof")}else{this[O]=true;this[W]("nullBlock")}}else{this[O]=false;if(!i.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:i});else if(!i.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:i});else{const n=i.type;if(/^(Symbolic)?Link$/.test(n)&&!i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:i});else if(!/^(Symbolic)?Link$/.test(n)&&i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:i});else{const n=this[v]=new h(i,this[R],this[S]);if(!this[H]){if(n.remain){const e=()=>{if(!n.invalid)this[H]=true};n.on("end",e)}else{this[H]=true}}if(n.meta){if(n.size>this.maxMetaEntrySize){n.ignore=true;this[W]("ignoredEntry",n);this[u]="ignore";n.resume()}else if(n.size>0){this[D]="";n.on("data",n=>this[D]+=n);this[u]="meta"}}else{this[R]=null;n.ignore=n.ignore||!this.filter(n.path,n);if(n.ignore){this[W]("ignoredEntry",n);this[u]=n.remain?"ignore":"header";n.resume()}else{if(n.remain)this[u]="body";else{this[u]="header";n.end()}if(!this[o]){this[M].push(n);this[b]()}else this[M].push(n)}}}}}}[N](n){let e=true;if(!n){this[o]=null;e=false}else if(Array.isArray(n))this.emit.apply(this,n);else{this[o]=n;this.emit("entry",n);if(!n.emittedEnd){n.on("end",n=>this[b]());e=false}}return e}[b](){do{}while(this[N](this[M].shift()));if(!this[M].length){const n=this[o];const e=!n||n.flowing||n.size===n.remain;if(e){if(!this[Q])this.emit("drain")}else n.once("drain",n=>this.emit("drain"))}}[q](n,e){const i=this[v];const t=i.blockRemain;const s=t>=n.length&&e===0?n:n.slice(e,e+t);i.write(s);if(!i.blockRemain){this[u]="header";this[v]=null;i.end()}return s.length}[Z](n,e){const i=this[v];const t=this[q](n,e);if(!this[v])this[A](i);return t}[W](n,e,i){if(!this[M].length&&!this[o])this.emit(n,e,i);else this[M].push([n,e,i])}[A](n){this[W]("meta",this[D]);switch(n.type){case"ExtendedHeader":case"OldExtendedHeader":this[R]=w.parse(this[D],this[R],false);break;case"GlobalExtendedHeader":this[S]=w.parse(this[D],this[S],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[R]=this[R]||Object.create(null);this[R].path=this[D].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[R]=this[R]||Object.create(null);this[R].linkpath=this[D].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+n.type)}}abort(n){this[K]=true;this.emit("abort",n);this.warn("TAR_ABORT",n,{recoverable:false})}write(n){if(this[K])return;if(this[T]===null&&n){if(this[B]){n=Buffer.concat([this[B],n]);this[B]=null}if(n.length<d.length){this[B]=n;return true}for(let e=0;this[T]===null&&e<d.length;e++){if(n[e]!==d[e])this[T]=false}if(this[T]===null){const e=this[E];this[E]=false;this[T]=new c.Unzip;this[T].on("data",n=>this[Y](n));this[T].on("error",n=>this.abort(n));this[T].on("end",n=>{this[E]=true;this[Y]()});this[Q]=true;const i=this[T][e?"end":"write"](n);this[Q]=false;return i}}this[Q]=true;if(this[T])this[T].write(n);else this[Y](n);this[Q]=false;const e=this[M].length?false:this[o]?this[o].flowing:true;if(!e&&!this[M].length)this[o].once("drain",n=>this.emit("drain"));return e}[j](n){if(n&&!this[K])this[B]=this[B]?Buffer.concat([this[B],n]):n}[J](){if(this[E]&&!this[C]&&!this[K]&&!this[X]){this[C]=true;const n=this[v];if(n&&n.blockRemain){const e=this[B]?this[B].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${n.blockRemain} more bytes, only ${e} available)`,{entry:n});if(this[B])n.write(this[B]);n.end()}this[W](y)}}[Y](n){if(this[X])this[j](n);else if(!n&&!this[B])this[J]();else{this[X]=true;if(this[B]){this[j](n);const e=this[B];this[B]=null;this[G](e)}else{this[G](n)}while(this[B]&&this[B].length>=512&&!this[K]&&!this[I]){const n=this[B];this[B]=null;this[G](n)}this[X]=false}if(!this[B]||this[E])this[J]()}[G](n){let e=0;let i=n.length;while(e+512<=i&&!this[K]&&!this[I]){switch(this[u]){case"begin":case"header":this[V](n,e);e+=512;break;case"ignore":case"body":e+=this[q](n,e);break;case"meta":e+=this[Z](n,e);break;default:throw new Error("invalid state: "+this[u])}}if(e<i){if(this[B])this[B]=Buffer.concat([n.slice(e),this[B]]);else this[B]=n.slice(e)}}end(n){if(!this[K]){if(this[T])this[T].end(n);else{this[E]=true;this.write(n)}}}})},211:function(n){n.exports=require("https")},232:function(n,e,i){"use strict";const t=i(554);const s=i(622).posix;const r=i(858);const f=Symbol("slurp");const a=Symbol("type");class Header{constructor(n,e,i,t){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[a]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(Buffer.isBuffer(n))this.decode(n,e||0,i,t);else if(n)this.set(n)}decode(n,e,i,t){if(!e)e=0;if(!n||!(n.length>=e+512))throw new Error("need 512 bytes for header");this.path=h(n,e,100);this.mode=d(n,e+100,8);this.uid=d(n,e+108,8);this.gid=d(n,e+116,8);this.size=d(n,e+124,12);this.mtime=w(n,e+136,12);this.cksum=d(n,e+148,12);this[f](i);this[f](t,true);this[a]=h(n,e+156,1);if(this[a]==="")this[a]="0";if(this[a]==="0"&&this.path.substr(-1)==="/")this[a]="5";if(this[a]==="5")this.size=0;this.linkpath=h(n,e+157,100);if(n.slice(e+257,e+265).toString()==="ustar\x0000"){this.uname=h(n,e+265,32);this.gname=h(n,e+297,32);this.devmaj=d(n,e+329,8);this.devmin=d(n,e+337,8);if(n[e+475]!==0){const i=h(n,e+345,155);this.path=i+"/"+this.path}else{const i=h(n,e+345,130);if(i)this.path=i+"/"+this.path;this.atime=w(n,e+476,12);this.ctime=w(n,e+488,12)}}let s=8*32;for(let i=e;i<e+148;i++){s+=n[i]}for(let i=e+156;i<e+512;i++){s+=n[i]}this.cksumValid=s===this.cksum;if(this.cksum===null&&s===8*32)this.nullBlock=true}[f](n,e){for(let i in n){if(n[i]!==null&&n[i]!==undefined&&!(e&&i==="path"))this[i]=n[i]}}encode(n,e){if(!n){n=this.block=Buffer.alloc(512);e=0}if(!e)e=0;if(!(n.length>=e+512))throw new Error("need 512 bytes for header");const i=this.ctime||this.atime?130:155;const t=l(this.path||"",i);const s=t[0];const r=t[1];this.needPax=t[2];this.needPax=B(n,e,100,s)||this.needPax;this.needPax=b(n,e+100,8,this.mode)||this.needPax;this.needPax=b(n,e+108,8,this.uid)||this.needPax;this.needPax=b(n,e+116,8,this.gid)||this.needPax;this.needPax=b(n,e+124,12,this.size)||this.needPax;this.needPax=D(n,e+136,12,this.mtime)||this.needPax;n[e+156]=this[a].charCodeAt(0);this.needPax=B(n,e+157,100,this.linkpath)||this.needPax;n.write("ustar\x0000",e+257,8);this.needPax=B(n,e+265,32,this.uname)||this.needPax;this.needPax=B(n,e+297,32,this.gname)||this.needPax;this.needPax=b(n,e+329,8,this.devmaj)||this.needPax;this.needPax=b(n,e+337,8,this.devmin)||this.needPax;this.needPax=B(n,e+345,i,r)||this.needPax;if(n[e+475]!==0)this.needPax=B(n,e+345,155,r)||this.needPax;else{this.needPax=B(n,e+345,130,r)||this.needPax;this.needPax=D(n,e+476,12,this.atime)||this.needPax;this.needPax=D(n,e+488,12,this.ctime)||this.needPax}let f=8*32;for(let i=e;i<e+148;i++){f+=n[i]}for(let i=e+156;i<e+512;i++){f+=n[i]}this.cksum=f;b(n,e+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(n){for(let e in n){if(n[e]!==null&&n[e]!==undefined)this[e]=n[e]}}get type(){return t.name.get(this[a])||this[a]}get typeKey(){return this[a]}set type(n){if(t.code.has(n))this[a]=t.code.get(n);else this[a]=n}}const l=(n,e)=>{const i=100;let t=n;let r="";let f;const a=s.parse(n).root||".";if(Buffer.byteLength(t)<i)f=[t,r,false];else{r=s.dirname(t);t=s.basename(t);do{if(Buffer.byteLength(t)<=i&&Buffer.byteLength(r)<=e)f=[t,r,false];else if(Buffer.byteLength(t)>i&&Buffer.byteLength(r)<=e)f=[t.substr(0,i-1),r,true];else{t=s.join(s.basename(r),t);r=s.dirname(r)}}while(r!==a&&!f);if(!f)f=[n.substr(0,i-1),"",true]}return f};const h=(n,e,i)=>n.slice(e,e+i).toString("utf8").replace(/\0.*/,"");const w=(n,e,i)=>c(d(n,e,i));const c=n=>n===null?null:new Date(n*1e3);const d=(n,e,i)=>n[e]&128?r.parse(n.slice(e,e+i)):v(n,e,i);const u=n=>isNaN(n)?null:n;const v=(n,e,i)=>u(parseInt(n.slice(e,e+i).toString("utf8").replace(/\0.*$/,"").trim(),8));const o={12:8589934591,8:2097151};const b=(n,e,i,t)=>t===null?false:t>o[i]||t<0?(r.encode(t,n.slice(e,e+i)),true):(N(n,e,i,t),false);const N=(n,e,i,t)=>n.write(R(t,i),e,i,"ascii");const R=(n,e)=>S(Math.floor(n).toString(8),e);const S=(n,e)=>(n.length===e-1?n:new Array(e-n.length-1).join("0")+n+" ")+"\0";const D=(n,e,i,t)=>t===null?false:b(n,e,i,t.getTime()/1e3);const A=new Array(156).join("\0");const B=(n,e,i,t)=>t===null?false:(n.write(t+A,e,i,"utf8"),t.length!==Buffer.byteLength(t)||t.length>i);n.exports=Header},250:function(n,e,i){var t=i(619);var s=process.cwd;var r=null;var f=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!r)r=s.call(process);return r};try{process.cwd()}catch(n){}var a=process.chdir;process.chdir=function(n){r=null;a.call(process,n)};n.exports=patch;function patch(n){if(t.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(n)}if(!n.lutimes){patchLutimes(n)}n.chown=chownFix(n.chown);n.fchown=chownFix(n.fchown);n.lchown=chownFix(n.lchown);n.chmod=chmodFix(n.chmod);n.fchmod=chmodFix(n.fchmod);n.lchmod=chmodFix(n.lchmod);n.chownSync=chownFixSync(n.chownSync);n.fchownSync=chownFixSync(n.fchownSync);n.lchownSync=chownFixSync(n.lchownSync);n.chmodSync=chmodFixSync(n.chmodSync);n.fchmodSync=chmodFixSync(n.fchmodSync);n.lchmodSync=chmodFixSync(n.lchmodSync);n.stat=statFix(n.stat);n.fstat=statFix(n.fstat);n.lstat=statFix(n.lstat);n.statSync=statFixSync(n.statSync);n.fstatSync=statFixSync(n.fstatSync);n.lstatSync=statFixSync(n.lstatSync);if(!n.lchmod){n.lchmod=function(n,e,i){if(i)process.nextTick(i)};n.lchmodSync=function(){}}if(!n.lchown){n.lchown=function(n,e,i,t){if(t)process.nextTick(t)};n.lchownSync=function(){}}if(f==="win32"){n.rename=function(e){return function(i,t,s){var r=Date.now();var f=0;e(i,t,function CB(a){if(a&&(a.code==="EACCES"||a.code==="EPERM")&&Date.now()-r<6e4){setTimeout(function(){n.stat(t,function(n,r){if(n&&n.code==="ENOENT")e(i,t,CB);else s(a)})},f);if(f<100)f+=10;return}if(s)s(a)})}}(n.rename)}n.read=function(e){function read(i,t,s,r,f,a){var l;if(a&&typeof a==="function"){var h=0;l=function(w,c,d){if(w&&w.code==="EAGAIN"&&h<10){h++;return e.call(n,i,t,s,r,f,l)}a.apply(this,arguments)}}return e.call(n,i,t,s,r,f,l)}read.__proto__=e;return read}(n.read);n.readSync=function(e){return function(i,t,s,r,f){var a=0;while(true){try{return e.call(n,i,t,s,r,f)}catch(n){if(n.code==="EAGAIN"&&a<10){a++;continue}throw n}}}}(n.readSync);function patchLchmod(n){n.lchmod=function(e,i,s){n.open(e,t.O_WRONLY|t.O_SYMLINK,i,function(e,t){if(e){if(s)s(e);return}n.fchmod(t,i,function(e){n.close(t,function(n){if(s)s(e||n)})})})};n.lchmodSync=function(e,i){var s=n.openSync(e,t.O_WRONLY|t.O_SYMLINK,i);var r=true;var f;try{f=n.fchmodSync(s,i);r=false}finally{if(r){try{n.closeSync(s)}catch(n){}}else{n.closeSync(s)}}return f}}function patchLutimes(n){if(t.hasOwnProperty("O_SYMLINK")){n.lutimes=function(e,i,s,r){n.open(e,t.O_SYMLINK,function(e,t){if(e){if(r)r(e);return}n.futimes(t,i,s,function(e){n.close(t,function(n){if(r)r(e||n)})})})};n.lutimesSync=function(e,i,s){var r=n.openSync(e,t.O_SYMLINK);var f;var a=true;try{f=n.futimesSync(r,i,s);a=false}finally{if(a){try{n.closeSync(r)}catch(n){}}else{n.closeSync(r)}}return f}}else{n.lutimes=function(n,e,i,t){if(t)process.nextTick(t)};n.lutimesSync=function(){}}}function chmodFix(e){if(!e)return e;return function(i,t,s){return e.call(n,i,t,function(n){if(chownErOk(n))n=null;if(s)s.apply(this,arguments)})}}function chmodFixSync(e){if(!e)return e;return function(i,t){try{return e.call(n,i,t)}catch(n){if(!chownErOk(n))throw n}}}function chownFix(e){if(!e)return e;return function(i,t,s,r){return e.call(n,i,t,s,function(n){if(chownErOk(n))n=null;if(r)r.apply(this,arguments)})}}function chownFixSync(e){if(!e)return e;return function(i,t,s){try{return e.call(n,i,t,s)}catch(n){if(!chownErOk(n))throw n}}}function statFix(e){if(!e)return e;return function(i,t,s){if(typeof t==="function"){s=t;t=null}function callback(n,e){if(e){if(e.uid<0)e.uid+=4294967296;if(e.gid<0)e.gid+=4294967296}if(s)s.apply(this,arguments)}return t?e.call(n,i,t,callback):e.call(n,i,callback)}}function statFixSync(e){if(!e)return e;return function(i,t){var s=t?e.call(n,i,t):e.call(n,i);if(s.uid<0)s.uid+=4294967296;if(s.gid<0)s.gid+=4294967296;return s}}function chownErOk(n){if(!n)return true;if(n.code==="ENOSYS")return true;var e=!process.getuid||process.getuid()!==0;if(e){if(n.code==="EINVAL"||n.code==="EPERM")return true}return false}}},293:function(n){n.exports=require("buffer")},303:function(n,e,i){"use strict";const t=i(720);const s=i(480);const r=i(232);const f=i(662);const a=i(747);const l=i(622);const h=i(554);const w=16*1024*1024;const c=Symbol("process");const d=Symbol("file");const u=Symbol("directory");const v=Symbol("symlink");const o=Symbol("hardlink");const b=Symbol("header");const N=Symbol("read");const R=Symbol("lstat");const S=Symbol("onlstat");const D=Symbol("onread");const A=Symbol("onreadlink");const B=Symbol("openfile");const M=Symbol("onopenfile");const E=Symbol("close");const C=Symbol("mode");const W=i(796);const T=i(478);const Y=i(904);const G=W(class WriteEntry extends t{constructor(n,e){e=e||{};super(e);if(typeof n!=="string")throw new TypeError("path is required");this.path=n;this.portable=!!e.portable;this.myuid=process.getuid&&process.getuid();this.myuser=process.env.USER||"";this.maxReadSize=e.maxReadSize||w;this.linkCache=e.linkCache||new Map;this.statCache=e.statCache||new Map;this.preservePaths=!!e.preservePaths;this.cwd=e.cwd||process.cwd();this.strict=!!e.strict;this.noPax=!!e.noPax;this.noMtime=!!e.noMtime;this.mtime=e.mtime||null;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);let i=false;if(!this.preservePaths&&l.win32.isAbsolute(n)){const e=l.win32.parse(n);this.path=n.substr(e.root.length);i=e.root}this.win32=!!e.win32||process.platform==="win32";if(this.win32){this.path=T.decode(this.path.replace(/\\/g,"/"));n=n.replace(/\\/g,"/")}this.absolute=e.absolute||l.resolve(this.cwd,n);if(this.path==="")this.path="./";if(i){this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path})}if(this.statCache.has(this.absolute))this[S](this.statCache.get(this.absolute));else this[R]()}[R](){a.lstat(this.absolute,(n,e)=>{if(n)return this.emit("error",n);this[S](e)})}[S](n){this.statCache.set(this.absolute,n);this.stat=n;if(!n.isFile())n.size=0;this.type=Z(n);this.emit("stat",n);this[c]()}[c](){switch(this.type){case"File":return this[d]();case"Directory":return this[u]();case"SymbolicLink":return this[v]();default:return this.end()}}[C](n){return Y(n,this.type==="Directory",this.portable)}[b](){if(this.type==="Directory"&&this.portable)this.noMtime=true;this.header=new r({path:this.path,linkpath:this.linkpath,mode:this[C](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax)this.write(new s({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode());this.write(this.header.block)}[u](){if(this.path.substr(-1)!=="/")this.path+="/";this.stat.size=0;this[b]();this.end()}[v](){a.readlink(this.absolute,(n,e)=>{if(n)return this.emit("error",n);this[A](e)})}[A](n){this.linkpath=n.replace(/\\/g,"/");this[b]();this.end()}[o](n){this.type="Link";this.linkpath=l.relative(this.cwd,n).replace(/\\/g,"/");this.stat.size=0;this[b]();this.end()}[d](){if(this.stat.nlink>1){const n=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(n)){const e=this.linkCache.get(n);if(e.indexOf(this.cwd)===0)return this[o](e)}this.linkCache.set(n,this.absolute)}this[b]();if(this.stat.size===0)return this.end();this[B]()}[B](){a.open(this.absolute,"r",(n,e)=>{if(n)return this.emit("error",n);this[M](e)})}[M](n){const e=512*Math.ceil(this.stat.size/512);const i=Math.min(e,this.maxReadSize);const t=Buffer.allocUnsafe(i);this[N](n,t,0,t.length,0,this.stat.size,e)}[N](n,e,i,t,s,r,f){a.read(n,e,i,t,s,(a,l)=>{if(a){return this[E](n,()=>this.emit("error",a))}this[D](n,e,i,t,s,r,f,l)})}[E](n,e){a.close(n,e)}[D](n,e,i,t,s,r,f,a){if(a<=0&&r>0){const e=new Error("encountered unexpected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[E](n,()=>this.emit("error",e))}if(a>r){const e=new Error("did not encounter expected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[E](n,()=>this.emit("error",e))}if(a===r){for(let n=a;n<t&&a<f;n++){e[n+i]=0;a++;r++}}const l=i===0&&a===e.length?e:e.slice(i,i+a);r-=a;f-=a;s+=a;i+=a;this.write(l);if(!r){if(f)this.write(Buffer.alloc(f));return this[E](n,n=>n?this.emit("error",n):this.end())}if(i>=t){e=Buffer.allocUnsafe(t);i=0}t=e.length-i;this[N](n,e,i,t,s,r,f)}});class WriteEntrySync extends G{constructor(n,e){super(n,e)}[R](){this[S](a.lstatSync(this.absolute))}[v](){this[A](a.readlinkSync(this.absolute))}[B](){this[M](a.openSync(this.absolute,"r"))}[N](n,e,i,t,s,r,f){let l=true;try{const h=a.readSync(n,e,i,t,s);this[D](n,e,i,t,s,r,f,h);l=false}finally{if(l)try{this[E](n,()=>{})}catch(n){}}}[E](n,e){a.closeSync(n);e()}}const q=W(class WriteEntryTar extends t{constructor(n,e){e=e||{};super(e);this.preservePaths=!!e.preservePaths;this.portable=!!e.portable;this.strict=!!e.strict;this.noPax=!!e.noPax;this.noMtime=!!e.noMtime;this.readEntry=n;this.type=n.type;if(this.type==="Directory"&&this.portable)this.noMtime=true;this.path=n.path;this.mode=this[C](n.mode);this.uid=this.portable?null:n.uid;this.gid=this.portable?null:n.gid;this.uname=this.portable?null:n.uname;this.gname=this.portable?null:n.gname;this.size=n.size;this.mtime=this.noMtime?null:e.mtime||n.mtime;this.atime=this.portable?null:n.atime;this.ctime=this.portable?null:n.ctime;this.linkpath=n.linkpath;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);let i=false;if(l.isAbsolute(this.path)&&!this.preservePaths){const n=l.parse(this.path);i=n.root;this.path=this.path.substr(n.root.length)}this.remain=n.size;this.blockRemain=n.startBlockSize;this.header=new r({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(i){this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path})}if(this.header.encode()&&!this.noPax)super.write(new s({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode());super.write(this.header.block);n.pipe(this)}[C](n){return Y(n,this.type==="Directory",this.portable)}write(n){const e=n.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");this.blockRemain-=e;return super.write(n)}end(){if(this.blockRemain)this.write(Buffer.alloc(this.blockRemain));return super.end()}});G.Sync=WriteEntrySync;G.Tar=q;const Z=n=>n.isFile()?"File":n.isDirectory()?"Directory":n.isSymbolicLink()?"SymbolicLink":"Unsupported";n.exports=G},304:function(n){n.exports=require("string_decoder")},324:function(n,e,i){var t=i(747);var s=i(669);var r=i(413);var f=r.Readable;var a=r.Writable;var l=r.PassThrough;var h=i(965);var w=i(614).EventEmitter;e.createFromBuffer=createFromBuffer;e.createFromFd=createFromFd;e.BufferSlicer=BufferSlicer;e.FdSlicer=FdSlicer;s.inherits(FdSlicer,w);function FdSlicer(n,e){e=e||{};w.call(this);this.fd=n;this.pend=new h;this.pend.max=1;this.refCount=0;this.autoClose=!!e.autoClose}FdSlicer.prototype.read=function(n,e,i,s,r){var f=this;f.pend.go(function(a){t.read(f.fd,n,e,i,s,function(n,e,i){a();r(n,e,i)})})};FdSlicer.prototype.write=function(n,e,i,s,r){var f=this;f.pend.go(function(a){t.write(f.fd,n,e,i,s,function(n,e,i){a();r(n,e,i)})})};FdSlicer.prototype.createReadStream=function(n){return new ReadStream(this,n)};FdSlicer.prototype.createWriteStream=function(n){return new WriteStream(this,n)};FdSlicer.prototype.ref=function(){this.refCount+=1};FdSlicer.prototype.unref=function(){var n=this;n.refCount-=1;if(n.refCount>0)return;if(n.refCount<0)throw new Error("invalid unref");if(n.autoClose){t.close(n.fd,onCloseDone)}function onCloseDone(e){if(e){n.emit("error",e)}else{n.emit("close")}}};s.inherits(ReadStream,f);function ReadStream(n,e){e=e||{};f.call(this,e);this.context=n;this.context.ref();this.start=e.start||0;this.endOffset=e.end;this.pos=this.start;this.destroyed=false}ReadStream.prototype._read=function(n){var e=this;if(e.destroyed)return;var i=Math.min(e._readableState.highWaterMark,n);if(e.endOffset!=null){i=Math.min(i,e.endOffset-e.pos)}if(i<=0){e.destroyed=true;e.push(null);e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var s=new Buffer(i);t.read(e.context.fd,s,0,i,e.pos,function(i,t){if(i){e.destroy(i)}else if(t===0){e.destroyed=true;e.push(null);e.context.unref()}else{e.pos+=t;e.push(s.slice(0,t))}n()})})};ReadStream.prototype.destroy=function(n){if(this.destroyed)return;n=n||new Error("stream destroyed");this.destroyed=true;this.emit("error",n);this.context.unref()};s.inherits(WriteStream,a);function WriteStream(n,e){e=e||{};a.call(this,e);this.context=n;this.context.ref();this.start=e.start||0;this.endOffset=e.end==null?Infinity:+e.end;this.bytesWritten=0;this.pos=this.start;this.destroyed=false;this.on("finish",this.destroy.bind(this))}WriteStream.prototype._write=function(n,e,i){var s=this;if(s.destroyed)return;if(s.pos+n.length>s.endOffset){var r=new Error("maximum file length exceeded");r.code="ETOOBIG";s.destroy();i(r);return}s.context.pend.go(function(e){if(s.destroyed)return e();t.write(s.context.fd,n,0,n.length,s.pos,function(n,t){if(n){s.destroy();e();i(n)}else{s.bytesWritten+=t;s.pos+=t;s.emit("progress");e();i()}})})};WriteStream.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=true;this.context.unref()};s.inherits(BufferSlicer,w);function BufferSlicer(n,e){w.call(this);e=e||{};this.refCount=0;this.buffer=n;this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}BufferSlicer.prototype.read=function(n,e,i,t,s){var r=t+i;var f=r-this.buffer.length;var a=f>0?f:i;this.buffer.copy(n,e,t,r);setImmediate(function(){s(null,a)})};BufferSlicer.prototype.write=function(n,e,i,t,s){n.copy(this.buffer,t,e,e+i);setImmediate(function(){s(null,i,n)})};BufferSlicer.prototype.createReadStream=function(n){n=n||{};var e=new l(n);e.destroyed=false;e.start=n.start||0;e.endOffset=n.end;e.pos=e.endOffset||this.buffer.length;var i=this.buffer.slice(e.start,e.pos);var t=0;while(true){var s=t+this.maxChunkSize;if(s>=i.length){if(t<i.length){e.write(i.slice(t,i.length))}break}e.write(i.slice(t,s));t=s}e.end();e.destroy=function(){e.destroyed=true};return e};BufferSlicer.prototype.createWriteStream=function(n){var e=this;n=n||{};var i=new a(n);i.start=n.start||0;i.endOffset=n.end==null?this.buffer.length:+n.end;i.bytesWritten=0;i.pos=i.start;i.destroyed=false;i._write=function(n,t,s){if(i.destroyed)return;var r=i.pos+n.length;if(r>i.endOffset){var f=new Error("maximum file length exceeded");f.code="ETOOBIG";i.destroyed=true;s(f);return}n.copy(e.buffer,i.pos,0,n.length);i.bytesWritten+=n.length;i.pos=r;i.emit("progress");s()};i.destroy=function(){i.destroyed=true};return i};BufferSlicer.prototype.ref=function(){this.refCount+=1};BufferSlicer.prototype.unref=function(){this.refCount-=1;if(this.refCount<0){throw new Error("invalid unref")}};function createFromBuffer(n,e){return new BufferSlicer(n,e)}function createFromFd(n,e){return new FdSlicer(n,e)}},336:function(n,e,i){const t=i(747);const s=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;const r=s.replace(/^v/,"").split(".");const f=+r[0]>10||+r[0]===10&&+r[1]>=12;const a=!f?()=>false:n=>n.mkdir===t.mkdir;const l=!f?()=>false:n=>n.mkdirSync===t.mkdirSync;n.exports={useNative:a,useNativeSync:l}},357:function(n){n.exports=require("assert")},381:function(n,e,i){"use strict";const t=i(891);const s=i(203);const r=i(747);const f=i(827);const a=i(622);const l=n.exports=((n,e,i)=>{if(typeof n==="function")i=n,e=null,n={};else if(Array.isArray(n))e=n,n={};if(typeof e==="function")i=e,e=null;if(!e)e=[];else e=Array.from(e);const s=t(n);if(s.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof i==="function")throw new TypeError("callback only supported with file option");if(e.length)w(s,e);if(!s.noResume)h(s);return s.file&&s.sync?c(s):s.file?d(s,i):u(s)});const h=n=>{const e=n.onentry;n.onentry=e?n=>{e(n);n.resume()}:n=>n.resume()};const w=(n,e)=>{const i=new Map(e.map(n=>[n.replace(/\/+$/,""),true]));const t=n.filter;const s=(n,e)=>{const t=e||a.parse(n).root||".";const r=n===t?false:i.has(n)?i.get(n):s(a.dirname(n),t);i.set(n,r);return r};n.filter=t?(n,e)=>t(n,e)&&s(n.replace(/\/+$/,"")):n=>s(n.replace(/\/+$/,""))};const c=n=>{const e=u(n);const i=n.file;let t=true;let s;try{const f=r.statSync(i);const a=n.maxReadSize||16*1024*1024;if(f.size<a){e.end(r.readFileSync(i))}else{let n=0;const t=Buffer.allocUnsafe(a);s=r.openSync(i,"r");while(n<f.size){let i=r.readSync(s,t,0,a,n);n+=i;e.write(t.slice(0,i))}e.end()}t=false}finally{if(t&&s)try{r.closeSync(s)}catch(n){}}};const d=(n,e)=>{const i=new s(n);const t=n.maxReadSize||16*1024*1024;const a=n.file;const l=new Promise((n,e)=>{i.on("error",e);i.on("end",n);r.stat(a,(n,s)=>{if(n)e(n);else{const n=new f.ReadStream(a,{readSize:t,size:s.size});n.on("error",e);n.pipe(i)}})});return e?l.then(e,e):l};const u=n=>new s(n)},396:function(n){"use strict";n.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let n=this.head;n;n=n.next){yield n.value}}}},413:function(n){n.exports=require("stream")},417:function(n){n.exports=require("crypto")},478:function(n){"use strict";const e=["|","<",">","?",":"];const i=e.map(n=>String.fromCharCode(61440+n.charCodeAt(0)));const t=new Map(e.map((n,e)=>[n,i[e]]));const s=new Map(i.map((n,i)=>[n,e[i]]));n.exports={encode:n=>e.reduce((n,e)=>n.split(e).join(t.get(e)),n),decode:n=>i.reduce((n,e)=>n.split(e).join(s.get(e)),n)}},480:function(n,e,i){"use strict";const t=i(232);const s=i(622);class Pax{constructor(n,e){this.atime=n.atime||null;this.charset=n.charset||null;this.comment=n.comment||null;this.ctime=n.ctime||null;this.gid=n.gid||null;this.gname=n.gname||null;this.linkpath=n.linkpath||null;this.mtime=n.mtime||null;this.path=n.path||null;this.size=n.size||null;this.uid=n.uid||null;this.uname=n.uname||null;this.dev=n.dev||null;this.ino=n.ino||null;this.nlink=n.nlink||null;this.global=e||false}encode(){const n=this.encodeBody();if(n==="")return null;const e=Buffer.byteLength(n);const i=512*Math.ceil(1+e/512);const r=Buffer.allocUnsafe(i);for(let n=0;n<512;n++){r[n]=0}new t({path:("PaxHeader/"+s.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:e,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(r);r.write(n,512,e,"utf8");for(let n=e+512;n<r.length;n++){r[n]=0}return r}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(n){if(this[n]===null||this[n]===undefined)return"";const e=this[n]instanceof Date?this[n].getTime()/1e3:this[n];const i=" "+(n==="dev"||n==="ino"||n==="nlink"?"SCHILY.":"")+n+"="+e+"\n";const t=Buffer.byteLength(i);let s=Math.floor(Math.log(t)/Math.log(10))+1;if(t+s>=Math.pow(10,s))s+=1;const r=s+t;return r+i}}Pax.parse=((n,e,i)=>new Pax(r(f(n),e),i));const r=(n,e)=>e?Object.keys(n).reduce((e,i)=>(e[i]=n[i],e),e):n;const f=n=>n.replace(/\n$/,"").split("\n").reduce(a,Object.create(null));const a=(n,e)=>{const i=parseInt(e,10);if(i!==Buffer.byteLength(e)+1)return n;e=e.substr((i+" ").length);const t=e.split("=");const s=t.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return n;const r=t.join("=");n[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(r*1e3):/^[0-9]+$/.test(r)?+r:r;return n};n.exports=Pax},538:function(n,e,i){var t=i(293).Buffer;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array!=="undefined"){s=new Int32Array(s)}function ensureBuffer(n){if(t.isBuffer(n)){return n}var e=typeof t.alloc==="function"&&typeof t.from==="function";if(typeof n==="number"){return e?t.alloc(n):new t(n)}else if(typeof n==="string"){return e?t.from(n):new t(n)}else{throw new Error("input must be buffer, number, or string, received "+typeof n)}}function bufferizeInt(n){var e=ensureBuffer(4);e.writeInt32BE(n,0);return e}function _crc32(n,e){n=ensureBuffer(n);if(t.isBuffer(e)){e=e.readUInt32BE(0)}var i=~~e^-1;for(var r=0;r<n.length;r++){i=s[(i^n[r])&255]^i>>>8}return i^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};n.exports=crc32},554:function(n,e){"use strict";e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);e.code=new Map(Array.from(e.name).map(n=>[n[1],n[0]]))},561:function(n,e,i){const{dirname:t}=i(622);const{findMade:s,findMadeSync:r}=i(92);const{mkdirpManual:f,mkdirpManualSync:a}=i(806);const l=(n,e)=>{e.recursive=true;const i=t(n);if(i===n)return e.mkdirAsync(n,e);return s(e,n).then(i=>e.mkdirAsync(n,e).then(()=>i).catch(i=>{if(i.code==="ENOENT")return f(n,e);else throw i}))};const h=(n,e)=>{e.recursive=true;const i=t(n);if(i===n)return e.mkdirSync(n,e);const s=r(e,n);try{e.mkdirSync(n,e);return s}catch(i){if(i.code==="ENOENT")return a(n,e);else throw i}};n.exports={mkdirpNative:l,mkdirpNativeSync:h}},577:function(n,e,i){"use strict";const t=i(626);const s=i(747);const r=i(622);const f=i(941);class SymlinkError extends Error{constructor(n,e){super("Cannot extract through symbolic link");this.path=e;this.symlink=n}get name(){return"SylinkError"}}class CwdError extends Error{constructor(n,e){super(e+": Cannot cd into '"+n+"'");this.path=n;this.code=e}get name(){return"CwdError"}}const a=n.exports=((n,e,i)=>{const a=e.umask;const h=e.mode|448;const w=(h&a)!==0;const c=e.uid;const d=e.gid;const u=typeof c==="number"&&typeof d==="number"&&(c!==e.processUid||d!==e.processGid);const v=e.preserve;const o=e.unlink;const b=e.cache;const N=e.cwd;const R=(e,t)=>{if(e)i(e);else{b.set(n,true);if(t&&u)f(t,c,d,n=>R(n));else if(w)s.chmod(n,h,i);else i()}};if(b&&b.get(n)===true)return R();if(n===N)return s.stat(n,(e,i)=>{if(e||!i.isDirectory())e=new CwdError(n,e&&e.code||"ENOTDIR");R(e)});if(v)return t(n,{mode:h}).then(n=>R(null,n),R);const S=r.relative(N,n);const D=S.split(/\/|\\/);l(N,D,h,b,o,N,null,R)});const l=(n,e,i,t,r,f,a,w)=>{if(!e.length)return w(null,a);const c=e.shift();const d=n+"/"+c;if(t.get(d))return l(d,e,i,t,r,f,a,w);s.mkdir(d,i,h(d,e,i,t,r,f,a,w))};const h=(n,e,i,t,f,a,w,c)=>d=>{if(d){if(d.path&&r.dirname(d.path)===a&&(d.code==="ENOTDIR"||d.code==="ENOENT"))return c(new CwdError(a,d.code));s.lstat(n,(r,u)=>{if(r)c(r);else if(u.isDirectory())l(n,e,i,t,f,a,w,c);else if(f)s.unlink(n,r=>{if(r)return c(r);s.mkdir(n,i,h(n,e,i,t,f,a,w,c))});else if(u.isSymbolicLink())return c(new SymlinkError(n,n+"/"+e.join("/")));else c(d)})}else{w=w||n;l(n,e,i,t,f,a,w,c)}};const w=n.exports.sync=((n,e)=>{const i=e.umask;const a=e.mode|448;const l=(a&i)!==0;const h=e.uid;const w=e.gid;const c=typeof h==="number"&&typeof w==="number"&&(h!==e.processUid||w!==e.processGid);const d=e.preserve;const u=e.unlink;const v=e.cache;const o=e.cwd;const b=e=>{v.set(n,true);if(e&&c)f.sync(e,h,w);if(l)s.chmodSync(n,a)};if(v&&v.get(n)===true)return b();if(n===o){let e=false;let i="ENOTDIR";try{e=s.statSync(n).isDirectory()}catch(n){i=n.code}finally{if(!e)throw new CwdError(n,i)}b();return}if(d)return b(t.sync(n,a));const N=r.relative(o,n);const R=N.split(/\/|\\/);let S=null;for(let n=R.shift(),e=o;n&&(e+="/"+n);n=R.shift()){if(v.get(e))continue;try{s.mkdirSync(e,a);S=S||e;v.set(e,true)}catch(n){if(n.path&&r.dirname(n.path)===o&&(n.code==="ENOTDIR"||n.code==="ENOENT"))return new CwdError(o,n.code);const i=s.lstatSync(e);if(i.isDirectory()){v.set(e,true);continue}else if(u){s.unlinkSync(e);s.mkdirSync(e,a);S=S||e;v.set(e,true);continue}else if(i.isSymbolicLink())return new SymlinkError(e,e+"/"+R.join("/"))}}return b(S)})},582:function(n,e,i){"use strict";class PackJob{constructor(n,e){this.path=n||"./";this.absolute=e;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const t=i(720);const s=i(133);const r=i(662);const f=i(303);const a=f.Sync;const l=f.Tar;const h=i(612);const w=Buffer.alloc(1024);const c=Symbol("onStat");const d=Symbol("ended");const u=Symbol("queue");const v=Symbol("current");const o=Symbol("process");const b=Symbol("processing");const N=Symbol("processJob");const R=Symbol("jobs");const S=Symbol("jobDone");const D=Symbol("addFSEntry");const A=Symbol("addTarEntry");const B=Symbol("stat");const M=Symbol("readdir");const E=Symbol("onreaddir");const C=Symbol("pipe");const W=Symbol("entry");const T=Symbol("entryOpt");const Y=Symbol("writeEntryClass");const G=Symbol("write");const q=Symbol("ondrain");const Z=i(747);const V=i(622);const X=i(796);const j=X(class Pack extends t{constructor(n){super(n);n=n||Object.create(null);this.opt=n;this.file=n.file||"";this.cwd=n.cwd||process.cwd();this.maxReadSize=n.maxReadSize;this.preservePaths=!!n.preservePaths;this.strict=!!n.strict;this.noPax=!!n.noPax;this.prefix=(n.prefix||"").replace(/(\\|\/)+$/,"");this.linkCache=n.linkCache||new Map;this.statCache=n.statCache||new Map;this.readdirCache=n.readdirCache||new Map;this[Y]=f;if(typeof n.onwarn==="function")this.on("warn",n.onwarn);this.portable=!!n.portable;this.zip=null;if(n.gzip){if(typeof n.gzip!=="object")n.gzip={};if(this.portable)n.gzip.portable=true;this.zip=new s.Gzip(n.gzip);this.zip.on("data",n=>super.write(n));this.zip.on("end",n=>super.end());this.zip.on("drain",n=>this[q]());this.on("resume",n=>this.zip.resume())}else this.on("drain",this[q]);this.noDirRecurse=!!n.noDirRecurse;this.follow=!!n.follow;this.noMtime=!!n.noMtime;this.mtime=n.mtime||null;this.filter=typeof n.filter==="function"?n.filter:n=>true;this[u]=new h;this[R]=0;this.jobs=+n.jobs||4;this[b]=false;this[d]=false}[G](n){return super.write(n)}add(n){this.write(n);return this}end(n){if(n)this.write(n);this[d]=true;this[o]();return this}write(n){if(this[d])throw new Error("write after end");if(n instanceof r)this[A](n);else this[D](n);return this.flowing}[A](n){const e=V.resolve(this.cwd,n.path);if(this.prefix)n.path=this.prefix+"/"+n.path.replace(/^\.(\/+|$)/,"");if(!this.filter(n.path,n))n.resume();else{const i=new PackJob(n.path,e,false);i.entry=new l(n,this[T](i));i.entry.on("end",n=>this[S](i));this[R]+=1;this[u].push(i)}this[o]()}[D](n){const e=V.resolve(this.cwd,n);if(this.prefix)n=this.prefix+"/"+n.replace(/^\.(\/+|$)/,"");this[u].push(new PackJob(n,e));this[o]()}[B](n){n.pending=true;this[R]+=1;const e=this.follow?"stat":"lstat";Z[e](n.absolute,(e,i)=>{n.pending=false;this[R]-=1;if(e)this.emit("error",e);else this[c](n,i)})}[c](n,e){this.statCache.set(n.absolute,e);n.stat=e;if(!this.filter(n.path,e))n.ignore=true;this[o]()}[M](n){n.pending=true;this[R]+=1;Z.readdir(n.absolute,(e,i)=>{n.pending=false;this[R]-=1;if(e)return this.emit("error",e);this[E](n,i)})}[E](n,e){this.readdirCache.set(n.absolute,e);n.readdir=e;this[o]()}[o](){if(this[b])return;this[b]=true;for(let n=this[u].head;n!==null&&this[R]<this.jobs;n=n.next){this[N](n.value);if(n.value.ignore){const e=n.next;this[u].removeNode(n);n.next=e}}this[b]=false;if(this[d]&&!this[u].length&&this[R]===0){if(this.zip)this.zip.end(w);else{super.write(w);super.end()}}}get[v](){return this[u]&&this[u].head&&this[u].head.value}[S](n){this[u].shift();this[R]-=1;this[o]()}[N](n){if(n.pending)return;if(n.entry){if(n===this[v]&&!n.piped)this[C](n);return}if(!n.stat){if(this.statCache.has(n.absolute))this[c](n,this.statCache.get(n.absolute));else this[B](n)}if(!n.stat)return;if(n.ignore)return;if(!this.noDirRecurse&&n.stat.isDirectory()&&!n.readdir){if(this.readdirCache.has(n.absolute))this[E](n,this.readdirCache.get(n.absolute));else this[M](n);if(!n.readdir)return}n.entry=this[W](n);if(!n.entry){n.ignore=true;return}if(n===this[v]&&!n.piped)this[C](n)}[T](n){return{onwarn:(n,e,i)=>this.warn(n,e,i),noPax:this.noPax,cwd:this.cwd,absolute:n.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[W](n){this[R]+=1;try{return new this[Y](n.path,this[T](n)).on("end",()=>this[S](n)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[q](){if(this[v]&&this[v].entry)this[v].entry.resume()}[C](n){n.piped=true;if(n.readdir)n.readdir.forEach(e=>{const i=this.prefix?n.path.slice(this.prefix.length+1)||"./":n.path;const t=i==="./"?"":i.replace(/\/*$/,"/");this[D](t+e)});const e=n.entry;const i=this.zip;if(i)e.on("data",n=>{if(!i.write(n))e.pause()});else e.on("data",n=>{if(!super.write(n))e.pause()})}pause(){if(this.zip)this.zip.pause();return super.pause()}});class PackSync extends j{constructor(n){super(n);this[Y]=a}pause(){}resume(){}[B](n){const e=this.follow?"statSync":"lstatSync";this[c](n,Z[e](n.absolute))}[M](n,e){this[E](n,Z.readdirSync(n.absolute))}[C](n){const e=n.entry;const i=this.zip;if(n.readdir)n.readdir.forEach(e=>{const i=this.prefix?n.path.slice(this.prefix.length+1)||"./":n.path;const t=i==="./"?"":i.replace(/\/*$/,"/");this[D](t+e)});if(i)e.on("data",n=>{i.write(n)});else e.on("data",n=>{super[G](n)})}}j.Sync=PackSync;n.exports=j},598:function(n,e,i){var t=i(747);var s=i(250);var r=i(93);var f=i(608);var a=i(669);var l;var h;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){l=Symbol.for("graceful-fs.queue");h=Symbol.for("graceful-fs.previous")}else{l="___graceful-fs.queue";h="___graceful-fs.previous"}function noop(){}var w=noop;if(a.debuglog)w=a.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))w=function(){var n=a.format.apply(a,arguments);n="GFS4: "+n.split(/\n/).join("\nGFS4: ");console.error(n)};if(!global[l]){var c=[];Object.defineProperty(global,l,{get:function(){return c}});t.close=function(n){function close(e,i){return n.call(t,e,function(n){if(!n){retry()}if(typeof i==="function")i.apply(this,arguments)})}Object.defineProperty(close,h,{value:n});return close}(t.close);t.closeSync=function(n){function closeSync(e){n.apply(t,arguments);retry()}Object.defineProperty(closeSync,h,{value:n});return closeSync}(t.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",function(){w(global[l]);i(357).equal(global[l].length,0)})}}n.exports=patch(f(t));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!t.__patched){n.exports=patch(t);t.__patched=true}function patch(n){s(n);n.gracefulify=patch;n.createReadStream=createReadStream;n.createWriteStream=createWriteStream;var e=n.readFile;n.readFile=readFile;function readFile(n,i,t){if(typeof i==="function")t=i,i=null;return go$readFile(n,i,t);function go$readFile(n,i,t){return e(n,i,function(e){if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))enqueue([go$readFile,[n,i,t]]);else{if(typeof t==="function")t.apply(this,arguments);retry()}})}}var i=n.writeFile;n.writeFile=writeFile;function writeFile(n,e,t,s){if(typeof t==="function")s=t,t=null;return go$writeFile(n,e,t,s);function go$writeFile(n,e,t,s){return i(n,e,t,function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$writeFile,[n,e,t,s]]);else{if(typeof s==="function")s.apply(this,arguments);retry()}})}}var t=n.appendFile;if(t)n.appendFile=appendFile;function appendFile(n,e,i,s){if(typeof i==="function")s=i,i=null;return go$appendFile(n,e,i,s);function go$appendFile(n,e,i,s){return t(n,e,i,function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$appendFile,[n,e,i,s]]);else{if(typeof s==="function")s.apply(this,arguments);retry()}})}}var f=n.readdir;n.readdir=readdir;function readdir(n,e,i){var t=[n];if(typeof e!=="function"){t.push(e)}else{i=e}t.push(go$readdir$cb);return go$readdir(t);function go$readdir$cb(n,e){if(e&&e.sort)e.sort();if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$readdir,[t]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}}}function go$readdir(e){return f.apply(n,e)}if(process.version.substr(0,4)==="v0.8"){var a=r(n);ReadStream=a.ReadStream;WriteStream=a.WriteStream}var l=n.ReadStream;if(l){ReadStream.prototype=Object.create(l.prototype);ReadStream.prototype.open=ReadStream$open}var h=n.WriteStream;if(h){WriteStream.prototype=Object.create(h.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(n,"ReadStream",{get:function(){return ReadStream},set:function(n){ReadStream=n},enumerable:true,configurable:true});Object.defineProperty(n,"WriteStream",{get:function(){return WriteStream},set:function(n){WriteStream=n},enumerable:true,configurable:true});var w=ReadStream;Object.defineProperty(n,"FileReadStream",{get:function(){return w},set:function(n){w=n},enumerable:true,configurable:true});var c=WriteStream;Object.defineProperty(n,"FileWriteStream",{get:function(){return c},set:function(n){c=n},enumerable:true,configurable:true});function ReadStream(n,e){if(this instanceof ReadStream)return l.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var n=this;open(n.path,n.flags,n.mode,function(e,i){if(e){if(n.autoClose)n.destroy();n.emit("error",e)}else{n.fd=i;n.emit("open",i);n.read()}})}function WriteStream(n,e){if(this instanceof WriteStream)return h.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var n=this;open(n.path,n.flags,n.mode,function(e,i){if(e){n.destroy();n.emit("error",e)}else{n.fd=i;n.emit("open",i)}})}function createReadStream(e,i){return new n.ReadStream(e,i)}function createWriteStream(e,i){return new n.WriteStream(e,i)}var d=n.open;n.open=open;function open(n,e,i,t){if(typeof i==="function")t=i,i=null;return go$open(n,e,i,t);function go$open(n,e,i,t){return d(n,e,i,function(s,r){if(s&&(s.code==="EMFILE"||s.code==="ENFILE"))enqueue([go$open,[n,e,i,t]]);else{if(typeof t==="function")t.apply(this,arguments);retry()}})}}return n}function enqueue(n){w("ENQUEUE",n[0].name,n[1]);global[l].push(n)}function retry(){var n=global[l].shift();if(n){w("RETRY",n[0].name,n[1]);n[0].apply(null,n[1])}}},605:function(n){n.exports=require("http")},608:function(n){"use strict";n.exports=clone;function clone(n){if(n===null||typeof n!=="object")return n;if(n instanceof Object)var e={__proto__:n.__proto__};else var e=Object.create(null);Object.getOwnPropertyNames(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))});return e}},612:function(n,e,i){"use strict";n.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(n){var e=this;if(!(e instanceof Yallist)){e=new Yallist}e.tail=null;e.head=null;e.length=0;if(n&&typeof n.forEach==="function"){n.forEach(function(n){e.push(n)})}else if(arguments.length>0){for(var i=0,t=arguments.length;i<t;i++){e.push(arguments[i])}}return e}Yallist.prototype.removeNode=function(n){if(n.list!==this){throw new Error("removing node which does not belong to this list")}var e=n.next;var i=n.prev;if(e){e.prev=i}if(i){i.next=e}if(n===this.head){this.head=e}if(n===this.tail){this.tail=i}n.list.length--;n.next=null;n.prev=null;n.list=null;return e};Yallist.prototype.unshiftNode=function(n){if(n===this.head){return}if(n.list){n.list.removeNode(n)}var e=this.head;n.list=this;n.next=e;if(e){e.prev=n}this.head=n;if(!this.tail){this.tail=n}this.length++};Yallist.prototype.pushNode=function(n){if(n===this.tail){return}if(n.list){n.list.removeNode(n)}var e=this.tail;n.list=this;n.prev=e;if(e){e.next=n}this.tail=n;if(!this.head){this.head=n}this.length++};Yallist.prototype.push=function(){for(var n=0,e=arguments.length;n<e;n++){push(this,arguments[n])}return this.length};Yallist.prototype.unshift=function(){for(var n=0,e=arguments.length;n<e;n++){unshift(this,arguments[n])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var n=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return n};Yallist.prototype.shift=function(){if(!this.head){return undefined}var n=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return n};Yallist.prototype.forEach=function(n,e){e=e||this;for(var i=this.head,t=0;i!==null;t++){n.call(e,i.value,t,this);i=i.next}};Yallist.prototype.forEachReverse=function(n,e){e=e||this;for(var i=this.tail,t=this.length-1;i!==null;t--){n.call(e,i.value,t,this);i=i.prev}};Yallist.prototype.get=function(n){for(var e=0,i=this.head;i!==null&&e<n;e++){i=i.next}if(e===n&&i!==null){return i.value}};Yallist.prototype.getReverse=function(n){for(var e=0,i=this.tail;i!==null&&e<n;e++){i=i.prev}if(e===n&&i!==null){return i.value}};Yallist.prototype.map=function(n,e){e=e||this;var i=new Yallist;for(var t=this.head;t!==null;){i.push(n.call(e,t.value,this));t=t.next}return i};Yallist.prototype.mapReverse=function(n,e){e=e||this;var i=new Yallist;for(var t=this.tail;t!==null;){i.push(n.call(e,t.value,this));t=t.prev}return i};Yallist.prototype.reduce=function(n,e){var i;var t=this.head;if(arguments.length>1){i=e}else if(this.head){t=this.head.next;i=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var s=0;t!==null;s++){i=n(i,t.value,s);t=t.next}return i};Yallist.prototype.reduceReverse=function(n,e){var i;var t=this.tail;if(arguments.length>1){i=e}else if(this.tail){t=this.tail.prev;i=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var s=this.length-1;t!==null;s--){i=n(i,t.value,s);t=t.prev}return i};Yallist.prototype.toArray=function(){var n=new Array(this.length);for(var e=0,i=this.head;i!==null;e++){n[e]=i.value;i=i.next}return n};Yallist.prototype.toArrayReverse=function(){var n=new Array(this.length);for(var e=0,i=this.tail;i!==null;e++){n[e]=i.value;i=i.prev}return n};Yallist.prototype.slice=function(n,e){e=e||this.length;if(e<0){e+=this.length}n=n||0;if(n<0){n+=this.length}var i=new Yallist;if(e<n||e<0){return i}if(n<0){n=0}if(e>this.length){e=this.length}for(var t=0,s=this.head;s!==null&&t<n;t++){s=s.next}for(;s!==null&&t<e;t++,s=s.next){i.push(s.value)}return i};Yallist.prototype.sliceReverse=function(n,e){e=e||this.length;if(e<0){e+=this.length}n=n||0;if(n<0){n+=this.length}var i=new Yallist;if(e<n||e<0){return i}if(n<0){n=0}if(e>this.length){e=this.length}for(var t=this.length,s=this.tail;s!==null&&t>e;t--){s=s.prev}for(;s!==null&&t>n;t--,s=s.prev){i.push(s.value)}return i};Yallist.prototype.splice=function(n,e,...i){if(n>this.length){n=this.length-1}if(n<0){n=this.length+n}for(var t=0,s=this.head;s!==null&&t<n;t++){s=s.next}var r=[];for(var t=0;s&&t<e;t++){r.push(s.value);s=this.removeNode(s)}if(s===null){s=this.tail}if(s!==this.head&&s!==this.tail){s=s.prev}for(var t=0;t<i.length;t++){s=insert(this,s,i[t])}return r};Yallist.prototype.reverse=function(){var n=this.head;var e=this.tail;for(var i=n;i!==null;i=i.prev){var t=i.prev;i.prev=i.next;i.next=t}this.head=e;this.tail=n;return this};function insert(n,e,i){var t=e===n.head?new Node(i,null,e,n):new Node(i,e,e.next,n);if(t.next===null){n.tail=t}if(t.prev===null){n.head=t}n.length++;return t}function push(n,e){n.tail=new Node(e,n.tail,null,n);if(!n.head){n.head=n.tail}n.length++}function unshift(n,e){n.head=new Node(e,null,n.head,n);if(!n.tail){n.tail=n.head}n.length++}function Node(n,e,i,t){if(!(this instanceof Node)){return new Node(n,e,i,t)}this.list=t;this.value=n;if(e){e.next=this;this.prev=e}else{this.prev=null}if(i){i.prev=this;this.next=i}else{this.next=null}}try{i(396)(Yallist)}catch(n){}},614:function(n){n.exports=require("events")},619:function(n){n.exports=require("constants")},622:function(n){n.exports=require("path")},626:function(n,e,i){const t=i(795);const s=i(870);const{mkdirpNative:r,mkdirpNativeSync:f}=i(561);const{mkdirpManual:a,mkdirpManualSync:l}=i(806);const{useNative:h,useNativeSync:w}=i(336);const c=(n,e)=>{n=s(n);e=t(e);return h(e)?r(n,e):a(n,e)};const d=(n,e)=>{n=s(n);e=t(e);return w(e)?f(n,e):l(n,e)};c.sync=d;c.native=((n,e)=>r(s(n),t(e)));c.manual=((n,e)=>a(s(n),t(e)));c.nativeSync=((n,e)=>f(s(n),t(e)));c.manualSync=((n,e)=>l(s(n),t(e)));n.exports=c},630:function(n,e,i){"use strict";const t=i(891);const s=i(582);const r=i(203);const f=i(747);const a=i(827);const l=i(381);const h=i(622);const w=i(232);const c=n.exports=((n,e,i)=>{const s=t(n);if(!s.file)throw new TypeError("file is required");if(s.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);return s.sync?d(s,e):v(s,e,i)});const d=(n,e)=>{const i=new s.Sync(n);let t=true;let r;let a;try{try{r=f.openSync(n.file,"r+")}catch(e){if(e.code==="ENOENT")r=f.openSync(n.file,"w+");else throw e}const s=f.fstatSync(r);const l=Buffer.alloc(512);n:for(a=0;a<s.size;a+=512){for(let n=0,e=0;n<512;n+=e){e=f.readSync(r,l,n,l.length-n,a+n);if(a===0&&l[0]===31&&l[1]===139)throw new Error("cannot append to compressed archives");if(!e)break n}let e=new w(l);if(!e.cksumValid)break;let i=512*Math.ceil(e.size/512);if(a+i+512>s.size)break;a+=i;if(n.mtimeCache)n.mtimeCache.set(e.path,e.mtime)}t=false;u(n,i,a,r,e)}finally{if(t)try{f.closeSync(r)}catch(n){}}};const u=(n,e,i,t,s)=>{const r=new a.WriteStreamSync(n.file,{fd:t,start:i});e.pipe(r);o(e,s)};const v=(n,e,i)=>{e=Array.from(e);const t=new s(n);const r=(e,i,t)=>{const s=(n,i)=>{if(n)f.close(e,e=>t(n));else t(null,i)};let r=0;if(i===0)return s(null,0);let a=0;const l=Buffer.alloc(512);const h=(t,c)=>{if(t)return s(t);a+=c;if(a<512&&c)return f.read(e,l,a,l.length-a,r+a,h);if(r===0&&l[0]===31&&l[1]===139)return s(new Error("cannot append to compressed archives"));if(a<512)return s(null,r);const d=new w(l);if(!d.cksumValid)return s(null,r);const u=512*Math.ceil(d.size/512);if(r+u+512>i)return s(null,r);r+=u+512;if(r>=i)return s(null,r);if(n.mtimeCache)n.mtimeCache.set(d.path,d.mtime);a=0;f.read(e,l,0,512,r,h)};f.read(e,l,0,512,r,h)};const l=new Promise((i,s)=>{t.on("error",s);let l="r+";const h=(w,c)=>{if(w&&w.code==="ENOENT"&&l==="r+"){l="w+";return f.open(n.file,l,h)}if(w)return s(w);f.fstat(c,(f,l)=>{if(f)return s(f);r(c,l.size,(r,f)=>{if(r)return s(r);const l=new a.WriteStream(n.file,{fd:c,start:f});t.pipe(l);l.on("error",s);l.on("close",i);b(t,e)})})};f.open(n.file,l,h)});return i?l.then(i,i):l};const o=(n,e)=>{e.forEach(e=>{if(e.charAt(0)==="@")l({file:h.resolve(n.cwd,e.substr(1)),sync:true,noResume:true,onentry:e=>n.add(e)});else n.add(e)});n.end()};const b=(n,e)=>{while(e.length){const i=e.shift();if(i.charAt(0)==="@")return l({file:h.resolve(n.cwd,i.substr(1)),noResume:true,onentry:e=>n.add(e)}).then(i=>b(n,e));else n.add(i)}n.end()}},631:function(n){n.exports=require("net")},656:function(n,e,i){"use strict";const t=i(891);const s=i(63);const r=i(747);const f=i(827);const a=i(622);const l=n.exports=((n,e,i)=>{if(typeof n==="function")i=n,e=null,n={};else if(Array.isArray(n))e=n,n={};if(typeof e==="function")i=e,e=null;if(!e)e=[];else e=Array.from(e);const s=t(n);if(s.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof i==="function")throw new TypeError("callback only supported with file option");if(e.length)h(s,e);return s.file&&s.sync?w(s):s.file?c(s,i):s.sync?d(s):u(s)});const h=(n,e)=>{const i=new Map(e.map(n=>[n.replace(/\/+$/,""),true]));const t=n.filter;const s=(n,e)=>{const t=e||a.parse(n).root||".";const r=n===t?false:i.has(n)?i.get(n):s(a.dirname(n),t);i.set(n,r);return r};n.filter=t?(n,e)=>t(n,e)&&s(n.replace(/\/+$/,"")):n=>s(n.replace(/\/+$/,""))};const w=n=>{const e=new s.Sync(n);const i=n.file;let t=true;let a;const l=r.statSync(i);const h=n.maxReadSize||16*1024*1024;const w=new f.ReadStreamSync(i,{readSize:h,size:l.size});w.pipe(e)};const c=(n,e)=>{const i=new s(n);const t=n.maxReadSize||16*1024*1024;const a=n.file;const l=new Promise((n,e)=>{i.on("error",e);i.on("close",n);r.stat(a,(n,s)=>{if(n)e(n);else{const n=new f.ReadStream(a,{readSize:t,size:s.size});n.on("error",e);n.pipe(i)}})});return e?l.then(e,e):l};const d=n=>{return new s.Sync(n)};const u=n=>{return new s(n)}},662:function(n,e,i){"use strict";const t=i(554);const s=i(720);const r=Symbol("slurp");n.exports=class ReadEntry extends s{constructor(n,e,i){super();this.pause();this.extended=e;this.globalExtended=i;this.header=n;this.startBlockSize=512*Math.ceil(n.size/512);this.blockRemain=this.startBlockSize;this.remain=n.size;this.type=n.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=n.path;this.mode=n.mode;if(this.mode)this.mode=this.mode&4095;this.uid=n.uid;this.gid=n.gid;this.uname=n.uname;this.gname=n.gname;this.size=n.size;this.mtime=n.mtime;this.atime=n.atime;this.ctime=n.ctime;this.linkpath=n.linkpath;this.uname=n.uname;this.gname=n.gname;if(e)this[r](e);if(i)this[r](i,true)}write(n){const e=n.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");const i=this.remain;const t=this.blockRemain;this.remain=Math.max(0,i-e);this.blockRemain=Math.max(0,t-e);if(this.ignore)return true;if(i>=e)return super.write(n);return super.write(n.slice(0,i))}[r](n,e){for(let i in n){if(n[i]!==null&&n[i]!==undefined&&!(e&&i==="path"))this[i]=n[i]}}}},669:function(n){n.exports=require("util")},720:function(n,e,i){"use strict";const t=i(614);const s=i(413);const r=i(612);const f=i(304).StringDecoder;const a=Symbol("EOF");const l=Symbol("maybeEmitEnd");const h=Symbol("emittedEnd");const w=Symbol("emittingEnd");const c=Symbol("closed");const d=Symbol("read");const u=Symbol("flush");const v=Symbol("flushChunk");const o=Symbol("encoding");const b=Symbol("decoder");const N=Symbol("flowing");const R=Symbol("paused");const S=Symbol("resume");const D=Symbol("bufferLength");const A=Symbol("bufferPush");const B=Symbol("bufferShift");const M=Symbol("objectMode");const E=Symbol("destroyed");const C=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const W=C&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const T=C&&Symbol.iterator||Symbol("iterator not implemented");const Y=n=>n==="end"||n==="finish"||n==="prefinish";const G=n=>n instanceof ArrayBuffer||typeof n==="object"&&n.constructor&&n.constructor.name==="ArrayBuffer"&&n.byteLength>=0;const q=n=>!Buffer.isBuffer(n)&&ArrayBuffer.isView(n);n.exports=class Minipass extends s{constructor(n){super();this[N]=false;this[R]=false;this.pipes=new r;this.buffer=new r;this[M]=n&&n.objectMode||false;if(this[M])this[o]=null;else this[o]=n&&n.encoding||null;if(this[o]==="buffer")this[o]=null;this[b]=this[o]?new f(this[o]):null;this[a]=false;this[h]=false;this[w]=false;this[c]=false;this.writable=true;this.readable=true;this[D]=0;this[E]=false}get bufferLength(){return this[D]}get encoding(){return this[o]}set encoding(n){if(this[M])throw new Error("cannot set encoding in objectMode");if(this[o]&&n!==this[o]&&(this[b]&&this[b].lastNeed||this[D]))throw new Error("cannot change encoding");if(this[o]!==n){this[b]=n?new f(n):null;if(this.buffer.length)this.buffer=this.buffer.map(n=>this[b].write(n))}this[o]=n}setEncoding(n){this.encoding=n}get objectMode(){return this[M]}set objectMode(n){this[M]=this[M]||!!n}write(n,e,i){if(this[a])throw new Error("write after end");if(this[E]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof e==="function")i=e,e="utf8";if(!e)e="utf8";if(!this[M]&&!Buffer.isBuffer(n)){if(q(n))n=Buffer.from(n.buffer,n.byteOffset,n.byteLength);else if(G(n))n=Buffer.from(n);else if(typeof n!=="string")this.objectMode=true}if(!this.objectMode&&!n.length){const n=this.flowing;if(this[D]!==0)this.emit("readable");if(i)i();return n}if(typeof n==="string"&&!this[M]&&!(e===this[o]&&!this[b].lastNeed)){n=Buffer.from(n,e)}if(Buffer.isBuffer(n)&&this[o])n=this[b].write(n);try{return this.flowing?(this.emit("data",n),this.flowing):(this[A](n),false)}finally{if(this[D]!==0)this.emit("readable");if(i)i()}}read(n){if(this[E])return null;try{if(this[D]===0||n===0||n>this[D])return null;if(this[M])n=null;if(this.buffer.length>1&&!this[M]){if(this.encoding)this.buffer=new r([Array.from(this.buffer).join("")]);else this.buffer=new r([Buffer.concat(Array.from(this.buffer),this[D])])}return this[d](n||null,this.buffer.head.value)}finally{this[l]()}}[d](n,e){if(n===e.length||n===null)this[B]();else{this.buffer.head.value=e.slice(n);e=e.slice(0,n);this[D]-=n}this.emit("data",e);if(!this.buffer.length&&!this[a])this.emit("drain");return e}end(n,e,i){if(typeof n==="function")i=n,n=null;if(typeof e==="function")i=e,e="utf8";if(n)this.write(n,e);if(i)this.once("end",i);this[a]=true;this.writable=false;if(this.flowing||!this[R])this[l]();return this}[S](){if(this[E])return;this[R]=false;this[N]=true;this.emit("resume");if(this.buffer.length)this[u]();else if(this[a])this[l]();else this.emit("drain")}resume(){return this[S]()}pause(){this[N]=false;this[R]=true}get destroyed(){return this[E]}get flowing(){return this[N]}get paused(){return this[R]}[A](n){if(this[M])this[D]+=1;else this[D]+=n.length;return this.buffer.push(n)}[B](){if(this.buffer.length){if(this[M])this[D]-=1;else this[D]-=this.buffer.head.value.length}return this.buffer.shift()}[u](){do{}while(this[v](this[B]()));if(!this.buffer.length&&!this[a])this.emit("drain")}[v](n){return n?(this.emit("data",n),this.flowing):false}pipe(n,e){if(this[E])return;const i=this[h];e=e||{};if(n===process.stdout||n===process.stderr)e.end=false;else e.end=e.end!==false;const t={dest:n,opts:e,ondrain:n=>this[S]()};this.pipes.push(t);n.on("drain",t.ondrain);this[S]();if(i&&t.opts.end)t.dest.end();return n}addListener(n,e){return this.on(n,e)}on(n,e){try{return super.on(n,e)}finally{if(n==="data"&&!this.pipes.length&&!this.flowing)this[S]();else if(Y(n)&&this[h]){super.emit(n);this.removeAllListeners(n)}}}get emittedEnd(){return this[h]}[l](){if(!this[w]&&!this[h]&&!this[E]&&this.buffer.length===0&&this[a]){this[w]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[c])this.emit("close");this[w]=false}}emit(n,e){if(n!=="error"&&n!=="close"&&n!==E&&this[E])return;else if(n==="data"){if(!e)return;if(this.pipes.length)this.pipes.forEach(n=>n.dest.write(e)===false&&this.pause())}else if(n==="end"){if(this[h]===true)return;this[h]=true;this.readable=false;if(this[b]){e=this[b].end();if(e){this.pipes.forEach(n=>n.dest.write(e));super.emit("data",e)}}this.pipes.forEach(n=>{n.dest.removeListener("drain",n.ondrain);if(n.opts.end)n.dest.end()})}else if(n==="close"){this[c]=true;if(!this[h]&&!this[E])return}const i=new Array(arguments.length);i[0]=n;i[1]=e;if(arguments.length>2){for(let n=2;n<arguments.length;n++){i[n]=arguments[n]}}try{return super.emit.apply(this,i)}finally{if(!Y(n))this[l]();else this.removeAllListeners(n)}}collect(){const n=[];if(!this[M])n.dataLength=0;const e=this.promise();this.on("data",e=>{n.push(e);if(!this[M])n.dataLength+=e.length});return e.then(()=>n)}concat(){return this[M]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(n=>this[M]?Promise.reject(new Error("cannot concat in objectMode")):this[o]?n.join(""):Buffer.concat(n,n.dataLength))}promise(){return new Promise((n,e)=>{this.on(E,()=>e(new Error("stream destroyed")));this.on("end",()=>n());this.on("error",n=>e(n))})}[W](){const n=()=>{const n=this.read();if(n!==null)return Promise.resolve({done:false,value:n});if(this[a])return Promise.resolve({done:true});let e=null;let i=null;const t=n=>{this.removeListener("data",s);this.removeListener("end",r);i(n)};const s=n=>{this.removeListener("error",t);this.removeListener("end",r);this.pause();e({value:n,done:!!this[a]})};const r=()=>{this.removeListener("error",t);this.removeListener("data",s);e({done:true})};const f=()=>t(new Error("stream destroyed"));return new Promise((n,a)=>{i=a;e=n;this.once(E,f);this.once("error",t);this.once("end",r);this.once("data",s)})};return{next:n}}[T](){const n=()=>{const n=this.read();const e=n===null;return{value:n,done:e}};return{next:n}}destroy(n){if(this[E]){if(n)this.emit("error",n);else this.emit(E);return this}this[E]=true;this.buffer=new r;this[D]=0;if(typeof this.close==="function"&&!this[c])this.close();if(n)this.emit("error",n);else this.emit(E);return this}static isStream(n){return!!n&&(n instanceof Minipass||n instanceof s||n instanceof t&&(typeof n.pipe==="function"||typeof n.write==="function"&&typeof n.end==="function"))}}},726:function(n,e,i){(function(n){"use strict";var e={},t=function(){return w.__string_rec(this,"")},s=s||{},r;function $extend(n,e){var i=Object.create(n);for(var t in e)i[t]=e[t];if(e.toString!==Object.prototype.toString)i.toString=e.toString;return i}var f=s["Attribute"]={__ename__:"Attribute",__constructs__:["Off","Bold","Underline","Blink","ReverseVideo","Concealed","BoldOff","UnderlineOff","BlinkOff","NormalVideo","ConcealedOff","Black","Red","Green","Yellow","Blue","Magenta","Cyan","White","DefaultForeground","BlackBack","RedBack","GreenBack","YellowBack","BlueBack","MagentaBack","CyanBack","WhiteBack","DefaultBackground"],Off:{_hx_index:0,__enum__:"Attribute",toString:t},Bold:{_hx_index:1,__enum__:"Attribute",toString:t},Underline:{_hx_index:2,__enum__:"Attribute",toString:t},Blink:{_hx_index:3,__enum__:"Attribute",toString:t},ReverseVideo:{_hx_index:4,__enum__:"Attribute",toString:t},Concealed:{_hx_index:5,__enum__:"Attribute",toString:t},BoldOff:{_hx_index:6,__enum__:"Attribute",toString:t},UnderlineOff:{_hx_index:7,__enum__:"Attribute",toString:t},BlinkOff:{_hx_index:8,__enum__:"Attribute",toString:t},NormalVideo:{_hx_index:9,__enum__:"Attribute",toString:t},ConcealedOff:{_hx_index:10,__enum__:"Attribute",toString:t},Black:{_hx_index:11,__enum__:"Attribute",toString:t},Red:{_hx_index:12,__enum__:"Attribute",toString:t},Green:{_hx_index:13,__enum__:"Attribute",toString:t},Yellow:{_hx_index:14,__enum__:"Attribute",toString:t},Blue:{_hx_index:15,__enum__:"Attribute",toString:t},Magenta:{_hx_index:16,__enum__:"Attribute",toString:t},Cyan:{_hx_index:17,__enum__:"Attribute",toString:t},White:{_hx_index:18,__enum__:"Attribute",toString:t},DefaultForeground:{_hx_index:19,__enum__:"Attribute",toString:t},BlackBack:{_hx_index:20,__enum__:"Attribute",toString:t},RedBack:{_hx_index:21,__enum__:"Attribute",toString:t},GreenBack:{_hx_index:22,__enum__:"Attribute",toString:t},YellowBack:{_hx_index:23,__enum__:"Attribute",toString:t},BlueBack:{_hx_index:24,__enum__:"Attribute",toString:t},MagentaBack:{_hx_index:25,__enum__:"Attribute",toString:t},CyanBack:{_hx_index:26,__enum__:"Attribute",toString:t},WhiteBack:{_hx_index:27,__enum__:"Attribute",toString:t},DefaultBackground:{_hx_index:28,__enum__:"Attribute",toString:t}};var a=function(){};e["Sys"]=a;a.__name__="Sys";a.systemName=function(){var n=process.platform;switch(n){case"darwin":return"Mac";case"freebsd":return"BSD";case"linux":return"Linux";case"win32":return"Windows";default:var e=n;return e}};var l=i(129);var h=function(){};e["Reflect"]=h;h.__name__="Reflect";h.field=function(n,e){try{return n[e]}catch(n){var i=n instanceof Mn?n.val:n;return null}};h.fields=function(n){var e=[];if(n!=null){var i=Object.prototype.hasOwnProperty;for(var t in n){if(t!="__id__"&&t!="hx__closures__"&&i.call(n,t)){e.push(t)}}}return e};h.isFunction=function(n){if(typeof n=="function"){return!(n.__name__||n.__ename__)}else{return false}};h.compare=function(n,e){if(n==e){return 0}else if(n>e){return 1}else{return-1}};h.isEnumValue=function(n){if(n!=null){return n.__enum__!=null}else{return false}};h.deleteField=function(n,e){if(!Object.prototype.hasOwnProperty.call(n,e)){return false}delete n[e];return true};h.copy=function(n){if(n==null){return null}var e={};var i=0;var t=h.fields(n);while(i<t.length){var s=t[i];++i;e[s]=h.field(n,s)}return e};var w=function(){};e["js.Boot"]=w;w.__name__="js.Boot";w.getClass=function(n){if(n==null){return null}else if(n instanceof Array){return Array}else{var e=n.__class__;if(e!=null){return e}var i=w.__nativeClassName(n);if(i!=null){return w.__resolveNativeClass(i)}return null}};w.__string_rec=function(n,e){if(n==null){return"null"}if(e.length>=5){return"<...>"}var i=typeof n;if(i=="function"&&(n.__name__||n.__ename__)){i="object"}switch(i){case"function":return"<function>";case"object":if(n.__enum__){var t=s[n.__enum__];var r=t.__constructs__[n._hx_index];var f=t[r];if(f.__params__){e=e+"\t";return r+"("+function(i){var t;var s=[];{var r=0;var a=f.__params__;while(true){if(!(r<a.length)){break}var l=a[r];r=r+1;s.push(w.__string_rec(n[l],e))}}t=s;return t}(this).join(",")+")"}else{return r}}if(n instanceof Array){var a="[";e+="\t";var l=0;var h=n.length;while(l<h){var c=l++;a+=(c>0?",":"")+w.__string_rec(n[c],e)}a+="]";return a}var d;try{d=n.toString}catch(n){var u=n instanceof Mn?n.val:n;return"???"}if(d!=null&&d!=Object.toString&&typeof d=="function"){var v=n.toString();if(v!="[object Object]"){return v}}var o="{\n";e+="\t";var b=n.hasOwnProperty!=null;var N=null;for(N in n){if(b&&!n.hasOwnProperty(N)){continue}if(N=="prototype"||N=="__class__"||N=="__super__"||N=="__interfaces__"||N=="__properties__"){continue}if(o.length!=2){o+=", \n"}o+=e+N+" : "+w.__string_rec(n[N],e)}e=e.substring(1);o+="\n"+e+"}";return o;case"string":return n;default:return String(n)}};w.__interfLoop=function(n,e){if(n==null){return false}if(n==e){return true}if(Object.prototype.hasOwnProperty.call(n,"__interfaces__")){var i=n.__interfaces__;var t=0;var s=i.length;while(t<s){var r=t++;var f=i[r];if(f==e||w.__interfLoop(f,e)){return true}}}return w.__interfLoop(n.__super__,e)};w.__instanceof=function(n,e){if(e==null){return false}switch(e){case Array:return n instanceof Array;case ge:return typeof n=="boolean";case xe:return n!=null;case ke:return typeof n=="number";case Fe:if(typeof n=="number"){return(n|0)===n}else{return false}break;case String:return typeof n=="string";default:if(n!=null){if(typeof e=="function"){if(w.__downcastCheck(n,e)){return true}}else if(typeof e=="object"&&w.__isNativeObj(e)){if(n instanceof e){return true}}}else{return false}if(e==$e?n.__name__!=null:false){return true}if(e==_e?n.__ename__!=null:false){return true}return n.__enum__!=null?s[n.__enum__]==e:false}};w.__downcastCheck=function(n,e){if(!(n instanceof e)){if(e.__isInterface__){return w.__interfLoop(w.getClass(n),e)}else{return false}}else{return true}};w.__nativeClassName=function(n){var e=w.__toStr.call(n).slice(8,-1);if(e=="Object"||e=="Function"||e=="Math"||e=="JSON"){return null}return e};w.__isNativeObj=function(n){return w.__nativeClassName(n)!=null};w.__resolveNativeClass=function(e){return n[e]};var c=function(){};e["Std"]=c;c.__name__="Std";c.string=function(n){return w.__string_rec(n,"")};c.parseInt=function(n){if(n!=null){var e=0;var i=n.length;while(e<i){var t=e++;var s=n.charCodeAt(t);if(s<=8||s>=14&&s!=32&&s!=45){var r=parseInt(n,n[t+1]=="x"||n[t+1]=="X"?16:10);if(isNaN(r)){return null}else{return r}}}}return null};var d=function(){};e["ANSI"]=d;d.__name__="ANSI";d.aset=function(n){if(d.strip||d.stripIfUnavailable&&!d.available){return""}var e=""+"[";var i=[];var t=0;while(t<n.length){var s=n[t];++t;if(!w.__instanceof(s,f)){throw new Mn("Set argument is not an Attribute: "+c.string(s))}i.push(d.values.get(s))}return e+i.join(";")+"m"};d.detectSupport=function(){if(a.systemName().toLowerCase().indexOf("window")==-1){var n=-1;try{n=l.spawnSync("tput",["colors"]).error==null?0:125}catch(n){var e=n instanceof Mn?n.val:n}return n==0}else{return process.env["ANSICON"]!=null}};var u=function(){};e["DateTools"]=u;u.__name__="DateTools";u.__format_get=function(n,e){switch(e){case"%":return"%";case"A":return u.DAY_NAMES[n.getDay()];case"B":return u.MONTH_NAMES[n.getMonth()];case"C":return D.lpad(c.string(n.getFullYear()/100|0),"0",2);case"D":return u.__format(n,"%m/%d/%y");case"F":return u.__format(n,"%Y-%m-%d");case"I":case"l":var i=n.getHours()%12;return D.lpad(c.string(i==0?12:i),e=="I"?"0":" ",2);case"M":return D.lpad(c.string(n.getMinutes()),"0",2);case"R":return u.__format(n,"%H:%M");case"S":return D.lpad(c.string(n.getSeconds()),"0",2);case"T":return u.__format(n,"%H:%M:%S");case"Y":return c.string(n.getFullYear());case"a":return u.DAY_SHORT_NAMES[n.getDay()];case"b":case"h":return u.MONTH_SHORT_NAMES[n.getMonth()];case"d":return D.lpad(c.string(n.getDate()),"0",2);case"e":return c.string(n.getDate());case"H":case"k":return D.lpad(c.string(n.getHours()),e=="H"?"0":" ",2);case"m":return D.lpad(c.string(n.getMonth()+1),"0",2);case"n":return"\n";case"p":if(n.getHours()>11){return"PM"}else{return"AM"}break;case"r":return u.__format(n,"%I:%M:%S %p");case"s":return c.string(n.getTime()/1e3|0);case"t":return"\t";case"u":var t=n.getDay();if(t==0){return"7"}else if(t==null){return"null"}else{return""+t}break;case"w":return c.string(n.getDay());case"y":return D.lpad(c.string(n.getFullYear()%100),"0",2);default:throw new Mn("Date.format %"+e+"- not implemented yet.")}};u.__format=function(n,e){var i="";var t=0;while(true){var s=e.indexOf("%",t);if(s<0){break}var r=s-t;i+=r==null?o.substr(e,t,null):o.substr(e,t,r);i+=c.string(u.__format_get(n,o.substr(e,s+1,1)));t=s+2}var f=e.length-t;i+=f==null?o.substr(e,t,null):o.substr(e,t,f);return i};u.format=function(n,e){return u.__format(n,e)};var v=function(n,e){this.r=new RegExp(n,e.split("u").join(""))};e["EReg"]=v;v.__name__="EReg";v.prototype={match:function(n){if(this.r.global){this.r.lastIndex=0}this.r.m=this.r.exec(n);this.r.s=n;return this.r.m!=null},matched:function(n){if(this.r.m!=null&&n>=0&&n<this.r.m.length){return this.r.m[n]}else{throw new Mn("EReg::matched")}},matchedLeft:function(){if(this.r.m==null){throw new Mn("No string matched")}return o.substr(this.r.s,0,this.r.m.index)},matchedRight:function(){if(this.r.m==null){throw new Mn("No string matched")}var n=this.r.m.index+this.r.m[0].length;return o.substr(this.r.s,n,this.r.s.length-n)},matchedPos:function(){if(this.r.m==null){throw new Mn("No string matched")}return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(n,e,i){if(i==null){i=-1}if(this.r.global){this.r.lastIndex=e;this.r.m=this.r.exec(i<0?n:o.substr(n,0,e+i));var t=this.r.m!=null;if(t){this.r.s=n}return t}else{var s=this.match(i<0?o.substr(n,e,null):o.substr(n,e,i));if(s){this.r.s=n;this.r.m.index+=e}return s}},map:function(n,e){var i=0;var t="";while(true){if(i>=n.length){break}else if(!this.matchSub(n,i)){t+=c.string(o.substr(n,i,null));break}var s=this.matchedPos();t+=c.string(o.substr(n,i,s.pos-i));t+=c.string(e(this));if(s.len==0){t+=c.string(o.substr(n,s.pos,1));i=s.pos+1}else{i=s.pos+s.len}if(!this.r.global){break}}if(!this.r.global&&i>0&&i<n.length){t+=c.string(o.substr(n,i,null))}return t},__class__:v};var o=function(){};e["HxOverrides"]=o;o.__name__="HxOverrides";o.dateStr=function(n){var e=n.getMonth()+1;var i=n.getDate();var t=n.getHours();var s=n.getMinutes();var r=n.getSeconds();return n.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(i<10?"0"+i:""+i)+" "+(t<10?"0"+t:""+t)+":"+(s<10?"0"+s:""+s)+":"+(r<10?"0"+r:""+r)};o.strDate=function(n){switch(n.length){case 8:var e=n.split(":");var i=new Date;i["setTime"](0);i["setUTCHours"](e[0]);i["setUTCMinutes"](e[1]);i["setUTCSeconds"](e[2]);return i;case 10:var t=n.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var s=n.split(" ");var r=s[0].split("-");var f=s[1].split(":");return new Date(r[0],r[1]-1,r[2],f[0],f[1],f[2]);default:throw new Mn("Invalid date format : "+n)}};o.cca=function(n,e){var i=n.charCodeAt(e);if(i!=i){return undefined}return i};o.substr=function(n,e,i){if(i==null){i=n.length}else if(i<0){if(e==0){i=n.length+i}else{return""}}return n.substr(e,i)};o.remove=function(n,e){var i=n.indexOf(e);if(i==-1){return false}n.splice(i,1);return true};o.iter=function(n){return{cur:0,arr:n,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var b=function(n,e){this.min=n;this.max=e};e["IntIterator"]=b;b.__name__="IntIterator";b.prototype={__class__:b};var N=function(){};e["Lambda"]=N;N.__name__="Lambda";N.has=function(n,e){var i=$getIterator(n);while(i.hasNext()){var t=i.next();if(t==e){return true}}return false};Math.__name__="Math";var R=function(){this.b=""};e["StringBuf"]=R;R.__name__="StringBuf";R.prototype={__class__:R};var S=function(){};e["haxe.SysTools"]=S;S.__name__="haxe.SysTools";S.quoteUnixArg=function(n){if(n==""){return"''"}if(!new v("[^a-zA-Z0-9_@%+=:,./-]","").match(n)){return n}return"'"+D.replace(n,"'","'\"'\"'")+"'"};S.quoteWinArg=function(n,e){if(!new v('^[^ \t\\\\"]+$',"").match(n)){var i="";var t=n.indexOf(" ")!=-1||n.indexOf("\t")!=-1||n=="";if(t){i+='"'}var s=new R;var r=0;var f=n.length;while(r<f){var a=r++;var l=o.cca(n,a);if(l==null){var h=l;if(s.b.length>0){i+=c.string(s.b);s=new R}i+=String.fromCodePoint(h)}else{switch(l){case 34:var w=s.b;i+=w==null?"null":""+w;i+=w==null?"null":""+w;s=new R;i+='\\"';break;case 92:s.b+="\\";break;default:var d=l;if(s.b.length>0){i+=c.string(s.b);s=new R}i+=String.fromCodePoint(d)}}}i+=c.string(s.b);if(t){i+=c.string(s.b);i+='"'}n=i}if(e){var u="";var b=0;var N=n.length;while(b<N){var D=b++;var A=o.cca(n,D);if(S.winMetaCharacters.indexOf(A)>=0){u+=String.fromCodePoint(94)}u+=String.fromCodePoint(A)}return u}else{return n}};var D=function(){};e["StringTools"]=D;D.__name__="StringTools";D.startsWith=function(n,e){if(n.length>=e.length){return n.lastIndexOf(e,0)==0}else{return false}};D.endsWith=function(n,e){var i=e.length;var t=n.length;if(t>=i){return n.indexOf(e,t-i)==t-i}else{return false}};D.isSpace=function(n,e){var i=o.cca(n,e);if(!(i>8&&i<14)){return i==32}else{return true}};D.ltrim=function(n){var e=n.length;var i=0;while(i<e&&D.isSpace(n,i))++i;if(i>0){return o.substr(n,i,e-i)}else{return n}};D.rtrim=function(n){var e=n.length;var i=0;while(i<e&&D.isSpace(n,e-i-1))++i;if(i>0){return o.substr(n,0,e-i)}else{return n}};D.trim=function(n){return D.ltrim(D.rtrim(n))};D.lpad=function(n,e,i){if(e.length<=0){return n}var t="";i-=n.length;while(t.length<i)t+=e==null?"null":""+e;t+=n==null?"null":""+n;return t};D.replace=function(n,e,i){return n.split(e).join(i)};var A=function(){};e["haxe.io.Output"]=A;A.__name__="haxe.io.Output";A.prototype={writeByte:function(n){throw new Mn("Not implemented")},writeBytes:function(n,e,i){if(e<0||i<0||e+i>n.length){throw new Mn(m.OutsideBounds)}var t=n.b;var s=i;while(s>0){this.writeByte(t[e]);++e;--s}return i},writeFullBytes:function(n,e,i){while(i>0){var t=this.writeBytes(n,e,i);e+=t;i-=t}},writeString:function(n,e){var i=L.ofString(n,e);this.writeFullBytes(i,0,i.length)},__class__:A};var B=function(n){this.fd=n};e["_Sys.FileOutput"]=B;B.__name__="_Sys.FileOutput";B.__super__=A;B.prototype=$extend(A.prototype,{writeByte:function(n){Rn.writeSync(this.fd,String.fromCodePoint(n))},writeBytes:function(n,e,i){var t=n.b;return Rn.writeSync(this.fd,qn.from(t.buffer,t.byteOffset,n.length),e,i)},writeString:function(n,e){Rn.writeSync(this.fd,n)},__class__:B});var M=s["ValueType"]={__ename__:"ValueType",__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:t},TInt:{_hx_index:1,__enum__:"ValueType",toString:t},TFloat:{_hx_index:2,__enum__:"ValueType",toString:t},TBool:{_hx_index:3,__enum__:"ValueType",toString:t},TObject:{_hx_index:4,__enum__:"ValueType",toString:t},TFunction:{_hx_index:5,__enum__:"ValueType",toString:t},TClass:(r=function(n){return{_hx_index:6,c:n,__enum__:"ValueType",toString:t}},r.__params__=["c"],r),TEnum:(r=function(n){return{_hx_index:7,e:n,__enum__:"ValueType",toString:t}},r.__params__=["e"],r),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:t}};var E=function(){};e["Type"]=E;E.__name__="Type";E.createEnum=function(n,e,i){var t=h.field(n,e);if(t==null){throw new Mn("No such constructor "+e)}if(h.isFunction(t)){if(i==null){throw new Mn("Constructor "+e+" need parameters")}return t.apply(n,i)}if(i!=null&&i.length!=0){throw new Mn("Constructor "+e+" does not need parameters")}return t};E.typeof=function(n){switch(typeof n){case"boolean":return M.TBool;case"function":if(n.__name__||n.__ename__){return M.TObject}return M.TFunction;case"number":if(Math.ceil(n)==n%2147483648){return M.TInt}return M.TFloat;case"object":if(n==null){return M.TNull}var e=n.__enum__;if(e!=null){return M.TEnum(s[e])}var i=w.getClass(n);if(i!=null){return M.TClass(i)}return M.TObject;case"string":return M.TClass(String);case"undefined":return M.TNull;default:return M.TUnknown}};E.enumParameters=function(n){var e=s[n.__enum__];var i=e.__constructs__[n._hx_index];var t=e[i].__params__;if(t!=null){var r=[];var f=0;while(f<t.length){var a=t[f];++f;r.push(n[a])}return r}else{return[]}};var C=s["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:t},Module:(r=function(n){return{_hx_index:1,m:n,__enum__:"haxe.StackItem",toString:t}},r.__params__=["m"],r),FilePos:(r=function(n,e,i,s){return{_hx_index:2,s:n,file:e,line:i,column:s,__enum__:"haxe.StackItem",toString:t}},r.__params__=["s","file","line","column"],r),Method:(r=function(n,e){return{_hx_index:3,classname:n,method:e,__enum__:"haxe.StackItem",toString:t}},r.__params__=["classname","method"],r),LocalFunction:(r=function(n){return{_hx_index:4,v:n,__enum__:"haxe.StackItem",toString:t}},r.__params__=["v"],r)};var W=function(){};e["haxe.IMap"]=W;W.__name__="haxe.IMap";W.__isInterface__=true;W.prototype={__class__:W};var T=function(n){this.params=[];this.headers={};this.url=de.fromString(n)};e["haxe.Http"]=T;T.__name__="haxe.Http";T.prototype={setHeader:function(n,e){var i=this.headers[n];if(i==null){this.headers[n]=[e]}else{var t=i;t.push(e)}return this},setParameter:function(n,e){var i=this.params;i.push(me.ofString(n)+"="+me.ofString(e));return this},onData:function(n){},onError:function(n){},request:function(n){var e=this;if(this.rawPostData!=null){n=true}if(n==null){n=false}var i=this.params.join("&");var t=this.url.scheme;var s=Le.get_name(this.url.host);var r=Le.get_port(this.url.host);var f=this.url;var a;if(i==""){a=""}else if(n==null){var l=i;a=(this.url.query==null?"?":"&")+l}else if(n==true){a=""}else{var h=i;a=(this.url.query==null?"?":"&")+h}var w=this.rawPostData;var d;if(w==null){d=n?i:null}else{var u=w;d=u}(t==null?Cn.request:t=="https"?Wn.request:Cn.request)({hostname:s,port:r,protocol:this.url.scheme+":",method:n?"POST":"GET",path:(f.query==null?f.path:f.path+"?"+f.query)+a,headers:this.headers},function(n){var i=[];n.on("end",function(){var n=D.replace(qn.concat(i).toString(),"%F6","%6f");e.onData(n)});n.on("data",$bind(i,$arrayPush));n.on("error",function(n){e.onError(c.string(n))})}).on("error",function(n){e.onError(c.string(n))}).end(d)},__class__:T};var Y=function(){this.buf=new R;this.cache=[];this.useCache=Y.USE_CACHE;this.useEnumIndex=Y.USE_ENUM_INDEX;this.shash=new I;this.scount=0};e["haxe.Serializer"]=Y;Y.__name__="haxe.Serializer";Y.prototype={toString:function(){return this.buf.b},serializeString:function(n){var e=this.shash;var i=ni[n]!=null?e.getReserved(n):e.h[n];if(i!=null){this.buf.b+="R";this.buf.b+=i==null?"null":""+i;return}var t=this.shash;var s=this.scount++;if(ni[n]!=null){t.setReserved(n,s)}else{t.h[n]=s}this.buf.b+="y";n=encodeURIComponent(n);this.buf.b+=c.string(n.length);this.buf.b+=":";this.buf.b+=n==null?"null":""+n},serializeRef:function(n){var e=typeof n;var i=0;var t=this.cache.length;while(i<t){var s=i++;var r=this.cache[s];if(typeof r==e&&r==n){this.buf.b+="r";this.buf.b+=s==null?"null":""+s;return true}}this.cache.push(n);return false},serializeFields:function(n){var e=0;var i=h.fields(n);while(e<i.length){var t=i[e];++e;this.serializeString(t);this.serialize(h.field(n,t))}this.buf.b+="g"},serialize:function(n){var e=E.typeof(n);switch(e._hx_index){case 0:this.buf.b+="n";break;case 1:var i=n;if(i==0){this.buf.b+="z";return}this.buf.b+="i";this.buf.b+=i==null?"null":""+i;break;case 2:var t=n;if(isNaN(t)){this.buf.b+="k"}else if(!isFinite(t)){this.buf.b+=t<0?"m":"p"}else{this.buf.b+="d";this.buf.b+=t==null?"null":""+t}break;case 3:this.buf.b+=n?"t":"f";break;case 4:if(w.__instanceof(n,$e)){var r=n.__name__;this.buf.b+="A";this.serializeString(r)}else if(w.__instanceof(n,_e)){this.buf.b+="B";this.serializeString(n.__ename__)}else{if(this.useCache&&this.serializeRef(n)){return}this.buf.b+="o";this.serializeFields(n)}break;case 5:throw new Mn("Cannot serialize function");case 6:var f=e.c;if(f==String){this.serializeString(n);return}if(this.useCache&&this.serializeRef(n)){return}switch(f){case Array:var a=0;this.buf.b+="a";var l=n["length"];var d=0;var u=l;while(d<u){var v=d++;if(n[v]==null){++a}else{if(a>0){if(a==1){this.buf.b+="n"}else{this.buf.b+="u";this.buf.b+=a==null?"null":""+a}a=0}this.serialize(n[v])}}if(a>0){if(a==1){this.buf.b+="n"}else{this.buf.b+="u";this.buf.b+=a==null?"null":""+a}}this.buf.b+="h";break;case Date:var b=n;this.buf.b+="v";this.buf.b+=c.string(b.getTime());break;case J:this.buf.b+="q";var N=n;var R=N.keys();while(R.hasNext()){var S=R.next();this.buf.b+=":";this.buf.b+=S==null?"null":""+S;this.serialize(N.h[S])}this.buf.b+="h";break;case Q:this.buf.b+="l";var D=n;var A=D.h;while(A!=null){var B=A.item;A=A.next;var M=B;this.serialize(M)}this.buf.b+="h";break;case H:this.buf.b+="M";var C=n;var W=C.keys();while(W.hasNext()){var T=W.next();var G=h.field(T,"__id__");h.deleteField(T,"__id__");this.serialize(T);T["__id__"]=G;this.serialize(C.h[T.__id__])}this.buf.b+="h";break;case I:this.buf.b+="b";var q=n;var Z=q.keys();while(Z.hasNext()){var V=Z.next();this.serializeString(V);this.serialize(ni[V]!=null?q.getReserved(V):q.h[V])}this.buf.b+="h";break;case L:var X=n;this.buf.b+="s";this.buf.b+=c.string(Math.ceil(X.length*8/6));this.buf.b+=":";var j=0;var K=X.length-2;var y=Y.BASE64_CODES;if(y==null){var O=new Array(Y.BASE64.length);y=O;var z=0;var m=Y.BASE64.length;while(z<m){var P=z++;y[P]=o.cca(Y.BASE64,P)}Y.BASE64_CODES=y}while(j<K){var p=X.b[j++];var U=X.b[j++];var F=X.b[j++];this.buf.b+=String.fromCodePoint(y[p>>2]);this.buf.b+=String.fromCodePoint(y[(p<<4|U>>4)&63]);this.buf.b+=String.fromCodePoint(y[(U<<2|F>>6)&63]);this.buf.b+=String.fromCodePoint(y[F&63])}if(j==K){var x=X.b[j++];var k=X.b[j++];this.buf.b+=String.fromCodePoint(y[x>>2]);this.buf.b+=String.fromCodePoint(y[(x<<4|k>>4)&63]);this.buf.b+=String.fromCodePoint(y[k<<2&63])}else if(j==K+1){var g=X.b[j++];this.buf.b+=String.fromCodePoint(y[g>>2]);this.buf.b+=String.fromCodePoint(y[g<<4&63])}break;default:if(this.useCache){this.cache.pop()}if(n.hxSerialize!=null){this.buf.b+="C";this.serializeString(f.__name__);if(this.useCache){this.cache.push(n)}n.hxSerialize(this);this.buf.b+="g"}else{this.buf.b+="c";this.serializeString(f.__name__);if(this.useCache){this.cache.push(n)}this.serializeFields(n)}}break;case 7:var $=e.e;if(this.useCache){if(this.serializeRef(n)){return}this.cache.pop()}this.buf.b+=c.string(this.useEnumIndex?"j":"w");this.serializeString($.__ename__);if(this.useEnumIndex){this.buf.b+=":";this.buf.b+=c.string(n._hx_index)}else{var _=n;this.serializeString(s[_.__enum__].__constructs__[_._hx_index])}this.buf.b+=":";var nn=E.enumParameters(n);this.buf.b+=c.string(nn.length);var en=0;while(en<nn.length){var tn=nn[en];++en;this.serialize(tn)}if(this.useCache){this.cache.push(n)}break;default:throw new Mn("Cannot serialize "+c.string(n))}},__class__:Y};var G=function(n){var e=this;this.id=setInterval(function(){e.run()},n)};e["haxe.Timer"]=G;G.__name__="haxe.Timer";G.delay=function(n,e){var i=new G(e);i.run=function(){i.stop();n()};return i};G.prototype={stop:function(){if(this.id==null){return}clearInterval(this.id);this.id=null},run:function(){},__class__:G};var q=function(){};e["haxe._Unserializer.DefaultResolver"]=q;q.__name__="haxe._Unserializer.DefaultResolver";q.prototype={resolveClass:function(n){return e[n]},resolveEnum:function(n){return s[n]},__class__:q};var Z=function(n){this.buf=n;this.length=n.length;this.pos=0;this.scache=[];this.cache=[];var e=Z.DEFAULT_RESOLVER;if(e==null){e=new q;Z.DEFAULT_RESOLVER=e}this.resolver=e};e["haxe.Unserializer"]=Z;Z.__name__="haxe.Unserializer";Z.initCodes=function(){var n=[];var e=0;var i=Z.BASE64.length;while(e<i){var t=e++;n[Z.BASE64.charCodeAt(t)]=t}return n};Z.prototype={readDigits:function(){var n=0;var e=false;var i=this.pos;while(true){var t=this.buf.charCodeAt(this.pos);if(t!=t){break}if(t==45){if(this.pos!=i){break}e=true;this.pos++;continue}if(t<48||t>57){break}n=n*10+(t-48);this.pos++}if(e){n*=-1}return n},readFloat:function(){var n=this.pos;while(true){var e=this.buf.charCodeAt(this.pos);if(e!=e){break}if(e>=43&&e<58||e==101||e==69){this.pos++}else{break}}return parseFloat(o.substr(this.buf,n,this.pos-n))},unserializeObject:function(n){while(true){if(this.pos>=this.length){throw new Mn("Invalid object")}if(this.buf.charCodeAt(this.pos)==103){break}var e=this.unserialize();if(typeof e!="string"){throw new Mn("Invalid object key")}var i=this.unserialize();n[e]=i}this.pos++},unserializeEnum:function(n,e){if(this.buf.charCodeAt(this.pos++)!=58){throw new Mn("Invalid enum format")}var i=this.readDigits();if(i==0){return E.createEnum(n,e)}var t=[];while(i-- >0)t.push(this.unserialize());return E.createEnum(n,e,t)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var n=this.unserialize();var e=this.resolver.resolveClass(n);if(e==null){throw new Mn("Class not found "+n)}return e;case 66:var i=this.unserialize();var t=this.resolver.resolveEnum(i);if(t==null){throw new Mn("Enum not found "+i)}return t;case 67:var s=this.unserialize();var r=this.resolver.resolveClass(s);if(r==null){throw new Mn("Class not found "+s)}var f=Object.create(r.prototype);this.cache.push(f);f.hxUnserialize(this);if(this.buf.charCodeAt(this.pos++)!=103){throw new Mn("Invalid custom data")}return f;case 77:var a=new H;this.cache.push(a);var l=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var h=this.unserialize();a.set(h,this.unserialize())}this.pos++;return a;case 82:var w=this.readDigits();if(w<0||w>=this.scache.length){throw new Mn("Invalid string reference")}return this.scache[w];case 97:var c=this.buf;var d=[];this.cache.push(d);while(true){var u=this.buf.charCodeAt(this.pos);if(u==104){this.pos++;break}if(u==117){this.pos++;var v=this.readDigits();d[d.length+v-1]=null}else{d.push(this.unserialize())}}return d;case 98:var b=new I;this.cache.push(b);var N=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var R=this.unserialize();var S=this.unserialize();if(ni[R]!=null){b.setReserved(R,S)}else{b.h[R]=S}}this.pos++;return b;case 99:var D=this.unserialize();var A=this.resolver.resolveClass(D);if(A==null){throw new Mn("Class not found "+D)}var B=Object.create(A.prototype);this.cache.push(B);this.unserializeObject(B);return B;case 100:return this.readFloat();case 102:return false;case 105:return this.readDigits();case 106:var M=this.unserialize();var E=this.resolver.resolveEnum(M);if(E==null){throw new Mn("Enum not found "+M)}this.pos++;var C=this.readDigits();var W=E.__constructs__.slice()[C];if(W==null){throw new Mn("Unknown enum index "+M+"@"+C)}var T=this.unserializeEnum(E,W);this.cache.push(T);return T;case 107:return NaN;case 108:var Y=new Q;this.cache.push(Y);var G=this.buf;while(this.buf.charCodeAt(this.pos)!=104)Y.add(this.unserialize());this.pos++;return Y;case 109:return-Infinity;case 110:return null;case 111:var q={};this.cache.push(q);this.unserializeObject(q);return q;case 112:return Infinity;case 113:var V=new J;this.cache.push(V);var X=this.buf;var j=this.buf.charCodeAt(this.pos++);while(j==58){var K=this.readDigits();var y=this.unserialize();V.h[K]=y;j=this.buf.charCodeAt(this.pos++)}if(j!=104){throw new Mn("Invalid IntMap format")}return V;case 114:var O=this.readDigits();if(O<0||O>=this.cache.length){throw new Mn("Invalid reference")}return this.cache[O];case 115:var z=this.readDigits();var m=this.buf;if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<z){throw new Mn("Invalid bytes length")}var P=Z.CODES;if(P==null){P=Z.initCodes();Z.CODES=P}var p=this.pos;var U=z&3;var F=(z>>2)*3+(U>=2?U-1:0);var x=p+(z-U);var k=new L(new ArrayBuffer(F));var g=0;while(p<x){var $=P[m.charCodeAt(p++)];var _=P[m.charCodeAt(p++)];k.b[g++]=$<<2|_>>4;var nn=P[m.charCodeAt(p++)];k.b[g++]=_<<4|nn>>2;var en=P[m.charCodeAt(p++)];k.b[g++]=nn<<6|en}if(U>=2){var tn=P[m.charCodeAt(p++)];var sn=P[m.charCodeAt(p++)];k.b[g++]=tn<<2|sn>>4;if(U==3){var rn=P[m.charCodeAt(p++)];k.b[g++]=sn<<4|rn>>2}}this.pos+=z;this.cache.push(k);return k;case 116:return true;case 118:var fn;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&this.buf.charCodeAt(this.pos+4)==45){fn=o.strDate(o.substr(this.buf,this.pos,19));this.pos+=19}else{fn=new Date(this.readFloat())}this.cache.push(fn);return fn;case 119:var an=this.unserialize();var ln=this.resolver.resolveEnum(an);if(ln==null){throw new Mn("Enum not found "+an)}var hn=this.unserializeEnum(ln,this.unserialize());this.cache.push(hn);return hn;case 120:throw Mn.wrap(this.unserialize());case 121:var wn=this.readDigits();if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<wn){throw new Mn("Invalid string length")}var cn=o.substr(this.buf,this.pos,wn);this.pos+=wn;cn=decodeURIComponent(cn.split("+").join(" "));this.scache.push(cn);return cn;case 122:return 0;default:}this.pos--;throw new Mn("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Z};var V=function(){};e["haxe.ds.BalancedTree"]=V;V.__name__="haxe.ds.BalancedTree";V.__interfaces__=[W];V.prototype={set:function(n,e){this.root=this.setLoop(n,e,this.root)},get:function(n){var e=this.root;while(e!=null){var i=this.compare(n,e.key);if(i==0){return e.value}if(i<0){e=e.left}else{e=e.right}}return null},keys:function(){var n=[];this.keysLoop(this.root,n);return o.iter(n)},setLoop:function(n,e,i){if(i==null){return new X(null,n,e,null)}var t=this.compare(n,i.key);if(t==0){return new X(i.left,n,e,i.right,i==null?0:i._height)}else if(t<0){var s=this.setLoop(n,e,i.left);return this.balance(s,i.key,i.value,i.right)}else{var r=this.setLoop(n,e,i.right);return this.balance(i.left,i.key,i.value,r)}},keysLoop:function(n,e){if(n!=null){this.keysLoop(n.left,e);e.push(n.key);this.keysLoop(n.right,e)}},balance:function(n,e,i,t){var s=n==null?0:n._height;var r=t==null?0:t._height;if(s>r+2){var f=n.left;var a=n.right;if((f==null?0:f._height)>=(a==null?0:a._height)){return new X(n.left,n.key,n.value,new X(n.right,e,i,t))}else{return new X(new X(n.left,n.key,n.value,n.right.left),n.right.key,n.right.value,new X(n.right.right,e,i,t))}}else if(r>s+2){var l=t.right;var h=t.left;if((l==null?0:l._height)>(h==null?0:h._height)){return new X(new X(n,e,i,t.left),t.key,t.value,t.right)}else{return new X(new X(n,e,i,t.left.left),t.left.key,t.left.value,new X(t.left.right,t.key,t.value,t.right))}}else{return new X(n,e,i,t,(s>r?s:r)+1)}},compare:function(n,e){return h.compare(n,e)},__class__:V};var X=function(n,e,i,t,s){if(s==null){s=-1}this.left=n;this.key=e;this.value=i;this.right=t;if(s==-1){var r;var f=this.left;var a=this.right;if((f==null?0:f._height)>(a==null?0:a._height)){var l=this.left;r=l==null?0:l._height}else{var h=this.right;r=h==null?0:h._height}this._height=r+1}else{this._height=s}};e["haxe.ds.TreeNode"]=X;X.__name__="haxe.ds.TreeNode";X.prototype={__class__:X};var j=function(){V.call(this)};e["haxe.ds.EnumValueMap"]=j;j.__name__="haxe.ds.EnumValueMap";j.__interfaces__=[W];j.__super__=V;j.prototype=$extend(V.prototype,{compare:function(n,e){var i=n._hx_index-e._hx_index;if(i!=0){return i}var t=E.enumParameters(n);var s=E.enumParameters(e);if(t.length==0&&s.length==0){return 0}return this.compareArgs(t,s)},compareArgs:function(n,e){var i=n.length-e.length;if(i!=0){return i}var t=0;var s=n.length;while(t<s){var r=t++;var f=this.compareArg(n[r],e[r]);if(f!=0){return f}}return 0},compareArg:function(n,e){if(h.isEnumValue(n)&&h.isEnumValue(e)){return this.compare(n,e)}else if(n instanceof Array&&e instanceof Array){return this.compareArgs(n,e)}else{return h.compare(n,e)}},__class__:j});var J=function(){this.h={}};e["haxe.ds.IntMap"]=J;J.__name__="haxe.ds.IntMap";J.__interfaces__=[W];J.prototype={get:function(n){return this.h[n]},keys:function(){var n=[];for(var e in this.h)this.h.hasOwnProperty(e)?n.push(e|0):null;return o.iter(n)},__class__:J};var Q=function(){this.length=0};e["haxe.ds.List"]=Q;Q.__name__="haxe.ds.List";Q.prototype={add:function(n){var e=new K(n,null);if(this.h==null){this.h=e}else{this.q.next=e}this.q=e;this.length++},iterator:function(){return new y(this.h)},__class__:Q};var K=function(n,e){this.item=n;this.next=e};e["haxe.ds._List.ListNode"]=K;K.__name__="haxe.ds._List.ListNode";K.prototype={__class__:K};var y=function(n){this.head=n};e["haxe.ds._List.ListIterator"]=y;y.__name__="haxe.ds._List.ListIterator";y.prototype={hasNext:function(){return this.head!=null},next:function(){var n=this.head.item;this.head=this.head.next;return n},__class__:y};var H=function(){this.h={__keys__:{}}};e["haxe.ds.ObjectMap"]=H;H.__name__="haxe.ds.ObjectMap";H.__interfaces__=[W];H.prototype={set:function(e,i){var t=e.__id__;if(t==null){t=e.__id__=n.$haxeUID++}this.h[t]=i;this.h.__keys__[t]=e},get:function(n){return this.h[n.__id__]},keys:function(){var n=[];for(var e in this.h.__keys__){if(this.h.hasOwnProperty(e)){n.push(this.h.__keys__[e])}}return o.iter(n)},__class__:H};var O=s["haxe.ds.Option"]={__ename__:"haxe.ds.Option",__constructs__:["Some","None"],Some:(r=function(n){return{_hx_index:0,v:n,__enum__:"haxe.ds.Option",toString:t}},r.__params__=["v"],r),None:{_hx_index:1,__enum__:"haxe.ds.Option",toString:t}};var I=function(){this.h={}};e["haxe.ds.StringMap"]=I;I.__name__="haxe.ds.StringMap";I.__interfaces__=[W];I.prototype={get:function(n){if(ni[n]!=null){return this.getReserved(n)}return this.h[n]},setReserved:function(n,e){if(this.rh==null){this.rh={}}this.rh["$"+n]=e},getReserved:function(n){if(this.rh==null){return null}else{return this.rh["$"+n]}},keys:function(){return o.iter(this.arrayKeys())},arrayKeys:function(){var n=[];for(var e in this.h){if(this.h.hasOwnProperty(e)){n.push(e)}}if(this.rh!=null){for(var e in this.rh){if(e.charCodeAt(0)==36){n.push(e.substr(1))}}}return n},__class__:I};var L=function(n){this.length=n.byteLength;this.b=new Uint8Array(n);this.b.bufferValue=n;n.hxBytes=this;n.bytes=this.b};e["haxe.io.Bytes"]=L;L.__name__="haxe.io.Bytes";L.ofString=function(n,e){if(e==z.RawNative){var i=new Uint8Array(n.length<<1);var t=0;var s=n.length;while(t<s){var r=t++;var f=n.charCodeAt(r);i[r<<1]=f&255;i[r<<1|1]=f>>8}return new L(i.buffer)}var a=[];var l=0;while(l<n.length){var h=n.charCodeAt(l++);if(55296<=h&&h<=56319){h=h-55232<<10|n.charCodeAt(l++)&1023}if(h<=127){a.push(h)}else if(h<=2047){a.push(192|h>>6);a.push(128|h&63)}else if(h<=65535){a.push(224|h>>12);a.push(128|h>>6&63);a.push(128|h&63)}else{a.push(240|h>>18);a.push(128|h>>12&63);a.push(128|h>>6&63);a.push(128|h&63)}}return new L(new Uint8Array(a).buffer)};L.prototype={sub:function(n,e){if(n<0||e<0||n+e>this.length){throw new Mn(m.OutsideBounds)}return new L(this.b.buffer.slice(n+this.b.byteOffset,n+this.b.byteOffset+e))},getString:function(n,e,i){if(n<0||e<0||n+e>this.length){throw new Mn(m.OutsideBounds)}if(i==null){i=z.UTF8}var t="";var s=this.b;var r=n;var f=n+e;switch(i._hx_index){case 0:var a=n>0;while(r<f){var l=s[r++];if(l<128){if(l==0){break}t+=String.fromCodePoint(l)}else if(l<224){var h=(l&63)<<6|s[r++]&127;t+=String.fromCodePoint(h)}else if(l<240){var w=s[r++];var c=(l&31)<<12|(w&127)<<6|s[r++]&127;t+=String.fromCodePoint(c)}else{var d=s[r++];var u=s[r++];var v=(l&15)<<18|(d&127)<<12|(u&127)<<6|s[r++]&127;t+=String.fromCodePoint(v)}}break;case 1:while(r<f){var o=s[r++]|s[r++]<<8;t+=String.fromCodePoint(o)}break}return t},toString:function(){return this.getString(0,this.length)},__class__:L};var z=s["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:t},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:t}};var m=s["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:t},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:t},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:t},Custom:(r=function(n){return{_hx_index:3,e:n,__enum__:"haxe.io.Error",toString:t}},r.__params__=["e"],r)};var P=function(n){switch(n){case".":case"..":this.dir=n;this.file="";return}var e=n.lastIndexOf("/");var i=n.lastIndexOf("\\");if(e<i){this.dir=o.substr(n,0,i);n=o.substr(n,i+1,null);this.backslash=true}else if(i<e){this.dir=o.substr(n,0,e);n=o.substr(n,e+1,null)}else{this.dir=null}var t=n.lastIndexOf(".");if(t!=-1){this.ext=o.substr(n,t+1,null);this.file=o.substr(n,0,t)}else{this.ext=null;this.file=n}};e["haxe.io.Path"]=P;P.__name__="haxe.io.Path";P.withoutExtension=function(n){var e=new P(n);e.ext=null;return e.toString()};P.withoutDirectory=function(n){var e=new P(n);e.dir=null;return e.toString()};P.directory=function(n){var e=new P(n);if(e.dir==null){return""}return e.dir};P.extension=function(n){var e=new P(n);if(e.ext==null){return""}return e.ext};P.withExtension=function(n,e){var i=new P(n);i.ext=e;return i.toString()};P.join=function(n){var e=[];var i=0;var t=n;while(i<t.length){var s=t[i];++i;if(s!=null&&s!=""){e.push(s)}}var r=e;if(r.length==0){return""}var f=r[0];var a=1;var l=r.length;while(a<l){var h=a++;f=P.addTrailingSlash(f);f+=r[h]}return P.normalize(f)};P.normalize=function(n){var e="/";n=n.split("\\").join(e);if(n==e){return e}var i=[];var t=0;var s=n.split(e);while(t<s.length){var r=s[t];++t;if(r==".."&&i.length>0&&i[i.length-1]!=".."){i.pop()}else if(r==""){if(i.length>0||o.cca(n,0)==47){i.push(r)}}else if(r!="."){i.push(r)}}var f=i.join(e);var a="";var l=false;var h=false;var w=0;var c=f;while(w<c.length){var d=c;var u=w++;var v=d.charCodeAt(u);if(v>=55296&&v<=56319){v=v-55232<<10|d.charCodeAt(u+1)&1023}var b=v;if(b>=65536){++w}var N=b;switch(N){case 47:if(!l){h=true}else{var R=N;l=false;if(h){a+="/";h=false}a+=String.fromCodePoint(R)}break;case 58:a+=":";l=true;break;default:var S=N;l=false;if(h){a+="/";h=false}a+=String.fromCodePoint(S)}}return a};P.addTrailingSlash=function(n){if(n.length==0){return"/"}var e=n.lastIndexOf("/");var i=n.lastIndexOf("\\");if(e<i){if(i!=n.length-1){return n+"\\"}else{return n}}else if(e!=n.length-1){return n+"/"}else{return n}};P.removeTrailingSlashes=function(n){n:while(true){var e=o.cca(n,n.length-1);if(e==null){break}else{switch(e){case 47:case 92:n=o.substr(n,0,-1);break;default:break n}}}return n};P.isAbsolute=function(n){if(D.startsWith(n,"/")){return true}if(n.charAt(1)==":"){return true}if(D.startsWith(n,"\\\\")){return true}return false};P.prototype={toString:function(){return(this.dir==null?"":this.dir+(this.backslash?"\\":"/"))+this.file+(this.ext==null?"":"."+this.ext)},__class__:P};var p=function(n){this.map=n;this.keys=n.keys()};e["haxe.iterators.MapKeyValueIterator"]=p;p.__name__="haxe.iterators.MapKeyValueIterator";p.prototype={hasNext:function(){return this.keys.hasNext()},next:function(){var n=this.keys.next();return{value:this.map.get(n),key:n}},__class__:p};var U=function(){};e["haxe.remoting.AsyncConnection"]=U;U.__name__="haxe.remoting.AsyncConnection";U.__isInterface__=true;U.prototype={__class__:U};var F=function(n,e){this.__data=n;this.__path=e};e["haxe.remoting.HttpAsyncConnection"]=F;F.__name__="haxe.remoting.HttpAsyncConnection";F.__interfaces__=[U];F.urlConnect=function(n){return new F({url:n,error:function(n){throw Mn.wrap(n)}},[])};F.prototype={resolve:function(n){var e=new F(this.__data,this.__path.slice());e.__path.push(n);return e},setErrorHandler:function(n){this.__data.error=n},call:function(n,e){var i=new T(this.__data.url);var t=new Y;t.serialize(this.__path);t.serialize(n);i.setHeader("X-Haxe-Remoting","1");i.setParameter("__x",t.toString());var s=this.__data.error;i.onData=function(n){var i=true;var t;try{if(o.substr(n,0,3)!="hxr"){throw new Mn("Invalid response : '"+n+"'")}var r=new Z(o.substr(n,3,null));t=r.unserialize()}catch(n){t=null;i=false;s(n instanceof Mn?n.val:n)}if(i&&e!=null){e(t)}};i.onError=s;i.request(true)},__class__:F};var x=function(n,e){this.cwd=n;this.args=e};e["haxeshim.Args"]=x;x.__name__="haxeshim.Args";x.interpolate=function(n,e){if(n.indexOf("${")==-1){return Sn.Success(n)}var i="";var t=0;while(t<n.length){var s=n.indexOf("${",t);if(s==-1){var r=null;i+=r==null?o.substr(n,t,null):o.substr(n,t,r);break}else{var f=s;var a=f-t;i+=a==null?o.substr(n,t,null):o.substr(n,t,a);var l=f+2;var h;var w=n.indexOf("}",l);if(w==-1){return Sn.Failure("unclosed interpolation in "+n)}else{var d=w;h=d}var u=o.substr(n,l,h-l);var v;var b=e(u);if(b==null){return Sn.Failure("unknown variable "+u)}else{var N=b;if(N=="$"+"{"+u+"}"){v=N}else{var R=x.interpolate(N,e);if(R._hx_index==0){var S=R.data;v=S}else{var D=R;return D}}}i+=c.string(v);t=h+1}}return Sn.Success(i)};x.fromMultilineString=function(n,e,i,t){if(t==null){t=false}var s=[];var r=new en;var f=function(n){if(n=="__dirname"){return P.directory(e)}else{return i(n)}};var a=function(n,i){var t=function(n){s.push({pos:tn.File(e,i),val:n})};if(n.charAt(0)=="-"){t(n)}else{var a=x.interpolate(n,f);switch(a._hx_index){case 0:var l=a.data;t(l);break;case 1:var h=a.failure;r.fail(h,tn.File(e,i));break}}};var l=n.split("\n");var h=D.trim;var w=new Array(l.length);var c=0;var d=l.length;while(c<d){var u=c++;w[u]=h(l[u])}var v=w;var b=0;var N=v.length;while(b<N){var R=b++;var S=v[R];var A=function(n,e){return function(i){e[0](i,n[0])}}([R],[a]);var B=S.charAt(0);if(B!=null){switch(B){case"#":break;case"-":var M=S.indexOf(" ");if(M==-1){A(S)}else{var E=M;A(o.substr(S,0,E));A(D.trim(o.substr(S,E,null)))}break;default:var C=D.trim(S);if(C!=""){var W=C;if(t){A("-cp")}A(W)}}}}return r.produce(s)};x.getNdll=function(n){if(D.startsWith(n,"ndll:")){return O.Some(o.substr(n,5,null))}else{return O.None}};x.makeNdll=function(n){return"ndll:"+n};x.split=function(n,e,i,t){var s=[];var r=0;var f=n.length;while(r<f){var a=r++;s.push({val:n[a],pos:tn.Cmd(a)})}var l=s;var h=[];var w=[];var c=[];var d=new en;var u=function(n){if(P.isAbsolute(n)){return n}else{return P.join([e,n])}};var v=function(){if(w.length>0){var n=h.concat(w);var i=new x(e,n);w=[];c.push(i)}};while(true){var o=l.shift();if(o==null){v();break}else{var b=[o];var N=function(n){return function(e){var i=l.shift();if(i==null){d.fail(""+n[0].val+" without argument",n[0].pos)}else{var t=i;e(t)}}}(b);var R=b[0].val;switch(R){case"--each":h=w;w=[];break;case"--next":v();break;case"--run":case"-x":var S=[b[0]].concat(l);w=w.concat(S);l=[];v();break;case"--cwd":case"-C":var A=l.shift();if(A==null){d.fail(""+b[0].val+" without argument",b[0].pos)}else{var B=A;e=u(B.val);if(!i.isDirectory(e)){d.fail("Cannot use "+e+" as working directory",B.pos);l=[]}}break;default:var M=R;if(P.extension(M)=="hxml"){l=x.readHxml(u(M),i,t,d,b[0].pos).concat(l)}else{var E=R;if(D.startsWith(E,"${")){var C=x.interpolate(E,t);switch(C._hx_index){case 0:var W=C.data;w.push({val:W,pos:b[0].pos});break;case 1:var T=C.failure;d.fail(T,b[0].pos);break}}else{w.push(b[0])}}}}}return d.produce(c)};x.readHxml=function(n,e,i,t,s){var r=e.readFile(n);switch(r._hx_index){case 0:var f=r.data;return t.getResult(x.fromMultilineString(f,n,i));case 1:var a=r.failure;t.fail(a,s);return[]}};x.prototype={__class__:x};var k=function(){};e["haxeshim.Attempt"]=k;k.__name__="haxeshim.Attempt";k.to=function(n,e,i){return new Me(new Te(function(){return De.catchExceptions(e,function(e){return De.withData(null,"Failed to "+n,e,i)},{fileName:"haxeshim/Attempt.hx",lineNumber:8,className:"haxeshim.Attempt",methodName:"to"})}))};var g=s["haxeshim.ServerKind"]={__ename__:"haxeshim.ServerKind",__constructs__:["Port","Stdio"],Port:(r=function(n){return{_hx_index:0,num:n,__enum__:"haxeshim.ServerKind",toString:t}},r.__params__=["num"],r),Stdio:{_hx_index:1,__enum__:"haxeshim.ServerKind",toString:t}};var $=s["haxeshim.StdioState"]={__ename__:"haxeshim.StdioState",__constructs__:["AwaitingHeader","AwaitingData"],AwaitingHeader:(r=function(n){return{_hx_index:0,buf:n,__enum__:"haxeshim.StdioState",toString:t}},r.__params__=["buf"],r),AwaitingData:(r=function(n,e){return{_hx_index:1,buf:n,total:e,__enum__:"haxeshim.StdioState",toString:t}},r.__params__=["buf","total"],r)};var _=function(n,e,i){this.freePort=Ee.async(function(n){var e=Tn.createServer();e.listen(0,function(){var i=e.address().port;e.close(function(){n(Sn.Success(i))})})},true);this.args=i;this.scope=e;switch(n._hx_index){case 0:var t=n.num;this.waitOnPort(t);break;case 1:this.stdio();break}};e["haxeshim.CompilerServer"]=_;_.__name__="haxeshim.CompilerServer";_.prototype={handleIntSignals:function(){var n=function(){process.exit()};process.on("SIGINT",n);process.on("SIGTERM",n)},stdio:function(){var n=this;Rn.watch(this.scope.configFile,{persistent:false},function(e,i){var t=10;var s=null;s=function(e){if(e==null){e=0}try{n.scope.reload()}catch(n){var i=n instanceof Mn?n.val:n;if(e>=t){dn.get().error("Reloading .haxerc after change detected failed "+t+" times!");process.exit(500)}else{var r=s;var f=e+1;G.delay(function(){r(f);return},100)}}};s()});var e=null;var i=function(){if(e!=null){e.kill()}};process.on("exit",i);this.handleIntSignals();process.stdin.on("end",i);process.stdin.on("close",i);var t=$.AwaitingHeader(qn.alloc(0));var s=function(n){var e=qn.alloc(4+n.length);e.writeInt32LE(n.length,0);n.copy(e,4);return e};var f=function(i){var t=qn.alloc(0);var f=i.indexOf(1);var a;if(f==-1){a=i}else{var h=f;t=i.slice(h);a=i.slice(0,h)}var w=n.parseArgs(a);if(e==null||w.version!=n.lastVersion){if(e!=null){e.kill();e.stdout.unpipe(process.stdout);e.stderr.unpipe(process.stderr)}n.lastVersion=w.version;var c=n.scope.haxeInstallation;e=l.spawn(c.compiler,n.args.concat(["--wait","stdio"]),{cwd:n.scope.cwd,env:nn.toVars(rn.mergeEnv(c.env())),stdio:"pipe"});var d=e;e.on("exit",function(n,i){if(e==d){e=null}});e.stdout.pipe(process.stdout);e.stderr.pipe(process.stderr)}var u=(r=n.scope,$bind(r,r.resolve));var v=w.args;var o=De.catchExceptions(function(){return u(v)},null,{fileName:"haxeshim/CompilerServer.hx",lineNumber:142,className:"haxeshim.CompilerServer",methodName:"stdio"});switch(o._hx_index){case 0:var b=o.data;var N=qn.from(b.join("\n"));var R=e.stdin;var S=qn.concat([N,t]);R.write(s(S));break;case 1:var D=o.failure;rn.die(D.code,D.message);break}};var a=function(){while(true){var n;switch(t._hx_index){case 0:var e=t.buf;n=e.length>=4?$.AwaitingData(e.slice(4),e.readInt32LE(0)):t;break;case 1:var i=t.total;var s=t.buf;if(s.length>=i){var r=s.slice(0,i);f(r);n=$.AwaitingHeader(s.slice(i))}else{n=t}break;default:n=t}if(t==n){break}t=n}};process.stdin.on("data",function(n){switch(t._hx_index){case 0:var e=t.buf;t=$.AwaitingHeader(qn.concat([e,n]));break;case 1:var i=t.total;var s=t.buf;t=$.AwaitingData(qn.concat([s,n]),i);break}a()})},parseArgs:function(n){var e=n.toString().split("\n");var i;var t=e.indexOf("--haxe-version");if(t==-1){i=this.lastVersion==null?this.scope.haxeInstallation.version:this.lastVersion}else{var s=t;i=e.splice(s,2).pop()}return{version:i,args:e}},waitOnPort:function(n){var e=this;var i=function(){if(e.waiting!=null){e.waiting.handle(function(n){if(n._hx_index==0){var e=n.data;e.kill()}})}};process.on("exit",i);this.handleIntSignals();var t=Tn.createServer(function(n){var i=[];n.on("data",function(t){var s=t.indexOf(0);if(s==-1){i.push(t)}else{var r=s;var f=t.slice(0,r);i.push(f);var a=t.slice(r+1);n.unshift(a);var l=qn.concat(i).toString().split("\n");i=[];var h;var w=l.indexOf("--haxe-version");if(w==-1){h=e.lastVersion==null?e.scope.haxeInstallation.version:e.lastVersion}else{var c=w;h=l.splice(c,2).pop()}e.connect(h).handle(function(e){switch(e._hx_index){case 0:var i=e.data;i.write(l.join("\n")+String.fromCodePoint(0));i.pipe(n,{end:true});break;case 1:var t=e.failure;n.end(t.message+"\n"+""+"\n","utf8");break}})}});n.on("error",function(){});n.on("end",function(){})});t.listen(n)},disconnect:function(){if(this.waiting==null){return new Me(new bn(Sn.Success(Be.Noise)))}else{return qe.next(this.waiting,function(n){var e=n.kill().map(Sn.Success);return e.gather()})}},connect:function(n){var e=this;if(n!=this.lastVersion||this.waiting==null){this.lastVersion=n;var i=this.waiting=qe.next(this.disconnect(),function(i){return qe.next(e.freePort,Ze.ofSafeSync(function(i){var t=e.scope.getInstallation(n);var s=rn.async(t.compiler,e.scope.cwd,e.args.concat(["--wait",i==null?"null":""+i]),t.env());return{died:Ee.async(function(n){var e=n;var i=function(){e(Be.Noise)};s.on("exit",i);var t=n;var r=function(){t(Be.Noise)};s.on("error",r);var f=n;var a=function(){f(Be.Noise)};s.on("disconnect",a)}),version:n,socket:function(){return Ee.async(function(n){var e=10;var t=null;t=function(s){var r=Tn.createConnection(i,"127.0.0.1");r.on("error",function(r){if(s>=e){var f=Sn.Failure(new De(null,"Failed to connect to 127.0.0.1:"+i+" after "+e+" attempts because "+r,{fileName:"haxeshim/CompilerServer.hx",lineNumber:291,className:"haxeshim.CompilerServer",methodName:"connect"}));n(f)}else{var a=t;var l=s+1;G.delay(function(){a(l);return},100)}}).on("connect",function(){n(Sn.Success(r))})};t(1)})},kill:function(){s.kill();return Ee.async(function(n){var e=n;G.delay(function(){e(Be.Noise)},500)})}}}))});this.waiting.handle(function(n){switch(n._hx_index){case 0:var t=n.data;t.died.handle(ue.fromNiladic(function(){if(e.waiting==i){e.waiting=null}}));break;case 1:var s=n.failure;e.waiting=null;break}})}return qe.next(this.waiting,function(n){return n.socket()})},__class__:_};var nn={};e["haxeshim._Env.Env_Impl_"]=nn;nn.__name__="haxeshim._Env.Env_Impl_";nn.ofVars=function(n){var e={};var i=e;var t=0;var s=h.fields(n);while(t<s.length){var r=s[t];++t;i[hn.IS_WINDOWS?r.toUpperCase():r]=n[r]}var f=i;return f};nn.ofMap=function(n){var e={};var i=e;var t=n.keys();while(t.hasNext()){var s=t.next();i[hn.IS_WINDOWS?s.toUpperCase():s]=ni[s]!=null?n.getReserved(s):n.h[s]}var r=i;return r};nn.vars=function(n){return n};nn.toVars=function(n){return h.copy(n)};nn.get=function(n,e){return n[hn.IS_WINDOWS?e.toUpperCase():e]};nn.mergeInto=function(n,e){var i=nn.vars(e);if(n==null){var t=i;var s=t;return s}else if(i==null){var r=n;var f=r;return f}else{var a=n;var l=i;var w={};var c=w;var d=l;var u=0;var v=h.fields(d);while(u<v.length){var o=v[u];++u;c[o]=d[o]}var b=a;var N=0;var R=h.fields(b);while(N<R.length){var S=R[N];++N;c[S]=b[S]}var D=c;return D}};var en=function(){this.errors=[]};e["haxeshim.Errors"]=en;en.__name__="haxeshim.Errors";en.getCode=function(n){var e=0;var i=n;while(e<i.length){var t=i[e];++e;var s=t.code;if(s!=null){var r=s;return r}}return 500};en.prototype={fail:function(n,e,i){this.errors.push({message:n,pos:e,code:i})},produce:function(n){if(this.errors.length==0){return Sn.Success(n)}else{return Sn.Failure({result:n,errors:this.errors})}},getResult:function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=0;var s=i.errors;while(t<s.length){var r=s[t];++t;this.errors.push(r)}return i.result}},__class__:en};var tn=s["haxeshim.Pos"]={__ename__:"haxeshim.Pos",__constructs__:["File","Cmd","Custom"],File:(r=function(n,e){return{_hx_index:0,path:n,line:e,__enum__:"haxeshim.Pos",toString:t}},r.__params__=["path","line"],r),Cmd:(r=function(n){return{_hx_index:1,index:n,__enum__:"haxeshim.Pos",toString:t}},r.__params__=["index"],r),Custom:(r=function(n){return{_hx_index:2,source:n,__enum__:"haxeshim.Pos",toString:t}},r.__params__=["source"],r)};var sn=function(){};e["haxeshim.PosTools"]=sn;sn.__name__="haxeshim.PosTools";sn.toString=function(n){switch(n._hx_index){case 0:var e=n.line;var i=n.path;return""+i+":"+e;case 1:var t=n.index;return"CLI arg#"+t;case 2:var s=n.source;return s}};var rn=function(){};e["haxeshim.Exec"]=rn;rn.__name__="haxeshim.Exec";rn.die=function(n,e){if(e!=null){dn.get().error(e)}process.exit(n);throw new Mn("unreachable")};rn.dieFromErrors=function(n){var e=null;var i=dn.get();var t=0;var s=n;while(t<s.length){var r=s[t];++t;i.error(sn.toString(r.pos)+(": "+r.message))}process.exit(en.getCode(n));throw new Mn("unreachable")};rn.gracefully=function(n){try{return n()}catch(n){var e=n instanceof Mn?n.val:n;if(e instanceof De){var i=e;return rn.die(i.code,i.message)}else{return rn.die(500,c.string(e))}}};rn.mergeEnv=function(n){return nn.mergeInto(n,nn.ofVars(process.env))};rn.async=function(n,e,i,t){return l.spawn(n,i,{cwd:e,stdio:"inherit",env:nn.toVars(rn.mergeEnv(t))})};rn.shell=function(n,e,i){try{return Sn.Success(l.execSync(n,{cwd:e,stdio:"inherit",env:nn.toVars(rn.mergeEnv(i))}))}catch(e){var t=e instanceof Mn?e.val:e;return Sn.Failure(new De(t.status,"Failed to invoke `"+n+"` because "+c.string(t),{fileName:"haxeshim/Exec.hx",lineNumber:47,className:"haxeshim.Exec",methodName:"shell"}))}};rn.sync=function(n,e,i,t){var s=l.spawnSync(n,i,{cwd:e,stdio:"inherit",env:nn.toVars(rn.mergeEnv(t))});var r=s.stdout;var f=s.stderr;var a=s.status;var h=s.signal;var w=s.pid;var d=s.output;var u=s.error;if(u==null){var v=a;return Sn.Success(v)}else{var o=a;var b=u;return Sn.Failure(new De(o,"Failed to call "+n+" because "+c.string(b),{fileName:"haxeshim/Exec.hx",lineNumber:54,className:"haxeshim.Exec",methodName:"sync"}))}};rn.eval=function(n,e,i,t){var s=l.spawnSync(n,i,{cwd:e,env:nn.toVars(rn.mergeEnv(t))});var r=s;if(r.error==null){return Sn.Success({status:r.status,stdout:r.stdout.toString(),stderr:r.stderr.toString()})}else{var f=s.stdout;var a=s.stderr;var h=s.status;var w=s.signal;var d=s.pid;var u=s.output;var v=s.error;return Sn.Failure(new De(null,"Failed to call "+n+" because "+c.string(v),{fileName:"haxeshim/Exec.hx",lineNumber:66,className:"haxeshim.Exec",methodName:"eval"}))}};var fn={};e["haxeshim._Fs.Payload_Impl_"]=fn;fn.__name__="haxeshim._Fs.Payload_Impl_";fn.ofString=function(n){return L.ofString(n)};var an=function(){};e["haxeshim.Fs"]=an;an.__name__="haxeshim.Fs";an.get=function(n,e){var i=n;return k.to("get content of "+n,function(){return Rn.readFileSync(i,{encoding:"utf8"})},e)};an.save=function(n,e,i){return qe.noise(qe.next(an.ensureDir(n),function(t){var s=n;var r=function(n){var e=n.b;var i=qn.from(e.buffer,e.byteOffset,n.length);Rn.writeFileSync(s,i)};var f=e;var a=function(){r(f)};return k.to("save to "+n,a,i)}))};an.exists=function(n){var e=n;return k.to("check the existence of "+n,function(){return Nn.exists(e)},{fileName:"haxeshim/Fs.hx",lineNumber:26,className:"haxeshim.Fs",methodName:"exists"})};an.ensureDir=function(n){var e=D.endsWith(n,"/")||D.endsWith(n,"\\");if(e){n=P.removeTrailingSlashes(n)}var i=P.directory(n);if(P.removeTrailingSlashes(i)==n){return new Me(new bn(Sn.Success(Be.Noise)))}else{return qe.next(qe.next(an.exists(i),function(n){if(n){return new Me(new bn(Sn.Success(Be.Noise)))}else{return an.ensureDir(P.addTrailingSlash(i))}}),function(i){if(e){return qe.next(an.exists(n),function(e){return k.to("create directory "+n,function(){if(!e){Nn.createDirectory(n)}return Be.Noise},{fileName:"haxeshim/Fs.hx",lineNumber:49,className:"haxeshim.Fs",methodName:"ensureDir"})})}else{return new Me(new bn(Sn.Success(Be.Noise)))}})}};an.isDirectory=function(n){var e=n;return k.to("check if "+n+" is a directory",function(){return Nn.isDirectory(e)},{fileName:"haxeshim/Fs.hx",lineNumber:60,className:"haxeshim.Fs",methodName:"isDirectory"})};an.move=function(n,e){return qe.noise(qe.next(an.ensureDir(e),function(i){var t=n;var s=function(n){Rn.renameSync(t,n)};var r=e;var f=function(){s(r)};return k.to("move "+n+" to "+e,f,{fileName:"haxeshim/Fs.hx",lineNumber:67,className:"haxeshim.Fs",methodName:"move"})}))};an.copy=function(n,e,i,t){var s=null;s=function(n,e,r){if(i==null||i(n)){return qe.next(an.isDirectory(n),function(i){if(i){return qe.next(an.ensureDir(P.addTrailingSlash(e)),function(i){var t=[];var r=0;var f=Rn.readdirSync(n);while(r<f.length){var a=f[r];++r;t.push(s(""+n+"/"+a,""+e+"/"+a,false))}return qe.noise(qe.inParallel(t))})}else{return qe.next(qe.next(r?an.ensureDir(e):qe.NOISE,function(i){if(t==null||t({src:n,dest:e})){return new Me(new bn(Sn.Success(false)))}else{return an.exists(e)}}),function(i){if(i){return new Me(new bn(Sn.Success(Be.Noise)))}else{var t=n;var s=e;var r=function(){ce.copy(t,s)};return qe.noise(k.to("copy "+n+" to "+e,r,{fileName:"haxeshim/Fs.hx",lineNumber:92,className:"haxeshim.Fs",methodName:"copy"}))}})}})}else{return new Me(new bn(Sn.Success(Be.Noise)))}};return s(n,e,true)};an.ls=function(n,e){var i=[];var t=0;var s=Rn.readdirSync(n);while(t<s.length){var r=s[t];++t;var f=""+n+"/"+r;var a;if(e==null||e(f)){a=f}else{continue}i.push(a)}return i};an.delete=function(n){return k.to("delete "+n,function(){if(n!=null&&Nn.exists(n)){if(Nn.isDirectory(n)){var e=0;var i=Rn.readdirSync(n);while(e<i.length){var t=i[e];++e;an.delete(""+n+"/"+t)}if(Nn.exists(n)){var s=0;var r=Rn.readdirSync(n);while(s<r.length){var f=r[s];++s;var a=n+"/"+f;if(Nn.isDirectory(a)){if(Nn.exists(a)){var l=0;var h=Rn.readdirSync(a);while(l<h.length){var w=h[l];++l;var c=a+"/"+w;if(Nn.isDirectory(c)){Nn.deleteDirectory(c)}else{Rn.unlinkSync(c)}}Rn.rmdirSync(a)}}else{Rn.unlinkSync(a)}}Rn.rmdirSync(n)}}else{Rn.unlinkSync(n)}}return},{fileName:"haxeshim/Fs.hx",lineNumber:107,className:"haxeshim.Fs",methodName:"delete"})};an.peel=function(n,e){var i=0;var t=0;var s=e;while(t<s){var r=t++;var f=n.indexOf("/",i);if(f==-1){return O.None}else{var a=f;i=a+1}}return O.Some(o.substr(n,i,null))};an.findNearest=function(n,e){while(true)if(Nn.exists(""+e+"/"+n)){return O.Some(""+e+"/"+n)}else{var i=P.directory(e);var t=i;if(e==t){return O.None}else{var s=i;e=s}}};var ln=function(n){this.scope=n};e["haxeshim.HaxeCli"]=ln;ln.__name__="haxeshim.HaxeCli";ln.prototype={installLibs:function(n){return this.scope.withLogger(dn.get(n),(r=this.scope,$bind(r,r.installLibs))).handle(function(n){if(n._hx_index==1){var e=n.failure;dn.get().error(e.message);process.exit(e.code)}})},dispatch:function(n){var e=function(){var n={cwd:null};return rn.gracefully(function(){return Dn.seek(n)})};var i;var t;i=n.indexOf("--wait");var s=i;if(s>=0&&s<n.length-1){var r;var f=n.splice(s,2).pop();var a;if(f==null){a=c.parseInt(f);var l=a;r=g.Port(l)}else if(f=="stdio"){r=g.Stdio}else{a=c.parseInt(f);var h=a;r=g.Port(h)}new _(r,e(),n)}else{t=n.slice(0,2);if(t.length==2){if(t[0]=="--run"){var w=t[1];if(w.indexOf("-")!=-1&&w.toLowerCase()==w){var d=n.slice(2);var u=e();switch(w){case"install-libs":var v;switch(d.length){case 0:v=false;break;case 1:v=d[0]=="--silent"?true:rn.die(422,"unexpected arguments "+c.string(d));break;default:v=rn.die(422,"unexpected arguments "+c.string(d))}this.installLibs(v);break;case"resolve-args":var o=$bind(u,u.resolve);var b=d;var N=rn.gracefully(function(){return o(b)}).join("\n");process.stdout.write(c.string(N));process.stdout.write("\n");process.exit(0);break;case"show-version":if(d.length>0){rn.die(422,"too many arguments")}var R;var S=rn.eval(u.haxeInstallation.compiler,u.cwd,["-version"]);switch(S._hx_index){case 0:var A=S.data;R=D.trim(A.stdout.toString()+A.stderr.toString());break;case 1:var B=S.failure;R=rn.die(B.code,B.message);break}process.stdout.write(c.string("-D haxe-ver="+R));process.stdout.write("\n");process.stdout.write(c.string("-cp "+u.haxeInstallation.stdLib));process.stdout.write("\n");break;default:var M=w;rn.die(404,"Unknown extension "+M)}}else{var E=n;var C=e();var W=E.indexOf("--haxe-version");if(E.indexOf("--connect")==-1){var T=W==-1}else if(W==-1){E.push("--haxe-version");E.push(C.haxeInstallation.version)}var Y=C.haxeInstallation.compiler;var G=Y;if(Nn.exists(G)){var q=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=i.result;var s=i.errors;return rn.dieFromErrors(s)}};var Z=function(n,e){var i=C.haxeInstallation.env();var t=rn.sync(G,e,n,i);switch(t._hx_index){case 0:var s=t.data;if(s!=0){var r=s;rn.die(r)}break;case 1:var f=t.failure;rn.die(f.code,f.message);break}};if(E.length==0){Z(E,C.cwd)}else{var V=0;var X=q(C.getBuilds(E));while(V<X.length){var j=X[V];++V;var J=q(j);q(J.checkClassPaths());var Q=[];var K=0;var y=J.args;while(K<y.length){var H=y[K];++K;Q.push(H.val)}Z(Q,J.cwd)}}}else{var O=Y;rn.die(404,'haxe compiler not found at the expected location "'+O+'"')}}}else{var I=n;var L=e();var z=I.indexOf("--haxe-version");if(I.indexOf("--connect")==-1){var m=z==-1}else if(z==-1){I.push("--haxe-version");I.push(L.haxeInstallation.version)}var P=L.haxeInstallation.compiler;var p=P;if(Nn.exists(p)){var U=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=i.result;var s=i.errors;return rn.dieFromErrors(s)}};var F=function(n,e){var i=L.haxeInstallation.env();var t=rn.sync(p,e,n,i);switch(t._hx_index){case 0:var s=t.data;if(s!=0){var r=s;rn.die(r)}break;case 1:var f=t.failure;rn.die(f.code,f.message);break}};if(I.length==0){F(I,L.cwd)}else{var x=0;var k=U(L.getBuilds(I));while(x<k.length){var $=k[x];++x;var nn=U($);U(nn.checkClassPaths());var en=[];var tn=0;var sn=nn.args;while(tn<sn.length){var fn=sn[tn];++tn;en.push(fn.val)}F(en,nn.cwd)}}}else{var an=P;rn.die(404,'haxe compiler not found at the expected location "'+an+'"')}}}else{var ln=n;var hn=e();var wn=ln.indexOf("--haxe-version");if(ln.indexOf("--connect")==-1){var cn=wn==-1}else if(wn==-1){ln.push("--haxe-version");ln.push(hn.haxeInstallation.version)}var dn=hn.haxeInstallation.compiler;var un=dn;if(Nn.exists(un)){var vn=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=i.result;var s=i.errors;return rn.dieFromErrors(s)}};var on=function(n,e){var i=hn.haxeInstallation.env();var t=rn.sync(un,e,n,i);switch(t._hx_index){case 0:var s=t.data;if(s!=0){var r=s;rn.die(r)}break;case 1:var f=t.failure;rn.die(f.code,f.message);break}};if(ln.length==0){on(ln,hn.cwd)}else{var bn=0;var Rn=vn(hn.getBuilds(ln));while(bn<Rn.length){var Sn=Rn[bn];++bn;var An=vn(Sn);vn(An.checkClassPaths());var Bn=[];var Mn=0;var En=An.args;while(Mn<En.length){var Cn=En[Mn];++Mn;Bn.push(Cn.val)}on(Bn,An.cwd)}}}else{var Wn=dn;rn.die(404,'haxe compiler not found at the expected location "'+Wn+'"')}}}},__class__:ln};var hn=function(){};e["haxeshim.Os"]=hn;hn.__name__="haxeshim.Os";hn.slashes=function(n){if(hn.IS_WINDOWS){return D.replace(n,"/","\\")}else{return n}};var wn=function(n,e,i){this.path=n;this.version=e;this.compiler=""+n+"/haxe"+wn.EXT;this.haxelib=""+n+"/haxelib"+wn.EXT;this.stdLib=""+n+"/std";this.haxelibRepo=i};e["haxeshim.HaxeInstallation"]=wn;wn.__name__="haxeshim.HaxeInstallation";wn.prototype={env:function(){var n=nn.ofVars({HAXE_STD_PATH:this.stdLib,HAXEPATH:this.path,HAXELIB_PATH:this.haxelibRepo,HAXE_VERSION:this.version});return nn.mergeInto(n,An.ENV)},__class__:wn};var cn=function(n){An.setEnv();this.scope=n;this.installation=n.haxeInstallation};e["haxeshim.HaxelibCli"]=cn;cn.__name__="haxeshim.HaxelibCli";cn.exit=function(n){switch(n._hx_index){case 0:var e=n.data;process.exit(0);break;case 1:var i=n.failure;rn.die(i.code,i.message);break}};cn.exitWithCode=function(n){switch(n._hx_index){case 0:var e=n.data;process.exit(e);break;case 1:var i=n.failure;rn.die(i.code,i.message);break}};cn.prototype={callHaxelib:function(n){cn.exitWithCode(rn.sync(this.installation.haxelib,process.cwd(),n,this.installation.env()))},run:function(n){var e=this;this.scope.getLibCommand(n).handle(function(i){switch(i._hx_index){case 0:var t=i.data;cn.exit(t());break;case 1:var s=i.failure;var r=["run"].concat(n);e.callHaxelib(r);break}})},__class__:cn};var dn=function(){};e["haxeshim.Logger"]=dn;dn.__name__="haxeshim.Logger";dn.get=function(n){if(n==null){n=false}if(n){if(dn.SILENT==null){dn.SILENT=new dn}return dn.SILENT}else{if(dn.DEFAULT==null){dn.DEFAULT=new un}return dn.DEFAULT}};dn.prototype={error:function(n){},warning:function(n){},info:function(n){},success:function(n){},progress:function(n){},__class__:dn};var un=function(){dn.call(this)};e["haxeshim._Logger.SysLogger"]=un;un.__name__="haxeshim._Logger.SysLogger";un.__super__=dn;un.prototype=$extend(dn.prototype,{log:function(n,e){this.progress("");var i=un.out;var t;switch(n._hx_index){case 0:t=[f.Red];break;case 1:t=[f.Yellow];break;case 2:t=[f.DefaultForeground];break;case 3:t=[f.Green];break}i.writeString(d.aset(t)+e+d.aset([f.Off])+"\n")},error:function(n){this.log(vn.Error,n)},warning:function(n){this.log(vn.Warning,n)},info:function(n){this.log(vn.Info,n)},success:function(n){this.log(vn.Success,n)},progress:function(n){if(un.isTTY){if(n.length>80){n=o.substr(n,0,77)+"..."}un.out.writeString((d.strip||d.stripIfUnavailable&&!d.available?"":"[2K")+(d.strip||d.stripIfUnavailable&&!d.available?"":"["+1+"G")+n)}},__class__:un});var vn=s["haxeshim._Logger.Level"]={__ename__:"haxeshim._Logger.Level",__constructs__:["Error","Warning","Info","Success"],Error:{_hx_index:0,__enum__:"haxeshim._Logger.Level",toString:t},Warning:{_hx_index:1,__enum__:"haxeshim._Logger.Level",toString:t},Info:{_hx_index:2,__enum__:"haxeshim._Logger.Level",toString:t},Success:{_hx_index:3,__enum__:"haxeshim._Logger.Level",toString:t}};var on=function(){};e["tink.core._Lazy.LazyObject"]=on;on.__name__="tink.core._Lazy.LazyObject";on.__isInterface__=true;on.prototype={__class__:on};var bn=function(n){this.value=n};e["tink.core._Lazy.LazyConst"]=bn;bn.__name__="tink.core._Lazy.LazyConst";bn.__interfaces__=[on];bn.prototype={get:function(){return this.value},map:function(n){var e=this;return new Te(function(){return n(e.value)})},__class__:bn};var Nn=function(){};e["sys.FileSystem"]=Nn;Nn.__name__="sys.FileSystem";Nn.exists=function(n){try{Rn.accessSync(n);return true}catch(n){var e=n instanceof Mn?n.val:n;return false}};Nn.isDirectory=function(n){try{return Rn.statSync(n).isDirectory()}catch(n){var e=n instanceof Mn?n.val:n;return false}};Nn.createDirectory=function(n){try{Rn.mkdirSync(n)}catch(s){var e=s instanceof Mn?s.val:s;if(e.code=="ENOENT"){Nn.createDirectory(Yn.dirname(n));Rn.mkdirSync(n)}else{var i;try{i=Rn.statSync(n)}catch(n){var t=n instanceof Mn?n.val:n;throw e}if(!i.isDirectory()){throw e}}}};Nn.deleteDirectory=function(n){if(Nn.exists(n)){var e=0;var i=Rn.readdirSync(n);while(e<i.length){var t=i[e];++e;var s=n+"/"+t;if(Nn.isDirectory(s)){Nn.deleteDirectory(s)}else{Rn.unlinkSync(s)}}Rn.rmdirSync(n)}};var Rn=i(747);var Sn=s["tink.core.Outcome"]={__ename__:"tink.core.Outcome",__constructs__:["Success","Failure"],Success:(r=function(n){return{_hx_index:0,data:n,__enum__:"tink.core.Outcome",toString:t}},r.__params__=["data"],r),Failure:(r=function(n){return{_hx_index:1,failure:n,__enum__:"tink.core.Outcome",toString:t}},r.__params__=["failure"],r)};var Dn=function(n,e,i,t){this.logger=dn.get(false);this.haxeshimRoot=n;this.isGlobal=e;this.scopeDir=i;this.scopeLibDir=""+i+"/haxe_libraries";this.cwd=t;this.configFile=""+i+"/"+Dn.CONFIG_FILE;this.versionDir=""+n+"/versions";this.haxelibRepo=""+n+"/haxelib";var s=process.env["HAXE_LIBCACHE"];var r=process.env["HAXESHIM_LIBCACHE"];var f;if(r==null){if(s==null){f=""+n+"/haxe_libraries"}else{var a=s;f=a}}else{var l=r;f=l}this.libCache=f};e["haxeshim.Scope"]=Dn;Dn.__name__="haxeshim.Scope";Dn.create=function(n,e){return an.save(""+n+"/"+Dn.CONFIG_FILE,fn.ofString(JSON.stringify(e,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:194,className:"haxeshim.Scope",methodName:"create"})};Dn.exists=function(n){return Nn.exists(""+n+"/"+Dn.CONFIG_FILE)};Dn.seek=function(n){if(n==null){n={}}var e;var i=n.cwd;if(i==null){e=process.cwd()}else{var t=i;e=t}var s;var r=n.startLookingIn;if(r==null){s=e}else{var f=r;s=f}var a;var l=n.haxeshimRoot;if(l==null){a=Dn.DEFAULT_ROOT}else{var h=l;a=h}var w=function(n,e,i,t){return new Dn(n,e,i,t)};var c=a;var d=e;var u=function(n,e){return w(c,n,e,d)};var v;var o=an.findNearest(Dn.CONFIG_FILE,Yn.resolve(s));switch(o._hx_index){case 0:var b=o.v;v=u(false,P.directory(b));break;case 1:v=u(true,a);break}v.reload();return v};Dn.env=function(n){var e=process.env[n];if(e==null){return O.None}else if(e==""){return O.None}else{var i=e;return O.Some(i)}};Dn.prototype={withLogger:function(n,e){var i=this;var t=this.logger;this.logger=n;return De.tryFinally(e,function(){return i.logger=t})},installLibs:function(){var n=this;return k.to("install libraries",function(){var e=n.getInstallationInstructions();var i=0;var t=e.missing;if(t.length!=0){var s=t;i=404;var r=0;while(r<s.length){var f=s[r];++r;n.logger.error(""+f.lib+" has no install instruction for missing classpath "+f.cp+"\n")}}var a=e.instructions.install.length+e.instructions.postInstall.length;var l=0;var h=0;var w=e.instructions.install;var c=0;while(c<w.length){var d=w[c];++c;n.logger.progress("["+ ++l+"/"+a+"] "+d);var u=rn.shell(d,process.cwd());if(u._hx_index==1){var v=u.failure;i=v.code}else{++h}}var o=e.instructions.postInstall;var b=0;while(b<o.length){var N=o[b];++b;n.logger.progress("["+ ++l+"/"+a+"] "+N);var R=rn.shell(N,process.cwd());if(R._hx_index==1){var S=R.failure;i=S.code}else{++h}}var D=a==1?"library":"libraries";if(i!=0){throw new Mn(new De(i,"Failed to install "+(a-h)+"/"+a+" "+D+".",{fileName:"haxeshim/Scope.hx",lineNumber:117,className:"haxeshim.Scope",methodName:"installLibs"}))}else if(a>0){n.logger.success("Installed "+a+" "+D+".")}return Be.Noise},{fileName:"haxeshim/Scope.hx",lineNumber:83,className:"haxeshim.Scope",methodName:"installLibs"})},reload:function(){var n;try{n=Rn.readFileSync(this.configFile,{encoding:"utf8"})}catch(n){throw new Mn(this.isGlobal?"Global config file "+this.configFile+" does not exist or cannot be opened":"Unable to open file "+this.configFile+" because "+c.string(n instanceof Mn?n.val:n))}var e;try{e=JSON.parse(n)}catch(e){var i=e instanceof Mn?e.val:e;new B(2).writeString("Invalid JSON in file "+this.configFile+":\n\n"+n+"\n\n");throw Mn.wrap(i)}this.setConfig(e)},setConfig:function(n){if(n.version==null){throw new Mn("No version set in "+this.configFile)}if(n.resolveLibs==null){n.resolveLibs=this.isGlobal?"mixed":"scoped"}var e=n.resolveLibs;switch(e){case"haxelib":case"mixed":case"scoped":break;default:var i=e;throw new Mn("invalid value "+i+" for `resolveLibs` in "+this.configFile)}this.config=n;this.haxeInstallation=this.getInstallation(n.version)},getVar:function(n){var e=process.env[n];if(e==null){return this.getDefault(n)}else if(e==""){return this.getDefault(n)}else{var i=e;return i}},getDefault:function(n){switch(n){case"CWD":return this.cwd;case"HAXESHIM_LIBCACHE":case"HAXE_LIBCACHE":return this.libCache;case"SCOPE_DIR":return this.scopeDir;default:return null}},delete:function(){Rn.unlinkSync(this.configFile)},reconfigure:function(n){var e=this;return qe.next(an.save(this.configFile,fn.ofString(JSON.stringify(n,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:201,className:"haxeshim.Scope",methodName:"reconfigure"}),function(i){e.setConfig(n);return new Me(new bn(Sn.Success(i)))})},path:function(n){if(P.isAbsolute(n)){return O.Some(n)}else if(D.startsWith(n,"./")||D.startsWith(n,"../")){return O.Some(""+this.cwd+"/"+n)}else{return O.None}},getInstallation:function(n){var e=this.path(n);switch(e._hx_index){case 0:var i=e.v;return new wn(i,n,this.haxelibRepo);case 1:return new wn(""+this.versionDir+"/"+n,n,this.haxelibRepo)}},resolveThroughHaxelib:function(n){var e=this.haxeInstallation.haxelib;var i=this.cwd;var t=[];var s=0;while(s<n.length){var r=n[s];++s;t.push(r.val)}var f=rn.eval(e,i,["path"].concat(t),this.haxeInstallation.env());switch(f._hx_index){case 0:var a=f.data;var l;var h=a.stderr;if(a.status==0){var w=a.stdout;return Ge.map(x.fromMultilineString(w,"haxelib path",$bind(this,this.getVar),true),function(n){var e=0;var i=n.length;while(e<i){var t=e++;if(n[t].val=="-L"){var s=function(e,i){var t=n[e].pos;var s=i(n[e].val);n[e]={pos:t,val:s}};s(t,function(n){return"-lib"});s(t+1,function(n){return"ndll:"+n})}}return n})}else{l=new De(a.status,a.stdout+a.stderr,{fileName:"haxeshim/Scope.hx",lineNumber:248,className:"haxeshim.Scope",methodName:"resolveThroughHaxelib"});var c=l;var d=new en;d.fail(c.message,tn.Custom("haxelib path"),c.code);return d.produce([])}break;case 1:var u=f.failure;var v=new en;v.fail(u.message,tn.Custom("haxelib path"),u.code);return v.produce([])}},interpolate:function(n,e){var i=this;var t;if(e==null){t=$bind(this,this.getVar)}else{var s=e;t=function(n){var e=s(n);if(e==null){return i.getVar(n)}else{var t=e;return t}}}return Ge.sure(x.interpolate(n,t))},parseDirectives:function(n){var e=new I;var i=0;var t=n.split("\n");var s=D.trim;var r=new Array(t.length);var f=0;var a=t.length;while(f<a){var l=f++;r[l]=s(t[l])}var h=r;while(i<h.length){var w=h[i];++i;if(D.startsWith(w,"#")){var c=D.ltrim(o.substr(w,1,null));if(D.startsWith(c,"@")){var d=c.indexOf(":");if(d!=-1){var u=d;var v=c.substring(1,u);var b;var N=ni[v]!=null?e.getReserved(v):e.h[v];if(N==null){var R=[];if(ni[v]!=null){e.setReserved(v,R)}else{e.h[v]=R}b=R}else{var S=N;b=S}b.push(this.interpolate(D.ltrim(o.substr(c,u+1,null))))}}}}return e},libHxml:function(n){return""+this.scopeLibDir+"/"+n+".hxml"},getDirectives:function(n){return qe.next(an.get(this.libHxml(n),{fileName:"haxeshim/Scope.hx",lineNumber:286,className:"haxeshim.Scope",methodName:"getDirectives"}),Ze.ofSafeSync($bind(this,this.parseDirectives)))},getLibCommand:function(n){var e=this;var i=[];var t=0;while(t<n.length){var s=n[t];++t;i.push(this.interpolate(s))}n=i;var r=n.shift();return qe.next(this.getDirectives(r),function(i){var t=ni["run"]!=null?i.getReserved("run"):i.h["run"];if(t==null){return new Me(new bn(Sn.Failure(new De(null,"no @run directive found for library "+r,{fileName:"haxeshim/Scope.hx",lineNumber:295,className:"haxeshim.Scope",methodName:"getLibCommand"}))))}else{switch(t.length){case 0:return new Me(new bn(Sn.Failure(new De(null,"no @run directive found for library "+r,{fileName:"haxeshim/Scope.hx",lineNumber:295,className:"haxeshim.Scope",methodName:"getLibCommand"}))));case 1:var s=t[0];var f=[e.interpolate(s)];var a=hn.IS_WINDOWS?function(n){return S.quoteWinArg(n,true)}:S.quoteUnixArg;var l=new Array(n.length);var h=0;var w=n.length;while(h<w){var c=h++;l[c]=a(n[c])}var d=f.concat(l).join(" ");var u=process.cwd();var v=e.haxeInstallation.env();return new Me(new bn(Sn.Success(function(){return rn.shell(d,u,v)})));default:return new Me(new bn(Sn.Failure(new De(null,"more than one @run directive for library "+r,{fileName:"haxeshim/Scope.hx",lineNumber:300,className:"haxeshim.Scope",methodName:"getLibCommand"}))))}}})},getInstallationInstructions:function(){var n=[];var e={install:[],postInstall:[]};if(Nn.exists(this.scopeLibDir)){var i=0;var t=Rn.readdirSync(this.scopeLibDir);while(i<t.length){var s=t[i];++i;var r=""+this.scopeLibDir+"/"+s;if(!Nn.isDirectory(r)&&D.endsWith(r,".hxml")){var f=Rn.readFileSync(r,{encoding:"utf8"});var a;var l=x.fromMultilineString(f,r,$bind(this,this.getVar));switch(l._hx_index){case 0:var h=l.data;var w=[];var c=0;while(c<h.length){var d=h[c];++c;w.push(d.val)}a=w;break;case 1:var u=l.failure;var v=u.errors;var o=u.result;var b=[];var N=0;while(N<o.length){var R=o[N];++N;b.push(R.val)}a=b;break}var S=0;var A=a.length;while(S<A)switch(a[S++]){case"--class-path":case"-cp":case"-p":var B=a[S++];if(!Nn.exists(B)){var M=this.parseDirectives(f);var E=ni["install"]!=null?M.getReserved("install"):M.h["install"];if(E==null){n.push({lib:s,cp:B})}else if(E.length==0){n.push({lib:s,cp:B})}else{var C=E;var W=0;while(W<C.length){var T=C[W];++W;e.install.push(T)}var Y=ni["post-install"]!=null?M.getReserved("post-install"):M.h["post-install"];if(Y!=null){var G=Y;var q=0;while(q<G.length){var Z=G[q];++q;e.postInstall.push(Z)}}}S=A}break;default:}}}}return{missing:n,instructions:e}},resolveArgs:function(n){var e=this.cwd;var i=function(n){if(P.isAbsolute(n)){return n}else{return P.join([e,n])}};e=i(n.cwd);var t=[];var s=[];var r=new en;var f=[];var a=[];var l=[];var h=0;n:while(h<n.args.length){var w=n.args[h++];switch(w.val){case"--run":l=n.args.slice(h-1);break n;case"--connect":case"--display":case"--server-connect":case"--server-listen":a.push(w);var c=n.args[h++];if(c==null){r.fail(""+w.val+" requires argument",w.pos)}else{var d=c;a.push(d)}break;case"--wait":a.push(w);break;default:f.push(w)}}var u=new I;n:while(f.length>0){var v=[f.shift()];var o=function(n){return function(e){r.fail(e,n[0].pos)}}(v);var b=v[0].val;switch(b){case"--connect":case"--cwd":case"--each":case"--next":case"--run":case"--wait":case"-C":var N=b;if(D.endsWith(N,".hxml")){f=x.readHxml(i(N),Dn.fs,$bind(this,this.getVar),r,v[0].pos).concat(f)}else{var R=b;o(""+R+" not allowed here");break n}break;case"--lib":case"-L":case"-lib":var S=f.shift();var A;if(S==null){o("-lib requires argument")}else{A=x.getNdll(S.val);if(A._hx_index==0){var B=A.v;var M=S;t.push(v[0]);t.push(M)}else{var E=S;var C=E.val;if(!(ni[C]!=null?u.getReserved(C):u.h[C])){var W=E.val;if(ni[W]!=null){u.setReserved(W,true)}else{u.h[W]=true}var T=this.config.resolveLibs;var Y;if(T=="haxelib"){s.push(E)}else{Y=T=="mixed";var G=Y;var q=this.libHxml(E.val);var Z=Dn.fs.readFile(q);switch(Z._hx_index){case 0:var V=Z.data;var X=x.fromMultilineString(V,q,$bind(this,this.getVar));f=r.getResult(X).concat(f);break;case 1:var j=Z.failure;if(Nn.exists(q)){o(j)}else if(G){s.push(E)}else{o("-lib "+E.val+" is missing "+q)}break}}}}}break;default:var J=b;if(D.endsWith(J,".hxml")){f=x.readHxml(i(J),Dn.fs,$bind(this,this.getVar),r,v[0].pos).concat(f)}else{t.push(v[0])}}}var Q=a.concat(t);var K=this.resolveThroughHaxelib(s);t=Q.concat(r.getResult(K)).concat(l);return r.produce(new Bn(e,t))},getBuilds:function(n){var e=new en;var i=[];var t=0;var s=e.getResult(x.split(n,this.cwd,Dn.fs,$bind(this,this.getVar)));while(t<s.length){var r=s[t];++t;if(r.args.length>0){i.push(this.resolveArgs(r))}}return e.produce(i)},resolve:function(n){var e=[];var i=new en;var t=0;var s=i.getResult(x.split(n,this.cwd,Dn.fs,$bind(this,this.getVar)));while(t<s.length){var r=s[t];++t;if(r.args.length>0){if(e.length!=0){e.push("--next")}if(r.cwd!=this.cwd){e.push("--cwd");e.push(r.cwd)}var f=0;var a=i.getResult(this.resolveArgs(r)).args;while(f<a.length){var l=a[f];++f;e.push(l.val)}}}var h=i.produce(42);if(h._hx_index==1){var w;w=h.failure.errors[0];var d=w;process.stdout.write(c.string(d.message));process.stdout.write("\n");var u;var v=d.code;if(v==null){u=500}else{var o=v;u=o}process.exit(u)}return e},__class__:Dn};var An=function(){};e["haxeshim.Neko"]=An;An.__name__="haxeshim.Neko";An.setEnv=function(){if(An.isset){if(hn.IS_WINDOWS){var n=0;var e=An.ENV;var i=e==null?[]:h.fields(e);while(n<i.length){var t=i[n];++n;var s=nn.get(An.ENV,t);process.env[t]=s}}An.isset=false}};var Bn=function(n,e){x.call(this,n,e)};e["haxeshim.ResolvedArgs"]=Bn;Bn.__name__="haxeshim.ResolvedArgs";Bn.__super__=x;Bn.prototype=$extend(x.prototype,{resolve:function(n){if(P.isAbsolute(n)){return n}else{return P.join([this.cwd,n])}},checkClassPaths:function(){var n=new en;var e=0;var i=this.args.length;while(e<i){var t=e++;switch(this.args[t].val){case"--class-path":case"-cp":case"-p":if(t+1<this.args.length){var s=this.args[t+1];try{Rn.readdirSync(this.resolve(s.val))}catch(e){var r=e instanceof Mn?e.val:e;n.fail("classpath "+s.val+" is not a directory or cannot be read from",s.pos)}}break;default:}}return n.produce(Be.Noise)},__class__:Bn});var Mn=function(n){Error.call(this);this.val=n;if(Error.captureStackTrace){Error.captureStackTrace(this,Mn)}};e["js._Boot.HaxeError"]=Mn;Mn.__name__="js._Boot.HaxeError";Mn.wrap=function(n){if(n instanceof Error){return n}else{return new Mn(n)}};Mn.__super__=Error;Mn.prototype=$extend(Error.prototype,{__class__:Mn});var En=function(){};e["js.lib._ArrayBuffer.ArrayBufferCompat"]=En;En.__name__="js.lib._ArrayBuffer.ArrayBufferCompat";En.sliceImpl=function(n,e){var i=new Uint8Array(this,n,e==null?null:e-n);var t=new Uint8Array(i.byteLength);t.set(i);return t.buffer};var Cn=i(605);var Wn=i(211);var Tn=i(631);var Yn=i(622);var Gn=i(835);var qn=i(293).Buffer;var Zn=function(){};e["js.node.buffer._Buffer.Helper"]=Zn;Zn.__name__="js.node.buffer._Buffer.Helper";Zn.bytesOfBuffer=function(n){var e=Object.create(L.prototype);e.length=n.byteLength;e.b=n;n.bufferValue=n;n.hxBytes=e;n.bytes=n;return e};var Vn=i(413).PassThrough;var Xn=function(){};e["lix.cli.Cli"]=Xn;Xn.__name__="lix.cli.Cli";Xn.main=function(){var n=Kn.ensureScope();var e=process.argv.slice(2);Qn.attempt(n,ue.fromNiladic(function(){Xn.dispatch(e)}))};Xn.dispatch=function(n){var e="haxe";var i="lix";var t="lix - Libraries for Haxe";var s="git+https://github.com/lix-pm/lix.git";var r="git";var f="https://github.com/lix-pm/lix#readme";var a={yauzl:"github:lix-pm/yauzl",tar:"^6.0.1","@zeit/ncc":"^0.20.4","graceful-fs":"^4.1.15"};var l="bin";var w="15.9.0";var d="back2dos";var v="node bin/postinstall.js";var b="ncc";var N="haxe --run Build";var R="MIT";var S="https://github.com/lix-pm/lix/issues";var A="bin/haxeshim.js";var B="bin/lix.js";var M="bin/haxelibshim.js";var E="bin/nekoshim.js";var C=w;var W=o.remove(n,"--silent");var T=o.remove(n,"--force");var Y=o.remove(n,"--global")||o.remove(n,"-g");var G=o.remove(n,"--flat");var q=Dn.seek({cwd:Y?Dn.DEFAULT_ROOT:null});var Z=jn.ofString("+tink install github:haxetink/tink_${0}");var V=jn.ofString("+coco install github:MVCoconut/coconut.${0}");n=Qn.expand(n,[Z,V,jn.ofString("+lib install haxelib:${0}")]);var X=function(e){var i=n.indexOf(e);if(i==-1){return null}else{var t=i;return n.splice(t,2)[1]}};var j=new se(X("--gl-private-token"));var J=X("--gh-credentials");var Q;var K;if(J==null){K=null}else{Q=J.split(":");if(Q.length==2){var y=Q[1];var H=Q[0];var L=""+H+":"+y;K=L}else{var z=J;K=rn.die(422,"`--gh-credentials "+z+"` should be `--gh-credentials <user>:<token>`")}}var m=new te(K);var p=Le._new(X("--haxelib-url"));var U=new fe([$bind(j,j.intercept),$bind(m,m.intercept)]);var F=[U,new re(p),m,j,new ie(q)];var x=new I;var k=0;while(k<F.length){var g=F[k];++k;var $=0;var _=g.schemes();while($<_.length){var nn=_[$];++$;if(ni[nn]!=null){x.setReserved(nn,g)}else{x.h[nn]=g}}}var en=x;var tn=function(n){var e=n.scheme;var i=ni[e]!=null?en.getReserved(e):en.h[e];if(i==null){return new Me(new bn(Sn.Failure(new De(null,"Unknown scheme in url "+de.toString(n),{fileName:"src/lix/cli/Cli.hx",lineNumber:52,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var t=i;return t.processUrl(n)}};var hn=dn.get(W);var wn=new _n(q,hn);var un=new Fn(q,tn,function(n){return new Me(new bn(Sn.Failure(new De(501,"not implemented",{fileName:"src/lix/cli/Cli.hx",lineNumber:63,className:"lix.cli.Cli",methodName:"dispatch"}))))},hn,T);var vn="lix - Libraries for Haxe (v"+C+")";var on=new Qn(Jn.ofString("install"),"<url> [as <lib[#ver]>]","install lib from specified url",function(n){if(q.isGlobal&&!Y){return new Me(new bn(Sn.Failure(new De(null,"Current scope is global. Please use --global if you intend to install globally, or create a local scope with `lix scope create`.",{fileName:"src/lix/cli/Cli.hx",lineNumber:73,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{switch(n.length){case 0:return new Me(new bn(Sn.Failure(new De(null,"Missing url",{fileName:"src/lix/cli/Cli.hx",lineNumber:84,className:"lix.cli.Cli",methodName:"dispatch"}))));case 1:var e=n[0];var i=e;if(de.fromString(i).scheme==null){return new Me(new bn(Sn.Failure(new De(null,"Did you mean `lix install haxelib:"+i+"`?",{fileName:"src/lix/cli/Cli.hx",lineNumber:81,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var t=e;return un.installUrl(de.fromString(t),null,{flat:G})}break;case 2:var s=n[0];if(s=="haxe"){var r=n[1];return wn.install(r,{force:T})}else{var f=s;if(de.fromString(f).scheme==null){return new Me(new bn(Sn.Failure(new De(null,"Did you mean `lix install haxelib:"+f+"`?",{fileName:"src/lix/cli/Cli.hx",lineNumber:81,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var a=n;return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:85,className:"lix.cli.Cli",methodName:"dispatch"}))))}}break;case 3:if(n[1]=="as"){var l=n[2];var h=n[0];var w=de.fromString(h);var c=Un.parse(l);return un.installUrl(w,c,{flat:G})}else{var d=n;return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:85,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;default:var u=n;return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:85,className:"lix.cli.Cli",methodName:"dispatch"}))))}}});var An=new Qn(Jn.ofString("install haxe"),"<version>|<alias>","install specified haxe version",null);var Bn=new Qn(Jn.ofString("use"),"haxe <version>|<alias>","use specified haxe version",function(n){if(n.length==2){if(n[0]=="haxe"){var e=n[1];return qe.next(wn.resolveInstalled(ne.ofString(e)),$bind(wn,wn.switchTo))}else{return new Me(new bn(Sn.Failure(new De(null,"invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:91,className:"lix.cli.Cli",methodName:"dispatch"}))))}}else{return new Me(new bn(Sn.Failure(new De(null,"invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:91,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Mn=new Qn(Jn.ofString("dev"),"<lib> <path>","use dev version of library",function(n){if(n.length==2){var e=n[1];var i=n[0];return un.dev(i,e)}else{return new Me(new bn(Sn.Failure(new De(null,"invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:95,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var En=new Qn(Jn.ofString("download haxe"),"<version>|<alias>","download specified haxe version",null);var Cn=new Qn(Jn.ofString("scope"),"[create|delete]","creates or deletes the current scope or\ninspects it if no argument is supplied",function(n){switch(n.length){case 0:hn.info((q.isGlobal?"[global]":"[local]")+(" "+q.scopeDir));return new Me(new bn(Sn.Success(Be.Noise)));case 1:switch(n[0]){case"create":return qe.next(Dn.create(q.cwd,{version:q.config.version,resolveLibs:q.isGlobal?"scoped":q.config.resolveLibs}),function(n){hn.success("created scope in "+q.cwd);return new Me(new bn(Sn.Success(Be.Noise)))});case"delete":if(q.isGlobal){return new Me(new bn(Sn.Failure(new De(null,"Cannot delete global scope",{fileName:"src/lix/cli/Cli.hx",lineNumber:110,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{q.delete();hn.success("deleted scope in "+q.scopeDir);return new Me(new bn(Sn.Success(Be.Noise)))}break;default:var e=n;return new Me(new bn(Sn.Failure(new De(null,"Invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:122,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;default:var i=n;return new Me(new bn(Sn.Failure(new De(null,"Invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:122,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Wn=new Qn(Jn.ofString("haxe-versions"),"","lists currently downloaded versions",function(n){if(n.length==0){return qe.next(wn.officialInstalled($n.IncludePrereleases),function(n){return qe.next(wn.nightliesInstalled(),function(e){var i=function(n){if(n==q.config.version){return" -> "+n}else{return"    "+n}};process.stdout.write("");process.stdout.write("\n");process.stdout.write("Official releases:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var t=$getIterator(n);while(t.hasNext()){var s=t.next();var r=i(s);process.stdout.write(c.string(r));process.stdout.write("\n")}if($getIterator(e).hasNext()){process.stdout.write("");process.stdout.write("\n");process.stdout.write("Nightly builds:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var f=$getIterator(e);while(f.hasNext()){var a=f.next();var l=i(a.hash)+u.format(a.published,"  (%Y-%m-%d %H:%M)");process.stdout.write(c.string(l));process.stdout.write("\n")}}process.stdout.write("");process.stdout.write("\n");return new Me(new bn(Sn.Success(Be.Noise)))})})}else{return new Me(new bn(Sn.Failure(new De(null,"command `list` does expect arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:159,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Tn=new Qn(Jn.ofString("download"),"[<url[#lib[#ver]]>]","download lib from url if specified,\notherwise download missing libs",function(n){switch(n.length){case 0:return qe.next(_n.ensureNeko(hn),function(n){var e=wn.resolveOnline(ne.ofString(q.config.version));var i=$bind(wn,wn.download);var t={force:false};return qe.next(qe.next(e,function(n){return i(n,t)}),function(n){new ln(q).installLibs(W);return new Me(new bn(Sn.Success(Be.Noise)))})});case 1:var e=de.fromString(n[0]);return qe.noise(un.downloadUrl(e));case 2:if(n[0]=="haxe"){var i=n[1];return qe.noise(wn.resolveAndDownload(i,{force:T}))}else{var t=n;return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:205,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 3:var s=n[2];var r=n[0];switch(n[1]){case"as":var f=s;var a=r;var l=D.replace(f,"#","/");var h=q.libCache+("/"+l);var w=function(n){if(n.length>40){return o.substr(n,0,37)+"..."}else{return n}};if(Nn.exists(h)){return new Me(new bn(Sn.Failure(new De(null,"`download <url> as <ver>` is no longer supported",{fileName:"src/lix/cli/Cli.hx",lineNumber:175,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var c=new Array(n.length);var d=0;var u=n.length;while(d<u){var v=d++;c[v]=w(n[v])}var b="Warning: Processing obsolete `download "+c.join(" ")+"`.\n        Please reinstall library in a timely manner!\n\n";hn.warning(b);return qe.noise(qe.next(qe.next(un.downloadUrl(de.fromString(a),{into:l}),function(n){var e=n;return Ee._tryMap(an.ensureDir(h),function(n){return e})}),function(n){Rn.renameSync(mn.getAbsRoot(n.storageRoot,n.relRoot),h);return new Me(new bn(Sn.Success(n)))}))}break;case"into":var N=s;var R=r;return qe.noise(un.downloadUrl(de.fromString(R),{into:N}));default:var S=n;return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:205,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;default:var A=n;return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:205,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Yn=new Qn(Jn.ofString("run"),"lib ...args","run a library",function(n){if(n.length==0){return new Me(new bn(Sn.Failure(new De(null,"no library specified",{fileName:"src/lix/cli/Cli.hx",lineNumber:209,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var e=n;return qe.noise(qe.next(q.getLibCommand(e),function(n){return new Me(new bn(n()))}))}});var Gn=new Qn(["--version","-v"],"","print version",function(n){if(n.length>0){return new Me(new bn(Sn.Failure(new De(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:215,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{process.stdout.write(c.string(C));process.stdout.write("\n");return new Me(new bn(Sn.Success(Be.Noise)))}});Qn.dispatch(n,vn,[on,An,Bn,Mn,En,Cn,Wn,Tn,Yn,Gn,new Qn(Jn.ofString("run-haxelib"),"path ...args","invoke a haxelib at a given path following haxelib's conventions",function(n){if(n.length==0){return new Me(new bn(Sn.Failure(new De(null,"no path supplied",{fileName:"src/lix/cli/Cli.hx",lineNumber:223,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{new cn(q).run(n.slice(1));return new Me(new bn(Sn.Success(Be.Noise)))}})],[],function(n){var e=n[0];var i;if(e==null){return O.None}else{switch(e){case"--library":case"--run":case"-L":case"-lib":return O.Some(function(){new ln(q).dispatch(n);return new Me(new bn(Sn.Success(Be.Noise)))});default:i=D.endsWith(e,".hxml");if(i==true){return O.Some(function(){new ln(q).dispatch(n);return new Me(new bn(Sn.Success(Be.Noise)))})}else{var t=e;if(Nn.exists(q.libHxml(t))){return O.Some(function(){new cn(q).run(n);return new Me(new bn(Sn.Success(Be.Noise)))})}else{var s=e;if(Xn.isClassName(s)){return O.Some(function(){var e=function(n){return P.join([q.scopeDir,n])};var i=function(n){var e=P.withoutDirectory(P.removeTrailingSlashes(q.scopeDir));var i={};return new Me(new bn({classPath:"",name:e,dependencies:i}))};var t=qe.next(an.get(e("haxelib.json"),{fileName:"src/lix/cli/Cli.hx",lineNumber:247,className:"lix.cli.Cli",methodName:"dispatch"}),function(n){var e=n;return new Me(new bn(De.catchExceptions(function(){return JSON.parse(e)},null,{fileName:"src/lix/cli/Cli.hx",lineNumber:248,className:"lix.cli.Cli",methodName:"dispatch"})))}).flatMap(function(n){switch(n._hx_index){case 0:var e=n.data;return new Me(new bn(e));case 1:var t=n.failure;return i(t)}});return Ee.next(t.gather(),function(i){var t=D.replace(s,".","/")+".hx";var r=[{file:t,args:["-cp",e("")]},{file:"scripts/"+t,args:["-cp",e("scripts")]}];var f=i.classPath;if(f!=null){if(f!=""){var a=f;var l=""+a+"/"+t;var w;if(Nn.exists(q.libHxml(i.name))){w=["-lib",i.name]}else{var c=[];var d=i.dependencies;if(d!=null){var u=d;var v=u;var b=v;var N=h.fields(v);var R=0;while(R<N.length){var S=N[R++];var A={value:b[S],key:S};var B=A.key;var M=A.value;c.push("-lib");c.push(B)}}w=c.concat(["-cp",e(a)])}r.push({file:l,args:w})}}var E=0;while(E<r.length){var C=[r[E]];++E;var W=P.join([q.scopeDir,C[0].file]);if(Nn.exists(W)!=false){var T=[W];return qe.next(an.get(T[0],{fileName:"src/lix/cli/Cli.hx",lineNumber:290,className:"lix.cli.Cli",methodName:"dispatch"}),function(e,i){return function(t){var r=[];var f=t.split("\n");var a=0;if(D.startsWith(f[0],"#!")){++a}while(true){var l=D.trim(f[a++]);if(l!=""){var h=l;if(D.startsWith(h,"//!")){var w=0;var c=o.substr(h,3,null).split(" ");while(w<c.length){var d=c[w];++w;var u=D.trim(d);if(u!=""){var v=u;r.push(v)}}}else{break}}}r=r.concat(i[0].args);var b=n.slice(1);var N=q.getBuilds(r);switch(N._hx_index){case 0:var R=N.data;if(R.length==1){var S=R[0];switch(S._hx_index){case 0:var A=S.data;var B=A.checkClassPaths();if(B._hx_index==1){var M=B.failure;var E=M.result;var C=M.errors;var W=C[0];return new Me(new bn(Sn.Failure(new De(W.code,sn.toString(W.pos)+": "+W.message,{fileName:"src/lix/cli/Cli.hx",lineNumber:320,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var T=A.args;var Y=A.cwd;var G=[];var Z=0;var V=T;while(Z<V.length){var X=V[Z];++Z;G.push(X.val)}var j=G;var J=null;var Q=0;var K=j.length-1;n:while(Q<K){var y=Q++;switch(j[y]){case"--define":case"-D":var H=j[y+1];var O;if(H=="hxnodejs"){var I=j.indexOf("-js");if(I==-1){var L=P.withExtension(P.withoutExtension(e[0]),"js");j=j.concat(["-js",L]);J=L}else{var z=I;J=j[z+1]}break n}else{O=D.startsWith(H,"hxnodejs=");if(O==true){var m=j.indexOf("-js");if(m==-1){var p=P.withExtension(P.withoutExtension(e[0]),"js");j=j.concat(["-js",p]);J=p}else{var U=m;J=j[U+1]}break n}}break;default:}}j=j.concat(J==null?["--run",s].concat(b):["-main",s]);var F=q.haxeInstallation.compiler;var x=q.haxeInstallation.env();var k=rn.sync(F,Y,j,x);switch(k._hx_index){case 0:var g=k.data;if(g==0){if(J==null){return new Me(new bn(Sn.Success(Be.Noise)))}else{return qe.next(qe.next(an.get(J,{fileName:"src/lix/cli/Cli.hx",lineNumber:354,className:"lix.cli.Cli",methodName:"dispatch"}),function(){return function(n){var e=['try { require("fs").unlinkSync(__filename); } catch (e) {}',n].join("\n");return an.save(J,fn.ofString(e),{fileName:"src/lix/cli/Cli.hx",lineNumber:356,className:"lix.cli.Cli",methodName:"dispatch"})}}()),function(){return function(n){var e=[J].concat(b);var i=rn.sync("node",Y,e);switch(i._hx_index){case 0:var t=i.data;if(t==0){return new Me(new bn(Sn.Success(Be.Noise)))}else{var s=t;return new Me(new bn(Sn.Failure(new De(s,"node exited with code "+s,{fileName:"src/lix/cli/Cli.hx",lineNumber:364,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 1:var r=i.failure;return new Me(new bn(Sn.Failure(r)))}}}())}}else{var $=g;return new Me(new bn(Sn.Failure(new De($,"haxe exited with code "+$,{fileName:"src/lix/cli/Cli.hx",lineNumber:369,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 1:var _=k.failure;return new Me(new bn(Sn.Failure(_)))}}break;case 1:var nn=S.failure;var en=nn.result;var tn=nn.errors;var ln=tn[0];return new Me(new bn(Sn.Failure(new De(ln.code,sn.toString(ln.pos)+": "+ln.message,{fileName:"src/lix/cli/Cli.hx",lineNumber:320,className:"lix.cli.Cli",methodName:"dispatch"}))))}}else{return new Me(new bn(Sn.Failure(new De(null,"multiple builds defined",{fileName:"src/lix/cli/Cli.hx",lineNumber:373,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 1:var hn=N.failure;var wn=hn.result;var cn=hn.errors;var dn=cn[0];return new Me(new bn(Sn.Failure(new De(dn.code,sn.toString(dn.pos)+": "+dn.message,{fileName:"src/lix/cli/Cli.hx",lineNumber:320,className:"lix.cli.Cli",methodName:"dispatch"}))))}}}(T,C))}}return new Me(new bn(Sn.Failure(new De(404,"Class not found: "+s,{fileName:"src/lix/cli/Cli.hx",lineNumber:380,className:"lix.cli.Cli",methodName:"dispatch"}))))})})}else{return O.None}}}}}}).handle(Qn.reportOutcome)};Xn.isClassName=function(n){var e=o.cca(n.split(".").pop(),0);if(e>=65){return e<=90}else{return false}};var jn={};e["lix.cli._Command.CommandExpander_Impl_"]=jn;jn.__name__="lix.cli._Command.CommandExpander_Impl_";jn.ofString=function(n){var e=n.indexOf(" ");if(e==-1){throw new Mn('invalid expander syntax in "'+n+'"')}else{var i=e;return jn.make(o.substr(n,0,i),o.substr(n,i+1,null))}};jn.make=function(n,e){var i=new v("\\$\\{([0-9]+)\\}","g");var t=[];var s=-1;i.map(e,function(n){t.pop();var e=n.matchedLeft();var i=n.matchedRight();t.push(function(n){return e});var r=c.parseInt(n.matched(1));if(r>s){s=r}t.push(function(n){return n[r]});t.push(function(n){return i});return""});var r=function(n){var e=[];var i=0;var s=[];var r=0;while(r<t.length){var f=t[r];++r;s.push(f(n))}var a=s.join("").split(" ");while(i<a.length){var l=a[i];++i;var h=D.trim(l);var w;if(h==""){continue}else{var c=h;w=c}e.push(w)}return e};return function(e){var i=0;var t=e.length;while(i<t){var f=i++;if(e[f]==n){var a=e.slice(0,f);var l=e.slice(f+1,f+s+2);return O.Some(a.concat(r(l)).concat(e.slice(f+s+2)))}}return O.None}};var Jn={};e["lix.cli._Command.CommandName_Impl_"]=Jn;Jn.__name__="lix.cli._Command.CommandName_Impl_";Jn.ofString=function(n){return[n]};Jn.toString=function(n){if(n.length==1){var e=n[0];return e}else{var i=n;return i.join(" / ")}};Jn.eq=function(n,e){return n.indexOf(e)!=-1};var Qn=function(n,e,i,t){this.name=n;this.args=e;this.doc=i;this.exec=t};e["lix.cli.Command"]=Qn;Qn.__name__="lix.cli.Command";Qn.attempt=function(n,e){var i=Ve.ofSync(Qn.reportError);var t=n.flatMap(function(n){switch(n._hx_index){case 0:var e=n.data;return new Me(new bn(e));case 1:var t=n.failure;return i(t)}});t.gather().handle(e)};Qn.reportError=function(n){dn.get().error(n.message);process.exit(n.code);return null};Qn.reportOutcome=function(n){if(n._hx_index==1){var e=n.failure;Qn.reportError(e)}};Qn.expand=function(n,e){var i=true;while(i){i=false;var t=0;while(t<e.length){var s=e[t];++t;var r=s(n);if(r._hx_index==0){var f=r.v;n=f;i=true}}}return n};Qn.dispatch=function(n,e,i,t,s){var r=n.shift();if(r==null){process.stdout.write(c.string(e));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var f=0;var a=0;while(a<i.length){var l=i[a];++a;var h=0;var w=0;var d=l.args.split("\n");while(w<d.length){var u=d[w];++w;if(u.length>h){h=u.length}}var v=h;var o=Jn.toString(l.name).length+v;if(o>f){f=o}}f+=7;var b=function(n){return D.lpad(n," ",f)};process.stdout.write("  Supported commands:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var N=0;while(N<i.length){var R=i[N];++N;var S=R.args.split("\n");var A="  "+Jn.toString(R.name);var B=S[0];var M;if(B==null){M=""}else if(B==""){M=""}else{var E=B;M=" "+E}S[0]=A+M+" : ";var C=1;var W=S.length;while(C<W){var T=C++;S[T]+="   "}var Y=R.doc.split("\n");while(S.length<Y.length)S.push("");while(S.length>Y.length)Y.push("");var G=0;var q=S.length;while(G<q){var Z=G++;var V=b(S[Z]);process.stdout.write(c.string(V+Y[Z]));process.stdout.write("\n")}}var X=0;while(X<t.length){var j=t[X];++X;process.stdout.write("");process.stdout.write("\n");process.stdout.write(c.string("  "+j.name));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var J=0;var Q=j.value;while(J<Q.length){var K=Q[J];++J;var y=b(""+K.name+" : ")+K.value;process.stdout.write(c.string(y));process.stdout.write("\n")}}process.stdout.write("");process.stdout.write("\n");return new Me(new bn(Sn.Success(Be.Noise)))}else{switch(r){case"--help":case"-help":case"/?":case"?":case"help":process.stdout.write(c.string(e));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var H=0;var O=0;while(O<i.length){var I=i[O];++O;var L=0;var z=0;var m=I.args.split("\n");while(z<m.length){var P=m[z];++z;if(P.length>L){L=P.length}}var p=L;var U=Jn.toString(I.name).length+p;if(U>H){H=U}}H+=7;var F=function(n){return D.lpad(n," ",H)};process.stdout.write("  Supported commands:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var x=0;while(x<i.length){var k=i[x];++x;var g=k.args.split("\n");var $="  "+Jn.toString(k.name);var _=g[0];var nn;if(_==null){nn=""}else if(_==""){nn=""}else{var en=_;nn=" "+en}g[0]=$+nn+" : ";var tn=1;var sn=g.length;while(tn<sn){var rn=tn++;g[rn]+="   "}var fn=k.doc.split("\n");while(g.length<fn.length)g.push("");while(g.length>fn.length)fn.push("");var an=0;var ln=g.length;while(an<ln){var hn=an++;var wn=F(g[hn]);process.stdout.write(c.string(wn+fn[hn]));process.stdout.write("\n")}}var cn=0;while(cn<t.length){var dn=t[cn];++cn;process.stdout.write("");process.stdout.write("\n");process.stdout.write(c.string("  "+dn.name));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var un=0;var vn=dn.value;while(un<vn.length){var on=vn[un];++un;var Nn=F(""+on.name+" : ")+on.value;process.stdout.write(c.string(Nn));process.stdout.write("\n")}}process.stdout.write("");process.stdout.write("\n");return new Me(new bn(Sn.Success(Be.Noise)));default:var Rn=r;var Dn=0;while(Dn<i.length){var An=i[Dn];++Dn;if(Jn.eq(An.name,Rn)){return An.exec(n)}}if(s!=null){n.unshift(Rn);var Bn=s(n);if(Bn._hx_index==0){var Mn=Bn.v;return Mn()}}return new Me(new bn(Sn.Failure(new De(404,"Unknown command "+Rn+". Try `lix help`.",{fileName:"src/lix/cli/Command.hx",lineNumber:201,className:"lix.cli.Command",methodName:"dispatch"}))))}}};Qn.prototype={__class__:Qn};var Kn=function(){};e["lix.cli.HaxeCmd"]=Kn;Kn.__name__="lix.cli.HaxeCmd";Kn.ensureScope=function(){if(Dn.exists(Dn.DEFAULT_ROOT)){return new Me(new bn(Sn.Success(Be.Noise)))}else{return Dn.create(Dn.DEFAULT_ROOT,{version:"stable",resolveLibs:"mixed"})}};var yn=s["lix.client.ArchiveKind"]={__ename__:"lix.client.ArchiveKind",__constructs__:["Zip","Tar","Custom"],Zip:{_hx_index:0,__enum__:"lix.client.ArchiveKind",toString:t},Tar:{_hx_index:1,__enum__:"lix.client.ArchiveKind",toString:t},Custom:(r=function(n){return{_hx_index:2,load:n,__enum__:"lix.client.ArchiveKind",toString:t}},r.__params__=["load"],r)};var Hn=s["lix.client.ArchiveDestination"]={__ename__:"lix.client.ArchiveDestination",__constructs__:["Fixed","Computed"],Fixed:(r=function(n){return{_hx_index:0,path:n,__enum__:"lix.client.ArchiveDestination",toString:t}},r.__params__=["path"],r),Computed:(r=function(n){return{_hx_index:1,f:n,__enum__:"lix.client.ArchiveDestination",toString:t}},r.__params__=["f"],r)};var On=s["lix.client.ArchiveDependency"]={__ename__:"lix.client.ArchiveDependency",__constructs__:["FromUrl","FromHxml"],FromUrl:(r=function(n){return{_hx_index:0,u:n,__enum__:"lix.client.ArchiveDependency",toString:t}},r.__params__=["u"],r),FromHxml:(r=function(n){return{_hx_index:1,path:n,__enum__:"lix.client.ArchiveDependency",toString:t}},r.__params__=["path"],r)};var In=function(n,e,i,t,s,r,f,a,l){this.name=n;this.version=e;this.classPath=i;this.hasNdll=t;this.runAs=s;this.dependencies=r;this.haxeshimDependencies=f;this.postDownload=a;this.postInstall=l};e["lix.client.ArchiveInfos"]=In;In.__name__="lix.client.ArchiveInfos";In.prototype={__class__:In};var Ln={};e["lix.client._Archives.HaxeshimDependencies_Impl_"]=Ln;Ln.__name__="lix.client._Archives.HaxeshimDependencies_Impl_";Ln.keyValueIterator=function(n){if(n==null){return o.iter([])}else{var e=n;return new p(e)}};var zn={};e["lix.client._Archives.ArchiveDependencies_Impl_"]=zn;zn.__name__="lix.client._Archives.ArchiveDependencies_Impl_";zn.ofHaxeshim=function(n){var e=[];var i=Ln.keyValueIterator(n);while(i.hasNext()){var t=i.next();var s=t.key;var r=t.value;e.push(new Ye(s,On.FromHxml(r)))}var f=e;f.sort(function(n,e){return h.compare(n.name,e.name)});return f};zn.ofMap=function(n){var e=[];var i=new p(n);while(i.hasNext()){var t=i.next();var s=t.key;var r=t.value;e.push(new Ye(s,r))}var f=e;f.sort(function(n,e){return h.compare(n.name,e.name)});return f};var mn=function(n,e,i,t){this.alreadyDownloaded=true;this.storageRoot=e;this.relRoot=n;this.job=i;this.infos=t};e["lix.client.DownloadedArchive"]=mn;mn.__name__="lix.client.DownloadedArchive";mn.getAbsRoot=function(n,e){return P.removeTrailingSlashes(""+n+"/"+e)};mn.escape=function(n){if(n==null){return null}var e=0;var i=mn.RESERVED.length;while(e<i){var t=e++;n=D.replace(n,mn.RESERVED.charAt(t),"_")}return n};mn.path=function(n){var e=mn.escape;var i=new Array(n.length);var t=0;var s=n.length;while(t<s){var r=t++;i[r]=e(n[r])}return i.join("/")};mn.fresh=function(n,e,i,t){var s=""+n+"/"+mn.seekRoot(n);return qe.next(mn.readInfos(s,t.lib),function(r){var f;if(i==null){var a=t.dest;var l;switch(a._hx_index){case 0:var h=a.path;l=h;break;case 1:var w=a.f;l=w(r);break}f=mn.path(l)}else{f=i}var c=new mn(f,e,t,r);c.alreadyDownloaded=false;var d=mn.getAbsRoot(c.storageRoot,c.relRoot);if(r.haxeshimDependencies!=null){var u=P.removeTrailingSlashes(s).length;var v=r.name;var b=r.version;var N=r.classPath;var R=r.hasNdll;var S=r.runAs;var D=r.dependencies;var A=new I;var B=Ln.keyValueIterator(r.haxeshimDependencies);while(B.hasNext()){var M=B.next();var E=M.key;var C=M.value;var W=d+o.substr(C,u,null);if(ni[E]!=null){A.setReserved(E,W)}else{A.h[E]=W}}var T=new In(v,b,N,R,S,D,A,r.postDownload,r.postInstall);c.infos=T}var Y=null;var G=mn.getAbsRoot(c.storageRoot,c.relRoot);var q=qe.next(qe.next(qe.next(qe.next(an.exists(G),function(n){if(n){Y=""+G+"-archived@"+(new Date).getTime();return an.move(G,Y)}else{return new Me(new bn(Sn.Success(Be.Noise)))}}),function(n){var e=mn.getAbsRoot(c.storageRoot,c.relRoot);return an.move(s,e)}),function(n){return an.delete(Y)}),function(e){return an.delete(n)});var Z=c;return Ee._tryMap(q,function(n){return Z})})};mn.existent=function(n,e,i){return qe.next(mn.readInfos(mn.getAbsRoot(e,n),i.lib),function(t){return new Me(new bn(Sn.Success(new mn(n,e,i,t))))})};mn.seekRoot=function(n){var e=Rn.readdirSync(n);if(e.length==1){var i=e[0];if(Nn.isDirectory(""+n+"/"+i)){return""+i+"/"+mn.seekRoot(""+n+"/"+i)}else{return""}}else{return""}};mn.readInfos=function(n,e){var i=Rn.readdirSync(n);var t=function(){if(i.indexOf("src")!=-1){return"src"}else if(i.indexOf("hx")!=-1){return"hx"}else{return""}};if(e==null){e=Un.UNDEFINED}var s;if(i.indexOf(".haxerc")!=-1&&i.indexOf("haxe_libraries")!=-1){var r=""+n+"/haxe_libraries";var f=new I;var a=0;var l=Rn.readdirSync(r);while(a<l.length){var w=l[a];++a;if(P.extension(w)=="hxml"){var c=P.withoutExtension(w);var d=""+r+"/"+w;if(ni[c]!=null){f.setReserved(c,d)}else{f.h[c]=d}}}s=f}else{s=null}var u=i.indexOf("ndll")!=-1;var v;if(i.indexOf("haxelib.json")!=-1){var o=JSON.parse(Rn.readFileSync(""+n+"/haxelib.json",{encoding:"utf8"}));var b=o.name;var N=o.version;var R;var S=o.classPath;if(S==null){R=""}else{var D=S;R=D}var A=o.dependencies;var B;if(A==null){B=zn.ofHaxeshim(new I)}else{var M=A;var E=new I;var C=M;var W=C;var T=h.fields(C);var Y=0;while(Y<T.length){var G=T[Y++];var q={value:W[G],key:G};var Z=q.key;var V=q.value;var X;var j;var J;switch(V){case"":case"*":J=de.fromString("haxelib:"+Z);break;default:X=de.fromString(V).scheme;if(X==null){var Q=V;J=de.fromString("haxelib:"+Z+"#"+Q)}else{j=de.fromString(V);var K=j.query==null?j.path:j.path+"?"+j.query;var y=j.scheme;var H=j.query;var L=j.payload;var z=j.path;var m=j.hosts;var p=j.host;var U=j.hash;var F=j.auth;if(y==null){var x=V;J=de.fromString(x)}else if(y=="git"){if(H==null){var k=de.fromString(L);var g=k.query==null?k.path:k.path+"?"+k.query;var $=k.scheme;var _=k.query;var nn=k.payload;var en=k.path;var tn=k.hosts;var sn=k.host;var rn=k.hash;var fn=k.auth;if(sn==null){var an=V;J=de.fromString(an)}else{var ln=Le.get_port(sn);var hn=Le.get_name(sn);if(hn==null){var wn=V;J=de.fromString(wn)}else{switch(hn){case"github.com":case"gitlab.com":if($==null){var cn=V;J=de.fromString(cn)}else if($=="https"){var dn=k;J=dn}else{var un=V;J=de.fromString(un)}break;default:var vn=V;J=de.fromString(vn)}}}}else{var on=de.fromString(L);var Dn=on.query==null?on.path:on.path+"?"+on.query;var An=on.scheme;var Bn=on.query;var Mn=on.payload;var En=on.path;var Cn=on.hosts;var Wn=on.host;var Tn=on.hash;var Yn=on.auth;if(Wn==null){var Gn=V;J=de.fromString(Gn)}else{var qn=Le.get_port(Wn);var Zn=Le.get_name(Wn);if(Zn==null){var Vn=V;J=de.fromString(Vn)}else{switch(Zn){case"github.com":case"gitlab.com":if(An==null){var Xn=V;J=de.fromString(Xn)}else if(An=="https"){var jn=on;J=jn}else{var Jn=V;J=de.fromString(Jn)}break;default:var Qn=V;J=de.fromString(Qn)}}}}}else{var Kn=V;J=de.fromString(Kn)}}}var yn=On.FromUrl(J);if(ni[Z]!=null){E.setReserved(Z,yn)}else{E.h[Z]=yn}}B=zn.ofMap(E)}v=new In(b,N,R,u,function(n){if(Nn.exists(""+n.libRoot+"/run.n")||o.mainClass!=null){return O.Some("haxelib run-dir "+o.name+" $"+"{DOWNLOAD_LOCATION}")}else{return O.None}},B,s,o.postDownload,o.postInstall)}else if(i.indexOf("package.json")!=-1){var Hn=JSON.parse(Rn.readFileSync(""+n+"/package.json",{encoding:"utf8"}));v=new In(Hn.name,Hn.version,t(),u,function(n){return O.None},zn.ofHaxeshim(s),null,null,null)}else{var Ln=e.name;var mn=new bn("untitled");var Pn;if(Ln._hx_index==0){var pn=Ln.v;Pn=pn}else{Pn=mn.get()}var Fn=e.version;var xn=new bn("0.0.0");var kn;if(Fn._hx_index==0){var gn=Fn.v;kn=gn}else{kn=xn.get()}v=new In(Pn,kn,t(),u,function(n){return O.None},zn.ofHaxeshim(s),null,null,null)}return new Me(new bn(Sn.Success(v)))};mn.prototype={__class__:mn};var Pn=i(766);var pn=function(){};e["lix.client.Download"]=pn;pn.__name__="lix.client.Download";pn.text=function(n){return qe.next(pn.bytes(n),function(n){return new Me(new bn(Sn.Success(n.toString())))})};pn.bytes=function(n){return pn.download(n,function(n,e,i){pn.buffered(e).handle(i)})};pn.buffered=function(n){return Ee.async(function(e){var i=[];n.on("data",$bind(i,$arrayPush));n.on("end",function(){var n=Sn.Success(Zn.bytesOfBuffer(qn.concat(i)));e(n)})})};pn.archive=function(n,e,i,t){var s=pn.withLogger(t,function(t,s,r){if(s.headers["content-type"]=="application/zip"||D.endsWith(n,".zip")||D.endsWith(t,".zip")){pn.unzip(n,i,e,s,r)}else{pn.untar(n,i,e,s,r)}});return pn.download(n,s)};pn.unzip=function(n,e,t,s,r){qe.next(pn.buffered(s),function(s){return Ee.async(function(f){var a=s.length-4;while(a-- >0)if(s.b[a]==80&&s.b[a+1]==75&&s.b[a+2]==5&&s.b[a+3]==6){s.b[a+20]=0;s.b[a+21]=0;s=s.sub(0,a+22);break}if(a==0){var l=Sn.Failure(new De(422,"Unzip failed to find central directory in "+n,{fileName:"src/lix/client/Download.hx",lineNumber:70,className:"lix.client.Download",methodName:"unzip"}));f(l);return}var h=s.b;Pn.fromBuffer(qn.from(h.buffer,h.byteOffset,s.length),function(s,a){var l=-1;var h=function(){l+=1;r.onProgress(l,a.entryCount,false);if(l==a.entryCount){var n=f;var i=Sn.Success(e);G.delay(function(){n(i)},100)}};if(s!=null){var w=Sn.Failure(new De(422,"Failed to unzip "+n+" because "+c.string(s),{fileName:"src/lix/client/Download.hx",lineNumber:83,className:"lix.client.Download",methodName:"unzip"}));f(w)}a.on("entry",function(n){var s=an.peel(pn.stripLeadingSlashes(n.fileName),t);switch(s._hx_index){case 0:var r=s.v;var f=""+e+"/"+r;if(D.endsWith(f,"/")){h()}else{an.ensureDir(f).eager();a.openReadStream(n,function(n,e){var t=i(598).createWriteStream(f);e.pipe(t,{end:true});t.on("close",h)})}break;case 1:break}});a.on("end",function(){a.close();h()})})})}).handle($bind(r,r.done))};pn.stripLeadingSlashes=function(n){if(n.charAt(0)=="/"){return pn.stripLeadingSlashes(o.substr(n,1,null))}else{return n}};pn.untar=function(n,e,t,s,r){return Ee.async(function(n){var f=0;var a=0;var l=[];var h=function(){r.onProgress(a,f+1,true)};var w=1;var c=function(i){if(i==null){i=0}a+=i;h();G.delay(function(){if((w-=1)<=0){r.onProgress(f,f,true);var i=[];var t=0;while(t<l.length){var s=[l[t]];++t;i.push(Ee.async(function(n){return function(e){Rn.unlink(n[0].to,function(n){return function(i){Rn.symlink(n[0].from,n[0].to,function(){return function(n){var i=n==null?Sn.Success(Be.Noise):Sn.Failure(new De(null,n.message,{fileName:"src/lix/client/Download.hx",lineNumber:142,className:"lix.client.Download",methodName:"untar"}));e(i)}}())}}(n))}}(s)))}qe.next(qe.inParallel(i),function(n){return new Me(new bn(Sn.Success(e)))}).handle(n)}},100)};var d=null;var u=function(e){d=new De(null,e,{fileName:"src/lix/client/Download.hx",lineNumber:154,className:"lix.client.Download",methodName:"untar"});n(Sn.Failure(d))};he.parse(s,function(s){if(d!=null){return}f+=s.size;h();var r=function(){s.on("data",function(){})};var a=an.peel(pn.stripLeadingSlashes(s.path),t);switch(a._hx_index){case 0:var u=a.v;var v=""+e+"/"+u;if(D.endsWith(v,"/")){r()}else{an.ensureDir(v).handle(function(e){if(e._hx_index==1){var t=e.failure;d=t;n(Sn.Failure(d))}else if(s.type=="SymbolicLink"){r();var f=P.directory(v);l.push({from:P.join([f,s.linkpath]),to:v})}else{w+=1;var a=new Vn;var h=i(598).createWriteStream(v,{mode:s.mode});s.pipe(a,{end:true});a.pipe(h,{end:true});var u=c;var o=s.size;h.on("close",function(){u(o)})}})}break;case 1:r();break}}).handle(function(e){if(e._hx_index==1){var i=e.failure;n(Sn.Failure(i))}else{c()}})}).handle($bind(r,r.done))};pn.tar=function(n,e,i,t){var s=i;var r=e;return pn.download(n,pn.withLogger(t,function(n,e,i){return pn.untar(n,s,r,e,i)}))};pn.zip=function(n,e,i,t){var s=i;var r=e;return pn.download(n,pn.withLogger(t,function(n,e,i){pn.unzip(n,s,r,e,i)}))};pn.withLogger=function(n,e){return function(i,t,s){var r=c.parseInt(t.headers["content-length"]);var f=0;var a=0;var l=1;var h=null;var w=function(e){if(e==h){return}h=e;n.progress(e)};var d=function(n){n=Math.min(1,Math.max(0,n));var e=c.string(Math.round(1e3*n)/10);var i;if(e.indexOf(".")==-1){var t=e;i=""+t+".0"}else{var s=e;i=s}return D.lpad(i," ",5)+"%"};var u=new Date(0).getTime();var v=function(){if(!(a==l||a/l>=1)){var n=(new Date).getTime();if(n>u+137){u=n;var e=[];if(f<r){e.push("Downloaded: "+d(f/r))}if(a>0){e.push("Saved: "+d(a/l))}var i="   "+e.join("   ");w(i)}}};t.on("data",function(n){f+=n.length;v()});var o=0;e(i,t,{onProgress:function(n,e,i){a=n;l=e;if(i){var t=f/r;var s=a/l;var h=t*s;if(h<o){h=o}o=h;a=Math.round(h*1e3);l=1e3}v()},done:function(e){n.success("-> Done!");s(e)}})}};pn.download=function(n,e){return Ee.async(function(i){var t=Gn.parse(n);t.agent=false;if(t.headers==null){t.headers={}}t.headers["user-agent"]=pn.USER_AGENT;var s=function(e){var t=Sn.Failure(De.withData(null,"Failed to download "+n+" because "+e.message,e,{fileName:"src/lix/client/Download.hx",lineNumber:293,className:"lix.client.Download",methodName:"download"}));i(t)};var r=D.startsWith(n,"https:")?Wn.get(t):Cn.get(t);r.setTimeout(3e4);r.on("error",s);r.on("response",function(r){if(r.statusCode>=400){var f=Sn.Failure(De.withData(r.statusCode,r.statusMessage,r,{fileName:"src/lix/client/Download.hx",lineNumber:304,className:"lix.client.Download",methodName:"download"}));i(f)}else{var a=r.headers["location"];if(a==null){r.on("error",s);e(n,r,function(n){switch(n._hx_index){case 0:var e=n.data;i(Sn.Success(e));break;case 1:var t=n.failure;i(Sn.Failure(t));break}})}else{var l=a;var h=Gn.parse(l);var w=h.slashes;var c=h.search;var d=h.query;var u=h.port;var v=h.pathname;var o=h.path;var b=h.href;var N=h.hostname;var R=h.host;var S=h.hash;var D=h.auth;pn.download(h.protocol==null?t.protocol+"//"+t.host+l:l,e).handle(i)}}})})};var Un=function(n,e){this.name=n;this.version=e};e["lix.client.LibVersion"]=Un;Un.__name__="lix.client.LibVersion";Un.parse=function(n){if(n==null){return null}else{var e=n.indexOf("#");if(e==-1){return new Un(O.Some(n),O.None)}else{var i=e;return new Un(O.Some(n.substring(0,i)),O.Some(n.substring(i+1)))}}};Un.prototype={__class__:Un};var Fn=function(n,e,i,t,s){this.scope=n;this.urlToJob=e;this.resolver=i;this.logger=t;this.force=s};e["lix.client.Libraries"]=Fn;Fn.__name__="lix.client.Libraries";Fn.prototype={downloadUrl:function(n,e){return this.downloadArchive(this.urlToJob(n),e)},downloadArchive:function(n,e){var i=this;if(e==null){e={}}var t=e.into==null?null:e.into;return qe.next(n,function(n){var e=null;if(t==null){var s=n.dest;switch(s._hx_index){case 0:var r=s.path;t=mn.path(r);break;case 1:var f=s.f;e=""+i.scope.libCache+"/.cache/libNames/"+mn.escape(de.toString(n.normalized));if(Nn.exists(e)){t=Rn.readFileSync(e,{encoding:"utf8"})}break}}var a=t!=null&&Nn.exists(""+i.scope.libCache+"/"+t);if(a&&!i.force){i.logger.success("already downloaded: "+de.toString(n.normalized));return mn.existent(t,i.scope.libCache,n)}else{i.logger.info(""+(a?"forcedly redownloading":"downloading")+" "+de.toString(n.normalized));var l=i.scope.haxeshimRoot+"/downloads/download@"+(new Date).getTime();var h=n.kind;var w;if(h==null){w=pn.archive(de.toString(n.url),0,l,i.logger)}else{switch(h._hx_index){case 0:w=pn.zip(de.toString(n.url),0,l,i.logger);break;case 1:w=pn.tar(de.toString(n.url),0,l,i.logger);break;case 2:var c=h.load;w=c({dest:l,logger:i.logger,source:n.normalized,scope:i.scope});break}}return qe.next(qe.next(w,function(e){return mn.fresh(e,i.scope.libCache,t,n)}),function(n){if(e!=null){var i=n;return Ee._tryMap(an.save(e,fn.ofString(n.relRoot),{fileName:"src/lix/client/Libraries.hx",lineNumber:59,className:"lix.client.Libraries",methodName:"downloadArchive"}),function(n){return i})}else{return new Me(new bn(Sn.Success(n)))}})}})},installUrl:function(n,e,i){return this.installArchive(this.urlToJob(n),e,i)},installFromLibHxml:function(n,e){var i=this;var t=this.scope.libHxml(n);return qe.next(qe.next(qe.next(qe.next(qe.next(qe.next(an.copy(e,""+this.scope.scopeLibDir+"/"+n+".hxml"),function(e){return i.scope.getDirectives(n)}),function(n){var t=ni["install"]!=null?n.getReserved("install"):n.h["install"];if(t==null){return new Me(new bn(Sn.Failure(new De(null,"No install directive in "+e,{fileName:"src/lix/client/Libraries.hx",lineNumber:75,className:"lix.client.Libraries",methodName:"installFromLibHxml"}))))}else if(t.length==0){return new Me(new bn(Sn.Failure(new De(null,"No install directive in "+e,{fileName:"src/lix/client/Libraries.hx",lineNumber:75,className:"lix.client.Libraries",methodName:"installFromLibHxml"}))))}else{var s=t;var r=[];var f=0;while(f<s.length){var a=[s[f]];++f;r.push(qe.next(qe.NOISE,function(n){return function(e){i.logger.info(n[0]);return new Me(new bn(rn.shell(n[0],i.scope.scopeDir)))}}(a)))}return qe.inSequence(r)}}),function(n){return an.get(e,{fileName:"src/lix/client/Libraries.hx",lineNumber:84,className:"lix.client.Libraries",methodName:"installFromLibHxml"})}),function(n){return new Me(new bn(Sn.Success(x.fromMultilineString(n,t,(r=i.scope,$bind(r,r.getVar))))))}),function(n){switch(n._hx_index){case 0:var e=n.data;var i=[];var t=0;while(t<e.length){var s=e[t];++t;i.push(s.val)}return new Me(new bn(Sn.Success(i)));case 1:var r=n.failure.errors[0];return new Me(new bn(Sn.Failure(new De(r.code,r.message,{fileName:"src/lix/client/Libraries.hx",lineNumber:88,className:"lix.client.Libraries",methodName:"installFromLibHxml"}))))}}),function(n){var e=[];var i=n;var t=0;var s=i.length;while(t<s){var r=t++;var f=i[r];if(f=="-lib"){e.push(n[r+1])}}return new Me(new bn(Sn.Success(e)))})},dev:function(n,e){var i=this;var t=P.isAbsolute(e);var s=t?e:P.join([this.scope.scopeDir,e]);var r=t?e:"$"+"{SCOPE_DIR}/"+e;var f=s;var a=De.catchExceptions(function(){return Rn.readdirSync(f)},null,{fileName:"src/lix/client/Libraries.hx",lineNumber:106,className:"lix.client.Libraries",methodName:"dev"});if(a._hx_index==0){var l=a.data;if(l.indexOf("haxelib.json")!=-1){var w=""+s+"/haxelib.json";return qe.next(qe.next(an.get(w,{fileName:"src/lix/client/Libraries.hx",lineNumber:110,className:"lix.client.Libraries",methodName:"dev"}),function(n){try{return new Me(new bn(Sn.Success(JSON.parse(n))))}catch(n){var e=n instanceof Mn?n.val:n;return new Me(new bn(Sn.Failure(new De(null,"cannot parse "+w,{fileName:"src/lix/client/Libraries.hx",lineNumber:113,className:"lix.client.Libraries",methodName:"dev"}))))}}),function(t){var s=[];if(t.dependencies!=null){var f=t.dependencies;var a=o.iter(h.fields(f));while(a.hasNext()){var w=a.next();var c=f[w];s.push("-lib "+w)}}var d=t.classPath;var u;if(d==null){u=e}else{var v=d;u=""+r+"/"+v}s.push("-cp "+u);var b=t.version;var N;if(b==null){N="dev"}else{var R=b;N=R}s.push("-D "+n+"="+N);var S=s.length;if(l.indexOf("extraParams.hxml")!=-1){s.push(""+r+"/extraParams.hxml")}s.push('--macro Sys.println("haxe_libraries/'+n+".hxml:"+S+": [Warning] Using dev version of library "+n+'")');return an.save(i.scope.libHxml(n),fn.ofString(s.join("\n")),{fileName:"src/lix/client/Libraries.hx",lineNumber:137,className:"lix.client.Libraries",methodName:"dev"})})}else{return new Me(new bn(Sn.Failure(new De(null,""+s+" does not contain haxelib.json",{fileName:"src/lix/client/Libraries.hx",lineNumber:141,className:"lix.client.Libraries",methodName:"dev"}))))}}else{return new Me(new bn(Sn.Failure(new De(null,""+s+" is not a readable directory",{fileName:"src/lix/client/Libraries.hx",lineNumber:143,className:"lix.client.Libraries",methodName:"dev"}))))}},installArchive:function(n,e,i){var t=this;if(i==null){i={}}if(i.alreadyInstalled==null){i.alreadyInstalled=new I}if(i.flat==null){i.flat=false}return qe.next(this.downloadArchive(n),function(n){var s;var r=""+mn.getAbsRoot(n.storageRoot,n.relRoot)+"/extraParams.hxml";s=Nn.exists(r)?Rn.readFileSync(r,{encoding:"utf8"}):null;if(e==null){e=new Un(O.None,O.None)}var f=n.infos;var a=e.name;var l=new bn(f.name);var h;if(a._hx_index==0){var w=a.v;h=w}else{h=l.get()}var c=e.version;var d=new bn(f.version);var u;if(c._hx_index==0){var v=c.v;u=v}else{u=d.get()}if(h==null){return new Me(new bn(Sn.Failure(new De(null,"Could not determine library name for "+de.toString(n.job.normalized),{fileName:"src/lix/client/Libraries.hx",lineNumber:173,className:"lix.client.Libraries",methodName:"installArchive"}))))}var b=t.scope.libHxml(h);var N="$"+"{"+"HAXE_LIBCACHE"+"}/"+n.relRoot;var R=function(n){return t.scope.interpolate(n,function(n){if(n=="DOWNLOAD_LOCATION"){return N}else{return null}})};var S=function(n,e,i){if(e!=null){e=R(e);if(i==null){i=t.scope.cwd}t.logger.info("Running "+n+" hook:");t.logger.info("> "+e);return new Me(new bn(Ge.map(rn.shell(e,t.scope.interpolate(i),t.scope.haxeInstallation.env()),function(n){return Be.Noise})))}else{return new Me(new bn(Sn.Success(Be.Noise)))}};var D=function(e){var r=["# @"+"install"+': lix --silent download "'+de.toString(n.job.normalized)+'" into '+n.relRoot];var a=f.postDownload;if(a!=null){var l=a;r.push("# @"+"post-install"+": cd "+N+" && "+R(l))}var w=f.runAs({libRoot:t.scope.interpolate(N)});switch(w._hx_index){case 0:var c=w.v;r.push("# @run: "+Ge.sure(x.interpolate(c,function(n){if(n=="DOWNLOAD_LOCATION"){return N}else{var e=n;return"$"+"{"+e+"}"}})));break;case 1:break}var d=function(n){var e=[];var i=0;while(i<n.length){var t=n[i];++i;if(t!=null){e.push(t)}}return e.join("\n")};var v=[];var o=0;var S=f.dependencies;while(o<S.length){var D=S[o];++o;v.push("-lib "+D.name)}var A=r.concat(v);var B="-cp "+N+"/"+f.classPath;var M="-D "+h+"="+u;var E=f.hasNdll?"-lib "+x.makeNdll(""+N+"/ndll/"):null;var C=d(A.concat([B,M,s,E]));return qe.next(an.save(b,fn.ofString(C),{fileName:"src/lix/client/Libraries.hx",lineNumber:228,className:"lix.client.Libraries",methodName:"installArchive"}),function(n){var t=i.alreadyInstalled;if(ni[h]!=null){t.setReserved(h,true)}else{t.h[h]=true}return new Me(new bn(Sn.Success(e)))})};var A=function(){if(i.flat){return qe.NOISE}else{var n=[];var e=o.iter(f.dependencies);while(e.hasNext()){var s=e.next();var r=[s.value];var a=[s.name];n.push(Ee.async(function(n,e){return function(s){var r;if(Nn.exists(""+t.scope.scopeLibDir+"/"+n[0]+".hxml")){var a=i.alreadyInstalled;r=ni[n[0]]!=null?a.getReserved(n[0]):a.h[n[0]]}else{r=false}if(r){s(Sn.Success(Be.Noise))}else{var l=f.haxeshimDependencies;var h;if(l==null){h=null}else{var w=l;h=ni[n[0]]!=null?w.getReserved(n[0]):w.h[n[0]]}switch(e[0]._hx_index){case 0:if(h==null){var c=e[0].u;qe.next(t.installUrl(c,new Un(O.Some(n[0]),O.None),i),function(n){return function(e){var t=i.alreadyInstalled;if(ni[n[0]]!=null){t.setReserved(n[0],true)}else{t.h[n[0]]=true}return new Me(new bn(Sn.Success(e)))}}(n)).handle(s)}else{var d=h;var u=null;u=function(){return function(n,e){var s=i.alreadyInstalled;if(ni[n]!=null?s.getReserved(n):s.h[n]){return new Me(new bn(Sn.Success(Be.Noise)))}else{return qe.noise(qe.next(t.installFromLibHxml(n,e),function(){return function(e){var t=i.alreadyInstalled;if(ni[n]!=null){t.setReserved(n,true)}else{t.h[n]=true}var s=[];var r=0;while(r<e.length){var a=e[r];++r;var l=f.haxeshimDependencies;var h;if(l==null){h=null}else{var w=l;h=ni[a]!=null?w.getReserved(a):w.h[a]}s.push(u(a,h))}return qe.inSequence(s)}}()))}}}();u(n[0],d).handle(s)}break;case 1:var v=e[0].path;var o=null;o=function(){return function(n,e){var s=i.alreadyInstalled;if(ni[n]!=null?s.getReserved(n):s.h[n]){return new Me(new bn(Sn.Success(Be.Noise)))}else{return qe.noise(qe.next(t.installFromLibHxml(n,e),function(){return function(e){var t=i.alreadyInstalled;if(ni[n]!=null){t.setReserved(n,true)}else{t.h[n]=true}var s=[];var r=0;while(r<e.length){var a=e[r];++r;var l=f.haxeshimDependencies;var h;if(l==null){h=null}else{var w=l;h=ni[a]!=null?w.getReserved(a):w.h[a]}s.push(o(a,h))}return qe.inSequence(s)}}()))}}}();o(n[0],v).handle(s);break}}}}(a,r),true))}return Ee.next(Ee.ofMany(n),function(n){var e=[];var i=o.iter(n);while(i.hasNext()){var t=i.next();if(t._hx_index==1){var s=t.failure;e.push(s)}}var r=e;if(r.length==0){return new Me(new bn(Sn.Success(Be.Noise)))}else{var f=r;var a="Failed to install dependencies of "+h+" :\n  ";var l=new Array(f.length);var w=0;var c=f.length;while(w<c){var d=w++;l[d]=f[d].message}return new Me(new bn(Sn.Failure(De.withData(null,a+l.join("\n  "),f,{fileName:"src/lix/client/Libraries.hx",lineNumber:285,className:"lix.client.Libraries",methodName:"installArchive"}))))}})}};return qe.next(qe.next(qe.next(qe.next(qe.next(D(),function(n){t.logger.success("-> mounted as "+h+"#"+u);return new Me(new bn(Sn.Success(Be.Noise)))}),function(n){return A()}),function(e){if(!n.alreadyDownloaded){return S("post download",f.postDownload,N)}else{return new Me(new bn(Sn.Success(Be.Noise)))}}),D),function(n){return S("post install",f.postInstall)})})},__class__:Fn};var xn={};e["lix.client.haxe._Official.Official_Impl_"]=xn;xn.__name__="lix.client.haxe._Official.Official_Impl_";xn.get_isPrerelease=function(n){return n.indexOf("-")!=-1};xn.isNumber=function(n){return new v("^[0-9]*$","").match(n)};xn.fragment=function(n,e){if(xn.isNumber(n)&&xn.isNumber(e)){return c.parseInt(n)-c.parseInt(e)}else{return h.compare(n,e)}};xn.compare=function(n,e){var i=n.split("-");var t=e.split("-");var s=0;while(s<i.length&&s<t.length){var r=i[s].split(".");var f=t[s++].split(".");var a=0;while(a<r.length&&a<f.length){var l=xn.fragment(r[a],f[a]);if(l==0){++a}else{var h=l;return-h}}var w=r.length-f.length;if(w!=0){var c=w;return-c}}return(i.length-t.length)*(s==1?1:-1)};var kn=s["lix.client.haxe.ResolvedUserVersionData"]={__ename__:"lix.client.haxe.ResolvedUserVersionData",__constructs__:["RNightly","ROfficial","RCustom"],RNightly:(r=function(n){return{_hx_index:0,nightly:n,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},r.__params__=["nightly"],r),ROfficial:(r=function(n){return{_hx_index:1,version:n,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},r.__params__=["version"],r),RCustom:(r=function(n){return{_hx_index:2,path:n,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},r.__params__=["path"],r)};var gn={};e["lix.client.haxe._ResolvedVersion.ResolvedVersion_Impl_"]=gn;gn.__name__="lix.client.haxe._ResolvedVersion.ResolvedVersion_Impl_";gn.get_id=function(n){switch(n._hx_index){case 0:var e=n.nightly;var i=e.published;var t=e.file;var s=e.development;var r=e.hash;return r;case 1:var f=n.version;return f;case 2:var a=n.path;return a}};gn.toString=function(n){return ne.toString(ne.ofResolved(n))};var $n=s["lix.client.haxe.PickOfficial"]={__ename__:"lix.client.haxe.PickOfficial",__constructs__:["StableOnly","IncludePrereleases"],StableOnly:{_hx_index:0,__enum__:"lix.client.haxe.PickOfficial",toString:t},IncludePrereleases:{_hx_index:1,__enum__:"lix.client.haxe.PickOfficial",toString:t}};var _n=function(n,e){this.scope=n;this.logger=e;an.ensureDir(P.addTrailingSlash(n.versionDir)).eager();an.ensureDir(P.addTrailingSlash(n.haxelibRepo)).eager();an.ensureDir(this.downloads=n.haxeshimRoot+"/downloads/").eager()};e["lix.client.haxe.Switcher"]=_n;_n.__name__="lix.client.haxe.Switcher";_n.linkToNightly=function(n,e,i){if(i==null){var t=_n.PLATFORM=="windows"&&e.getTime()>14944608e5?"zip":"tar.gz";i=u.format(e,"haxe_%Y-%m-%d_development_"+n+"."+t)}return u.format(e,""+_n.NIGHTLIES+"/"+_n.PLATFORM+"/"+i)};_n.sortedOfficial=function(n,e){if(n==$n.StableOnly){var i=[];var t=0;while(t<e.length){var s=e[t];++t;if(!xn.get_isPrerelease(s)){i.push(s)}}e=i}e.sort(xn.compare);return e};_n.officialOnline=function(n){return qe.next(pn.text("https://haxe.org/website-content/downloads/versions.json"),function(e){var i=JSON.parse(e).versions.map(function(n){return n.version});return new Me(new bn(Sn.Success(_n.sortedOfficial(n,i))))})};_n.sortedNightlies=function(n){n.sort(function(n,e){return h.compare(e.published.getTime(),n.published.getTime())});return n};_n.nightliesOnline=function(){return qe.next(pn.text(""+_n.NIGHTLIES+"/"+_n.PLATFORM+"/"),Ze.ofSafeSync(function(n){var e=n.split("------------------\n").pop().split("\n");var i=[];var t=function(n){try{return O.Some(o.strDate(n))}catch(n){var e=n instanceof Mn?n.val:n;return O.None}};var s=0;while(s<e.length){var r=e[s];++s;var f=D.trim(r).split('<a href="');if(f.length==2){var a=f[1];var l=t(f[0].split("  ")[0]);if(l._hx_index==0){var h;h=a.split('"')[0];var w=h;var c=l.v;var d=w.split(".")[0].split("_").pop();if(d==null){var u=d;i.push({hash:u,file:w,development:w.indexOf("_development_")!=-1,published:c})}else if(d!="latest"){var v=d;i.push({hash:v,file:w,development:w.indexOf("_development_")!=-1,published:c})}}}}return _n.sortedNightlies(i)}))};_n.attempt=function(n,e){try{return new Me(new bn(Sn.Success(e.get())))}catch(e){return new Me(new bn(Sn.Failure(new De(null,"Failed to "+n+" because "+c.string(e instanceof Mn?e.val:e),{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:106,className:"lix.client.haxe.Switcher",methodName:"attempt"}))))}};_n.pickFirst=function(n,e,i){if(i==null){return _n.pickFirst(n,e,function(n){return true})}else{return function(t){var s=$getIterator(t);while(s.hasNext()){var r=s.next();if(i(r)){return new Me(new bn(Sn.Success(e(r))))}}return new Me(new bn(Sn.Failure(new De(404,"No "+n+" build found",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:140,className:"lix.client.haxe.Switcher",methodName:"pickFirst"}))))}}};_n.ensureNeko=function(n){var e=An.PATH;if(Nn.exists(e)){return new Me(new bn(Sn.Success(e)))}else{n.info("Neko seems to be missing. Attempting download ...");var i;switch(a.systemName()){case"Mac":i=pn.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-osx64.tar.gz",1,e,n);break;case"Windows":i=pn.zip("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-win.zip",1,e,n);break;default:i=pn.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-linux64.tar.gz",1,e,n)}return qe.next(i,function(e){n.success("done");return new Me(new bn(Sn.Success(e)))})}};_n.prototype={officialInstalled:function(n){var e=[];var i=0;var t=Rn.readdirSync(this.scope.versionDir);while(i<t.length){var s=t[i];++i;if(!ne.isHash(s)&&Nn.isDirectory(this.versionDir(s))){e.push(s)}}return _n.attempt("Get installed Haxe versions",new bn(_n.sortedOfficial(n,e)))},nightliesInstalled:function(){var n=[];var e=0;var i=ne.isHash;var t=[];var s=0;var r=Rn.readdirSync(this.scope.versionDir);while(s<r.length){var f=r[s];++s;if(i(f)){t.push(f)}}var a=t;while(e<a.length){var l=a[e];++e;n.push({hash:l,published:o.strDate(JSON.parse(Rn.readFileSync(""+this.versionDir(l)+"/"+_n.VERSION_INFO,{encoding:"utf8"})).published)})}return _n.attempt("get installed Haxe versions",new bn(_n.sortedNightlies(n)))},switchTo:function(n){if(gn.get_id(n)==this.scope.config.version){return new Me(new bn(Sn.Success(Be.Noise)))}else{return this.scope.reconfigure({version:gn.get_id(n),resolveLibs:this.scope.config.resolveLibs})}},resolveInstalled:function(n){return this.resolve(n,$bind(this,this.officialInstalled),$bind(this,this.nightliesInstalled))},resolveOnline:function(n){return this.resolve(n,_n.officialOnline,_n.nightliesOnline)},resolve:function(n,e,i){switch(n._hx_index){case 0:return qe.next(i(),_n.pickFirst("nightly",kn.RNightly,function(n){return n.development!=false}));case 1:return qe.next(e($n.IncludePrereleases),_n.pickFirst("official",kn.ROfficial));case 2:return qe.next(e($n.StableOnly),_n.pickFirst("stable",kn.ROfficial));case 3:var t=n.hash;return qe.ofSpecific(qe.next(i(),function(e){var i=$getIterator(e);while(i.hasNext()){var s=i.next();if(s.hash==t){return new Me(new bn(Sn.Success(kn.RNightly(s))))}}return new Me(new bn(Sn.Failure(new De(404,"Unable to resolve nightly version "+ne.toString(n)+" locally, install it first with `lix install haxe "+ne.toString(n)+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:165,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}));case 4:var s=n.version;return qe.ofSpecific(qe.next(e($n.IncludePrereleases),function(n){if(N.has(n,s)){return new Me(new bn(Sn.Success(kn.ROfficial(s))))}else{return new Me(new bn(Sn.Failure(new De(404,"Unable to resolve version "+s+" locally, install it first with `lix install haxe "+s+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:173,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}}));case 5:var r=n.path;return new Me(new bn(Sn.Success(kn.RCustom(r))))}},versionDir:function(n){return this.scope.getInstallation(n).path},isDownloaded:function(n){return Nn.exists(this.versionDir(gn.get_id(n)))},linkToOfficial:function(n){var e="https://haxe.org/website-content/downloads/"+n+"/downloads/haxe-"+n+"-";var i;switch(a.systemName()){case"Mac":i="osx.tar.gz";break;case"Windows":i="win.zip";break;default:i=n<"3"?"linux.tar.gz":"linux64.tar.gz"}return e+i},replace:function(n,e,i,t){var s=e;while(true){var r=an.ls(e);if(r.length==1){var f=r[0];e=f}else{break}}if(t!=null){t(e)}if(Nn.exists(n)){var a=""+this.downloads+"/"+i+"@"+Math.floor(Rn.statSync(n).ctime.getTime());Rn.renameSync(n,a);Rn.renameSync(e,n)}else{Rn.renameSync(e,n)}if(Nn.exists(s)){an.delete(s)}},install:function(n,e){return qe.next(this.resolveAndDownload(n,e),$bind(this,this.switchTo))},resolveAndDownload:function(n,e){var i=this;var t;var s=ne.ofString(n);if(s._hx_index==4){var r=s.version;t=this.resolveInstalled(ne.ofString(n))}else{t=new Me(new bn(Sn.Failure(new De(null,""+n+" needs to be resolved online",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:231,className:"lix.client.haxe.Switcher",methodName:"resolveAndDownload"}))))}var f=function(e){i.logger.info('Looking up Haxe version "'+n+'" online');return qe.next(i.resolveOnline(ne.ofString(n)),function(n){i.logger.info("  Resolved to "+gn.toString(n)+". Downloading ...");return new Me(new bn(Sn.Success(n)))})};var a=t.flatMap(function(n){switch(n._hx_index){case 0:var e=n.data;return new Me(new bn(n));case 1:var i=n.failure;return f(i)}});return qe.next(a.gather(),function(n){return qe.next(i.download(n,e),function(e){i.logger.success(!e?"  ... already downloaded!":"  ... download complete!");return new Me(new bn(Sn.Success(n)))})})},download:function(n,e){var i=this;if(this.isDownloaded(n)==true){if(e.force!=true){return new Me(new bn(Sn.Success(false)))}else{switch(n._hx_index){case 0:var t=n.nightly;var s=t.development;var r=t.published;var f=t.hash;var a=t.file;var l=_n.linkToNightly(f,r,a);var h=""+this.downloads+"/"+f+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));return qe.next(pn.archive(l,0,h,i.logger),function(n){var e=i.versionDir(f);i.replace(e,n,f,function(n){Rn.writeFileSync(""+n+"/"+_n.VERSION_INFO,JSON.stringify({published:o.dateStr(r)}))});return new Me(new bn(Sn.Success(true)))});case 1:var w=n.version;var c=this.linkToOfficial(w);var d=""+this.downloads+"/"+w+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));var u=pn.archive(c,0,d,i.logger);return qe.next(u,function(n){var e=i.versionDir(w);i.replace(e,n,w);return new Me(new bn(Sn.Success(true)))});case 2:var v=n.path;return new Me(new bn(Sn.Failure(new De(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}}else{switch(n._hx_index){case 0:var b=n.nightly;var N=b.development;var R=b.published;var S=b.hash;var D=b.file;var A=_n.linkToNightly(S,R,D);var B=""+this.downloads+"/"+S+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));return qe.next(pn.archive(A,0,B,i.logger),function(n){var e=i.versionDir(S);i.replace(e,n,S,function(n){Rn.writeFileSync(""+n+"/"+_n.VERSION_INFO,JSON.stringify({published:o.dateStr(R)}))});return new Me(new bn(Sn.Success(true)))});case 1:var M=n.version;var E=this.linkToOfficial(M);var C=""+this.downloads+"/"+M+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));var W=pn.archive(E,0,C,i.logger);return qe.next(W,function(n){var e=i.versionDir(M);i.replace(e,n,M);return new Me(new bn(Sn.Success(true)))});case 2:var T=n.path;return new Me(new bn(Sn.Failure(new De(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}},__class__:_n};var ne={};e["lix.client.haxe._UserVersion.UserVersion_Impl_"]=ne;ne.__name__="lix.client.haxe._UserVersion.UserVersion_Impl_";ne.ofResolved=function(n){switch(n._hx_index){case 0:var e=n.nightly;var i=e.published;var t=e.file;var s=e.development;var r=e.hash;return ee.UNightly(r);case 1:var f=n.version;return ee.UOfficial(f);case 2:var a=n.path;return ee.UCustom(a)}};ne.isHash=function(n){var e=0;var i=n.length;while(e<i){var t=e++;var s=ne.hex;var r=n.charCodeAt(t);if(!s.h[r]){return false}}return true};ne.toString=function(n){switch(n._hx_index){case 0:return"latest nightly build";case 1:return"latest official";case 2:return"latest stable release";case 3:var e=n.hash;return"nightly build "+e;case 4:var i=n.version;return"official release "+i;case 5:var t=n.path;return"custom version at `"+t+"`"}};ne.isPath=function(n){if(!P.isAbsolute(n)){return n.charAt(0)=="."}else{return true}};ne.ofString=function(n){if(n==null){return null}else{var e;var i;if(n==null){e=ne.isHash(n);if(e==true){return ee.UNightly(n)}else{i=ne.isPath(n);if(i==true){return ee.UCustom(n)}else{return ee.UOfficial(n)}}}else{switch(n){case"auto":return null;case"latest":return ee.ULatest;case"edge":case"nightly":return ee.UEdge;case"stable":return ee.UStable;default:e=ne.isHash(n);if(e==true){return ee.UNightly(n)}else{i=ne.isPath(n);if(i==true){return ee.UCustom(n)}else{return ee.UOfficial(n)}}}}}};var ee=s["lix.client.haxe.UserVersionData"]={__ename__:"lix.client.haxe.UserVersionData",__constructs__:["UEdge","ULatest","UStable","UNightly","UOfficial","UCustom"],UEdge:{_hx_index:0,__enum__:"lix.client.haxe.UserVersionData",toString:t},ULatest:{_hx_index:1,__enum__:"lix.client.haxe.UserVersionData",toString:t},UStable:{_hx_index:2,__enum__:"lix.client.haxe.UserVersionData",toString:t},UNightly:(r=function(n){return{_hx_index:3,hash:n,__enum__:"lix.client.haxe.UserVersionData",toString:t}},r.__params__=["hash"],r),UOfficial:(r=function(n){return{_hx_index:4,version:n,__enum__:"lix.client.haxe.UserVersionData",toString:t}},r.__params__=["version"],r),UCustom:(r=function(n){return{_hx_index:5,path:n,__enum__:"lix.client.haxe.UserVersionData",toString:t}},r.__params__=["path"],r)};var ie=function(n){this.scope=n};e["lix.client.sources.Git"]=ie;ie.__name__="lix.client.sources.Git";ie.strip=function(n){if(D.endsWith(n,".git")){return P.withoutExtension(n)}else{return n}};ie.eval=function(n,e,i,t){var s=l.spawnSync(n,i,{cwd:e,stdio:["inherit","pipe","inherit"],env:nn.toVars(rn.mergeEnv(t))});var r=s;if(r.error==null){return Sn.Success({status:r.status,stdout:r.stdout.toString()})}else{var f=s.stdout;var a=s.stderr;var h=s.status;var w=s.signal;var d=s.pid;var u=s.output;var v=s.error;return Sn.Failure(new De(null,"Failed to call "+n+" because "+c.string(v),{fileName:"src/lix/client/sources/Git.hx",lineNumber:25,className:"lix.client.sources.Git",methodName:"eval"}))}};ie.cli=function(n){an.ensureDir(P.addTrailingSlash(n)).eager();return{call:function(e){return qe.next(new Me(new bn(rn.sync("git",n,e))),function(n){if(n==0){return new Me(new bn(Sn.Success(Be.Noise)))}else{return new Me(new bn(Sn.Failure(new De(n,"git "+e[0]+" failed",{fileName:"src/lix/client/sources/Git.hx",lineNumber:33,className:"lix.client.sources.Git",methodName:"cli"}))))}})},eval:function(e){return qe.next(new Me(new bn(ie.eval("git",n,e))),function(n){var i=n.stdout;if(n.status==0){return new Me(new bn(Sn.Success(n.stdout.toString())))}else{return new Me(new bn(Sn.Failure(new De(n.status,"git "+e[0]+" failed",{fileName:"src/lix/client/sources/Git.hx",lineNumber:40,className:"lix.client.sources.Git",methodName:"cli"}))))}})}}};ie.prototype={schemes:function(){return["git"]},processUrl:function(n){var e=this;var i=de.fromString(n.payload);var t=de.resolve(i,de.fromString(""));var s;var r=i.hash;if(r==null){s="HEAD"}else if(r==""){s="HEAD"}else{var f=r;s=f}var a=ie.cli(".");var l=s.length!=40?qe.next(a.eval(["ls-remote",de.toString(t),s]),function(n){var e=D.trim(n);if(e==""){return new Me(new bn(Sn.Failure(new De(null,"Cannot resolve version "+s,{fileName:"src/lix/client/sources/Git.hx",lineNumber:63,className:"lix.client.sources.Git",methodName:"processUrl"}))))}else{var i=e;return new Me(new bn(Sn.Success(o.substr(i,0,40))))}}):new Me(new bn(Sn.Success(s)));return qe.next(l,Ze.ofSafeSync(function(s){var r=de.fromString(n.scheme+":"+de.toString(de.resolve(i,de.fromString("#"+s))));var f=Hn.Computed(function(n){return[n.name,n.version,"git",s]});var a=new Un(O.None,O.None);var l=yn.Custom(function(n){var i=P.join([e.scope.libCache,".gitrepos",mn.escape(de.toString(t))]);var r=ie.cli(i);var f=r;var a=Nn.exists(""+i+"/.git")?["fetch",de.toString(t)]:["clone",de.toString(t),"."];return qe.next(qe.next(qe.next(f.call(a),function(n){return r.call(["-c","advice.detachedHead=false","checkout",s])}),function(e){return an.copy(i,n.dest,function(n){return n!=""+i+"/.git"})}),function(e){return new Me(new bn(Sn.Success(n.dest)))})});return{url:n,normalized:r,dest:f,lib:a,kind:l}}))},__class__:ie};var te=function(n){this.credentials=n};e["lix.client.sources.GitHub"]=te;te.__name__="lix.client.sources.GitHub";te.isArchive=function(n){var e=ze.parts(n);if(e.length==4){var i=e[3];var t=e[1];var s=e[0];if(me.stringly(e[2])=="archive"){return true}else{return false}}else{return false}};te.prototype={intercept:function(n){var e=n.query==null?n.path:n.path+"?"+n.query;var i=n.scheme;var t=n.query;var s=n.payload;var r=n.path;var f=n.hosts;var a=n.host;var l=n.hash;var h=n.auth;if(a==null){return O.None}else{var w=Le.get_port(a);var c=Le.get_name(a);if(c==null){return O.None}else if(c=="github.com"){if(i==null){return O.None}else if(i=="https"){if(t==null){if(te.isArchive(r)==false){return O.Some(this.processUrl(n))}else{return O.None}}else if(te.isArchive(r)==false){return O.Some(this.processUrl(n))}else{return O.None}}else{return O.None}}else{return O.None}}},schemes:function(){return["github","gh"]},grabCommit:function(n,e,i){if(this.credentials==null&&(i==""||!ne.isHash(i))){return qe.next(qe.mapError(pn.bytes("https://github.com/"+n+"/"+e+".git/info/refs?service=git-upload-pack"),function(i){if(i.code==401){return new De(i.code,i.message+(' - Possible typo in "'+n+"/"+e+'"'),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:35,className:"lix.client.sources.GitHub",methodName:"grabCommit"})}else{return i}}),function(t){if(i==""){return new Me(new bn(Sn.Success(o.substr(t.toString().split(" HEAD")[0],-40,null))))}var s="";var r=t.b.bufferValue;var f=0;var a=t.length;while(f<a){var l=f++;var h=r.bytes[l];if(h!=0){var w=h;s+=String.fromCodePoint(w)}}var d=0;var u=s.split("\n");while(d<u.length){var v=u[d];++d;var b=v.split(" ");if(b.length==2){var N;var R=b[1];N=o.substr(b[0],-40,null);var S=N;if(S.length==40&&D.endsWith(R,"/"+i)){return new Me(new bn(Sn.Success(S)))}}}return new Me(new bn(Sn.Failure(new De(null,"Failed to lookup sha for github:"+n+"/"+e+c.string(t),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:60,className:"lix.client.sources.GitHub",methodName:"grabCommit"}))))})}else{var t=this.credentials;return qe.next(pn.text("https://"+(t==null?"":""+t+"@")+"api.github.com/repos/"+n+"/"+e+"/commits?sha="+i),function(t){try{return new Me(new bn(Sn.Success(JSON.parse(t)[0].sha)))}catch(t){var s=t instanceof Mn?t.val:t;var r;if(i==null){r=""}else if(i==""){r=""}else{var f=i;r="#"+f}return new Me(new bn(Sn.Failure(new De(null,"Failed to lookup sha for github:"+n+"/"+e+r,{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:73,className:"lix.client.sources.GitHub",methodName:"grabCommit"}))))}})}},getArchive:function(n,e,i,t){var s=this;var r=function(i){return s.getArchive(n,e,i,t)};if(i==null){return qe.next(this.grabCommit(n,e,""),r)}else{var f=i;if(f.length==40){return new Me(new bn(Sn.Success({normalized:de.fromString("gh://"+(t==null?"":""+t+"@")+"github.com/"+n+"/"+e+"#"+f),dest:Hn.Computed(function(n){return[n.name,n.version,"github",f]}),url:de.fromString("https://"+(t==null?"":""+t+"@")+"github.com/"+n+"/"+e+"/archive/"+f+".tar.gz"),lib:new Un(O.Some(e),O.None)})))}else{var a=i;return qe.next(this.grabCommit(n,e,a),r)}}},processUrl:function(n){var e=n.path;var i;if(e==null){return new Me(new bn(Sn.Failure(new De(null,"invalid github url "+de.toString(n),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:99,className:"lix.client.sources.GitHub",methodName:"processUrl"}))))}else{i=Pe.toStringArray(ze.parts(e));if(i.length==2){var t=i[1];var s=i[0];return this.getArchive(s,ie.strip(t),n.hash,n.auth)}else{return new Me(new bn(Sn.Failure(new De(null,"invalid github url "+de.toString(n),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:102,className:"lix.client.sources.GitHub",methodName:"processUrl"}))))}}},__class__:te};var se=function(n){if(n==null){n=""}var e=D.trim(n);var i;if(e==""){i=""}else{var t=e;i="private_token="+t}this.privateToken=i};e["lix.client.sources.GitLab"]=se;se.__name__="lix.client.sources.GitLab";se.host=function(n){if(n==null){return"gitlab.com"}else{var e=n.host;if(e==null){return"gitlab.com"}else{var i=e;return i}}};se.prototype={intercept:function(n){var e=n.query==null?n.path:n.path+"?"+n.query;var i=n.scheme;var t=n.query;var s=n.payload;var r=n.path;var f=n.hosts;var a=n.host;var l=n.hash;var h=n.auth;if(a==null){return O.None}else{var w=Le.get_port(a);var c=Le.get_name(a);if(c==null){return O.None}else if(c=="gitlab.com"){if(i==null){return O.None}else if(i=="https"){if(t==null){if(me.stringly(ze.parts(r)[0])=="api"==false){return O.Some(this.processUrl(n))}else{return O.None}}else if(me.stringly(ze.parts(r)[0])=="api"==false){return O.Some(this.processUrl(n))}else{return O.None}}else{return O.None}}else{return O.None}}},schemes:function(){return["gitlab"]},grabCommit:function(n,e,i,t){return qe.next(pn.text("https://"+se.host(t)+"/api/v4/projects/"+n+"%2F"+e+"/repository/commits/"+i+"?"+this.privateToken),function(t){try{var s=JSON.parse(t);if(i==""){s=s[0]}return new Me(new bn(Sn.Success(s.id)))}catch(t){var r=t instanceof Mn?t.val:t;var f;if(i==null){f=""}else if(i==""){f=""}else{var a=i;f="#"+a}return new Me(new bn(Sn.Failure(new De(null,"Failed to lookup sha for gitlab:"+n+"/"+e+f,{fileName:"src/lix/client/sources/GitLab.hx",lineNumber:43,className:"lix.client.sources.GitLab",methodName:"grabCommit"}))))}})},getArchive:function(n,e,i,t){if(i==null){var s=$bind(this,this.getArchive);var r=n;var f=e;var a=t;var l=function(n){return s(r,f,n,a)};return qe.next(this.grabCommit(n,e,"",t),l)}else{var h=i;if(h.length==40){var w="https://"+se.host(t)+"/api/v4/projects/"+n+"%2F"+e+"/repository/archive.zip?sha="+h+"&"+this.privateToken;var c=Hn.Computed(function(n){return[n.name,n.version,"gitlab",h]});return new Me(new bn(Sn.Success({normalized:de.fromString(w),dest:c,url:de.fromString(w),lib:new Un(O.Some(e),O.None)})))}else{var d=i;var u=$bind(this,this.getArchive);var v=n;var o=e;var b=t;var N=function(n){return u(v,o,n,b)};return qe.next(this.grabCommit(n,e,d,t),N)}}},processUrl:function(n){var e=n.path;var i;if(e==null){return new Me(new bn(Sn.Failure(new De(null,"invalid gitlab url "+de.toString(n),{fileName:"src/lix/client/sources/GitLab.hx",lineNumber:65,className:"lix.client.sources.GitLab",methodName:"processUrl"}))))}else{i=Pe.toStringArray(ze.parts(e));if(i.length==2){var t=i[1];var s=i[0];return this.getArchive(s,ie.strip(t),n.hash,{host:n.host})}else{return new Me(new bn(Sn.Failure(new De(null,"invalid gitlab url "+de.toString(n),{fileName:"src/lix/client/sources/GitLab.hx",lineNumber:67,className:"lix.client.sources.GitLab",methodName:"processUrl"}))))}}},__class__:se};var re=function(n){if(n==null){n=re.OFFICIAL}this.lazy_isOfficial=new Te(function(){return re.OFFICIAL==n});this.baseURL=n};e["lix.client.sources.Haxelib"]=re;re.__name__="lix.client.sources.Haxelib";re.prototype={getBaseUrl:function(n){if(n==null){return de.fromString(this.baseURL)}else{var e=n.host;if(e==null){return de.fromString(this.baseURL)}else{var i=e;return de.fromString(""+(Le.get_port(i)==null?"https":"http")+"://"+i+"/")}}},resolve:function(n,e){return de.resolve(this.getBaseUrl(e),n)},schemes:function(){return["haxelib"]},processUrl:function(n){var e=pe.toMap(n.query);var i=me.toString(ni["url"]!=null?e.getReserved("url"):e.h["url"]);if((i==null||i==this.baseURL)==true){var t=n.path;var s;if(t==null){return new Me(new bn(Sn.Failure(new De(null,"invalid haxelib url "+de.toString(n),{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:31,className:"lix.client.sources.Haxelib",methodName:"processUrl"}))))}else{s=Pe.toStringArray(ze.parts(t));if(s.length==1){var r=s[0];return this.getArchive(r,n.hash,{host:n.host})}else{return new Me(new bn(Sn.Failure(new De(null,"invalid haxelib url "+de.toString(n),{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:33,className:"lix.client.sources.Haxelib",methodName:"processUrl"}))))}}}else{var f=i;return new re(f).processUrl(n)}},getArchive:function(n,e,i){var t=this;return qe.next(this.getInfos(n,i),function(n){var s;if(i==null){s=O.None}else{var r=i.host;if(r==null){s=O.None}else{var f=r;s=O.Some(f)}}var a=!(s==O.None&&t.get_isOfficial());var l=n.name;if(e==null){var h=function(e){var i=[];var t=0;var s=n.versions;while(t<s.length){var r=s[t];++t;var f=He.parse(r.name);if(f._hx_index==0){var a=f.data;if(e==null||e(a)){i.push(a)}else{continue}}else{continue}}var l=i;l.sort(function(n,e){return He.compare(e,n)});return l};var w=h(function(n){return n.preview==null});if(w.length==0){e=h()[0].toString()}else{var c=w;e=c[0].toString()}}else{var d=false;var u=0;var v=n.versions;while(u<v.length){var o=v[u];++u;if(o.name==e){d=true;break}}if(!d){return new Me(new bn(Sn.Failure(new De(null,"Library "+l+" has no version "+e,{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:78,className:"lix.client.sources.Haxelib",methodName:"getArchive"}))))}}var b="/files/3.0/"+D.replace(l,".",",")+"-"+D.replace(e,".",",")+".zip";var N=t.resolve(de.fromString(b),i);var R;if(s._hx_index==0){var S=s.v;R=S}else{R=null}var A=ze.ofString("/"+l);var B=a?pe.ofObj({url:t.baseURL}):null;var M=de.make({scheme:"haxelib",host:R,path:A,hash:e,query:B});var E;if(a){var C=de.toString(t.getBaseUrl(i));E="@"+encodeURIComponent(C)}else{E=""}return new Me(new bn(Sn.Success({url:N,normalized:M,dest:Hn.Fixed([l,e,"haxelib"+E]),kind:yn.Zip,lib:new Un(O.Some(l),O.Some(e))})))})},getInfos:function(n,e){var i=this;return Ee.async(function(t){var s=F.urlConnect(de.toString(i.resolve(de.fromString("/api/3.0/index.n"),e)));s.setErrorHandler(function(n){var e=Sn.Failure(De.withData(null,"Failed to get version information from haxelib because "+n,n,{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:99,className:"lix.client.sources.Haxelib",methodName:"getInfos"}));t(e)});var r=new le(s.resolve("api"));r.infos(n,function(n){t(Sn.Success(n))})})},get_isOfficial:function(){return this.lazy_isOfficial.get()},__class__:re};var fe=function(n){this.interceptors=n};e["lix.client.sources.Web"]=fe;fe.__name__="lix.client.sources.Web";fe.prototype={schemes:function(){return["http","https"]},processUrl:function(n){var e=0;var i=this.interceptors;while(e<i.length){var t=i[e];++e;var s=t(n);if(s._hx_index==0){var r=s.v;return r}}var f=Hn.Computed(function(e){return[e.name,e.version,de.toString(n)]});return new Me(new bn(Sn.Success({url:n,dest:f,normalized:n,lib:null})))},__class__:fe};var ae=function(n){this.__cnx=n};e["lix.client.sources.haxelib.Async_Repo"]=ae;ae.__name__="lix.client.sources.haxelib.Async_Repo";ae.prototype={infos:function(n,e){this.__cnx.resolve("infos").call([n],e)},__class__:ae};var le=function(n){ae.call(this,n)};e["lix.client.sources.haxelib.Proxy"]=le;le.__name__="lix.client.sources.haxelib.Proxy";le.__super__=ae;le.prototype=$extend(ae.prototype,{__class__:le});var he=function(){};e["lix.client.uncompress.Tar"]=he;he.__name__="lix.client.uncompress.Tar";he.parse=function(n,e){return Ee.async(function(i){var t=0;var s=0;var r=new we({onentry:function(n){t+=1;e(n)}});r.on("warn",function(){s+=1});r.on("end",function(){var n=t==0&&s!=0?Sn.Failure(new De(422,"Invalid tar archive.",{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:23,className:"lix.client.uncompress.Tar",methodName:"parse"})):Sn.Success(Be.Noise);i(n)});r.on("error",function(n){var e=Sn.Failure(new De(null,n.message,{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:26,className:"lix.client.uncompress.Tar",methodName:"parse"}));i(e)});n.pipe(r,{end:true})})};var we=i(885).Parse;var ce=function(){};e["sys.io.File"]=ce;ce.__name__="sys.io.File";ce.copy=function(n,e){var i=Rn.openSync(n,"r");var t=Rn.fstatSync(i);var s=Rn.openSync(e,"w",t.mode);var r;var f=0;while(true){r=Rn.readSync(i,ce.copyBuf,0,65536,f);if(!(r>0)){break}Rn.writeSync(s,ce.copyBuf,0,r);f+=r}Rn.closeSync(i);Rn.closeSync(s)};var de={};e["tink._Url.Url_Impl_"]=de;de.__name__="tink._Url.Url_Impl_";de.resolve=function(n,e){if(e.scheme!=null){return e}else if(e.host!=null){if(e.scheme!=null){return e}else{var i=h.copy(e);i.scheme=n.scheme;return i}}else{var t={path:ze.join(n.path,e.path),payload:"",scheme:n.scheme,query:e.query,auth:n.auth,host:n.host,hash:e.hash};de.makePayload(t);var s=t;return s}};de.makePayload=function(n){var e="";var i=n.scheme;var t=n.query;var s=n.payload;var r=n.path;var f=n.hosts;var a=n.host;var l=n.hash;var h=n.auth;if(h==null){if(a!=null){var w=a;e+="//"+w}}else if(a==null){var c=h;e+="//"+(c==null?"":""+c+"@")}else{var d=h;var u=a;e+="//"+(d==null?"":""+d+"@")+u}e+=n.path;var v=n.query;if(v!=null){var o=v;e+="?"+o}var b=n.hash;if(b!=null){var N=b;e+="#"+N}n.payload=e.toString()};de.toString=function(n){if(n.scheme==null){return n.payload}else{return""+n.scheme+":"+n.payload}};de.fromString=function(n){return de.parse(n)};de.noop=function(n){};de.parse=function(n,e){if(n==null){return de.parse("")}if(e==null){e=de.noop}n=D.trim(n);if(D.startsWith(n,"data:")){var i={scheme:"data",payload:o.substr(n,5,null)};return i}var t=new v("^(([a-zA-Z][a-zA-Z0-9\\-+.]*):)?((//(([^@/]+)@)?([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?)$","");var s=new v("^(\\[(.*)\\]|([^:]*))(:(.*))?$","");t.match(n);var r;var f=t.matched(7);if(f==null){r=[]}else{var a=f;var l=[];var h=0;var w=a.split(",");while(h<w.length){var d=w[h];++h;s.match(d);var u;var b=s.matched(2);var N=s.matched(3);if(b==null){var R=N;u=R}else if(N==null){var S=b;u="["+S+"]"}else{e("invalid host "+d);u=null}var A;var B=s.matched(5);if(B==null){A=null}else{var M=B;var E=c.parseInt(M);if(E==null){e("invalid port "+M);A=null}else{var C=E;A=C}}l.push(Le._new(u,A))}r=l}var W=t.matched(8);if(r.length>0&&W.charAt(0)!="/"){W="/"+W}var T={scheme:t.matched(2),payload:t.matched(3),host:r[0],hosts:r,auth:t.matched(6),path:ze.ofString(W),query:t.matched(10),hash:t.matched(12)};return T};de.make=function(n){var e={payload:"",path:n.path,query:n.query,host:n.host,hosts:n.hosts,auth:n.auth,scheme:n.scheme,hash:n.hash};de.makePayload(e);var i=e;return i};var ue={};e["tink.core._Callback.Callback_Impl_"]=ue;ue.__name__="tink.core._Callback.Callback_Impl_";ue.invoke=function(n,e){if(ue.depth<500){ue.depth++;n(e);ue.depth--}else{var i=n;var t=function(n){ue.invoke(i,n)};var s=e;ue.defer(function(){t(s)})}};ue.fromNiladic=function(n){return n};ue.defer=function(n){process.nextTick(n)};var ve=function(){};e["tink.core.LinkObject"]=ve;ve.__name__="tink.core.LinkObject";ve.__isInterface__=true;ve.prototype={__class__:ve};var oe={};e["tink.core._Callback.CallbackLink_Impl_"]=oe;oe.__name__="tink.core._Callback.CallbackLink_Impl_";oe.fromMany=function(n){var e=new be(function(){if(n!=null){var e=0;while(e<n.length){var i=n[e];++e;if(i!=null){i.cancel()}}}else{n=null}});return e};var be=function(n){this.f=n};e["tink.core.SimpleLink"]=be;be.__name__="tink.core.SimpleLink";be.__interfaces__=[ve];be.prototype={cancel:function(){if(this.f!=null){this.f();this.f=null}},__class__:be};var Ne=function(n,e){this.dissolved=false;this.a=n;this.b=e};e["tink.core._Callback.LinkPair"]=Ne;Ne.__name__="tink.core._Callback.LinkPair";Ne.__interfaces__=[ve];Ne.prototype={cancel:function(){if(!this.dissolved){this.dissolved=true;var n=this.a;if(n!=null){n.cancel()}var e=this.b;if(e!=null){e.cancel()}this.a=null;this.b=null}},__class__:Ne};var Re=function(n,e){if(n==null){throw new Mn("callback expected but null received")}this.cb=n;this.list=e};e["tink.core._Callback.ListCell"]=Re;Re.__name__="tink.core._Callback.ListCell";Re.__interfaces__=[ve];Re.prototype={cancel:function(){if(this.list!=null){var n=this.list;this.cb=null;this.list=null;if(--n.used<n.used>>1){n.compact()}}},__class__:Re};var Se=function(){this.busy=false;this.queue=[];this.used=0;this.cells=[]};e["tink.core.CallbackList"]=Se;Se.__name__="tink.core.CallbackList";Se.prototype={ondrain:function(){},invoke:function(n,e){if(this.busy){var i=$bind(this,this.invoke);var t=n;var s=e;var r=function(){i(t,s);return};this.queue.push(r)}else{this.busy=true;var f=this.cells.length;var a=0;var l=f;while(a<l){var h=a++;var w=this.cells[h];if(w.list!=null){ue.invoke(w.cb,n)}}this.busy=false;if(e){var c=this.cells.length-f;var d=0;var u=f;while(d<u){var v=d++;var o=this.cells[v];o.cb=null;o.list=null}var b=0;var N=c;while(b<N){var R=b++;this.cells[R]=this.cells[f+R]}this.resize(c)}else if(this.used<this.cells.length){this.compact()}if(this.queue.length>0){this.queue.shift()()}}},compact:function(){if(this.busy){return}else if(this.used==0){this.resize(0);this.ondrain()}else{var n=0;var e=0;var i=this.cells.length;while(e<i){var t=e++;var s=this.cells[t];var r=s.list;if(s.cb!=null){var f=s;if(n!=t){this.cells[n]=f}if(++n==this.used){break}}}this.resize(this.used)}},resize:function(n){this.cells.length=n},__class__:Se};var De=function(n,e,i){if(n==null){n=500}this.isTinkError=true;this.code=n;this.message=e;this.pos=i;this.exceptionStack=[];this.callStack=[]};e["tink.core.TypedError"]=De;De.__name__="tink.core.TypedError";De.withData=function(n,e,i,t){return De.typed(n,e,i,t)};De.typed=function(n,e,i,t){var s=new De(n,e,t);s.data=i;return s};De.asError=function(n){if(n!=null&&n.isTinkError){return n}else{return null}};De.catchExceptions=function(n,e,i){try{return Sn.Success(n())}catch(n){var t=n instanceof Mn?n.val:n;var s=De.asError(t);var r;if(s==null){r=e==null?De.withData(null,"Unexpected Error",t,i):e(t)}else{var f=s;r=f}return Sn.Failure(r)}};De.tryFinally=function(n,e){try{return n()}finally{e()}return null};De.prototype={printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var n="Error#"+this.code+": "+this.message;if(this.pos!=null){n+=" @ "+this.printPos()}return n},throwSelf:function(){var n=this;throw Mn.wrap(n)},__class__:De};var Ae=function(){};e["tink.core.FutureObject"]=Ae;Ae.__name__="tink.core.FutureObject";Ae.__isInterface__=true;Ae.prototype={__class__:Ae};var Be=s["tink.core.Noise"]={__ename__:"tink.core.Noise",__constructs__:["Noise"],Noise:{_hx_index:0,__enum__:"tink.core.Noise",toString:t}};var Me=function(n){this.value=n};e["tink.core._Future.SyncFuture"]=Me;Me.__name__="tink.core._Future.SyncFuture";Me.__interfaces__=[Ae];Me.prototype={map:function(n){return new Me(this.value.map(n))},flatMap:function(n){var e=this;return new We(function(i){var t=e.value.get();return n(t).handle(i)})},handle:function(n){ue.invoke(n,this.value.get());return null},eager:function(){return this},gather:function(){return this},__class__:Me};var Ee={};e["tink.core._Future.Future_Impl_"]=Ee;Ee.__name__="tink.core._Future.Future_Impl_";Ee.next=function(n,e){return n.flatMap(function(n){return e(n)})};Ee.flatten=function(n){return new We(function(e){var i=null;var t=n.handle(function(n){i=n.handle(e)});var s=new be(function(){if(i!=null){i.cancel()}});return new Ne(t,s)})};Ee.ofMany=function(n,e){if(e==null){e=true}var i=new Me(new bn([]));var t=0;while(t<n.length){var s=[n[t]];++t;var r=false;if(r==null){r=true}var f=i.flatMap(function(n){return function(e){var i=false;if(i==null){i=true}var t=function(){return function(n){return e.concat([n])}}();var s=n[0].map(t);if(i){return s.gather()}else{return s}}}(s));i=r?f.gather():f}if(e){return i.gather()}else{return i}};Ee.async=function(n,e){if(e==null){e=false}if(e){return new We(function(e){n(e);return null})}else{var i=new Ce;var t=n;ue.invoke(t,$bind(i,i.trigger));return i}};Ee._tryMap=function(n,e){var i=n.map(function(n){return Ge.map(n,e)});return i.gather()};var Ce=function(){this.list=new Se};e["tink.core.FutureTrigger"]=Ce;Ce.__name__="tink.core.FutureTrigger";Ce.__interfaces__=[Ae];Ce.prototype={handle:function(n){var e=this.list;if(e==null){ue.invoke(n,this.result);return null}else{var i=e;var t=new Re(n,i);i.cells.push(t);i.used++;return t}},map:function(n){var e=this.list;if(e==null){return new Me(new bn(n(this.result)))}else{var i=e;var t=new Ce;var s=this.list;var r=new Re(function(e){var i=n(e);t.trigger(i)},s);s.cells.push(r);s.used++;return t}},flatMap:function(n){var e=this.list;if(e==null){return n(this.result)}else{var i=e;var t=new Ce;var s=this.list;var r=new Re(function(e){n(e).handle($bind(t,t.trigger))},s);s.cells.push(r);s.used++;return t}},gather:function(){return this},eager:function(){return this},trigger:function(n){if(this.list==null){return false}else{var e=this.list;this.list=null;this.result=n;e.invoke(n,true);return true}},__class__:Ce};var We=function(n){this.suspended=true;var e=this;this.wakeup=n;this.callbacks=new Se;this.callbacks.ondrain=function(){if(e.callbacks!=null){e.suspended=true;var n=e.link;if(n!=null){n.cancel()}e.link=null}}};e["tink.core._Future.SuspendableFuture"]=We;We.__name__="tink.core._Future.SuspendableFuture";We.__interfaces__=[Ae];We.prototype={trigger:function(n){var e=this.callbacks;if(e!=null){var i=e;this.callbacks=null;this.suspended=false;this.result=n;this.link=null;this.wakeup=null;i.invoke(n,true)}},handle:function(n){var e=this.callbacks;if(e==null){ue.invoke(n,this.result);return null}else{var i=e;var t=this.callbacks;var s=new Re(n,t);t.cells.push(s);t.used++;var r=s;if(this.suspended){this.suspended=false;this.link=this.wakeup($bind(this,this.trigger))}return r}},map:function(n){var e=this;return new We(function(i){return e.handle(function(e){var t=n(e);i(t)})})},flatMap:function(n){return Ee.flatten(this.map(n))},gather:function(){return this},eager:function(){this.handle(ue.fromNiladic(function(){}));return this},__class__:We};var Te=function(n){this.f=n};e["tink.core._Lazy.LazyFunc"]=Te;Te.__name__="tink.core._Lazy.LazyFunc";Te.__interfaces__=[on];Te.prototype={get:function(){if(this.f!=null){this.result=this.f();this.f=null}return this.result},map:function(n){var e=this;return new Te(function(){var i=e.get();return n(i)})},__class__:Te};var Ye=function(n,e){this.name=n;this.value=e};e["tink.core.NamedWith"]=Ye;Ye.__name__="tink.core.NamedWith";Ye.prototype={__class__:Ye};var Ge=function(){};e["tink.core.OutcomeTools"]=Ge;Ge.__name__="tink.core.OutcomeTools";Ge.sure=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=De.asError(i);if(t==null){throw new Mn(i)}else{var s=t;return s.throwSelf()}break}};Ge.map=function(n,e){switch(n._hx_index){case 0:var i=n.data;return Sn.Success(e(i));case 1:var t=n.failure;return Sn.Failure(t)}};var qe={};e["tink.core._Promise.Promise_Impl_"]=qe;qe.__name__="tink.core._Promise.Promise_Impl_";qe.mapError=function(n,e){var i=n.map(function(n){switch(n._hx_index){case 0:var i=n.data;return n;case 1:var t=n.failure;return Sn.Failure(e(t))}});return i.gather()};qe.noise=function(n){return qe.next(n,function(n){return new Me(new bn(Sn.Success(Be.Noise)))})};qe.next=function(n,e,i){if(i==null){i=true}var t=i;if(t==null){t=true}var s=n.flatMap(function(n){switch(n._hx_index){case 0:var i=n.data;return e(i);case 1:var t=n.failure;return new Me(new bn(Sn.Failure(t)))}});if(t){return s.gather()}else{return s}};qe.ofSpecific=function(n){return n};qe.inParallel=function(n,e,i){if(n.length==0){return new Me(new bn(Sn.Success([])))}else{return Ee.async(function(i){var t=[];var s=n.length;var r=null;var f=[];var a=false;var l=0;var h=o.iter(n);var w=null;var c=function(n){if(r==null){a=true}else if(r!=null){r.cancel()}i(n)};var d=function(n){s=0;c(Sn.Failure(n))};var u=function(n,e){t[n]=e;if((s-=1)==0){c(Sn.Success(t))}else if(h.hasNext()&&s>0){w()}};w=function(){l+=1;var n=l-1;var e=h.next().handle(function(e){switch(e._hx_index){case 0:var i=e.data;u(n,i);break;case 1:var t=e.failure;d(t);break}});f.push(e)};while(true){var v;if(h.hasNext()&&s>0){if(e!=null){e-=1;v=e+1>0}else{v=true}}else{v=false}if(!v){break}w()}r=oe.fromMany(f);if(a){if(r!=null){r.cancel()}}},i)}};qe.inSequence=function(n){var e=null;e=function(i){if(i==n.length){return new Me(new bn(Sn.Success([])))}else{return qe.next(n[i],function(n){return qe.next(e(i+1),function(e){return new Me(new bn(Sn.Success([n].concat(e))))})})}};return e(0)};var Ze={};e["tink.core._Promise.Next_Impl_"]=Ze;Ze.__name__="tink.core._Promise.Next_Impl_";Ze.ofSafeSync=function(n){return function(e){return new Me(new bn(Sn.Success(n(e))))}};var Ve={};e["tink.core._Promise.Recover_Impl_"]=Ve;Ve.__name__="tink.core._Promise.Recover_Impl_";Ve.ofSync=function(n){return function(e){return new Me(new bn(n(e)))}};var Xe=function(){};e["tink.parse.Char"]=Xe;Xe.__name__="tink.parse.Char";var je=function(n){this.source=n;this.max=n.length;this.pos=0};e["tink.parse.ParserBase"]=je;je.__name__="tink.parse.ParserBase";je.prototype={skipIgnored:function(){while(this.lastSkip!=this.pos){this.lastSkip=this.pos;this.doSkipIgnored()}this.lastSkip=this.pos;return null},doSkipIgnored:function(){},allowHere:function(n){if(Qe.hasSub(this.source,n,this.pos)){this.pos+=n.length;return true}else{return false}},die:function(n,e){if(e==null){e=new b(this.pos,this.pos+1)}var i=e.min;var t=e.max;throw new Mn(this.makeError(n,this.doMakePos(i,t==null?i+1:t)))},makeError:function(n,e){throw new Mn("ni")},doMakePos:function(n,e){throw new Mn("ni")},__class__:je};var Je=function(n,e,i){this.string=n;this.start=e;this.end=i;if((this.length=i-e)<0){this.length=0;this.end=this.start}};e["tink.parse._StringSlice.Data"]=Je;Je.__name__="tink.parse._StringSlice.Data";Je.prototype={toString:function(){if(this.representation==null){this.representation=this.string.substring(this.start,this.end)}return this.representation},__class__:Je};var Qe={};e["tink.parse._StringSlice.StringSlice_Impl_"]=Qe;Qe.__name__="tink.parse._StringSlice.StringSlice_Impl_";Qe._new=function(n,e,i){var t=new Je(n,e==n.length?e:e<0?e%n.length+n.length:e%n.length,i==n.length?i:i<0?i%n.length+n.length:i%n.length);return t};Qe.clamp=function(n,e){if(e<0){if(-e>n.length){return 0}else{return e+n.length}}else if(e>n.length){return n.length}else{return e}};Qe.wrap=function(n,e){if(n.length==0){return 0}else if(e<0){return e%n.length+n.length}else{return e%n.length}};Qe.ofString=function(n){if(n==null||n==""){return Qe.EMPTY}else if(n.length==1){var e=n.charCodeAt(0);if(e<Qe.CHARS.length){return Qe.CHARS[e]}else{return new Je(n,0,n.length)}}else{return new Je(n,0,n.length)}};Qe.hasSub=function(n,e,i){if(i==null){i=0}i=Qe.wrap(n,i);if(i+e.length>n.length){return false}var t=n;var s=e;return Qe.isEqual(t.string,t.start+i,e.length,s.string,s.start,s.length)};Qe.isEqual=function(n,e,i,t,s,r){if(r!=i){return false}var f=0;var a=r;while(f<a){var l=f++;if(n.charCodeAt(e+l)!=t.charCodeAt(s+l)){return false}}return true};var Ke=function(n){je.call(this,n)};e["tink.semver.Parser"]=Ke;Ke.__name__="tink.semver.Parser";Ke.__super__=je;Ke.prototype=$extend(je.prototype,{doSkipIgnored:function(){var n=Xe.WHITE;while(true){var e;if(this.pos<this.max){var i=this.source;var t=i.string.charCodeAt(this.pos+i.start);e=n==null||n(t)}else{e=false}if(!e){break}this.pos++}},num:function(){var n=Xe.DIGIT;this.skipIgnored();var e=this.pos;while(true){var i;if(this.pos<this.max){var t=this.source;var s=t.string.charCodeAt(this.pos+t.start);i=n==null||n(s)}else{i=false}if(!i){break}this.pos++}var r=this.source;var f=e;var a=this.pos;var l=c.parseInt(Qe._new(r.string,Qe.wrap(r,f)+r.start,Qe.clamp(r,a)+r.start).toString());if(l==null){return-1}else{var h=l;return h}},parseVersion:function(){var n=this.parseInlineVersion();this.skipIgnored();if(this.pos==this.max){return n}else{return this.die("Unexpected string",new b(this.pos,this.max))}},parsePartial:function(){var n=this;var e=this.pos;var i=function(){if(n.allowHere(Qe.ofString("."))){return n.num()}else{return-1}};var t=this.num();var s=i();var r=i();var f=null;var a=-1;if(r>=0&&this.allowHere(Ke.HYPHEN)){var l=Xe.LOWER;this.skipIgnored();var h=this.pos;while(true){var w;if(this.pos<this.max){var c=this.source;var d=c.string.charCodeAt(this.pos+c.start);w=l==null||l(d)}else{w=false}if(!w){break}this.pos++}var u=this.source;var v=h;var o=this.pos;f=Ge.sure(ye.ofString(Qe._new(u.string,Qe.wrap(u,v)+u.start,Qe.clamp(u,o)+u.start).toString()));if(this.allowHere(Ke.DOT)){a=this.num()}}return{major:t,minor:s,patch:r,preview:f,previewNum:a,pos:new b(e,this.pos)}},clamp:function(n){if(n<0){return 0}else{return n}},full:function(n,e){if(e!=true&&n.patch<0){this.die("Partial version not allowed",n.pos)}var i=He._new(n.major,this.clamp(n.minor),this.clamp(n.patch));if(n.preview!=null){return new Oe(i.major,i.minor,i.patch,n.preview,n.previewNum)}else{return i}},parseInlineVersion:function(){return this.full(this.parsePartial())},makeError:function(n,e){var i=this.source;return new De(null,""+n+" at "+('"'+Qe._new(i.string,Qe.wrap(i,e.min)+i.start,Qe.clamp(i,e.max)+i.start).toString()+'"('+e.min+"-"+e.max+")")+(' in "'+this.source.toString()+'"'),{fileName:"tink/semver/Parser.hx",lineNumber:149,className:"tink.semver.Parser",methodName:"makeError"})},doMakePos:function(n,e){return new b(n,e)},__class__:Ke});var ye={};e["tink.semver._Preview.Preview_Impl_"]=ye;ye.__name__="tink.semver._Preview.Preview_Impl_";ye.ofString=function(n){switch(n){case"alpha":return Sn.Success("alpha");case"beta":return Sn.Success("beta");case"rc":return Sn.Success("rc");default:return Sn.Failure(new De(422,""+n+" should be alpha | beta | rc",{fileName:"tink/semver/Preview.hx",lineNumber:14,className:"tink.semver._Preview.Preview_Impl_",methodName:"ofString"}))}};var He={};e["tink.semver._Version.Version_Impl_"]=He;He.__name__="tink.semver._Version.Version_Impl_";He._new=function(n,e,i){if(i==null){i=0}if(e==null){e=0}var t=new Oe(n,e,i);return t};He.compare=function(n,e){var i=n.major-e.major;var t=n.minor-e.minor;var s=Ie.chain(i>0?1:i<0?-1:0,t>0?1:t<0?-1:0);var r=n.patch-e.patch;var f=Ie.chain(s,r>0?1:r<0?-1:0);var a=He.idx(n,n.preview)-He.idx(n,e.preview);var l=Ie.chain(f,a>0?1:a<0?-1:0);var h=n.previewNum-e.previewNum;return Ie.chain(l,h>0?1:h<0?-1:0)};He.idx=function(n,e){if(e==null){return 100}else{switch(e){case"alpha":return 1;case"beta":return 2;case"rc":return 3}}};He.parse=function(n){return De.catchExceptions((r=new Ke(Qe.ofString(n)),$bind(r,r.parseVersion)),He.reportError,{fileName:"tink/semver/Version.hx",lineNumber:97,className:"tink.semver._Version.Version_Impl_",methodName:"parse"})};He.reportError=function(n){if(typeof n=="string"){return new De(422,n,{fileName:"tink/semver/Version.hx",lineNumber:103,className:"tink.semver._Version.Version_Impl_",methodName:"reportError"})}else{return De.withData(422,c.string(n),n,{fileName:"tink/semver/Version.hx",lineNumber:105,className:"tink.semver._Version.Version_Impl_",methodName:"reportError"})}};var Oe=function(n,e,i,t,s){if(s==null){s=-1}if(n<0||e<0||i<0){throw new Mn("version components must not be negative")}this.major=n;this.minor=e;this.patch=i;this.preview=t;this.previewNum=s};e["tink.semver._Version.Data"]=Oe;Oe.__name__="tink.semver._Version.Data";Oe.prototype={toString:function(){var n=""+this.major+"."+this.minor+"."+this.patch;if(this.preview!=null){n+="-"+this.preview;if(this.previewNum!=-1){n+="."+this.previewNum}}return n},__class__:Oe};var Ie={};e["tink.semver._Version.Comparison_Impl_"]=Ie;Ie.__name__="tink.semver._Version.Comparison_Impl_";Ie.chain=function(n,e){if(n==0){return e}else{return n}};var Le={};e["tink.url._Host.Host_Impl_"]=Le;Le.__name__="tink.url._Host.Host_Impl_";Le._new=function(n,e){var i;if(e==null){i=n}else if(e>65535||e<=0){throw new Mn("Invalid port")}else{i=""+n+":"+e}return i};Le.get_name=function(n){if(n==null){return null}else{var e=n.split("]");switch(e.length){case 1:var i=e[0];return i.split(":")[0];case 2:var t=e[1];var s=e[0];return s+"]";default:throw new Mn("assert")}}};Le.get_port=function(n){if(n==null){return null}else{var e=n.split("]");switch(e.length){case 1:var i=e[0];var t=i.split(":")[1];if(t==null){return null}else{var s=t;return c.parseInt(s)}break;case 2:var r=e[0];var f=e[1];var a=f.split(":")[1];if(a==null){return null}else{var l=a;return c.parseInt(l)}break;default:throw new Mn("assert")}}};var ze={};e["tink.url._Path.Path_Impl_"]=ze;ze.__name__="tink.url._Path.Path_Impl_";ze.parts=function(n){var e=[];var i=0;var t=n.split("/");while(i<t.length){var s=t[i];++i;if(s!=""){var r=s;e.push(r)}}return e};ze.join=function(n,e){if(e==""){return n}else if(e.charAt(0)=="/"){return e}else if(n.charAt(n.length-1)=="/"){return ze.ofString(n+e)}else{var i=n.lastIndexOf("/");if(i==-1){return e}else{var t=i;return ze.ofString(o.substr(n,0,t+1)+e)}}};ze.ofString=function(n){var e=ze.normalize(n);return e};ze.normalize=function(n){n=D.trim(D.replace(n,"\\","/"));if(n=="."){return"./"}var e=D.endsWith(n,"/..")||D.endsWith(n,"/")||D.endsWith(n,"/.");var i=[];var t=D.startsWith(n,"/");var s=0;var r=0;var f=n.split("/");while(r<f.length){var a=f[r];++r;var l=D.trim(a);switch(l){case"":break;case".":break;case"..":if(i.pop()==null){++s}break;default:var h=l;i.push(h)}}if(t){i.unshift("")}else{var w=0;var c=s;while(w<c){var d=w++;i.unshift("..")}}if(e){i.push("")}return i.join("/")};var me={};e["tink.url._Portion.Portion_Impl_"]=me;me.__name__="tink.url._Portion.Portion_Impl_";me.stringly=function(n){return me.toString(n)};me.toString=function(n){if(n==null){return null}else{return decodeURIComponent(n.split("+").join(" "))}};me.ofString=function(n){var e=n==null?"":encodeURIComponent(n);return e};var Pe={};e["tink.url._PortionArray.PortionArray_Impl_"]=Pe;Pe.__name__="tink.url._PortionArray.PortionArray_Impl_";Pe.toStringArray=function(n){var e=[];var i=0;while(i<n.length){var t=n[i];++i;e.push(me.toString(t))}return e};var pe={};e["tink.url._Query.Query_Impl_"]=pe;pe.__name__="tink.url._Query.Query_Impl_";pe.toMap=function(n){var e=new I;var i=new Ue(n,"&","=",0);while(i.hasNext()){var t=i.next();var s=t.name.toString();var r=t.value;if(ni[s]!=null){e.setReserved(s,r)}else{e.h[s]=r}}return e};pe.ofObj=function(n){var e=[];var i=e;var t=n;var s=0;var r=h.fields(t);while(s<r.length){var f=r[s];++s;i.push(me.ofString(f)+"="+me.ofString(t[f]))}return i.join("&")};var Ue=function(n,e,i,t){this.s=n==null?"":n;this.sep=e;this.set=i;this.pos=t};e["tink.url._Query.QueryStringParser"]=Ue;Ue.__name__="tink.url._Query.QueryStringParser";Ue.trimmedSub=function(n,e,i){if(e>=n.length){var t="";return t}while(n.charCodeAt(e)<33)++e;if(i<n.length-1){while(n.charCodeAt(i-1)<33)--i}var s=n.substring(e,i);return s};Ue.prototype={hasNext:function(){return this.pos<this.s.length},next:function(){var n=this.s.indexOf(this.sep,this.pos);if(n==-1){n=this.s.length}var e=this.s.indexOf(this.set,this.pos);var i=this.pos;this.pos=n+this.sep.length;if(e==-1||e>n){return new Ye(me.stringly(Ue.trimmedSub(this.s,i,n)),me.ofString(""))}else{return new Ye(me.stringly(Ue.trimmedSub(this.s,i,e)),Ue.trimmedSub(this.s,e+this.set.length,n))}},__class__:Ue};function $getIterator(n){if(n instanceof Array)return o.iter(n);else return n.iterator()}function $bind(e,i){if(i==null)return null;if(i.__id__==null)i.__id__=n.$haxeUID++;var t;if(e.hx__closures__==null)e.hx__closures__={};else t=e.hx__closures__[i.__id__];if(t==null){t=i.bind(e);e.hx__closures__[i.__id__]=t}return t}function $arrayPush(n){this.push(n)}n.$haxeUID|=0;w.__toStr={}.toString;if(String.fromCodePoint==null)String.fromCodePoint=function(n){return n<65536?String.fromCharCode(n):String.fromCharCode((n>>10)+55232)+String.fromCharCode((n&1023)+56320)};String.prototype.__class__=e["String"]=String;String.__name__="String";e["Array"]=Array;Array.__name__="Array";Date.prototype.__class__=e["Date"]=Date;Date.__name__="Date";var Fe={};var xe={};var ke=Number;var ge=Boolean;var $e={};var _e={};e["Math"]=Math;H.count=0;var ni={};Object.defineProperty(Mn.prototype,"message",{get:function(){return String(this.val)}});if(ArrayBuffer.prototype.slice==null){ArrayBuffer.prototype.slice=En.sliceImpl}d.values=function(n){var e;var i=new j;i.set(f.Off,0);i.set(f.Bold,1);i.set(f.Underline,4);i.set(f.Blink,5);i.set(f.ReverseVideo,7);i.set(f.Concealed,8);i.set(f.BoldOff,22);i.set(f.UnderlineOff,24);i.set(f.BlinkOff,25);i.set(f.NormalVideo,27);i.set(f.ConcealedOff,28);i.set(f.Black,30);i.set(f.Red,31);i.set(f.Green,32);i.set(f.Yellow,33);i.set(f.Blue,34);i.set(f.Magenta,35);i.set(f.Cyan,36);i.set(f.White,37);i.set(f.DefaultForeground,39);i.set(f.BlackBack,40);i.set(f.RedBack,41);i.set(f.GreenBack,42);i.set(f.YellowBack,43);i.set(f.BlueBack,44);i.set(f.MagentaBack,45);i.set(f.CyanBack,46);i.set(f.WhiteBack,47);i.set(f.DefaultBackground,49);e=i;return e}(this);d.available=d.detectSupport();d.strip=false;d.stripIfUnavailable=true;u.DAY_SHORT_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];u.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];u.MONTH_SHORT_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"];S.winMetaCharacters=[32,40,41,37,33,94,34,60,62,38,124,10,13,44,59];Y.USE_CACHE=false;Y.USE_ENUM_INDEX=false;Y.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Z.DEFAULT_RESOLVER=new q;Z.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";hn.IS_WINDOWS=a.systemName()=="Windows";hn.DELIMITER=hn.IS_WINDOWS?";":":";wn.EXT=hn.IS_WINDOWS?".exe":"";un.isTTY=process.stderr.isTTY;un.out=function(n){var e;d.available=un.isTTY;e=new B(2);return e}(this);Dn.CONFIG_FILE=".haxerc";Dn.fs={isDirectory:function(n){try{return Nn.isDirectory(n)}catch(n){var e=n instanceof Mn?n.val:n;return false}},readFile:function(n){try{return Sn.Success(Rn.readFileSync(n,{encoding:"utf8"}))}catch(e){return Sn.Failure("Cannot read "+n+" because "+c.string(e instanceof Mn?e.val:e))}}};Dn.DEFAULT_ROOT=function(n){var e;var i=Dn.env("HAXE_ROOT");var t=Dn.env("HAXESHIM_ROOT");var s=new bn(process.env[hn.IS_WINDOWS?"APPDATA":"HOME"]+"/haxe");var r;if(t._hx_index==0){var f=t.v;r=f}else{r=s.get()}var a=new bn(r);e=i._hx_index==0?function(n){var e;var t=i.v;e=t;return e}(n):a.get();return e}(this);An.PATH=hn.slashes(Dn.DEFAULT_ROOT+"/neko");An.isset=false;An.ENV=function(n){var e;var i;switch(a.systemName()){case"Mac":i="DYLD_LIBRARY_PATH";break;case"Windows":i="PATH";break;default:i="LD_LIBRARY_PATH"}var t=process.env[i];e=t==null?function(n){var e;var t=new I;{var s=An.PATH;if(ni[i]!=null){t.setReserved(i,s)}else{t.h[i]=s}}e=nn.ofMap(t);return e}(n):function(n){var e;var s=t;e=s.indexOf(An.PATH)!=-1?nn.ofVars({}):function(n){var e;var s=t;var r=new I;{var f=s+hn.DELIMITER+An.PATH;if(ni[i]!=null){r.setReserved(i,f)}else{r.h[i]=f}}e=nn.ofMap(r);return e}(n);return e}(n);return e}(this);mn.RESERVED="!#$&'()*+,/:;=?@[]";pn.initZip=function(n){var e;var i=Pn.validateFileName;Pn.validateFileName=function(n){return null};e=true;return e}(this);pn.USER_AGENT="switchx";Un.UNDEFINED=new Un(O.None,O.None);_n.VERSION_INFO="version.json";_n.NIGHTLIES="https://build.haxe.org/builds/haxe";_n.PLATFORM=function(n){var e;switch(a.systemName()){case"Mac":e="mac";break;case"Windows":e="windows";break;default:e="linux64"}return e}(this);ne.hex=function(n){var e;var i=new J;{var t=0;var s="0123456789abcdefABCDEF".split("");while(t<s.length){var r=s[t];++t;i.h[o.cca(r,0)]=true}}e=i;return e}(this);re.OFFICIAL="https://lib.haxe.org/";ce.copyBuf=qn.alloc(65536);ue.depth=0;qe.NOISE=new Me(new bn(Sn.Success(Be.Noise)));Xe.WHITE=function(n){return n<33};Xe.LOWER=function(n){if(n>=97){return n<=122}else{return false}};Xe.DIGIT=function(n){if(n>=48){return n<=57}else{return false}};Qe.CHARS=function(n){var e;var i=[];{var t=0;while(t<128){var s=t++;i.push(new Je(String.fromCodePoint(s),0,1))}}e=i;return e}(this);Qe.EMPTY=new Je("",0,0);Ke.DOT=Qe.ofString(".");Ke.HYPHEN=Qe.ofString("-");Xn.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this)},747:function(n){n.exports=require("fs")},761:function(n){n.exports=require("zlib")},766:function(n,e,i){var t=i(747);var s=i(761);var r=i(324);var f=i(538);var a=i(669);var l=i(614).EventEmitter;var h=i(413).Transform;var w=i(413).PassThrough;var c=i(413).Writable;e.open=open;e.fromFd=fromFd;e.fromBuffer=fromBuffer;e.fromRandomAccessReader=fromRandomAccessReader;e.dosDateTimeToDate=dosDateTimeToDate;e.validateFileName=validateFileName;e.ZipFile=ZipFile;e.Entry=Entry;e.RandomAccessReader=RandomAccessReader;function open(n,e,i){if(typeof e==="function"){i=e;e=null}if(e==null)e={};if(e.autoClose==null)e.autoClose=true;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;if(i==null)i=defaultCallback;t.open(n,"r",function(n,s){if(n)return i(n);fromFd(s,e,function(n,e){if(n)t.close(s,defaultCallback);i(n,e)})})}function fromFd(n,e,i){if(typeof e==="function"){i=e;e=null}if(e==null)e={};if(e.autoClose==null)e.autoClose=false;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;if(i==null)i=defaultCallback;t.fstat(n,function(t,s){if(t)return i(t);var f=r.createFromFd(n,{autoClose:true});fromRandomAccessReader(f,s.size,e,i)})}function fromBuffer(n,e,i){if(typeof e==="function"){i=e;e=null}if(e==null)e={};e.autoClose=false;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;var t=r.createFromBuffer(n,{maxChunkSize:65536});fromRandomAccessReader(t,n.length,e,i)}function fromRandomAccessReader(n,e,i,t){if(typeof i==="function"){t=i;i=null}if(i==null)i={};if(i.autoClose==null)i.autoClose=true;if(i.lazyEntries==null)i.lazyEntries=false;if(i.decodeStrings==null)i.decodeStrings=true;var s=!!i.decodeStrings;if(i.validateEntrySizes==null)i.validateEntrySizes=true;if(i.strictFileNames==null)i.strictFileNames=false;if(t==null)t=defaultCallback;if(typeof e!=="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER){throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.")}n.ref();var r=22;var f=65535;var a=Math.min(r+f,e);var l=u(a);var h=e-l.length;readAndAssertNoEof(n,l,0,a,h,function(f){if(f)return t(f);for(var w=a-r;w>=0;w-=1){if(l.readUInt32LE(w)!==101010256)continue;var c=l.slice(w);var d=c.readUInt16LE(4);if(d!==0){return t(new Error("multi-disk zip files are not supported: found disk number: "+d))}var v=c.readUInt16LE(10);var o=c.readUInt32LE(16);var b=c.readUInt16LE(20);var N=c.length-r;if(b!==N){return t(new Error("invalid comment length. expected: "+N+". found: "+b))}var R=s?decodeBuffer(c,22,c.length,false):c.slice(22);if(!(v===65535||o===4294967295)){return t(null,new ZipFile(n,o,e,v,R,i.autoClose,i.lazyEntries,s,i.validateEntrySizes,i.strictFileNames))}var S=u(20);var D=h+w-S.length;readAndAssertNoEof(n,S,0,S.length,D,function(r){if(r)return t(r);if(S.readUInt32LE(0)!==117853008){return t(new Error("invalid zip64 end of central directory locator signature"))}var f=readUInt64LE(S,8);var a=u(56);readAndAssertNoEof(n,a,0,a.length,f,function(r){if(r)return t(r);if(a.readUInt32LE(0)!==101075792){return t(new Error("invalid zip64 end of central directory record signature"))}v=readUInt64LE(a,32);o=readUInt64LE(a,48);return t(null,new ZipFile(n,o,e,v,R,i.autoClose,i.lazyEntries,s,i.validateEntrySizes,i.strictFileNames))})});return}t(new Error("end of central directory record signature not found"))})}a.inherits(ZipFile,l);function ZipFile(n,e,i,t,s,r,f,a,h,w){var c=this;l.call(c);c.reader=n;c.reader.on("error",function(n){emitError(c,n)});c.reader.once("close",function(){c.emit("close")});c.readEntryCursor=e;c.fileSize=i;c.entryCount=t;c.comment=s;c.entriesRead=0;c.autoClose=!!r;c.lazyEntries=!!f;c.decodeStrings=!!a;c.validateEntrySizes=!!h;c.strictFileNames=!!w;c.isOpen=true;c.emittedError=false;if(!c.lazyEntries)c._readEntry()}ZipFile.prototype.close=function(){if(!this.isOpen)return;this.isOpen=false;this.reader.unref()};function emitErrorAndAutoClose(n,e){if(n.autoClose)n.close();emitError(n,e)}function emitError(n,e){if(n.emittedError)return;n.emittedError=true;n.emit("error",e)}ZipFile.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ZipFile.prototype._readEntry=function(){var n=this;if(n.entryCount===n.entriesRead){setImmediate(function(){if(n.autoClose)n.close();if(n.emittedError)return;n.emit("end")});return}if(n.emittedError)return;var i=u(46);readAndAssertNoEof(n.reader,i,0,i.length,n.readEntryCursor,function(t){if(t)return emitErrorAndAutoClose(n,t);if(n.emittedError)return;var s=new Entry;var r=i.readUInt32LE(0);if(r!==33639248)return emitErrorAndAutoClose(n,new Error("invalid central directory file header signature: 0x"+r.toString(16)));s.versionMadeBy=i.readUInt16LE(4);s.versionNeededToExtract=i.readUInt16LE(6);s.generalPurposeBitFlag=i.readUInt16LE(8);s.compressionMethod=i.readUInt16LE(10);s.lastModFileTime=i.readUInt16LE(12);s.lastModFileDate=i.readUInt16LE(14);s.crc32=i.readUInt32LE(16);s.compressedSize=i.readUInt32LE(20);s.uncompressedSize=i.readUInt32LE(24);s.fileNameLength=i.readUInt16LE(28);s.extraFieldLength=i.readUInt16LE(30);s.fileCommentLength=i.readUInt16LE(32);s.internalFileAttributes=i.readUInt16LE(36);s.externalFileAttributes=i.readUInt32LE(38);s.relativeOffsetOfLocalHeader=i.readUInt32LE(42);if(s.generalPurposeBitFlag&64)return emitErrorAndAutoClose(n,new Error("strong encryption is not supported"));n.readEntryCursor+=46;i=u(s.fileNameLength+s.extraFieldLength+s.fileCommentLength);readAndAssertNoEof(n.reader,i,0,i.length,n.readEntryCursor,function(t){if(t)return emitErrorAndAutoClose(n,t);if(n.emittedError)return;var r=(s.generalPurposeBitFlag&2048)!==0;s.fileName=n.decodeStrings?decodeBuffer(i,0,s.fileNameLength,r):i.slice(0,s.fileNameLength);var a=s.fileNameLength+s.extraFieldLength;var l=i.slice(s.fileNameLength,a);s.extraFields=[];var h=0;while(h<l.length-3){var w=l.readUInt16LE(h+0);var c=l.readUInt16LE(h+2);var d=h+4;var v=d+c;if(v>l.length)return emitErrorAndAutoClose(n,new Error("extra field length exceeds extra field buffer size"));var o=u(c);l.copy(o,0,d,v);s.extraFields.push({id:w,data:o});h=v}s.fileComment=n.decodeStrings?decodeBuffer(i,a,a+s.fileCommentLength,r):i.slice(a,a+s.fileCommentLength);s.comment=s.fileComment;n.readEntryCursor+=i.length;n.entriesRead+=1;if(s.uncompressedSize===4294967295||s.compressedSize===4294967295||s.relativeOffsetOfLocalHeader===4294967295){var b=null;for(var h=0;h<s.extraFields.length;h++){var N=s.extraFields[h];if(N.id===1){b=N.data;break}}if(b==null){return emitErrorAndAutoClose(n,new Error("expected zip64 extended information extra field"))}var R=0;if(s.uncompressedSize===4294967295){if(R+8>b.length){return emitErrorAndAutoClose(n,new Error("zip64 extended information extra field does not include uncompressed size"))}s.uncompressedSize=readUInt64LE(b,R);R+=8}if(s.compressedSize===4294967295){if(R+8>b.length){return emitErrorAndAutoClose(n,new Error("zip64 extended information extra field does not include compressed size"))}s.compressedSize=readUInt64LE(b,R);R+=8}if(s.relativeOffsetOfLocalHeader===4294967295){if(R+8>b.length){return emitErrorAndAutoClose(n,new Error("zip64 extended information extra field does not include relative header offset"))}s.relativeOffsetOfLocalHeader=readUInt64LE(b,R);R+=8}}if(n.decodeStrings){for(var h=0;h<s.extraFields.length;h++){var N=s.extraFields[h];if(N.id===28789){if(N.data.length<6){continue}if(N.data.readUInt8(0)!==1){continue}var S=N.data.readUInt32LE(1);if(f.unsigned(i.slice(0,s.fileNameLength))!==S){continue}s.fileName=decodeBuffer(N.data,5,N.data.length,true);break}}}if(n.validateEntrySizes&&s.compressionMethod===0){var D=s.uncompressedSize;if(s.isEncrypted()){D+=12}if(s.compressedSize!==D){var A="compressed/uncompressed size mismatch for stored file: "+s.compressedSize+" != "+s.uncompressedSize;return emitErrorAndAutoClose(n,new Error(A))}}if(n.decodeStrings){if(!n.strictFileNames){s.fileName=s.fileName.replace(/\\/g,"/")}var B=e.validateFileName(s.fileName);if(B!=null)return emitErrorAndAutoClose(n,new Error(B))}n.emit("entry",s);if(!n.lazyEntries)n._readEntry()})})};ZipFile.prototype.openReadStream=function(n,e,i){var t=this;var r=0;var f=n.compressedSize;if(i==null){i=e;e={}}else{if(e.decrypt!=null){if(!n.isEncrypted()){throw new Error("options.decrypt can only be specified for encrypted entries")}if(e.decrypt!==false)throw new Error("invalid options.decrypt value: "+e.decrypt);if(n.isCompressed()){if(e.decompress!==false)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}}if(e.decompress!=null){if(!n.isCompressed()){throw new Error("options.decompress can only be specified for compressed entries")}if(!(e.decompress===false||e.decompress===true)){throw new Error("invalid options.decompress value: "+e.decompress)}}if(e.start!=null||e.end!=null){if(n.isCompressed()&&e.decompress!==false){throw new Error("start/end range not allowed for compressed entry without options.decompress === false")}if(n.isEncrypted()&&e.decrypt!==false){throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}}if(e.start!=null){r=e.start;if(r<0)throw new Error("options.start < 0");if(r>n.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){f=e.end;if(f<0)throw new Error("options.end < 0");if(f>n.compressedSize)throw new Error("options.end > entry.compressedSize");if(f<r)throw new Error("options.end < options.start")}}if(!t.isOpen)return i(new Error("closed"));if(n.isEncrypted()){if(e.decrypt!==false)return i(new Error("entry is encrypted, and options.decrypt !== false"))}t.reader.ref();var a=u(30);readAndAssertNoEof(t.reader,a,0,a.length,n.relativeOffsetOfLocalHeader,function(l){try{if(l)return i(l);var h=a.readUInt32LE(0);if(h!==67324752){return i(new Error("invalid local file header signature: 0x"+h.toString(16)))}var w=a.readUInt16LE(26);var c=a.readUInt16LE(28);var d=n.relativeOffsetOfLocalHeader+a.length+w+c;var u;if(n.compressionMethod===0){u=false}else if(n.compressionMethod===8){u=e.decompress!=null?e.decompress:true}else{return i(new Error("unsupported compression method: "+n.compressionMethod))}var v=d;var o=v+n.compressedSize;if(n.compressedSize!==0){if(o>t.fileSize){return i(new Error("file data overflows file bounds: "+v+" + "+n.compressedSize+" > "+t.fileSize))}}var b=t.reader.createReadStream({start:v+r,end:v+f});var N=b;if(u){var R=false;var S=s.createInflateRaw();b.on("error",function(n){setImmediate(function(){if(!R)S.emit("error",n)})});b.pipe(S);if(t.validateEntrySizes){N=new AssertByteCountStream(n.uncompressedSize);S.on("error",function(n){setImmediate(function(){if(!R)N.emit("error",n)})});S.pipe(N)}else{N=S}N.destroy=function(){R=true;if(S!==N)S.unpipe(N);b.unpipe(S);b.destroy()}}i(null,N)}finally{t.reader.unref()}})};function Entry(){}Entry.prototype.getLastModDate=function(){return dosDateTimeToDate(this.lastModFileDate,this.lastModFileTime)};Entry.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Entry.prototype.isCompressed=function(){return this.compressionMethod===8};function dosDateTimeToDate(n,e){var i=n&31;var t=(n>>5&15)-1;var s=(n>>9&127)+1980;var r=0;var f=(e&31)*2;var a=e>>5&63;var l=e>>11&31;return new Date(s,t,i,l,a,f,r)}function validateFileName(n){if(n.indexOf("\\")!==-1){return"invalid characters in fileName: "+n}if(/^[a-zA-Z]:/.test(n)||/^\//.test(n)){return"absolute path: "+n}if(n.split("/").indexOf("..")!==-1){return"invalid relative path: "+n}return null}function readAndAssertNoEof(n,e,i,t,s,r){if(t===0){return setImmediate(function(){r(null,u(0))})}n.read(e,i,t,s,function(n,e){if(n)return r(n);if(e<t){return r(new Error("unexpected EOF"))}r()})}a.inherits(AssertByteCountStream,h);function AssertByteCountStream(n){h.call(this);this.actualByteCount=0;this.expectedByteCount=n}AssertByteCountStream.prototype._transform=function(n,e,i){this.actualByteCount+=n.length;if(this.actualByteCount>this.expectedByteCount){var t="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(t))}i(null,n)};AssertByteCountStream.prototype._flush=function(n){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return n(new Error(e))}n()};a.inherits(RandomAccessReader,l);function RandomAccessReader(){l.call(this);this.refCount=0}RandomAccessReader.prototype.ref=function(){this.refCount+=1};RandomAccessReader.prototype.unref=function(){var n=this;n.refCount-=1;if(n.refCount>0)return;if(n.refCount<0)throw new Error("invalid unref");n.close(onCloseDone);function onCloseDone(e){if(e)return n.emit("error",e);n.emit("close")}};RandomAccessReader.prototype.createReadStream=function(n){var e=n.start;var i=n.end;if(e===i){var t=new w;setImmediate(function(){t.end()});return t}var s=this._readStreamForRange(e,i);var r=false;var f=new RefUnrefFilter(this);s.on("error",function(n){setImmediate(function(){if(!r)f.emit("error",n)})});f.destroy=function(){s.unpipe(f);f.unref();s.destroy()};var a=new AssertByteCountStream(i-e);f.on("error",function(n){setImmediate(function(){if(!r)a.emit("error",n)})});a.destroy=function(){r=true;f.unpipe(a);f.destroy()};return s.pipe(f).pipe(a)};RandomAccessReader.prototype._readStreamForRange=function(n,e){throw new Error("not implemented")};RandomAccessReader.prototype.read=function(n,e,i,t,s){var r=this.createReadStream({start:t,end:t+i});var f=new c;var a=0;f._write=function(i,t,s){i.copy(n,e+a,0,i.length);a+=i.length;s()};f.on("finish",s);r.on("error",function(n){s(n)});r.pipe(f)};RandomAccessReader.prototype.close=function(n){setImmediate(n)};a.inherits(RefUnrefFilter,w);function RefUnrefFilter(n){w.call(this);this.context=n;this.context.ref();this.unreffedYet=false}RefUnrefFilter.prototype._flush=function(n){this.unref();n()};RefUnrefFilter.prototype.unref=function(n){if(this.unreffedYet)return;this.unreffedYet=true;this.context.unref()};var d="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function decodeBuffer(n,e,i,t){if(t){return n.toString("utf8",e,i)}else{var s="";for(var r=e;r<i;r++){s+=d[n[r]]}return s}}function readUInt64LE(n,e){var i=n.readUInt32LE(e);var t=n.readUInt32LE(e+4);return t*4294967296+i}var u;if(typeof Buffer.allocUnsafe==="function"){u=function(n){return Buffer.allocUnsafe(n)}}else{u=function(n){return new Buffer(n)}}function defaultCallback(n){if(n)throw n}},795:function(n,e,i){const{promisify:t}=i(669);const s=i(747);const r=n=>{if(!n)n={mode:511&~process.umask(),fs:s};else if(typeof n==="object")n={mode:511&~process.umask(),fs:s,...n};else if(typeof n==="number")n={mode:n,fs:s};else if(typeof n==="string")n={mode:parseInt(n,8),fs:s};else throw new TypeError("invalid options argument");n.mkdir=n.mkdir||n.fs.mkdir||s.mkdir;n.mkdirAsync=t(n.mkdir);n.stat=n.stat||n.fs.stat||s.stat;n.statAsync=t(n.stat);n.statSync=n.statSync||n.fs.statSync||s.statSync;n.mkdirSync=n.mkdirSync||n.fs.mkdirSync||s.mkdirSync;return n};n.exports=r},796:function(n){"use strict";n.exports=(n=>(class extends n{warn(n,e,i={}){if(this.file)i.file=this.file;if(this.cwd)i.cwd=this.cwd;i.code=e instanceof Error&&e.code||n;i.tarCode=n;if(!this.strict&&i.recoverable!==false){if(e instanceof Error){i=Object.assign(e,i);e=e.message}this.emit("warn",i.tarCode,e,i)}else if(e instanceof Error){this.emit("error",Object.assign(e,i))}else this.emit("error",Object.assign(new Error(`${n}: ${e}`),i))}}))},806:function(n,e,i){const{dirname:t}=i(622);const s=(n,e,i)=>{e.recursive=false;const r=t(n);if(r===n){return e.mkdirAsync(n,e).catch(n=>{if(n.code!=="EISDIR")throw n})}return e.mkdirAsync(n,e).then(()=>i||n,t=>{if(t.code==="ENOENT")return s(r,e).then(i=>s(n,e,i));if(t.code!=="EEXIST"&&t.code!=="EROFS")throw t;return e.statAsync(n).then(n=>{if(n.isDirectory())return i;else throw t},()=>{throw t})})};const r=(n,e,i)=>{const s=t(n);e.recursive=false;if(s===n){try{return e.mkdirSync(n,e)}catch(n){if(n.code!=="EISDIR")throw n;else return}}try{e.mkdirSync(n,e);return i||n}catch(t){if(t.code==="ENOENT")return r(n,e,r(s,e,i));if(t.code!=="EEXIST"&&t.code!=="EROFS")throw t;try{if(!e.statSync(n).isDirectory())throw t}catch(n){throw t}}};n.exports={mkdirpManual:s,mkdirpManualSync:r}},827:function(n,e,i){"use strict";const t=i(720);const s=i(614).EventEmitter;const r=i(747);let f=r.writev;if(!f){const n=process.binding("fs");const e=n.FSReqWrap||n.FSReqCallback;f=((i,t,s,r)=>{const f=(n,e)=>r(n,e,t);const a=new e;a.oncomplete=f;n.writeBuffers(i,t,s,a)})}const a=Symbol("_autoClose");const l=Symbol("_close");const h=Symbol("_ended");const w=Symbol("_fd");const c=Symbol("_finished");const d=Symbol("_flags");const u=Symbol("_flush");const v=Symbol("_handleChunk");const o=Symbol("_makeBuf");const b=Symbol("_mode");const N=Symbol("_needDrain");const R=Symbol("_onerror");const S=Symbol("_onopen");const D=Symbol("_onread");const A=Symbol("_onwrite");const B=Symbol("_open");const M=Symbol("_path");const E=Symbol("_pos");const C=Symbol("_queue");const W=Symbol("_read");const T=Symbol("_readSize");const Y=Symbol("_reading");const G=Symbol("_remain");const q=Symbol("_size");const Z=Symbol("_write");const V=Symbol("_writing");const X=Symbol("_defaultFlag");const j=Symbol("_errored");class ReadStream extends t{constructor(n,e){e=e||{};super(e);this.readable=true;this.writable=false;if(typeof n!=="string")throw new TypeError("path must be a string");this[j]=false;this[w]=typeof e.fd==="number"?e.fd:null;this[M]=n;this[T]=e.readSize||16*1024*1024;this[Y]=false;this[q]=typeof e.size==="number"?e.size:Infinity;this[G]=this[q];this[a]=typeof e.autoClose==="boolean"?e.autoClose:true;if(typeof this[w]==="number")this[W]();else this[B]()}get fd(){return this[w]}get path(){return this[M]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[B](){r.open(this[M],"r",(n,e)=>this[S](n,e))}[S](n,e){if(n)this[R](n);else{this[w]=e;this.emit("open",e);this[W]()}}[o](){return Buffer.allocUnsafe(Math.min(this[T],this[G]))}[W](){if(!this[Y]){this[Y]=true;const n=this[o]();if(n.length===0)return process.nextTick(()=>this[D](null,0,n));r.read(this[w],n,0,n.length,null,(n,e,i)=>this[D](n,e,i))}}[D](n,e,i){this[Y]=false;if(n)this[R](n);else if(this[v](e,i))this[W]()}[l](){if(this[a]&&typeof this[w]==="number"){const n=this[w];this[w]=null;r.close(n,n=>n?this.emit("error",n):this.emit("close"))}}[R](n){this[Y]=true;this[l]();this.emit("error",n)}[v](n,e){let i=false;this[G]-=n;if(n>0)i=super.write(n<e.length?e.slice(0,n):e);if(n===0||this[G]<=0){i=false;this[l]();super.end()}return i}emit(n,e){switch(n){case"prefinish":case"finish":break;case"drain":if(typeof this[w]==="number")this[W]();break;case"error":if(this[j])return;this[j]=true;return super.emit(n,e);default:return super.emit(n,e)}}}class ReadStreamSync extends ReadStream{[B](){let n=true;try{this[S](null,r.openSync(this[M],"r"));n=false}finally{if(n)this[l]()}}[W](){let n=true;try{if(!this[Y]){this[Y]=true;do{const n=this[o]();const e=n.length===0?0:r.readSync(this[w],n,0,n.length,null);if(!this[v](e,n))break}while(true);this[Y]=false}n=false}finally{if(n)this[l]()}}[l](){if(this[a]&&typeof this[w]==="number"){const n=this[w];this[w]=null;r.closeSync(n);this.emit("close")}}}class WriteStream extends s{constructor(n,e){e=e||{};super(e);this.readable=false;this.writable=true;this[j]=false;this[V]=false;this[h]=false;this[N]=false;this[C]=[];this[M]=n;this[w]=typeof e.fd==="number"?e.fd:null;this[b]=e.mode===undefined?438:e.mode;this[E]=typeof e.start==="number"?e.start:null;this[a]=typeof e.autoClose==="boolean"?e.autoClose:true;const i=this[E]!==null?"r+":"w";this[X]=e.flags===undefined;this[d]=this[X]?i:e.flags;if(this[w]===null)this[B]()}emit(n,e){if(n==="error"){if(this[j])return;this[j]=true}return super.emit(n,e)}get fd(){return this[w]}get path(){return this[M]}[R](n){this[l]();this[V]=true;this.emit("error",n)}[B](){r.open(this[M],this[d],this[b],(n,e)=>this[S](n,e))}[S](n,e){if(this[X]&&this[d]==="r+"&&n&&n.code==="ENOENT"){this[d]="w";this[B]()}else if(n)this[R](n);else{this[w]=e;this.emit("open",e);this[u]()}}end(n,e){if(n)this.write(n,e);this[h]=true;if(!this[V]&&!this[C].length&&typeof this[w]==="number")this[A](null,0);return this}write(n,e){if(typeof n==="string")n=Buffer.from(n,e);if(this[h]){this.emit("error",new Error("write() after end()"));return false}if(this[w]===null||this[V]||this[C].length){this[C].push(n);this[N]=true;return false}this[V]=true;this[Z](n);return true}[Z](n){r.write(this[w],n,0,n.length,this[E],(n,e)=>this[A](n,e))}[A](n,e){if(n)this[R](n);else{if(this[E]!==null)this[E]+=e;if(this[C].length)this[u]();else{this[V]=false;if(this[h]&&!this[c]){this[c]=true;this[l]();this.emit("finish")}else if(this[N]){this[N]=false;this.emit("drain")}}}}[u](){if(this[C].length===0){if(this[h])this[A](null,0)}else if(this[C].length===1)this[Z](this[C].pop());else{const n=this[C];this[C]=[];f(this[w],n,this[E],(n,e)=>this[A](n,e))}}[l](){if(this[a]&&typeof this[w]==="number"){const n=this[w];this[w]=null;r.close(n,n=>n?this.emit("error",n):this.emit("close"))}}}class WriteStreamSync extends WriteStream{[B](){let n;if(this[X]&&this[d]==="r+"){try{n=r.openSync(this[M],this[d],this[b])}catch(n){if(n.code==="ENOENT"){this[d]="w";return this[B]()}else throw n}}else n=r.openSync(this[M],this[d],this[b]);this[S](null,n)}[l](){if(this[a]&&typeof this[w]==="number"){const n=this[w];this[w]=null;r.closeSync(n);this.emit("close")}}[Z](n){let e=true;try{this[A](null,r.writeSync(this[w],n,0,n.length,this[E]));e=false}finally{if(e)try{this[l]()}catch(n){}}}}e.ReadStream=ReadStream;e.ReadStreamSync=ReadStreamSync;e.WriteStream=WriteStream;e.WriteStreamSync=WriteStreamSync},835:function(n){n.exports=require("url")},858:function(n,e){"use strict";const i=e.encode=((n,e)=>{if(!Number.isSafeInteger(n))throw Error("cannot encode number outside of javascript safe integer range");else if(n<0)s(n,e);else t(n,e);return e});const t=(n,e)=>{e[0]=128;for(var i=e.length;i>1;i--){e[i-1]=n&255;n=Math.floor(n/256)}};const s=(n,e)=>{e[0]=255;var i=false;n=n*-1;for(var t=e.length;t>1;t--){var s=n&255;n=Math.floor(n/256);if(i)e[t-1]=l(s);else if(s===0)e[t-1]=0;else{i=true;e[t-1]=h(s)}}};const r=e.parse=(n=>{var e=n[n.length-1];var i=n[0];var t;if(i===128)t=a(n.slice(1,n.length));else if(i===255)t=f(n);else throw Error("invalid base256 encoding");if(!Number.isSafeInteger(t))throw Error("parsed number outside of javascript safe integer range");return t});const f=n=>{var e=n.length;var i=0;var t=false;for(var s=e-1;s>-1;s--){var r=n[s];var f;if(t)f=l(r);else if(r===0)f=r;else{t=true;f=h(r)}if(f!==0)i-=f*Math.pow(256,e-s-1)}return i};const a=n=>{var e=n.length;var i=0;for(var t=e-1;t>-1;t--){var s=n[t];if(s!==0)i+=s*Math.pow(256,e-t-1)}return i};const l=n=>(255^n)&255;const h=n=>(255^n)+1&255},870:function(n,e,i){const t=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;const{resolve:s,parse:r}=i(622);const f=n=>{if(/\0/.test(n)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:n,code:"ERR_INVALID_ARG_VALUE"})}n=s(n);if(t==="win32"){const e=/[*|"<>?:]/;const{root:i}=r(n);if(e.test(n.substr(i.length))){throw Object.assign(new Error("Illegal characters in path."),{path:n,code:"EINVAL"})}}return n};n.exports=f},885:function(n,e,i){"use strict";e.c=e.create=i(159);e.r=e.replace=i(630);e.t=e.list=i(381);e.u=e.update=i(966);e.x=e.extract=i(656);e.Pack=i(582);e.Unpack=i(63);e.Parse=i(203);e.ReadEntry=i(662);e.WriteEntry=i(303);e.Header=i(232);e.Pax=i(480);e.types=i(554)},891:function(n){"use strict";const e=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);const i=n.exports=(n=>n?Object.keys(n).map(i=>[e.has(i)?e.get(i):i,n[i]]).reduce((n,e)=>(n[e[0]]=e[1],n),Object.create(null)):{})},904:function(n){"use strict";n.exports=((n,e,i)=>{n&=4095;if(i){n=(n|384)&~18}if(e){if(n&256)n|=64;if(n&32)n|=8;if(n&4)n|=1}return n})},941:function(n,e,i){"use strict";const t=i(747);const s=i(622);const r=t.lchown?"lchown":"chown";const f=t.lchownSync?"lchownSync":"chownSync";const a=t.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const l=(n,e,i)=>{try{return t[f](n,e,i)}catch(n){if(n.code!=="ENOENT")throw n}};const h=(n,e,i)=>{try{return t.chownSync(n,e,i)}catch(n){if(n.code!=="ENOENT")throw n}};const w=a?(n,e,i,s)=>r=>{if(!r||r.code!=="EISDIR")s(r);else t.chown(n,e,i,s)}:(n,e,i,t)=>t;const c=a?(n,e,i)=>{try{return l(n,e,i)}catch(t){if(t.code!=="EISDIR")throw t;h(n,e,i)}}:(n,e,i)=>l(n,e,i);const d=process.version;let u=(n,e,i)=>t.readdir(n,e,i);let v=(n,e)=>t.readdirSync(n,e);if(/^v4\./.test(d))u=((n,e,i)=>t.readdir(n,i));const o=(n,e,i,s)=>{t[r](n,e,i,w(n,e,i,n=>{s(n&&n.code!=="ENOENT"?n:null)}))};const b=(n,e,i,r,f)=>{if(typeof e==="string")return t.lstat(s.resolve(n,e),(t,s)=>{if(t)return f(t.code!=="ENOENT"?t:null);s.name=e;b(n,s,i,r,f)});if(e.isDirectory()){N(s.resolve(n,e.name),i,r,t=>{if(t)return f(t);const a=s.resolve(n,e.name);o(a,i,r,f)})}else{const t=s.resolve(n,e.name);o(t,i,r,f)}};const N=(n,e,i,t)=>{u(n,{withFileTypes:true},(s,r)=>{if(s){if(s.code==="ENOENT")return t();else if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return t(s)}if(s||!r.length)return o(n,e,i,t);let f=r.length;let a=null;const l=s=>{if(a)return;if(s)return t(a=s);if(--f===0)return o(n,e,i,t)};r.forEach(t=>b(n,t,e,i,l))})};const R=(n,e,i,r)=>{if(typeof e==="string"){try{const i=t.lstatSync(s.resolve(n,e));i.name=e;e=i}catch(n){if(n.code==="ENOENT")return;else throw n}}if(e.isDirectory())S(s.resolve(n,e.name),i,r);c(s.resolve(n,e.name),i,r)};const S=(n,e,i)=>{let t;try{t=v(n,{withFileTypes:true})}catch(t){if(t.code==="ENOENT")return;else if(t.code==="ENOTDIR"||t.code==="ENOTSUP")return c(n,e,i);else throw t}if(t&&t.length)t.forEach(t=>R(n,t,e,i));return c(n,e,i)};n.exports=N;N.sync=S},953:function(n,e,i){const t=process.env.__FAKE_PLATFORM__||process.platform;const s=t==="win32";const r=global.__FAKE_TESTING_FS__||i(747);const{O_CREAT:f,O_TRUNC:a,O_WRONLY:l,UV_FS_O_FILEMAP:h=0}=r.constants;const w=s&&!!h;const c=512*1024;const d=h|a|f|l;n.exports=!w?()=>"w":n=>n<c?d:"w"},965:function(n){n.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}Pend.prototype.go=function(n){if(this.pending<this.max){pendGo(this,n)}else{this.waiting.push(n)}};Pend.prototype.wait=function(n){if(this.pending===0){n(this.error)}else{this.listeners.push(n)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(n){n.pending+=1;var e=false;return onCb;function onCb(i){if(e)throw new Error("callback called twice");e=true;n.error=n.error||i;n.pending-=1;if(n.waiting.length>0&&n.pending<n.max){pendGo(n,n.waiting.shift())}else if(n.pending===0){var t=n.listeners;n.listeners=[];t.forEach(cbListener)}}function cbListener(e){e(n.error)}}function pendGo(n,e){e(pendHold(n))}},966:function(n,e,i){"use strict";const t=i(891);const s=i(630);const r=n.exports=((n,e,i)=>{const r=t(n);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);f(r);return s(r,e,i)});const f=n=>{const e=n.filter;if(!n.mtimeCache)n.mtimeCache=new Map;n.filter=e?(i,t)=>e(i,t)&&!(n.mtimeCache.get(i)>t.mtime):(e,i)=>!(n.mtimeCache.get(e)>i.mtime)}}});
